(()=>{"use strict";var e={3287:(e,r,t)=>{t.r(r)},5691:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});const n='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>IOT APP</title>\n    <link rel="preconnect" href="https://fonts.googleapis.com">\n    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n    <link href="https://fonts.googleapis.com/css2?family=Arvo&family=Itim&family=Lora&family=Rammetto+One&display=swap" rel="stylesheet">\n</head>\n<body>\n    <div id="container" class="container">\n        <header class="row">\n            <img class="socket-image" src="images/socket.png" alt="socket">\n            <div class="col-12">\n                <div class="heading">\n                    <span id="heading-title" class="heading-title">Hi Stranger</span>\n                    <span class="heading-subtitle">\n                        You\'re losing money every second\n                    </span>\n                </div>\n            </div>\n        </header>\n\n        <div class="row">\n            <div class="col-6">\n                <div class="card">\n                    <div class="card-title">Spent today</div>\n                    <div id="spent-today" class="card-value">0.27<span class="card-value-unit">€</span></div>\n                </div>\n            </div>\n            <div class="col-6">\n                <div class="card">\n                    <div class="card-title">Spent this month</div>\n                    <div id="spent-month" class="card-value">131<span class="card-value-unit">€</span></div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    <div id="settings-modal" class="settings-modal">\n        <span class="modal-title">Settings</span>\n        <span class="modal-question">What should I call you?</span>\n        <div class="inputContainer">\n            <input id="input-name" />\n        </div>\n        <span class="modal-question">What\'s your electricity bill starting day?</span>\n        <div class="inputContainer">\n            <input id="input-day" />\n        </div>\n        <button id="modal-button" class="modal-button">\n            Done\n        </button>\n    </div>\n\n    <script type="application/javascript" src="./main.js"><\/script>\n</body>\n</html>\n'},3147:function(e,r,t){var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),o=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),r.interval=r.iif=r.generate=r.fromEventPattern=r.fromEvent=r.from=r.forkJoin=r.empty=r.defer=r.connectable=r.concat=r.combineLatest=r.bindNodeCallback=r.bindCallback=r.UnsubscriptionError=r.TimeoutError=r.SequenceError=r.ObjectUnsubscribedError=r.NotFoundError=r.EmptyError=r.ArgumentOutOfRangeError=r.firstValueFrom=r.lastValueFrom=r.isObservable=r.identity=r.noop=r.pipe=r.NotificationKind=r.Notification=r.Subscriber=r.Subscription=r.Scheduler=r.VirtualAction=r.VirtualTimeScheduler=r.animationFrameScheduler=r.animationFrame=r.queueScheduler=r.queue=r.asyncScheduler=r.async=r.asapScheduler=r.asap=r.AsyncSubject=r.ReplaySubject=r.BehaviorSubject=r.Subject=r.animationFrames=r.observable=r.ConnectableObservable=r.Observable=void 0,r.filter=r.expand=r.exhaustMap=r.exhaustAll=r.exhaust=r.every=r.endWith=r.elementAt=r.distinctUntilKeyChanged=r.distinctUntilChanged=r.distinct=r.dematerialize=r.delayWhen=r.delay=r.defaultIfEmpty=r.debounceTime=r.debounce=r.count=r.connect=r.concatWith=r.concatMapTo=r.concatMap=r.concatAll=r.combineLatestWith=r.combineLatestAll=r.combineAll=r.catchError=r.bufferWhen=r.bufferToggle=r.bufferTime=r.bufferCount=r.buffer=r.auditTime=r.audit=r.config=r.NEVER=r.EMPTY=r.scheduled=r.zip=r.using=r.timer=r.throwError=r.range=r.race=r.partition=r.pairs=r.onErrorResumeNext=r.of=r.never=r.merge=void 0,r.switchMap=r.switchAll=r.subscribeOn=r.startWith=r.skipWhile=r.skipUntil=r.skipLast=r.skip=r.single=r.shareReplay=r.share=r.sequenceEqual=r.scan=r.sampleTime=r.sample=r.refCount=r.retryWhen=r.retry=r.repeatWhen=r.repeat=r.reduce=r.raceWith=r.publishReplay=r.publishLast=r.publishBehavior=r.publish=r.pluck=r.pairwise=r.onErrorResumeNextWith=r.observeOn=r.multicast=r.min=r.mergeWith=r.mergeScan=r.mergeMapTo=r.mergeMap=r.flatMap=r.mergeAll=r.max=r.materialize=r.mapTo=r.map=r.last=r.isEmpty=r.ignoreElements=r.groupBy=r.first=r.findIndex=r.find=r.finalize=void 0,r.zipWith=r.zipAll=r.withLatestFrom=r.windowWhen=r.windowToggle=r.windowTime=r.windowCount=r.window=r.toArray=r.timestamp=r.timeoutWith=r.timeout=r.timeInterval=r.throwIfEmpty=r.throttleTime=r.throttle=r.tap=r.takeWhile=r.takeUntil=r.takeLast=r.take=r.switchScan=r.switchMapTo=void 0;var i=t(2334);Object.defineProperty(r,"Observable",{enumerable:!0,get:function(){return i.Observable}});var u=t(3986);Object.defineProperty(r,"ConnectableObservable",{enumerable:!0,get:function(){return u.ConnectableObservable}});var a=t(5310);Object.defineProperty(r,"observable",{enumerable:!0,get:function(){return a.observable}});var c=t(1834);Object.defineProperty(r,"animationFrames",{enumerable:!0,get:function(){return c.animationFrames}});var s=t(5683);Object.defineProperty(r,"Subject",{enumerable:!0,get:function(){return s.Subject}});var l=t(8825);Object.defineProperty(r,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var f=t(40);Object.defineProperty(r,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=t(6674);Object.defineProperty(r,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var p=t(115);Object.defineProperty(r,"asap",{enumerable:!0,get:function(){return p.asap}}),Object.defineProperty(r,"asapScheduler",{enumerable:!0,get:function(){return p.asapScheduler}});var b=t(4721);Object.defineProperty(r,"async",{enumerable:!0,get:function(){return b.async}}),Object.defineProperty(r,"asyncScheduler",{enumerable:!0,get:function(){return b.asyncScheduler}});var v=t(1690);Object.defineProperty(r,"queue",{enumerable:!0,get:function(){return v.queue}}),Object.defineProperty(r,"queueScheduler",{enumerable:!0,get:function(){return v.queueScheduler}});var h=t(3738);Object.defineProperty(r,"animationFrame",{enumerable:!0,get:function(){return h.animationFrame}}),Object.defineProperty(r,"animationFrameScheduler",{enumerable:!0,get:function(){return h.animationFrameScheduler}});var y=t(7458);Object.defineProperty(r,"VirtualTimeScheduler",{enumerable:!0,get:function(){return y.VirtualTimeScheduler}}),Object.defineProperty(r,"VirtualAction",{enumerable:!0,get:function(){return y.VirtualAction}});var m=t(5297);Object.defineProperty(r,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var _=t(4794);Object.defineProperty(r,"Subscription",{enumerable:!0,get:function(){return _.Subscription}});var O=t(3351);Object.defineProperty(r,"Subscriber",{enumerable:!0,get:function(){return O.Subscriber}});var g=t(762);Object.defineProperty(r,"Notification",{enumerable:!0,get:function(){return g.Notification}}),Object.defineProperty(r,"NotificationKind",{enumerable:!0,get:function(){return g.NotificationKind}});var w=t(3348);Object.defineProperty(r,"pipe",{enumerable:!0,get:function(){return w.pipe}});var j=t(1123);Object.defineProperty(r,"noop",{enumerable:!0,get:function(){return j.noop}});var P=t(742);Object.defineProperty(r,"identity",{enumerable:!0,get:function(){return P.identity}});var S=t(570);Object.defineProperty(r,"isObservable",{enumerable:!0,get:function(){return S.isObservable}});var E=t(1429);Object.defineProperty(r,"lastValueFrom",{enumerable:!0,get:function(){return E.lastValueFrom}});var x=t(5939);Object.defineProperty(r,"firstValueFrom",{enumerable:!0,get:function(){return x.firstValueFrom}});var A=t(9904);Object.defineProperty(r,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return A.ArgumentOutOfRangeError}});var M=t(1486);Object.defineProperty(r,"EmptyError",{enumerable:!0,get:function(){return M.EmptyError}});var T=t(8909);Object.defineProperty(r,"NotFoundError",{enumerable:!0,get:function(){return T.NotFoundError}});var F=t(6965);Object.defineProperty(r,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return F.ObjectUnsubscribedError}});var R=t(8010);Object.defineProperty(r,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var C=t(9802);Object.defineProperty(r,"TimeoutError",{enumerable:!0,get:function(){return C.TimeoutError}});var I=t(6235);Object.defineProperty(r,"UnsubscriptionError",{enumerable:!0,get:function(){return I.UnsubscriptionError}});var k=t(1703);Object.defineProperty(r,"bindCallback",{enumerable:!0,get:function(){return k.bindCallback}});var N=t(7854);Object.defineProperty(r,"bindNodeCallback",{enumerable:!0,get:function(){return N.bindNodeCallback}});var L=t(6691);Object.defineProperty(r,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var U=t(3592);Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return U.concat}});var W=t(5314);Object.defineProperty(r,"connectable",{enumerable:!0,get:function(){return W.connectable}});var B=t(3171);Object.defineProperty(r,"defer",{enumerable:!0,get:function(){return B.defer}});var q=t(7711);Object.defineProperty(r,"empty",{enumerable:!0,get:function(){return q.empty}});var z=t(4392);Object.defineProperty(r,"forkJoin",{enumerable:!0,get:function(){return z.forkJoin}});var D=t(4206);Object.defineProperty(r,"from",{enumerable:!0,get:function(){return D.from}});var V=t(6631);Object.defineProperty(r,"fromEvent",{enumerable:!0,get:function(){return V.fromEvent}});var Y=t(8960);Object.defineProperty(r,"fromEventPattern",{enumerable:!0,get:function(){return Y.fromEventPattern}});var H=t(8116);Object.defineProperty(r,"generate",{enumerable:!0,get:function(){return H.generate}});var J=t(6490);Object.defineProperty(r,"iif",{enumerable:!0,get:function(){return J.iif}});var K=t(4091);Object.defineProperty(r,"interval",{enumerable:!0,get:function(){return K.interval}});var G=t(9087);Object.defineProperty(r,"merge",{enumerable:!0,get:function(){return G.merge}});var Q=t(4709);Object.defineProperty(r,"never",{enumerable:!0,get:function(){return Q.never}});var $=t(3115);Object.defineProperty(r,"of",{enumerable:!0,get:function(){return $.of}});var X=t(1833);Object.defineProperty(r,"onErrorResumeNext",{enumerable:!0,get:function(){return X.onErrorResumeNext}});var Z=t(1641);Object.defineProperty(r,"pairs",{enumerable:!0,get:function(){return Z.pairs}});var ee=t(2995);Object.defineProperty(r,"partition",{enumerable:!0,get:function(){return ee.partition}});var re=t(2851);Object.defineProperty(r,"race",{enumerable:!0,get:function(){return re.race}});var te=t(8933);Object.defineProperty(r,"range",{enumerable:!0,get:function(){return te.range}});var ne=t(6363);Object.defineProperty(r,"throwError",{enumerable:!0,get:function(){return ne.throwError}});var oe=t(2033);Object.defineProperty(r,"timer",{enumerable:!0,get:function(){return oe.timer}});var ie=t(9992);Object.defineProperty(r,"using",{enumerable:!0,get:function(){return ie.using}});var ue=t(9049);Object.defineProperty(r,"zip",{enumerable:!0,get:function(){return ue.zip}});var ae=t(4560);Object.defineProperty(r,"scheduled",{enumerable:!0,get:function(){return ae.scheduled}});var ce=t(7711);Object.defineProperty(r,"EMPTY",{enumerable:!0,get:function(){return ce.EMPTY}});var se=t(4709);Object.defineProperty(r,"NEVER",{enumerable:!0,get:function(){return se.NEVER}}),o(t(1862),r);var le=t(9666);Object.defineProperty(r,"config",{enumerable:!0,get:function(){return le.config}});var fe=t(5055);Object.defineProperty(r,"audit",{enumerable:!0,get:function(){return fe.audit}});var de=t(3960);Object.defineProperty(r,"auditTime",{enumerable:!0,get:function(){return de.auditTime}});var pe=t(7203);Object.defineProperty(r,"buffer",{enumerable:!0,get:function(){return pe.buffer}});var be=t(1673);Object.defineProperty(r,"bufferCount",{enumerable:!0,get:function(){return be.bufferCount}});var ve=t(8082);Object.defineProperty(r,"bufferTime",{enumerable:!0,get:function(){return ve.bufferTime}});var he=t(3430);Object.defineProperty(r,"bufferToggle",{enumerable:!0,get:function(){return he.bufferToggle}});var ye=t(2922);Object.defineProperty(r,"bufferWhen",{enumerable:!0,get:function(){return ye.bufferWhen}});var me=t(550);Object.defineProperty(r,"catchError",{enumerable:!0,get:function(){return me.catchError}});var _e=t(699);Object.defineProperty(r,"combineAll",{enumerable:!0,get:function(){return _e.combineAll}});var Oe=t(3758);Object.defineProperty(r,"combineLatestAll",{enumerable:!0,get:function(){return Oe.combineLatestAll}});var ge=t(5295);Object.defineProperty(r,"combineLatestWith",{enumerable:!0,get:function(){return ge.combineLatestWith}});var we=t(8834);Object.defineProperty(r,"concatAll",{enumerable:!0,get:function(){return we.concatAll}});var je=t(5078);Object.defineProperty(r,"concatMap",{enumerable:!0,get:function(){return je.concatMap}});var Pe=t(1383);Object.defineProperty(r,"concatMapTo",{enumerable:!0,get:function(){return Pe.concatMapTo}});var Se=t(5195);Object.defineProperty(r,"concatWith",{enumerable:!0,get:function(){return Se.concatWith}});var Ee=t(2753);Object.defineProperty(r,"connect",{enumerable:!0,get:function(){return Ee.connect}});var xe=t(9715);Object.defineProperty(r,"count",{enumerable:!0,get:function(){return xe.count}});var Ae=t(7076);Object.defineProperty(r,"debounce",{enumerable:!0,get:function(){return Ae.debounce}});var Me=t(681);Object.defineProperty(r,"debounceTime",{enumerable:!0,get:function(){return Me.debounceTime}});var Te=t(3450);Object.defineProperty(r,"defaultIfEmpty",{enumerable:!0,get:function(){return Te.defaultIfEmpty}});var Fe=t(9195);Object.defineProperty(r,"delay",{enumerable:!0,get:function(){return Fe.delay}});var Re=t(7603);Object.defineProperty(r,"delayWhen",{enumerable:!0,get:function(){return Re.delayWhen}});var Ce=t(3589);Object.defineProperty(r,"dematerialize",{enumerable:!0,get:function(){return Ce.dematerialize}});var Ie=t(3439);Object.defineProperty(r,"distinct",{enumerable:!0,get:function(){return Ie.distinct}});var ke=t(4117);Object.defineProperty(r,"distinctUntilChanged",{enumerable:!0,get:function(){return ke.distinctUntilChanged}});var Ne=t(6618);Object.defineProperty(r,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Ne.distinctUntilKeyChanged}});var Le=t(1335);Object.defineProperty(r,"elementAt",{enumerable:!0,get:function(){return Le.elementAt}});var Ue=t(768);Object.defineProperty(r,"endWith",{enumerable:!0,get:function(){return Ue.endWith}});var We=t(5327);Object.defineProperty(r,"every",{enumerable:!0,get:function(){return We.every}});var Be=t(7145);Object.defineProperty(r,"exhaust",{enumerable:!0,get:function(){return Be.exhaust}});var qe=t(4223);Object.defineProperty(r,"exhaustAll",{enumerable:!0,get:function(){return qe.exhaustAll}});var ze=t(8008);Object.defineProperty(r,"exhaustMap",{enumerable:!0,get:function(){return ze.exhaustMap}});var De=t(4216);Object.defineProperty(r,"expand",{enumerable:!0,get:function(){return De.expand}});var Ve=t(4716);Object.defineProperty(r,"filter",{enumerable:!0,get:function(){return Ve.filter}});var Ye=t(8765);Object.defineProperty(r,"finalize",{enumerable:!0,get:function(){return Ye.finalize}});var He=t(2687);Object.defineProperty(r,"find",{enumerable:!0,get:function(){return He.find}});var Je=t(9511);Object.defineProperty(r,"findIndex",{enumerable:!0,get:function(){return Je.findIndex}});var Ke=t(1605);Object.defineProperty(r,"first",{enumerable:!0,get:function(){return Ke.first}});var Ge=t(1308);Object.defineProperty(r,"groupBy",{enumerable:!0,get:function(){return Ge.groupBy}});var Qe=t(2353);Object.defineProperty(r,"ignoreElements",{enumerable:!0,get:function(){return Qe.ignoreElements}});var $e=t(9629);Object.defineProperty(r,"isEmpty",{enumerable:!0,get:function(){return $e.isEmpty}});var Xe=t(2045);Object.defineProperty(r,"last",{enumerable:!0,get:function(){return Xe.last}});var Ze=t(7468);Object.defineProperty(r,"map",{enumerable:!0,get:function(){return Ze.map}});var er=t(2648);Object.defineProperty(r,"mapTo",{enumerable:!0,get:function(){return er.mapTo}});var rr=t(54);Object.defineProperty(r,"materialize",{enumerable:!0,get:function(){return rr.materialize}});var tr=t(809);Object.defineProperty(r,"max",{enumerable:!0,get:function(){return tr.max}});var nr=t(3302);Object.defineProperty(r,"mergeAll",{enumerable:!0,get:function(){return nr.mergeAll}});var or=t(77);Object.defineProperty(r,"flatMap",{enumerable:!0,get:function(){return or.flatMap}});var ir=t(6573);Object.defineProperty(r,"mergeMap",{enumerable:!0,get:function(){return ir.mergeMap}});var ur=t(6406);Object.defineProperty(r,"mergeMapTo",{enumerable:!0,get:function(){return ur.mergeMapTo}});var ar=t(9963);Object.defineProperty(r,"mergeScan",{enumerable:!0,get:function(){return ar.mergeScan}});var cr=t(7205);Object.defineProperty(r,"mergeWith",{enumerable:!0,get:function(){return cr.mergeWith}});var sr=t(3540);Object.defineProperty(r,"min",{enumerable:!0,get:function(){return sr.min}});var lr=t(1976);Object.defineProperty(r,"multicast",{enumerable:!0,get:function(){return lr.multicast}});var fr=t(4732);Object.defineProperty(r,"observeOn",{enumerable:!0,get:function(){return fr.observeOn}});var dr=t(4804);Object.defineProperty(r,"onErrorResumeNextWith",{enumerable:!0,get:function(){return dr.onErrorResumeNextWith}});var pr=t(3357);Object.defineProperty(r,"pairwise",{enumerable:!0,get:function(){return pr.pairwise}});var br=t(8497);Object.defineProperty(r,"pluck",{enumerable:!0,get:function(){return br.pluck}});var vr=t(6143);Object.defineProperty(r,"publish",{enumerable:!0,get:function(){return vr.publish}});var hr=t(9365);Object.defineProperty(r,"publishBehavior",{enumerable:!0,get:function(){return hr.publishBehavior}});var yr=t(8850);Object.defineProperty(r,"publishLast",{enumerable:!0,get:function(){return yr.publishLast}});var mr=t(9042);Object.defineProperty(r,"publishReplay",{enumerable:!0,get:function(){return mr.publishReplay}});var _r=t(7945);Object.defineProperty(r,"raceWith",{enumerable:!0,get:function(){return _r.raceWith}});var Or=t(5159);Object.defineProperty(r,"reduce",{enumerable:!0,get:function(){return Or.reduce}});var gr=t(354);Object.defineProperty(r,"repeat",{enumerable:!0,get:function(){return gr.repeat}});var wr=t(980);Object.defineProperty(r,"repeatWhen",{enumerable:!0,get:function(){return wr.repeatWhen}});var jr=t(6946);Object.defineProperty(r,"retry",{enumerable:!0,get:function(){return jr.retry}});var Pr=t(8654);Object.defineProperty(r,"retryWhen",{enumerable:!0,get:function(){return Pr.retryWhen}});var Sr=t(4438);Object.defineProperty(r,"refCount",{enumerable:!0,get:function(){return Sr.refCount}});var Er=t(4423);Object.defineProperty(r,"sample",{enumerable:!0,get:function(){return Er.sample}});var xr=t(6215);Object.defineProperty(r,"sampleTime",{enumerable:!0,get:function(){return xr.sampleTime}});var Ar=t(6669);Object.defineProperty(r,"scan",{enumerable:!0,get:function(){return Ar.scan}});var Mr=t(4162);Object.defineProperty(r,"sequenceEqual",{enumerable:!0,get:function(){return Mr.sequenceEqual}});var Tr=t(4125);Object.defineProperty(r,"share",{enumerable:!0,get:function(){return Tr.share}});var Fr=t(1957);Object.defineProperty(r,"shareReplay",{enumerable:!0,get:function(){return Fr.shareReplay}});var Rr=t(7916);Object.defineProperty(r,"single",{enumerable:!0,get:function(){return Rr.single}});var Cr=t(3746);Object.defineProperty(r,"skip",{enumerable:!0,get:function(){return Cr.skip}});var Ir=t(6811);Object.defineProperty(r,"skipLast",{enumerable:!0,get:function(){return Ir.skipLast}});var kr=t(3021);Object.defineProperty(r,"skipUntil",{enumerable:!0,get:function(){return kr.skipUntil}});var Nr=t(3598);Object.defineProperty(r,"skipWhile",{enumerable:!0,get:function(){return Nr.skipWhile}});var Lr=t(537);Object.defineProperty(r,"startWith",{enumerable:!0,get:function(){return Lr.startWith}});var Ur=t(4021);Object.defineProperty(r,"subscribeOn",{enumerable:!0,get:function(){return Ur.subscribeOn}});var Wr=t(5070);Object.defineProperty(r,"switchAll",{enumerable:!0,get:function(){return Wr.switchAll}});var Br=t(615);Object.defineProperty(r,"switchMap",{enumerable:!0,get:function(){return Br.switchMap}});var qr=t(9920);Object.defineProperty(r,"switchMapTo",{enumerable:!0,get:function(){return qr.switchMapTo}});var zr=t(539);Object.defineProperty(r,"switchScan",{enumerable:!0,get:function(){return zr.switchScan}});var Dr=t(4484);Object.defineProperty(r,"take",{enumerable:!0,get:function(){return Dr.take}});var Vr=t(538);Object.defineProperty(r,"takeLast",{enumerable:!0,get:function(){return Vr.takeLast}});var Yr=t(5565);Object.defineProperty(r,"takeUntil",{enumerable:!0,get:function(){return Yr.takeUntil}});var Hr=t(7321);Object.defineProperty(r,"takeWhile",{enumerable:!0,get:function(){return Hr.takeWhile}});var Jr=t(8179);Object.defineProperty(r,"tap",{enumerable:!0,get:function(){return Jr.tap}});var Kr=t(2295);Object.defineProperty(r,"throttle",{enumerable:!0,get:function(){return Kr.throttle}});var Gr=t(7282);Object.defineProperty(r,"throttleTime",{enumerable:!0,get:function(){return Gr.throttleTime}});var Qr=t(3907);Object.defineProperty(r,"throwIfEmpty",{enumerable:!0,get:function(){return Qr.throwIfEmpty}});var $r=t(6642);Object.defineProperty(r,"timeInterval",{enumerable:!0,get:function(){return $r.timeInterval}});var Xr=t(9802);Object.defineProperty(r,"timeout",{enumerable:!0,get:function(){return Xr.timeout}});var Zr=t(8445);Object.defineProperty(r,"timeoutWith",{enumerable:!0,get:function(){return Zr.timeoutWith}});var et=t(6525);Object.defineProperty(r,"timestamp",{enumerable:!0,get:function(){return et.timestamp}});var rt=t(8524);Object.defineProperty(r,"toArray",{enumerable:!0,get:function(){return rt.toArray}});var tt=t(7236);Object.defineProperty(r,"window",{enumerable:!0,get:function(){return tt.window}});var nt=t(36);Object.defineProperty(r,"windowCount",{enumerable:!0,get:function(){return nt.windowCount}});var ot=t(7073);Object.defineProperty(r,"windowTime",{enumerable:!0,get:function(){return ot.windowTime}});var it=t(4101);Object.defineProperty(r,"windowToggle",{enumerable:!0,get:function(){return it.windowToggle}});var ut=t(9092);Object.defineProperty(r,"windowWhen",{enumerable:!0,get:function(){return ut.windowWhen}});var at=t(3112);Object.defineProperty(r,"withLatestFrom",{enumerable:!0,get:function(){return at.withLatestFrom}});var ct=t(6882);Object.defineProperty(r,"zipAll",{enumerable:!0,get:function(){return ct.zipAll}});var st=t(2787);Object.defineProperty(r,"zipWith",{enumerable:!0,get:function(){return st.zipWith}})},6674:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncSubject=void 0;var i=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return o(r,e),r.prototype._checkFinalizedStatuses=function(e){var r=this,t=r.hasError,n=r._hasValue,o=r._value,i=r.thrownError,u=r.isStopped,a=r._isComplete;t?e.error(i):(u||a)&&(n&&e.next(o),e.complete())},r.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},r.prototype.complete=function(){var r=this,t=r._hasValue,n=r._value;r._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},r}(t(5683).Subject);r.AsyncSubject=i},8825:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.BehaviorSubject=void 0;var i=function(e){function r(r){var t=e.call(this)||this;return t._value=r,t}return o(r,e),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(r){var t=e.prototype._subscribe.call(this,r);return!t.closed&&r.next(this._value),t},r.prototype.getValue=function(){var e=this,r=e.hasError,t=e.thrownError,n=e._value;if(r)throw t;return this._throwIfClosed(),n},r.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},r}(t(5683).Subject);r.BehaviorSubject=i},762:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.observeNotification=r.Notification=r.NotificationKind=void 0;var n,o=t(7711),i=t(3115),u=t(6363),a=t(7117);(n=r.NotificationKind||(r.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var c=function(){function e(e,r,t){this.kind=e,this.value=r,this.error=t,this.hasValue="N"===e}return e.prototype.observe=function(e){return s(this,e)},e.prototype.do=function(e,r,t){var n=this,o=n.kind,i=n.value,u=n.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==r?void 0:r(u):null==t?void 0:t()},e.prototype.accept=function(e,r,t){var n;return a.isFunction(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,r,t)},e.prototype.toObservable=function(){var e=this,r=e.kind,t=e.value,n=e.error,a="N"===r?i.of(t):"E"===r?u.throwError((function(){return n})):"C"===r?o.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+r);return a},e.createNext=function(r){return new e("N",r)},e.createError=function(r){return new e("E",void 0,r)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function s(e,r){var t,n,o,i=e,u=i.kind,a=i.value,c=i.error;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(t=r.next)||void 0===t||t.call(r,a):"E"===u?null===(n=r.error)||void 0===n||n.call(r,c):null===(o=r.complete)||void 0===o||o.call(r)}r.Notification=c,r.observeNotification=s},6599:(e,r)=>{function t(e,r,t){return{kind:e,value:r,error:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.createNotification=r.nextNotification=r.errorNotification=r.COMPLETE_NOTIFICATION=void 0,r.COMPLETE_NOTIFICATION=t("C",void 0,void 0),r.errorNotification=function(e){return t("E",void 0,e)},r.nextNotification=function(e){return t("N",e,void 0)},r.createNotification=t},2334:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Observable=void 0;var n=t(3351),o=t(4794),i=t(5310),u=t(3348),a=t(9666),c=t(7117),s=t(5477),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(e,r,t){var i,u=this,a=(i=e)&&i instanceof n.Subscriber||function(e){return e&&c.isFunction(e.next)&&c.isFunction(e.error)&&c.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new n.SafeSubscriber(e,r,t);return s.errorContext((function(){var e=u,r=e.operator,t=e.source;a.add(r?r.call(a,t):t?u._subscribe(a):u._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},e.prototype.forEach=function(e,r){var t=this;return new(r=f(r))((function(r,o){var i=new n.SafeSubscriber({next:function(r){try{e(r)}catch(e){o(e),i.unsubscribe()}},error:o,complete:r});t.subscribe(i)}))},e.prototype._subscribe=function(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var r=this;return new(e=f(e))((function(e,t){var n;r.subscribe((function(e){return n=e}),(function(e){return t(e)}),(function(){return e(n)}))}))},e.create=function(r){return new e(r)},e}();function f(e){var r;return null!==(r=null!=e?e:a.config.Promise)&&void 0!==r?r:Promise}r.Observable=l},40:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReplaySubject=void 0;var i=t(5683),u=t(9614),a=function(e){function r(r,t,n){void 0===r&&(r=1/0),void 0===t&&(t=1/0),void 0===n&&(n=u.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=t,o._timestampProvider=n,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=t===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,t),o}return o(r,e),r.prototype.next=function(r){var t=this,n=t.isStopped,o=t._buffer,i=t._infiniteTimeWindow,u=t._timestampProvider,a=t._windowTime;n||(o.push(r),!i&&o.push(u.now()+a)),this._trimBuffer(),e.prototype.next.call(this,r)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(e),t=this._infiniteTimeWindow,n=this._buffer.slice(),o=0;o<n.length&&!e.closed;o+=t?1:2)e.next(n[o]);return this._checkFinalizedStatuses(e),r},r.prototype._trimBuffer=function(){var e=this,r=e._bufferSize,t=e._timestampProvider,n=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*r;if(r<1/0&&i<n.length&&n.splice(0,n.length-i),!o){for(var u=t.now(),a=0,c=1;c<n.length&&n[c]<=u;c+=2)a=c;a&&n.splice(0,a+1)}},r}(i.Subject);r.ReplaySubject=a},5297:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Scheduler=void 0;var n=t(9614),o=function(){function e(r,t){void 0===t&&(t=e.now),this.schedulerActionCtor=r,this.now=t}return e.prototype.schedule=function(e,r,t){return void 0===r&&(r=0),new this.schedulerActionCtor(this,e).schedule(t,r)},e.now=n.dateTimestampProvider.now,e}();r.Scheduler=o},5683:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),i=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.AnonymousSubject=r.Subject=void 0;var u=t(2334),a=t(4794),c=t(6965),s=t(6006),l=t(5477),f=function(e){function r(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return o(r,e),r.prototype.lift=function(e){var r=new d(this,this);return r.operator=e,r},r.prototype._throwIfClosed=function(){if(this.closed)throw new c.ObjectUnsubscribedError},r.prototype.next=function(e){var r=this;l.errorContext((function(){var t,n;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=i(r.currentObservers),u=o.next();!u.done;u=o.next())u.value.next(e)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}))},r.prototype.error=function(e){var r=this;l.errorContext((function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=e;for(var t=r.observers;t.length;)t.shift().error(e)}}))},r.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var r=e.observers;r.length;)r.shift().complete()}}))},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var r=this,t=this,n=t.hasError,o=t.isStopped,i=t.observers;return n||o?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new a.Subscription((function(){r.currentObservers=null,s.arrRemove(i,e)})))},r.prototype._checkFinalizedStatuses=function(e){var r=this,t=r.hasError,n=r.thrownError,o=r.isStopped;t?e.error(n):o&&e.complete()},r.prototype.asObservable=function(){var e=new u.Observable;return e.source=this,e},r.create=function(e,r){return new d(e,r)},r}(u.Observable);r.Subject=f;var d=function(e){function r(r,t){var n=e.call(this)||this;return n.destination=r,n.source=t,n}return o(r,e),r.prototype.next=function(e){var r,t;null===(t=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===t||t.call(r,e)},r.prototype.error=function(e){var r,t;null===(t=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===t||t.call(r,e)},r.prototype.complete=function(){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===r||r.call(e)},r.prototype._subscribe=function(e){var r,t;return null!==(t=null===(r=this.source)||void 0===r?void 0:r.subscribe(e))&&void 0!==t?t:a.EMPTY_SUBSCRIPTION},r}(f);r.AnonymousSubject=d},3351:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.EMPTY_OBSERVER=r.SafeSubscriber=r.Subscriber=void 0;var i=t(7117),u=t(4794),a=t(9666),c=t(3783),s=t(1123),l=t(6599),f=t(9234),d=t(5477),p=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,u.isSubscription(t)&&t.add(n)):n.destination=r.EMPTY_OBSERVER,n}return o(t,e),t.create=function(e,r,t){return new y(e,r,t)},t.prototype.next=function(e){this.isStopped?_(l.nextNotification(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(u.Subscription);r.Subscriber=p;var b=Function.prototype.bind;function v(e,r){return b.call(e,r)}var h=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),y=function(e){function r(r,t,n){var o,u,c=e.call(this)||this;return i.isFunction(r)||!r?o={next:null!=r?r:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0}:c&&a.config.useDeprecatedNextContext?((u=Object.create(r)).unsubscribe=function(){return c.unsubscribe()},o={next:r.next&&v(r.next,u),error:r.error&&v(r.error,u),complete:r.complete&&v(r.complete,u)}):o=r,c.destination=new h(o),c}return o(r,e),r}(p);function m(e){a.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):c.reportUnhandledError(e)}function _(e,r){var t=a.config.onStoppedNotification;t&&f.timeoutProvider.setTimeout((function(){return t(e,r)}))}r.SafeSubscriber=y,r.EMPTY_OBSERVER={closed:!0,next:s.noop,error:function(e){throw e},complete:s.noop}},4794:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.isSubscription=r.EMPTY_SUBSCRIPTION=r.Subscription=void 0;var u=t(7117),a=t(6235),c=t(6006),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var r;return e.prototype.unsubscribe=function(){var e,r,t,c,s;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=n(f),p=d.next();!p.done;p=d.next())p.value.remove(this)}catch(r){e={error:r}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}else f.remove(this);var b=this.initialTeardown;if(u.isFunction(b))try{b()}catch(e){s=e instanceof a.UnsubscriptionError?e.errors:[e]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var h=n(v),y=h.next();!y.done;y=h.next()){var m=y.value;try{l(m)}catch(e){s=null!=s?s:[],e instanceof a.UnsubscriptionError?s=i(i([],o(s)),o(e.errors)):s.push(e)}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(t)throw t.error}}}if(s)throw new a.UnsubscriptionError(s)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)l(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(r)}},e.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},e.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},e.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&c.arrRemove(r,e)},e.prototype.remove=function(r){var t=this._finalizers;t&&c.arrRemove(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=((r=new e).closed=!0,r),e}();function l(e){u.isFunction(e)?e():e.unsubscribe()}r.Subscription=s,r.EMPTY_SUBSCRIPTION=s.EMPTY,r.isSubscription=function(e){return e instanceof s||e&&"closed"in e&&u.isFunction(e.remove)&&u.isFunction(e.add)&&u.isFunction(e.unsubscribe)}},9666:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0,r.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5939:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.firstValueFrom=void 0;var n=t(1486),o=t(3351);r.firstValueFrom=function(e,r){var t="object"==typeof r;return new Promise((function(i,u){var a=new o.SafeSubscriber({next:function(e){i(e),a.unsubscribe()},error:u,complete:function(){t?i(r.defaultValue):u(new n.EmptyError)}});e.subscribe(a)}))}},1429:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.lastValueFrom=void 0;var n=t(1486);r.lastValueFrom=function(e,r){var t="object"==typeof r;return new Promise((function(o,i){var u,a=!1;e.subscribe({next:function(e){u=e,a=!0},error:i,complete:function(){a?o(u):t?o(r.defaultValue):i(new n.EmptyError)}})}))}},3986:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectableObservable=void 0;var i=t(2334),u=t(4794),a=t(4438),c=t(1252),s=t(7041),l=function(e){function r(r,t){var n=e.call(this)||this;return n.source=r,n.subjectFactory=t,n._subject=null,n._refCount=0,n._connection=null,s.hasLift(r)&&(n.lift=r.lift),n}return o(r,e),r.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},r.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},r.prototype.connect=function(){var e=this,r=this._connection;if(!r){r=this._connection=new u.Subscription;var t=this.getSubject();r.add(this.source.subscribe(c.createOperatorSubscriber(t,void 0,(function(){e._teardown(),t.complete()}),(function(r){e._teardown(),t.error(r)}),(function(){return e._teardown()})))),r.closed&&(this._connection=null,r=u.Subscription.EMPTY)}return r},r.prototype.refCount=function(){return a.refCount()(this)},r}(i.Observable);r.ConnectableObservable=l},1703:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.bindCallback=void 0;var n=t(9786);r.bindCallback=function(e,r,t){return n.bindCallbackInternals(!1,e,r,t)}},9786:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.bindCallbackInternals=void 0;var i=t(6476),u=t(2334),a=t(4021),c=t(2667),s=t(4732),l=t(6674);r.bindCallbackInternals=function e(r,t,f,d){if(f){if(!i.isScheduler(f))return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(r,t,d).apply(this,n).pipe(c.mapOneOrManyArgs(f))};d=f}return d?function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(r,t).apply(this,n).pipe(a.subscribeOn(d),s.observeOn(d))}:function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=new l.AsyncSubject,s=!0;return new u.Observable((function(u){var a=c.subscribe(u);if(s){s=!1;var l=!1,f=!1;t.apply(e,o(o([],n(i)),[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(r){var n=e.shift();if(null!=n)return void c.error(n)}c.next(1<e.length?e:e[0]),f=!0,l&&c.complete()}])),f&&c.complete(),l=!0}return a}))}}},7854:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.bindNodeCallback=void 0;var n=t(9786);r.bindNodeCallback=function(e,r,t){return n.bindCallbackInternals(!0,e,r,t)}},6691:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestInit=r.combineLatest=void 0;var n=t(2334),o=t(8242),i=t(4206),u=t(742),a=t(2667),c=t(1239),s=t(3170),l=t(1252),f=t(2296);function d(e,r,t){return void 0===t&&(t=u.identity),function(n){p(r,(function(){for(var o=e.length,u=new Array(o),a=o,c=o,s=function(o){p(r,(function(){var s=i.from(e[o],r),f=!1;s.subscribe(l.createOperatorSubscriber(n,(function(e){u[o]=e,f||(f=!0,c--),c||n.next(t(u.slice()))}),(function(){--a||n.complete()})))}),n)},f=0;f<o;f++)s(f)}),n)}}function p(e,r,t){e?f.executeSchedule(t,e,r):r()}r.combineLatest=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=c.popScheduler(e),l=c.popResultSelector(e),f=o.argsArgArrayOrObject(e),p=f.args,b=f.keys;if(0===p.length)return i.from([],t);var v=new n.Observable(d(p,t,b?function(e){return s.createObject(b,e)}:u.identity));return l?v.pipe(a.mapOneOrManyArgs(l)):v},r.combineLatestInit=d},3592:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concat=void 0;var n=t(8834),o=t(1239),i=t(4206);r.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.concatAll()(i.from(e,o.popScheduler(e)))}},5314:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.connectable=void 0;var n=t(5683),o=t(2334),i=t(3171),u={connector:function(){return new n.Subject},resetOnDisconnect:!0};r.connectable=function(e,r){void 0===r&&(r=u);var t=null,n=r.connector,a=r.resetOnDisconnect,c=void 0===a||a,s=n(),l=new o.Observable((function(e){return s.subscribe(e)}));return l.connect=function(){return t&&!t.closed||(t=i.defer((function(){return e})).subscribe(s),c&&t.add((function(){return s=n()}))),t},l}},3171:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.defer=void 0;var n=t(2334),o=t(4310);r.defer=function(e){return new n.Observable((function(r){o.innerFrom(e()).subscribe(r)}))}},1834:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrames=void 0;var n=t(2334),o=t(476),i=t(6763);function u(e){return new n.Observable((function(r){var t=e||o.performanceTimestampProvider,n=t.now(),u=0,a=function(){r.closed||(u=i.animationFrameProvider.requestAnimationFrame((function(o){u=0;var i=t.now();r.next({timestamp:e?i:o,elapsed:i-n}),a()})))};return a(),function(){u&&i.animationFrameProvider.cancelAnimationFrame(u)}}))}r.animationFrames=function(e){return e?u(e):a};var a=u()},7711:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.empty=r.EMPTY=void 0;var n=t(2334);r.EMPTY=new n.Observable((function(e){return e.complete()})),r.empty=function(e){return e?function(e){return new n.Observable((function(r){return e.schedule((function(){return r.complete()}))}))}(e):r.EMPTY}},4392:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.forkJoin=void 0;var n=t(2334),o=t(8242),i=t(4310),u=t(1239),a=t(1252),c=t(2667),s=t(3170);r.forkJoin=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=u.popResultSelector(e),l=o.argsArgArrayOrObject(e),f=l.args,d=l.keys,p=new n.Observable((function(e){var r=f.length;if(r)for(var t=new Array(r),n=r,o=r,u=function(r){var u=!1;i.innerFrom(f[r]).subscribe(a.createOperatorSubscriber(e,(function(e){u||(u=!0,o--),t[r]=e}),(function(){return n--}),void 0,(function(){n&&u||(o||e.next(d?s.createObject(d,t):t),e.complete())})))},c=0;c<r;c++)u(c);else e.complete()}));return t?p.pipe(c.mapOneOrManyArgs(t)):p}},4206:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.from=void 0;var n=t(4560),o=t(4310);r.from=function(e,r){return r?n.scheduled(e,r):o.innerFrom(e)}},6631:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u};Object.defineProperty(r,"__esModule",{value:!0}),r.fromEvent=void 0;var o=t(4310),i=t(2334),u=t(6573),a=t(4324),c=t(7117),s=t(2667),l=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function p(e,r){return function(t){return function(n){return e[t](r,n)}}}r.fromEvent=function e(r,t,b,v){if(c.isFunction(b)&&(v=b,b=void 0),v)return e(r,t,b).pipe(s.mapOneOrManyArgs(v));var h=n(function(e){return c.isFunction(e.addEventListener)&&c.isFunction(e.removeEventListener)}(r)?f.map((function(e){return function(n){return r[e](t,n,b)}})):function(e){return c.isFunction(e.addListener)&&c.isFunction(e.removeListener)}(r)?l.map(p(r,t)):function(e){return c.isFunction(e.on)&&c.isFunction(e.off)}(r)?d.map(p(r,t)):[],2),y=h[0],m=h[1];if(!y&&a.isArrayLike(r))return u.mergeMap((function(r){return e(r,t,b)}))(o.innerFrom(r));if(!y)throw new TypeError("Invalid event target");return new i.Observable((function(e){var r=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e.next(1<r.length?r:r[0])};return y(r),function(){return m(r)}}))}},8960:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fromEventPattern=void 0;var n=t(2334),o=t(7117),i=t(2667);r.fromEventPattern=function e(r,t,u){return u?e(r,t).pipe(i.mapOneOrManyArgs(u)):new n.Observable((function(e){var n=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e.next(1===r.length?r[0]:r)},i=r(n);return o.isFunction(t)?function(){return t(n,i)}:void 0}))}},5017:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fromSubscribable=void 0;var n=t(2334);r.fromSubscribable=function(e){return new n.Observable((function(r){return e.subscribe(r)}))}},8116:function(e,r,t){var n=this&&this.__generator||function(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.generate=void 0;var o=t(742),i=t(6476),u=t(3171),a=t(8321);r.generate=function(e,r,t,c,s){var l,f,d,p;function b(){var e;return n(this,(function(n){switch(n.label){case 0:e=p,n.label=1;case 1:return r&&!r(e)?[3,4]:[4,d(e)];case 2:n.sent(),n.label=3;case 3:return e=t(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(p=(l=e).initialState,r=l.condition,t=l.iterate,f=l.resultSelector,d=void 0===f?o.identity:f,s=l.scheduler):(p=e,!c||i.isScheduler(c)?(d=o.identity,s=c):d=c),u.defer(s?function(){return a.scheduleIterable(b(),s)}:b)}},6490:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.iif=void 0;var n=t(3171);r.iif=function(e,r,t){return n.defer((function(){return e()?r:t}))}},4310:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function u(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,a)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof u?u(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){!function(e,r,t,n){Promise.resolve(n).then((function(r){e({value:r,done:t})}),r)}(n,o,(r=e[t](r)).done,r.value)}))}}},u=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.fromReadableStreamLike=r.fromAsyncIterable=r.fromIterable=r.fromPromise=r.fromArrayLike=r.fromInteropObservable=r.innerFrom=void 0;var a=t(4324),c=t(6809),s=t(2334),l=t(7851),f=t(3749),d=t(3325),p=t(6013),b=t(474),v=t(7117),h=t(3783),y=t(5310);function m(e){return new s.Observable((function(r){var t=e[y.observable]();if(v.isFunction(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function _(e){return new s.Observable((function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()}))}function O(e){return new s.Observable((function(r){e.then((function(e){r.closed||(r.next(e),r.complete())}),(function(e){return r.error(e)})).then(null,h.reportUnhandledError)}))}function g(e){return new s.Observable((function(r){var t,n;try{for(var o=u(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(r.next(a),r.closed)return}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.complete()}))}function w(e){return new s.Observable((function(r){(function(e,r){var t,u,a,c;return n(this,void 0,void 0,(function(){var n,s;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),t=i(e),o.label=1;case 1:return[4,t.next()];case 2:if((u=o.sent()).done)return[3,4];if(n=u.value,r.next(n),r.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=o.sent(),a={error:s},[3,11];case 6:return o.trys.push([6,,9,10]),u&&!u.done&&(c=t.return)?[4,c.call(t)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}}))}))})(e,r).catch((function(e){return r.error(e)}))}))}function j(e){return w(b.readableStreamLikeToAsyncGenerator(e))}r.innerFrom=function(e){if(e instanceof s.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return m(e);if(a.isArrayLike(e))return _(e);if(c.isPromise(e))return O(e);if(f.isAsyncIterable(e))return w(e);if(p.isIterable(e))return g(e);if(b.isReadableStreamLike(e))return j(e)}throw d.createInvalidObservableTypeError(e)},r.fromInteropObservable=m,r.fromArrayLike=_,r.fromPromise=O,r.fromIterable=g,r.fromAsyncIterable=w,r.fromReadableStreamLike=j},4091:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.interval=void 0;var n=t(4721),o=t(2033);r.interval=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=n.asyncScheduler),e<0&&(e=0),o.timer(e,e,r)}},9087:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var n=t(3302),o=t(4310),i=t(7711),u=t(1239),a=t(4206);r.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=u.popScheduler(e),c=u.popNumber(e,1/0),s=e;return s.length?1===s.length?o.innerFrom(s[0]):n.mergeAll(c)(a.from(s,t)):i.EMPTY}},4709:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.never=r.NEVER=void 0;var n=t(2334),o=t(1123);r.NEVER=new n.Observable(o.noop),r.never=function(){return r.NEVER}},3115:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.of=void 0;var n=t(1239),o=t(4206);r.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=n.popScheduler(e);return o.from(e,t)}},1833:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.onErrorResumeNext=void 0;var n=t(2334),o=t(2546),i=t(1252),u=t(1123),a=t(4310);r.onErrorResumeNext=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=o.argsOrArgArray(e);return new n.Observable((function(e){var r=0,n=function(){if(r<t.length){var o=void 0;try{o=a.innerFrom(t[r++])}catch(e){return void n()}var c=new i.OperatorSubscriber(e,void 0,u.noop,u.noop);o.subscribe(c),c.add(n)}else e.complete()};n()}))}},1641:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pairs=void 0;var n=t(4206);r.pairs=function(e,r){return n.from(Object.entries(e),r)}},2995:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.partition=void 0;var n=t(3074),o=t(4716),i=t(4310);r.partition=function(e,r,t){return[o.filter(r,t)(i.innerFrom(e)),o.filter(n.not(r,t))(i.innerFrom(e))]}},2851:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.raceInit=r.race=void 0;var n=t(2334),o=t(4310),i=t(2546),u=t(1252);function a(e){return function(r){for(var t=[],n=function(n){t.push(o.innerFrom(e[n]).subscribe(u.createOperatorSubscriber(r,(function(e){if(t){for(var o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}r.next(e)}))))},i=0;t&&!r.closed&&i<e.length;i++)n(i)}}r.race=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new n.Observable(a(e))},r.raceInit=a},8933:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.range=void 0;var n=t(2334),o=t(7711);r.range=function(e,r,t){if(null==r&&(r=e,e=0),r<=0)return o.EMPTY;var i=r+e;return new n.Observable(t?function(r){var n=e;return t.schedule((function(){n<i?(r.next(n++),this.schedule()):r.complete()}))}:function(r){for(var t=e;t<i&&!r.closed;)r.next(t++);r.complete()})}},6363:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwError=void 0;var n=t(2334),o=t(7117);r.throwError=function(e,r){var t=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(t())};return new n.Observable(r?function(e){return r.schedule(i,0,e)}:i)}},2033:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timer=void 0;var n=t(2334),o=t(4721),i=t(6476),u=t(5253);r.timer=function(e,r,t){void 0===e&&(e=0),void 0===t&&(t=o.async);var a=-1;return null!=r&&(i.isScheduler(r)?t=r:a=r),new n.Observable((function(r){var n=u.isValidDate(e)?+e-t.now():e;n<0&&(n=0);var o=0;return t.schedule((function(){r.closed||(r.next(o++),0<=a?this.schedule(void 0,a):r.complete())}),n)}))}},9992:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.using=void 0;var n=t(2334),o=t(4310),i=t(7711);r.using=function(e,r){return new n.Observable((function(t){var n=e(),u=r(n);return(u?o.innerFrom(u):i.EMPTY).subscribe(t),function(){n&&n.unsubscribe()}}))}},9049:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zip=void 0;var i=t(2334),u=t(4310),a=t(2546),c=t(7711),s=t(1252),l=t(1239);r.zip=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=l.popResultSelector(e),f=a.argsOrArgArray(e);return f.length?new i.Observable((function(e){var r=f.map((function(){return[]})),i=f.map((function(){return!1}));e.add((function(){r=i=null}));for(var a=function(a){u.innerFrom(f[a]).subscribe(s.createOperatorSubscriber(e,(function(u){if(r[a].push(u),r.every((function(e){return e.length}))){var c=r.map((function(e){return e.shift()}));e.next(t?t.apply(void 0,o([],n(c))):c),r.some((function(e,r){return!e.length&&i[r]}))&&e.complete()}}),(function(){i[a]=!0,!r[a].length&&e.complete()})))},c=0;!e.closed&&c<f.length;c++)a(c);return function(){r=i=null}})):c.EMPTY}},1252:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.OperatorSubscriber=r.createOperatorSubscriber=void 0;var i=t(3351);r.createOperatorSubscriber=function(e,r,t,n,o){return new u(e,r,t,n,o)};var u=function(e){function r(r,t,n,o,i,u){var a=e.call(this,r)||this;return a.onFinalize=i,a.shouldUnsubscribe=u,a._next=t?function(e){try{t(e)}catch(e){r.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return o(r,e),r.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;e.prototype.unsubscribe.call(this),!t&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}},r}(i.Subscriber);r.OperatorSubscriber=u},5055:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.audit=void 0;var n=t(7041),o=t(4310),i=t(1252);r.audit=function(e){return n.operate((function(r,t){var n=!1,u=null,a=null,c=!1,s=function(){if(null==a||a.unsubscribe(),a=null,n){n=!1;var e=u;u=null,t.next(e)}c&&t.complete()},l=function(){a=null,c&&t.complete()};r.subscribe(i.createOperatorSubscriber(t,(function(r){n=!0,u=r,a||o.innerFrom(e(r)).subscribe(a=i.createOperatorSubscriber(t,s,l))}),(function(){c=!0,(!n||!a||a.closed)&&t.complete()})))}))}},3960:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.auditTime=void 0;var n=t(4721),o=t(5055),i=t(2033);r.auditTime=function(e,r){return void 0===r&&(r=n.asyncScheduler),o.audit((function(){return i.timer(e,r)}))}},7203:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.buffer=void 0;var n=t(7041),o=t(1123),i=t(1252),u=t(4310);r.buffer=function(e){return n.operate((function(r,t){var n=[];return r.subscribe(i.createOperatorSubscriber(t,(function(e){return n.push(e)}),(function(){t.next(n),t.complete()}))),u.innerFrom(e).subscribe(i.createOperatorSubscriber(t,(function(){var e=n;n=[],t.next(e)}),o.noop)),function(){n=null}}))}},1673:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferCount=void 0;var o=t(7041),i=t(1252),u=t(6006);r.bufferCount=function(e,r){return void 0===r&&(r=null),r=null!=r?r:e,o.operate((function(t,o){var a=[],c=0;t.subscribe(i.createOperatorSubscriber(o,(function(t){var i,s,l,f,d=null;c++%r==0&&a.push([]);try{for(var p=n(a),b=p.next();!b.done;b=p.next())(y=b.value).push(t),e<=y.length&&(d=null!=d?d:[]).push(y)}catch(e){i={error:e}}finally{try{b&&!b.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}if(d)try{for(var v=n(d),h=v.next();!h.done;h=v.next()){var y=h.value;u.arrRemove(a,y),o.next(y)}}catch(e){l={error:e}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(l)throw l.error}}}),(function(){var e,r;try{for(var t=n(a),i=t.next();!i.done;i=t.next()){var u=i.value;o.next(u)}}catch(r){e={error:r}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){a=null})))}))}},8082:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferTime=void 0;var o=t(4794),i=t(7041),u=t(1252),a=t(6006),c=t(4721),s=t(1239),l=t(2296);r.bufferTime=function(e){for(var r,t,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(r=s.popScheduler(f))&&void 0!==r?r:c.asyncScheduler,b=null!==(t=f[0])&&void 0!==t?t:null,v=f[1]||1/0;return i.operate((function(r,t){var i=[],c=!1,s=function(e){var r=e.buffer;e.subs.unsubscribe(),a.arrRemove(i,e),t.next(r),c&&f()},f=function(){if(i){var r=new o.Subscription;t.add(r);var n={buffer:[],subs:r};i.push(n),l.executeSchedule(r,p,(function(){return s(n)}),e)}};null!==b&&b>=0?l.executeSchedule(t,p,f,b,!0):c=!0,f();var d=u.createOperatorSubscriber(t,(function(e){var r,t,o=i.slice();try{for(var u=n(o),a=u.next();!a.done;a=u.next()){var c=a.value,l=c.buffer;l.push(e),v<=l.length&&s(c)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}}),(function(){for(;null==i?void 0:i.length;)t.next(i.shift().buffer);null==d||d.unsubscribe(),t.complete(),t.unsubscribe()}),void 0,(function(){return i=null}));r.subscribe(d)}))}},3430:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferToggle=void 0;var o=t(4794),i=t(7041),u=t(4310),a=t(1252),c=t(1123),s=t(6006);r.bufferToggle=function(e,r){return i.operate((function(t,i){var l=[];u.innerFrom(e).subscribe(a.createOperatorSubscriber(i,(function(e){var t=[];l.push(t);var n=new o.Subscription;n.add(u.innerFrom(r(e)).subscribe(a.createOperatorSubscriber(i,(function(){s.arrRemove(l,t),i.next(t),n.unsubscribe()}),c.noop)))}),c.noop)),t.subscribe(a.createOperatorSubscriber(i,(function(e){var r,t;try{for(var o=n(l),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){r={error:e}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}}),(function(){for(;l.length>0;)i.next(l.shift());i.complete()})))}))}},2922:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.bufferWhen=void 0;var n=t(7041),o=t(1123),i=t(1252),u=t(4310);r.bufferWhen=function(e){return n.operate((function(r,t){var n=null,a=null,c=function(){null==a||a.unsubscribe();var r=n;n=[],r&&t.next(r),u.innerFrom(e()).subscribe(a=i.createOperatorSubscriber(t,c,o.noop))};c(),r.subscribe(i.createOperatorSubscriber(t,(function(e){return null==n?void 0:n.push(e)}),(function(){n&&t.next(n),t.complete()}),void 0,(function(){return n=a=null})))}))}},550:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.catchError=void 0;var n=t(4310),o=t(1252),i=t(7041);r.catchError=function e(r){return i.operate((function(t,i){var u,a=null,c=!1;a=t.subscribe(o.createOperatorSubscriber(i,void 0,void 0,(function(o){u=n.innerFrom(r(o,e(r)(t))),a?(a.unsubscribe(),a=null,u.subscribe(i)):c=!0}))),c&&(a.unsubscribe(),a=null,u.subscribe(i))}))}},699:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.combineAll=void 0;var n=t(3758);r.combineAll=n.combineLatestAll},2272:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatest=void 0;var i=t(6691),u=t(7041),a=t(2546),c=t(2667),s=t(3348),l=t(1239);r.combineLatest=function e(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var f=l.popResultSelector(r);return f?s.pipe(e.apply(void 0,o([],n(r))),c.mapOneOrManyArgs(f)):u.operate((function(e,t){i.combineLatestInit(o([e],n(a.argsOrArgArray(r))))(t)}))}},3758:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestAll=void 0;var n=t(6691),o=t(8254);r.combineLatestAll=function(e){return o.joinAllInternals(n.combineLatest,e)}},5295:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestWith=void 0;var i=t(2272);r.combineLatestWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.combineLatest.apply(void 0,o([],n(e)))}},6127:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.concat=void 0;var i=t(7041),u=t(8834),a=t(1239),c=t(4206);r.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=a.popScheduler(e);return i.operate((function(r,i){u.concatAll()(c.from(o([r],n(e)),t)).subscribe(i)}))}},8834:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concatAll=void 0;var n=t(3302);r.concatAll=function(){return n.mergeAll(1)}},5078:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concatMap=void 0;var n=t(6573),o=t(7117);r.concatMap=function(e,r){return o.isFunction(r)?n.mergeMap(e,r,1):n.mergeMap(e,1)}},1383:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concatMapTo=void 0;var n=t(5078),o=t(7117);r.concatMapTo=function(e,r){return o.isFunction(r)?n.concatMap((function(){return e}),r):n.concatMap((function(){return e}))}},5195:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.concatWith=void 0;var i=t(6127);r.concatWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.concat.apply(void 0,o([],n(e)))}},2753:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.connect=void 0;var n=t(5683),o=t(4310),i=t(7041),u=t(5017),a={connector:function(){return new n.Subject}};r.connect=function(e,r){void 0===r&&(r=a);var t=r.connector;return i.operate((function(r,n){var i=t();o.innerFrom(e(u.fromSubscribable(i))).subscribe(n),n.add(r.subscribe(i))}))}},9715:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.count=void 0;var n=t(5159);r.count=function(e){return n.reduce((function(r,t,n){return!e||e(t,n)?r+1:r}),0)}},7076:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.debounce=void 0;var n=t(7041),o=t(1123),i=t(1252),u=t(4310);r.debounce=function(e){return n.operate((function(r,t){var n=!1,a=null,c=null,s=function(){if(null==c||c.unsubscribe(),c=null,n){n=!1;var e=a;a=null,t.next(e)}};r.subscribe(i.createOperatorSubscriber(t,(function(r){null==c||c.unsubscribe(),n=!0,a=r,c=i.createOperatorSubscriber(t,s,o.noop),u.innerFrom(e(r)).subscribe(c)}),(function(){s(),t.complete()}),void 0,(function(){a=c=null})))}))}},681:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.debounceTime=void 0;var n=t(4721),o=t(7041),i=t(1252);r.debounceTime=function(e,r){return void 0===r&&(r=n.asyncScheduler),o.operate((function(t,n){var o=null,u=null,a=null,c=function(){if(o){o.unsubscribe(),o=null;var e=u;u=null,n.next(e)}};function s(){var t=a+e,i=r.now();if(i<t)return o=this.schedule(void 0,t-i),void n.add(o);c()}t.subscribe(i.createOperatorSubscriber(n,(function(t){u=t,a=r.now(),o||(o=r.schedule(s,e),n.add(o))}),(function(){c(),n.complete()}),void 0,(function(){u=o=null})))}))}},3450:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.defaultIfEmpty=void 0;var n=t(7041),o=t(1252);r.defaultIfEmpty=function(e){return n.operate((function(r,t){var n=!1;r.subscribe(o.createOperatorSubscriber(t,(function(e){n=!0,t.next(e)}),(function(){n||t.next(e),t.complete()})))}))}},9195:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.delay=void 0;var n=t(4721),o=t(7603),i=t(2033);r.delay=function(e,r){void 0===r&&(r=n.asyncScheduler);var t=i.timer(e,r);return o.delayWhen((function(){return t}))}},7603:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.delayWhen=void 0;var n=t(3592),o=t(4484),i=t(2353),u=t(2648),a=t(6573),c=t(4310);r.delayWhen=function e(r,t){return t?function(u){return n.concat(t.pipe(o.take(1),i.ignoreElements()),u.pipe(e(r)))}:a.mergeMap((function(e,t){return c.innerFrom(r(e,t)).pipe(o.take(1),u.mapTo(e))}))}},3589:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.dematerialize=void 0;var n=t(762),o=t(7041),i=t(1252);r.dematerialize=function(){return o.operate((function(e,r){e.subscribe(i.createOperatorSubscriber(r,(function(e){return n.observeNotification(e,r)})))}))}},3439:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.distinct=void 0;var n=t(7041),o=t(1252),i=t(1123),u=t(4310);r.distinct=function(e,r){return n.operate((function(t,n){var a=new Set;t.subscribe(o.createOperatorSubscriber(n,(function(r){var t=e?e(r):r;a.has(t)||(a.add(t),n.next(r))}))),r&&u.innerFrom(r).subscribe(o.createOperatorSubscriber(n,(function(){return a.clear()}),i.noop))}))}},4117:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.distinctUntilChanged=void 0;var n=t(742),o=t(7041),i=t(1252);function u(e,r){return e===r}r.distinctUntilChanged=function(e,r){return void 0===r&&(r=n.identity),e=null!=e?e:u,o.operate((function(t,n){var o,u=!0;t.subscribe(i.createOperatorSubscriber(n,(function(t){var i=r(t);!u&&e(o,i)||(u=!1,o=i,n.next(t))})))}))}},6618:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.distinctUntilKeyChanged=void 0;var n=t(4117);r.distinctUntilKeyChanged=function(e,r){return n.distinctUntilChanged((function(t,n){return r?r(t[e],n[e]):t[e]===n[e]}))}},1335:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.elementAt=void 0;var n=t(9904),o=t(4716),i=t(3907),u=t(3450),a=t(4484);r.elementAt=function(e,r){if(e<0)throw new n.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(c){return c.pipe(o.filter((function(r,t){return t===e})),a.take(1),t?u.defaultIfEmpty(r):i.throwIfEmpty((function(){return new n.ArgumentOutOfRangeError})))}}},768:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.endWith=void 0;var i=t(3592),u=t(3115);r.endWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(r){return i.concat(r,u.of.apply(void 0,o([],n(e))))}}},5327:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.every=void 0;var n=t(7041),o=t(1252);r.every=function(e,r){return n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(o){e.call(r,o,i++,t)||(n.next(!1),n.complete())}),(function(){n.next(!0),n.complete()})))}))}},7145:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exhaust=void 0;var n=t(4223);r.exhaust=n.exhaustAll},4223:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exhaustAll=void 0;var n=t(8008),o=t(742);r.exhaustAll=function(){return n.exhaustMap(o.identity)}},8008:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exhaustMap=void 0;var n=t(7468),o=t(4310),i=t(7041),u=t(1252);r.exhaustMap=function e(r,t){return t?function(i){return i.pipe(e((function(e,i){return o.innerFrom(r(e,i)).pipe(n.map((function(r,n){return t(e,r,i,n)})))})))}:i.operate((function(e,t){var n=0,i=null,a=!1;e.subscribe(u.createOperatorSubscriber(t,(function(e){i||(i=u.createOperatorSubscriber(t,void 0,(function(){i=null,a&&t.complete()})),o.innerFrom(r(e,n++)).subscribe(i))}),(function(){a=!0,!i&&t.complete()})))}))}},4216:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.expand=void 0;var n=t(7041),o=t(7912);r.expand=function(e,r,t){return void 0===r&&(r=1/0),r=(r||0)<1?1/0:r,n.operate((function(n,i){return o.mergeInternals(n,i,e,r,void 0,!0,t)}))}},4716:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.filter=void 0;var n=t(7041),o=t(1252);r.filter=function(e,r){return n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){return e.call(r,t,i++)&&n.next(t)})))}))}},8765:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.finalize=void 0;var n=t(7041);r.finalize=function(e){return n.operate((function(r,t){try{r.subscribe(t)}finally{t.add(e)}}))}},2687:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createFind=r.find=void 0;var n=t(7041),o=t(1252);function i(e,r,t){var n="index"===t;return function(t,i){var u=0;t.subscribe(o.createOperatorSubscriber(i,(function(o){var a=u++;e.call(r,o,a,t)&&(i.next(n?a:o),i.complete())}),(function(){i.next(n?-1:void 0),i.complete()})))}}r.find=function(e,r){return n.operate(i(e,r,"value"))},r.createFind=i},9511:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.findIndex=void 0;var n=t(7041),o=t(2687);r.findIndex=function(e,r){return n.operate(o.createFind(e,r,"index"))}},1605:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.first=void 0;var n=t(1486),o=t(4716),i=t(4484),u=t(3450),a=t(3907),c=t(742);r.first=function(e,r){var t=arguments.length>=2;return function(s){return s.pipe(e?o.filter((function(r,t){return e(r,t,s)})):c.identity,i.take(1),t?u.defaultIfEmpty(r):a.throwIfEmpty((function(){return new n.EmptyError})))}}},77:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.flatMap=void 0;var n=t(6573);r.flatMap=n.mergeMap},1308:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.groupBy=void 0;var n=t(2334),o=t(4310),i=t(5683),u=t(7041),a=t(1252);r.groupBy=function(e,r,t,c){return u.operate((function(u,s){var l;r&&"function"!=typeof r?(t=r.duration,l=r.element,c=r.connector):l=r;var f=new Map,d=function(e){f.forEach(e),e(s)},p=function(e){return d((function(r){return r.error(e)}))},b=0,v=!1,h=new a.OperatorSubscriber(s,(function(r){try{var u=e(r),d=f.get(u);if(!d){f.set(u,d=c?c():new i.Subject);var y=(_=u,O=d,(g=new n.Observable((function(e){b++;var r=O.subscribe(e);return function(){r.unsubscribe(),0==--b&&v&&h.unsubscribe()}}))).key=_,g);if(s.next(y),t){var m=a.createOperatorSubscriber(d,(function(){d.complete(),null==m||m.unsubscribe()}),void 0,void 0,(function(){return f.delete(u)}));h.add(o.innerFrom(t(y)).subscribe(m))}}d.next(l?l(r):r)}catch(e){p(e)}var _,O,g}),(function(){return d((function(e){return e.complete()}))}),p,(function(){return f.clear()}),(function(){return v=!0,0===b}));u.subscribe(h)}))}},2353:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ignoreElements=void 0;var n=t(7041),o=t(1252),i=t(1123);r.ignoreElements=function(){return n.operate((function(e,r){e.subscribe(o.createOperatorSubscriber(r,i.noop))}))}},9629:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isEmpty=void 0;var n=t(7041),o=t(1252);r.isEmpty=function(){return n.operate((function(e,r){e.subscribe(o.createOperatorSubscriber(r,(function(){r.next(!1),r.complete()}),(function(){r.next(!0),r.complete()})))}))}},8254:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.joinAllInternals=void 0;var n=t(742),o=t(2667),i=t(3348),u=t(6573),a=t(8524);r.joinAllInternals=function(e,r){return i.pipe(a.toArray(),u.mergeMap((function(r){return e(r)})),r?o.mapOneOrManyArgs(r):n.identity)}},2045:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.last=void 0;var n=t(1486),o=t(4716),i=t(538),u=t(3907),a=t(3450),c=t(742);r.last=function(e,r){var t=arguments.length>=2;return function(s){return s.pipe(e?o.filter((function(r,t){return e(r,t,s)})):c.identity,i.takeLast(1),t?a.defaultIfEmpty(r):u.throwIfEmpty((function(){return new n.EmptyError})))}}},7468:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.map=void 0;var n=t(7041),o=t(1252);r.map=function(e,r){return n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){n.next(e.call(r,t,i++))})))}))}},2648:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mapTo=void 0;var n=t(7468);r.mapTo=function(e){return n.map((function(){return e}))}},54:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.materialize=void 0;var n=t(762),o=t(7041),i=t(1252);r.materialize=function(){return o.operate((function(e,r){e.subscribe(i.createOperatorSubscriber(r,(function(e){r.next(n.Notification.createNext(e))}),(function(){r.next(n.Notification.createComplete()),r.complete()}),(function(e){r.next(n.Notification.createError(e)),r.complete()})))}))}},809:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.max=void 0;var n=t(5159),o=t(7117);r.max=function(e){return n.reduce(o.isFunction(e)?function(r,t){return e(r,t)>0?r:t}:function(e,r){return e>r?e:r})}},9596:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var i=t(7041),u=t(2546),a=t(3302),c=t(1239),s=t(4206);r.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=c.popScheduler(e),l=c.popNumber(e,1/0);return e=u.argsOrArgArray(e),i.operate((function(r,i){a.mergeAll(l)(s.from(o([r],n(e)),t)).subscribe(i)}))}},3302:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeAll=void 0;var n=t(6573),o=t(742);r.mergeAll=function(e){return void 0===e&&(e=1/0),n.mergeMap(o.identity,e)}},7912:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeInternals=void 0;var n=t(4310),o=t(2296),i=t(1252);r.mergeInternals=function(e,r,t,u,a,c,s,l){var f=[],d=0,p=0,b=!1,v=function(){!b||f.length||d||r.complete()},h=function(e){return d<u?y(e):f.push(e)},y=function(e){c&&r.next(e),d++;var l=!1;n.innerFrom(t(e,p++)).subscribe(i.createOperatorSubscriber(r,(function(e){null==a||a(e),c?h(e):r.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{d--;for(var e=function(){var e=f.shift();s?o.executeSchedule(r,s,(function(){return y(e)})):y(e)};f.length&&d<u;)e();v()}catch(e){r.error(e)}})))};return e.subscribe(i.createOperatorSubscriber(r,h,(function(){b=!0,v()}))),function(){null==l||l()}}},6573:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMap=void 0;var n=t(7468),o=t(4310),i=t(7041),u=t(7912),a=t(7117);r.mergeMap=function e(r,t,c){return void 0===c&&(c=1/0),a.isFunction(t)?e((function(e,i){return n.map((function(r,n){return t(e,r,i,n)}))(o.innerFrom(r(e,i)))}),c):("number"==typeof t&&(c=t),i.operate((function(e,t){return u.mergeInternals(e,t,r,c)})))}},6406:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMapTo=void 0;var n=t(6573),o=t(7117);r.mergeMapTo=function(e,r,t){return void 0===t&&(t=1/0),o.isFunction(r)?n.mergeMap((function(){return e}),r,t):("number"==typeof r&&(t=r),n.mergeMap((function(){return e}),t))}},9963:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeScan=void 0;var n=t(7041),o=t(7912);r.mergeScan=function(e,r,t){return void 0===t&&(t=1/0),n.operate((function(n,i){var u=r;return o.mergeInternals(n,i,(function(r,t){return e(u,r,t)}),t,(function(e){u=e}),!1,void 0,(function(){return u=null}))}))}},7205:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.mergeWith=void 0;var i=t(9596);r.mergeWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.merge.apply(void 0,o([],n(e)))}},3540:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.min=void 0;var n=t(5159),o=t(7117);r.min=function(e){return n.reduce(o.isFunction(e)?function(r,t){return e(r,t)<0?r:t}:function(e,r){return e<r?e:r})}},1976:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.multicast=void 0;var n=t(3986),o=t(7117),i=t(2753);r.multicast=function(e,r){var t=o.isFunction(e)?e:function(){return e};return o.isFunction(r)?i.connect(r,{connector:t}):function(e){return new n.ConnectableObservable(e,t)}}},4732:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.observeOn=void 0;var n=t(2296),o=t(7041),i=t(1252);r.observeOn=function(e,r){return void 0===r&&(r=0),o.operate((function(t,o){t.subscribe(i.createOperatorSubscriber(o,(function(t){return n.executeSchedule(o,e,(function(){return o.next(t)}),r)}),(function(){return n.executeSchedule(o,e,(function(){return o.complete()}),r)}),(function(t){return n.executeSchedule(o,e,(function(){return o.error(t)}),r)})))}))}},4804:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.onErrorResumeNext=r.onErrorResumeNextWith=void 0;var i=t(2546),u=t(1833);function a(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=i.argsOrArgArray(e);return function(e){return u.onErrorResumeNext.apply(void 0,o([e],n(t)))}}r.onErrorResumeNextWith=a,r.onErrorResumeNext=a},3357:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pairwise=void 0;var n=t(7041),o=t(1252);r.pairwise=function(){return n.operate((function(e,r){var t,n=!1;e.subscribe(o.createOperatorSubscriber(r,(function(e){var o=t;t=e,n&&r.next([o,e]),n=!0})))}))}},8497:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pluck=void 0;var n=t(7468);r.pluck=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n.map((function(r){for(var n=r,o=0;o<t;o++){var i=null==n?void 0:n[e[o]];if(void 0===i)return;n=i}return n}))}},6143:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publish=void 0;var n=t(5683),o=t(1976),i=t(2753);r.publish=function(e){return e?function(r){return i.connect(e)(r)}:function(e){return o.multicast(new n.Subject)(e)}}},9365:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publishBehavior=void 0;var n=t(8825),o=t(3986);r.publishBehavior=function(e){return function(r){var t=new n.BehaviorSubject(e);return new o.ConnectableObservable(r,(function(){return t}))}}},8850:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publishLast=void 0;var n=t(6674),o=t(3986);r.publishLast=function(){return function(e){var r=new n.AsyncSubject;return new o.ConnectableObservable(e,(function(){return r}))}}},9042:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publishReplay=void 0;var n=t(40),o=t(1976),i=t(7117);r.publishReplay=function(e,r,t,u){t&&!i.isFunction(t)&&(u=t);var a=i.isFunction(t)?t:void 0;return function(t){return o.multicast(new n.ReplaySubject(e,r,u),a)(t)}}},7945:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.raceWith=void 0;var i=t(2851),u=t(7041),a=t(742);r.raceWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?u.operate((function(r,t){i.raceInit(o([r],n(e)))(t)})):a.identity}},5159:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.reduce=void 0;var n=t(5711),o=t(7041);r.reduce=function(e,r){return o.operate(n.scanInternals(e,r,arguments.length>=2,!1,!0))}},4438:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.refCount=void 0;var n=t(7041),o=t(1252);r.refCount=function(){return n.operate((function(e,r){var t=null;e._refCount++;var n=o.createOperatorSubscriber(r,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)t=null;else{var n=e._connection,o=t;t=null,!n||o&&n!==o||n.unsubscribe(),r.unsubscribe()}}));e.subscribe(n),n.closed||(t=e.connect())}))}},354:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.repeat=void 0;var n=t(7711),o=t(7041),i=t(1252),u=t(4310),a=t(2033);r.repeat=function(e){var r,t,c=1/0;return null!=e&&("object"==typeof e?(r=e.count,c=void 0===r?1/0:r,t=e.delay):c=e),c<=0?function(){return n.EMPTY}:o.operate((function(e,r){var n,o=0,s=function(){if(null==n||n.unsubscribe(),n=null,null!=t){var e="number"==typeof t?a.timer(t):u.innerFrom(t(o)),c=i.createOperatorSubscriber(r,(function(){c.unsubscribe(),l()}));e.subscribe(c)}else l()},l=function(){var t=!1;n=e.subscribe(i.createOperatorSubscriber(r,void 0,(function(){++o<c?n?s():t=!0:r.complete()}))),t&&s()};l()}))}},980:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.repeatWhen=void 0;var n=t(4310),o=t(5683),i=t(7041),u=t(1252);r.repeatWhen=function(e){return i.operate((function(r,t){var i,a,c=!1,s=!1,l=!1,f=function(){return l&&s&&(t.complete(),!0)},d=function(){l=!1,i=r.subscribe(u.createOperatorSubscriber(t,void 0,(function(){l=!0,!f()&&(a||(a=new o.Subject,n.innerFrom(e(a)).subscribe(u.createOperatorSubscriber(t,(function(){i?d():c=!0}),(function(){s=!0,f()})))),a).next()}))),c&&(i.unsubscribe(),i=null,c=!1,d())};d()}))}},6946:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.retry=void 0;var n=t(7041),o=t(1252),i=t(742),u=t(2033),a=t(4310);r.retry=function(e){var r;void 0===e&&(e=1/0);var t=(r=e&&"object"==typeof e?e:{count:e}).count,c=void 0===t?1/0:t,s=r.delay,l=r.resetOnSuccess,f=void 0!==l&&l;return c<=0?i.identity:n.operate((function(e,r){var t,n=0,i=function(){var l=!1;t=e.subscribe(o.createOperatorSubscriber(r,(function(e){f&&(n=0),r.next(e)}),void 0,(function(e){if(n++<c){var f=function(){t?(t.unsubscribe(),t=null,i()):l=!0};if(null!=s){var d="number"==typeof s?u.timer(s):a.innerFrom(s(e,n)),p=o.createOperatorSubscriber(r,(function(){p.unsubscribe(),f()}),(function(){r.complete()}));d.subscribe(p)}else f()}else r.error(e)}))),l&&(t.unsubscribe(),t=null,i())};i()}))}},8654:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.retryWhen=void 0;var n=t(4310),o=t(5683),i=t(7041),u=t(1252);r.retryWhen=function(e){return i.operate((function(r,t){var i,a,c=!1,s=function(){i=r.subscribe(u.createOperatorSubscriber(t,void 0,void 0,(function(r){a||(a=new o.Subject,n.innerFrom(e(a)).subscribe(u.createOperatorSubscriber(t,(function(){return i?s():c=!0})))),a&&a.next(r)}))),c&&(i.unsubscribe(),i=null,c=!1,s())};s()}))}},4423:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.sample=void 0;var n=t(4310),o=t(7041),i=t(1123),u=t(1252);r.sample=function(e){return o.operate((function(r,t){var o=!1,a=null;r.subscribe(u.createOperatorSubscriber(t,(function(e){o=!0,a=e}))),n.innerFrom(e).subscribe(u.createOperatorSubscriber(t,(function(){if(o){o=!1;var e=a;a=null,t.next(e)}}),i.noop))}))}},6215:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.sampleTime=void 0;var n=t(4721),o=t(4423),i=t(4091);r.sampleTime=function(e,r){return void 0===r&&(r=n.asyncScheduler),o.sample(i.interval(e,r))}},6669:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scan=void 0;var n=t(7041),o=t(5711);r.scan=function(e,r){return n.operate(o.scanInternals(e,r,arguments.length>=2,!0))}},5711:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scanInternals=void 0;var n=t(1252);r.scanInternals=function(e,r,t,o,i){return function(u,a){var c=t,s=r,l=0;u.subscribe(n.createOperatorSubscriber(a,(function(r){var t=l++;s=c?e(s,r,t):(c=!0,r),o&&a.next(s)}),i&&function(){c&&a.next(s),a.complete()}))}}},4162:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.sequenceEqual=void 0;var n=t(7041),o=t(1252),i=t(4310);r.sequenceEqual=function(e,r){return void 0===r&&(r=function(e,r){return e===r}),n.operate((function(t,n){var u={buffer:[],complete:!1},a={buffer:[],complete:!1},c=function(e){n.next(e),n.complete()},s=function(e,t){var i=o.createOperatorSubscriber(n,(function(n){var o=t.buffer,i=t.complete;0===o.length?i?c(!1):e.buffer.push(n):!r(n,o.shift())&&c(!1)}),(function(){e.complete=!0;var r=t.complete,n=t.buffer;r&&c(0===n.length),null==i||i.unsubscribe()}));return i};t.subscribe(s(u,a)),i.innerFrom(e).subscribe(s(a,u))}))}},4125:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.share=void 0;var i=t(4310),u=t(5683),a=t(3351),c=t(7041);function s(e,r){for(var t=[],u=2;u<arguments.length;u++)t[u-2]=arguments[u];if(!0!==r){if(!1!==r){var c=new a.SafeSubscriber({next:function(){c.unsubscribe(),e()}});return i.innerFrom(r.apply(void 0,o([],n(t)))).subscribe(c)}}else e()}r.share=function(e){void 0===e&&(e={});var r=e.connector,t=void 0===r?function(){return new u.Subject}:r,n=e.resetOnError,o=void 0===n||n,l=e.resetOnComplete,f=void 0===l||l,d=e.resetOnRefCountZero,p=void 0===d||d;return function(e){var r,n,u,l=0,d=!1,b=!1,v=function(){null==n||n.unsubscribe(),n=void 0},h=function(){v(),r=u=void 0,d=b=!1},y=function(){var e=r;h(),null==e||e.unsubscribe()};return c.operate((function(e,c){l++,b||d||v();var m=u=null!=u?u:t();c.add((function(){0!=--l||b||d||(n=s(y,p))})),m.subscribe(c),!r&&l>0&&(r=new a.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){b=!0,v(),n=s(h,o,e),m.error(e)},complete:function(){d=!0,v(),n=s(h,f),m.complete()}}),i.innerFrom(e).subscribe(r))}))(e)}}},1957:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.shareReplay=void 0;var n=t(40),o=t(4125);r.shareReplay=function(e,r,t){var i,u,a,c,s=!1;return e&&"object"==typeof e?(i=e.bufferSize,c=void 0===i?1/0:i,u=e.windowTime,r=void 0===u?1/0:u,s=void 0!==(a=e.refCount)&&a,t=e.scheduler):c=null!=e?e:1/0,o.share({connector:function(){return new n.ReplaySubject(c,r,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}},7916:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.single=void 0;var n=t(1486),o=t(8010),i=t(8909),u=t(7041),a=t(1252);r.single=function(e){return u.operate((function(r,t){var u,c=!1,s=!1,l=0;r.subscribe(a.createOperatorSubscriber(t,(function(n){s=!0,e&&!e(n,l++,r)||(c&&t.error(new o.SequenceError("Too many matching values")),c=!0,u=n)}),(function(){c?(t.next(u),t.complete()):t.error(s?new i.NotFoundError("No matching values"):new n.EmptyError)})))}))}},3746:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skip=void 0;var n=t(4716);r.skip=function(e){return n.filter((function(r,t){return e<=t}))}},6811:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skipLast=void 0;var n=t(742),o=t(7041),i=t(1252);r.skipLast=function(e){return e<=0?n.identity:o.operate((function(r,t){var n=new Array(e),o=0;return r.subscribe(i.createOperatorSubscriber(t,(function(r){var i=o++;if(i<e)n[i]=r;else{var u=i%e,a=n[u];n[u]=r,t.next(a)}}))),function(){n=null}}))}},3021:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skipUntil=void 0;var n=t(7041),o=t(1252),i=t(4310),u=t(1123);r.skipUntil=function(e){return n.operate((function(r,t){var n=!1,a=o.createOperatorSubscriber(t,(function(){null==a||a.unsubscribe(),n=!0}),u.noop);i.innerFrom(e).subscribe(a),r.subscribe(o.createOperatorSubscriber(t,(function(e){return n&&t.next(e)})))}))}},3598:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skipWhile=void 0;var n=t(7041),o=t(1252);r.skipWhile=function(e){return n.operate((function(r,t){var n=!1,i=0;r.subscribe(o.createOperatorSubscriber(t,(function(r){return(n||(n=!e(r,i++)))&&t.next(r)})))}))}},537:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.startWith=void 0;var n=t(3592),o=t(1239),i=t(7041);r.startWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=o.popScheduler(e);return i.operate((function(r,o){(t?n.concat(e,r,t):n.concat(e,r)).subscribe(o)}))}},4021:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeOn=void 0;var n=t(7041);r.subscribeOn=function(e,r){return void 0===r&&(r=0),n.operate((function(t,n){n.add(e.schedule((function(){return t.subscribe(n)}),r))}))}},5070:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchAll=void 0;var n=t(615),o=t(742);r.switchAll=function(){return n.switchMap(o.identity)}},615:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchMap=void 0;var n=t(4310),o=t(7041),i=t(1252);r.switchMap=function(e,r){return o.operate((function(t,o){var u=null,a=0,c=!1,s=function(){return c&&!u&&o.complete()};t.subscribe(i.createOperatorSubscriber(o,(function(t){null==u||u.unsubscribe();var c=0,l=a++;n.innerFrom(e(t,l)).subscribe(u=i.createOperatorSubscriber(o,(function(e){return o.next(r?r(t,e,l,c++):e)}),(function(){u=null,s()})))}),(function(){c=!0,s()})))}))}},9920:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchMapTo=void 0;var n=t(615),o=t(7117);r.switchMapTo=function(e,r){return o.isFunction(r)?n.switchMap((function(){return e}),r):n.switchMap((function(){return e}))}},539:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchScan=void 0;var n=t(615),o=t(7041);r.switchScan=function(e,r){return o.operate((function(t,o){var i=r;return n.switchMap((function(r,t){return e(i,r,t)}),(function(e,r){return i=r,r}))(t).subscribe(o),function(){i=null}}))}},4484:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.take=void 0;var n=t(7711),o=t(7041),i=t(1252);r.take=function(e){return e<=0?function(){return n.EMPTY}:o.operate((function(r,t){var n=0;r.subscribe(i.createOperatorSubscriber(t,(function(r){++n<=e&&(t.next(r),e<=n&&t.complete())})))}))}},538:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.takeLast=void 0;var o=t(7711),i=t(7041),u=t(1252);r.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate((function(r,t){var o=[];r.subscribe(u.createOperatorSubscriber(t,(function(r){o.push(r),e<o.length&&o.shift()}),(function(){var e,r;try{for(var i=n(o),u=i.next();!u.done;u=i.next()){var a=u.value;t.next(a)}}catch(r){e={error:r}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}t.complete()}),void 0,(function(){o=null})))}))}},5565:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.takeUntil=void 0;var n=t(7041),o=t(1252),i=t(4310),u=t(1123);r.takeUntil=function(e){return n.operate((function(r,t){i.innerFrom(e).subscribe(o.createOperatorSubscriber(t,(function(){return t.complete()}),u.noop)),!t.closed&&r.subscribe(t)}))}},7321:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.takeWhile=void 0;var n=t(7041),o=t(1252);r.takeWhile=function(e,r){return void 0===r&&(r=!1),n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){var o=e(t,i++);(o||r)&&n.next(t),!o&&n.complete()})))}))}},8179:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tap=void 0;var n=t(7117),o=t(7041),i=t(1252),u=t(742);r.tap=function(e,r,t){var a=n.isFunction(e)||r||t?{next:e,error:r,complete:t}:e;return a?o.operate((function(e,r){var t;null===(t=a.subscribe)||void 0===t||t.call(a);var n=!0;e.subscribe(i.createOperatorSubscriber(r,(function(e){var t;null===(t=a.next)||void 0===t||t.call(a,e),r.next(e)}),(function(){var e;n=!1,null===(e=a.complete)||void 0===e||e.call(a),r.complete()}),(function(e){var t;n=!1,null===(t=a.error)||void 0===t||t.call(a,e),r.error(e)}),(function(){var e,r;n&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(r=a.finalize)||void 0===r||r.call(a)})))})):u.identity}},2295:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throttle=r.defaultThrottleConfig=void 0;var n=t(7041),o=t(1252),i=t(4310);r.defaultThrottleConfig={leading:!0,trailing:!1},r.throttle=function(e,t){return void 0===t&&(t=r.defaultThrottleConfig),n.operate((function(r,n){var u=t.leading,a=t.trailing,c=!1,s=null,l=null,f=!1,d=function(){null==l||l.unsubscribe(),l=null,a&&(v(),f&&n.complete())},p=function(){l=null,f&&n.complete()},b=function(r){return l=i.innerFrom(e(r)).subscribe(o.createOperatorSubscriber(n,d,p))},v=function(){if(c){c=!1;var e=s;s=null,n.next(e),!f&&b(e)}};r.subscribe(o.createOperatorSubscriber(n,(function(e){c=!0,s=e,(!l||l.closed)&&(u?v():b(e))}),(function(){f=!0,(!(a&&c&&l)||l.closed)&&n.complete()})))}))}},7282:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throttleTime=void 0;var n=t(4721),o=t(2295),i=t(2033);r.throttleTime=function(e,r,t){void 0===r&&(r=n.asyncScheduler),void 0===t&&(t=o.defaultThrottleConfig);var u=i.timer(e,r);return o.throttle((function(){return u}),t)}},3907:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwIfEmpty=void 0;var n=t(1486),o=t(7041),i=t(1252);function u(){return new n.EmptyError}r.throwIfEmpty=function(e){return void 0===e&&(e=u),o.operate((function(r,t){var n=!1;r.subscribe(i.createOperatorSubscriber(t,(function(e){n=!0,t.next(e)}),(function(){return n?t.complete():t.error(e())})))}))}},6642:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeInterval=r.timeInterval=void 0;var n=t(4721),o=t(7041),i=t(1252);r.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),o.operate((function(r,t){var n=e.now();r.subscribe(i.createOperatorSubscriber(t,(function(r){var o=e.now(),i=o-n;n=o,t.next(new u(r,i))})))}))};var u=function(e,r){this.value=e,this.interval=r};r.TimeInterval=u},9802:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=r.TimeoutError=void 0;var n=t(4721),o=t(5253),i=t(7041),u=t(4310),a=t(6445),c=t(1252),s=t(2296);function l(e){throw new r.TimeoutError(e)}r.TimeoutError=a.createErrorClass((function(e){return function(r){void 0===r&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}})),r.timeout=function(e,r){var t=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,a=t.first,f=t.each,d=t.with,p=void 0===d?l:d,b=t.scheduler,v=void 0===b?null!=r?r:n.asyncScheduler:b,h=t.meta,y=void 0===h?null:h;if(null==a&&null==f)throw new TypeError("No timeout provided.");return i.operate((function(e,r){var t,n,o=null,i=0,l=function(e){n=s.executeSchedule(r,v,(function(){try{t.unsubscribe(),u.innerFrom(p({meta:y,lastValue:o,seen:i})).subscribe(r)}catch(e){r.error(e)}}),e)};t=e.subscribe(c.createOperatorSubscriber(r,(function(e){null==n||n.unsubscribe(),i++,r.next(o=e),f>0&&l(f)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),o=null}))),!i&&l(null!=a?"number"==typeof a?a:+a-v.now():f)}))}},8445:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timeoutWith=void 0;var n=t(4721),o=t(5253),i=t(9802);r.timeoutWith=function(e,r,t){var u,a,c;if(t=null!=t?t:n.async,o.isValidDate(e)?u=e:"number"==typeof e&&(a=e),!r)throw new TypeError("No observable provided to switch to");if(c=function(){return r},null==u&&null==a)throw new TypeError("No timeout provided.");return i.timeout({first:u,each:a,scheduler:t,with:c})}},6525:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timestamp=void 0;var n=t(9614),o=t(7468);r.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),o.map((function(r){return{value:r,timestamp:e.now()}}))}},8524:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toArray=void 0;var n=t(5159),o=t(7041),i=function(e,r){return e.push(r),e};r.toArray=function(){return o.operate((function(e,r){n.reduce(i,[])(e).subscribe(r)}))}},7236:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.window=void 0;var n=t(5683),o=t(7041),i=t(1252),u=t(1123),a=t(4310);r.window=function(e){return o.operate((function(r,t){var o=new n.Subject;t.next(o.asObservable());var c=function(e){o.error(e),t.error(e)};return r.subscribe(i.createOperatorSubscriber(t,(function(e){return null==o?void 0:o.next(e)}),(function(){o.complete(),t.complete()}),c)),a.innerFrom(e).subscribe(i.createOperatorSubscriber(t,(function(){o.complete(),t.next(o=new n.Subject)}),u.noop,c)),function(){null==o||o.unsubscribe(),o=null}}))}},36:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.windowCount=void 0;var o=t(5683),i=t(7041),u=t(1252);r.windowCount=function(e,r){void 0===r&&(r=0);var t=r>0?r:e;return i.operate((function(r,i){var a=[new o.Subject],c=0;i.next(a[0].asObservable()),r.subscribe(u.createOperatorSubscriber(i,(function(r){var u,s;try{for(var l=n(a),f=l.next();!f.done;f=l.next())f.value.next(r)}catch(e){u={error:e}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}var d=c-e+1;if(d>=0&&d%t==0&&a.shift().complete(),++c%t==0){var p=new o.Subject;a.push(p),i.next(p.asObservable())}}),(function(){for(;a.length>0;)a.shift().complete();i.complete()}),(function(e){for(;a.length>0;)a.shift().error(e);i.error(e)}),(function(){a=null})))}))}},7073:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.windowTime=void 0;var n=t(5683),o=t(4721),i=t(4794),u=t(7041),a=t(1252),c=t(6006),s=t(1239),l=t(2296);r.windowTime=function(e){for(var r,t,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(r=s.popScheduler(f))&&void 0!==r?r:o.asyncScheduler,b=null!==(t=f[0])&&void 0!==t?t:null,v=f[1]||1/0;return u.operate((function(r,t){var o=[],u=!1,s=function(e){var r=e.window,t=e.subs;r.complete(),t.unsubscribe(),c.arrRemove(o,e),u&&f()},f=function(){if(o){var r=new i.Subscription;t.add(r);var u=new n.Subject,a={window:u,subs:r,seen:0};o.push(a),t.next(u.asObservable()),l.executeSchedule(r,p,(function(){return s(a)}),e)}};null!==b&&b>=0?l.executeSchedule(t,p,f,b,!0):u=!0,f();var d=function(e){return o.slice().forEach(e)},h=function(e){d((function(r){var t=r.window;return e(t)})),e(t),t.unsubscribe()};return r.subscribe(a.createOperatorSubscriber(t,(function(e){d((function(r){r.window.next(e),v<=++r.seen&&s(r)}))}),(function(){return h((function(e){return e.complete()}))}),(function(e){return h((function(r){return r.error(e)}))}))),function(){o=null}}))}},4101:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.windowToggle=void 0;var o=t(5683),i=t(4794),u=t(7041),a=t(4310),c=t(1252),s=t(1123),l=t(6006);r.windowToggle=function(e,r){return u.operate((function(t,u){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);u.error(e)};a.innerFrom(e).subscribe(c.createOperatorSubscriber(u,(function(e){var t=new o.Subject;f.push(t);var n,p=new i.Subscription;try{n=a.innerFrom(r(e))}catch(e){return void d(e)}u.next(t.asObservable()),p.add(n.subscribe(c.createOperatorSubscriber(u,(function(){l.arrRemove(f,t),t.complete(),p.unsubscribe()}),s.noop,d)))}),s.noop)),t.subscribe(c.createOperatorSubscriber(u,(function(e){var r,t,o=f.slice();try{for(var i=n(o),u=i.next();!u.done;u=i.next())u.value.next(e)}catch(e){r={error:e}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}}),(function(){for(;0<f.length;)f.shift().complete();u.complete()}),d,(function(){for(;0<f.length;)f.shift().unsubscribe()})))}))}},9092:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.windowWhen=void 0;var n=t(5683),o=t(7041),i=t(1252),u=t(4310);r.windowWhen=function(e){return o.operate((function(r,t){var o,a,c=function(e){o.error(e),t.error(e)},s=function(){var r;null==a||a.unsubscribe(),null==o||o.complete(),o=new n.Subject,t.next(o.asObservable());try{r=u.innerFrom(e())}catch(e){return void c(e)}r.subscribe(a=i.createOperatorSubscriber(t,s,s,c))};s(),r.subscribe(i.createOperatorSubscriber(t,(function(e){return o.next(e)}),(function(){o.complete(),t.complete()}),c,(function(){null==a||a.unsubscribe(),o=null})))}))}},3112:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.withLatestFrom=void 0;var i=t(7041),u=t(1252),a=t(4310),c=t(742),s=t(1123),l=t(1239);r.withLatestFrom=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=l.popResultSelector(e);return i.operate((function(r,i){for(var l=e.length,f=new Array(l),d=e.map((function(){return!1})),p=!1,b=function(r){a.innerFrom(e[r]).subscribe(u.createOperatorSubscriber(i,(function(e){f[r]=e,p||d[r]||(d[r]=!0,(p=d.every(c.identity))&&(d=null))}),s.noop))},v=0;v<l;v++)b(v);r.subscribe(u.createOperatorSubscriber(i,(function(e){if(p){var r=o([e],n(f));i.next(t?t.apply(void 0,o([],n(r))):r)}})))}))}},8668:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zip=void 0;var i=t(9049),u=t(7041);r.zip=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u.operate((function(r,t){i.zip.apply(void 0,o([r],n(e))).subscribe(t)}))}},6882:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.zipAll=void 0;var n=t(9049),o=t(8254);r.zipAll=function(e){return o.joinAllInternals(n.zip,e)}},2787:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zipWith=void 0;var i=t(8668);r.zipWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.zip.apply(void 0,o([],n(e)))}},2907:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleArray=void 0;var n=t(2334);r.scheduleArray=function(e,r){return new n.Observable((function(t){var n=0;return r.schedule((function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())}))}))}},9777:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleAsyncIterable=void 0;var n=t(2334),o=t(2296);r.scheduleAsyncIterable=function(e,r){if(!e)throw new Error("Iterable cannot be null");return new n.Observable((function(t){o.executeSchedule(t,r,(function(){var n=e[Symbol.asyncIterator]();o.executeSchedule(t,r,(function(){n.next().then((function(e){e.done?t.complete():t.next(e.value)}))}),0,!0)}))}))}},8321:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleIterable=void 0;var n=t(2334),o=t(1502),i=t(7117),u=t(2296);r.scheduleIterable=function(e,r){return new n.Observable((function(t){var n;return u.executeSchedule(t,r,(function(){n=e[o.iterator](),u.executeSchedule(t,r,(function(){var e,r,o;try{r=(e=n.next()).value,o=e.done}catch(e){return void t.error(e)}o?t.complete():t.next(r)}),0,!0)})),function(){return i.isFunction(null==n?void 0:n.return)&&n.return()}}))}},1248:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleObservable=void 0;var n=t(4310),o=t(4732),i=t(4021);r.scheduleObservable=function(e,r){return n.innerFrom(e).pipe(i.subscribeOn(r),o.observeOn(r))}},4017:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.schedulePromise=void 0;var n=t(4310),o=t(4732),i=t(4021);r.schedulePromise=function(e,r){return n.innerFrom(e).pipe(i.subscribeOn(r),o.observeOn(r))}},3167:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleReadableStreamLike=void 0;var n=t(9777),o=t(474);r.scheduleReadableStreamLike=function(e,r){return n.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),r)}},4560:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduled=void 0;var n=t(1248),o=t(4017),i=t(2907),u=t(8321),a=t(9777),c=t(7851),s=t(6809),l=t(4324),f=t(6013),d=t(3749),p=t(3325),b=t(474),v=t(3167);r.scheduled=function(e,r){if(null!=e){if(c.isInteropObservable(e))return n.scheduleObservable(e,r);if(l.isArrayLike(e))return i.scheduleArray(e,r);if(s.isPromise(e))return o.schedulePromise(e,r);if(d.isAsyncIterable(e))return a.scheduleAsyncIterable(e,r);if(f.isIterable(e))return u.scheduleIterable(e,r);if(b.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,r)}throw p.createInvalidObservableTypeError(e)}},1744:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.Action=void 0;var i=function(e){function r(r,t){return e.call(this)||this}return o(r,e),r.prototype.schedule=function(e,r){return void 0===r&&(r=0),this},r}(t(4794).Subscription);r.Action=i},6632:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationFrameAction=void 0;var i=t(804),u=t(6763),a=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n}return o(r,e),r.prototype.requestAsyncId=function(r,t,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=u.animationFrameProvider.requestAnimationFrame((function(){return r.flush(void 0)}))))},r.prototype.recycleAsyncId=function(r,t,n){var o;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,t,n);var i=r.actions;null!=t&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==t&&(u.animationFrameProvider.cancelAnimationFrame(t),r._scheduled=void 0)},r}(i.AsyncAction);r.AnimationFrameAction=a},4543:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationFrameScheduler=void 0;var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return o(r,e),r.prototype.flush=function(e){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var t,n=this.actions;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},r}(t(7109).AsyncScheduler);r.AnimationFrameScheduler=i},6491:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsapAction=void 0;var i=t(804),u=t(2723),a=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n}return o(r,e),r.prototype.requestAsyncId=function(r,t,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=u.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},r.prototype.recycleAsyncId=function(r,t,n){var o;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,t,n);var i=r.actions;null!=t&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==t&&(u.immediateProvider.clearImmediate(t),r._scheduled=void 0)},r}(i.AsyncAction);r.AsapAction=a},3050:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsapScheduler=void 0;var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return o(r,e),r.prototype.flush=function(e){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var t,n=this.actions;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},r}(t(7109).AsyncScheduler);r.AsapScheduler=i},804:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncAction=void 0;var i=t(1744),u=t(9571),a=t(6006),c=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n.pending=!1,n}return o(r,e),r.prototype.schedule=function(e,r){var t;if(void 0===r&&(r=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,r)),this.pending=!0,this.delay=r,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(o,this.id,r),this},r.prototype.requestAsyncId=function(e,r,t){return void 0===t&&(t=0),u.intervalProvider.setInterval(e.flush.bind(e,this),t)},r.prototype.recycleAsyncId=function(e,r,t){if(void 0===t&&(t=0),null!=t&&this.delay===t&&!1===this.pending)return r;null!=r&&u.intervalProvider.clearInterval(r)},r.prototype.execute=function(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var t=this._execute(e,r);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,r){var t,n=!1;try{this.work(e)}catch(e){n=!0,t=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),t},r.prototype.unsubscribe=function(){if(!this.closed){var r=this.id,t=this.scheduler,n=t.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(n,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},r}(i.Action);r.AsyncAction=c},7109:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncScheduler=void 0;var i=t(5297),u=function(e){function r(r,t){void 0===t&&(t=i.Scheduler.now);var n=e.call(this,r,t)||this;return n.actions=[],n._active=!1,n}return o(r,e),r.prototype.flush=function(e){var r=this.actions;if(this._active)r.push(e);else{var t;this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}}},r}(i.Scheduler);r.AsyncScheduler=u},4684:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.QueueAction=void 0;var i=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n}return o(r,e),r.prototype.schedule=function(r,t){return void 0===t&&(t=0),t>0?e.prototype.schedule.call(this,r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)},r.prototype.execute=function(r,t){return t>0||this.closed?e.prototype.execute.call(this,r,t):this._execute(r,t)},r.prototype.requestAsyncId=function(r,t,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,r,t,n):(r.flush(this),0)},r}(t(804).AsyncAction);r.QueueAction=i},6313:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.QueueScheduler=void 0;var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return o(r,e),r}(t(7109).AsyncScheduler);r.QueueScheduler=i},7458:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.VirtualAction=r.VirtualTimeScheduler=void 0;var i=t(804),u=t(4794),a=function(e){function r(r,t){void 0===r&&(r=c),void 0===t&&(t=1/0);var n=e.call(this,r,(function(){return n.frame}))||this;return n.maxFrames=t,n.frame=0,n.index=-1,n}return o(r,e),r.prototype.flush=function(){for(var e,r,t=this.actions,n=this.maxFrames;(r=t[0])&&r.delay<=n&&(t.shift(),this.frame=r.delay,!(e=r.execute(r.state,r.delay))););if(e){for(;r=t.shift();)r.unsubscribe();throw e}},r.frameTimeFactor=10,r}(t(7109).AsyncScheduler);r.VirtualTimeScheduler=a;var c=function(e){function r(r,t,n){void 0===n&&(n=r.index+=1);var o=e.call(this,r,t)||this;return o.scheduler=r,o.work=t,o.index=n,o.active=!0,o.index=r.index=n,o}return o(r,e),r.prototype.schedule=function(t,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,t,n);this.active=!1;var o=new r(this.scheduler,this.work);return this.add(o),o.schedule(t,n)}return u.Subscription.EMPTY},r.prototype.requestAsyncId=function(e,t,n){void 0===n&&(n=0),this.delay=e.frame+n;var o=e.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(e,r,t){void 0===t&&(t=0)},r.prototype._execute=function(r,t){if(!0===this.active)return e.prototype._execute.call(this,r,t)},r.sortActions=function(e,r){return e.delay===r.delay?e.index===r.index?0:e.index>r.index?1:-1:e.delay>r.delay?1:-1},r}(i.AsyncAction);r.VirtualAction=c},3738:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrame=r.animationFrameScheduler=void 0;var n=t(6632),o=t(4543);r.animationFrameScheduler=new o.AnimationFrameScheduler(n.AnimationFrameAction),r.animationFrame=r.animationFrameScheduler},6763:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrameProvider=void 0;var i=t(4794);r.animationFrameProvider={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,o=r.animationFrameProvider.delegate;o&&(t=o.requestAnimationFrame,n=o.cancelAnimationFrame);var u=t((function(r){n=void 0,e(r)}));return new i.Subscription((function(){return null==n?void 0:n(u)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r.animationFrameProvider.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,o([],n(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r.animationFrameProvider.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,o([],n(e)))},delegate:void 0}},115:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.asap=r.asapScheduler=void 0;var n=t(6491),o=t(3050);r.asapScheduler=new o.AsapScheduler(n.AsapAction),r.asap=r.asapScheduler},4721:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.async=r.asyncScheduler=void 0;var n=t(804),o=t(7109);r.asyncScheduler=new o.AsyncScheduler(n.AsyncAction),r.async=r.asyncScheduler},9614:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.dateTimestampProvider=void 0,r.dateTimestampProvider={now:function(){return(r.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},2723:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.immediateProvider=void 0;var i=t(4003),u=i.Immediate.setImmediate,a=i.Immediate.clearImmediate;r.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r.immediateProvider.delegate;return((null==i?void 0:i.setImmediate)||u).apply(void 0,o([],n(e)))},clearImmediate:function(e){var t=r.immediateProvider.delegate;return((null==t?void 0:t.clearImmediate)||a)(e)},delegate:void 0}},9571:function(e,r){var t=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},n=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.intervalProvider=void 0,r.intervalProvider={setInterval:function(e,o){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];var a=r.intervalProvider.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,n([e,o],t(i))):setInterval.apply(void 0,n([e,o],t(i)))},clearInterval:function(e){var t=r.intervalProvider.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0}},476:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.performanceTimestampProvider=void 0,r.performanceTimestampProvider={now:function(){return(r.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},1690:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.queue=r.queueScheduler=void 0;var n=t(4684),o=t(6313);r.queueScheduler=new o.QueueScheduler(n.QueueAction),r.queue=r.queueScheduler},9234:function(e,r){var t=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},n=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.timeoutProvider=void 0,r.timeoutProvider={setTimeout:function(e,o){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];var a=r.timeoutProvider.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,n([e,o],t(i))):setTimeout.apply(void 0,n([e,o],t(i)))},clearTimeout:function(e){var t=r.timeoutProvider.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},1502:(e,r)=>{function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.iterator=r.getSymbolIterator=void 0,r.getSymbolIterator=t,r.iterator=t()},5310:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.observable=void 0,r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1862:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},9904:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ArgumentOutOfRangeError=void 0;var n=t(6445);r.ArgumentOutOfRangeError=n.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},1486:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.EmptyError=void 0;var n=t(6445);r.EmptyError=n.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},4003:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TestTools=r.Immediate=void 0;var t,n=1,o={};function i(e){return e in o&&(delete o[e],!0)}r.Immediate={setImmediate:function(e){var r=n++;return o[r]=!0,t||(t=Promise.resolve()),t.then((function(){return i(r)&&e()})),r},clearImmediate:function(e){i(e)}},r.TestTools={pending:function(){return Object.keys(o).length}}},8909:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NotFoundError=void 0;var n=t(6445);r.NotFoundError=n.createErrorClass((function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}}))},6965:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ObjectUnsubscribedError=void 0;var n=t(6445);r.ObjectUnsubscribedError=n.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},8010:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SequenceError=void 0;var n=t(6445);r.SequenceError=n.createErrorClass((function(e){return function(r){e(this),this.name="SequenceError",this.message=r}}))},6235:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnsubscriptionError=void 0;var n=t(6445);r.UnsubscriptionError=n.createErrorClass((function(e){return function(r){e(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map((function(e,r){return r+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r}}))},1239:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.popNumber=r.popScheduler=r.popResultSelector=void 0;var n=t(7117),o=t(6476);function i(e){return e[e.length-1]}r.popResultSelector=function(e){return n.isFunction(i(e))?e.pop():void 0},r.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},r.popNumber=function(e,r){return"number"==typeof i(e)?e.pop():r}},8242:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.argsArgArrayOrObject=void 0;var t=Array.isArray,n=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;r.argsArgArrayOrObject=function(e){if(1===e.length){var r=e[0];if(t(r))return{args:r,keys:null};if((a=r)&&"object"==typeof a&&n(a)===o){var u=i(r);return{args:u.map((function(e){return r[e]})),keys:u}}}var a;return{args:e,keys:null}}},2546:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.argsOrArgArray=void 0;var t=Array.isArray;r.argsOrArgArray=function(e){return 1===e.length&&t(e[0])?e[0]:e}},6006:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.arrRemove=void 0,r.arrRemove=function(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}},6445:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createErrorClass=void 0,r.createErrorClass=function(e){var r=e((function(e){Error.call(e),e.stack=(new Error).stack}));return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}},3170:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createObject=void 0,r.createObject=function(e,r){return e.reduce((function(e,t,n){return e[t]=r[n],e}),{})}},5477:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.captureError=r.errorContext=void 0;var n=t(9666),o=null;r.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var r=!o;if(r&&(o={errorThrown:!1,error:null}),e(),r){var t=o,i=t.errorThrown,u=t.error;if(o=null,i)throw u}}else e()},r.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},2296:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.executeSchedule=void 0,r.executeSchedule=function(e,r,t,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=r.schedule((function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}},742:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.identity=void 0,r.identity=function(e){return e}},4324:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=void 0,r.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},3749:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isAsyncIterable=void 0;var n=t(7117);r.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},5253:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isValidDate=void 0,r.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},7117:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=void 0,r.isFunction=function(e){return"function"==typeof e}},7851:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isInteropObservable=void 0;var n=t(5310),o=t(7117);r.isInteropObservable=function(e){return o.isFunction(e[n.observable])}},6013:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isIterable=void 0;var n=t(1502),o=t(7117);r.isIterable=function(e){return o.isFunction(null==e?void 0:e[n.iterator])}},570:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isObservable=void 0;var n=t(2334),o=t(7117);r.isObservable=function(e){return!!e&&(e instanceof n.Observable||o.isFunction(e.lift)&&o.isFunction(e.subscribe))}},6809:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=void 0;var n=t(7117);r.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}},474:function(e,r,t){var n=this&&this.__generator||function(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=t.apply(e,r||[]),u=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(r){return new Promise((function(t,n){u.push([e,r,t,n])>1||c(e,r)}))})}function c(e,r){try{(t=i[e](r)).value instanceof o?Promise.resolve(t.value.v).then(s,l):f(u[0][2],t)}catch(e){f(u[0][3],e)}var t}function s(e){c("next",e)}function l(e){c("throw",e)}function f(e,r){e(r),u.shift(),u.length&&c(u[0][0],u[0][1])}};Object.defineProperty(r,"__esModule",{value:!0}),r.isReadableStreamLike=r.readableStreamLikeToAsyncGenerator=void 0;var u=t(7117);r.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,(function(){var r,t,i;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,o(r.read())];case 3:return t=n.sent(),i=t.value,t.done?[4,o(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,o(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}}))}))},r.isReadableStreamLike=function(e){return u.isFunction(null==e?void 0:e.getReader)}},6476:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=void 0;var n=t(7117);r.isScheduler=function(e){return e&&n.isFunction(e.schedule)}},7041:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.operate=r.hasLift=void 0;var n=t(7117);function o(e){return n.isFunction(null==e?void 0:e.lift)}r.hasLift=o,r.operate=function(e){return function(r){if(o(r))return r.lift((function(r){try{return e(r,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},2667:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.mapOneOrManyArgs=void 0;var i=t(7468),u=Array.isArray;r.mapOneOrManyArgs=function(e){return i.map((function(r){return function(e,r){return u(r)?e.apply(void 0,o([],n(r))):e(r)}(e,r)}))}},1123:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.noop=void 0,r.noop=function(){}},3074:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.not=void 0,r.not=function(e,r){return function(t,n){return!e.call(r,t,n)}}},3348:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pipeFromArray=r.pipe=void 0;var n=t(742);function o(e){return 0===e.length?n.identity:1===e.length?e[0]:function(r){return e.reduce((function(e,r){return r(e)}),r)}}r.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return o(e)},r.pipeFromArray=o},3783:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.reportUnhandledError=void 0;var n=t(9666),o=t(9234);r.reportUnhandledError=function(e){o.timeoutProvider.setTimeout((function(){var r=n.config.onUnhandledError;if(!r)throw e;r(e)}))}},3325:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createInvalidObservableTypeError=void 0,r.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},2722:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.environment=void 0,r.environment={apiBaseUrl:"http://0.0.0.0:8084"}},5888:function(e,r,t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.httpGet=void 0;const o=n(t(7218)),i=t(2722),u=t(3147),a=o.default.create({baseURL:i.environment.apiBaseUrl||"http://localhost:3000"});r.httpGet=function(e,r=null){return(0,u.from)(a.get(e,{params:r}))},r.default=a},4112:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getSpentToday=void 0;const n=t(5888),o=t(3147);r.getSpentToday=()=>(0,n.httpGet)("/measurement/month").pipe((0,o.map)((e=>{if(200===e.status)return e.data})))},7218:(e,r,t)=>{function n(e,r){return function(){return e.apply(r,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,u=(a=Object.create(null),e=>{const r=o.call(e);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())});var a;const c=e=>(e=e.toLowerCase(),r=>u(r)===e),s=e=>r=>typeof r===e,{isArray:l}=Array,f=s("undefined"),d=c("ArrayBuffer"),p=s("string"),b=s("function"),v=s("number"),h=e=>null!==e&&"object"==typeof e,y=e=>{if("object"!==u(e))return!1;const r=i(e);return!(null!==r&&r!==Object.prototype&&null!==Object.getPrototypeOf(r)||Symbol.toStringTag in e||Symbol.iterator in e)},m=c("Date"),_=c("File"),O=c("Blob"),g=c("FileList"),w=c("URLSearchParams");function j(e,r,{allOwnKeys:t=!1}={}){if(null==e)return;let n,o;if("object"!=typeof e&&(e=[e]),l(e))for(n=0,o=e.length;n<o;n++)r.call(null,e[n],n,e);else{const o=t?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let u;for(n=0;n<i;n++)u=o[n],r.call(null,e[u],u,e)}}function P(e,r){r=r.toLowerCase();const t=Object.keys(e);let n,o=t.length;for(;o-- >0;)if(n=t[o],r===n.toLowerCase())return n;return null}const S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t.g,E=e=>!f(e)&&e!==S,x=(A="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>A&&e instanceof A);var A;const M=c("HTMLFormElement"),T=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),F=c("RegExp"),R=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),n={};j(t,((t,o)=>{!1!==r(t,o,e)&&(n[o]=t)})),Object.defineProperties(e,n)};var C={isArray:l,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const r="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===r||b(e.toString)&&e.toString()===r)},isArrayBufferView:function(e){let r;return r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer),r},isString:p,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:h,isPlainObject:y,isUndefined:f,isDate:m,isFile:_,isBlob:O,isRegExp:F,isFunction:b,isStream:e=>h(e)&&b(e.pipe),isURLSearchParams:w,isTypedArray:x,isFileList:g,forEach:j,merge:function e(){const{caseless:r}=E(this)&&this||{},t={},n=(n,o)=>{const i=r&&P(t,o)||o;y(t[i])&&y(n)?t[i]=e(t[i],n):y(n)?t[i]=e({},n):l(n)?t[i]=n.slice():t[i]=n};for(let e=0,r=arguments.length;e<r;e++)arguments[e]&&j(arguments[e],n);return t},extend:(e,r,t,{allOwnKeys:o}={})=>(j(r,((r,o)=>{t&&b(r)?e[o]=n(r,t):e[o]=r}),{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,r,t,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,r,t,n)=>{let o,u,a;const c={};if(r=r||{},null==e)return r;do{for(o=Object.getOwnPropertyNames(e),u=o.length;u-- >0;)a=o[u],n&&!n(a,e,r)||c[a]||(r[a]=e[a],c[a]=!0);e=!1!==t&&i(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},kindOf:u,kindOfTest:c,endsWith:(e,r,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=r.length;const n=e.indexOf(r,t);return-1!==n&&n===t},toArray:e=>{if(!e)return null;if(l(e))return e;let r=e.length;if(!v(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},forEachEntry:(e,r)=>{const t=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=t.next())&&!n.done;){const t=n.value;r.call(e,t[0],t[1])}},matchAll:(e,r)=>{let t;const n=[];for(;null!==(t=e.exec(r));)n.push(t);return n},isHTMLForm:M,hasOwnProperty:T,hasOwnProp:T,reduceDescriptors:R,freezeMethods:e=>{R(e,((r,t)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const n=e[t];b(n)&&(r.enumerable=!1,"writable"in r?r.writable=!1:r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,r)=>{const t={},n=e=>{e.forEach((e=>{t[e]=!0}))};return l(e)?n(e):n(String(e).split(r)),t},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,r,t){return r.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,r)=>(e=+e,Number.isFinite(e)?e:r),findKey:P,global:S,isContextDefined:E,toJSONObject:e=>{const r=new Array(10),t=(e,n)=>{if(h(e)){if(r.indexOf(e)>=0)return;if(!("toJSON"in e)){r[n]=e;const o=l(e)?[]:{};return j(e,((e,r)=>{const i=t(e,n+1);!f(i)&&(o[r]=i)})),r[n]=void 0,o}}return e};return t(e,0)}};function I(e,r,t,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),n&&(this.request=n),o&&(this.response=o)}C.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const k=I.prototype,N={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{N[e]={value:e}})),Object.defineProperties(I,N),Object.defineProperty(k,"isAxiosError",{value:!0}),I.from=(e,r,t,n,o,i)=>{const u=Object.create(k);return C.toFlatObject(e,u,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),I.call(u,e.message,r,t,n,o),u.cause=e,u.name=e.name,i&&Object.assign(u,i),u};var L="object"==typeof self?self.FormData:window.FormData;function U(e){return C.isPlainObject(e)||C.isArray(e)}function W(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function B(e,r,t){return e?e.concat(r).map((function(e,r){return e=W(e),!t&&r?"["+e+"]":e})).join(t?".":""):r}const q=C.toFlatObject(C,{},null,(function(e){return/^is[A-Z]/.test(e)}));function z(e,r,t){if(!C.isObject(e))throw new TypeError("target must be an object");r=r||new(L||FormData);const n=(t=C.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,r){return!C.isUndefined(r[e])}))).metaTokens,o=t.visitor||l,i=t.dots,u=t.indexes,a=(t.Blob||"undefined"!=typeof Blob&&Blob)&&(c=r)&&C.isFunction(c.append)&&"FormData"===c[Symbol.toStringTag]&&c[Symbol.iterator];var c;if(!C.isFunction(o))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(C.isDate(e))return e.toISOString();if(!a&&C.isBlob(e))throw new I("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(e)||C.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,t,o){let a=e;if(e&&!o&&"object"==typeof e)if(C.endsWith(t,"{}"))t=n?t:t.slice(0,-2),e=JSON.stringify(e);else if(C.isArray(e)&&function(e){return C.isArray(e)&&!e.some(U)}(e)||C.isFileList(e)||C.endsWith(t,"[]")&&(a=C.toArray(e)))return t=W(t),a.forEach((function(e,n){!C.isUndefined(e)&&null!==e&&r.append(!0===u?B([t],n,i):null===u?t:t+"[]",s(e))})),!1;return!!U(e)||(r.append(B(o,t,i),s(e)),!1)}const f=[],d=Object.assign(q,{defaultVisitor:l,convertValue:s,isVisitable:U});if(!C.isObject(e))throw new TypeError("data must be an object");return function e(t,n){if(!C.isUndefined(t)){if(-1!==f.indexOf(t))throw Error("Circular reference detected in "+n.join("."));f.push(t),C.forEach(t,(function(t,i){!0===(!(C.isUndefined(t)||null===t)&&o.call(r,t,C.isString(i)?i.trim():i,n,d))&&e(t,n?n.concat(i):[i])})),f.pop()}}(e),r}function D(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return r[e]}))}function V(e,r){this._pairs=[],e&&z(e,this,r)}const Y=V.prototype;function H(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J(e,r,t){if(!r)return e;const n=t&&t.encode||H,o=t&&t.serialize;let i;if(i=o?o(r,t):C.isURLSearchParams(r)?r.toString():new V(r,t).toString(n),i){const r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}Y.append=function(e,r){this._pairs.push([e,r])},Y.toString=function(e){const r=e?function(r){return e.call(this,r,D)}:D;return this._pairs.map((function(e){return r(e[0])+"="+r(e[1])}),"").join("&")};var K=class{constructor(){this.handlers=[]}use(e,r,t){return this.handlers.push({fulfilled:e,rejected:r,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,(function(r){null!==r&&e(r)}))}},G={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q="undefined"!=typeof URLSearchParams?URLSearchParams:V,$=FormData;const X=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),Z="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ee={isBrowser:!0,classes:{URLSearchParams:Q,FormData:$,Blob},isStandardBrowserEnv:X,isStandardBrowserWebWorkerEnv:Z,protocols:["http","https","file","blob","url","data"]};function re(e){function r(e,t,n,o){let i=e[o++];const u=Number.isFinite(+i),a=o>=e.length;return i=!i&&C.isArray(n)?n.length:i,a?(C.hasOwnProp(n,i)?n[i]=[n[i],t]:n[i]=t,!u):(n[i]&&C.isObject(n[i])||(n[i]=[]),r(e,t,n[i],o)&&C.isArray(n[i])&&(n[i]=function(e){const r={},t=Object.keys(e);let n;const o=t.length;let i;for(n=0;n<o;n++)i=t[n],r[i]=e[i];return r}(n[i])),!u)}if(C.isFormData(e)&&C.isFunction(e.entries)){const t={};return C.forEachEntry(e,((e,n)=>{r(function(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,t,0)})),t}return null}const te={"Content-Type":void 0},ne={transitional:G,adapter:["xhr","http"],transformRequest:[function(e,r){const t=r.getContentType()||"",n=t.indexOf("application/json")>-1,o=C.isObject(e);if(o&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return n&&n?JSON.stringify(re(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,r){return z(e,new ee.classes.URLSearchParams,Object.assign({visitor:function(e,r,t,n){return ee.isNode&&C.isBuffer(e)?(this.append(r,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},r))}(e,this.formSerializer).toString();if((i=C.isFileList(e))||t.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return z(i?{"files[]":e}:e,r&&new r,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),function(e,r,t){if(C.isString(e))try{return(0,JSON.parse)(e),C.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const r=this.transitional||ne.transitional,t=r&&r.forcedJSONParsing,n="json"===this.responseType;if(e&&C.isString(e)&&(t&&!this.responseType||n)){const t=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw I.from(e,I.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ee.classes.FormData,Blob:ee.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};C.forEach(["delete","get","head"],(function(e){ne.headers[e]={}})),C.forEach(["post","put","patch"],(function(e){ne.headers[e]=C.merge(te)}));var oe=ne;const ie=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ue=Symbol("internals");function ae(e){return e&&String(e).trim().toLowerCase()}function ce(e){return!1===e||null==e?e:C.isArray(e)?e.map(ce):String(e)}function se(e,r,t,n){return C.isFunction(n)?n.call(this,r,t):C.isString(r)?C.isString(n)?-1!==r.indexOf(n):C.isRegExp(n)?n.test(r):void 0:void 0}class le{constructor(e){e&&this.set(e)}set(e,r,t){const n=this;function o(e,r,t){const o=ae(r);if(!o)throw new Error("header name must be a non-empty string");const i=C.findKey(n,o);(!i||void 0===n[i]||!0===t||void 0===t&&!1!==n[i])&&(n[i||r]=ce(e))}const i=(e,r)=>C.forEach(e,((e,t)=>o(e,t,r)));return C.isPlainObject(e)||e instanceof this.constructor?i(e,r):C.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?i((e=>{const r={};let t,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),t=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!t||r[t]&&ie[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r})(e),r):null!=e&&o(r,e,t),this}get(e,r){if(e=ae(e)){const t=C.findKey(this,e);if(t){const e=this[t];if(!r)return e;if(!0===r)return function(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(e);)r[n[1]]=n[2];return r}(e);if(C.isFunction(r))return r.call(this,e,t);if(C.isRegExp(r))return r.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ae(e)){const t=C.findKey(this,e);return!(!t||r&&!se(0,this[t],t,r))}return!1}delete(e,r){const t=this;let n=!1;function o(e){if(e=ae(e)){const o=C.findKey(t,e);!o||r&&!se(0,t[o],o,r)||(delete t[o],n=!0)}}return C.isArray(e)?e.forEach(o):o(e),n}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const r=this,t={};return C.forEach(this,((n,o)=>{const i=C.findKey(t,o);if(i)return r[i]=ce(n),void delete r[o];const u=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,r,t)=>r.toUpperCase()+t))}(o):String(o).trim();u!==o&&delete r[o],r[u]=ce(n),t[u]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return C.forEach(this,((t,n)=>{null!=t&&!1!==t&&(r[n]=e&&C.isArray(t)?t.join(", "):t)})),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,r])=>e+": "+r)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const t=new this(e);return r.forEach((e=>t.set(e))),t}static accessor(e){const r=(this[ue]=this[ue]={accessors:{}}).accessors,t=this.prototype;function n(e){const n=ae(e);r[n]||(function(e,r){const t=C.toCamelCase(" "+r);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+t,{value:function(e,t,o){return this[n].call(this,r,e,t,o)},configurable:!0})}))}(t,e),r[n]=!0)}return C.isArray(e)?e.forEach(n):n(e),this}}le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),C.freezeMethods(le.prototype),C.freezeMethods(le);var fe=le;function de(e,r){const t=this||oe,n=r||t,o=fe.from(n.headers);let i=n.data;return C.forEach(e,(function(e){i=e.call(t,i,o.normalize(),r?r.status:void 0)})),o.normalize(),i}function pe(e){return!(!e||!e.__CANCEL__)}function be(e,r,t){I.call(this,null==e?"canceled":e,I.ERR_CANCELED,r,t),this.name="CanceledError"}C.inherits(be,I,{__CANCEL__:!0});var ve=ee.isStandardBrowserEnv?{write:function(e,r,t,n,o,i){const u=[];u.push(e+"="+encodeURIComponent(r)),C.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),C.isString(n)&&u.push("path="+n),C.isString(o)&&u.push("domain="+o),!0===i&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function he(e,r){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)?function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}(e,r):r}var ye=ee.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let t;function n(t){let n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){const r=C.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function me(e,r){let t=0;const n=function(e,r){e=e||10;const t=new Array(e),n=new Array(e);let o,i=0,u=0;return r=void 0!==r?r:1e3,function(a){const c=Date.now(),s=n[u];o||(o=c),t[i]=a,n[i]=c;let l=u,f=0;for(;l!==i;)f+=t[l++],l%=e;if(i=(i+1)%e,i===u&&(u=(u+1)%e),c-o<r)return;const d=s&&c-s;return d?Math.round(1e3*f/d):void 0}}(50,250);return o=>{const i=o.loaded,u=o.lengthComputable?o.total:void 0,a=i-t,c=n(a);t=i;const s={loaded:i,total:u,progress:u?i/u:void 0,bytes:a,rate:c||void 0,estimated:c&&u&&i<=u?(u-i)/c:void 0,event:o};s[r?"download":"upload"]=!0,e(s)}}const _e={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(r,t){let n=e.data;const o=fe.from(e.headers).normalize(),i=e.responseType;let u;function a(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}C.isFormData(n)&&(ee.isStandardBrowserEnv||ee.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const r=e.auth.username||"",t=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(r+":"+t))}const s=he(e.baseURL,e.url);function l(){if(!c)return;const n=fe.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,r,t){const n=t.config.validateStatus;t.status&&n&&!n(t.status)?r(new I("Request failed with status code "+t.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}((function(e){r(e),a()}),(function(e){t(e),a()}),{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),J(s,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(t(new I("Request aborted",I.ECONNABORTED,e,c)),c=null)},c.onerror=function(){t(new I("Network Error",I.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let r=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||G;e.timeoutErrorMessage&&(r=e.timeoutErrorMessage),t(new I(r,n.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,e,c)),c=null},ee.isStandardBrowserEnv){const r=(e.withCredentials||ye(s))&&e.xsrfCookieName&&ve.read(e.xsrfCookieName);r&&o.set(e.xsrfHeaderName,r)}void 0===n&&o.setContentType(null),"setRequestHeader"in c&&C.forEach(o.toJSON(),(function(e,r){c.setRequestHeader(r,e)})),C.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",me(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",me(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=r=>{c&&(t(!r||r.type?new be(null,e,c):r),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const f=function(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}(s);f&&-1===ee.protocols.indexOf(f)?t(new I("Unsupported protocol "+f+":",I.ERR_BAD_REQUEST,e)):c.send(n||null)}))}};C.forEach(_e,((e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch(e){}Object.defineProperty(e,"adapterName",{value:r})}}));function Oe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new be(null,e)}function ge(e){return Oe(e),e.headers=fe.from(e.headers),e.data=de.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),(e=>{e=C.isArray(e)?e:[e];const{length:r}=e;let t,n;for(let o=0;o<r&&(t=e[o],!(n=C.isString(t)?_e[t.toLowerCase()]:t));o++);if(!n){if(!1===n)throw new I(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(C.hasOwnProp(_e,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`)}if(!C.isFunction(n))throw new TypeError("adapter is not a function");return n})(e.adapter||oe.adapter)(e).then((function(r){return Oe(e),r.data=de.call(e,e.transformResponse,r),r.headers=fe.from(r.headers),r}),(function(r){return pe(r)||(Oe(e),r&&r.response&&(r.response.data=de.call(e,e.transformResponse,r.response),r.response.headers=fe.from(r.response.headers))),Promise.reject(r)}))}const we=e=>e instanceof fe?e.toJSON():e;function je(e,r){r=r||{};const t={};function n(e,r,t){return C.isPlainObject(e)&&C.isPlainObject(r)?C.merge.call({caseless:t},e,r):C.isPlainObject(r)?C.merge({},r):C.isArray(r)?r.slice():r}function o(e,r,t){return C.isUndefined(r)?C.isUndefined(e)?void 0:n(void 0,e,t):n(e,r,t)}function i(e,r){if(!C.isUndefined(r))return n(void 0,r)}function u(e,r){return C.isUndefined(r)?C.isUndefined(e)?void 0:n(void 0,e):n(void 0,r)}function a(t,o,i){return i in r?n(t,o):i in e?n(void 0,t):void 0}const c={url:i,method:i,data:i,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:a,headers:(e,r)=>o(we(e),we(r),!0)};return C.forEach(Object.keys(e).concat(Object.keys(r)),(function(n){const i=c[n]||o,u=i(e[n],r[n],n);C.isUndefined(u)&&i!==a||(t[n]=u)})),t}const Pe={};["object","boolean","number","function","string","symbol"].forEach(((e,r)=>{Pe[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}}));const Se={};Pe.transitional=function(e,r,t){function n(e,r){return"[Axios v1.2.2] Transitional option '"+e+"'"+r+(t?". "+t:"")}return(t,o,i)=>{if(!1===e)throw new I(n(o," has been removed"+(r?" in "+r:"")),I.ERR_DEPRECATED);return r&&!Se[o]&&(Se[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),!e||e(t,o,i)}};var Ee={assertOptions:function(e,r,t){if("object"!=typeof e)throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],u=r[i];if(u){const r=e[i],t=void 0===r||u(r,i,e);if(!0!==t)throw new I("option "+i+" must be "+t,I.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new I("Unknown option "+i,I.ERR_BAD_OPTION)}},validators:Pe};const xe=Ee.validators;class Ae{constructor(e){this.defaults=e,this.interceptors={request:new K,response:new K}}request(e,r){"string"==typeof e?(r=r||{}).url=e:r=e||{},r=je(this.defaults,r);const{transitional:t,paramsSerializer:n,headers:o}=r;let i;void 0!==t&&Ee.assertOptions(t,{silentJSONParsing:xe.transitional(xe.boolean),forcedJSONParsing:xe.transitional(xe.boolean),clarifyTimeoutError:xe.transitional(xe.boolean)},!1),void 0!==n&&Ee.assertOptions(n,{encode:xe.function,serialize:xe.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase(),i=o&&C.merge(o.common,o[r.method]),i&&C.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),r.headers=fe.concat(i,o);const u=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(r)||(a=a&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));const c=[];let s;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,f=0;if(!a){const e=[ge.bind(this),void 0];for(e.unshift.apply(e,u),e.push.apply(e,c),l=e.length,s=Promise.resolve(r);f<l;)s=s.then(e[f++],e[f++]);return s}l=u.length;let d=r;for(f=0;f<l;){const e=u[f++],r=u[f++];try{d=e(d)}catch(e){r.call(this,e);break}}try{s=ge.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)s=s.then(c[f++],c[f++]);return s}getUri(e){return J(he((e=je(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],(function(e){Ae.prototype[e]=function(r,t){return this.request(je(t||{},{method:e,url:r,data:(t||{}).data}))}})),C.forEach(["post","put","patch"],(function(e){function r(r){return function(t,n,o){return this.request(je(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:t,data:n}))}}Ae.prototype[e]=r(),Ae.prototype[e+"Form"]=r(!0)}));var Me=Ae;class Te{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let r;this.promise=new Promise((function(e){r=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let r=t._listeners.length;for(;r-- >0;)t._listeners[r](e);t._listeners=null})),this.promise.then=e=>{let r;const n=new Promise((e=>{t.subscribe(e),r=e})).then(e);return n.cancel=function(){t.unsubscribe(r)},n},e((function(e,n,o){t.reason||(t.reason=new be(e,n,o),r(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);-1!==r&&this._listeners.splice(r,1)}static source(){let e;return{token:new Te((function(r){e=r})),cancel:e}}}var Fe=Te;const Re={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Re).forEach((([e,r])=>{Re[r]=e}));var Ce=Re;const Ie=function e(r){const t=new Me(r),o=n(Me.prototype.request,t);return C.extend(o,Me.prototype,t,{allOwnKeys:!0}),C.extend(o,t,null,{allOwnKeys:!0}),o.create=function(t){return e(je(r,t))},o}(oe);Ie.Axios=Me,Ie.CanceledError=be,Ie.CancelToken=Fe,Ie.isCancel=pe,Ie.VERSION="1.2.2",Ie.toFormData=z,Ie.AxiosError=I,Ie.Cancel=Ie.CanceledError,Ie.all=function(e){return Promise.all(e)},Ie.spread=function(e){return function(r){return e.apply(null,r)}},Ie.isAxiosError=function(e){return C.isObject(e)&&!0===e.isAxiosError},Ie.mergeConfig=je,Ie.AxiosHeaders=fe,Ie.formToJSON=e=>re(C.isHTMLForm(e)?new FormData(e):e),Ie.HttpStatusCode=Ce,Ie.default=Ie,e.exports=Ie}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{t(3287),t(5691);const e=t(4112),r={today:null};function n(){(0,e.getSpentToday)().subscribe((e=>function(e){const t=document.getElementById("spent-today");return r.today=e.powerConsumed[0],t.innerHTML=r.today.cost,t}(e)))}!function(){const e=localStorage.getItem("name");if(e)return console.log(e),void(document.getElementById("heading-title").innerHTML=`Hi ${e}`);document.getElementById("settings-modal").style.display="block",document.getElementsByClassName("heading")[0].style.visibility="hidden";for(const e of document.querySelectorAll(".card"))e.style.visibility="hidden";document.getElementById("modal-button").addEventListener("click",(e=>{const r=document.getElementById("input-name").value;r&&""!==r&&localStorage.setItem("name",r);const t=document.getElementById("input-day").value;t&&""!==t&&localStorage.setItem("day",t),document.getElementsByClassName("heading")[0].style.visibility="visible";for(const e of document.querySelectorAll(".card"))e.style.visibility="visible";document.getElementById("settings-modal").style.display="none"}))}(),n(),setInterval(n,6e4)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBRXpCcnhCLENBQ1gsQ0FWNkNzeEIsQ0FBWUwsSUFDekQsRUFXQSxXQUNJLE1BQU03cEIsRUFBT21xQixhQUFhQyxRQUFRLFFBQ2xDLEdBQUlwcUIsRUFJQSxPQUhBZ2lCLFFBQVFxSSxJQUFJcnFCLFFBQ0UwVCxTQUFTb1csZUFBZSxpQkFDaENFLFVBQVksTUFBTWhxQixLQUtkMFQsU0FBU29XLGVBQWUsa0JBQ2hDUSxNQUFNQyxRQUFVLFFBRU43VyxTQUFTOFcsdUJBQXVCLFdBQVcsR0FDbkRGLE1BQU1HLFdBQWEsU0FFM0IsSUFBSyxNQUFNblosS0FBTW9DLFNBQVNnWCxpQkFBaUIsU0FDdENwWixFQUFtQmdaLE1BQU1HLFdBQWEsU0FHNUIvVyxTQUFTb1csZUFBZSxnQkFDaEMzNkIsaUJBQWlCLFNBQVVndUIsSUFFOUIsTUFBTW5kLEVBQVEwVCxTQUFTb1csZUFBZSxjQUFtQ2huQyxNQUNyRWtkLEdBQWlCLEtBQVRBLEdBQWFtcUIsYUFBYVEsUUFBUSxPQUFRM3FCLEdBRXRELE1BQU00cUIsRUFBT2xYLFNBQVNvVyxlQUFlLGFBQWtDaG5DLE1BQ25FOG5DLEdBQWUsS0FBUkEsR0FBWVQsYUFBYVEsUUFBUSxNQUFPQyxHQUVuQ2xYLFNBQVM4Vyx1QkFBdUIsV0FBVyxHQUNuREYsTUFBTUcsV0FBYSxVQUUzQixJQUFLLE1BQU1uWixLQUFNb0MsU0FBU2dYLGlCQUFpQixTQUN0Q3BaLEVBQW1CZ1osTUFBTUcsV0FBYSxVQUc3Qi9XLFNBQVNvVyxlQUFlLGtCQUNoQ1EsTUFBTUMsUUFBVSxNQUFNLEdBR3BDLENBRUFNLEdBRUFqQixJQUNBMWxCLFlBQVkwbEIsRUFBVyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL0FzeW5jU3ViamVjdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL0JlaGF2aW9yU3ViamVjdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL05vdGlmaWNhdGlvbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL09ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU2NoZWR1bGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU3ViamVjdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YnNjcmliZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpcHRpb24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9jb25maWcudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9maXJzdFZhbHVlRnJvbS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL2xhc3RWYWx1ZUZyb20udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9iaW5kQ2FsbGJhY2tJbnRlcm5hbHMudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmROb2RlQ2FsbGJhY2sudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvY29ubmVjdGFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2RlZmVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9kb20vYW5pbWF0aW9uRnJhbWVzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50UGF0dGVybi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvZnJvbVN1YnNjcmliYWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvZ2VuZXJhdGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2lpZi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvaW5uZXJGcm9tLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvbWVyZ2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvb25FcnJvclJlc3VtZU5leHQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhaXJzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYXJ0aXRpb24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhbmdlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvdXNpbmcudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXRUaW1lLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUaW1lLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRvZ2dsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJXaGVuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUFsbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RBbGwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUxhdGVzdFdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdEFsbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0V2l0aC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jb25uZWN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlVGltZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kZWZhdWx0SWZFbXB0eS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kZWxheS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kZWxheVdoZW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVtYXRlcmlhbGl6ZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsQ2hhbmdlZC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9lbGVtZW50QXQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZW5kV2l0aC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9ldmVyeS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RBbGwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdE1hcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9leHBhbmQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZmluZEluZGV4LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZsYXRNYXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZ3JvdXBCeS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9pZ25vcmVFbGVtZW50cy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9pc0VtcHR5LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2pvaW5BbGxJbnRlcm5hbHMudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tYXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwVG8udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWF0ZXJpYWxpemUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWF4LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlSW50ZXJuYWxzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwVG8udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlV2l0aC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9taW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbXVsdGljYXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL29ic2VydmVPbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9vbkVycm9yUmVzdW1lTmV4dFdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2sudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoQmVoYXZpb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFJlcGxheS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9yYWNlV2l0aC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9yZWR1Y2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnlXaGVuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVUaW1lLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc2NhbkludGVybmFscy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9za2lwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9za2lwV2hpbGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaEFsbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwVG8udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoU2Nhbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90YWtlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VMYXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VVbnRpbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90YWtlV2hpbGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlVGltZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90aHJvd0lmRW1wdHkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZUludGVydmFsLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZXN0YW1wLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3RvQXJyYXkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd0NvdW50LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RpbWUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1doZW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvemlwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3ppcEFsbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy96aXBXaXRoLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBc3luY0l0ZXJhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FuaW1hdGlvbkZyYW1lQWN0aW9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FzYXBBY3Rpb24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQXNhcFNjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9Bc3luY1NjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZUFjdGlvbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZVNjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9WaXJ0dWFsVGltZVNjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZVByb3ZpZGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2FzYXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2ltbWVkaWF0ZVByb3ZpZGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvcGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9xdWV1ZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL0ltbWVkaWF0ZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvTm90Rm91bmRFcnJvci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL1NlcXVlbmNlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2FyZ3MudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9hcmdzT3JBcmdBcnJheS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9jcmVhdGVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2Vycm9yQ29udGV4dC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNEYXRlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc09ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9saWZ0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9ub29wLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9ub3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL3BpcGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9lbnZpcm9ubWVudC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vc3JjL3NlcnZpY2UvaHR0cC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vc3JjL3NlcnZpY2UvbWVhc3VyZW1lbnQuc2VydmljZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2Rpc3QvYnJvd3Nlci9heGlvcy5janMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWwgbGFuZz1cXFwiZW5cXFwiPlxcbjxoZWFkPlxcbiAgICA8bWV0YSBjaGFyc2V0PVxcXCJVVEYtOFxcXCI+XFxuICAgIDx0aXRsZT5JT1QgQVBQPC90aXRsZT5cXG4gICAgPGxpbmsgcmVsPVxcXCJwcmVjb25uZWN0XFxcIiBocmVmPVxcXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tXFxcIj5cXG4gICAgPGxpbmsgcmVsPVxcXCJwcmVjb25uZWN0XFxcIiBocmVmPVxcXCJodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tXFxcIiBjcm9zc29yaWdpbj5cXG4gICAgPGxpbmsgaHJlZj1cXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1BcnZvJmZhbWlseT1JdGltJmZhbWlseT1Mb3JhJmZhbWlseT1SYW1tZXR0bytPbmUmZGlzcGxheT1zd2FwXFxcIiByZWw9XFxcInN0eWxlc2hlZXRcXFwiPlxcbjwvaGVhZD5cXG48Ym9keT5cXG4gICAgPGRpdiBpZD1cXFwiY29udGFpbmVyXFxcIiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxoZWFkZXIgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgPGltZyBjbGFzcz1cXFwic29ja2V0LWltYWdlXFxcIiBzcmM9XFxcImltYWdlcy9zb2NrZXQucG5nXFxcIiBhbHQ9XFxcInNvY2tldFxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLTEyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVhZGluZ1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cXFwiaGVhZGluZy10aXRsZVxcXCIgY2xhc3M9XFxcImhlYWRpbmctdGl0bGVcXFwiPkhpIFN0cmFuZ2VyPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImhlYWRpbmctc3VidGl0bGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFlvdSdyZSBsb3NpbmcgbW9uZXkgZXZlcnkgc2Vjb25kXFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9oZWFkZXI+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC02XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkLXRpdGxlXFxcIj5TcGVudCB0b2RheTwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwic3BlbnQtdG9kYXlcXFwiIGNsYXNzPVxcXCJjYXJkLXZhbHVlXFxcIj4wLjI3PHNwYW4gY2xhc3M9XFxcImNhcmQtdmFsdWUtdW5pdFxcXCI+4oKsPC9zcGFuPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtNlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC10aXRsZVxcXCI+U3BlbnQgdGhpcyBtb250aDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwic3BlbnQtbW9udGhcXFwiIGNsYXNzPVxcXCJjYXJkLXZhbHVlXFxcIj4xMzE8c3BhbiBjbGFzcz1cXFwiY2FyZC12YWx1ZS11bml0XFxcIj7igqw8L3NwYW4+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGlkPVxcXCJzZXR0aW5ncy1tb2RhbFxcXCIgY2xhc3M9XFxcInNldHRpbmdzLW1vZGFsXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+U2V0dGluZ3M8L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwibW9kYWwtcXVlc3Rpb25cXFwiPldoYXQgc2hvdWxkIEkgY2FsbCB5b3U/PC9zcGFuPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRDb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiaW5wdXQtbmFtZVxcXCIgLz5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm1vZGFsLXF1ZXN0aW9uXFxcIj5XaGF0J3MgeW91ciBlbGVjdHJpY2l0eSBiaWxsIHN0YXJ0aW5nIGRheT88L3NwYW4+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dENvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJpbnB1dC1kYXlcXFwiIC8+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxidXR0b24gaWQ9XFxcIm1vZGFsLWJ1dHRvblxcXCIgY2xhc3M9XFxcIm1vZGFsLWJ1dHRvblxcXCI+XFxuICAgICAgICAgICAgRG9uZVxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8c2NyaXB0IHR5cGU9XFxcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcXFwiIHNyYz1cXFwiLi9tYWluLmpzXFxcIj48L3NjcmlwdD5cXG48L2JvZHk+XFxuPC9odG1sPlxcblwiOyIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEhlcmUgd2UgbmVlZCB0byByZWZlcmVuY2Ugb3VyIG90aGVyIGRlZXAgaW1wb3J0c1xuLy8gc28gVlMgY29kZSB3aWxsIGZpZ3VyZSBvdXQgd2hlcmUgdGhleSBhcmVcbi8vIHNlZSBjb252ZXJzYXRpb24gaGVyZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNDMwMzRcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGU6IG5vLXJlZmVyZW5jZVxuLy8gSXQncyB0ZW1wdGluZyB0byBhZGQgcmVmZXJlbmNlcyB0byBhbGwgb2YgdGhlIGRlZXAtaW1wb3J0IGxvY2F0aW9ucywgYnV0XG4vLyBhZGRpbmcgcmVmZXJlbmNlcyB0byB0aG9zZSB0aGF0IHJlcXVpcmUgRE9NIHR5cGVzIGJyZWFrcyBOb2RlIHByb2plY3RzLlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vb3BlcmF0b3JzL2luZGV4LnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3Rlc3RpbmcvaW5kZXgudHNcIiAvPlxuLy8gdHNsaW50OmVuYWJsZTogbm8tcmVmZXJlbmNlXG5cbi8qIE9ic2VydmFibGUgKi9cbmV4cG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL09ic2VydmFibGUnO1xuZXhwb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBHcm91cGVkT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnknO1xuZXhwb3J0IHsgT3BlcmF0b3IgfSBmcm9tICcuL2ludGVybmFsL09wZXJhdG9yJztcbmV4cG9ydCB7IG9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB7IGFuaW1hdGlvbkZyYW1lcyB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9kb20vYW5pbWF0aW9uRnJhbWVzJztcblxuLyogU3ViamVjdHMgKi9cbmV4cG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL1N1YmplY3QnO1xuZXhwb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QnO1xuZXhwb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvUmVwbGF5U3ViamVjdCc7XG5leHBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL0FzeW5jU3ViamVjdCc7XG5cbi8qIFNjaGVkdWxlcnMgKi9cbmV4cG9ydCB7IGFzYXAsIGFzYXBTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hc2FwJztcbmV4cG9ydCB7IGFzeW5jLCBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jJztcbmV4cG9ydCB7IHF1ZXVlLCBxdWV1ZVNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL3F1ZXVlJztcbmV4cG9ydCB7IGFuaW1hdGlvbkZyYW1lLCBhbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL2FuaW1hdGlvbkZyYW1lJztcbmV4cG9ydCB7IFZpcnR1YWxUaW1lU2NoZWR1bGVyLCBWaXJ0dWFsQWN0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXInO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9TY2hlZHVsZXInO1xuXG4vKiBTdWJzY3JpcHRpb24gKi9cbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvU3Vic2NyaXB0aW9uJztcbmV4cG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL2ludGVybmFsL1N1YnNjcmliZXInO1xuXG4vKiBOb3RpZmljYXRpb24gKi9cbmV4cG9ydCB7IE5vdGlmaWNhdGlvbiwgTm90aWZpY2F0aW9uS2luZCB9IGZyb20gJy4vaW50ZXJuYWwvTm90aWZpY2F0aW9uJztcblxuLyogVXRpbHMgKi9cbmV4cG9ydCB7IHBpcGUgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvcGlwZSc7XG5leHBvcnQgeyBub29wIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL25vb3AnO1xuZXhwb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IHsgaXNPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL2lzT2JzZXJ2YWJsZSc7XG5cbi8qIFByb21pc2UgQ29udmVyc2lvbiAqL1xuZXhwb3J0IHsgbGFzdFZhbHVlRnJvbSB9IGZyb20gJy4vaW50ZXJuYWwvbGFzdFZhbHVlRnJvbSc7XG5leHBvcnQgeyBmaXJzdFZhbHVlRnJvbSB9IGZyb20gJy4vaW50ZXJuYWwvZmlyc3RWYWx1ZUZyb20nO1xuXG4vKiBFcnJvciB0eXBlcyAqL1xuZXhwb3J0IHsgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuZXhwb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9FbXB0eUVycm9yJztcbmV4cG9ydCB7IE5vdEZvdW5kRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvTm90Rm91bmRFcnJvcic7XG5leHBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5leHBvcnQgeyBTZXF1ZW5jZUVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL1NlcXVlbmNlRXJyb3InO1xuZXhwb3J0IHsgVGltZW91dEVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dCc7XG5leHBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuXG4vKiBTdGF0aWMgb2JzZXJ2YWJsZSBjcmVhdGlvbiBleHBvcnRzICovXG5leHBvcnQgeyBiaW5kQ2FsbGJhY2sgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrJztcbmV4cG9ydCB7IGJpbmROb2RlQ2FsbGJhY2sgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvYmluZE5vZGVDYWxsYmFjayc7XG5leHBvcnQgeyBjb21iaW5lTGF0ZXN0IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QnO1xuZXhwb3J0IHsgY29uY2F0IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdCc7XG5leHBvcnQgeyBjb25uZWN0YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25uZWN0YWJsZSc7XG5leHBvcnQgeyBkZWZlciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9kZWZlcic7XG5leHBvcnQgeyBlbXB0eSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eSc7XG5leHBvcnQgeyBmb3JrSm9pbiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mb3JrSm9pbic7XG5leHBvcnQgeyBmcm9tIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20nO1xuZXhwb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudCc7XG5leHBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudFBhdHRlcm4nO1xuZXhwb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZ2VuZXJhdGUnO1xuZXhwb3J0IHsgaWlmIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2lpZic7XG5leHBvcnQgeyBpbnRlcnZhbCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbCc7XG5leHBvcnQgeyBtZXJnZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZSc7XG5leHBvcnQgeyBuZXZlciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9uZXZlcic7XG5leHBvcnQgeyBvZiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZic7XG5leHBvcnQgeyBvbkVycm9yUmVzdW1lTmV4dCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9vbkVycm9yUmVzdW1lTmV4dCc7XG5leHBvcnQgeyBwYWlycyB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYWlycyc7XG5leHBvcnQgeyBwYXJ0aXRpb24gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uJztcbmV4cG9ydCB7IHJhY2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcmFjZSc7XG5leHBvcnQgeyByYW5nZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYW5nZSc7XG5leHBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3Rocm93RXJyb3InO1xuZXhwb3J0IHsgdGltZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvdGltZXInO1xuZXhwb3J0IHsgdXNpbmcgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvdXNpbmcnO1xuZXhwb3J0IHsgemlwIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcCc7XG5leHBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuXG4vKiBDb25zdGFudHMgKi9cbmV4cG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCB7IE5FVkVSIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyJztcblxuLyogVHlwZXMgKi9cbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJuYWwvdHlwZXMnO1xuXG4vKiBDb25maWcgKi9cbmV4cG9ydCB7IGNvbmZpZywgR2xvYmFsQ29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9jb25maWcnO1xuXG4vKiBPcGVyYXRvcnMgKi9cbmV4cG9ydCB7IGF1ZGl0IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXQnO1xuZXhwb3J0IHsgYXVkaXRUaW1lIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvYXVkaXRUaW1lJztcbmV4cG9ydCB7IGJ1ZmZlciB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcic7XG5leHBvcnQgeyBidWZmZXJDb3VudCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlckNvdW50JztcbmV4cG9ydCB7IGJ1ZmZlclRpbWUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUaW1lJztcbmV4cG9ydCB7IGJ1ZmZlclRvZ2dsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlclRvZ2dsZSc7XG5leHBvcnQgeyBidWZmZXJXaGVuIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyV2hlbic7XG5leHBvcnQgeyBjYXRjaEVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY2F0Y2hFcnJvcic7XG5leHBvcnQgeyBjb21iaW5lQWxsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUFsbCc7XG5leHBvcnQgeyBjb21iaW5lTGF0ZXN0QWxsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUxhdGVzdEFsbCc7XG5leHBvcnQgeyBjb21iaW5lTGF0ZXN0V2l0aCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RXaXRoJztcbmV4cG9ydCB7IGNvbmNhdEFsbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdEFsbCc7XG5leHBvcnQgeyBjb25jYXRNYXAgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXAnO1xuZXhwb3J0IHsgY29uY2F0TWFwVG8gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXBUbyc7XG5leHBvcnQgeyBjb25jYXRXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0V2l0aCc7XG5leHBvcnQgeyBjb25uZWN0LCBDb25uZWN0Q29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29ubmVjdCc7XG5leHBvcnQgeyBjb3VudCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvdW50JztcbmV4cG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2UnO1xuZXhwb3J0IHsgZGVib3VuY2VUaW1lIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lJztcbmV4cG9ydCB7IGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVmYXVsdElmRW1wdHknO1xuZXhwb3J0IHsgZGVsYXkgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9kZWxheSc7XG5leHBvcnQgeyBkZWxheVdoZW4gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9kZWxheVdoZW4nO1xuZXhwb3J0IHsgZGVtYXRlcmlhbGl6ZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlbWF0ZXJpYWxpemUnO1xuZXhwb3J0IHsgZGlzdGluY3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdCc7XG5leHBvcnQgeyBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxDaGFuZ2VkJztcbmV4cG9ydCB7IGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbEtleUNoYW5nZWQnO1xuZXhwb3J0IHsgZWxlbWVudEF0IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0JztcbmV4cG9ydCB7IGVuZFdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9lbmRXaXRoJztcbmV4cG9ydCB7IGV2ZXJ5IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXZlcnknO1xuZXhwb3J0IHsgZXhoYXVzdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3QnO1xuZXhwb3J0IHsgZXhoYXVzdEFsbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RBbGwnO1xuZXhwb3J0IHsgZXhoYXVzdE1hcCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RNYXAnO1xuZXhwb3J0IHsgZXhwYW5kIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kJztcbmV4cG9ydCB7IGZpbHRlciB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlcic7XG5leHBvcnQgeyBmaW5hbGl6ZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmFsaXplJztcbmV4cG9ydCB7IGZpbmQgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9maW5kJztcbmV4cG9ydCB7IGZpbmRJbmRleCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRJbmRleCc7XG5leHBvcnQgeyBmaXJzdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZpcnN0JztcbmV4cG9ydCB7IGdyb3VwQnksIEJhc2ljR3JvdXBCeU9wdGlvbnMsIEdyb3VwQnlPcHRpb25zV2l0aEVsZW1lbnQgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5JztcbmV4cG9ydCB7IGlnbm9yZUVsZW1lbnRzIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvaWdub3JlRWxlbWVudHMnO1xuZXhwb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2lzRW1wdHknO1xuZXhwb3J0IHsgbGFzdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2xhc3QnO1xuZXhwb3J0IHsgbWFwIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwJztcbmV4cG9ydCB7IG1hcFRvIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwVG8nO1xuZXhwb3J0IHsgbWF0ZXJpYWxpemUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tYXRlcmlhbGl6ZSc7XG5leHBvcnQgeyBtYXggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tYXgnO1xuZXhwb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5leHBvcnQgeyBmbGF0TWFwIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmxhdE1hcCc7XG5leHBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwJztcbmV4cG9ydCB7IG1lcmdlTWFwVG8gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcFRvJztcbmV4cG9ydCB7IG1lcmdlU2NhbiB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlU2Nhbic7XG5leHBvcnQgeyBtZXJnZVdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVdpdGgnO1xuZXhwb3J0IHsgbWluIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWluJztcbmV4cG9ydCB7IG11bHRpY2FzdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdCc7XG5leHBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuZXhwb3J0IHsgb25FcnJvclJlc3VtZU5leHRXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvb25FcnJvclJlc3VtZU5leHRXaXRoJztcbmV4cG9ydCB7IHBhaXJ3aXNlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UnO1xuZXhwb3J0IHsgcGx1Y2sgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9wbHVjayc7XG5leHBvcnQgeyBwdWJsaXNoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaCc7XG5leHBvcnQgeyBwdWJsaXNoQmVoYXZpb3IgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoQmVoYXZpb3InO1xuZXhwb3J0IHsgcHVibGlzaExhc3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9wdWJsaXNoTGFzdCc7XG5leHBvcnQgeyBwdWJsaXNoUmVwbGF5IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaFJlcGxheSc7XG5leHBvcnQgeyByYWNlV2l0aCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3JhY2VXaXRoJztcbmV4cG9ydCB7IHJlZHVjZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlZHVjZSc7XG5leHBvcnQgeyByZXBlYXQsIFJlcGVhdENvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdCc7XG5leHBvcnQgeyByZXBlYXRXaGVuIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0V2hlbic7XG5leHBvcnQgeyByZXRyeSwgUmV0cnlDb25maWcgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeSc7XG5leHBvcnQgeyByZXRyeVdoZW4gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeVdoZW4nO1xuZXhwb3J0IHsgcmVmQ291bnQgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudCc7XG5leHBvcnQgeyBzYW1wbGUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGUnO1xuZXhwb3J0IHsgc2FtcGxlVGltZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NhbXBsZVRpbWUnO1xuZXhwb3J0IHsgc2NhbiB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW4nO1xuZXhwb3J0IHsgc2VxdWVuY2VFcXVhbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NlcXVlbmNlRXF1YWwnO1xuZXhwb3J0IHsgc2hhcmUsIFNoYXJlQ29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmUnO1xuZXhwb3J0IHsgc2hhcmVSZXBsYXksIFNoYXJlUmVwbGF5Q29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2hhcmVSZXBsYXknO1xuZXhwb3J0IHsgc2luZ2xlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2luZ2xlJztcbmV4cG9ydCB7IHNraXAgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9za2lwJztcbmV4cG9ydCB7IHNraXBMYXN0IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcExhc3QnO1xuZXhwb3J0IHsgc2tpcFVudGlsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFVudGlsJztcbmV4cG9ydCB7IHNraXBXaGlsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBXaGlsZSc7XG5leHBvcnQgeyBzdGFydFdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zdGFydFdpdGgnO1xuZXhwb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zdWJzY3JpYmVPbic7XG5leHBvcnQgeyBzd2l0Y2hBbGwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hBbGwnO1xuZXhwb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwJztcbmV4cG9ydCB7IHN3aXRjaE1hcFRvIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwVG8nO1xuZXhwb3J0IHsgc3dpdGNoU2NhbiB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaFNjYW4nO1xuZXhwb3J0IHsgdGFrZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2UnO1xuZXhwb3J0IHsgdGFrZUxhc3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90YWtlTGFzdCc7XG5leHBvcnQgeyB0YWtlVW50aWwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwnO1xuZXhwb3J0IHsgdGFrZVdoaWxlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVdoaWxlJztcbmV4cG9ydCB7IHRhcCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3RhcCc7XG5leHBvcnQgeyB0aHJvdHRsZSwgVGhyb3R0bGVDb25maWcgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZSc7XG5leHBvcnQgeyB0aHJvdHRsZVRpbWUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVRpbWUnO1xuZXhwb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5JztcbmV4cG9ydCB7IHRpbWVJbnRlcnZhbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbCc7XG5leHBvcnQgeyB0aW1lb3V0LCBUaW1lb3V0Q29uZmlnLCBUaW1lb3V0SW5mbyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXQnO1xuZXhwb3J0IHsgdGltZW91dFdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90aW1lb3V0V2l0aCc7XG5leHBvcnQgeyB0aW1lc3RhbXAgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90aW1lc3RhbXAnO1xuZXhwb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3RvQXJyYXknO1xuZXhwb3J0IHsgd2luZG93IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93JztcbmV4cG9ydCB7IHdpbmRvd0NvdW50IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93Q291bnQnO1xuZXhwb3J0IHsgd2luZG93VGltZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RpbWUnO1xuZXhwb3J0IHsgd2luZG93VG9nZ2xlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93VG9nZ2xlJztcbmV4cG9ydCB7IHdpbmRvd1doZW4gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuJztcbmV4cG9ydCB7IHdpdGhMYXRlc3RGcm9tIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20nO1xuZXhwb3J0IHsgemlwQWxsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwQWxsJztcbmV4cG9ydCB7IHppcFdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy96aXBXaXRoJztcbiIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5cbi8qKlxuICogQSB2YXJpYW50IG9mIFN1YmplY3QgdGhhdCBvbmx5IGVtaXRzIGEgdmFsdWUgd2hlbiBpdCBjb21wbGV0ZXMuIEl0IHdpbGwgZW1pdFxuICogaXRzIGxhdGVzdCB2YWx1ZSB0byBhbGwgaXRzIG9ic2VydmVycyBvbiBjb21wbGV0aW9uLlxuICpcbiAqIEBjbGFzcyBBc3luY1N1YmplY3Q8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIEFzeW5jU3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBwcml2YXRlIF92YWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF9oYXNWYWx1ZSA9IGZhbHNlO1xuICBwcml2YXRlIF9pc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikge1xuICAgIGNvbnN0IHsgaGFzRXJyb3IsIF9oYXNWYWx1ZSwgX3ZhbHVlLCB0aHJvd25FcnJvciwgaXNTdG9wcGVkLCBfaXNDb21wbGV0ZSB9ID0gdGhpcztcbiAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhyb3duRXJyb3IpO1xuICAgIH0gZWxzZSBpZiAoaXNTdG9wcGVkIHx8IF9pc0NvbXBsZXRlKSB7XG4gICAgICBfaGFzVmFsdWUgJiYgc3Vic2NyaWJlci5uZXh0KF92YWx1ZSEpO1xuICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5faGFzVmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgX2hhc1ZhbHVlLCBfdmFsdWUsIF9pc0NvbXBsZXRlIH0gPSB0aGlzO1xuICAgIGlmICghX2lzQ29tcGxldGUpIHtcbiAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgX2hhc1ZhbHVlICYmIHN1cGVyLm5leHQoX3ZhbHVlISk7XG4gICAgICBzdXBlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcblxuLyoqXG4gKiBBIHZhcmlhbnQgb2YgU3ViamVjdCB0aGF0IHJlcXVpcmVzIGFuIGluaXRpYWwgdmFsdWUgYW5kIGVtaXRzIGl0cyBjdXJyZW50XG4gKiB2YWx1ZSB3aGVuZXZlciBpdCBpcyBzdWJzY3JpYmVkIHRvLlxuICpcbiAqIEBjbGFzcyBCZWhhdmlvclN1YmplY3Q8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIEJlaGF2aW9yU3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF92YWx1ZTogVCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBnZXQgdmFsdWUoKTogVCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gc3VwZXIuX3N1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAhc3Vic2NyaXB0aW9uLmNsb3NlZCAmJiBzdWJzY3JpYmVyLm5leHQodGhpcy5fdmFsdWUpO1xuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICBnZXRWYWx1ZSgpOiBUIHtcbiAgICBjb25zdCB7IGhhc0Vycm9yLCB0aHJvd25FcnJvciwgX3ZhbHVlIH0gPSB0aGlzO1xuICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgdGhyb3cgdGhyb3duRXJyb3I7XG4gICAgfVxuICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICByZXR1cm4gX3ZhbHVlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIHN1cGVyLm5leHQoKHRoaXMuX3ZhbHVlID0gdmFsdWUpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUGFydGlhbE9ic2VydmVyLCBPYnNlcnZhYmxlTm90aWZpY2F0aW9uLCBDb21wbGV0ZU5vdGlmaWNhdGlvbiwgTmV4dE5vdGlmaWNhdGlvbiwgRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8vIFRPRE86IFdoZW4gdGhpcyBlbnVtIGlzIHJlbW92ZWQsIHJlcGxhY2UgaXQgd2l0aCBhIHR5cGUgYWxpYXMuIFNlZSAjNDU1Ni5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGEgc3RyaW5nIGxpdGVyYWwgaW5zdGVhZC4gYE5vdGlmaWNhdGlvbktpbmRgIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBhIHR5cGUgYWxpYXMgaW4gdjguXG4gKiBJdCB3aWxsIG5vdCBiZSByZXBsYWNlZCB3aXRoIGEgY29uc3QgZW51bSBhcyB0aG9zZSBhcmUgbm90IGNvbXBhdGlibGUgd2l0aCBpc29sYXRlZCBtb2R1bGVzLlxuICovXG5leHBvcnQgZW51bSBOb3RpZmljYXRpb25LaW5kIHtcbiAgTkVYVCA9ICdOJyxcbiAgRVJST1IgPSAnRScsXG4gIENPTVBMRVRFID0gJ0MnLFxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwdXNoLWJhc2VkIGV2ZW50IG9yIHZhbHVlIHRoYXQgYW4ge0BsaW5rIE9ic2VydmFibGV9IGNhbiBlbWl0LlxuICogVGhpcyBjbGFzcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBvcGVyYXRvcnMgdGhhdCBtYW5hZ2Ugbm90aWZpY2F0aW9ucyxcbiAqIGxpa2Uge0BsaW5rIG1hdGVyaWFsaXplfSwge0BsaW5rIGRlbWF0ZXJpYWxpemV9LCB7QGxpbmsgb2JzZXJ2ZU9ufSwgYW5kXG4gKiBvdGhlcnMuIEJlc2lkZXMgd3JhcHBpbmcgdGhlIGFjdHVhbCBkZWxpdmVyZWQgdmFsdWUsIGl0IGFsc28gYW5ub3RhdGVzIGl0XG4gKiB3aXRoIG1ldGFkYXRhIG9mLCBmb3IgaW5zdGFuY2UsIHdoYXQgdHlwZSBvZiBwdXNoIG1lc3NhZ2UgaXQgaXMgKGBuZXh0YCxcbiAqIGBlcnJvcmAsIG9yIGBjb21wbGV0ZWApLlxuICpcbiAqIEBzZWUge0BsaW5rIG1hdGVyaWFsaXplfVxuICogQHNlZSB7QGxpbmsgZGVtYXRlcmlhbGl6ZX1cbiAqIEBzZWUge0BsaW5rIG9ic2VydmVPbn1cbiAqIEBkZXByZWNhdGVkIEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGBOb3RpZmljYXRpb25gIGRpcmVjdGx5LlxuICogUmF0aGVyLCB0cnkgdG8gY3JlYXRlIFBPSk9zIG1hdGNoaW5nIHRoZSBzaWduYXR1cmUgb3V0bGluZWQgaW4ge0BsaW5rIE9ic2VydmFibGVOb3RpZmljYXRpb259LlxuICogRm9yIGV4YW1wbGU6IGB7IGtpbmQ6ICdOJywgdmFsdWU6IDEgfWAsIGB7IGtpbmQ6ICdFJywgZXJyb3I6IG5ldyBFcnJvcignYmFkJykgfWAsIG9yIGB7IGtpbmQ6ICdDJyB9YC5cbiAqIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbjxUPiB7XG4gIC8qKlxuICAgKiBBIHZhbHVlIHNpZ25pZnlpbmcgdGhhdCB0aGUgbm90aWZpY2F0aW9uIHdpbGwgXCJuZXh0XCIgaWYgb2JzZXJ2ZWQuIEluIHRydXRoLFxuICAgKiBUaGlzIGlzIHJlYWxseSBzeW5vbnltb3VzIHdpdGgganVzdCBjaGVja2luZyBga2luZCA9PT0gXCJOXCJgLlxuICAgKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIEluc3RlYWQsIGp1c3QgY2hlY2sgdG8gc2VlIGlmIHRoZSB2YWx1ZSBvZiBga2luZGAgaXMgYFwiTlwiYC5cbiAgICovXG4gIHJlYWRvbmx5IGhhc1ZhbHVlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgXCJOZXh0XCIgbm90aWZpY2F0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIGtpbmQgQWx3YXlzIGAnTidgXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gbm90aWZ5IHdpdGggaWYgb2JzZXJ2ZWQuXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gVXNlIHtAbGluayBOb3RpZmljYXRpb24jY3JlYXRlTmV4dCBjcmVhdGVOZXh0fSBpbnN0ZWFkLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioa2luZDogJ04nLCB2YWx1ZT86IFQpO1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBcIkVycm9yXCIgbm90aWZpY2F0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIGtpbmQgQWx3YXlzIGAnRSdgXG4gICAqIEBwYXJhbSB2YWx1ZSBBbHdheXMgYHVuZGVmaW5lZGBcbiAgICogQHBhcmFtIGVycm9yIFRoZSBlcnJvciB0byBub3RpZnkgd2l0aCBpZiBvYnNlcnZlZC5cbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLiBVc2Uge0BsaW5rIE5vdGlmaWNhdGlvbiNjcmVhdGVFcnJvciBjcmVhdGVFcnJvcn0gaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGtpbmQ6ICdFJywgdmFsdWU6IHVuZGVmaW5lZCwgZXJyb3I6IGFueSk7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgXCJjb21wbGV0aW9uXCIgbm90aWZpY2F0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIGtpbmQgQWx3YXlzIGAnQydgXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gVXNlIHtAbGluayBOb3RpZmljYXRpb24jY3JlYXRlQ29tcGxldGUgY3JlYXRlQ29tcGxldGV9IGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihraW5kOiAnQycpO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkga2luZDogJ04nIHwgJ0UnIHwgJ0MnLCBwdWJsaWMgcmVhZG9ubHkgdmFsdWU/OiBULCBwdWJsaWMgcmVhZG9ubHkgZXJyb3I/OiBhbnkpIHtcbiAgICB0aGlzLmhhc1ZhbHVlID0ga2luZCA9PT0gJ04nO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIG9uIGEgcGFzc2VkIGBvYnNlcnZlcmAgZ2l2ZW4gdGhlIGBraW5kYCBvZiBub3RpZmljYXRpb24uXG4gICAqIElmIHRoZSBoYW5kbGVyIGlzIG1pc3NpbmcgaXQgd2lsbCBkbyBub3RoaW5nLiBFdmVuIGlmIHRoZSBub3RpZmljYXRpb24gaXMgYW4gZXJyb3IsIGlmXG4gICAqIHRoZXJlIGlzIG5vIGVycm9yIGhhbmRsZXIgb24gdGhlIG9ic2VydmVyLCBhbiBlcnJvciB3aWxsIG5vdCBiZSB0aHJvd24sIGl0IHdpbGwgbm9vcC5cbiAgICogQHBhcmFtIG9ic2VydmVyIFRoZSBvYnNlcnZlciB0byBub3RpZnkuXG4gICAqL1xuICBvYnNlcnZlKG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VD4pOiB2b2lkIHtcbiAgICByZXR1cm4gb2JzZXJ2ZU5vdGlmaWNhdGlvbih0aGlzIGFzIE9ic2VydmFibGVOb3RpZmljYXRpb248VD4sIG9ic2VydmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBhIG5vdGlmaWNhdGlvbiBvbiB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBmcm9tIGEgbGlzdCBwcm92aWRlZC5cbiAgICogSWYgYSBoYW5kbGVyIGlzIG1pc3NpbmcgZm9yIHRoZSBraW5kIG9mIG5vdGlmaWNhdGlvbiwgbm90aGluZyBpcyBjYWxsZWRcbiAgICogYW5kIG5vIGVycm9yIGlzIHRocm93biwgaXQgd2lsbCBiZSBhIG5vb3AuXG4gICAqIEBwYXJhbSBuZXh0IEEgbmV4dCBoYW5kbGVyXG4gICAqIEBwYXJhbSBlcnJvciBBbiBlcnJvciBoYW5kbGVyXG4gICAqIEBwYXJhbSBjb21wbGV0ZSBBIGNvbXBsZXRlIGhhbmRsZXJcbiAgICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgTm90aWZpY2F0aW9uI29ic2VydmUgb2JzZXJ2ZX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIGRvKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgZXJyb3I6IChlcnI6IGFueSkgPT4gdm9pZCwgY29tcGxldGU6ICgpID0+IHZvaWQpOiB2b2lkO1xuICAvKipcbiAgICogRXhlY3V0ZXMgYSBub3RpZmljYXRpb24gb24gdGhlIGFwcHJvcHJpYXRlIGhhbmRsZXIgZnJvbSBhIGxpc3QgcHJvdmlkZWQuXG4gICAqIElmIGEgaGFuZGxlciBpcyBtaXNzaW5nIGZvciB0aGUga2luZCBvZiBub3RpZmljYXRpb24sIG5vdGhpbmcgaXMgY2FsbGVkXG4gICAqIGFuZCBubyBlcnJvciBpcyB0aHJvd24sIGl0IHdpbGwgYmUgYSBub29wLlxuICAgKiBAcGFyYW0gbmV4dCBBIG5leHQgaGFuZGxlclxuICAgKiBAcGFyYW0gZXJyb3IgQW4gZXJyb3IgaGFuZGxlclxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBOb3RpZmljYXRpb24jb2JzZXJ2ZSBvYnNlcnZlfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgZG8obmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkLCBlcnJvcjogKGVycjogYW55KSA9PiB2b2lkKTogdm9pZDtcbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBuZXh0IGhhbmRsZXIgaWYgdGhlIE5vdGlmaWNhdGlvbiBpcyBvZiBga2luZGAgYFwiTlwiYC4gT3RoZXJ3aXNlXG4gICAqIHRoaXMgd2lsbCBub3QgZXJyb3IsIGFuZCBpdCB3aWxsIGJlIGEgbm9vcC5cbiAgICogQHBhcmFtIG5leHQgVGhlIG5leHQgaGFuZGxlclxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBOb3RpZmljYXRpb24jb2JzZXJ2ZSBvYnNlcnZlfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgZG8obmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkKTogdm9pZDtcbiAgZG8obmV4dEhhbmRsZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCwgZXJyb3JIYW5kbGVyPzogKGVycjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZUhhbmRsZXI/OiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgeyBraW5kLCB2YWx1ZSwgZXJyb3IgfSA9IHRoaXM7XG4gICAgcmV0dXJuIGtpbmQgPT09ICdOJyA/IG5leHRIYW5kbGVyPy4odmFsdWUhKSA6IGtpbmQgPT09ICdFJyA/IGVycm9ySGFuZGxlcj8uKGVycm9yKSA6IGNvbXBsZXRlSGFuZGxlcj8uKCk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBub3RpZmljYXRpb24gb24gdGhlIGFwcHJvcHJpYXRlIGhhbmRsZXIgZnJvbSBhIGxpc3QgcHJvdmlkZWQuXG4gICAqIElmIGEgaGFuZGxlciBpcyBtaXNzaW5nIGZvciB0aGUga2luZCBvZiBub3RpZmljYXRpb24sIG5vdGhpbmcgaXMgY2FsbGVkXG4gICAqIGFuZCBubyBlcnJvciBpcyB0aHJvd24sIGl0IHdpbGwgYmUgYSBub29wLlxuICAgKiBAcGFyYW0gbmV4dCBBIG5leHQgaGFuZGxlclxuICAgKiBAcGFyYW0gZXJyb3IgQW4gZXJyb3IgaGFuZGxlclxuICAgKiBAcGFyYW0gY29tcGxldGUgQSBjb21wbGV0ZSBoYW5kbGVyXG4gICAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIE5vdGlmaWNhdGlvbiNvYnNlcnZlIG9ic2VydmV9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBhY2NlcHQobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkLCBlcnJvcjogKGVycjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZTogKCkgPT4gdm9pZCk6IHZvaWQ7XG4gIC8qKlxuICAgKiBFeGVjdXRlcyBhIG5vdGlmaWNhdGlvbiBvbiB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBmcm9tIGEgbGlzdCBwcm92aWRlZC5cbiAgICogSWYgYSBoYW5kbGVyIGlzIG1pc3NpbmcgZm9yIHRoZSBraW5kIG9mIG5vdGlmaWNhdGlvbiwgbm90aGluZyBpcyBjYWxsZWRcbiAgICogYW5kIG5vIGVycm9yIGlzIHRocm93biwgaXQgd2lsbCBiZSBhIG5vb3AuXG4gICAqIEBwYXJhbSBuZXh0IEEgbmV4dCBoYW5kbGVyXG4gICAqIEBwYXJhbSBlcnJvciBBbiBlcnJvciBoYW5kbGVyXG4gICAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIE5vdGlmaWNhdGlvbiNvYnNlcnZlIG9ic2VydmV9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBhY2NlcHQobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkLCBlcnJvcjogKGVycjogYW55KSA9PiB2b2lkKTogdm9pZDtcbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBuZXh0IGhhbmRsZXIgaWYgdGhlIE5vdGlmaWNhdGlvbiBpcyBvZiBga2luZGAgYFwiTlwiYC4gT3RoZXJ3aXNlXG4gICAqIHRoaXMgd2lsbCBub3QgZXJyb3IsIGFuZCBpdCB3aWxsIGJlIGEgbm9vcC5cbiAgICogQHBhcmFtIG5leHQgVGhlIG5leHQgaGFuZGxlclxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBOb3RpZmljYXRpb24jb2JzZXJ2ZSBvYnNlcnZlfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgYWNjZXB0KG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIG9uIGEgcGFzc2VkIGBvYnNlcnZlcmAgZ2l2ZW4gdGhlIGBraW5kYCBvZiBub3RpZmljYXRpb24uXG4gICAqIElmIHRoZSBoYW5kbGVyIGlzIG1pc3NpbmcgaXQgd2lsbCBkbyBub3RoaW5nLiBFdmVuIGlmIHRoZSBub3RpZmljYXRpb24gaXMgYW4gZXJyb3IsIGlmXG4gICAqIHRoZXJlIGlzIG5vIGVycm9yIGhhbmRsZXIgb24gdGhlIG9ic2VydmVyLCBhbiBlcnJvciB3aWxsIG5vdCBiZSB0aHJvd24sIGl0IHdpbGwgbm9vcC5cbiAgICogQHBhcmFtIG9ic2VydmVyIFRoZSBvYnNlcnZlciB0byBub3RpZnkuXG4gICAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIE5vdGlmaWNhdGlvbiNvYnNlcnZlIG9ic2VydmV9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBhY2NlcHQob2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUPik6IHZvaWQ7XG4gIGFjY2VwdChuZXh0T3JPYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCksIGVycm9yPzogKGVycjogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbigobmV4dE9yT2JzZXJ2ZXIgYXMgYW55KT8ubmV4dClcbiAgICAgID8gdGhpcy5vYnNlcnZlKG5leHRPck9ic2VydmVyIGFzIFBhcnRpYWxPYnNlcnZlcjxUPilcbiAgICAgIDogdGhpcy5kbyhuZXh0T3JPYnNlcnZlciBhcyAodmFsdWU6IFQpID0+IHZvaWQsIGVycm9yIGFzIGFueSwgY29tcGxldGUgYXMgYW55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2ltcGxlIE9ic2VydmFibGUgdGhhdCBqdXN0IGRlbGl2ZXJzIHRoZSBub3RpZmljYXRpb24gcmVwcmVzZW50ZWRcbiAgICogYnkgdGhpcyBOb3RpZmljYXRpb24gaW5zdGFuY2UuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVG8gY29udmVydCBhIGBOb3RpZmljYXRpb25gIHRvIGFuIHtAbGluayBPYnNlcnZhYmxlfSxcbiAgICogdXNlIHtAbGluayBvZn0gYW5kIHtAbGluayBkZW1hdGVyaWFsaXplfTogYG9mKG5vdGlmaWNhdGlvbikucGlwZShkZW1hdGVyaWFsaXplKCkpYC5cbiAgICovXG4gIHRvT2JzZXJ2YWJsZSgpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCB7IGtpbmQsIHZhbHVlLCBlcnJvciB9ID0gdGhpcztcbiAgICAvLyBTZWxlY3QgdGhlIG9ic2VydmFibGUgdG8gcmV0dXJuIGJ5IGBraW5kYFxuICAgIGNvbnN0IHJlc3VsdCA9XG4gICAgICBraW5kID09PSAnTidcbiAgICAgICAgPyAvLyBOZXh0IGtpbmQuIFJldHVybiBhbiBvYnNlcnZhYmxlIG9mIHRoYXQgdmFsdWUuXG4gICAgICAgICAgb2YodmFsdWUhKVxuICAgICAgICA6IC8vXG4gICAgICAgIGtpbmQgPT09ICdFJ1xuICAgICAgICA/IC8vIEVycm9yIGtpbmQuIFJldHVybiBhbiBvYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGVycm9yLlxuICAgICAgICAgIHRocm93RXJyb3IoKCkgPT4gZXJyb3IpXG4gICAgICAgIDogLy9cbiAgICAgICAga2luZCA9PT0gJ0MnXG4gICAgICAgID8gLy8gQ29tcGxldGlvbiBraW5kLiBLaW5kIGlzIFwiQ1wiLCByZXR1cm4gYW4gb2JzZXJ2YWJsZSB0aGF0IGp1c3QgY29tcGxldGVzLlxuICAgICAgICAgIEVNUFRZXG4gICAgICAgIDogLy8gVW5rbm93biBraW5kLCByZXR1cm4gZmFsc3ksIHNvIHdlIGVycm9yIGJlbG93LlxuICAgICAgICAgIDA7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIC8vIFRPRE86IGNvbnNpZGVyIHJlbW92aW5nIHRoaXMgY2hlY2suIFRoZSBvbmx5IHdheSB0byBjYXVzZSB0aGlzIHdvdWxkIGJlIHRvXG4gICAgICAvLyB1c2UgdGhlIE5vdGlmaWNhdGlvbiBjb25zdHJ1Y3RvciBkaXJlY3RseSBpbiBhIHdheSB0aGF0IGlzIG5vdCB0eXBlLXNhZmUuXG4gICAgICAvLyBhbmQgZGlyZWN0IHVzZSBvZiB0aGUgTm90aWZpY2F0aW9uIGNvbnN0cnVjdG9yIGlzIGRlcHJlY2F0ZWQuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kICR7a2luZH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNvbXBsZXRlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignQycpIGFzIE5vdGlmaWNhdGlvbjxuZXZlcj4gJiBDb21wbGV0ZU5vdGlmaWNhdGlvbjtcbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgdG8gY3JlYXRlIGEgTm90aWZpY2F0aW9uIGluc3RhbmNlIG9mIHRoZSB0eXBlIGBuZXh0YCBmcm9tIGFcbiAgICogZ2l2ZW4gdmFsdWUuXG4gICAqIEBwYXJhbSB7VH0gdmFsdWUgVGhlIGBuZXh0YCB2YWx1ZS5cbiAgICogQHJldHVybiB7Tm90aWZpY2F0aW9uPFQ+fSBUaGUgXCJuZXh0XCIgTm90aWZpY2F0aW9uIHJlcHJlc2VudGluZyB0aGVcbiAgICogYXJndW1lbnQuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGBOb3RpZmljYXRpb25gIGRpcmVjdGx5LlxuICAgKiBSYXRoZXIsIHRyeSB0byBjcmVhdGUgUE9KT3MgbWF0Y2hpbmcgdGhlIHNpZ25hdHVyZSBvdXRsaW5lZCBpbiB7QGxpbmsgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbn0uXG4gICAqIEZvciBleGFtcGxlOiBgeyBraW5kOiAnTicsIHZhbHVlOiAxIH1gLCBgeyBraW5kOiAnRScsIGVycm9yOiBuZXcgRXJyb3IoJ2JhZCcpIH1gLCBvciBgeyBraW5kOiAnQycgfWAuXG4gICAqIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVOZXh0PFQ+KHZhbHVlOiBUKSB7XG4gICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSkgYXMgTm90aWZpY2F0aW9uPFQ+ICYgTmV4dE5vdGlmaWNhdGlvbjxUPjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNob3J0Y3V0IHRvIGNyZWF0ZSBhIE5vdGlmaWNhdGlvbiBpbnN0YW5jZSBvZiB0aGUgdHlwZSBgZXJyb3JgIGZyb20gYVxuICAgKiBnaXZlbiBlcnJvci5cbiAgICogQHBhcmFtIHthbnl9IFtlcnJdIFRoZSBgZXJyb3JgIGVycm9yLlxuICAgKiBAcmV0dXJuIHtOb3RpZmljYXRpb248VD59IFRoZSBcImVycm9yXCIgTm90aWZpY2F0aW9uIHJlcHJlc2VudGluZyB0aGVcbiAgICogYXJndW1lbnQuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGBOb3RpZmljYXRpb25gIGRpcmVjdGx5LlxuICAgKiBSYXRoZXIsIHRyeSB0byBjcmVhdGUgUE9KT3MgbWF0Y2hpbmcgdGhlIHNpZ25hdHVyZSBvdXRsaW5lZCBpbiB7QGxpbmsgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbn0uXG4gICAqIEZvciBleGFtcGxlOiBgeyBraW5kOiAnTicsIHZhbHVlOiAxIH1gLCBgeyBraW5kOiAnRScsIGVycm9yOiBuZXcgRXJyb3IoJ2JhZCcpIH1gLCBvciBgeyBraW5kOiAnQycgfWAuXG4gICAqIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVFcnJvcihlcnI/OiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyKSBhcyBOb3RpZmljYXRpb248bmV2ZXI+ICYgRXJyb3JOb3RpZmljYXRpb247XG4gIH1cblxuICAvKipcbiAgICogQSBzaG9ydGN1dCB0byBjcmVhdGUgYSBOb3RpZmljYXRpb24gaW5zdGFuY2Ugb2YgdGhlIHR5cGUgYGNvbXBsZXRlYC5cbiAgICogQHJldHVybiB7Tm90aWZpY2F0aW9uPGFueT59IFRoZSB2YWx1ZWxlc3MgXCJjb21wbGV0ZVwiIE5vdGlmaWNhdGlvbi5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgSXQgaXMgTk9UIHJlY29tbWVuZGVkIHRvIGNyZWF0ZSBpbnN0YW5jZXMgb2YgYE5vdGlmaWNhdGlvbmAgZGlyZWN0bHkuXG4gICAqIFJhdGhlciwgdHJ5IHRvIGNyZWF0ZSBQT0pPcyBtYXRjaGluZyB0aGUgc2lnbmF0dXJlIG91dGxpbmVkIGluIHtAbGluayBPYnNlcnZhYmxlTm90aWZpY2F0aW9ufS5cbiAgICogRm9yIGV4YW1wbGU6IGB7IGtpbmQ6ICdOJywgdmFsdWU6IDEgfWAsIGB7IGtpbmQ6ICdFJywgZXJyb3I6IG5ldyBFcnJvcignYmFkJykgfWAsIG9yIGB7IGtpbmQ6ICdDJyB9YC5cbiAgICogV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUNvbXBsZXRlKCk6IE5vdGlmaWNhdGlvbjxuZXZlcj4gJiBDb21wbGV0ZU5vdGlmaWNhdGlvbiB7XG4gICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbjtcbiAgfVxufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIG9uIGEgcGFzc2VkIGBvYnNlcnZlcmAgZ2l2ZW4gdGhlIGBraW5kYCBvZiBub3RpZmljYXRpb24uXG4gKiBJZiB0aGUgaGFuZGxlciBpcyBtaXNzaW5nIGl0IHdpbGwgZG8gbm90aGluZy4gRXZlbiBpZiB0aGUgbm90aWZpY2F0aW9uIGlzIGFuIGVycm9yLCBpZlxuICogdGhlcmUgaXMgbm8gZXJyb3IgaGFuZGxlciBvbiB0aGUgb2JzZXJ2ZXIsIGFuIGVycm9yIHdpbGwgbm90IGJlIHRocm93biwgaXQgd2lsbCBub29wLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiBUaGUgbm90aWZpY2F0aW9uIG9iamVjdCB0byBvYnNlcnZlLlxuICogQHBhcmFtIG9ic2VydmVyIFRoZSBvYnNlcnZlciB0byBub3RpZnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlTm90aWZpY2F0aW9uPFQ+KG5vdGlmaWNhdGlvbjogT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbjxUPiwgb2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUPikge1xuICBjb25zdCB7IGtpbmQsIHZhbHVlLCBlcnJvciB9ID0gbm90aWZpY2F0aW9uIGFzIGFueTtcbiAgaWYgKHR5cGVvZiBraW5kICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm90aWZpY2F0aW9uLCBtaXNzaW5nIFwia2luZFwiJyk7XG4gIH1cbiAga2luZCA9PT0gJ04nID8gb2JzZXJ2ZXIubmV4dD8uKHZhbHVlISkgOiBraW5kID09PSAnRScgPyBvYnNlcnZlci5lcnJvcj8uKGVycm9yKSA6IG9ic2VydmVyLmNvbXBsZXRlPy4oKTtcbn1cbiIsImltcG9ydCB7IENvbXBsZXRlTm90aWZpY2F0aW9uLCBOZXh0Tm90aWZpY2F0aW9uLCBFcnJvck5vdGlmaWNhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIEEgY29tcGxldGlvbiBvYmplY3Qgb3B0aW1pemVkIGZvciBtZW1vcnkgdXNlIGFuZCBjcmVhdGVkIHRvIGJlIHRoZVxuICogc2FtZSBcInNoYXBlXCIgYXMgb3RoZXIgbm90aWZpY2F0aW9ucyBpbiB2OC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKCgpID0+IGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSBhcyBDb21wbGV0ZU5vdGlmaWNhdGlvbikoKTtcblxuLyoqXG4gKiBJbnRlcm5hbCB1c2Ugb25seS4gQ3JlYXRlcyBhbiBvcHRpbWl6ZWQgZXJyb3Igbm90aWZpY2F0aW9uIHRoYXQgaXMgdGhlIHNhbWUgXCJzaGFwZVwiXG4gKiBhcyBvdGhlciBub3RpZmljYXRpb25zLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcjogYW55KTogRXJyb3JOb3RpZmljYXRpb24ge1xuICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcikgYXMgYW55O1xufVxuXG4vKipcbiAqIEludGVybmFsIHVzZSBvbmx5LiBDcmVhdGVzIGFuIG9wdGltaXplZCBuZXh0IG5vdGlmaWNhdGlvbiB0aGF0IGlzIHRoZSBzYW1lIFwic2hhcGVcIlxuICogYXMgb3RoZXIgbm90aWZpY2F0aW9ucy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV4dE5vdGlmaWNhdGlvbjxUPih2YWx1ZTogVCkge1xuICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdOJywgdmFsdWUsIHVuZGVmaW5lZCkgYXMgTmV4dE5vdGlmaWNhdGlvbjxUPjtcbn1cblxuLyoqXG4gKiBFbnN1cmVzIHRoYXQgYWxsIG5vdGlmaWNhdGlvbnMgY3JlYXRlZCBpbnRlcm5hbGx5IGhhdmUgdGhlIHNhbWUgXCJzaGFwZVwiIGluIHY4LlxuICpcbiAqIFRPRE86IFRoaXMgaXMgb25seSBleHBvcnRlZCB0byBzdXBwb3J0IGEgY3JhenkgbGVnYWN5IHRlc3QgaW4gYGdyb3VwQnlgLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24oa2luZDogJ04nIHwgJ0UnIHwgJ0MnLCB2YWx1ZTogYW55LCBlcnJvcjogYW55KSB7XG4gIHJldHVybiB7XG4gICAga2luZCxcbiAgICB2YWx1ZSxcbiAgICBlcnJvcixcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBTYWZlU3Vic2NyaWJlciwgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgVGVhcmRvd25Mb2dpYywgT3BlcmF0b3JGdW5jdGlvbiwgU3Vic2NyaWJhYmxlLCBPYnNlcnZlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGFueSBzZXQgb2YgdmFsdWVzIG92ZXIgYW55IGFtb3VudCBvZiB0aW1lLiBUaGlzIGlzIHRoZSBtb3N0IGJhc2ljIGJ1aWxkaW5nIGJsb2NrXG4gKiBvZiBSeEpTLlxuICpcbiAqIEBjbGFzcyBPYnNlcnZhYmxlPFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IGltcGxlbWVudHMgU3Vic2NyaWJhYmxlPFQ+IHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LlxuICAgKi9cbiAgc291cmNlOiBPYnNlcnZhYmxlPGFueT4gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LlxuICAgKi9cbiAgb3BlcmF0b3I6IE9wZXJhdG9yPGFueSwgVD4gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJzY3JpYmUgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIE9ic2VydmFibGUgaXNcbiAgICogaW5pdGlhbGx5IHN1YnNjcmliZWQgdG8uIFRoaXMgZnVuY3Rpb24gaXMgZ2l2ZW4gYSBTdWJzY3JpYmVyLCB0byB3aGljaCBuZXcgdmFsdWVzXG4gICAqIGNhbiBiZSBgbmV4dGBlZCwgb3IgYW4gYGVycm9yYCBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByYWlzZSBhbiBlcnJvciwgb3JcbiAgICogYGNvbXBsZXRlYCBjYW4gYmUgY2FsbGVkIHRvIG5vdGlmeSBvZiBhIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHN1YnNjcmliZT86ICh0aGlzOiBPYnNlcnZhYmxlPFQ+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiBUZWFyZG93bkxvZ2ljKSB7XG4gICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhBQ0s6IFNpbmNlIFR5cGVTY3JpcHQgaW5oZXJpdHMgc3RhdGljIHByb3BlcnRpZXMgdG9vLCB3ZSBoYXZlIHRvXG4gIC8vIGZpZ2h0IGFnYWluc3QgVHlwZVNjcmlwdCBoZXJlIHNvIFN1YmplY3QgY2FuIGhhdmUgYSBkaWZmZXJlbnQgc3RhdGljIGNyZWF0ZSBzaWduYXR1cmVcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgT2JzZXJ2YWJsZSBieSBjYWxsaW5nIHRoZSBPYnNlcnZhYmxlIGNvbnN0cnVjdG9yXG4gICAqIEBvd25lciBPYnNlcnZhYmxlXG4gICAqIEBtZXRob2QgY3JlYXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YnNjcmliZT8gdGhlIHN1YnNjcmliZXIgZnVuY3Rpb24gdG8gYmUgcGFzc2VkIHRvIHRoZSBPYnNlcnZhYmxlIGNvbnN0cnVjdG9yXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IGEgbmV3IG9ic2VydmFibGVcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBuZXcgT2JzZXJ2YWJsZSgpYCBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlOiAoLi4uYXJnczogYW55W10pID0+IGFueSA9IDxUPihzdWJzY3JpYmU/OiAoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4gVGVhcmRvd25Mb2dpYykgPT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPihzdWJzY3JpYmUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IE9ic2VydmFibGUsIHdpdGggdGhpcyBPYnNlcnZhYmxlIGluc3RhbmNlIGFzIHRoZSBzb3VyY2UsIGFuZCB0aGUgcGFzc2VkXG4gICAqIG9wZXJhdG9yIGRlZmluZWQgYXMgdGhlIG5ldyBvYnNlcnZhYmxlJ3Mgb3BlcmF0b3IuXG4gICAqIEBtZXRob2QgbGlmdFxuICAgKiBAcGFyYW0gb3BlcmF0b3IgdGhlIG9wZXJhdG9yIGRlZmluaW5nIHRoZSBvcGVyYXRpb24gdG8gdGFrZSBvbiB0aGUgb2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJuIGEgbmV3IG9ic2VydmFibGUgd2l0aCB0aGUgT3BlcmF0b3IgYXBwbGllZFxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICogSWYgeW91IGhhdmUgaW1wbGVtZW50ZWQgYW4gb3BlcmF0b3IgdXNpbmcgYGxpZnRgLCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBjcmVhdGUgYW5cbiAgICogb3BlcmF0b3IgYnkgc2ltcGx5IHJldHVybmluZyBgbmV3IE9ic2VydmFibGUoKWAgZGlyZWN0bHkuIFNlZSBcIkNyZWF0aW5nIG5ldyBvcGVyYXRvcnMgZnJvbVxuICAgKiBzY3JhdGNoXCIgc2VjdGlvbiBoZXJlOiBodHRwczovL3J4anMuZGV2L2d1aWRlL29wZXJhdG9yc1xuICAgKi9cbiAgbGlmdDxSPihvcGVyYXRvcj86IE9wZXJhdG9yPFQsIFI+KTogT2JzZXJ2YWJsZTxSPiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFI+KCk7XG4gICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgfVxuXG4gIHN1YnNjcmliZShvYnNlcnZlck9yTmV4dD86IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkpOiBTdWJzY3JpcHRpb247XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnN0ZWFkIG9mIHBhc3Npbmcgc2VwYXJhdGUgY2FsbGJhY2sgYXJndW1lbnRzLCB1c2UgYW4gb2JzZXJ2ZXIgYXJndW1lbnQuIFNpZ25hdHVyZXMgdGFraW5nIHNlcGFyYXRlIGNhbGxiYWNrIGFyZ3VtZW50cyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3N1YnNjcmliZS1hcmd1bWVudHMgKi9cbiAgc3Vic2NyaWJlKG5leHQ/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsIGVycm9yPzogKChlcnJvcjogYW55KSA9PiB2b2lkKSB8IG51bGwsIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbCk6IFN1YnNjcmlwdGlvbjtcbiAgLyoqXG4gICAqIEludm9rZXMgYW4gZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUgYW5kIHJlZ2lzdGVycyBPYnNlcnZlciBoYW5kbGVycyBmb3Igbm90aWZpY2F0aW9ucyBpdCB3aWxsIGVtaXQuXG4gICAqXG4gICAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Vc2UgaXQgd2hlbiB5b3UgaGF2ZSBhbGwgdGhlc2UgT2JzZXJ2YWJsZXMsIGJ1dCBzdGlsbCBub3RoaW5nIGlzIGhhcHBlbmluZy48L3NwYW4+XG4gICAqXG4gICAqIGBzdWJzY3JpYmVgIGlzIG5vdCBhIHJlZ3VsYXIgb3BlcmF0b3IsIGJ1dCBhIG1ldGhvZCB0aGF0IGNhbGxzIE9ic2VydmFibGUncyBpbnRlcm5hbCBgc3Vic2NyaWJlYCBmdW5jdGlvbi4gSXRcbiAgICogbWlnaHQgYmUgZm9yIGV4YW1wbGUgYSBmdW5jdGlvbiB0aGF0IHlvdSBwYXNzZWQgdG8gT2JzZXJ2YWJsZSdzIGNvbnN0cnVjdG9yLCBidXQgbW9zdCBvZiB0aGUgdGltZSBpdCBpc1xuICAgKiBhIGxpYnJhcnkgaW1wbGVtZW50YXRpb24sIHdoaWNoIGRlZmluZXMgd2hhdCB3aWxsIGJlIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZSwgYW5kIHdoZW4gaXQgYmUgd2lsbCBlbWl0dGVkLiBUaGlzIG1lYW5zXG4gICAqIHRoYXQgY2FsbGluZyBgc3Vic2NyaWJlYCBpcyBhY3R1YWxseSB0aGUgbW9tZW50IHdoZW4gT2JzZXJ2YWJsZSBzdGFydHMgaXRzIHdvcmssIG5vdCB3aGVuIGl0IGlzIGNyZWF0ZWQsIGFzIGl0IGlzIG9mdGVuXG4gICAqIHRoZSB0aG91Z2h0LlxuICAgKlxuICAgKiBBcGFydCBmcm9tIHN0YXJ0aW5nIHRoZSBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZSwgdGhpcyBtZXRob2QgYWxsb3dzIHlvdSB0byBsaXN0ZW4gZm9yIHZhbHVlc1xuICAgKiB0aGF0IGFuIE9ic2VydmFibGUgZW1pdHMsIGFzIHdlbGwgYXMgZm9yIHdoZW4gaXQgY29tcGxldGVzIG9yIGVycm9ycy4gWW91IGNhbiBhY2hpZXZlIHRoaXMgaW4gdHdvXG4gICAqIG9mIHRoZSBmb2xsb3dpbmcgd2F5cy5cbiAgICpcbiAgICogVGhlIGZpcnN0IHdheSBpcyBjcmVhdGluZyBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHtAbGluayBPYnNlcnZlcn0gaW50ZXJmYWNlLiBJdCBzaG91bGQgaGF2ZSBtZXRob2RzXG4gICAqIGRlZmluZWQgYnkgdGhhdCBpbnRlcmZhY2UsIGJ1dCBub3RlIHRoYXQgaXQgc2hvdWxkIGJlIGp1c3QgYSByZWd1bGFyIEphdmFTY3JpcHQgb2JqZWN0LCB3aGljaCB5b3UgY2FuIGNyZWF0ZVxuICAgKiB5b3Vyc2VsZiBpbiBhbnkgd2F5IHlvdSB3YW50IChFUzYgY2xhc3MsIGNsYXNzaWMgZnVuY3Rpb24gY29uc3RydWN0b3IsIG9iamVjdCBsaXRlcmFsIGV0Yy4pLiBJbiBwYXJ0aWN1bGFyLCBkb1xuICAgKiBub3QgYXR0ZW1wdCB0byB1c2UgYW55IFJ4SlMgaW1wbGVtZW50YXRpb24gZGV0YWlscyB0byBjcmVhdGUgT2JzZXJ2ZXJzIC0geW91IGRvbid0IG5lZWQgdGhlbS4gUmVtZW1iZXIgYWxzb1xuICAgKiB0aGF0IHlvdXIgb2JqZWN0IGRvZXMgbm90IGhhdmUgdG8gaW1wbGVtZW50IGFsbCBtZXRob2RzLiBJZiB5b3UgZmluZCB5b3Vyc2VsZiBjcmVhdGluZyBhIG1ldGhvZCB0aGF0IGRvZXNuJ3RcbiAgICogZG8gYW55dGhpbmcsIHlvdSBjYW4gc2ltcGx5IG9taXQgaXQuIE5vdGUgaG93ZXZlciwgaWYgdGhlIGBlcnJvcmAgbWV0aG9kIGlzIG5vdCBwcm92aWRlZCBhbmQgYW4gZXJyb3IgaGFwcGVucyxcbiAgICogaXQgd2lsbCBiZSB0aHJvd24gYXN5bmNocm9ub3VzbHkuIEVycm9ycyB0aHJvd24gYXN5bmNocm9ub3VzbHkgY2Fubm90IGJlIGNhdWdodCB1c2luZyBgdHJ5YC9gY2F0Y2hgLiBJbnN0ZWFkLFxuICAgKiB1c2UgdGhlIHtAbGluayBvblVuaGFuZGxlZEVycm9yfSBjb25maWd1cmF0aW9uIG9wdGlvbiBvciB1c2UgYSBydW50aW1lIGhhbmRsZXIgKGxpa2UgYHdpbmRvdy5vbmVycm9yYCBvclxuICAgKiBgcHJvY2Vzcy5vbignZXJyb3IpYCkgdG8gYmUgbm90aWZpZWQgb2YgdW5oYW5kbGVkIGVycm9ycy4gQmVjYXVzZSBvZiB0aGlzLCBpdCdzIHJlY29tbWVuZGVkIHRoYXQgeW91IHByb3ZpZGVcbiAgICogYW4gYGVycm9yYCBtZXRob2QgdG8gYXZvaWQgbWlzc2luZyB0aHJvd24gZXJyb3JzLlxuICAgKlxuICAgKiBUaGUgc2Vjb25kIHdheSBpcyB0byBnaXZlIHVwIG9uIE9ic2VydmVyIG9iamVjdCBhbHRvZ2V0aGVyIGFuZCBzaW1wbHkgcHJvdmlkZSBjYWxsYmFjayBmdW5jdGlvbnMgaW4gcGxhY2Ugb2YgaXRzIG1ldGhvZHMuXG4gICAqIFRoaXMgbWVhbnMgeW91IGNhbiBwcm92aWRlIHRocmVlIGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMgdG8gYHN1YnNjcmliZWAsIHdoZXJlIHRoZSBmaXJzdCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50XG4gICAqIG9mIGEgYG5leHRgIG1ldGhvZCwgdGhlIHNlY29uZCBvZiBhbiBgZXJyb3JgIG1ldGhvZCBhbmQgdGhlIHRoaXJkIG9mIGEgYGNvbXBsZXRlYCBtZXRob2QuIEp1c3QgYXMgaW4gY2FzZSBvZiBhbiBPYnNlcnZlcixcbiAgICogaWYgeW91IGRvIG5vdCBuZWVkIHRvIGxpc3RlbiBmb3Igc29tZXRoaW5nLCB5b3UgY2FuIG9taXQgYSBmdW5jdGlvbiBieSBwYXNzaW5nIGB1bmRlZmluZWRgIG9yIGBudWxsYCxcbiAgICogc2luY2UgYHN1YnNjcmliZWAgcmVjb2duaXplcyB0aGVzZSBmdW5jdGlvbnMgYnkgd2hlcmUgdGhleSB3ZXJlIHBsYWNlZCBpbiBmdW5jdGlvbiBjYWxsLiBXaGVuIGl0IGNvbWVzXG4gICAqIHRvIHRoZSBgZXJyb3JgIGZ1bmN0aW9uLCBhcyB3aXRoIGFuIE9ic2VydmVyLCBpZiBub3QgcHJvdmlkZWQsIGVycm9ycyBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUgd2lsbCBiZSB0aHJvd24gYXN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIFlvdSBjYW4sIGhvd2V2ZXIsIHN1YnNjcmliZSB3aXRoIG5vIHBhcmFtZXRlcnMgYXQgYWxsLiBUaGlzIG1heSBiZSB0aGUgY2FzZSB3aGVyZSB5b3UncmUgbm90IGludGVyZXN0ZWQgaW4gdGVybWluYWwgZXZlbnRzXG4gICAqIGFuZCB5b3UgYWxzbyBoYW5kbGVkIGVtaXNzaW9ucyBpbnRlcm5hbGx5IGJ5IHVzaW5nIG9wZXJhdG9ycyAoZS5nLiB1c2luZyBgdGFwYCkuXG4gICAqXG4gICAqIFdoaWNoZXZlciBzdHlsZSBvZiBjYWxsaW5nIGBzdWJzY3JpYmVgIHlvdSB1c2UsIGluIGJvdGggY2FzZXMgaXQgcmV0dXJucyBhIFN1YnNjcmlwdGlvbiBvYmplY3QuXG4gICAqIFRoaXMgb2JqZWN0IGFsbG93cyB5b3UgdG8gY2FsbCBgdW5zdWJzY3JpYmVgIG9uIGl0LCB3aGljaCBpbiB0dXJuIHdpbGwgc3RvcCB0aGUgd29yayB0aGF0IGFuIE9ic2VydmFibGUgZG9lcyBhbmQgd2lsbCBjbGVhblxuICAgKiB1cCBhbGwgcmVzb3VyY2VzIHRoYXQgYW4gT2JzZXJ2YWJsZSB1c2VkLiBOb3RlIHRoYXQgY2FuY2VsbGluZyBhIHN1YnNjcmlwdGlvbiB3aWxsIG5vdCBjYWxsIGBjb21wbGV0ZWAgY2FsbGJhY2tcbiAgICogcHJvdmlkZWQgdG8gYHN1YnNjcmliZWAgZnVuY3Rpb24sIHdoaWNoIGlzIHJlc2VydmVkIGZvciBhIHJlZ3VsYXIgY29tcGxldGlvbiBzaWduYWwgdGhhdCBjb21lcyBmcm9tIGFuIE9ic2VydmFibGUuXG4gICAqXG4gICAqIFJlbWVtYmVyIHRoYXQgY2FsbGJhY2tzIHByb3ZpZGVkIHRvIGBzdWJzY3JpYmVgIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuXG4gICAqIEl0IGlzIGFuIE9ic2VydmFibGUgaXRzZWxmIHRoYXQgZGVjaWRlcyB3aGVuIHRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZC4gRm9yIGV4YW1wbGUge0BsaW5rIG9mfVxuICAgKiBieSBkZWZhdWx0IGVtaXRzIGFsbCBpdHMgdmFsdWVzIHN5bmNocm9ub3VzbHkuIEFsd2F5cyBjaGVjayBkb2N1bWVudGF0aW9uIGZvciBob3cgZ2l2ZW4gT2JzZXJ2YWJsZVxuICAgKiB3aWxsIGJlaGF2ZSB3aGVuIHN1YnNjcmliZWQgYW5kIGlmIGl0cyBkZWZhdWx0IGJlaGF2aW9yIGNhbiBiZSBtb2RpZmllZCB3aXRoIGEgYHNjaGVkdWxlcmAuXG4gICAqXG4gICAqICMjIyMgRXhhbXBsZXNcbiAgICpcbiAgICogU3Vic2NyaWJlIHdpdGggYW4ge0BsaW5rIGd1aWRlL29ic2VydmVyIE9ic2VydmVyfVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnO1xuICAgKlxuICAgKiBjb25zdCBzdW1PYnNlcnZlciA9IHtcbiAgICogICBzdW06IDAsXG4gICAqICAgbmV4dCh2YWx1ZSkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ0FkZGluZzogJyArIHZhbHVlKTtcbiAgICogICAgIHRoaXMuc3VtID0gdGhpcy5zdW0gKyB2YWx1ZTtcbiAgICogICB9LFxuICAgKiAgIGVycm9yKCkge1xuICAgKiAgICAgLy8gV2UgYWN0dWFsbHkgY291bGQganVzdCByZW1vdmUgdGhpcyBtZXRob2QsXG4gICAqICAgICAvLyBzaW5jZSB3ZSBkbyBub3QgcmVhbGx5IGNhcmUgYWJvdXQgZXJyb3JzIHJpZ2h0IG5vdy5cbiAgICogICB9LFxuICAgKiAgIGNvbXBsZXRlKCkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ1N1bSBlcXVhbHM6ICcgKyB0aGlzLnN1bSk7XG4gICAqICAgfVxuICAgKiB9O1xuICAgKlxuICAgKiBvZigxLCAyLCAzKSAvLyBTeW5jaHJvbm91c2x5IGVtaXRzIDEsIDIsIDMgYW5kIHRoZW4gY29tcGxldGVzLlxuICAgKiAgIC5zdWJzY3JpYmUoc3VtT2JzZXJ2ZXIpO1xuICAgKlxuICAgKiAvLyBMb2dzOlxuICAgKiAvLyAnQWRkaW5nOiAxJ1xuICAgKiAvLyAnQWRkaW5nOiAyJ1xuICAgKiAvLyAnQWRkaW5nOiAzJ1xuICAgKiAvLyAnU3VtIGVxdWFsczogNidcbiAgICogYGBgXG4gICAqXG4gICAqIFN1YnNjcmliZSB3aXRoIGZ1bmN0aW9ucyAoe0BsaW5rIGRlcHJlY2F0aW9ucy9zdWJzY3JpYmUtYXJndW1lbnRzIGRlcHJlY2F0ZWR9KVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnXG4gICAqXG4gICAqIGxldCBzdW0gPSAwO1xuICAgKlxuICAgKiBvZigxLCAyLCAzKS5zdWJzY3JpYmUoXG4gICAqICAgdmFsdWUgPT4ge1xuICAgKiAgICAgY29uc29sZS5sb2coJ0FkZGluZzogJyArIHZhbHVlKTtcbiAgICogICAgIHN1bSA9IHN1bSArIHZhbHVlO1xuICAgKiAgIH0sXG4gICAqICAgdW5kZWZpbmVkLFxuICAgKiAgICgpID0+IGNvbnNvbGUubG9nKCdTdW0gZXF1YWxzOiAnICsgc3VtKVxuICAgKiApO1xuICAgKlxuICAgKiAvLyBMb2dzOlxuICAgKiAvLyAnQWRkaW5nOiAxJ1xuICAgKiAvLyAnQWRkaW5nOiAyJ1xuICAgKiAvLyAnQWRkaW5nOiAzJ1xuICAgKiAvLyAnU3VtIGVxdWFsczogNidcbiAgICogYGBgXG4gICAqXG4gICAqIENhbmNlbCBhIHN1YnNjcmlwdGlvblxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICAgKlxuICAgKiBjb25zdCBzdWJzY3JpcHRpb24gPSBpbnRlcnZhbCgxMDAwKS5zdWJzY3JpYmUoe1xuICAgKiAgIG5leHQobnVtKSB7XG4gICAqICAgICBjb25zb2xlLmxvZyhudW0pXG4gICAqICAgfSxcbiAgICogICBjb21wbGV0ZSgpIHtcbiAgICogICAgIC8vIFdpbGwgbm90IGJlIGNhbGxlZCwgZXZlbiB3aGVuIGNhbmNlbGxpbmcgc3Vic2NyaXB0aW9uLlxuICAgKiAgICAgY29uc29sZS5sb2coJ2NvbXBsZXRlZCEnKTtcbiAgICogICB9XG4gICAqIH0pO1xuICAgKlxuICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICogICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICogICBjb25zb2xlLmxvZygndW5zdWJzY3JpYmVkIScpO1xuICAgKiB9LCAyNTAwKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gMCBhZnRlciAxc1xuICAgKiAvLyAxIGFmdGVyIDJzXG4gICAqIC8vICd1bnN1YnNjcmliZWQhJyBhZnRlciAyLjVzXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge09ic2VydmVyfEZ1bmN0aW9ufSBvYnNlcnZlck9yTmV4dCAob3B0aW9uYWwpIEVpdGhlciBhbiBvYnNlcnZlciB3aXRoIG1ldGhvZHMgdG8gYmUgY2FsbGVkLFxuICAgKiBvciB0aGUgZmlyc3Qgb2YgdGhyZWUgcG9zc2libGUgaGFuZGxlcnMsIHdoaWNoIGlzIHRoZSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgZnJvbSB0aGUgc3Vic2NyaWJlZFxuICAgKiBPYnNlcnZhYmxlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAob3B0aW9uYWwpIEEgaGFuZGxlciBmb3IgYSB0ZXJtaW5hbCBldmVudCByZXN1bHRpbmcgZnJvbSBhbiBlcnJvci4gSWYgbm8gZXJyb3IgaGFuZGxlciBpcyBwcm92aWRlZCxcbiAgICogdGhlIGVycm9yIHdpbGwgYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5IGFzIHVuaGFuZGxlZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGxldGUgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgKiBAcmV0dXJuIHtTdWJzY3JpcHRpb259IGEgc3Vic2NyaXB0aW9uIHJlZmVyZW5jZSB0byB0aGUgcmVnaXN0ZXJlZCBoYW5kbGVyc1xuICAgKiBAbWV0aG9kIHN1YnNjcmliZVxuICAgKi9cbiAgc3Vic2NyaWJlKFxuICAgIG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsXG4gICAgZXJyb3I/OiAoKGVycm9yOiBhbnkpID0+IHZvaWQpIHwgbnVsbCxcbiAgICBjb21wbGV0ZT86ICgoKSA9PiB2b2lkKSB8IG51bGxcbiAgKTogU3Vic2NyaXB0aW9uIHtcbiAgICBjb25zdCBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuXG4gICAgZXJyb3JDb250ZXh0KCgpID0+IHtcbiAgICAgIGNvbnN0IHsgb3BlcmF0b3IsIHNvdXJjZSB9ID0gdGhpcztcbiAgICAgIHN1YnNjcmliZXIuYWRkKFxuICAgICAgICBvcGVyYXRvclxuICAgICAgICAgID8gLy8gV2UncmUgZGVhbGluZyB3aXRoIGEgc3Vic2NyaXB0aW9uIGluIHRoZVxuICAgICAgICAgICAgLy8gb3BlcmF0b3IgY2hhaW4gdG8gb25lIG9mIG91ciBsaWZ0ZWQgb3BlcmF0b3JzLlxuICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICA/IC8vIElmIGBzb3VyY2VgIGhhcyBhIHZhbHVlLCBidXQgYG9wZXJhdG9yYCBkb2VzIG5vdCwgc29tZXRoaW5nIHRoYXRcbiAgICAgICAgICAgIC8vIGhhZCBpbnRpbWF0ZSBrbm93bGVkZ2Ugb2Ygb3VyIEFQSSwgbGlrZSBvdXIgYFN1YmplY3RgLCBtdXN0IGhhdmVcbiAgICAgICAgICAgIC8vIHNldCBpdC4gV2UncmUgZ29pbmcgdG8ganVzdCBjYWxsIGBfc3Vic2NyaWJlYCBkaXJlY3RseS5cbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgICAgIDogLy8gSW4gYWxsIG90aGVyIGNhc2VzLCB3ZSdyZSBsaWtlbHkgd3JhcHBpbmcgYSB1c2VyLXByb3ZpZGVkIGluaXRpYWxpemVyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiwgc28gd2UgbmVlZCB0byBjYXRjaCBlcnJvcnMgYW5kIGhhbmRsZSB0aGVtIGFwcHJvcHJpYXRlbHkuXG4gICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF90cnlTdWJzY3JpYmUoc2luazogU3Vic2NyaWJlcjxUPik6IFRlYXJkb3duTG9naWMge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byByZXR1cm4gYW55dGhpbmcgaW4gdGhpcyBjYXNlLFxuICAgICAgLy8gYmVjYXVzZSBpdCdzIGp1c3QgZ29pbmcgdG8gdHJ5IHRvIGBhZGQoKWAgdG8gYSBzdWJzY3JpcHRpb25cbiAgICAgIC8vIGFib3ZlLlxuICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGFzIGEgTk9OLUNBTkNFTExBQkxFIG1lYW5zIG9mIHN1YnNjcmliaW5nIHRvIGFuIG9ic2VydmFibGUsIGZvciB1c2Ugd2l0aFxuICAgKiBBUElzIHRoYXQgZXhwZWN0IHByb21pc2VzLCBsaWtlIGBhc3luYy9hd2FpdGAuIFlvdSBjYW5ub3QgdW5zdWJzY3JpYmUgZnJvbSB0aGlzLlxuICAgKlxuICAgKiAqKldBUk5JTkcqKjogT25seSB1c2UgdGhpcyB3aXRoIG9ic2VydmFibGVzIHlvdSAqa25vdyogd2lsbCBjb21wbGV0ZS4gSWYgdGhlIHNvdXJjZVxuICAgKiBvYnNlcnZhYmxlIGRvZXMgbm90IGNvbXBsZXRlLCB5b3Ugd2lsbCBlbmQgdXAgd2l0aCBhIHByb21pc2UgdGhhdCBpcyBodW5nIHVwLCBhbmRcbiAgICogcG90ZW50aWFsbHkgYWxsIG9mIHRoZSBzdGF0ZSBvZiBhbiBhc3luYyBmdW5jdGlvbiBoYW5naW5nIG91dCBpbiBtZW1vcnkuIFRvIGF2b2lkXG4gICAqIHRoaXMgc2l0dWF0aW9uLCBsb29rIGludG8gYWRkaW5nIHNvbWV0aGluZyBsaWtlIHtAbGluayB0aW1lb3V0fSwge0BsaW5rIHRha2V9LFxuICAgKiB7QGxpbmsgdGFrZVdoaWxlfSwgb3Ige0BsaW5rIHRha2VVbnRpbH0gYW1vbmdzdCBvdGhlcnMuXG4gICAqXG4gICAqICMjIyMgRXhhbXBsZVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSB9IGZyb20gJ3J4anMnO1xuICAgKlxuICAgKiBjb25zdCBzb3VyY2UkID0gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDQpKTtcbiAgICpcbiAgICogYXN5bmMgZnVuY3Rpb24gZ2V0VG90YWwoKSB7XG4gICAqICAgbGV0IHRvdGFsID0gMDtcbiAgICpcbiAgICogICBhd2FpdCBzb3VyY2UkLmZvckVhY2godmFsdWUgPT4ge1xuICAgKiAgICAgdG90YWwgKz0gdmFsdWU7XG4gICAqICAgICBjb25zb2xlLmxvZygnb2JzZXJ2YWJsZSAtPiAnICsgdmFsdWUpO1xuICAgKiAgIH0pO1xuICAgKlxuICAgKiAgIHJldHVybiB0b3RhbDtcbiAgICogfVxuICAgKlxuICAgKiBnZXRUb3RhbCgpLnRoZW4oXG4gICAqICAgdG90YWwgPT4gY29uc29sZS5sb2coJ1RvdGFsOiAnICsgdG90YWwpXG4gICAqICk7XG4gICAqXG4gICAqIC8vIEV4cGVjdGVkOlxuICAgKiAvLyAnb2JzZXJ2YWJsZSAtPiAwJ1xuICAgKiAvLyAnb2JzZXJ2YWJsZSAtPiAxJ1xuICAgKiAvLyAnb2JzZXJ2YWJsZSAtPiAyJ1xuICAgKiAvLyAnb2JzZXJ2YWJsZSAtPiAzJ1xuICAgKiAvLyAnVG90YWw6IDYnXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gbmV4dCBhIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgb2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJuIGEgcHJvbWlzZSB0aGF0IGVpdGhlciByZXNvbHZlcyBvbiBvYnNlcnZhYmxlIGNvbXBsZXRpb24gb3JcbiAgICogIHJlamVjdHMgd2l0aCB0aGUgaGFuZGxlZCBlcnJvclxuICAgKi9cbiAgZm9yRWFjaChuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gbmV4dCBhIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgb2JzZXJ2YWJsZVxuICAgKiBAcGFyYW0gcHJvbWlzZUN0b3IgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBQcm9taXNlXG4gICAqIEByZXR1cm4gYSBwcm9taXNlIHRoYXQgZWl0aGVyIHJlc29sdmVzIG9uIG9ic2VydmFibGUgY29tcGxldGlvbiBvclxuICAgKiAgcmVqZWN0cyB3aXRoIHRoZSBoYW5kbGVkIGVycm9yXG4gICAqIEBkZXByZWNhdGVkIFBhc3NpbmcgYSBQcm9taXNlIGNvbnN0cnVjdG9yIHdpbGwgbm8gbG9uZ2VyIGJlIGF2YWlsYWJsZVxuICAgKiBpbiB1cGNvbWluZyB2ZXJzaW9ucyBvZiBSeEpTLiBUaGlzIGlzIGJlY2F1c2UgaXQgYWRkcyB3ZWlnaHQgdG8gdGhlIGxpYnJhcnksIGZvciB2ZXJ5XG4gICAqIGxpdHRsZSBiZW5lZml0LiBJZiB5b3UgbmVlZCB0aGlzIGZ1bmN0aW9uYWxpdHksIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IGVpdGhlclxuICAgKiBwb2x5ZmlsbCBQcm9taXNlLCBvciB5b3UgY3JlYXRlIGFuIGFkYXB0ZXIgdG8gY29udmVydCB0aGUgcmV0dXJuZWQgbmF0aXZlIHByb21pc2VcbiAgICogdG8gd2hhdGV2ZXIgcHJvbWlzZSBpbXBsZW1lbnRhdGlvbiB5b3Ugd2FudGVkLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBmb3JFYWNoKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgcHJvbWlzZUN0b3I6IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIGZvckVhY2gobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkLCBwcm9taXNlQ3Rvcj86IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcblxuICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3I8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3Vic2NyaWJlciA9IG5ldyBTYWZlU3Vic2NyaWJlcjxUPih7XG4gICAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgICAgY29tcGxldGU6IHJlc29sdmUsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pIGFzIFByb21pc2U8dm9pZD47XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfc3Vic2NyaWJlKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55Pik6IFRlYXJkb3duTG9naWMge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZT8uc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGludGVyb3AgcG9pbnQgZGVmaW5lZCBieSB0aGUgZXM3LW9ic2VydmFibGUgc3BlYyBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG4gICAqIEBtZXRob2QgU3ltYm9sLm9ic2VydmFibGVcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gdGhpcyBpbnN0YW5jZSBvZiB0aGUgb2JzZXJ2YWJsZVxuICAgKi9cbiAgW1N5bWJvbF9vYnNlcnZhYmxlXSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuICBwaXBlKCk6IE9ic2VydmFibGU8VD47XG4gIHBpcGU8QT4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+KTogT2JzZXJ2YWJsZTxBPjtcbiAgcGlwZTxBLCBCPihvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPik6IE9ic2VydmFibGU8Qj47XG4gIHBpcGU8QSwgQiwgQz4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPik6IE9ic2VydmFibGU8Qz47XG4gIHBpcGU8QSwgQiwgQywgRD4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+XG4gICk6IE9ic2VydmFibGU8RD47XG4gIHBpcGU8QSwgQiwgQywgRCwgRT4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LFxuICAgIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPlxuICApOiBPYnNlcnZhYmxlPEU+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEY+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+XG4gICk6IE9ic2VydmFibGU8Rj47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRz4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LFxuICAgIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPixcbiAgICBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sXG4gICAgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+XG4gICk6IE9ic2VydmFibGU8Rz47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRywgSD4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LFxuICAgIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPixcbiAgICBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sXG4gICAgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+LFxuICAgIG9wODogT3BlcmF0b3JGdW5jdGlvbjxHLCBIPlxuICApOiBPYnNlcnZhYmxlPEg+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPixcbiAgICBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD4sXG4gICAgb3A5OiBPcGVyYXRvckZ1bmN0aW9uPEgsIEk+XG4gICk6IE9ic2VydmFibGU8ST47XG4gIHBpcGU8QSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4oXG4gICAgb3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LFxuICAgIG9wMjogT3BlcmF0b3JGdW5jdGlvbjxBLCBCPixcbiAgICBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4sXG4gICAgb3A0OiBPcGVyYXRvckZ1bmN0aW9uPEMsIEQ+LFxuICAgIG9wNTogT3BlcmF0b3JGdW5jdGlvbjxELCBFPixcbiAgICBvcDY6IE9wZXJhdG9yRnVuY3Rpb248RSwgRj4sXG4gICAgb3A3OiBPcGVyYXRvckZ1bmN0aW9uPEYsIEc+LFxuICAgIG9wODogT3BlcmF0b3JGdW5jdGlvbjxHLCBIPixcbiAgICBvcDk6IE9wZXJhdG9yRnVuY3Rpb248SCwgST4sXG4gICAgLi4ub3BlcmF0aW9uczogT3BlcmF0b3JGdW5jdGlvbjxhbnksIGFueT5bXVxuICApOiBPYnNlcnZhYmxlPHVua25vd24+O1xuICAvKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHN0aXRjaCB0b2dldGhlciBmdW5jdGlvbmFsIG9wZXJhdG9ycyBpbnRvIGEgY2hhaW4uXG4gICAqIEBtZXRob2QgcGlwZVxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSB0aGUgT2JzZXJ2YWJsZSByZXN1bHQgb2YgYWxsIG9mIHRoZSBvcGVyYXRvcnMgaGF2aW5nXG4gICAqIGJlZW4gY2FsbGVkIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgcGFzc2VkIGluLlxuICAgKlxuICAgKiAjIyBFeGFtcGxlXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IGludGVydmFsLCBmaWx0ZXIsIG1hcCwgc2NhbiB9IGZyb20gJ3J4anMnO1xuICAgKlxuICAgKiBpbnRlcnZhbCgxMDAwKVxuICAgKiAgIC5waXBlKFxuICAgKiAgICAgZmlsdGVyKHggPT4geCAlIDIgPT09IDApLFxuICAgKiAgICAgbWFwKHggPT4geCArIHgpLFxuICAgKiAgICAgc2NhbigoYWNjLCB4KSA9PiBhY2MgKyB4KVxuICAgKiAgIClcbiAgICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICAgKiBgYGBcbiAgICovXG4gIHBpcGUoLi4ub3BlcmF0aW9uczogT3BlcmF0b3JGdW5jdGlvbjxhbnksIGFueT5bXSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGZpcnN0VmFsdWVGcm9tfSBhbmQge0BsaW5rIGxhc3RWYWx1ZUZyb219LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3RvLXByb21pc2UgKi9cbiAgdG9Qcm9taXNlKCk6IFByb21pc2U8VCB8IHVuZGVmaW5lZD47XG4gIC8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBmaXJzdFZhbHVlRnJvbX0gYW5kIHtAbGluayBsYXN0VmFsdWVGcm9tfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy90by1wcm9taXNlICovXG4gIHRvUHJvbWlzZShQcm9taXNlQ3RvcjogdHlwZW9mIFByb21pc2UpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+O1xuICAvKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgZmlyc3RWYWx1ZUZyb219IGFuZCB7QGxpbmsgbGFzdFZhbHVlRnJvbX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvdG8tcHJvbWlzZSAqL1xuICB0b1Byb21pc2UoUHJvbWlzZUN0b3I6IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+O1xuICAvKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhpcyBPYnNlcnZhYmxlIGFuZCBnZXQgYSBQcm9taXNlIHJlc29sdmluZyBvblxuICAgKiBgY29tcGxldGVgIHdpdGggdGhlIGxhc3QgZW1pc3Npb24gKGlmIGFueSkuXG4gICAqXG4gICAqICoqV0FSTklORyoqOiBPbmx5IHVzZSB0aGlzIHdpdGggb2JzZXJ2YWJsZXMgeW91ICprbm93KiB3aWxsIGNvbXBsZXRlLiBJZiB0aGUgc291cmNlXG4gICAqIG9ic2VydmFibGUgZG9lcyBub3QgY29tcGxldGUsIHlvdSB3aWxsIGVuZCB1cCB3aXRoIGEgcHJvbWlzZSB0aGF0IGlzIGh1bmcgdXAsIGFuZFxuICAgKiBwb3RlbnRpYWxseSBhbGwgb2YgdGhlIHN0YXRlIG9mIGFuIGFzeW5jIGZ1bmN0aW9uIGhhbmdpbmcgb3V0IGluIG1lbW9yeS4gVG8gYXZvaWRcbiAgICogdGhpcyBzaXR1YXRpb24sIGxvb2sgaW50byBhZGRpbmcgc29tZXRoaW5nIGxpa2Uge0BsaW5rIHRpbWVvdXR9LCB7QGxpbmsgdGFrZX0sXG4gICAqIHtAbGluayB0YWtlV2hpbGV9LCBvciB7QGxpbmsgdGFrZVVudGlsfSBhbW9uZ3N0IG90aGVycy5cbiAgICpcbiAgICogQG1ldGhvZCB0b1Byb21pc2VcbiAgICogQHBhcmFtIFtwcm9taXNlQ3Rvcl0gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB1c2VkIHRvIGluc3RhbnRpYXRlXG4gICAqIHRoZSBQcm9taXNlXG4gICAqIEByZXR1cm4gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgbGFzdCB2YWx1ZSBlbWl0LCBvclxuICAgKiByZWplY3RzIG9uIGFuIGVycm9yLiBJZiB0aGVyZSB3ZXJlIG5vIGVtaXNzaW9ucywgUHJvbWlzZVxuICAgKiByZXNvbHZlcyB3aXRoIHVuZGVmaW5lZC5cbiAgICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgZmlyc3RWYWx1ZUZyb219IGFuZCB7QGxpbmsgbGFzdFZhbHVlRnJvbX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvdG8tcHJvbWlzZVxuICAgKi9cbiAgdG9Qcm9taXNlKHByb21pc2VDdG9yPzogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSk6IFByb21pc2U8VCB8IHVuZGVmaW5lZD4ge1xuICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuXG4gICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgdmFsdWU6IFQgfCB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnN1YnNjcmliZShcbiAgICAgICAgKHg6IFQpID0+ICh2YWx1ZSA9IHgpLFxuICAgICAgICAoZXJyOiBhbnkpID0+IHJlamVjdChlcnIpLFxuICAgICAgICAoKSA9PiByZXNvbHZlKHZhbHVlKVxuICAgICAgKTtcbiAgICB9KSBhcyBQcm9taXNlPFQgfCB1bmRlZmluZWQ+O1xuICB9XG59XG5cbi8qKlxuICogRGVjaWRlcyBiZXR3ZWVuIGEgcGFzc2VkIHByb21pc2UgY29uc3RydWN0b3IgZnJvbSBjb25zdW1pbmcgY29kZSxcbiAqIEEgZGVmYXVsdCBjb25maWd1cmVkIHByb21pc2UgY29uc3RydWN0b3IsIGFuZCB0aGUgbmF0aXZlIHByb21pc2VcbiAqIGNvbnN0cnVjdG9yIGFuZCByZXR1cm5zIGl0LiBJZiBub3RoaW5nIGNhbiBiZSBmb3VuZCwgaXQgd2lsbCB0aHJvd1xuICogYW4gZXJyb3IuXG4gKiBAcGFyYW0gcHJvbWlzZUN0b3IgVGhlIG9wdGlvbmFsIHByb21pc2UgY29uc3RydWN0b3IgdG8gcGFzc2VkIGJ5IGNvbnN1bWluZyBjb2RlXG4gKi9cbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlIHwgdW5kZWZpbmVkKSB7XG4gIHJldHVybiBwcm9taXNlQ3RvciA/PyBjb25maWcuUHJvbWlzZSA/PyBQcm9taXNlO1xufVxuXG5mdW5jdGlvbiBpc09ic2VydmVyPFQ+KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBPYnNlcnZlcjxUPiB7XG4gIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLm5leHQpICYmIGlzRnVuY3Rpb24odmFsdWUuZXJyb3IpICYmIGlzRnVuY3Rpb24odmFsdWUuY29tcGxldGUpO1xufVxuXG5mdW5jdGlvbiBpc1N1YnNjcmliZXI8VD4odmFsdWU6IGFueSk6IHZhbHVlIGlzIFN1YnNjcmliZXI8VD4ge1xuICByZXR1cm4gKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IFRpbWVzdGFtcFByb3ZpZGVyIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XG5cbi8qKlxuICogQSB2YXJpYW50IG9mIHtAbGluayBTdWJqZWN0fSB0aGF0IFwicmVwbGF5c1wiIG9sZCB2YWx1ZXMgdG8gbmV3IHN1YnNjcmliZXJzIGJ5IGVtaXR0aW5nIHRoZW0gd2hlbiB0aGV5IGZpcnN0IHN1YnNjcmliZS5cbiAqXG4gKiBgUmVwbGF5U3ViamVjdGAgaGFzIGFuIGludGVybmFsIGJ1ZmZlciB0aGF0IHdpbGwgc3RvcmUgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHZhbHVlcyB0aGF0IGl0IGhhcyBvYnNlcnZlZC4gTGlrZSBgU3ViamVjdGAsXG4gKiBgUmVwbGF5U3ViamVjdGAgXCJvYnNlcnZlc1wiIHZhbHVlcyBieSBoYXZpbmcgdGhlbSBwYXNzZWQgdG8gaXRzIGBuZXh0YCBtZXRob2QuIFdoZW4gaXQgb2JzZXJ2ZXMgYSB2YWx1ZSwgaXQgd2lsbCBzdG9yZSB0aGF0XG4gKiB2YWx1ZSBmb3IgYSB0aW1lIGRldGVybWluZWQgYnkgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGBSZXBsYXlTdWJqZWN0YCwgYXMgcGFzc2VkIHRvIGl0cyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBXaGVuIGEgbmV3IHN1YnNjcmliZXIgc3Vic2NyaWJlcyB0byB0aGUgYFJlcGxheVN1YmplY3RgIGluc3RhbmNlLCBpdCB3aWxsIHN5bmNocm9ub3VzbHkgZW1pdCBhbGwgdmFsdWVzIGluIGl0cyBidWZmZXIgaW5cbiAqIGEgRmlyc3QtSW4tRmlyc3QtT3V0IChGSUZPKSBtYW5uZXIuIFRoZSBgUmVwbGF5U3ViamVjdGAgd2lsbCBhbHNvIGNvbXBsZXRlLCBpZiBpdCBoYXMgb2JzZXJ2ZWQgY29tcGxldGlvbjsgYW5kIGl0IHdpbGxcbiAqIGVycm9yIGlmIGl0IGhhcyBvYnNlcnZlZCBhbiBlcnJvci5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIG1haW4gY29uZmlndXJhdGlvbiBpdGVtcyB0byBiZSBjb25jZXJuZWQgd2l0aDpcbiAqXG4gKiAxLiBgYnVmZmVyU2l6ZWAgLSBUaGlzIHdpbGwgZGV0ZXJtaW5lIGhvdyBtYW55IGl0ZW1zIGFyZSBzdG9yZWQgaW4gdGhlIGJ1ZmZlciwgZGVmYXVsdHMgdG8gaW5maW5pdGUuXG4gKiAyLiBgd2luZG93VGltZWAgLSBUaGUgYW1vdW50IG9mIHRpbWUgdG8gaG9sZCBhIHZhbHVlIGluIHRoZSBidWZmZXIgYmVmb3JlIHJlbW92aW5nIGl0IGZyb20gdGhlIGJ1ZmZlci5cbiAqXG4gKiBCb3RoIGNvbmZpZ3VyYXRpb25zIG1heSBleGlzdCBzaW11bHRhbmVvdXNseS4gU28gaWYgeW91IHdvdWxkIGxpa2UgdG8gYnVmZmVyIGEgbWF4aW11bSBvZiAzIHZhbHVlcywgYXMgbG9uZyBhcyB0aGUgdmFsdWVzXG4gKiBhcmUgbGVzcyB0aGFuIDIgc2Vjb25kcyBvbGQsIHlvdSBjb3VsZCBkbyBzbyB3aXRoIGEgYG5ldyBSZXBsYXlTdWJqZWN0KDMsIDIwMDApYC5cbiAqXG4gKiAjIyMgRGlmZmVyZW5jZXMgd2l0aCBCZWhhdmlvclN1YmplY3RcbiAqXG4gKiBgQmVoYXZpb3JTdWJqZWN0YCBpcyBzaW1pbGFyIHRvIGBuZXcgUmVwbGF5U3ViamVjdCgxKWAsIHdpdGggYSBjb3VwbGUgb2YgZXhjZXB0aW9uczpcbiAqXG4gKiAxLiBgQmVoYXZpb3JTdWJqZWN0YCBjb21lcyBcInByaW1lZFwiIHdpdGggYSBzaW5nbGUgdmFsdWUgdXBvbiBjb25zdHJ1Y3Rpb24uXG4gKiAyLiBgUmVwbGF5U3ViamVjdGAgd2lsbCByZXBsYXkgdmFsdWVzLCBldmVuIGFmdGVyIG9ic2VydmluZyBhbiBlcnJvciwgd2hlcmUgYEJlaGF2aW9yU3ViamVjdGAgd2lsbCBub3QuXG4gKlxuICogQHNlZSB7QGxpbmsgU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIEJlaGF2aW9yU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIHNoYXJlUmVwbGF5fVxuICovXG5leHBvcnQgY2xhc3MgUmVwbGF5U3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBwcml2YXRlIF9idWZmZXI6IChUIHwgbnVtYmVyKVtdID0gW107XG4gIHByaXZhdGUgX2luZmluaXRlVGltZVdpbmRvdyA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBidWZmZXJTaXplIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgdG8gcmVwbGF5IG9uIHN1YnNjcmlwdGlvblxuICAgKiBAcGFyYW0gd2luZG93VGltZSBUaGUgYW1vdW50IG9mIHRpbWUgdGhlIGJ1ZmZlcmVkIGl0ZW1zIHdpbGwgc3RheSBidWZmZXJlZFxuICAgKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgQW4gb2JqZWN0IHdpdGggYSBgbm93KClgIG1ldGhvZCB0aGF0IHByb3ZpZGVzIHRoZSBjdXJyZW50IHRpbWVzdGFtcC4gVGhpcyBpcyB1c2VkIHRvXG4gICAqIGNhbGN1bGF0ZSB0aGUgYW1vdW50IG9mIHRpbWUgc29tZXRoaW5nIGhhcyBiZWVuIGJ1ZmZlcmVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfYnVmZmVyU2l6ZSA9IEluZmluaXR5LFxuICAgIHByaXZhdGUgX3dpbmRvd1RpbWUgPSBJbmZpbml0eSxcbiAgICBwcml2YXRlIF90aW1lc3RhbXBQcm92aWRlcjogVGltZXN0YW1wUHJvdmlkZXIgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXJcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3cgPSBfd2luZG93VGltZSA9PT0gSW5maW5pdHk7XG4gICAgdGhpcy5fYnVmZmVyU2l6ZSA9IE1hdGgubWF4KDEsIF9idWZmZXJTaXplKTtcbiAgICB0aGlzLl93aW5kb3dUaW1lID0gTWF0aC5tYXgoMSwgX3dpbmRvd1RpbWUpO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIGNvbnN0IHsgaXNTdG9wcGVkLCBfYnVmZmVyLCBfaW5maW5pdGVUaW1lV2luZG93LCBfdGltZXN0YW1wUHJvdmlkZXIsIF93aW5kb3dUaW1lIH0gPSB0aGlzO1xuICAgIGlmICghaXNTdG9wcGVkKSB7XG4gICAgICBfYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgIV9pbmZpbml0ZVRpbWVXaW5kb3cgJiYgX2J1ZmZlci5wdXNoKF90aW1lc3RhbXBQcm92aWRlci5ub3coKSArIF93aW5kb3dUaW1lKTtcbiAgICB9XG4gICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuICAgIHN1cGVyLm5leHQodmFsdWUpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5faW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG5cbiAgICBjb25zdCB7IF9pbmZpbml0ZVRpbWVXaW5kb3csIF9idWZmZXIgfSA9IHRoaXM7XG4gICAgLy8gV2UgdXNlIGEgY29weSBoZXJlLCBzbyByZWVudHJhbnQgY29kZSBkb2VzIG5vdCBtdXRhdGUgb3VyIGFycmF5IHdoaWxlIHdlJ3JlXG4gICAgLy8gZW1pdHRpbmcgaXQgdG8gYSBuZXcgc3Vic2NyaWJlci5cbiAgICBjb25zdCBjb3B5ID0gX2J1ZmZlci5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29weS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpICs9IF9pbmZpbml0ZVRpbWVXaW5kb3cgPyAxIDogMikge1xuICAgICAgc3Vic2NyaWJlci5uZXh0KGNvcHlbaV0gYXMgVCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcblxuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICBwcml2YXRlIF90cmltQnVmZmVyKCkge1xuICAgIGNvbnN0IHsgX2J1ZmZlclNpemUsIF90aW1lc3RhbXBQcm92aWRlciwgX2J1ZmZlciwgX2luZmluaXRlVGltZVdpbmRvdyB9ID0gdGhpcztcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIGluZmluaXRlIGJ1ZmZlciBzaXplLCBhbmQgd2UncmUgb3ZlciB0aGUgbGVuZ3RoLFxuICAgIC8vIHVzZSBzcGxpY2UgdG8gdHJ1bmNhdGUgdGhlIG9sZCBidWZmZXIgdmFsdWVzIG9mZi4gTm90ZSB0aGF0IHdlIGhhdmUgdG9cbiAgICAvLyBkb3VibGUgdGhlIHNpemUgZm9yIGluc3RhbmNlcyB3aGVyZSB3ZSdyZSBub3QgdXNpbmcgYW4gaW5maW5pdGUgdGltZSB3aW5kb3dcbiAgICAvLyBiZWNhdXNlIHdlJ3JlIHN0b3JpbmcgdGhlIHZhbHVlcyBhbmQgdGhlIHRpbWVzdGFtcHMgaW4gdGhlIHNhbWUgYXJyYXkuXG4gICAgY29uc3QgYWRqdXN0ZWRCdWZmZXJTaXplID0gKF9pbmZpbml0ZVRpbWVXaW5kb3cgPyAxIDogMikgKiBfYnVmZmVyU2l6ZTtcbiAgICBfYnVmZmVyU2l6ZSA8IEluZmluaXR5ICYmIGFkanVzdGVkQnVmZmVyU2l6ZSA8IF9idWZmZXIubGVuZ3RoICYmIF9idWZmZXIuc3BsaWNlKDAsIF9idWZmZXIubGVuZ3RoIC0gYWRqdXN0ZWRCdWZmZXJTaXplKTtcblxuICAgIC8vIE5vdywgaWYgd2UncmUgbm90IGluIGFuIGluZmluaXRlIHRpbWUgd2luZG93LCByZW1vdmUgYWxsIHZhbHVlcyB3aGVyZSB0aGUgdGltZSBpc1xuICAgIC8vIG9sZGVyIHRoYW4gd2hhdCBpcyBhbGxvd2VkLlxuICAgIGlmICghX2luZmluaXRlVGltZVdpbmRvdykge1xuICAgICAgY29uc3Qgbm93ID0gX3RpbWVzdGFtcFByb3ZpZGVyLm5vdygpO1xuICAgICAgbGV0IGxhc3QgPSAwO1xuICAgICAgLy8gU2VhcmNoIHRoZSBhcnJheSBmb3IgdGhlIGZpcnN0IHRpbWVzdGFtcCB0aGF0IGlzbid0IGV4cGlyZWQgYW5kXG4gICAgICAvLyB0cnVuY2F0ZSB0aGUgYnVmZmVyIHVwIHRvIHRoYXQgcG9pbnQuXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IF9idWZmZXIubGVuZ3RoICYmIChfYnVmZmVyW2ldIGFzIG51bWJlcikgPD0gbm93OyBpICs9IDIpIHtcbiAgICAgICAgbGFzdCA9IGk7XG4gICAgICB9XG4gICAgICBsYXN0ICYmIF9idWZmZXIuc3BsaWNlKDAsIGxhc3QgKyAxKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vc2NoZWR1bGVyL0FjdGlvbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlLCBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XG5cbi8qKlxuICogQW4gZXhlY3V0aW9uIGNvbnRleHQgYW5kIGEgZGF0YSBzdHJ1Y3R1cmUgdG8gb3JkZXIgdGFza3MgYW5kIHNjaGVkdWxlIHRoZWlyXG4gKiBleGVjdXRpb24uIFByb3ZpZGVzIGEgbm90aW9uIG9mIChwb3RlbnRpYWxseSB2aXJ0dWFsKSB0aW1lLCB0aHJvdWdoIHRoZVxuICogYG5vdygpYCBnZXR0ZXIgbWV0aG9kLlxuICpcbiAqIEVhY2ggdW5pdCBvZiB3b3JrIGluIGEgU2NoZWR1bGVyIGlzIGNhbGxlZCBhbiBgQWN0aW9uYC5cbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgU2NoZWR1bGVyIHtcbiAqICAgbm93KCk6IG51bWJlcjtcbiAqICAgc2NoZWR1bGUod29yaywgZGVsYXk/LCBzdGF0ZT8pOiBTdWJzY3JpcHRpb247XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3MgU2NoZWR1bGVyXG4gKiBAZGVwcmVjYXRlZCBTY2hlZHVsZXIgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIFJ4SlMsIGFuZFxuICogc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LiBSYXRoZXIsIGNyZWF0ZSB5b3VyIG93biBjbGFzcyBhbmQgaW1wbGVtZW50XG4gKiB7QGxpbmsgU2NoZWR1bGVyTGlrZX0uIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNjaGVkdWxlciBpbXBsZW1lbnRzIFNjaGVkdWxlckxpa2Uge1xuICBwdWJsaWMgc3RhdGljIG5vdzogKCkgPT4gbnVtYmVyID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNjaGVkdWxlckFjdGlvbkN0b3I6IHR5cGVvZiBBY3Rpb24sIG5vdzogKCkgPT4gbnVtYmVyID0gU2NoZWR1bGVyLm5vdykge1xuICAgIHRoaXMubm93ID0gbm93O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgZ2V0dGVyIG1ldGhvZCB0aGF0IHJldHVybnMgYSBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHRpbWVcbiAgICogKGF0IHRoZSB0aW1lIHRoaXMgZnVuY3Rpb24gd2FzIGNhbGxlZCkgYWNjb3JkaW5nIHRvIHRoZSBzY2hlZHVsZXIncyBvd25cbiAgICogaW50ZXJuYWwgY2xvY2suXG4gICAqIEByZXR1cm4ge251bWJlcn0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSBjdXJyZW50IHRpbWUuIE1heSBvciBtYXkgbm90XG4gICAqIGhhdmUgYSByZWxhdGlvbiB0byB3YWxsLWNsb2NrIHRpbWUuIE1heSBvciBtYXkgbm90IHJlZmVyIHRvIGEgdGltZSB1bml0XG4gICAqIChlLmcuIG1pbGxpc2Vjb25kcykuXG4gICAqL1xuICBwdWJsaWMgbm93OiAoKSA9PiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlcyBhIGZ1bmN0aW9uLCBgd29ya2AsIGZvciBleGVjdXRpb24uIE1heSBoYXBwZW4gYXQgc29tZSBwb2ludCBpblxuICAgKiB0aGUgZnV0dXJlLCBhY2NvcmRpbmcgdG8gdGhlIGBkZWxheWAgcGFyYW1ldGVyLCBpZiBzcGVjaWZpZWQuIE1heSBiZSBwYXNzZWRcbiAgICogc29tZSBjb250ZXh0IG9iamVjdCwgYHN0YXRlYCwgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGB3b3JrYCBmdW5jdGlvbi5cbiAgICpcbiAgICogVGhlIGdpdmVuIGFyZ3VtZW50cyB3aWxsIGJlIHByb2Nlc3NlZCBhbiBzdG9yZWQgYXMgYW4gQWN0aW9uIG9iamVjdCBpbiBhXG4gICAqIHF1ZXVlIG9mIGFjdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RhdGU6ID9UKTogP1N1YnNjcmlwdGlvbn0gd29yayBBIGZ1bmN0aW9uIHJlcHJlc2VudGluZyBhXG4gICAqIHRhc2ssIG9yIHNvbWUgdW5pdCBvZiB3b3JrIHRvIGJlIGV4ZWN1dGVkIGJ5IHRoZSBTY2hlZHVsZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsYXldIFRpbWUgdG8gd2FpdCBiZWZvcmUgZXhlY3V0aW5nIHRoZSB3b3JrLCB3aGVyZSB0aGVcbiAgICogdGltZSB1bml0IGlzIGltcGxpY2l0IGFuZCBkZWZpbmVkIGJ5IHRoZSBTY2hlZHVsZXIgaXRzZWxmLlxuICAgKiBAcGFyYW0ge1R9IFtzdGF0ZV0gU29tZSBjb250ZXh0dWFsIGRhdGEgdGhhdCB0aGUgYHdvcmtgIGZ1bmN0aW9uIHVzZXMgd2hlblxuICAgKiBjYWxsZWQgYnkgdGhlIFNjaGVkdWxlci5cbiAgICogQHJldHVybiB7U3Vic2NyaXB0aW9ufSBBIHN1YnNjcmlwdGlvbiBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHVuc3Vic2NyaWJlXG4gICAqIHRoZSBzY2hlZHVsZWQgd29yay5cbiAgICovXG4gIHB1YmxpYyBzY2hlZHVsZTxUPih3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQsIGRlbGF5OiBudW1iZXIgPSAwLCBzdGF0ZT86IFQpOiBTdWJzY3JpcHRpb24ge1xuICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yPFQ+KHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBFTVBUWV9TVUJTQ1JJUFRJT04gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlciwgU3Vic2NyaXB0aW9uTGlrZSwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcblxuLyoqXG4gKiBBIFN1YmplY3QgaXMgYSBzcGVjaWFsIHR5cGUgb2YgT2JzZXJ2YWJsZSB0aGF0IGFsbG93cyB2YWx1ZXMgdG8gYmVcbiAqIG11bHRpY2FzdGVkIHRvIG1hbnkgT2JzZXJ2ZXJzLiBTdWJqZWN0cyBhcmUgbGlrZSBFdmVudEVtaXR0ZXJzLlxuICpcbiAqIEV2ZXJ5IFN1YmplY3QgaXMgYW4gT2JzZXJ2YWJsZSBhbmQgYW4gT2JzZXJ2ZXIuIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGFcbiAqIFN1YmplY3QsIGFuZCB5b3UgY2FuIGNhbGwgbmV4dCB0byBmZWVkIHZhbHVlcyBhcyB3ZWxsIGFzIGVycm9yIGFuZCBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YmplY3Q8VD4gZXh0ZW5kcyBPYnNlcnZhYmxlPFQ+IGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIGNsb3NlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgY3VycmVudE9ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgb2JzZXJ2ZXJzOiBPYnNlcnZlcjxUPltdID0gW107XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgaXNTdG9wcGVkID0gZmFsc2U7XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICB0aHJvd25FcnJvcjogYW55ID0gbnVsbDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwic3ViamVjdFwiIGJ5IGJhc2ljYWxseSBnbHVpbmcgYW4gb2JzZXJ2ZXIgdG8gYW4gb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgUmVjb21tZW5kZWQgeW91IGRvIG5vdCB1c2UuIFdpbGwgYmUgcmVtb3ZlZCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuIFBsYW5zIGZvciByZXBsYWNlbWVudCBzdGlsbCB1bmRlciBkaXNjdXNzaW9uLlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPSA8VD4oZGVzdGluYXRpb246IE9ic2VydmVyPFQ+LCBzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBBbm9ueW1vdXNTdWJqZWN0PFQ+ID0+IHtcbiAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3Q8VD4oZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gTk9URTogVGhpcyBtdXN0IGJlIGhlcmUgdG8gb2JzY3VyZSBPYnNlcnZhYmxlJ3MgY29uc3RydWN0b3IuXG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgbGlmdDxSPihvcGVyYXRvcjogT3BlcmF0b3I8VCwgUj4pOiBPYnNlcnZhYmxlPFI+IHtcbiAgICBjb25zdCBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yIGFzIGFueTtcbiAgICByZXR1cm4gc3ViamVjdCBhcyBhbnk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfdGhyb3dJZkNsb3NlZCgpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICBlcnJvckNvbnRleHQoKCkgPT4ge1xuICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudE9ic2VydmVycykge1xuICAgICAgICAgIHRoaXMuY3VycmVudE9ic2VydmVycyA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGVycm9yKGVycjogYW55KSB7XG4gICAgZXJyb3JDb250ZXh0KCgpID0+IHtcbiAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aHJvd25FcnJvciA9IGVycjtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkhLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIGVycm9yQ29udGV4dCgoKSA9PiB7XG4gICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkhLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbCE7XG4gIH1cblxuICBnZXQgb2JzZXJ2ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJzPy5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgIHJldHVybiBzdXBlci5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfaW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSB7XG4gICAgY29uc3QgeyBoYXNFcnJvciwgaXNTdG9wcGVkLCBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgaWYgKGhhc0Vycm9yIHx8IGlzU3RvcHBlZCkge1xuICAgICAgcmV0dXJuIEVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgICBvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbigoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsO1xuICAgICAgYXJyUmVtb3ZlKG9ic2VydmVycywgc3Vic2NyaWJlcik7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pIHtcbiAgICBjb25zdCB7IGhhc0Vycm9yLCB0aHJvd25FcnJvciwgaXNTdG9wcGVkIH0gPSB0aGlzO1xuICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgfSBlbHNlIGlmIChpc1N0b3BwZWQpIHtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlIHdpdGggdGhpcyBTdWJqZWN0IGFzIHRoZSBzb3VyY2UuIFlvdSBjYW4gZG8gdGhpc1xuICAgKiB0byBjcmVhdGUgY3VzdG9tIE9ic2VydmVyLXNpZGUgbG9naWMgb2YgdGhlIFN1YmplY3QgYW5kIGNvbmNlYWwgaXQgZnJvbVxuICAgKiBjb2RlIHRoYXQgdXNlcyB0aGUgT2JzZXJ2YWJsZS5cbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gT2JzZXJ2YWJsZSB0aGF0IHRoZSBTdWJqZWN0IGNhc3RzIHRvXG4gICAqL1xuICBhc09ic2VydmFibGUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZTogYW55ID0gbmV3IE9ic2VydmFibGU8VD4oKTtcbiAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cbn1cblxuLyoqXG4gKiBAY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPlxuICovXG5leHBvcnQgY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gICAgcHVibGljIGRlc3RpbmF0aW9uPzogT2JzZXJ2ZXI8VD4sXG4gICAgc291cmNlPzogT2JzZXJ2YWJsZTxUPlxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/Lm5leHQ/Lih2YWx1ZSk7XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/LmVycm9yPy4oZXJyKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/LmNvbXBsZXRlPy4oKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlPy5zdWJzY3JpYmUoc3Vic2NyaWJlcikgPz8gRU1QVFlfU1VCU0NSSVBUSU9OO1xuICB9XG59XG4iLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgT2JzZXJ2ZXIsIE9ic2VydmFibGVOb3RpZmljYXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZSBhbmQgZXh0ZW5kcyB0aGVcbiAqIHtAbGluayBTdWJzY3JpcHRpb259IGNsYXNzLiBXaGlsZSB0aGUge0BsaW5rIE9ic2VydmVyfSBpcyB0aGUgcHVibGljIEFQSSBmb3JcbiAqIGNvbnN1bWluZyB0aGUgdmFsdWVzIG9mIGFuIHtAbGluayBPYnNlcnZhYmxlfSwgYWxsIE9ic2VydmVycyBnZXQgY29udmVydGVkIHRvXG4gKiBhIFN1YnNjcmliZXIsIGluIG9yZGVyIHRvIHByb3ZpZGUgU3Vic2NyaXB0aW9uLWxpa2UgY2FwYWJpbGl0aWVzIHN1Y2ggYXNcbiAqIGB1bnN1YnNjcmliZWAuIFN1YnNjcmliZXIgaXMgYSBjb21tb24gdHlwZSBpbiBSeEpTLCBhbmQgY3J1Y2lhbCBmb3JcbiAqIGltcGxlbWVudGluZyBvcGVyYXRvcnMsIGJ1dCBpdCBpcyByYXJlbHkgdXNlZCBhcyBhIHB1YmxpYyBBUEkuXG4gKlxuICogQGNsYXNzIFN1YnNjcmliZXI8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24gaW1wbGVtZW50cyBPYnNlcnZlcjxUPiB7XG4gIC8qKlxuICAgKiBBIHN0YXRpYyBmYWN0b3J5IGZvciBhIFN1YnNjcmliZXIsIGdpdmVuIGEgKHBvdGVudGlhbGx5IHBhcnRpYWwpIGRlZmluaXRpb25cbiAgICogb2YgYW4gT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBgbmV4dGAgY2FsbGJhY2sgb2YgYW4gT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSBlcnJvciBUaGUgYGVycm9yYCBjYWxsYmFjayBvZiBhblxuICAgKiBPYnNlcnZlci5cbiAgICogQHBhcmFtIGNvbXBsZXRlIFRoZSBgY29tcGxldGVgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcmV0dXJuIEEgU3Vic2NyaWJlciB3cmFwcGluZyB0aGUgKHBhcnRpYWxseSBkZWZpbmVkKVxuICAgKiBPYnNlcnZlciByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gYXJndW1lbnRzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBEbyBub3QgdXNlLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRoZXJlIGlzIG5vIHJlcGxhY2VtZW50IGZvciB0aGlzXG4gICAqIG1ldGhvZCwgYW5kIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBiZSBjcmVhdGluZyBpbnN0YW5jZXMgb2YgYFN1YnNjcmliZXJgIGRpcmVjdGx5LlxuICAgKiBJZiB5b3UgaGF2ZSBhIHNwZWNpZmljIHVzZSBjYXNlLCBwbGVhc2UgZmlsZSBhbiBpc3N1ZS5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGU8VD4obmV4dD86ICh4PzogVCkgPT4gdm9pZCwgZXJyb3I/OiAoZT86IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKTogU3Vic2NyaWJlcjxUPiB7XG4gICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICB9XG5cbiAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICBwcm90ZWN0ZWQgaXNTdG9wcGVkOiBib29sZWFuID0gZmFsc2U7XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgcHJvdGVjdGVkIGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPGFueT4gfCBPYnNlcnZlcjxhbnk+OyAvLyB0aGlzIGBhbnlgIGlzIHRoZSBlc2NhcGUgaGF0Y2ggdG8gZXJhc2UgZXh0cmEgdHlwZSBwYXJhbSAoZS5nLiBSKVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICogVGhlcmUgaXMgbm8gcmVhc29uIHRvIGRpcmVjdGx5IGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBTdWJzY3JpYmVyLiBUaGlzIHR5cGUgaXMgZXhwb3J0ZWQgZm9yIHR5cGluZ3MgcmVhc29ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlc3RpbmF0aW9uPzogU3Vic2NyaWJlcjxhbnk+IHwgT2JzZXJ2ZXI8YW55Pikge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IGNoYWluIHN1YnNjcmlwdGlvbnMgdG9nZXRoZXIgaGVyZS5cbiAgICAgIC8vIGlmIGRlc3RpbmF0aW9uIGlzIGEgU3Vic2NyaXB0aW9uLCB0aGVuIGl0IGlzIGEgU3Vic2NyaWJlci5cbiAgICAgIGlmIChpc1N1YnNjcmlwdGlvbihkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBvZiB0eXBlIGBuZXh0YCBmcm9tXG4gICAqIHRoZSBPYnNlcnZhYmxlLCB3aXRoIGEgdmFsdWUuIFRoZSBPYnNlcnZhYmxlIG1heSBjYWxsIHRoaXMgbWV0aG9kIDAgb3IgbW9yZVxuICAgKiB0aW1lcy5cbiAgICogQHBhcmFtIHtUfSBbdmFsdWVdIFRoZSBgbmV4dGAgdmFsdWUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBuZXh0KHZhbHVlPzogVCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX25leHQodmFsdWUhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIG9mIHR5cGUgYGVycm9yYCBmcm9tXG4gICAqIHRoZSBPYnNlcnZhYmxlLCB3aXRoIGFuIGF0dGFjaGVkIGBFcnJvcmAuIE5vdGlmaWVzIHRoZSBPYnNlcnZlciB0aGF0XG4gICAqIHRoZSBPYnNlcnZhYmxlIGhhcyBleHBlcmllbmNlZCBhbiBlcnJvciBjb25kaXRpb24uXG4gICAqIEBwYXJhbSB7YW55fSBbZXJyXSBUaGUgYGVycm9yYCBleGNlcHRpb24uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBlcnJvcihlcnI/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgYSB2YWx1ZWxlc3Mgbm90aWZpY2F0aW9uIG9mIHR5cGVcbiAgICogYGNvbXBsZXRlYCBmcm9tIHRoZSBPYnNlcnZhYmxlLiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdCB0aGUgT2JzZXJ2YWJsZVxuICAgKiBoYXMgZmluaXNoZWQgc2VuZGluZyBwdXNoLWJhc2VkIG5vdGlmaWNhdGlvbnMuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oQ09NUExFVEVfTk9USUZJQ0FUSU9OLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGwhO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2Vycm9yKGVycjogYW55KTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfY29tcGxldGUoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgYmluZCBpcyBjYXB0dXJlZCBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBiZSBhYmxlIHRvIGhhdmVcbiAqIGNvbXBhdGliaWxpdHkgd2l0aCBtb25vaWQgbGlicmFyaWVzIHRoYXQgdGVuZCB0byB1c2UgYSBtZXRob2QgbmFtZWRcbiAqIGBiaW5kYC4gSW4gcGFydGljdWxhciwgYSBsaWJyYXJ5IGNhbGxlZCBNb25pbyByZXF1aXJlcyB0aGlzLlxuICovXG5jb25zdCBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBiaW5kPEZuIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KGZuOiBGbiwgdGhpc0FyZzogYW55KTogRm4ge1xuICByZXR1cm4gX2JpbmQuY2FsbChmbiwgdGhpc0FyZyk7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgb3B0aW1pemF0aW9uIG9ubHksIERPIE5PVCBFWFBPU0UuXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgQ29uc3VtZXJPYnNlcnZlcjxUPiBpbXBsZW1lbnRzIE9ic2VydmVyPFQ+IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJ0aWFsT2JzZXJ2ZXI6IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+KSB7fVxuXG4gIG5leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICBjb25zdCB7IHBhcnRpYWxPYnNlcnZlciB9ID0gdGhpcztcbiAgICBpZiAocGFydGlhbE9ic2VydmVyLm5leHQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IHsgcGFydGlhbE9ic2VydmVyIH0gPSB0aGlzO1xuICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgcGFydGlhbE9ic2VydmVyIH0gPSB0aGlzO1xuICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2FmZVN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpYmVyPFQ+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgb2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsPE9ic2VydmVyPFQ+PiB8ICgodmFsdWU6IFQpID0+IHZvaWQpIHwgbnVsbCxcbiAgICBlcnJvcj86ICgoZT86IGFueSkgPT4gdm9pZCkgfCBudWxsLFxuICAgIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbFxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgbGV0IHBhcnRpYWxPYnNlcnZlcjogUGFydGlhbDxPYnNlcnZlcjxUPj47XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgLy8gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24sIG5vdCBhbiBvYnNlcnZlci4gVGhlIG5leHRcbiAgICAgIC8vIHR3byBhcmd1bWVudHMgKmNvdWxkKiBiZSBvYnNlcnZlcnMsIG9yIHRoZXkgY291bGQgYmUgZW1wdHkuXG4gICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgIG5leHQ6IChvYnNlcnZlck9yTmV4dCA/PyB1bmRlZmluZWQpIGFzICgoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IHVuZGVmaW5lZCksXG4gICAgICAgIGVycm9yOiBlcnJvciA/PyB1bmRlZmluZWQsXG4gICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSA/PyB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgZmlyc3QgYXJndW1lbnQgaXMgYSBwYXJ0aWFsIG9ic2VydmVyLlxuICAgICAgbGV0IGNvbnRleHQ6IGFueTtcbiAgICAgIGlmICh0aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGRlcHJlY2F0ZWQgcGF0aCB0aGF0IG1hZGUgYHRoaXMudW5zdWJzY3JpYmUoKWAgYXZhaWxhYmxlIGluXG4gICAgICAgIC8vIG5leHQgaGFuZGxlciBmdW5jdGlvbnMgcGFzc2VkIHRvIHN1YnNjcmliZS4gVGhpcyBvbmx5IGV4aXN0cyBiZWhpbmQgYSBmbGFnXG4gICAgICAgIC8vIG5vdywgYXMgaXQgaXMgKnZlcnkqIHNsb3cuXG4gICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9ICgpID0+IHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0KSxcbiAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dCksXG4gICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHQpLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIFwibm9ybWFsXCIgcGF0aC4gSnVzdCB1c2UgdGhlIHBhcnRpYWwgb2JzZXJ2ZXIgZGlyZWN0bHkuXG4gICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdyYXAgdGhlIHBhcnRpYWwgb2JzZXJ2ZXIgdG8gZW5zdXJlIGl0J3MgYSBmdWxsIG9ic2VydmVyLCBhbmRcbiAgICAvLyBtYWtlIHN1cmUgcHJvcGVyIGVycm9yIGhhbmRsaW5nIGlzIGFjY291bnRlZCBmb3IuXG4gICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3I6IGFueSkge1xuICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICBjYXB0dXJlRXJyb3IoZXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIC8vIElkZWFsIHBhdGgsIHdlIHJlcG9ydCB0aGlzIGFzIGFuIHVuaGFuZGxlZCBlcnJvcixcbiAgICAvLyB3aGljaCBpcyB0aHJvd24gb24gYSBuZXcgY2FsbCBzdGFjay5cbiAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBlcnJvciBoYW5kbGVyIHVzZWQgd2hlbiBubyBlcnJvciBoYW5kbGVyIHdhcyBzdXBwbGllZFxuICogdG8gdGhlIFNhZmVTdWJzY3JpYmVyIC0tIG1lYW5pbmcgbm8gZXJyb3IgaGFuZGxlciB3YXMgc3VwcGxpZWRcbiAqIGRvIHRoZSBgc3Vic2NyaWJlYCBjYWxsIG9uIG91ciBvYnNlcnZhYmxlLlxuICogQHBhcmFtIGVyciBUaGUgZXJyb3IgdG8gaGFuZGxlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyOiBhbnkpIHtcbiAgdGhyb3cgZXJyO1xufVxuXG4vKipcbiAqIEEgaGFuZGxlciBmb3Igbm90aWZpY2F0aW9ucyB0aGF0IGNhbm5vdCBiZSBzZW50IHRvIGEgc3RvcHBlZCBzdWJzY3JpYmVyLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiBUaGUgbm90aWZpY2F0aW9uIGJlaW5nIHNlbnRcbiAqIEBwYXJhbSBzdWJzY3JpYmVyIFRoZSBzdG9wcGVkIHN1YnNjcmliZXJcbiAqL1xuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb246IE9ic2VydmFibGVOb3RpZmljYXRpb248YW55Piwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSB7XG4gIGNvbnN0IHsgb25TdG9wcGVkTm90aWZpY2F0aW9uIH0gPSBjb25maWc7XG4gIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dCgoKSA9PiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKSk7XG59XG5cbi8qKlxuICogVGhlIG9ic2VydmVyIHVzZWQgYXMgYSBzdHViIGZvciBzdWJzY3JpcHRpb25zIHdoZXJlIHRoZSB1c2VyIGRpZCBub3RcbiAqIHBhc3MgYW55IGFyZ3VtZW50cyB0byBgc3Vic2NyaWJlYC4gQ29tZXMgd2l0aCB0aGUgZGVmYXVsdCBlcnJvciBoYW5kbGluZ1xuICogYmVoYXZpb3IuXG4gKi9cbmV4cG9ydCBjb25zdCBFTVBUWV9PQlNFUlZFUjogUmVhZG9ubHk8T2JzZXJ2ZXI8YW55Pj4gJiB7IGNsb3NlZDogdHJ1ZSB9ID0ge1xuICBjbG9zZWQ6IHRydWUsXG4gIG5leHQ6IG5vb3AsXG4gIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICBjb21wbGV0ZTogbm9vcCxcbn07XG4iLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkxpa2UsIFRlYXJkb3duTG9naWMsIFVuc3Vic2NyaWJhYmxlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuL3V0aWwvYXJyUmVtb3ZlJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGlzcG9zYWJsZSByZXNvdXJjZSwgc3VjaCBhcyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUuIEFcbiAqIFN1YnNjcmlwdGlvbiBoYXMgb25lIGltcG9ydGFudCBtZXRob2QsIGB1bnN1YnNjcmliZWAsIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRcbiAqIGFuZCBqdXN0IGRpc3Bvc2VzIHRoZSByZXNvdXJjZSBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uXG4gKlxuICogQWRkaXRpb25hbGx5LCBzdWJzY3JpcHRpb25zIG1heSBiZSBncm91cGVkIHRvZ2V0aGVyIHRocm91Z2ggdGhlIGBhZGQoKWBcbiAqIG1ldGhvZCwgd2hpY2ggd2lsbCBhdHRhY2ggYSBjaGlsZCBTdWJzY3JpcHRpb24gdG8gdGhlIGN1cnJlbnQgU3Vic2NyaXB0aW9uLlxuICogV2hlbiBhIFN1YnNjcmlwdGlvbiBpcyB1bnN1YnNjcmliZWQsIGFsbCBpdHMgY2hpbGRyZW4gKGFuZCBpdHMgZ3JhbmRjaGlsZHJlbilcbiAqIHdpbGwgYmUgdW5zdWJzY3JpYmVkIGFzIHdlbGwuXG4gKlxuICogQGNsYXNzIFN1YnNjcmlwdGlvblxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uIGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwdWJsaWMgc3RhdGljIEVNUFRZID0gKCgpID0+IHtcbiAgICBjb25zdCBlbXB0eSA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgIHJldHVybiBlbXB0eTtcbiAgfSkoKTtcblxuICAvKipcbiAgICogQSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhpcyBTdWJzY3JpcHRpb24gaGFzIGFscmVhZHkgYmVlbiB1bnN1YnNjcmliZWQuXG4gICAqL1xuICBwdWJsaWMgY2xvc2VkID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBfcGFyZW50YWdlOiBTdWJzY3JpcHRpb25bXSB8IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiByZWdpc3RlcmVkIGZpbmFsaXplcnMgdG8gZXhlY3V0ZSB1cG9uIHVuc3Vic2NyaXB0aW9uLiBBZGRpbmcgYW5kIHJlbW92aW5nIGZyb20gdGhpc1xuICAgKiBsaXN0IG9jY3VycyBpbiB0aGUge0BsaW5rICNhZGR9IGFuZCB7QGxpbmsgI3JlbW92ZX0gbWV0aG9kcy5cbiAgICovXG4gIHByaXZhdGUgX2ZpbmFsaXplcnM6IEV4Y2x1ZGU8VGVhcmRvd25Mb2dpYywgdm9pZD5bXSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gaW5pdGlhbFRlYXJkb3duIEEgZnVuY3Rpb24gZXhlY3V0ZWQgZmlyc3QgYXMgcGFydCBvZiB0aGUgZmluYWxpemF0aW9uXG4gICAqIHByb2Nlc3MgdGhhdCBpcyBraWNrZWQgb2ZmIHdoZW4ge0BsaW5rICN1bnN1YnNjcmliZX0gaXMgY2FsbGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpbml0aWFsVGVhcmRvd24/OiAoKSA9PiB2b2lkKSB7fVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIHN1YnNjcmlwdGlvbi4gTWF5LCBmb3IgaW5zdGFuY2UsIGNhbmNlbFxuICAgKiBhbiBvbmdvaW5nIE9ic2VydmFibGUgZXhlY3V0aW9uIG9yIGNhbmNlbCBhbnkgb3RoZXIgdHlwZSBvZiB3b3JrIHRoYXRcbiAgICogc3RhcnRlZCB3aGVuIHRoZSBTdWJzY3JpcHRpb24gd2FzIGNyZWF0ZWQuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB1bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBsZXQgZXJyb3JzOiBhbnlbXSB8IHVuZGVmaW5lZDtcblxuICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgLy8gUmVtb3ZlIHRoaXMgZnJvbSBpdCdzIHBhcmVudHMuXG4gICAgICBjb25zdCB7IF9wYXJlbnRhZ2UgfSA9IHRoaXM7XG4gICAgICBpZiAoX3BhcmVudGFnZSkge1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgcGFyZW50IG9mIF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgaW5pdGlhbFRlYXJkb3duOiBpbml0aWFsRmluYWxpemVyIH0gPSB0aGlzO1xuICAgICAgaWYgKGlzRnVuY3Rpb24oaW5pdGlhbEZpbmFsaXplcikpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbml0aWFsRmluYWxpemVyKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgX2ZpbmFsaXplcnMgfSA9IHRoaXM7XG4gICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcbiAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgZmluYWxpemVyIG9mIF9maW5hbGl6ZXJzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyA/PyBbXTtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgIGVycm9ycyA9IFsuLi5lcnJvcnMsIC4uLmVyci5lcnJvcnNdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZmluYWxpemVyIHRvIHRoaXMgc3Vic2NyaXB0aW9uLCBzbyB0aGF0IGZpbmFsaXphdGlvbiB3aWxsIGJlIHVuc3Vic2NyaWJlZC9jYWxsZWRcbiAgICogd2hlbiB0aGlzIHN1YnNjcmlwdGlvbiBpcyB1bnN1YnNjcmliZWQuIElmIHRoaXMgc3Vic2NyaXB0aW9uIGlzIGFscmVhZHkge0BsaW5rICNjbG9zZWR9LFxuICAgKiBiZWNhdXNlIGl0IGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLCB0aGVuIHdoYXRldmVyIGZpbmFsaXplciBpcyBwYXNzZWQgdG8gaXRcbiAgICogd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGV4ZWN1dGVkICh1bmxlc3MgdGhlIGZpbmFsaXplciBpdHNlbGYgaXMgYWxzbyBhIGNsb3NlZCBzdWJzY3JpcHRpb24pLlxuICAgKlxuICAgKiBDbG9zZWQgU3Vic2NyaXB0aW9ucyBjYW5ub3QgYmUgYWRkZWQgYXMgZmluYWxpemVycyB0byBhbnkgc3Vic2NyaXB0aW9uLiBBZGRpbmcgYSBjbG9zZWRcbiAgICogc3Vic2NyaXB0aW9uIHRvIGEgYW55IHN1YnNjcmlwdGlvbiB3aWxsIHJlc3VsdCBpbiBubyBvcGVyYXRpb24uIChBIG5vb3ApLlxuICAgKlxuICAgKiBBZGRpbmcgYSBzdWJzY3JpcHRpb24gdG8gaXRzZWxmLCBvciBhZGRpbmcgYG51bGxgIG9yIGB1bmRlZmluZWRgIHdpbGwgbm90IHBlcmZvcm0gYW55XG4gICAqIG9wZXJhdGlvbiBhdCBhbGwuIChBIG5vb3ApLlxuICAgKlxuICAgKiBgU3Vic2NyaXB0aW9uYCBpbnN0YW5jZXMgdGhhdCBhcmUgYWRkZWQgdG8gdGhpcyBpbnN0YW5jZSB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZW1zZWx2ZXNcbiAgICogaWYgdGhleSBhcmUgdW5zdWJzY3JpYmVkLiBGdW5jdGlvbnMgYW5kIHtAbGluayBVbnN1YnNjcmliYWJsZX0gb2JqZWN0cyB0aGF0IHlvdSB3aXNoIHRvIHJlbW92ZVxuICAgKiB3aWxsIG5lZWQgdG8gYmUgcmVtb3ZlZCBtYW51YWxseSB3aXRoIHtAbGluayAjcmVtb3ZlfVxuICAgKlxuICAgKiBAcGFyYW0gdGVhcmRvd24gVGhlIGZpbmFsaXphdGlvbiBsb2dpYyB0byBhZGQgdG8gdGhpcyBzdWJzY3JpcHRpb24uXG4gICAqL1xuICBhZGQodGVhcmRvd246IFRlYXJkb3duTG9naWMpOiB2b2lkIHtcbiAgICAvLyBPbmx5IGFkZCB0aGUgZmluYWxpemVyIGlmIGl0J3Mgbm90IHVuZGVmaW5lZFxuICAgIC8vIGFuZCBkb24ndCBhZGQgYSBzdWJzY3JpcHRpb24gdG8gaXRzZWxmLlxuICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgIC8vIElmIHRoaXMgc3Vic2NyaXB0aW9uIGlzIGFscmVhZHkgY2xvc2VkLFxuICAgICAgICAvLyBleGVjdXRlIHdoYXRldmVyIGZpbmFsaXplciBpcyBoYW5kZWQgdG8gaXQgYXV0b21hdGljYWxseS5cbiAgICAgICAgZXhlY0ZpbmFsaXplcih0ZWFyZG93bik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAvLyBXZSBkb24ndCBhZGQgY2xvc2VkIHN1YnNjcmlwdGlvbnMsIGFuZCB3ZSBkb24ndCBhZGQgdGhlIHNhbWUgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgLy8gdHdpY2UuIFN1YnNjcmlwdGlvbiB1bnN1YnNjcmliZSBpcyBpZGVtcG90ZW50LlxuICAgICAgICAgIGlmICh0ZWFyZG93bi5jbG9zZWQgfHwgdGVhcmRvd24uX2hhc1BhcmVudCh0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgICh0aGlzLl9maW5hbGl6ZXJzID0gdGhpcy5fZmluYWxpemVycyA/PyBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgaWYgYSB0aGlzIHN1YnNjcmlwdGlvbiBhbHJlYWR5IGhhcyBhIHBhcnRpY3VsYXIgcGFyZW50LlxuICAgKiBUaGlzIHdpbGwgc2lnbmFsIHRoYXQgdGhpcyBzdWJzY3JpcHRpb24gaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGUgcGFyZW50IGluIHF1ZXN0aW9uLlxuICAgKiBAcGFyYW0gcGFyZW50IHRoZSBwYXJlbnQgdG8gY2hlY2sgZm9yXG4gICAqL1xuICBwcml2YXRlIF9oYXNQYXJlbnQocGFyZW50OiBTdWJzY3JpcHRpb24pIHtcbiAgICBjb25zdCB7IF9wYXJlbnRhZ2UgfSA9IHRoaXM7XG4gICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBwYXJlbnQgdG8gdGhpcyBzdWJzY3JpcHRpb24gc28gaXQgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IGlmIGl0XG4gICAqIHVuc3Vic2NyaWJlcyBvbiBpdCdzIG93bi5cbiAgICpcbiAgICogTk9URTogVEhJUyBBU1NVTUVTIFRIQVQge0BsaW5rIF9oYXNQYXJlbnR9IEhBUyBBTFJFQURZIEJFRU4gQ0hFQ0tFRC5cbiAgICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IHN1YnNjcmlwdGlvbiB0byBhZGRcbiAgICovXG4gIHByaXZhdGUgX2FkZFBhcmVudChwYXJlbnQ6IFN1YnNjcmlwdGlvbikge1xuICAgIGNvbnN0IHsgX3BhcmVudGFnZSB9ID0gdGhpcztcbiAgICB0aGlzLl9wYXJlbnRhZ2UgPSBBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpID8gKF9wYXJlbnRhZ2UucHVzaChwYXJlbnQpLCBfcGFyZW50YWdlKSA6IF9wYXJlbnRhZ2UgPyBbX3BhcmVudGFnZSwgcGFyZW50XSA6IHBhcmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgb24gYSBjaGlsZCB3aGVuIGl0IGlzIHJlbW92ZWQgdmlhIHtAbGluayAjcmVtb3ZlfS5cbiAgICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IHRvIHJlbW92ZVxuICAgKi9cbiAgcHJpdmF0ZSBfcmVtb3ZlUGFyZW50KHBhcmVudDogU3Vic2NyaXB0aW9uKSB7XG4gICAgY29uc3QgeyBfcGFyZW50YWdlIH0gPSB0aGlzO1xuICAgIGlmIChfcGFyZW50YWdlID09PSBwYXJlbnQpIHtcbiAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICBhcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGZpbmFsaXplciBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uIHRoYXQgd2FzIHByZXZpb3VzbHkgYWRkZWQgd2l0aCB0aGUge0BsaW5rICNhZGR9IG1ldGhvZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGBTdWJzY3JpcHRpb25gIGluc3RhbmNlcywgd2hlbiB1bnN1YnNjcmliZWQsIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlbXNlbHZlc1xuICAgKiBmcm9tIGV2ZXJ5IG90aGVyIGBTdWJzY3JpcHRpb25gIHRoZXkgaGF2ZSBiZWVuIGFkZGVkIHRvLiBUaGlzIG1lYW5zIHRoYXQgdXNpbmcgdGhlIGByZW1vdmVgIG1ldGhvZFxuICAgKiBpcyBub3QgYSBjb21tb24gdGhpbmcgYW5kIHNob3VsZCBiZSB1c2VkIHRob3VnaHRmdWxseS5cbiAgICpcbiAgICogSWYgeW91IGFkZCB0aGUgc2FtZSBmaW5hbGl6ZXIgaW5zdGFuY2Ugb2YgYSBmdW5jdGlvbiBvciBhbiB1bnN1YnNjcmliYWJsZSBvYmplY3QgdG8gYSBgU3Vic2NyaXB0aW9uYCBpbnN0YW5jZVxuICAgKiBtb3JlIHRoYW4gb25jZSwgeW91IHdpbGwgbmVlZCB0byBjYWxsIGByZW1vdmVgIHRoZSBzYW1lIG51bWJlciBvZiB0aW1lcyB0byByZW1vdmUgYWxsIGluc3RhbmNlcy5cbiAgICpcbiAgICogQWxsIGZpbmFsaXplciBpbnN0YW5jZXMgYXJlIHJlbW92ZWQgdG8gZnJlZSB1cCBtZW1vcnkgdXBvbiB1bnN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHRlYXJkb3duIFRoZSBmaW5hbGl6ZXIgdG8gcmVtb3ZlIGZyb20gdGhpcyBzdWJzY3JpcHRpb25cbiAgICovXG4gIHJlbW92ZSh0ZWFyZG93bjogRXhjbHVkZTxUZWFyZG93bkxvZ2ljLCB2b2lkPik6IHZvaWQge1xuICAgIGNvbnN0IHsgX2ZpbmFsaXplcnMgfSA9IHRoaXM7XG4gICAgX2ZpbmFsaXplcnMgJiYgYXJyUmVtb3ZlKF9maW5hbGl6ZXJzLCB0ZWFyZG93bik7XG5cbiAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRlYXJkb3duLl9yZW1vdmVQYXJlbnQodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgU3Vic2NyaXB0aW9uIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICh2YWx1ZSAmJiAnY2xvc2VkJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb24odmFsdWUudW5zdWJzY3JpYmUpKVxuICApO1xufVxuXG5mdW5jdGlvbiBleGVjRmluYWxpemVyKGZpbmFsaXplcjogVW5zdWJzY3JpYmFibGUgfCAoKCkgPT4gdm9pZCkpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xuICAgIGZpbmFsaXplcigpO1xuICB9IGVsc2Uge1xuICAgIGZpbmFsaXplci51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGVOb3RpZmljYXRpb24gfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBUaGUge0BsaW5rIEdsb2JhbENvbmZpZ30gb2JqZWN0IGZvciBSeEpTLiBJdCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGluZ3NcbiAqIGxpa2UgaG93IHRvIHJlYWN0IG9uIHVuaGFuZGxlZCBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBjb25maWc6IEdsb2JhbENvbmZpZyA9IHtcbiAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcbiAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiBudWxsLFxuICBQcm9taXNlOiB1bmRlZmluZWQsXG4gIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGZhbHNlLFxuICB1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6IGZhbHNlLFxufTtcblxuLyoqXG4gKiBUaGUgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBSeEpTLCB1c2VkIHRvIGNvbmZpZ3VyZSB0aGluZ3NcbiAqIGxpa2UgaG93IHRvIHJlYWN0IG9uIHVuaGFuZGxlZCBlcnJvcnMuIEFjY2Vzc2libGUgdmlhIHtAbGluayBjb25maWd9XG4gKiBvYmplY3QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2xvYmFsQ29uZmlnIHtcbiAgLyoqXG4gICAqIEEgcmVnaXN0cmF0aW9uIHBvaW50IGZvciB1bmhhbmRsZWQgZXJyb3JzIGZyb20gUnhKUy4gVGhlc2UgYXJlIGVycm9ycyB0aGF0XG4gICAqIGNhbm5vdCB3ZXJlIG5vdCBoYW5kbGVkIGJ5IGNvbnN1bWluZyBjb2RlIGluIHRoZSB1c3VhbCBzdWJzY3JpcHRpb24gcGF0aC4gRm9yXG4gICAqIGV4YW1wbGUsIGlmIHlvdSBoYXZlIHRoaXMgY29uZmlndXJlZCwgYW5kIHlvdSBzdWJzY3JpYmUgdG8gYW4gb2JzZXJ2YWJsZSB3aXRob3V0XG4gICAqIHByb3ZpZGluZyBhbiBlcnJvciBoYW5kbGVyLCBlcnJvcnMgZnJvbSB0aGF0IHN1YnNjcmlwdGlvbiB3aWxsIGVuZCB1cCBoZXJlLiBUaGlzXG4gICAqIHdpbGwgX2Fsd2F5c18gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IG9uIGFub3RoZXIgam9iIGluIHRoZSBydW50aW1lLiBUaGlzIGlzIGJlY2F1c2VcbiAgICogd2UgZG8gbm90IHdhbnQgZXJyb3JzIHRocm93biBpbiB0aGlzIHVzZXItY29uZmlndXJlZCBoYW5kbGVyIHRvIGludGVyZmVyZSB3aXRoIHRoZVxuICAgKiBiZWhhdmlvciBvZiB0aGUgbGlicmFyeS5cbiAgICovXG4gIG9uVW5oYW5kbGVkRXJyb3I6ICgoZXJyOiBhbnkpID0+IHZvaWQpIHwgbnVsbDtcblxuICAvKipcbiAgICogQSByZWdpc3RyYXRpb24gcG9pbnQgZm9yIG5vdGlmaWNhdGlvbnMgdGhhdCBjYW5ub3QgYmUgc2VudCB0byBzdWJzY3JpYmVycyBiZWNhdXNlIHRoZXlcbiAgICogaGF2ZSBjb21wbGV0ZWQsIGVycm9yZWQgb3IgaGF2ZSBiZWVuIGV4cGxpY2l0bHkgdW5zdWJzY3JpYmVkLiBCeSBkZWZhdWx0LCBuZXh0LCBjb21wbGV0ZVxuICAgKiBhbmQgZXJyb3Igbm90aWZpY2F0aW9ucyBzZW50IHRvIHN0b3BwZWQgc3Vic2NyaWJlcnMgYXJlIG5vb3BzLiBIb3dldmVyLCBzb21ldGltZXMgY2FsbGVyc1xuICAgKiBtaWdodCB3YW50IGEgZGlmZmVyZW50IGJlaGF2aW9yLiBGb3IgZXhhbXBsZSwgd2l0aCBzb3VyY2VzIHRoYXQgYXR0ZW1wdCB0byByZXBvcnQgZXJyb3JzXG4gICAqIHRvIHN0b3BwZWQgc3Vic2NyaWJlcnMsIGEgY2FsbGVyIGNhbiBjb25maWd1cmUgUnhKUyB0byB0aHJvdyBhbiB1bmhhbmRsZWQgZXJyb3IgaW5zdGVhZC5cbiAgICogVGhpcyB3aWxsIF9hbHdheXNfIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSBvbiBhbm90aGVyIGpvYiBpbiB0aGUgcnVudGltZS4gVGhpcyBpcyBiZWNhdXNlXG4gICAqIHdlIGRvIG5vdCB3YW50IGVycm9ycyB0aHJvd24gaW4gdGhpcyB1c2VyLWNvbmZpZ3VyZWQgaGFuZGxlciB0byBpbnRlcmZlcmUgd2l0aCB0aGVcbiAgICogYmVoYXZpb3Igb2YgdGhlIGxpYnJhcnkuXG4gICAqL1xuICBvblN0b3BwZWROb3RpZmljYXRpb246ICgobm90aWZpY2F0aW9uOiBPYnNlcnZhYmxlTm90aWZpY2F0aW9uPGFueT4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55PikgPT4gdm9pZCkgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvbWlzZSBjb25zdHJ1Y3RvciB1c2VkIGJ5IGRlZmF1bHQgZm9yIHtAbGluayBPYnNlcnZhYmxlI3RvUHJvbWlzZSB0b1Byb21pc2V9IGFuZCB7QGxpbmsgT2JzZXJ2YWJsZSNmb3JFYWNoIGZvckVhY2h9XG4gICAqIG1ldGhvZHMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIEFzIG9mIHZlcnNpb24gOCwgUnhKUyB3aWxsIG5vIGxvbmdlciBzdXBwb3J0IHRoaXMgc29ydCBvZiBpbmplY3Rpb24gb2YgYVxuICAgKiBQcm9taXNlIGNvbnN0cnVjdG9yLiBJZiB5b3UgbmVlZCBhIFByb21pc2UgaW1wbGVtZW50YXRpb24gb3RoZXIgdGhhbiBuYXRpdmUgcHJvbWlzZXMsXG4gICAqIHBsZWFzZSBwb2x5ZmlsbC9wYXRjaCBQcm9taXNlIGFzIHlvdSBzZWUgYXBwcm9wcmlhdGUuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIFByb21pc2U/OiBQcm9taXNlQ29uc3RydWN0b3JMaWtlO1xuXG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0dXJucyBvbiBzeW5jaHJvbm91cyBlcnJvciByZXRocm93aW5nLCB3aGljaCBpcyBhIGRlcHJlY2F0ZWQgYmVoYXZpb3JcbiAgICogaW4gdjYgYW5kIGhpZ2hlci4gVGhpcyBiZWhhdmlvciBlbmFibGVzIGJhZCBwYXR0ZXJucyBsaWtlIHdyYXBwaW5nIGEgc3Vic2NyaWJlXG4gICAqIGNhbGwgaW4gYSB0cnkvY2F0Y2ggYmxvY2suIEl0IGFsc28gZW5hYmxlcyBwcm9kdWNlciBpbnRlcmZlcmVuY2UsIGEgbmFzdHkgYnVnXG4gICAqIHdoZXJlIGEgbXVsdGljYXN0IGNhbiBiZSBicm9rZW4gZm9yIGFsbCBvYnNlcnZlcnMgYnkgYSBkb3duc3RyZWFtIGNvbnN1bWVyIHdpdGhcbiAgICogYW4gdW5oYW5kbGVkIGVycm9yLiBETyBOT1QgVVNFIFRISVMgRkxBRyBVTkxFU1MgSVQnUyBORUVERUQgVE8gQlVZIFRJTUVcbiAgICogRk9SIE1JR1JBVElPTiBSRUFTT05TLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBBcyBvZiB2ZXJzaW9uIDgsIFJ4SlMgd2lsbCBubyBsb25nZXIgc3VwcG9ydCBzeW5jaHJvbm91cyB0aHJvd2luZ1xuICAgKiBvZiB1bmhhbmRsZWQgZXJyb3JzLiBBbGwgZXJyb3JzIHdpbGwgYmUgdGhyb3duIG9uIGEgc2VwYXJhdGUgY2FsbCBzdGFjayB0byBwcmV2ZW50IGJhZFxuICAgKiBiZWhhdmlvcnMgZGVzY3JpYmVkIGFib3ZlLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiB0cnVlLCBlbmFibGVzIGFuIGFzLW9mLXlldCB1bmRvY3VtZW50ZWQgZmVhdHVyZSBmcm9tIHY1OiBUaGUgYWJpbGl0eSB0byBhY2Nlc3NcbiAgICogYHVuc3Vic2NyaWJlKClgIHZpYSBgdGhpc2AgY29udGV4dCBpbiBgbmV4dGAgZnVuY3Rpb25zIGNyZWF0ZWQgaW4gb2JzZXJ2ZXJzIHBhc3NlZFxuICAgKiB0byBgc3Vic2NyaWJlYC5cbiAgICpcbiAgICogVGhpcyBpcyBiZWluZyByZW1vdmVkIGJlY2F1c2UgdGhlIHBlcmZvcm1hbmNlIHdhcyBzZXZlcmVseSBwcm9ibGVtYXRpYywgYW5kIGl0IGNvdWxkIGFsc28gY2F1c2VcbiAgICogaXNzdWVzIHdoZW4gdHlwZXMgb3RoZXIgdGhhbiBQT0pPcyBhcmUgcGFzc2VkIHRvIHN1YnNjcmliZSBhcyBzdWJzY3JpYmVycywgYXMgdGhleSB3aWxsIGxpa2VseSBoYXZlXG4gICAqIHRoZWlyIGB0aGlzYCBjb250ZXh0IG92ZXJ3cml0dGVuLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBBcyBvZiB2ZXJzaW9uIDgsIFJ4SlMgd2lsbCBubyBsb25nZXIgc3VwcG9ydCBhbHRlcmluZyB0aGVcbiAgICogY29udGV4dCBvZiBuZXh0IGZ1bmN0aW9ucyBwcm92aWRlZCBhcyBwYXJ0IG9mIGFuIG9ic2VydmVyIHRvIFN1YnNjcmliZS4gSW5zdGVhZCxcbiAgICogeW91IHdpbGwgaGF2ZSBhY2Nlc3MgdG8gYSBzdWJzY3JpcHRpb24gb3IgYSBzaWduYWwgb3IgdG9rZW4gdGhhdCB3aWxsIGFsbG93IHlvdSB0byBkbyB0aGluZ3MgbGlrZVxuICAgKiB1bnN1YnNjcmliZSBhbmQgdGVzdCBjbG9zZWQgc3RhdHVzLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICB1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuL3V0aWwvRW1wdHlFcnJvcic7XG5pbXBvcnQgeyBTYWZlU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlyc3RWYWx1ZUZyb21Db25maWc8VD4ge1xuICBkZWZhdWx0VmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdFZhbHVlRnJvbTxULCBEPihzb3VyY2U6IE9ic2VydmFibGU8VD4sIGNvbmZpZzogRmlyc3RWYWx1ZUZyb21Db25maWc8RD4pOiBQcm9taXNlPFQgfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdFZhbHVlRnJvbTxUPihzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBQcm9taXNlPFQ+O1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIG9ic2VydmFibGUgdG8gYSBwcm9taXNlIGJ5IHN1YnNjcmliaW5nIHRvIHRoZSBvYnNlcnZhYmxlLFxuICogYW5kIHJldHVybmluZyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgYXMgc29vbiBhcyB0aGUgZmlyc3QgdmFsdWVcbiAqIGFycml2ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS4gVGhlIHN1YnNjcmlwdGlvbiB3aWxsIHRoZW4gYmUgY2xvc2VkLlxuICpcbiAqIElmIHRoZSBvYnNlcnZhYmxlIHN0cmVhbSBjb21wbGV0ZXMgYmVmb3JlIGFueSB2YWx1ZXMgd2VyZSBlbWl0dGVkLCB0aGVcbiAqIHJldHVybmVkIHByb21pc2Ugd2lsbCByZWplY3Qgd2l0aCB7QGxpbmsgRW1wdHlFcnJvcn0gb3Igd2lsbCByZXNvbHZlXG4gKiB3aXRoIHRoZSBkZWZhdWx0IHZhbHVlIGlmIGEgZGVmYXVsdCB3YXMgc3BlY2lmaWVkLlxuICpcbiAqIElmIHRoZSBvYnNlcnZhYmxlIHN0cmVhbSBlbWl0cyBhbiBlcnJvciwgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCByZWplY3RcbiAqIHdpdGggdGhhdCBlcnJvci5cbiAqXG4gKiAqKldBUk5JTkcqKjogT25seSB1c2UgdGhpcyB3aXRoIG9ic2VydmFibGVzIHlvdSAqa25vdyogd2lsbCBlbWl0IGF0IGxlYXN0IG9uZSB2YWx1ZSxcbiAqICpPUiogY29tcGxldGUuIElmIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSBkb2VzIG5vdCBlbWl0IG9uZSB2YWx1ZSBvciBjb21wbGV0ZSwgeW91IHdpbGxcbiAqIGVuZCB1cCB3aXRoIGEgcHJvbWlzZSB0aGF0IGlzIGh1bmcgdXAsIGFuZCBwb3RlbnRpYWxseSBhbGwgb2YgdGhlIHN0YXRlIG9mIGFuXG4gKiBhc3luYyBmdW5jdGlvbiBoYW5naW5nIG91dCBpbiBtZW1vcnkuIFRvIGF2b2lkIHRoaXMgc2l0dWF0aW9uLCBsb29rIGludG8gYWRkaW5nXG4gKiBzb21ldGhpbmcgbGlrZSB7QGxpbmsgdGltZW91dH0sIHtAbGluayB0YWtlfSwge0BsaW5rIHRha2VXaGlsZX0sIG9yIHtAbGluayB0YWtlVW50aWx9XG4gKiBhbW9uZ3N0IG90aGVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogV2FpdCBmb3IgdGhlIGZpcnN0IHZhbHVlIGZyb20gYSBzdHJlYW0gYW5kIGVtaXQgaXQgZnJvbSBhIHByb21pc2UgaW5cbiAqIGFuIGFzeW5jIGZ1bmN0aW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBmaXJzdFZhbHVlRnJvbSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGUoKSB7XG4gKiAgIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbCgyMDAwKTtcbiAqICAgY29uc3QgZmlyc3ROdW1iZXIgPSBhd2FpdCBmaXJzdFZhbHVlRnJvbShzb3VyY2UkKTtcbiAqICAgY29uc29sZS5sb2coYFRoZSBmaXJzdCBudW1iZXIgaXMgJHsgZmlyc3ROdW1iZXIgfWApO1xuICogfVxuICpcbiAqIGV4ZWN1dGUoKTtcbiAqXG4gKiAvLyBFeHBlY3RlZCBvdXRwdXQ6XG4gKiAvLyAnVGhlIGZpcnN0IG51bWJlciBpcyAwJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbGFzdFZhbHVlRnJvbX1cbiAqXG4gKiBAcGFyYW0gc291cmNlIHRoZSBvYnNlcnZhYmxlIHRvIGNvbnZlcnQgdG8gYSBwcm9taXNlXG4gKiBAcGFyYW0gY29uZmlnIGEgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gZGVmaW5lIHRoZSBgZGVmYXVsdFZhbHVlYCB0byB1c2UgaWYgdGhlIHNvdXJjZSBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdFZhbHVlRnJvbTxULCBEPihzb3VyY2U6IE9ic2VydmFibGU8VD4sIGNvbmZpZz86IEZpcnN0VmFsdWVGcm9tQ29uZmlnPEQ+KTogUHJvbWlzZTxUIHwgRD4ge1xuICBjb25zdCBoYXNDb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JztcbiAgcmV0dXJuIG5ldyBQcm9taXNlPFQgfCBEPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IG5ldyBTYWZlU3Vic2NyaWJlcjxUPih7XG4gICAgICBuZXh0OiAodmFsdWUpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgaWYgKGhhc0NvbmZpZykge1xuICAgICAgICAgIHJlc29sdmUoY29uZmlnIS5kZWZhdWx0VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChuZXcgRW1wdHlFcnJvcigpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4vdXRpbC9FbXB0eUVycm9yJztcblxuZXhwb3J0IGludGVyZmFjZSBMYXN0VmFsdWVGcm9tQ29uZmlnPFQ+IHtcbiAgZGVmYXVsdFZhbHVlOiBUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFzdFZhbHVlRnJvbTxULCBEPihzb3VyY2U6IE9ic2VydmFibGU8VD4sIGNvbmZpZzogTGFzdFZhbHVlRnJvbUNvbmZpZzxEPik6IFByb21pc2U8VCB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RWYWx1ZUZyb208VD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBvYnNlcnZhYmxlIHRvIGEgcHJvbWlzZSBieSBzdWJzY3JpYmluZyB0byB0aGUgb2JzZXJ2YWJsZSxcbiAqIHdhaXRpbmcgZm9yIGl0IHRvIGNvbXBsZXRlLCBhbmQgcmVzb2x2aW5nIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpdGggdGhlXG4gKiBsYXN0IHZhbHVlIGZyb20gdGhlIG9ic2VydmVkIHN0cmVhbS5cbiAqXG4gKiBJZiB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gY29tcGxldGVzIGJlZm9yZSBhbnkgdmFsdWVzIHdlcmUgZW1pdHRlZCwgdGhlXG4gKiByZXR1cm5lZCBwcm9taXNlIHdpbGwgcmVqZWN0IHdpdGgge0BsaW5rIEVtcHR5RXJyb3J9IG9yIHdpbGwgcmVzb2x2ZVxuICogd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBpZiBhIGRlZmF1bHQgd2FzIHNwZWNpZmllZC5cbiAqXG4gKiBJZiB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gZW1pdHMgYW4gZXJyb3IsIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgcmVqZWN0XG4gKiB3aXRoIHRoYXQgZXJyb3IuXG4gKlxuICogKipXQVJOSU5HKio6IE9ubHkgdXNlIHRoaXMgd2l0aCBvYnNlcnZhYmxlcyB5b3UgKmtub3cqIHdpbGwgY29tcGxldGUuIElmIHRoZSBzb3VyY2VcbiAqIG9ic2VydmFibGUgZG9lcyBub3QgY29tcGxldGUsIHlvdSB3aWxsIGVuZCB1cCB3aXRoIGEgcHJvbWlzZSB0aGF0IGlzIGh1bmcgdXAsIGFuZFxuICogcG90ZW50aWFsbHkgYWxsIG9mIHRoZSBzdGF0ZSBvZiBhbiBhc3luYyBmdW5jdGlvbiBoYW5naW5nIG91dCBpbiBtZW1vcnkuIFRvIGF2b2lkXG4gKiB0aGlzIHNpdHVhdGlvbiwgbG9vayBpbnRvIGFkZGluZyBzb21ldGhpbmcgbGlrZSB7QGxpbmsgdGltZW91dH0sIHtAbGluayB0YWtlfSxcbiAqIHtAbGluayB0YWtlV2hpbGV9LCBvciB7QGxpbmsgdGFrZVVudGlsfSBhbW9uZ3N0IG90aGVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogV2FpdCBmb3IgdGhlIGxhc3QgdmFsdWUgZnJvbSBhIHN0cmVhbSBhbmQgZW1pdCBpdCBmcm9tIGEgcHJvbWlzZSBpblxuICogYW4gYXN5bmMgZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIGxhc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBhc3luYyBmdW5jdGlvbiBleGVjdXRlKCkge1xuICogICBjb25zdCBzb3VyY2UkID0gaW50ZXJ2YWwoMjAwMCkucGlwZSh0YWtlKDEwKSk7XG4gKiAgIGNvbnN0IGZpbmFsTnVtYmVyID0gYXdhaXQgbGFzdFZhbHVlRnJvbShzb3VyY2UkKTtcbiAqICAgY29uc29sZS5sb2coYFRoZSBmaW5hbCBudW1iZXIgaXMgJHsgZmluYWxOdW1iZXIgfWApO1xuICogfVxuICpcbiAqIGV4ZWN1dGUoKTtcbiAqXG4gKiAvLyBFeHBlY3RlZCBvdXRwdXQ6XG4gKiAvLyAnVGhlIGZpbmFsIG51bWJlciBpcyA5J1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlyc3RWYWx1ZUZyb219XG4gKlxuICogQHBhcmFtIHNvdXJjZSB0aGUgb2JzZXJ2YWJsZSB0byBjb252ZXJ0IHRvIGEgcHJvbWlzZVxuICogQHBhcmFtIGNvbmZpZyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGRlZmluZSB0aGUgYGRlZmF1bHRWYWx1ZWAgdG8gdXNlIGlmIHRoZSBzb3VyY2UgY29tcGxldGVzIHdpdGhvdXQgZW1pdHRpbmcgYSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdFZhbHVlRnJvbTxULCBEPihzb3VyY2U6IE9ic2VydmFibGU8VD4sIGNvbmZpZz86IExhc3RWYWx1ZUZyb21Db25maWc8RD4pOiBQcm9taXNlPFQgfCBEPiB7XG4gIGNvbnN0IGhhc0NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnO1xuICByZXR1cm4gbmV3IFByb21pc2U8VCB8IEQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgX2hhc1ZhbHVlID0gZmFsc2U7XG4gICAgbGV0IF92YWx1ZTogVDtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgaWYgKF9oYXNWYWx1ZSkge1xuICAgICAgICAgIHJlc29sdmUoX3ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNDb25maWcpIHtcbiAgICAgICAgICByZXNvbHZlKGNvbmZpZyEuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVtcHR5RXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJlZkNvdW50IGFzIGhpZ2hlck9yZGVyUmVmQ291bnQgfSBmcm9tICcuLi9vcGVyYXRvcnMvcmVmQ291bnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBoYXNMaWZ0IH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcblxuLyoqXG4gKiBAY2xhc3MgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+XG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB7QGxpbmsgY29ubmVjdGFibGV9IHRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUuXG4gKiBJZiB5b3UgYXJlIHVzaW5nIHRoZSBgcmVmQ291bnRgIG1ldGhvZCBvZiBgQ29ubmVjdGFibGVPYnNlcnZhYmxlYCwgdXNlIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yXG4gKiBpbnN0ZWFkLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0YWJsZU9ic2VydmFibGU8VD4gZXh0ZW5kcyBPYnNlcnZhYmxlPFQ+IHtcbiAgcHJvdGVjdGVkIF9zdWJqZWN0OiBTdWJqZWN0PFQ+IHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBfcmVmQ291bnQ6IG51bWJlciA9IDA7XG4gIHByb3RlY3RlZCBfY29ubmVjdGlvbjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYnNlcnZhYmxlXG4gICAqIEBwYXJhbSBzdWJqZWN0RmFjdG9yeSBUaGUgZmFjdG9yeSB0aGF0IGNyZWF0ZXMgdGhlIHN1YmplY3QgdXNlZCBpbnRlcm5hbGx5LlxuICAgKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB7QGxpbmsgY29ubmVjdGFibGV9IHRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUuXG4gICAqIGBuZXcgQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgZmFjdG9yeSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAgICogYGNvbm5lY3RhYmxlKHNvdXJjZSwgeyBjb25uZWN0b3I6IGZhY3RvcnkgfSlgLlxuICAgKiBXaGVuIHRoZSBgcmVmQ291bnQoKWAgbWV0aG9kIGlzIG5lZWRlZCwgdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3Igc2hvdWxkIGJlIHVzZWQgaW5zdGVhZDpcbiAgICogYG5ldyBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBmYWN0b3J5KS5yZWZDb3VudCgpYCBpcyBlcXVpdmFsZW50IHRvXG4gICAqIGBzb3VyY2UucGlwZShzaGFyZSh7IGNvbm5lY3RvcjogZmFjdG9yeSB9KSlgLlxuICAgKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzb3VyY2U6IE9ic2VydmFibGU8VD4sIHByb3RlY3RlZCBzdWJqZWN0RmFjdG9yeTogKCkgPT4gU3ViamVjdDxUPikge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gSWYgd2UgaGF2ZSBsaWZ0LCBtb25rZXkgcGF0Y2ggdGhhdCBoZXJlLiBUaGlzIGlzIGRvbmUgc28gY3VzdG9tIG9ic2VydmFibGVcbiAgICAvLyB0eXBlcyB3aWxsIGNvbXBvc2UgdGhyb3VnaCBtdWx0aWNhc3QuIE90aGVyd2lzZSB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd291bGRcbiAgICAvLyBzaW1wbHkgYmUgYW4gaW5zdGFuY2Ugb2YgYENvbm5lY3RhYmxlT2JzZXJ2YWJsZWAuXG4gICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgdGhpcy5saWZ0ID0gc291cmNlLmxpZnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdWJqZWN0KCk6IFN1YmplY3Q8VD4ge1xuICAgIGNvbnN0IHN1YmplY3QgPSB0aGlzLl9zdWJqZWN0O1xuICAgIGlmICghc3ViamVjdCB8fCBzdWJqZWN0LmlzU3RvcHBlZCkge1xuICAgICAgdGhpcy5fc3ViamVjdCA9IHRoaXMuc3ViamVjdEZhY3RvcnkoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N1YmplY3QhO1xuICB9XG5cbiAgcHJvdGVjdGVkIF90ZWFyZG93bigpIHtcbiAgICB0aGlzLl9yZWZDb3VudCA9IDA7XG4gICAgY29uc3QgeyBfY29ubmVjdGlvbiB9ID0gdGhpcztcbiAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgX2Nvbm5lY3Rpb24/LnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX0gd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2Uge0BsaW5rIGNvbm5lY3RhYmxlfSBpbnN0ZWFkLlxuICAgKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAgICovXG4gIGNvbm5lY3QoKTogU3Vic2NyaXB0aW9uIHtcbiAgICBsZXQgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICBjb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgIGNvbnN0IHN1YmplY3QgPSB0aGlzLmdldFN1YmplY3QoKTtcbiAgICAgIGNvbm5lY3Rpb24uYWRkKFxuICAgICAgICB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgc3ViamVjdCBhcyBhbnksXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX3RlYXJkb3duKCk7XG4gICAgICAgICAgICAgIHN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX3RlYXJkb3duKCk7XG4gICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB0aGlzLl90ZWFyZG93bigpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoY29ubmVjdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb25uZWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9IHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuXG4gICAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICAgKi9cbiAgcmVmQ291bnQoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgcmV0dXJuIGhpZ2hlck9yZGVyUmVmQ291bnQoKSh0aGlzKSBhcyBPYnNlcnZhYmxlPFQ+O1xuICB9XG59XG4iLCIvKiBAcHJldHRpZXIgKi9cbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBiaW5kQ2FsbGJhY2tJbnRlcm5hbHMgfSBmcm9tICcuL2JpbmRDYWxsYmFja0ludGVybmFscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kQ2FsbGJhY2soXG4gIGNhbGxiYWNrRnVuYzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLFxuICByZXN1bHRTZWxlY3RvcjogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6ICguLi5hcmdzOiBhbnlbXSkgPT4gT2JzZXJ2YWJsZTxhbnk+O1xuXG4vLyBhcmdzIGlzIHRoZSBhcmd1bWVudHMgYXJyYXkgYW5kIHdlIHB1c2ggdGhlIGNhbGxiYWNrIG9uIHRoZSByZXN0IHR1cGxlIHNpbmNlIHRoZSByZXN0IHBhcmFtZXRlciBtdXN0IGJlIGxhc3QgKG9ubHkgaXRlbSkgaW4gYSBwYXJhbWV0ZXIgbGlzdFxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRDYWxsYmFjazxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgY2FsbGJhY2tGdW5jOiAoLi4uYXJnczogWy4uLkEsICguLi5yZXM6IFIpID0+IHZvaWRdKSA9PiB2b2lkLFxuICBzY2hlZHVsZXJMaWtlPzogU2NoZWR1bGVyTGlrZVxuKTogKC4uLmFyZzogQSkgPT4gT2JzZXJ2YWJsZTxSIGV4dGVuZHMgW10gPyB2b2lkIDogUiBleHRlbmRzIFthbnldID8gUlswXSA6IFI+O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgY2FsbGJhY2sgQVBJIHRvIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkdpdmUgaXQgYSBmdW5jdGlvbiBgZmAgb2YgdHlwZSBgZih4LCBjYWxsYmFjaylgIGFuZFxuICogaXQgd2lsbCByZXR1cm4gYSBmdW5jdGlvbiBgZ2AgdGhhdCB3aGVuIGNhbGxlZCBhcyBgZyh4KWAgd2lsbCBvdXRwdXQgYW5cbiAqIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqIGBiaW5kQ2FsbGJhY2tgIGlzIG5vdCBhbiBvcGVyYXRvciBiZWNhdXNlIGl0cyBpbnB1dCBhbmQgb3V0cHV0IGFyZSBub3RcbiAqIE9ic2VydmFibGVzLiBUaGUgaW5wdXQgaXMgYSBmdW5jdGlvbiBgZnVuY2Agd2l0aCBzb21lIHBhcmFtZXRlcnMuIFRoZVxuICogbGFzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgYGZ1bmNgIGNhbGxzIHdoZW4gaXQgaXNcbiAqIGRvbmUuXG4gKlxuICogVGhlIG91dHB1dCBvZiBgYmluZENhbGxiYWNrYCBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHNhbWUgcGFyYW1ldGVyc1xuICogYXMgYGZ1bmNgLCBleGNlcHQgdGhlIGxhc3Qgb25lICh0aGUgY2FsbGJhY2spLiBXaGVuIHRoZSBvdXRwdXQgZnVuY3Rpb25cbiAqIGlzIGNhbGxlZCB3aXRoIGFyZ3VtZW50cyBpdCB3aWxsIHJldHVybiBhbiBPYnNlcnZhYmxlLiBJZiBmdW5jdGlvbiBgZnVuY2BcbiAqIGNhbGxzIGl0cyBjYWxsYmFjayB3aXRoIG9uZSBhcmd1bWVudCwgdGhlIE9ic2VydmFibGUgd2lsbCBlbWl0IHRoYXQgdmFsdWUuXG4gKiBJZiBvbiB0aGUgb3RoZXIgaGFuZCB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbXVsdGlwbGUgdmFsdWVzIHRoZSByZXN1bHRpbmdcbiAqIE9ic2VydmFibGUgd2lsbCBlbWl0IGFuIGFycmF5IHdpdGggc2FpZCB2YWx1ZXMgYXMgYXJndW1lbnRzLlxuICpcbiAqIEl0IGlzICoqdmVyeSBpbXBvcnRhbnQqKiB0byByZW1lbWJlciB0aGF0IGlucHV0IGZ1bmN0aW9uIGBmdW5jYCBpcyBub3QgY2FsbGVkXG4gKiB3aGVuIHRoZSBvdXRwdXQgZnVuY3Rpb24gaXMsIGJ1dCByYXRoZXIgd2hlbiB0aGUgT2JzZXJ2YWJsZSByZXR1cm5lZCBieSB0aGUgb3V0cHV0XG4gKiBmdW5jdGlvbiBpcyBzdWJzY3JpYmVkLiBUaGlzIG1lYW5zIGlmIGBmdW5jYCBtYWtlcyBhbiBBSkFYIHJlcXVlc3QsIHRoYXQgcmVxdWVzdFxuICogd2lsbCBiZSBtYWRlIGV2ZXJ5IHRpbWUgc29tZW9uZSBzdWJzY3JpYmVzIHRvIHRoZSByZXN1bHRpbmcgT2JzZXJ2YWJsZSwgYnV0IG5vdCBiZWZvcmUuXG4gKlxuICogVGhlIGxhc3Qgb3B0aW9uYWwgcGFyYW1ldGVyIC0gYHNjaGVkdWxlcmAgLSBjYW4gYmUgdXNlZCB0byBjb250cm9sIHdoZW4gdGhlIGNhbGxcbiAqIHRvIGBmdW5jYCBoYXBwZW5zIGFmdGVyIHNvbWVvbmUgc3Vic2NyaWJlcyB0byBPYnNlcnZhYmxlLCBhcyB3ZWxsIGFzIHdoZW4gcmVzdWx0c1xuICogcGFzc2VkIHRvIGNhbGxiYWNrIHdpbGwgYmUgZW1pdHRlZC4gQnkgZGVmYXVsdCwgdGhlIHN1YnNjcmlwdGlvbiB0byBhbiBPYnNlcnZhYmxlIGNhbGxzIGBmdW5jYFxuICogc3luY2hyb25vdXNseSwgYnV0IHVzaW5nIHtAbGluayBhc3luY1NjaGVkdWxlcn0gYXMgdGhlIGxhc3QgcGFyYW1ldGVyIHdpbGwgZGVmZXIgdGhlIGNhbGwgdG8gYGZ1bmNgLFxuICoganVzdCBsaWtlIHdyYXBwaW5nIHRoZSBjYWxsIGluIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAgd291bGQuIElmIHlvdSB3ZXJlIHRvIHVzZSB0aGUgYXN5bmMgU2NoZWR1bGVyXG4gKiBhbmQgY2FsbCBgc3Vic2NyaWJlYCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUsIGFsbCBmdW5jdGlvbiBjYWxscyB0aGF0IGFyZSBjdXJyZW50bHkgZXhlY3V0aW5nXG4gKiB3aWxsIGVuZCBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gKlxuICogQnkgZGVmYXVsdCwgcmVzdWx0cyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrIGFyZSBlbWl0dGVkIGltbWVkaWF0ZWx5IGFmdGVyIGBmdW5jYCBpbnZva2VzIHRoZSBjYWxsYmFjay5cbiAqIEluIHBhcnRpY3VsYXIsIGlmIHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgc3luY2hyb25vdXNseSwgdGhlbiB0aGUgc3Vic2NyaXB0aW9uIG9mIHRoZSByZXN1bHRpbmcgT2JzZXJ2YWJsZVxuICogd2lsbCBjYWxsIHRoZSBgbmV4dGAgZnVuY3Rpb24gc3luY2hyb25vdXNseSBhcyB3ZWxsLiAgSWYgeW91IHdhbnQgdG8gZGVmZXIgdGhhdCBjYWxsLFxuICogeW91IG1heSB1c2Uge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBqdXN0IGFzIGJlZm9yZS4gIFRoaXMgbWVhbnMgdGhhdCBieSB1c2luZyBgU2NoZWR1bGVyLmFzeW5jYCB5b3UgY2FuXG4gKiBlbnN1cmUgdGhhdCBgZnVuY2AgYWx3YXlzIGNhbGxzIGl0cyBjYWxsYmFjayBhc3luY2hyb25vdXNseSwgdGh1cyBhdm9pZGluZyB0ZXJyaWZ5aW5nIFphbGdvLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgT2JzZXJ2YWJsZSBjcmVhdGVkIGJ5IHRoZSBvdXRwdXQgZnVuY3Rpb24gd2lsbCBhbHdheXMgZW1pdCBhIHNpbmdsZSB2YWx1ZVxuICogYW5kIHRoZW4gY29tcGxldGUgaW1tZWRpYXRlbHkuIElmIGBmdW5jYCBjYWxscyB0aGUgY2FsbGJhY2sgbXVsdGlwbGUgdGltZXMsIHZhbHVlcyBmcm9tIHN1YnNlcXVlbnRcbiAqIGNhbGxzIHdpbGwgbm90IGFwcGVhciBpbiB0aGUgc3RyZWFtLiBJZiB5b3UgbmVlZCB0byBsaXN0ZW4gZm9yIG11bHRpcGxlIGNhbGxzLFxuICogIHlvdSBwcm9iYWJseSB3YW50IHRvIHVzZSB7QGxpbmsgZnJvbUV2ZW50fSBvciB7QGxpbmsgZnJvbUV2ZW50UGF0dGVybn0gaW5zdGVhZC5cbiAqXG4gKiBJZiBgZnVuY2AgZGVwZW5kcyBvbiBzb21lIGNvbnRleHQgKGB0aGlzYCBwcm9wZXJ0eSkgYW5kIGlzIG5vdCBhbHJlYWR5IGJvdW5kLCB0aGUgY29udGV4dCBvZiBgZnVuY2BcbiAqIHdpbGwgYmUgdGhlIGNvbnRleHQgdGhhdCB0aGUgb3V0cHV0IGZ1bmN0aW9uIGhhcyBhdCBjYWxsIHRpbWUuIEluIHBhcnRpY3VsYXIsIGlmIGBmdW5jYFxuICogaXMgY2FsbGVkIGFzIGEgbWV0aG9kIG9mIHNvbWUgb2JqZWN0IGFuZCBpZiBgZnVuY2AgaXMgbm90IGFscmVhZHkgYm91bmQsIGluIG9yZGVyIHRvIHByZXNlcnZlIHRoZSBjb250ZXh0XG4gKiBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZSBjb250ZXh0IG9mIHRoZSBvdXRwdXQgZnVuY3Rpb24gaXMgc2V0IHRvIHRoYXQgb2JqZWN0IGFzIHdlbGwuXG4gKlxuICogSWYgdGhlIGlucHV0IGZ1bmN0aW9uIGNhbGxzIGl0cyBjYWxsYmFjayBpbiB0aGUgXCJub2RlIHN0eWxlXCIgKGkuZS4gZmlyc3QgYXJndW1lbnQgdG8gY2FsbGJhY2sgaXNcbiAqIG9wdGlvbmFsIGVycm9yIHBhcmFtZXRlciBzaWduYWxpbmcgd2hldGhlciB0aGUgY2FsbCBmYWlsZWQgb3Igbm90KSwge0BsaW5rIGJpbmROb2RlQ2FsbGJhY2t9XG4gKiBwcm92aWRlcyBjb252ZW5pZW50IGVycm9yIGhhbmRsaW5nIGFuZCBwcm9iYWJseSBpcyBhIGJldHRlciBjaG9pY2UuXG4gKiBgYmluZENhbGxiYWNrYCB3aWxsIHRyZWF0IHN1Y2ggZnVuY3Rpb25zIHRoZSBzYW1lIGFzIGFueSBvdGhlciBhbmQgZXJyb3IgcGFyYW1ldGVyc1xuICogKHdoZXRoZXIgcGFzc2VkIG9yIG5vdCkgd2lsbCBhbHdheXMgYmUgaW50ZXJwcmV0ZWQgYXMgcmVndWxhciBjYWxsYmFjayBhcmd1bWVudC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqICMjIyBDb252ZXJ0IGpRdWVyeSdzIGdldEpTT04gdG8gYW4gT2JzZXJ2YWJsZSBBUElcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBiaW5kQ2FsbGJhY2sgfSBmcm9tICdyeGpzJztcbiAqIGltcG9ydCAqIGFzIGpRdWVyeSBmcm9tICdqcXVlcnknO1xuICpcbiAqIC8vIFN1cHBvc2Ugd2UgaGF2ZSBqUXVlcnkuZ2V0SlNPTignL215L3VybCcsIGNhbGxiYWNrKVxuICogY29uc3QgZ2V0SlNPTkFzT2JzZXJ2YWJsZSA9IGJpbmRDYWxsYmFjayhqUXVlcnkuZ2V0SlNPTik7XG4gKiBjb25zdCByZXN1bHQgPSBnZXRKU09OQXNPYnNlcnZhYmxlKCcvbXkvdXJsJyk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCksIGUgPT4gY29uc29sZS5lcnJvcihlKSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMgUmVjZWl2ZSBhbiBhcnJheSBvZiBhcmd1bWVudHMgcGFzc2VkIHRvIGEgY2FsbGJhY2tcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBiaW5kQ2FsbGJhY2sgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb21lRnVuY3Rpb24gPSAoY2IpID0+IHtcbiAqICAgY2IoNSwgJ3NvbWUgc3RyaW5nJywge3NvbWVQcm9wZXJ0eTogJ3NvbWVWYWx1ZSd9KVxuICogfTtcbiAqXG4gKiBjb25zdCBib3VuZFNvbWVGdW5jdGlvbiA9IGJpbmRDYWxsYmFjayhzb21lRnVuY3Rpb24pO1xuICogYm91bmRTb21lRnVuY3Rpb24oMTIsIDEwKS5zdWJzY3JpYmUodmFsdWVzID0+IHtcbiAqICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gWzIyLCAyXVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMgQ29tcGFyZSBiZWhhdmlvdXIgd2l0aCBhbmQgd2l0aG91dCBhc3luYyBTY2hlZHVsZXJcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBiaW5kQ2FsbGJhY2ssIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogZnVuY3Rpb24gaUNhbGxNeUNhbGxiYWNrU3luY2hyb25vdXNseShjYikge1xuICogICBjYigpO1xuICogfVxuICpcbiAqIGNvbnN0IGJvdW5kU3luY0ZuID0gYmluZENhbGxiYWNrKGlDYWxsTXlDYWxsYmFja1N5bmNocm9ub3VzbHkpO1xuICogY29uc3QgYm91bmRBc3luY0ZuID0gYmluZENhbGxiYWNrKGlDYWxsTXlDYWxsYmFja1N5bmNocm9ub3VzbHksIG51bGwsIGFzeW5jU2NoZWR1bGVyKTtcbiAqXG4gKiBib3VuZFN5bmNGbigpLnN1YnNjcmliZSgoKSA9PiBjb25zb2xlLmxvZygnSSB3YXMgc3luYyEnKSk7XG4gKiBib3VuZEFzeW5jRm4oKS5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ0kgd2FzIGFzeW5jIScpKTtcbiAqIGNvbnNvbGUubG9nKCdUaGlzIGhhcHBlbmVkLi4uJyk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIEkgd2FzIHN5bmMhXG4gKiAvLyBUaGlzIGhhcHBlbmVkLi4uXG4gKiAvLyBJIHdhcyBhc3luYyFcbiAqIGBgYFxuICpcbiAqICMjIyBVc2UgYmluZENhbGxiYWNrIG9uIGFuIG9iamVjdCBtZXRob2RcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBiaW5kQ2FsbGJhY2sgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBib3VuZE1ldGhvZCA9IGJpbmRDYWxsYmFjayhzb21lT2JqZWN0Lm1ldGhvZFdpdGhDYWxsYmFjayk7XG4gKiBib3VuZE1ldGhvZFxuICogICAuY2FsbChzb21lT2JqZWN0KSAvLyBtYWtlIHN1cmUgbWV0aG9kV2l0aENhbGxiYWNrIGhhcyBhY2Nlc3MgdG8gc29tZU9iamVjdFxuICogICAuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYmluZE5vZGVDYWxsYmFja31cbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBBIGZ1bmN0aW9uIHdpdGggYSBjYWxsYmFjayBhcyB0aGUgbGFzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXJdIFRoZSBzY2hlZHVsZXIgb24gd2hpY2ggdG8gc2NoZWR1bGUgdGhlXG4gKiBjYWxsYmFja3MuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi5wYXJhbXM6ICopOiBPYnNlcnZhYmxlfSBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlXG4gKiBPYnNlcnZhYmxlIHRoYXQgZGVsaXZlcnMgdGhlIHNhbWUgdmFsdWVzIHRoZSBjYWxsYmFjayB3b3VsZCBkZWxpdmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZENhbGxiYWNrKFxuICBjYWxsYmFja0Z1bmM6ICguLi5hcmdzOiBbLi4uYW55W10sICguLi5yZXM6IGFueSkgPT4gdm9pZF0pID0+IHZvaWQsXG4gIHJlc3VsdFNlbGVjdG9yPzogKCguLi5hcmdzOiBhbnlbXSkgPT4gYW55KSB8IFNjaGVkdWxlckxpa2UsXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6ICguLi5hcmdzOiBhbnlbXSkgPT4gT2JzZXJ2YWJsZTx1bmtub3duPiB7XG4gIHJldHVybiBiaW5kQ2FsbGJhY2tJbnRlcm5hbHMoZmFsc2UsIGNhbGxiYWNrRnVuYywgcmVzdWx0U2VsZWN0b3IsIHNjaGVkdWxlcik7XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuaW1wb3J0IHsgb2JzZXJ2ZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL29ic2VydmVPbic7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZENhbGxiYWNrSW50ZXJuYWxzKFxuICBpc05vZGVTdHlsZTogYm9vbGVhbixcbiAgY2FsbGJhY2tGdW5jOiBhbnksXG4gIHJlc3VsdFNlbGVjdG9yPzogYW55LFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiAoLi4uYXJnczogYW55W10pID0+IE9ic2VydmFibGU8dW5rbm93bj4ge1xuICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICBzY2hlZHVsZXIgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHVzZXIgcHJvdmlkZWQgYSByZXN1bHQgc2VsZWN0b3IuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgcmV0dXJuIChiaW5kQ2FsbGJhY2tJbnRlcm5hbHMoaXNOb2RlU3R5bGUsIGNhbGxiYWNrRnVuYywgc2NoZWR1bGVyKSBhcyBhbnkpXG4gICAgICAgICAgLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgICAgLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvciBhcyBhbnkpKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYSBzY2hlZHVsZXIgd2FzIHBhc3NlZCwgdXNlIG91ciBgc3Vic2NyaWJlT25gIGFuZCBgb2JzZXJ2ZU9uYCBvcGVyYXRvcnNcbiAgLy8gdG8gY29tcG9zZSB0aGF0IGJlaGF2aW9yIGZvciB0aGUgdXNlci5cbiAgaWYgKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgcmV0dXJuIChiaW5kQ2FsbGJhY2tJbnRlcm5hbHMoaXNOb2RlU3R5bGUsIGNhbGxiYWNrRnVuYykgYXMgYW55KVxuICAgICAgICAuYXBwbHkodGhpcywgYXJncylcbiAgICAgICAgLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyISksIG9ic2VydmVPbihzY2hlZHVsZXIhKSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBhbnlbXSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgLy8gV2UncmUgdXNpbmcgQXN5bmNTdWJqZWN0LCBiZWNhdXNlIGl0IGVtaXRzIHdoZW4gaXQgY29tcGxldGVzLFxuICAgIC8vIGFuZCBpdCB3aWxsIHBsYXkgdGhlIHZhbHVlIHRvIGFsbCBsYXRlLWFycml2aW5nIHN1YnNjcmliZXJzLlxuICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0PGFueT4oKTtcblxuICAgIC8vIElmIHRoaXMgaXMgdHJ1ZSwgdGhlbiB3ZSBoYXZlbid0IGNhbGxlZCBvdXIgZnVuY3Rpb24geWV0LlxuICAgIGxldCB1bmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXIpID0+IHtcbiAgICAgIC8vIEFkZCBvdXIgc3Vic2NyaWJlciB0byB0aGUgc3ViamVjdC5cbiAgICAgIGNvbnN0IHN1YnMgPSBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcblxuICAgICAgaWYgKHVuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgdW5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAvLyBXZSdyZSBnb2luZyB0byBleGVjdXRlIHRoZSBib3VuZCBmdW5jdGlvblxuICAgICAgICAvLyBUaGlzIGJpdCBpcyB0byBzaWduYWwgdGhhdCB3ZSBhcmUgaGl0dGluZyB0aGUgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHkuXG4gICAgICAgIC8vIEJlY2F1c2Ugd2UgZG9uJ3QgaGF2ZSBhbnkgYW50aS1cIlphbGdvXCIgZ3VhcmFudGVlcyB3aXRoIHdoYXRldmVyXG4gICAgICAgIC8vIGZ1bmN0aW9uIHdlIGFyZSBoYW5kZWQsIHdlIHVzZSB0aGlzIGJpdCB0byBmaWd1cmUgb3V0IHdoZXRoZXIgb3Igbm90XG4gICAgICAgIC8vIHdlIGFyZSBnZXR0aW5nIGhpdCBpbiBhIGNhbGxiYWNrIHN5bmNocm9ub3VzbHkgZHVyaW5nIG91ciBjYWxsLlxuICAgICAgICBsZXQgaXNBc3luYyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgdXNlZCB0byBzaWduYWwgdGhhdCB0aGUgY2FsbGJhY2sgY29tcGxldGVkIHN5bmNocm9ub3VzbHkuXG4gICAgICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ2FsbCBvdXIgZnVuY3Rpb24gdGhhdCBoYXMgYSBjYWxsYmFjay4gSWYgYXQgYW55IHRpbWUgZHVyaW5nIHRoaXNcbiAgICAgICAgLy8gY2FsbCwgYW4gZXJyb3IgaXMgdGhyb3duLCBpdCB3aWxsIGJlIGNhdWdodCBieSB0aGUgT2JzZXJ2YWJsZVxuICAgICAgICAvLyBzdWJzY3JpcHRpb24gcHJvY2VzcyBhbmQgc2VudCB0byB0aGUgY29uc3VtZXIuXG4gICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShcbiAgICAgICAgICAvLyBQYXNzIHRoZSBhcHByb3ByaWF0ZSBgdGhpc2AgY29udGV4dC5cbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIC8vIFBhc3MgdGhlIGFyZ3VtZW50cy5cbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICAvLyBBbmQgb3VyIGNhbGxiYWNrIGhhbmRsZXIuXG4gICAgICAgICAgICAoLi4ucmVzdWx0czogYW55W10pID0+IHtcbiAgICAgICAgICAgICAgaWYgKGlzTm9kZVN0eWxlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIG5vZGUgY2FsbGJhY2ssIHNoaWZ0IHRoZSBmaXJzdCB2YWx1ZSBvZmYgb2YgdGhlXG4gICAgICAgICAgICAgICAgLy8gcmVzdWx0cyBhbmQgY2hlY2sgaXQsIGFzIGl0IGlzIHRoZSBlcnJvciBhcmd1bWVudC4gQnkgc2hpZnRpbmcsXG4gICAgICAgICAgICAgICAgLy8gd2UgbGVhdmUgb25seSB0aGUgYXJndW1lbnQocykgd2Ugd2FudCB0byBwYXNzIHRvIHRoZSBjb25zdW1lci5cbiAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSByZXN1bHRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBlcnJvcmVkLCB3ZSBjYW4gc3RvcCBwcm9jZXNzaW5nIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgIC8vIGFzIHRoZXJlJ3Mgbm90aGluZyBlbHNlIHRvIGRvLiBKdXN0IHJldHVybiB0byBlc2NhcGUuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgb25lIGFyZ3VtZW50LCBub3RpZnkgdGhlIGNvbnN1bWVyXG4gICAgICAgICAgICAgIC8vIG9mIGl0IGFzIGEgc2luZ2xlIHZhbHVlLCBvdGhlcndpc2UsIGlmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSwgcGFzc1xuICAgICAgICAgICAgICAvLyB0aGVtIGFzIGFuIGFycmF5LiBOb3RlIHRoYXQgaWYgdGhlcmUgYXJlIG5vIGFyZ3VtZW50cywgYHVuZGVmaW5lZGBcbiAgICAgICAgICAgICAgLy8gd2lsbCBiZSBlbWl0dGVkLlxuICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoMSA8IHJlc3VsdHMubGVuZ3RoID8gcmVzdWx0cyA6IHJlc3VsdHNbMF0pO1xuICAgICAgICAgICAgICAvLyBGbGlwIHRoaXMgZmxhZywgc28gd2Uga25vdyB3ZSBjYW4gY29tcGxldGUgaXQgaW4gdGhlIHN5bmNocm9ub3VzXG4gICAgICAgICAgICAgIC8vIGNhc2UgYmVsb3cuXG4gICAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBub3QgYXN5bmNocm9ub3VzLCB3ZSBuZWVkIHRvIGRlZmVyIHRoZSBgY29tcGxldGVgIGNhbGxcbiAgICAgICAgICAgICAgLy8gdW50aWwgYWZ0ZXIgdGhlIGNhbGwgdG8gdGhlIGZ1bmN0aW9uIGlzIG92ZXIuIFRoaXMgaXMgYmVjYXVzZSBhblxuICAgICAgICAgICAgICAvLyBlcnJvciBjb3VsZCBiZSB0aHJvd24gaW4gdGhlIGZ1bmN0aW9uIGFmdGVyIGl0IGNhbGxzIG91ciBjYWxsYmFjayxcbiAgICAgICAgICAgICAgLy8gYW5kIGlmIHRoYXQgaXMgdGhlIGNhc2UsIGlmIHdlIGNvbXBsZXRlIGhlcmUsIHdlIGFyZSB1bmFibGUgdG8gbm90aWZ5XG4gICAgICAgICAgICAgIC8vIHRoZSBjb25zdW1lciB0aGFuIGFuIGVycm9yIG9jY3VycmVkLlxuICAgICAgICAgICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICAgICAgICAgIHN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICAgIC8vIElmIHdlIGZsaXBwZWQgYGlzQ29tcGxldGVgIGR1cmluZyB0aGUgY2FsbCwgd2UgcmVzb2x2ZWQgc3luY2hyb25vdXNseSxcbiAgICAgICAgLy8gbm90aWZ5IGNvbXBsZXRlLCBiZWNhdXNlIHdlIHNraXBwZWQgaXQgaW4gdGhlIGNhbGxiYWNrIHRvIHdhaXRcbiAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHRoZXJlIHdlcmUgbm8gZXJyb3JzIGR1cmluZyB0aGUgY2FsbC5cbiAgICAgICAgaWYgKGlzQ29tcGxldGUpIHtcbiAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBubyBsb25nZXIgc3luY2hyb25vdXMuIElmIHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgYXQgdGhpcyBwb2ludFxuICAgICAgICAvLyB3ZSBjYW4gbm90aWZ5IGNvbXBsZXRlIG9uIHRoZSBzcG90LlxuICAgICAgICBpc0FzeW5jID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gUmV0dXJuIHRoZSBzdWJzY3JpcHRpb24gZnJvbSBhZGRpbmcgb3VyIHN1YnNjcmliZXIgdG8gdGhlIHN1YmplY3QuXG4gICAgICByZXR1cm4gc3VicztcbiAgICB9KTtcbiAgfTtcbn1cbiIsIi8qIEBwcmV0dGllciAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGJpbmRDYWxsYmFja0ludGVybmFscyB9IGZyb20gJy4vYmluZENhbGxiYWNrSW50ZXJuYWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmROb2RlQ2FsbGJhY2soXG4gIGNhbGxiYWNrRnVuYzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLFxuICByZXN1bHRTZWxlY3RvcjogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6ICguLi5hcmdzOiBhbnlbXSkgPT4gT2JzZXJ2YWJsZTxhbnk+O1xuXG4vLyBhcmdzIGlzIHRoZSBhcmd1bWVudHMgYXJyYXkgYW5kIHdlIHB1c2ggdGhlIGNhbGxiYWNrIG9uIHRoZSByZXN0IHR1cGxlIHNpbmNlIHRoZSByZXN0IHBhcmFtZXRlciBtdXN0IGJlIGxhc3QgKG9ubHkgaXRlbSkgaW4gYSBwYXJhbWV0ZXIgbGlzdFxuZXhwb3J0IGZ1bmN0aW9uIGJpbmROb2RlQ2FsbGJhY2s8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUiBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIGNhbGxiYWNrRnVuYzogKC4uLmFyZ3M6IFsuLi5BLCAoZXJyOiBhbnksIC4uLnJlczogUikgPT4gdm9pZF0pID0+IHZvaWQsXG4gIHNjaGVkdWxlckxpa2U/OiBTY2hlZHVsZXJMaWtlXG4pOiAoLi4uYXJnOiBBKSA9PiBPYnNlcnZhYmxlPFIgZXh0ZW5kcyBbXSA/IHZvaWQgOiBSIGV4dGVuZHMgW2FueV0gPyBSWzBdIDogUj47XG5cbi8qKlxuICogQ29udmVydHMgYSBOb2RlLmpzLXN0eWxlIGNhbGxiYWNrIEFQSSB0byBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhblxuICogT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBqdXN0IGxpa2Uge0BsaW5rIGJpbmRDYWxsYmFja30sIGJ1dCB0aGVcbiAqIGNhbGxiYWNrIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgYGNhbGxiYWNrKGVycm9yLCByZXN1bHQpYC48L3NwYW4+XG4gKlxuICogYGJpbmROb2RlQ2FsbGJhY2tgIGlzIG5vdCBhbiBvcGVyYXRvciBiZWNhdXNlIGl0cyBpbnB1dCBhbmQgb3V0cHV0IGFyZSBub3RcbiAqIE9ic2VydmFibGVzLiBUaGUgaW5wdXQgaXMgYSBmdW5jdGlvbiBgZnVuY2Agd2l0aCBzb21lIHBhcmFtZXRlcnMsIGJ1dCB0aGVcbiAqIGxhc3QgcGFyYW1ldGVyIG11c3QgYmUgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGBmdW5jYCBjYWxscyB3aGVuIGl0IGlzXG4gKiBkb25lLiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgZXhwZWN0ZWQgdG8gZm9sbG93IE5vZGUuanMgY29udmVudGlvbnMsXG4gKiB3aGVyZSB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIGNhbGxiYWNrIGlzIGFuIGVycm9yIG9iamVjdCwgc2lnbmFsaW5nXG4gKiB3aGV0aGVyIGNhbGwgd2FzIHN1Y2Nlc3NmdWwuIElmIHRoYXQgb2JqZWN0IGlzIHBhc3NlZCB0byBjYWxsYmFjaywgaXQgbWVhbnNcbiAqIHNvbWV0aGluZyB3ZW50IHdyb25nLlxuICpcbiAqIFRoZSBvdXRwdXQgb2YgYGJpbmROb2RlQ2FsbGJhY2tgIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgc2FtZVxuICogcGFyYW1ldGVycyBhcyBgZnVuY2AsIGV4Y2VwdCB0aGUgbGFzdCBvbmUgKHRoZSBjYWxsYmFjaykuIFdoZW4gdGhlIG91dHB1dFxuICogZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYXJndW1lbnRzLCBpdCB3aWxsIHJldHVybiBhbiBPYnNlcnZhYmxlLlxuICogSWYgYGZ1bmNgIGNhbGxzIGl0cyBjYWxsYmFjayB3aXRoIGVycm9yIHBhcmFtZXRlciBwcmVzZW50LCBPYnNlcnZhYmxlIHdpbGxcbiAqIGVycm9yIHdpdGggdGhhdCB2YWx1ZSBhcyB3ZWxsLiBJZiBlcnJvciBwYXJhbWV0ZXIgaXMgbm90IHBhc3NlZCwgT2JzZXJ2YWJsZSB3aWxsIGVtaXRcbiAqIHNlY29uZCBwYXJhbWV0ZXIuIElmIHRoZXJlIGFyZSBtb3JlIHBhcmFtZXRlcnMgKHRoaXJkIGFuZCBzbyBvbiksXG4gKiBPYnNlcnZhYmxlIHdpbGwgZW1pdCBhbiBhcnJheSB3aXRoIGFsbCBhcmd1bWVudHMsIGV4Y2VwdCBmaXJzdCBlcnJvciBhcmd1bWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgYGZ1bmNgIHdpbGwgbm90IGJlIGNhbGxlZCBhdCB0aGUgc2FtZSB0aW1lIG91dHB1dCBmdW5jdGlvbiBpcyxcbiAqIGJ1dCByYXRoZXIgd2hlbmV2ZXIgcmVzdWx0aW5nIE9ic2VydmFibGUgaXMgc3Vic2NyaWJlZC4gQnkgZGVmYXVsdCBjYWxsIHRvXG4gKiBgZnVuY2Agd2lsbCBoYXBwZW4gc3luY2hyb25vdXNseSBhZnRlciBzdWJzY3JpcHRpb24sIGJ1dCB0aGF0IGNhbiBiZSBjaGFuZ2VkXG4gKiB3aXRoIHByb3BlciBgc2NoZWR1bGVyYCBwcm92aWRlZCBhcyBvcHRpb25hbCB0aGlyZCBwYXJhbWV0ZXIuIHtAbGluayBTY2hlZHVsZXJMaWtlfVxuICogY2FuIGFsc28gY29udHJvbCB3aGVuIHZhbHVlcyBmcm9tIGNhbGxiYWNrIHdpbGwgYmUgZW1pdHRlZCBieSBPYnNlcnZhYmxlLlxuICogVG8gZmluZCBvdXQgbW9yZSwgY2hlY2sgb3V0IGRvY3VtZW50YXRpb24gZm9yIHtAbGluayBiaW5kQ2FsbGJhY2t9LCB3aGVyZVxuICoge0BsaW5rIFNjaGVkdWxlckxpa2V9IHdvcmtzIGV4YWN0bHkgdGhlIHNhbWUuXG4gKlxuICogQXMgaW4ge0BsaW5rIGJpbmRDYWxsYmFja30sIGNvbnRleHQgKGB0aGlzYCBwcm9wZXJ0eSkgb2YgaW5wdXQgZnVuY3Rpb24gd2lsbCBiZSBzZXQgdG8gY29udGV4dFxuICogb2YgcmV0dXJuZWQgZnVuY3Rpb24sIHdoZW4gaXQgaXMgY2FsbGVkLlxuICpcbiAqIEFmdGVyIE9ic2VydmFibGUgZW1pdHMgdmFsdWUsIGl0IHdpbGwgY29tcGxldGUgaW1tZWRpYXRlbHkuIFRoaXMgbWVhbnNcbiAqIGV2ZW4gaWYgYGZ1bmNgIGNhbGxzIGNhbGxiYWNrIGFnYWluLCB2YWx1ZXMgZnJvbSBzZWNvbmQgYW5kIGNvbnNlY3V0aXZlXG4gKiBjYWxscyB3aWxsIG5ldmVyIGFwcGVhciBvbiB0aGUgc3RyZWFtLiBJZiB5b3UgbmVlZCB0byBoYW5kbGUgZnVuY3Rpb25zXG4gKiB0aGF0IGNhbGwgY2FsbGJhY2tzIG11bHRpcGxlIHRpbWVzLCBjaGVjayBvdXQge0BsaW5rIGZyb21FdmVudH0gb3JcbiAqIHtAbGluayBmcm9tRXZlbnRQYXR0ZXJufSBpbnN0ZWFkLlxuICpcbiAqIE5vdGUgdGhhdCBgYmluZE5vZGVDYWxsYmFja2AgY2FuIGJlIHVzZWQgaW4gbm9uLU5vZGUuanMgZW52aXJvbm1lbnRzIGFzIHdlbGwuXG4gKiBcIk5vZGUuanMtc3R5bGVcIiBjYWxsYmFja3MgYXJlIGp1c3QgYSBjb252ZW50aW9uLCBzbyBpZiB5b3Ugd3JpdGUgZm9yXG4gKiBicm93c2VycyBvciBhbnkgb3RoZXIgZW52aXJvbm1lbnQgYW5kIEFQSSB5b3UgdXNlIGltcGxlbWVudHMgdGhhdCBjYWxsYmFjayBzdHlsZSxcbiAqIGBiaW5kTm9kZUNhbGxiYWNrYCBjYW4gYmUgc2FmZWx5IHVzZWQgb24gdGhhdCBBUEkgZnVuY3Rpb25zIGFzIHdlbGwuXG4gKlxuICogUmVtZW1iZXIgdGhhdCBFcnJvciBvYmplY3QgcGFzc2VkIHRvIGNhbGxiYWNrIGRvZXMgbm90IGhhdmUgdG8gYmUgYW4gaW5zdGFuY2VcbiAqIG9mIEphdmFTY3JpcHQgYnVpbHQtaW4gYEVycm9yYCBvYmplY3QuIEluIGZhY3QsIGl0IGRvZXMgbm90IGV2ZW4gaGF2ZSB0byBhbiBvYmplY3QuXG4gKiBFcnJvciBwYXJhbWV0ZXIgb2YgY2FsbGJhY2sgZnVuY3Rpb24gaXMgaW50ZXJwcmV0ZWQgYXMgXCJwcmVzZW50XCIsIHdoZW4gdmFsdWVcbiAqIG9mIHRoYXQgcGFyYW1ldGVyIGlzIHRydXRoeS4gSXQgY291bGQgYmUsIGZvciBleGFtcGxlLCBub24temVybyBudW1iZXIsIG5vbi1lbXB0eVxuICogc3RyaW5nIG9yIGJvb2xlYW4gYHRydWVgLiBJbiBhbGwgb2YgdGhlc2UgY2FzZXMgcmVzdWx0aW5nIE9ic2VydmFibGUgd291bGQgZXJyb3JcbiAqIHdpdGggdGhhdCB2YWx1ZS4gVGhpcyBtZWFucyB1c3VhbGx5IHJlZ3VsYXIgc3R5bGUgY2FsbGJhY2tzIHdpbGwgZmFpbCB2ZXJ5IG9mdGVuIHdoZW5cbiAqIGBiaW5kTm9kZUNhbGxiYWNrYCBpcyB1c2VkLiBJZiB5b3VyIE9ic2VydmFibGUgZXJyb3JzIG11Y2ggbW9yZSBvZnRlbiB0aGVuIHlvdVxuICogd291bGQgZXhwZWN0LCBjaGVjayBpZiBjYWxsYmFjayByZWFsbHkgaXMgY2FsbGVkIGluIE5vZGUuanMtc3R5bGUgYW5kLCBpZiBub3QsXG4gKiBzd2l0Y2ggdG8ge0BsaW5rIGJpbmRDYWxsYmFja30gaW5zdGVhZC5cbiAqXG4gKiBOb3RlIHRoYXQgZXZlbiBpZiBlcnJvciBwYXJhbWV0ZXIgaXMgdGVjaG5pY2FsbHkgcHJlc2VudCBpbiBjYWxsYmFjaywgYnV0IGl0cyB2YWx1ZVxuICogaXMgZmFsc3ksIGl0IHN0aWxsIHdvbid0IGFwcGVhciBpbiBhcnJheSBlbWl0dGVkIGJ5IE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqICMjIyAgUmVhZCBhIGZpbGUgZnJvbSB0aGUgZmlsZXN5c3RlbSBhbmQgZ2V0IHRoZSBkYXRhIGFzIGFuIE9ic2VydmFibGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG4gKiBjb25zdCByZWFkRmlsZUFzT2JzZXJ2YWJsZSA9IGJpbmROb2RlQ2FsbGJhY2soZnMucmVhZEZpbGUpO1xuICogY29uc3QgcmVzdWx0ID0gcmVhZEZpbGVBc09ic2VydmFibGUoJy4vcm9hZE5hbWVzLnR4dCcsICd1dGY4Jyk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCksIGUgPT4gY29uc29sZS5lcnJvcihlKSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMgVXNlIG9uIGZ1bmN0aW9uIGNhbGxpbmcgY2FsbGJhY2sgd2l0aCBtdWx0aXBsZSBhcmd1bWVudHNcbiAqIGBgYHRzXG4gKiBzb21lRnVuY3Rpb24oKGVyciwgYSwgYikgPT4ge1xuICogICBjb25zb2xlLmxvZyhlcnIpOyAvLyBudWxsXG4gKiAgIGNvbnNvbGUubG9nKGEpOyAvLyA1XG4gKiAgIGNvbnNvbGUubG9nKGIpOyAvLyBcInNvbWUgc3RyaW5nXCJcbiAqIH0pO1xuICogY29uc3QgYm91bmRTb21lRnVuY3Rpb24gPSBiaW5kTm9kZUNhbGxiYWNrKHNvbWVGdW5jdGlvbik7XG4gKiBib3VuZFNvbWVGdW5jdGlvbigpXG4gKiAuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAqICAgY29uc29sZS5sb2codmFsdWUpOyAvLyBbNSwgXCJzb21lIHN0cmluZ1wiXVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMgVXNlIG9uIGZ1bmN0aW9uIGNhbGxpbmcgY2FsbGJhY2sgaW4gcmVndWxhciBzdHlsZVxuICogYGBgdHNcbiAqIHNvbWVGdW5jdGlvbihhID0+IHtcbiAqICAgY29uc29sZS5sb2coYSk7IC8vIDVcbiAqIH0pO1xuICogY29uc3QgYm91bmRTb21lRnVuY3Rpb24gPSBiaW5kTm9kZUNhbGxiYWNrKHNvbWVGdW5jdGlvbik7XG4gKiBib3VuZFNvbWVGdW5jdGlvbigpXG4gKiAuc3Vic2NyaWJlKFxuICogICB2YWx1ZSA9PiB7fSAgICAgICAgICAgICAvLyBuZXZlciBnZXRzIGNhbGxlZFxuICogICBlcnIgPT4gY29uc29sZS5sb2coZXJyKSAvLyA1XG4gKiApO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYmluZENhbGxiYWNrfVxuICogQHNlZSB7QGxpbmsgZnJvbX1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHdpdGggYSBOb2RlLmpzLXN0eWxlIGNhbGxiYWNrIGFzIHRoZSBsYXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcl0gVGhlIHNjaGVkdWxlciBvbiB3aGljaCB0byBzY2hlZHVsZSB0aGVcbiAqIGNhbGxiYWNrcy5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKC4uLnBhcmFtczogKik6IE9ic2VydmFibGV9IEEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGVcbiAqIE9ic2VydmFibGUgdGhhdCBkZWxpdmVycyB0aGUgc2FtZSB2YWx1ZXMgdGhlIE5vZGUuanMgY2FsbGJhY2sgd291bGRcbiAqIGRlbGl2ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kTm9kZUNhbGxiYWNrKFxuICBjYWxsYmFja0Z1bmM6ICguLi5hcmdzOiBbLi4uYW55W10sIChlcnI6IGFueSwgLi4ucmVzOiBhbnkpID0+IHZvaWRdKSA9PiB2b2lkLFxuICByZXN1bHRTZWxlY3Rvcj86ICgoLi4uYXJnczogYW55W10pID0+IGFueSkgfCBTY2hlZHVsZXJMaWtlLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiAoLi4uYXJnczogYW55W10pID0+IE9ic2VydmFibGU8YW55PiB7XG4gIHJldHVybiBiaW5kQ2FsbGJhY2tJbnRlcm5hbHModHJ1ZSwgY2FsbGJhY2tGdW5jLCByZXN1bHRTZWxlY3Rvciwgc2NoZWR1bGVyKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgU2NoZWR1bGVyTGlrZSwgT2JzZXJ2ZWRWYWx1ZU9mLCBPYnNlcnZhYmxlSW5wdXRUdXBsZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFyZ3NBcmdBcnJheU9yT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9hcmdzQXJnQXJyYXlPck9iamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciwgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL3V0aWwvY3JlYXRlT2JqZWN0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgQW55Q2F0Y2hlciB9IGZyb20gJy4uL0FueUNhdGNoZXInO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuXG4vLyBjb21iaW5lTGF0ZXN0KGFueSlcbi8vIFdlIHB1dCB0aGlzIGZpcnN0IGJlY2F1c2Ugd2UgbmVlZCB0byBjYXRjaCBjYXNlcyB3aGVyZSB0aGUgdXNlciBoYXMgc3VwcGxpZWRcbi8vIF9leGFjdGx5IGBhbnlgXyBhcyB0aGUgYXJndW1lbnQuIFNpbmNlIGBhbnlgIGxpdGVyYWxseSBtYXRjaGVzIF9hbnl0aGluZ18sXG4vLyB3ZSBkb24ndCB3YW50IGl0IHRvIHJhbmRvbWx5IGhpdCBvbmUgb2YgdGhlIG90aGVyIHR5cGUgc2lnbmF0dXJlcyBiZWxvdyxcbi8vIGFzIHdlIGhhdmUgbm8gaWRlYSBhdCBidWlsZC10aW1lIHdoYXQgdHlwZSB3ZSBzaG91bGQgYmUgcmV0dXJuaW5nIHdoZW4gZ2l2ZW4gYW4gYW55LlxuXG4vKipcbiAqIFlvdSBoYXZlIHBhc3NlZCBgYW55YCBoZXJlLCB3ZSBjYW4ndCBmaWd1cmUgb3V0IGlmIGl0IGlzXG4gKiBhbiBhcnJheSBvciBhbiBvYmplY3QsIHNvIHlvdSdyZSBnZXR0aW5nIGB1bmtub3duYC4gVXNlIGJldHRlciB0eXBlcy5cbiAqIEBwYXJhbSBhcmcgU29tZXRoaW5nIHR5cGVkIGFzIGBhbnlgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PFQgZXh0ZW5kcyBBbnlDYXRjaGVyPihhcmc6IFQpOiBPYnNlcnZhYmxlPHVua25vd24+O1xuXG4vLyBjb21iaW5lTGF0ZXN0KFthLCBiLCBjXSlcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KHNvdXJjZXM6IFtdKTogT2JzZXJ2YWJsZTxuZXZlcj47XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihzb3VyY2VzOiByZWFkb25seSBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgY29tYmluZUxhdGVzdEFsbGAuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3NjaGVkdWxlci1hcmd1bWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIHNvdXJjZXM6IHJlYWRvbmx5IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0sXG4gIHJlc3VsdFNlbGVjdG9yOiAoLi4udmFsdWVzOiBBKSA9PiBSLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2Vcbik6IE9ic2VydmFibGU8Uj47XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgc291cmNlczogcmVhZG9ubHkgWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSxcbiAgcmVzdWx0U2VsZWN0b3I6ICguLi52YWx1ZXM6IEEpID0+IFJcbik6IE9ic2VydmFibGU8Uj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYGNvbWJpbmVMYXRlc3RBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICBzb3VyY2VzOiByZWFkb25seSBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2Vcbik6IE9ic2VydmFibGU8QT47XG5cbi8vIGNvbWJpbmVMYXRlc3QoYSwgYiwgYylcbi8qKiBAZGVwcmVjYXRlZCBQYXNzIGFuIGFycmF5IG9mIHNvdXJjZXMgaW5zdGVhZC4gVGhlIHJlc3QtcGFyYW1ldGVycyBzaWduYXR1cmUgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9hcnJheS1hcmd1bWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QT47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYGNvbWJpbmVMYXRlc3RBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICAuLi5zb3VyY2VzQW5kUmVzdWx0U2VsZWN0b3JBbmRTY2hlZHVsZXI6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgKC4uLnZhbHVlczogQSkgPT4gUiwgU2NoZWR1bGVyTGlrZV1cbik6IE9ic2VydmFibGU8Uj47XG4vKiogQGRlcHJlY2F0ZWQgUGFzcyBhbiBhcnJheSBvZiBzb3VyY2VzIGluc3RlYWQuIFRoZSByZXN0LXBhcmFtZXRlcnMgc2lnbmF0dXJlIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvYXJyYXktYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICAuLi5zb3VyY2VzQW5kUmVzdWx0U2VsZWN0b3I6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgKC4uLnZhbHVlczogQSkgPT4gUl1cbik6IE9ic2VydmFibGU8Uj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYGNvbWJpbmVMYXRlc3RBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5zb3VyY2VzQW5kU2NoZWR1bGVyOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sIFNjaGVkdWxlckxpa2VdXG4pOiBPYnNlcnZhYmxlPEE+O1xuXG4vLyBjb21iaW5lTGF0ZXN0KHthLCBiLCBjfSlcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KHNvdXJjZXNPYmplY3Q6IHsgW0sgaW4gYW55XTogbmV2ZXIgfSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIE9ic2VydmFibGVJbnB1dDxhbnk+Pj4oXG4gIHNvdXJjZXNPYmplY3Q6IFRcbik6IE9ic2VydmFibGU8eyBbSyBpbiBrZXlvZiBUXTogT2JzZXJ2ZWRWYWx1ZU9mPFRbS10+IH0+O1xuXG4vKipcbiAqIENvbWJpbmVzIG11bHRpcGxlIE9ic2VydmFibGVzIHRvIGNyZWF0ZSBhbiBPYnNlcnZhYmxlIHdob3NlIHZhbHVlcyBhcmVcbiAqIGNhbGN1bGF0ZWQgZnJvbSB0aGUgbGF0ZXN0IHZhbHVlcyBvZiBlYWNoIG9mIGl0cyBpbnB1dCBPYnNlcnZhYmxlcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+V2hlbmV2ZXIgYW55IGlucHV0IE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZSwgaXRcbiAqIGNvbXB1dGVzIGEgZm9ybXVsYSB1c2luZyB0aGUgbGF0ZXN0IHZhbHVlcyBmcm9tIGFsbCB0aGUgaW5wdXRzLCB0aGVuIGVtaXRzXG4gKiB0aGUgb3V0cHV0IG9mIHRoYXQgZm9ybXVsYS48L3NwYW4+XG4gKlxuICogIVtdKGNvbWJpbmVMYXRlc3QucG5nKVxuICpcbiAqIGBjb21iaW5lTGF0ZXN0YCBjb21iaW5lcyB0aGUgdmFsdWVzIGZyb20gYWxsIHRoZSBPYnNlcnZhYmxlcyBwYXNzZWQgaW4gdGhlXG4gKiBvYnNlcnZhYmxlcyBhcnJheS4gVGhpcyBpcyBkb25lIGJ5IHN1YnNjcmliaW5nIHRvIGVhY2ggT2JzZXJ2YWJsZSBpbiBvcmRlciBhbmQsXG4gKiB3aGVuZXZlciBhbnkgT2JzZXJ2YWJsZSBlbWl0cywgY29sbGVjdGluZyBhbiBhcnJheSBvZiB0aGUgbW9zdCByZWNlbnRcbiAqIHZhbHVlcyBmcm9tIGVhY2ggT2JzZXJ2YWJsZS4gU28gaWYgeW91IHBhc3MgYG5gIE9ic2VydmFibGVzIHRvIHRoaXMgb3BlcmF0b3IsXG4gKiB0aGUgcmV0dXJuZWQgT2JzZXJ2YWJsZSB3aWxsIGFsd2F5cyBlbWl0IGFuIGFycmF5IG9mIGBuYCB2YWx1ZXMsIGluIGFuIG9yZGVyXG4gKiBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcmRlciBvZiB0aGUgcGFzc2VkIE9ic2VydmFibGVzICh0aGUgdmFsdWUgZnJvbSB0aGUgZmlyc3QgT2JzZXJ2YWJsZVxuICogd2lsbCBiZSBhdCBpbmRleCAwIG9mIHRoZSBhcnJheSBhbmQgc28gb24pLlxuICpcbiAqIFN0YXRpYyB2ZXJzaW9uIG9mIGBjb21iaW5lTGF0ZXN0YCBhY2NlcHRzIGFuIGFycmF5IG9mIE9ic2VydmFibGVzLiBOb3RlIHRoYXQgYW4gYXJyYXkgb2ZcbiAqIE9ic2VydmFibGVzIGlzIGEgZ29vZCBjaG9pY2UsIGlmIHlvdSBkb24ndCBrbm93IGJlZm9yZWhhbmQgaG93IG1hbnkgT2JzZXJ2YWJsZXNcbiAqIHlvdSB3aWxsIGNvbWJpbmUuIFBhc3NpbmcgYW4gZW1wdHkgYXJyYXkgd2lsbCByZXN1bHQgaW4gYW4gT2JzZXJ2YWJsZSB0aGF0XG4gKiBjb21wbGV0ZXMgaW1tZWRpYXRlbHkuXG4gKlxuICogVG8gZW5zdXJlIHRoZSBvdXRwdXQgYXJyYXkgYWx3YXlzIGhhcyB0aGUgc2FtZSBsZW5ndGgsIGBjb21iaW5lTGF0ZXN0YCB3aWxsXG4gKiBhY3R1YWxseSB3YWl0IGZvciBhbGwgaW5wdXQgT2JzZXJ2YWJsZXMgdG8gZW1pdCBhdCBsZWFzdCBvbmNlLFxuICogYmVmb3JlIGl0IHN0YXJ0cyBlbWl0dGluZyByZXN1bHRzLiBUaGlzIG1lYW5zIGlmIHNvbWUgT2JzZXJ2YWJsZSBlbWl0c1xuICogdmFsdWVzIGJlZm9yZSBvdGhlciBPYnNlcnZhYmxlcyBzdGFydGVkIGVtaXR0aW5nLCBhbGwgdGhlc2UgdmFsdWVzIGJ1dCB0aGUgbGFzdFxuICogd2lsbCBiZSBsb3N0LiBPbiB0aGUgb3RoZXIgaGFuZCwgaWYgc29tZSBPYnNlcnZhYmxlIGRvZXMgbm90IGVtaXQgYSB2YWx1ZSBidXRcbiAqIGNvbXBsZXRlcywgcmVzdWx0aW5nIE9ic2VydmFibGUgd2lsbCBjb21wbGV0ZSBhdCB0aGUgc2FtZSBtb21lbnQgd2l0aG91dFxuICogZW1pdHRpbmcgYW55dGhpbmcsIHNpbmNlIGl0IHdpbGwgbm93IGJlIGltcG9zc2libGUgdG8gaW5jbHVkZSBhIHZhbHVlIGZyb20gdGhlXG4gKiBjb21wbGV0ZWQgT2JzZXJ2YWJsZSBpbiB0aGUgcmVzdWx0aW5nIGFycmF5LiBBbHNvLCBpZiBzb21lIGlucHV0IE9ic2VydmFibGUgZG9lc1xuICogbm90IGVtaXQgYW55IHZhbHVlIGFuZCBuZXZlciBjb21wbGV0ZXMsIGBjb21iaW5lTGF0ZXN0YCB3aWxsIGFsc28gbmV2ZXIgZW1pdFxuICogYW5kIG5ldmVyIGNvbXBsZXRlLCBzaW5jZSwgYWdhaW4sIGl0IHdpbGwgd2FpdCBmb3IgYWxsIHN0cmVhbXMgdG8gZW1pdCBzb21lXG4gKiB2YWx1ZS5cbiAqXG4gKiBJZiBhdCBsZWFzdCBvbmUgT2JzZXJ2YWJsZSB3YXMgcGFzc2VkIHRvIGBjb21iaW5lTGF0ZXN0YCBhbmQgYWxsIHBhc3NlZCBPYnNlcnZhYmxlc1xuICogZW1pdHRlZCBzb21ldGhpbmcsIHRoZSByZXN1bHRpbmcgT2JzZXJ2YWJsZSB3aWxsIGNvbXBsZXRlIHdoZW4gYWxsIGNvbWJpbmVkXG4gKiBzdHJlYW1zIGNvbXBsZXRlLiBTbyBldmVuIGlmIHNvbWUgT2JzZXJ2YWJsZSBjb21wbGV0ZXMsIHRoZSByZXN1bHQgb2ZcbiAqIGBjb21iaW5lTGF0ZXN0YCB3aWxsIHN0aWxsIGVtaXQgdmFsdWVzIHdoZW4gb3RoZXIgT2JzZXJ2YWJsZXMgZG8uIEluIGNhc2VcbiAqIG9mIGEgY29tcGxldGVkIE9ic2VydmFibGUsIGl0cyB2YWx1ZSBmcm9tIG5vdyBvbiB3aWxsIGFsd2F5cyBiZSB0aGUgbGFzdFxuICogZW1pdHRlZCB2YWx1ZS4gT24gdGhlIG90aGVyIGhhbmQsIGlmIGFueSBPYnNlcnZhYmxlIGVycm9ycywgYGNvbWJpbmVMYXRlc3RgXG4gKiB3aWxsIGVycm9yIGltbWVkaWF0ZWx5IGFzIHdlbGwsIGFuZCBhbGwgb3RoZXIgT2JzZXJ2YWJsZXMgd2lsbCBiZSB1bnN1YnNjcmliZWQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBDb21iaW5lIHR3byB0aW1lciBPYnNlcnZhYmxlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB0aW1lciwgY29tYmluZUxhdGVzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGZpcnN0VGltZXIgPSB0aW1lcigwLCAxMDAwKTsgLy8gZW1pdCAwLCAxLCAyLi4uIGFmdGVyIGV2ZXJ5IHNlY29uZCwgc3RhcnRpbmcgZnJvbSBub3dcbiAqIGNvbnN0IHNlY29uZFRpbWVyID0gdGltZXIoNTAwLCAxMDAwKTsgLy8gZW1pdCAwLCAxLCAyLi4uIGFmdGVyIGV2ZXJ5IHNlY29uZCwgc3RhcnRpbmcgMCw1cyBmcm9tIG5vd1xuICogY29uc3QgY29tYmluZWRUaW1lcnMgPSBjb21iaW5lTGF0ZXN0KFtmaXJzdFRpbWVyLCBzZWNvbmRUaW1lcl0pO1xuICogY29tYmluZWRUaW1lcnMuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKiAvLyBMb2dzXG4gKiAvLyBbMCwgMF0gYWZ0ZXIgMC41c1xuICogLy8gWzEsIDBdIGFmdGVyIDFzXG4gKiAvLyBbMSwgMV0gYWZ0ZXIgMS41c1xuICogLy8gWzIsIDFdIGFmdGVyIDJzXG4gKiBgYGBcbiAqXG4gKiBDb21iaW5lIGEgZGljdGlvbmFyeSBvZiBPYnNlcnZhYmxlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGVsYXksIHN0YXJ0V2l0aCwgY29tYmluZUxhdGVzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9ic2VydmFibGVzID0ge1xuICogICBhOiBvZigxKS5waXBlKGRlbGF5KDEwMDApLCBzdGFydFdpdGgoMCkpLFxuICogICBiOiBvZig1KS5waXBlKGRlbGF5KDUwMDApLCBzdGFydFdpdGgoMCkpLFxuICogICBjOiBvZigxMCkucGlwZShkZWxheSgxMDAwMCksIHN0YXJ0V2l0aCgwKSlcbiAqIH07XG4gKiBjb25zdCBjb21iaW5lZCA9IGNvbWJpbmVMYXRlc3Qob2JzZXJ2YWJsZXMpO1xuICogY29tYmluZWQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKiAvLyBMb2dzXG4gKiAvLyB7IGE6IDAsIGI6IDAsIGM6IDAgfSBpbW1lZGlhdGVseVxuICogLy8geyBhOiAxLCBiOiAwLCBjOiAwIH0gYWZ0ZXIgMXNcbiAqIC8vIHsgYTogMSwgYjogNSwgYzogMCB9IGFmdGVyIDVzXG4gKiAvLyB7IGE6IDEsIGI6IDUsIGM6IDEwIH0gYWZ0ZXIgMTBzXG4gKiBgYGBcbiAqXG4gKiBDb21iaW5lIGFuIGFycmF5IG9mIE9ic2VydmFibGVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkZWxheSwgc3RhcnRXaXRoLCBjb21iaW5lTGF0ZXN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgb2JzZXJ2YWJsZXMgPSBbMSwgNSwgMTBdLm1hcChcbiAqICAgbiA9PiBvZihuKS5waXBlKFxuICogICAgIGRlbGF5KG4gKiAxMDAwKSwgLy8gZW1pdCAwIGFuZCB0aGVuIGVtaXQgbiBhZnRlciBuIHNlY29uZHNcbiAqICAgICBzdGFydFdpdGgoMClcbiAqICAgKVxuICogKTtcbiAqIGNvbnN0IGNvbWJpbmVkID0gY29tYmluZUxhdGVzdChvYnNlcnZhYmxlcyk7XG4gKiBjb21iaW5lZC5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpKTtcbiAqIC8vIExvZ3NcbiAqIC8vIFswLCAwLCAwXSBpbW1lZGlhdGVseVxuICogLy8gWzEsIDAsIDBdIGFmdGVyIDFzXG4gKiAvLyBbMSwgNSwgMF0gYWZ0ZXIgNXNcbiAqIC8vIFsxLCA1LCAxMF0gYWZ0ZXIgMTBzXG4gKiBgYGBcbiAqXG4gKiBVc2UgbWFwIG9wZXJhdG9yIHRvIGR5bmFtaWNhbGx5IGNhbGN1bGF0ZSB0aGUgQm9keS1NYXNzIEluZGV4XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBjb21iaW5lTGF0ZXN0LCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB3ZWlnaHQgPSBvZig3MCwgNzIsIDc2LCA3OSwgNzUpO1xuICogY29uc3QgaGVpZ2h0ID0gb2YoMS43NiwgMS43NywgMS43OCk7XG4gKiBjb25zdCBibWkgPSBjb21iaW5lTGF0ZXN0KFt3ZWlnaHQsIGhlaWdodF0pLnBpcGUoXG4gKiAgIG1hcCgoW3csIGhdKSA9PiB3IC8gKGggKiBoKSksXG4gKiApO1xuICogYm1pLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdCTUkgaXMgJyArIHgpKTtcbiAqXG4gKiAvLyBXaXRoIG91dHB1dCB0byBjb25zb2xlOlxuICogLy8gQk1JIGlzIDI0LjIxMjI5MzM4ODQyOTc1M1xuICogLy8gQk1JIGlzIDIzLjkzOTQ4MDk5MjA1MjA5XG4gKiAvLyBCTUkgaXMgMjMuNjcxMjUzNjI5NTkyMjIyXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0QWxsfVxuICogQHNlZSB7QGxpbmsgbWVyZ2V9XG4gKiBAc2VlIHtAbGluayB3aXRoTGF0ZXN0RnJvbX1cbiAqXG4gKiBAcGFyYW0ge09ic2VydmFibGVJbnB1dH0gW29ic2VydmFibGVzXSBBbiBhcnJheSBvZiBpbnB1dCBPYnNlcnZhYmxlcyB0byBjb21iaW5lIHdpdGggZWFjaCBvdGhlci5cbiAqIEFuIGFycmF5IG9mIE9ic2VydmFibGVzIG11c3QgYmUgZ2l2ZW4gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW3Byb2plY3RdIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIHByb2plY3QgdGhlIHZhbHVlcyBmcm9tXG4gKiB0aGUgY29tYmluZWQgbGF0ZXN0IHZhbHVlcyBpbnRvIGEgbmV3IHZhbHVlIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcj1udWxsXSBUaGUge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHVzZSBmb3Igc3Vic2NyaWJpbmcgdG9cbiAqIGVhY2ggaW5wdXQgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgb2YgcHJvamVjdGVkIHZhbHVlcyBmcm9tIHRoZSBtb3N0IHJlY2VudFxuICogdmFsdWVzIGZyb20gZWFjaCBpbnB1dCBPYnNlcnZhYmxlLCBvciBhbiBhcnJheSBvZiB0aGUgbW9zdCByZWNlbnQgdmFsdWVzIGZyb21cbiAqIGVhY2ggaW5wdXQgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+LCBSPiguLi5hcmdzOiBhbnlbXSk6IE9ic2VydmFibGU8Uj4gfCBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPltdPiB7XG4gIGNvbnN0IHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgY29uc3QgcmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcblxuICBjb25zdCB7IGFyZ3M6IG9ic2VydmFibGVzLCBrZXlzIH0gPSBhcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKTtcblxuICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gSWYgbm8gb2JzZXJ2YWJsZXMgYXJlIHBhc3NlZCwgb3Igc29tZW9uZSBoYXMgcGFzc2VkIGFuIGVtcHR5IGFycmF5XG4gICAgLy8gb2Ygb2JzZXJ2YWJsZXMsIG9yIGV2ZW4gYW4gZW1wdHkgb2JqZWN0IFBPSk8sIHdlIG5lZWQgdG8ganVzdFxuICAgIC8vIGNvbXBsZXRlIChFTVBUWSksIGJ1dCB3ZSBoYXZlIHRvIGhvbm9yIHRoZSBzY2hlZHVsZXIgcHJvdmlkZWQgaWYgYW55LlxuICAgIHJldHVybiBmcm9tKFtdLCBzY2hlZHVsZXIgYXMgYW55KTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPltdPihcbiAgICBjb21iaW5lTGF0ZXN0SW5pdChcbiAgICAgIG9ic2VydmFibGVzIGFzIE9ic2VydmFibGVJbnB1dDxPYnNlcnZlZFZhbHVlT2Y8Tz4+W10sXG4gICAgICBzY2hlZHVsZXIsXG4gICAgICBrZXlzXG4gICAgICAgID8gLy8gQSBoYW5kbGVyIGZvciBzY3J1YmJpbmcgdGhlIGFycmF5IG9mIGFyZ3MgaW50byBhIGRpY3Rpb25hcnkuXG4gICAgICAgICAgKHZhbHVlcykgPT4gY3JlYXRlT2JqZWN0KGtleXMsIHZhbHVlcylcbiAgICAgICAgOiAvLyBBIHBhc3N0aHJvdWdoIHRvIGp1c3QgcmV0dXJuIHRoZSBhcnJheVxuICAgICAgICAgIGlkZW50aXR5XG4gICAgKVxuICApO1xuXG4gIHJldHVybiByZXN1bHRTZWxlY3RvciA/IChyZXN1bHQucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSkgYXMgT2JzZXJ2YWJsZTxSPikgOiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0SW5pdChcbiAgb2JzZXJ2YWJsZXM6IE9ic2VydmFibGVJbnB1dDxhbnk+W10sXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UsXG4gIHZhbHVlVHJhbnNmb3JtOiAodmFsdWVzOiBhbnlbXSkgPT4gYW55ID0gaWRlbnRpdHlcbikge1xuICByZXR1cm4gKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55PikgPT4ge1xuICAgIC8vIFRoZSBvdXRlciBzdWJzY3JpcHRpb24uIFdlJ3JlIGNhcHR1cmluZyB0aGlzIGluIGEgZnVuY3Rpb25cbiAgICAvLyBiZWNhdXNlIHdlIG1heSBoYXZlIHRvIHNjaGVkdWxlIGl0LlxuICAgIG1heWJlU2NoZWR1bGUoXG4gICAgICBzY2hlZHVsZXIsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBvYnNlcnZhYmxlcztcbiAgICAgICAgLy8gQSBzdG9yZSBmb3IgdGhlIHZhbHVlcyBlYWNoIG9ic2VydmFibGUgaGFzIGVtaXR0ZWQgc28gZmFyLiBXZSBtYXRjaCBvYnNlcnZhYmxlIHRvIHZhbHVlIG9uIGluZGV4LlxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBjdXJyZW50bHkgYWN0aXZlIHN1YnNjcmlwdGlvbnMsIGFzIHRoZXkgY29tcGxldGUsIHdlIGRlY3JlbWVudCB0aGlzIG51bWJlciB0byBzZWUgaWZcbiAgICAgICAgLy8gd2UgYXJlIGFsbCBkb25lIGNvbWJpbmluZyB2YWx1ZXMsIHNvIHdlIGNhbiBjb21wbGV0ZSB0aGUgcmVzdWx0LlxuICAgICAgICBsZXQgYWN0aXZlID0gbGVuZ3RoO1xuICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGlubmVyIHNvdXJjZXMgdGhhdCBzdGlsbCBoYXZlbid0IGVtaXR0ZWQgdGhlIGZpcnN0IHZhbHVlXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdHJhY2sgdGhpcyBiZWNhdXNlIGFsbCBzb3VyY2VzIG5lZWQgdG8gZW1pdCBvbmUgdmFsdWUgaW4gb3JkZXJcbiAgICAgICAgLy8gdG8gc3RhcnQgZW1pdHRpbmcgdmFsdWVzLlxuICAgICAgICBsZXQgcmVtYWluaW5nRmlyc3RWYWx1ZXMgPSBsZW5ndGg7XG4gICAgICAgIC8vIFRoZSBsb29wIHRvIGtpY2sgb2ZmIHN1YnNjcmlwdGlvbi4gV2UncmUga2V5aW5nIGV2ZXJ5dGhpbmcgb24gaW5kZXggYGlgIHRvIHJlbGF0ZSB0aGUgb2JzZXJ2YWJsZXMgcGFzc2VkXG4gICAgICAgIC8vIGluIHRvIHRoZSBzbG90IGluIHRoZSBvdXRwdXQgYXJyYXkgb3IgdGhlIGtleSBpbiB0aGUgYXJyYXkgb2Yga2V5cyBpbiB0aGUgb3V0cHV0IGRpY3Rpb25hcnkuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtYXliZVNjaGVkdWxlKFxuICAgICAgICAgICAgc2NoZWR1bGVyLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBmcm9tKG9ic2VydmFibGVzW2ldLCBzY2hlZHVsZXIgYXMgYW55KTtcbiAgICAgICAgICAgICAgbGV0IGhhc0ZpcnN0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IGEgdmFsdWUsIHJlY29yZCBpdCBpbiBvdXIgc2V0IG9mIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzRmlyc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IHZhbHVlLCByZWNvcmQgdGhhdC5cbiAgICAgICAgICAgICAgICAgICAgICBoYXNGaXJzdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdGaXJzdFZhbHVlcy0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVtYWluaW5nRmlyc3RWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBXZSdyZSBub3Qgd2FpdGluZyBmb3IgYW55IG1vcmVcbiAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCB2YWx1ZXMsIHNvIHdlIGNhbiBlbWl0IVxuICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZVRyYW5zZm9ybSh2YWx1ZXMuc2xpY2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSBjb21wbGV0ZSB0aGUgcmVzdWx0IGlmIHdlIGhhdmUgbm8gbW9yZSBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAvLyBpbm5lciBvYnNlcnZhYmxlcy5cbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Vic2NyaWJlclxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmVyXG4gICAgKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHNtYWxsIHV0aWxpdHkgdG8gaGFuZGxlIHRoZSBjb3VwbGUgb2YgbG9jYXRpb25zIHdoZXJlIHdlIHdhbnQgdG8gc2NoZWR1bGUgaWYgYSBzY2hlZHVsZXIgd2FzIHByb3ZpZGVkLFxuICogYnV0IHdlIGRvbid0IGlmIHRoZXJlIHdhcyBubyBzY2hlZHVsZXIuXG4gKi9cbmZ1bmN0aW9uIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlIHwgdW5kZWZpbmVkLCBleGVjdXRlOiAoKSA9PiB2b2lkLCBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbikge1xuICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCBleGVjdXRlKTtcbiAgfSBlbHNlIHtcbiAgICBleGVjdXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29uY2F0QWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2NvbmNhdEFsbCc7XG5pbXBvcnQgeyBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQ8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uaW5wdXRzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8VD5dKTogT2JzZXJ2YWJsZTxUW251bWJlcl0+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdDxUIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uaW5wdXRzQW5kU2NoZWR1bGVyOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8VD4sIFNjaGVkdWxlckxpa2VdXG4pOiBPYnNlcnZhYmxlPFRbbnVtYmVyXT47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvdXRwdXQgT2JzZXJ2YWJsZSB3aGljaCBzZXF1ZW50aWFsbHkgZW1pdHMgYWxsIHZhbHVlcyBmcm9tIHRoZSBmaXJzdCBnaXZlblxuICogT2JzZXJ2YWJsZSBhbmQgdGhlbiBtb3ZlcyBvbiB0byB0aGUgbmV4dC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29uY2F0ZW5hdGVzIG11bHRpcGxlIE9ic2VydmFibGVzIHRvZ2V0aGVyIGJ5XG4gKiBzZXF1ZW50aWFsbHkgZW1pdHRpbmcgdGhlaXIgdmFsdWVzLCBvbmUgT2JzZXJ2YWJsZSBhZnRlciB0aGUgb3RoZXIuPC9zcGFuPlxuICpcbiAqICFbXShjb25jYXQucG5nKVxuICpcbiAqIGBjb25jYXRgIGpvaW5zIG11bHRpcGxlIE9ic2VydmFibGVzIHRvZ2V0aGVyLCBieSBzdWJzY3JpYmluZyB0byB0aGVtIG9uZSBhdCBhIHRpbWUgYW5kXG4gKiBtZXJnaW5nIHRoZWlyIHJlc3VsdHMgaW50byB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFlvdSBjYW4gcGFzcyBlaXRoZXIgYW4gYXJyYXkgb2ZcbiAqIE9ic2VydmFibGVzLCBvciBwdXQgdGhlbSBkaXJlY3RseSBhcyBhcmd1bWVudHMuIFBhc3NpbmcgYW4gZW1wdHkgYXJyYXkgd2lsbCByZXN1bHRcbiAqIGluIE9ic2VydmFibGUgdGhhdCBjb21wbGV0ZXMgaW1tZWRpYXRlbHkuXG4gKlxuICogYGNvbmNhdGAgd2lsbCBzdWJzY3JpYmUgdG8gZmlyc3QgaW5wdXQgT2JzZXJ2YWJsZSBhbmQgZW1pdCBhbGwgaXRzIHZhbHVlcywgd2l0aG91dFxuICogY2hhbmdpbmcgb3IgYWZmZWN0aW5nIHRoZW0gaW4gYW55IHdheS4gV2hlbiB0aGF0IE9ic2VydmFibGUgY29tcGxldGVzLCBpdCB3aWxsXG4gKiBzdWJzY3JpYmUgdG8gdGhlbiBuZXh0IE9ic2VydmFibGUgcGFzc2VkIGFuZCwgYWdhaW4sIGVtaXQgaXRzIHZhbHVlcy4gVGhpcyB3aWxsIGJlXG4gKiByZXBlYXRlZCwgdW50aWwgdGhlIG9wZXJhdG9yIHJ1bnMgb3V0IG9mIE9ic2VydmFibGVzLiBXaGVuIGxhc3QgaW5wdXQgT2JzZXJ2YWJsZSBjb21wbGV0ZXMsXG4gKiBgY29uY2F0YCB3aWxsIGNvbXBsZXRlIGFzIHdlbGwuIEF0IGFueSBnaXZlbiBtb21lbnQgb25seSBvbmUgT2JzZXJ2YWJsZSBwYXNzZWQgdG8gb3BlcmF0b3JcbiAqIGVtaXRzIHZhbHVlcy4gSWYgeW91IHdvdWxkIGxpa2UgdG8gZW1pdCB2YWx1ZXMgZnJvbSBwYXNzZWQgT2JzZXJ2YWJsZXMgY29uY3VycmVudGx5LCBjaGVjayBvdXRcbiAqIHtAbGluayBtZXJnZX0gaW5zdGVhZCwgZXNwZWNpYWxseSB3aXRoIG9wdGlvbmFsIGBjb25jdXJyZW50YCBwYXJhbWV0ZXIuIEFzIGEgbWF0dGVyIG9mIGZhY3QsXG4gKiBgY29uY2F0YCBpcyBhbiBlcXVpdmFsZW50IG9mIGBtZXJnZWAgb3BlcmF0b3Igd2l0aCBgY29uY3VycmVudGAgcGFyYW1ldGVyIHNldCB0byBgMWAuXG4gKlxuICogTm90ZSB0aGF0IGlmIHNvbWUgaW5wdXQgT2JzZXJ2YWJsZSBuZXZlciBjb21wbGV0ZXMsIGBjb25jYXRgIHdpbGwgYWxzbyBuZXZlciBjb21wbGV0ZVxuICogYW5kIE9ic2VydmFibGVzIGZvbGxvd2luZyB0aGUgb25lIHRoYXQgZGlkIG5vdCBjb21wbGV0ZSB3aWxsIG5ldmVyIGJlIHN1YnNjcmliZWQuIE9uIHRoZSBvdGhlclxuICogaGFuZCwgaWYgc29tZSBPYnNlcnZhYmxlIHNpbXBseSBjb21wbGV0ZXMgaW1tZWRpYXRlbHkgYWZ0ZXIgaXQgaXMgc3Vic2NyaWJlZCwgaXQgd2lsbCBiZVxuICogaW52aXNpYmxlIGZvciBgY29uY2F0YCwgd2hpY2ggd2lsbCBqdXN0IG1vdmUgb24gdG8gdGhlIG5leHQgT2JzZXJ2YWJsZS5cbiAqXG4gKiBJZiBhbnkgT2JzZXJ2YWJsZSBpbiBjaGFpbiBlcnJvcnMsIGluc3RlYWQgb2YgcGFzc2luZyBjb250cm9sIHRvIHRoZSBuZXh0IE9ic2VydmFibGUsXG4gKiBgY29uY2F0YCB3aWxsIGVycm9yIGltbWVkaWF0ZWx5IGFzIHdlbGwuIE9ic2VydmFibGVzIHRoYXQgd291bGQgYmUgc3Vic2NyaWJlZCBhZnRlclxuICogdGhlIG9uZSB0aGF0IGVtaXR0ZWQgZXJyb3IsIG5ldmVyIHdpbGwuXG4gKlxuICogSWYgeW91IHBhc3MgdG8gYGNvbmNhdGAgdGhlIHNhbWUgT2JzZXJ2YWJsZSBtYW55IHRpbWVzLCBpdHMgc3RyZWFtIG9mIHZhbHVlc1xuICogd2lsbCBiZSBcInJlcGxheWVkXCIgb24gZXZlcnkgc3Vic2NyaXB0aW9uLCB3aGljaCBtZWFucyB5b3UgY2FuIHJlcGVhdCBnaXZlbiBPYnNlcnZhYmxlXG4gKiBhcyBtYW55IHRpbWVzIGFzIHlvdSBsaWtlLiBJZiBwYXNzaW5nIHRoZSBzYW1lIE9ic2VydmFibGUgdG8gYGNvbmNhdGAgMTAwMCB0aW1lcyBiZWNvbWVzIHRlZGlvdXMsXG4gKiB5b3UgY2FuIGFsd2F5cyB1c2Uge0BsaW5rIHJlcGVhdH0uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBDb25jYXRlbmF0ZSBhIHRpbWVyIGNvdW50aW5nIGZyb20gMCB0byAzIHdpdGggYSBzeW5jaHJvbm91cyBzZXF1ZW5jZSBmcm9tIDEgdG8gMTBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIHJhbmdlLCBjb25jYXQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0aW1lciA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg0KSk7XG4gKiBjb25zdCBzZXF1ZW5jZSA9IHJhbmdlKDEsIDEwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNvbmNhdCh0aW1lciwgc2VxdWVuY2UpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyByZXN1bHRzIGluOlxuICogLy8gMCAtMTAwMG1zLT4gMSAtMTAwMG1zLT4gMiAtMTAwMG1zLT4gMyAtaW1tZWRpYXRlLT4gMSAuLi4gMTBcbiAqIGBgYFxuICpcbiAqIENvbmNhdGVuYXRlIDMgT2JzZXJ2YWJsZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIGNvbmNhdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHRpbWVyMSA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSgxMCkpO1xuICogY29uc3QgdGltZXIyID0gaW50ZXJ2YWwoMjAwMCkucGlwZSh0YWtlKDYpKTtcbiAqIGNvbnN0IHRpbWVyMyA9IGludGVydmFsKDUwMCkucGlwZSh0YWtlKDEwKSk7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gY29uY2F0KHRpbWVyMSwgdGltZXIyLCB0aW1lcjMpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyByZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAoUHJpbnRzIHRvIGNvbnNvbGUgc2VxdWVudGlhbGx5KVxuICogLy8gLTEwMDBtcy0+IDAgLTEwMDBtcy0+IDEgLTEwMDBtcy0+IC4uLiA5XG4gKiAvLyAtMjAwMG1zLT4gMCAtMjAwMG1zLT4gMSAtMjAwMG1zLT4gLi4uIDVcbiAqIC8vIC01MDBtcy0+IDAgLTUwMG1zLT4gMSAtNTAwbXMtPiAuLi4gOVxuICogYGBgXG4gKlxuICogQ29uY2F0ZW5hdGUgdGhlIHNhbWUgT2JzZXJ2YWJsZSB0byByZXBlYXQgaXRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIGNvbmNhdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHRpbWVyID0gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDIpKTtcbiAqXG4gKiBjb25jYXQodGltZXIsIHRpbWVyKSAvLyBjb25jYXRlbmF0aW5nIHRoZSBzYW1lIE9ic2VydmFibGUhXG4gKiAgIC5zdWJzY3JpYmUoe1xuICogICAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJy4uLmFuZCBpdCBpcyBkb25lIScpXG4gKiAgIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwIGFmdGVyIDFzXG4gKiAvLyAxIGFmdGVyIDJzXG4gKiAvLyAwIGFmdGVyIDNzXG4gKiAvLyAxIGFmdGVyIDRzXG4gKiAvLyAnLi4uYW5kIGl0IGlzIGRvbmUhJyBhbHNvIGFmdGVyIDRzXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb25jYXRBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXB9XG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXBUb31cbiAqIEBzZWUge0BsaW5rIHN0YXJ0V2l0aH1cbiAqIEBzZWUge0BsaW5rIGVuZFdpdGh9XG4gKlxuICogQHBhcmFtIGFyZ3MgSW5wdXQgT2JzZXJ2YWJsZXMgdG8gY29uY2F0ZW5hdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoLi4uYXJnczogYW55W10pOiBPYnNlcnZhYmxlPHVua25vd24+IHtcbiAgcmV0dXJuIGNvbmNhdEFsbCgpKGZyb20oYXJncywgcG9wU2NoZWR1bGVyKGFyZ3MpKSk7XG59XG4iLCJpbXBvcnQgeyBDb25uZWN0YWJsZSwgT2JzZXJ2YWJsZUlucHV0LCBTdWJqZWN0TGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RhYmxlQ29uZmlnPFQ+IHtcbiAgLyoqXG4gICAqIEEgZmFjdG9yeSBmdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSB0aGUgU3ViamVjdCB0aHJvdWdoIHdoaWNoIHRoZSBzb3VyY2VcbiAgICogaXMgbXVsdGljYXN0LiBCeSBkZWZhdWx0IHRoaXMgY3JlYXRlcyBhIHtAbGluayBTdWJqZWN0fS5cbiAgICovXG4gIGNvbm5lY3RvcjogKCkgPT4gU3ViamVjdExpa2U8VD47XG4gIC8qKlxuICAgKiBJZiB0cnVlLCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCByZXNldCBpbnRlcm5hbCBzdGF0ZSB1cG9uIGRpc2Nvbm5lY3Rpb25cbiAgICogYW5kIHJldHVybiB0byBhIFwiY29sZFwiIHN0YXRlLiBUaGlzIGFsbG93cyB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgdG8gYmVcbiAgICogcmVjb25uZWN0ZWQuXG4gICAqIElmIGZhbHNlLCB1cG9uIGRpc2Nvbm5lY3Rpb24sIHRoZSBjb25uZWN0aW5nIHN1YmplY3Qgd2lsbCByZW1haW4gdGhlXG4gICAqIGNvbm5lY3Rpbmcgc3ViamVjdCwgbWVhbmluZyB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCBub3QgZ28gXCJjb2xkXCIgYWdhaW4sXG4gICAqIGFuZCBzdWJzZXF1ZW50IHJlcGVhdHMgb3IgcmVzdWJzY3JpcHRpb25zIHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhhdCBzYW1lIHN1YmplY3QuXG4gICAqL1xuICByZXNldE9uRGlzY29ubmVjdD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBmb3IgYGNvbm5lY3RhYmxlYC5cbiAqL1xuY29uc3QgREVGQVVMVF9DT05GSUc6IENvbm5lY3RhYmxlQ29uZmlnPHVua25vd24+ID0ge1xuICBjb25uZWN0b3I6ICgpID0+IG5ldyBTdWJqZWN0PHVua25vd24+KCksXG4gIHJlc2V0T25EaXNjb25uZWN0OiB0cnVlLFxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9ic2VydmFibGUgdGhhdCBtdWx0aWNhc3RzIG9uY2UgYGNvbm5lY3QoKWAgaXMgY2FsbGVkIG9uIGl0LlxuICpcbiAqIEBwYXJhbSBzb3VyY2UgVGhlIG9ic2VydmFibGUgc291cmNlIHRvIG1ha2UgY29ubmVjdGFibGUuXG4gKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgYGNvbm5lY3RhYmxlYC5cbiAqIEByZXR1cm5zIEEgXCJjb25uZWN0YWJsZVwiIG9ic2VydmFibGUsIHRoYXQgaGFzIGEgYGNvbm5lY3QoKWAgbWV0aG9kLCB0aGF0IHlvdSBtdXN0IGNhbGwgdG9cbiAqIGNvbm5lY3QgdGhlIHNvdXJjZSB0byBhbGwgY29uc3VtZXJzIHRocm91Z2ggdGhlIHN1YmplY3QgcHJvdmlkZWQgYXMgdGhlIGNvbm5lY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RhYmxlPFQ+KHNvdXJjZTogT2JzZXJ2YWJsZUlucHV0PFQ+LCBjb25maWc6IENvbm5lY3RhYmxlQ29uZmlnPFQ+ID0gREVGQVVMVF9DT05GSUcpOiBDb25uZWN0YWJsZTxUPiB7XG4gIC8vIFRoZSBzdWJzY3JpcHRpb24gcmVwcmVzZW50aW5nIHRoZSBjb25uZWN0aW9uLlxuICBsZXQgY29ubmVjdGlvbjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IHsgY29ubmVjdG9yLCByZXNldE9uRGlzY29ubmVjdCA9IHRydWUgfSA9IGNvbmZpZztcbiAgbGV0IHN1YmplY3QgPSBjb25uZWN0b3IoKTtcblxuICBjb25zdCByZXN1bHQ6IGFueSA9IG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgcmV0dXJuIHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9KTtcblxuICAvLyBEZWZpbmUgdGhlIGBjb25uZWN0YCBmdW5jdGlvbi4gVGhpcyBpcyB3aGF0IHVzZXJzIG11c3QgY2FsbFxuICAvLyBpbiBvcmRlciB0byBcImNvbm5lY3RcIiB0aGUgc291cmNlIHRvIHRoZSBzdWJqZWN0IHRoYXQgaXNcbiAgLy8gbXVsdGljYXN0aW5nIGl0LlxuICByZXN1bHQuY29ubmVjdCA9ICgpID0+IHtcbiAgICBpZiAoIWNvbm5lY3Rpb24gfHwgY29ubmVjdGlvbi5jbG9zZWQpIHtcbiAgICAgIGNvbm5lY3Rpb24gPSBkZWZlcigoKSA9PiBzb3VyY2UpLnN1YnNjcmliZShzdWJqZWN0KTtcbiAgICAgIGlmIChyZXNldE9uRGlzY29ubmVjdCkge1xuICAgICAgICBjb25uZWN0aW9uLmFkZCgoKSA9PiAoc3ViamVjdCA9IGNvbm5lY3RvcigpKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb25uZWN0aW9uO1xuICB9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZlZFZhbHVlT2YsIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgdGhhdCwgb24gc3Vic2NyaWJlLCBjYWxscyBhbiBPYnNlcnZhYmxlIGZhY3RvcnkgdG9cbiAqIG1ha2UgYW4gT2JzZXJ2YWJsZSBmb3IgZWFjaCBuZXcgT2JzZXJ2ZXIuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNyZWF0ZXMgdGhlIE9ic2VydmFibGUgbGF6aWx5LCB0aGF0IGlzLCBvbmx5IHdoZW4gaXRcbiAqIGlzIHN1YnNjcmliZWQuXG4gKiA8L3NwYW4+XG4gKlxuICogIVtdKGRlZmVyLnBuZylcbiAqXG4gKiBgZGVmZXJgIGFsbG93cyB5b3UgdG8gY3JlYXRlIGFuIE9ic2VydmFibGUgb25seSB3aGVuIHRoZSBPYnNlcnZlclxuICogc3Vic2NyaWJlcy4gSXQgd2FpdHMgdW50aWwgYW4gT2JzZXJ2ZXIgc3Vic2NyaWJlcyB0byBpdCwgY2FsbHMgdGhlIGdpdmVuXG4gKiBmYWN0b3J5IGZ1bmN0aW9uIHRvIGdldCBhbiBPYnNlcnZhYmxlIC0tIHdoZXJlIGEgZmFjdG9yeSBmdW5jdGlvbiB0eXBpY2FsbHlcbiAqIGdlbmVyYXRlcyBhIG5ldyBPYnNlcnZhYmxlIC0tIGFuZCBzdWJzY3JpYmVzIHRoZSBPYnNlcnZlciB0byB0aGlzIE9ic2VydmFibGUuXG4gKiBJbiBjYXNlIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgdGhlbiBFTVBUWSBpcyB1c2VkIGFzXG4gKiBPYnNlcnZhYmxlIGluc3RlYWQuIExhc3QgYnV0IG5vdCBsZWFzdCwgYW4gZXhjZXB0aW9uIGR1cmluZyB0aGUgZmFjdG9yeVxuICogZnVuY3Rpb24gY2FsbCBpcyB0cmFuc2ZlcnJlZCB0byB0aGUgT2JzZXJ2ZXIgYnkgY2FsbGluZyBgZXJyb3JgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTdWJzY3JpYmUgdG8gZWl0aGVyIGFuIE9ic2VydmFibGUgb2YgY2xpY2tzIG9yIGFuIE9ic2VydmFibGUgb2YgaW50ZXJ2YWwsIGF0IHJhbmRvbVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBkZWZlciwgZnJvbUV2ZW50LCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrc09ySW50ZXJ2YWwgPSBkZWZlcigoKSA9PiB7XG4gKiAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41XG4gKiAgICAgPyBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpXG4gKiAgICAgOiBpbnRlcnZhbCgxMDAwKTtcbiAqIH0pO1xuICogY2xpY2tzT3JJbnRlcnZhbC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nIGJlaGF2aW9yOlxuICogLy8gSWYgdGhlIHJlc3VsdCBvZiBNYXRoLnJhbmRvbSgpIGlzIGdyZWF0ZXIgdGhhbiAwLjUgaXQgd2lsbCBsaXN0ZW5cbiAqIC8vIGZvciBjbGlja3MgYW55d2hlcmUgb24gdGhlIFwiZG9jdW1lbnRcIjsgd2hlbiBkb2N1bWVudCBpcyBjbGlja2VkIGl0XG4gKiAvLyB3aWxsIGxvZyBhIE1vdXNlRXZlbnQgb2JqZWN0IHRvIHRoZSBjb25zb2xlLiBJZiB0aGUgcmVzdWx0IGlzIGxlc3NcbiAqIC8vIHRoYW4gMC41IGl0IHdpbGwgZW1pdCBhc2NlbmRpbmcgbnVtYmVycywgb25lIGV2ZXJ5IHNlY29uZCgxMDAwbXMpLlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgT2JzZXJ2YWJsZX1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IE9ic2VydmFibGVJbnB1dH0gb2JzZXJ2YWJsZUZhY3RvcnkgVGhlIE9ic2VydmFibGVcbiAqIGZhY3RvcnkgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBlYWNoIE9ic2VydmVyIHRoYXQgc3Vic2NyaWJlcyB0byB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLiBNYXkgYWxzbyByZXR1cm4gYSBQcm9taXNlLCB3aGljaCB3aWxsIGJlIGNvbnZlcnRlZCBvbiB0aGUgZmx5XG4gKiB0byBhbiBPYnNlcnZhYmxlLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSB3aG9zZSBPYnNlcnZlcnMnIHN1YnNjcmlwdGlvbnMgdHJpZ2dlclxuICogYW4gaW52b2NhdGlvbiBvZiB0aGUgZ2l2ZW4gT2JzZXJ2YWJsZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmZXI8UiBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihvYnNlcnZhYmxlRmFjdG9yeTogKCkgPT4gUik6IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPFI+PiB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxPYnNlcnZlZFZhbHVlT2Y8Uj4+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgaW5uZXJGcm9tKG9ic2VydmFibGVGYWN0b3J5KCkpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IHBlcmZvcm1hbmNlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9zY2hlZHVsZXIvcGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlcic7XG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZVByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc2NoZWR1bGVyL2FuaW1hdGlvbkZyYW1lUHJvdmlkZXInO1xuXG4vKipcbiAqIEFuIG9ic2VydmFibGUgb2YgYW5pbWF0aW9uIGZyYW1lc1xuICpcbiAqIEVtaXRzIHRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIHNpbmNlIHN1YnNjcmlwdGlvbiBhbmQgdGhlIHRpbWVzdGFtcCBvbiBlYWNoIGFuaW1hdGlvbiBmcmFtZS5cbiAqIERlZmF1bHRzIHRvIG1pbGxpc2Vjb25kcyBwcm92aWRlZCB0byB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJ3MgY2FsbGJhY2suIERvZXMgbm90IGVuZCBvbiBpdHMgb3duLlxuICpcbiAqIEV2ZXJ5IHN1YnNjcmlwdGlvbiB3aWxsIHN0YXJ0IGEgc2VwYXJhdGUgYW5pbWF0aW9uIGxvb3AuIFNpbmNlIGFuaW1hdGlvbiBmcmFtZXMgYXJlIGFsd2F5cyBzY2hlZHVsZWRcbiAqIGJ5IHRoZSBicm93c2VyIHRvIG9jY3VyIGRpcmVjdGx5IGJlZm9yZSBhIHJlcGFpbnQsIHNjaGVkdWxpbmcgbW9yZSB0aGFuIG9uZSBhbmltYXRpb24gZnJhbWUgc3luY2hyb25vdXNseVxuICogc2hvdWxkIG5vdCBiZSBtdWNoIGRpZmZlcmVudCBvciBoYXZlIG1vcmUgb3ZlcmhlYWQgdGhhbiBsb29waW5nIG92ZXIgYW4gYXJyYXkgb2YgZXZlbnRzIGR1cmluZ1xuICogYSBzaW5nbGUgYW5pbWF0aW9uIGZyYW1lLiBIb3dldmVyLCBpZiBmb3Igc29tZSByZWFzb24gdGhlIGRldmVsb3BlciB3b3VsZCBsaWtlIHRvIGVuc3VyZSB0aGVcbiAqIGV4ZWN1dGlvbiBvZiBhbmltYXRpb24tcmVsYXRlZCBoYW5kbGVycyBhcmUgYWxsIGV4ZWN1dGVkIGR1cmluZyB0aGUgc2FtZSB0YXNrIGJ5IHRoZSBlbmdpbmUsXG4gKiB0aGUgYHNoYXJlYCBvcGVyYXRvciBjYW4gYmUgdXNlZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB1cCBhbmltYXRpb25zIHdpdGggUnhKUy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIFR3ZWVuaW5nIGEgZGl2IHRvIG1vdmUgaXQgb24gdGhlIHNjcmVlblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBhbmltYXRpb25GcmFtZXMsIG1hcCwgdGFrZVdoaWxlLCBlbmRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogZnVuY3Rpb24gdHdlZW4oc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpIHtcbiAqICAgY29uc3QgZGlmZiA9IGVuZCAtIHN0YXJ0O1xuICogICByZXR1cm4gYW5pbWF0aW9uRnJhbWVzKCkucGlwZShcbiAqICAgICAvLyBGaWd1cmUgb3V0IHdoYXQgcGVyY2VudGFnZSBvZiB0aW1lIGhhcyBwYXNzZWRcbiAqICAgICBtYXAoKHsgZWxhcHNlZCB9KSA9PiBlbGFwc2VkIC8gZHVyYXRpb24pLFxuICogICAgIC8vIFRha2UgdGhlIHZlY3RvciB3aGlsZSBsZXNzIHRoYW4gMTAwJVxuICogICAgIHRha2VXaGlsZSh2ID0+IHYgPCAxKSxcbiAqICAgICAvLyBGaW5pc2ggd2l0aCAxMDAlXG4gKiAgICAgZW5kV2l0aCgxKSxcbiAqICAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIHRyYXZlbGVkIGJldHdlZW4gc3RhcnQgYW5kIGVuZFxuICogICAgIG1hcCh2ID0+IHYgKiBkaWZmICsgc3RhcnQpXG4gKiAgICk7XG4gKiB9XG4gKlxuICogLy8gU2V0dXAgYSBkaXYgZm9yIHVzIHRvIG1vdmUgYXJvdW5kXG4gKiBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAqIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gKiBkaXYuc3R5bGUud2lkdGggPSAnNDBweCc7XG4gKiBkaXYuc3R5bGUuaGVpZ2h0ID0gJzQwcHgnO1xuICogZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdsaW1lJztcbiAqIGRpdi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMTBweCwgMCwgMCknO1xuICpcbiAqIHR3ZWVuKDEwLCAyMDAsIDQwMDApLnN1YnNjcmliZSh4ID0+IHtcbiAqICAgZGl2LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgkeyB4IH1weCwgMCwgMClgO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBQcm92aWRpbmcgYSBjdXN0b20gdGltZXN0YW1wIHByb3ZpZGVyXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGFuaW1hdGlvbkZyYW1lcywgVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBBIGN1c3RvbSB0aW1lc3RhbXAgcHJvdmlkZXJcbiAqIGxldCBub3cgPSAwO1xuICogY29uc3QgY3VzdG9tVFNQcm92aWRlcjogVGltZXN0YW1wUHJvdmlkZXIgPSB7XG4gKiAgIG5vdygpIHsgcmV0dXJuIG5vdysrOyB9XG4gKiB9O1xuICpcbiAqIGNvbnN0IHNvdXJjZSQgPSBhbmltYXRpb25GcmFtZXMoY3VzdG9tVFNQcm92aWRlcik7XG4gKlxuICogLy8gTG9nIGluY3JlYXNpbmcgbnVtYmVycyAwLi4uMS4uLjIuLi4gb24gZXZlcnkgYW5pbWF0aW9uIGZyYW1lLlxuICogc291cmNlJC5zdWJzY3JpYmUoKHsgZWxhcHNlZCB9KSA9PiBjb25zb2xlLmxvZyhlbGFwc2VkKSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgQW4gb2JqZWN0IHdpdGggYSBgbm93YCBtZXRob2QgdGhhdCBwcm92aWRlcyBhIG51bWVyaWMgdGltZXN0YW1wXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmltYXRpb25GcmFtZXModGltZXN0YW1wUHJvdmlkZXI/OiBUaW1lc3RhbXBQcm92aWRlcikge1xuICByZXR1cm4gdGltZXN0YW1wUHJvdmlkZXIgPyBhbmltYXRpb25GcmFtZXNGYWN0b3J5KHRpbWVzdGFtcFByb3ZpZGVyKSA6IERFRkFVTFRfQU5JTUFUSU9OX0ZSQU1FUztcbn1cblxuLyoqXG4gKiBEb2VzIHRoZSB3b3JrIG9mIGNyZWF0aW5nIHRoZSBvYnNlcnZhYmxlIGZvciBgYW5pbWF0aW9uRnJhbWVzYC5cbiAqIEBwYXJhbSB0aW1lc3RhbXBQcm92aWRlciBUaGUgdGltZXN0YW1wIHByb3ZpZGVyIHRvIHVzZSB0byBjcmVhdGUgdGhlIG9ic2VydmFibGVcbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uRnJhbWVzRmFjdG9yeSh0aW1lc3RhbXBQcm92aWRlcj86IFRpbWVzdGFtcFByb3ZpZGVyKSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTx7IHRpbWVzdGFtcDogbnVtYmVyOyBlbGFwc2VkOiBudW1iZXIgfT4oKHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBJZiBubyB0aW1lc3RhbXAgcHJvdmlkZXIgaXMgc3BlY2lmaWVkLCB1c2UgcGVyZm9ybWFuY2Uubm93KCkgLSBhcyBpdFxuICAgIC8vIHdpbGwgcmV0dXJuIHRpbWVzdGFtcHMgJ2NvbXBhdGlibGUnIHdpdGggdGhvc2UgcGFzc2VkIHRvIHRoZSBydW5cbiAgICAvLyBjYWxsYmFjayBhbmQgd29uJ3QgYmUgYWZmZWN0ZWQgYnkgTlRQIGFkanVzdG1lbnRzLCBldGMuXG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aW1lc3RhbXBQcm92aWRlciB8fCBwZXJmb3JtYW5jZVRpbWVzdGFtcFByb3ZpZGVyO1xuXG4gICAgLy8gQ2FwdHVyZSB0aGUgc3RhcnQgdGltZSB1cG9uIHN1YnNjcmlwdGlvbiwgYXMgdGhlIHJ1biBjYWxsYmFjayBjYW4gcmVtYWluXG4gICAgLy8gcXVldWVkIGZvciBhIGNvbnNpZGVyYWJsZSBwZXJpb2Qgb2YgdGltZSBhbmQgdGhlIGVsYXBzZWQgdGltZSBzaG91bGRcbiAgICAvLyByZXByZXNlbnQgdGhlIHRpbWUgZWxhcHNlZCBzaW5jZSBzdWJzY3JpcHRpb24gLSBub3QgdGhlIHRpbWUgc2luY2UgdGhlXG4gICAgLy8gZmlyc3QgcmVuZGVyZWQgYW5pbWF0aW9uIGZyYW1lLlxuICAgIGNvbnN0IHN0YXJ0ID0gcHJvdmlkZXIubm93KCk7XG5cbiAgICBsZXQgaWQgPSAwO1xuICAgIGNvbnN0IHJ1biA9ICgpID0+IHtcbiAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgaWQgPSBhbmltYXRpb25GcmFtZVByb3ZpZGVyLnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wOiBET01IaWdoUmVzVGltZVN0YW1wIHwgbnVtYmVyKSA9PiB7XG4gICAgICAgICAgaWQgPSAwO1xuICAgICAgICAgIC8vIFVzZSB0aGUgcHJvdmlkZXIncyB0aW1lc3RhbXAgdG8gY2FsY3VsYXRlIHRoZSBlbGFwc2VkIHRpbWUuIE5vdGUgdGhhdFxuICAgICAgICAgIC8vIHRoaXMgbWVhbnMgLSBpZiB0aGUgY2FsbGVyIGhhc24ndCBwYXNzZWQgYSBwcm92aWRlciAtIHRoYXRcbiAgICAgICAgICAvLyBwZXJmb3JtYW5jZS5ub3coKSB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgdGltZXN0YW1wIHRoYXQgd2FzXG4gICAgICAgICAgLy8gcGFzc2VkIHRvIHRoZSBydW4gY2FsbGJhY2suIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCB0aGUgdGltZXN0YW1wXG4gICAgICAgICAgLy8gcGFzc2VkIHRvIHRoZSBjYWxsYmFjayBjYW4gYmUgZWFybGllciB0aGFuIHRoZSBzdGFydCB0aW1lLCBhcyBpdFxuICAgICAgICAgIC8vIHJlcHJlc2VudHMgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIGJyb3dzZXIgZGVjaWRlZCBpdCB3b3VsZCByZW5kZXIgYW55XG4gICAgICAgICAgLy8gcXVldWVkIGZyYW1lcyAtIGFuZCB0aGF0IHRpbWUgY2FuIGJlIGVhcmxpZXIgdGhlIGNhcHR1cmVkIHN0YXJ0IHRpbWUuXG4gICAgICAgICAgY29uc3Qgbm93ID0gcHJvdmlkZXIubm93KCk7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wUHJvdmlkZXIgPyBub3cgOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICBlbGFwc2VkOiBub3cgLSBzdGFydCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBydW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJ1bigpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpZCkge1xuICAgICAgICBhbmltYXRpb25GcmFtZVByb3ZpZGVyLmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuLyoqXG4gKiBJbiB0aGUgY29tbW9uIGNhc2UsIHdoZXJlIHRoZSB0aW1lc3RhbXAgcHJvdmlkZWQgYnkgdGhlIHJBRiBBUEkgaXMgdXNlZCxcbiAqIHdlIHVzZSB0aGlzIHNoYXJlZCBvYnNlcnZhYmxlIHRvIHJlZHVjZSBvdmVyaGVhZC5cbiAqL1xuY29uc3QgREVGQVVMVF9BTklNQVRJT05fRlJBTUVTID0gYW5pbWF0aW9uRnJhbWVzRmFjdG9yeSgpO1xuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBBIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbm8gaXRlbXMgdG8gdGhlIE9ic2VydmVyIGFuZCBpbW1lZGlhdGVseVxuICogZW1pdHMgYSBjb21wbGV0ZSBub3RpZmljYXRpb24uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkp1c3QgZW1pdHMgJ2NvbXBsZXRlJywgYW5kIG5vdGhpbmcgZWxzZS48L3NwYW4+XG4gKlxuICogIVtdKGVtcHR5LnBuZylcbiAqXG4gKiBBIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgb25seSBlbWl0cyB0aGUgY29tcGxldGUgbm90aWZpY2F0aW9uLiBJdCBjYW4gYmUgdXNlZFxuICogZm9yIGNvbXBvc2luZyB3aXRoIG90aGVyIE9ic2VydmFibGVzLCBzdWNoIGFzIGluIGEge0BsaW5rIG1lcmdlTWFwfS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIExvZyBjb21wbGV0ZSBub3RpZmljYXRpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgRU1QVFkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBFTVBUWS5zdWJzY3JpYmUoe1xuICogICBuZXh0OiAoKSA9PiBjb25zb2xlLmxvZygnTmV4dCcpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpXG4gKiB9KTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyBDb21wbGV0ZSFcbiAqIGBgYFxuICpcbiAqIEVtaXQgdGhlIG51bWJlciA3LCB0aGVuIGNvbXBsZXRlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IEVNUFRZLCBzdGFydFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBFTVBUWS5waXBlKHN0YXJ0V2l0aCg3KSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDdcbiAqIGBgYFxuICpcbiAqIE1hcCBhbmQgZmxhdHRlbiBvbmx5IG9kZCBudW1iZXJzIHRvIHRoZSBzZXF1ZW5jZSBgJ2EnYCwgYCdiJ2AsIGAnYydgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBtZXJnZU1hcCwgb2YsIEVNUFRZIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgaW50ZXJ2YWwkID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCByZXN1bHQgPSBpbnRlcnZhbCQucGlwZShcbiAqICAgbWVyZ2VNYXAoeCA9PiB4ICUgMiA9PT0gMSA/IG9mKCdhJywgJ2InLCAnYycpIDogRU1QVFkpLFxuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nIHRvIHRoZSBjb25zb2xlOlxuICogLy8geCBpcyBlcXVhbCB0byB0aGUgY291bnQgb24gdGhlIGludGVydmFsLCBlLmcuICgwLCAxLCAyLCAzLCAuLi4pXG4gKiAvLyB4IHdpbGwgb2NjdXIgZXZlcnkgMTAwMG1zXG4gKiAvLyBpZiB4ICUgMiBpcyBlcXVhbCB0byAxLCBwcmludCBhLCBiLCBjIChlYWNoIG9uIGl0cyBvd24pXG4gKiAvLyBpZiB4ICUgMiBpcyBub3QgZXF1YWwgdG8gMSwgbm90aGluZyB3aWxsIGJlIG91dHB1dFxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgT2JzZXJ2YWJsZX1cbiAqIEBzZWUge0BsaW5rIE5FVkVSfVxuICogQHNlZSB7QGxpbmsgb2Z9XG4gKiBAc2VlIHtAbGluayB0aHJvd0Vycm9yfVxuICovXG5leHBvcnQgY29uc3QgRU1QVFkgPSBuZXcgT2JzZXJ2YWJsZTxuZXZlcj4oKHN1YnNjcmliZXIpID0+IHN1YnNjcmliZXIuY29tcGxldGUoKSk7XG5cbi8qKlxuICogQHBhcmFtIHNjaGVkdWxlciBBIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIHNjaGVkdWxpbmdcbiAqIHRoZSBlbWlzc2lvbiBvZiB0aGUgY29tcGxldGUgbm90aWZpY2F0aW9uLlxuICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB0aGUge0BsaW5rIEVNUFRZfSBjb25zdGFudCBvciB7QGxpbmsgc2NoZWR1bGVkfSAoZS5nLiBgc2NoZWR1bGVkKFtdLCBzY2hlZHVsZXIpYCkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cblxuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxuZXZlcj4oKHN1YnNjcmliZXIpID0+IHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCkpKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmVkVmFsdWVPZiwgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFyZ3NBcmdBcnJheU9yT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9hcmdzQXJnQXJyYXlPck9iamVjdCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuaW1wb3J0IHsgY3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9jcmVhdGVPYmplY3QnO1xuaW1wb3J0IHsgQW55Q2F0Y2hlciB9IGZyb20gJy4uL0FueUNhdGNoZXInO1xuXG4vLyBmb3JrSm9pbihhbnkpXG4vLyBXZSBwdXQgdGhpcyBmaXJzdCBiZWNhdXNlIHdlIG5lZWQgdG8gY2F0Y2ggY2FzZXMgd2hlcmUgdGhlIHVzZXIgaGFzIHN1cHBsaWVkXG4vLyBfZXhhY3RseSBgYW55YF8gYXMgdGhlIGFyZ3VtZW50LiBTaW5jZSBgYW55YCBsaXRlcmFsbHkgbWF0Y2hlcyBfYW55dGhpbmdfLFxuLy8gd2UgZG9uJ3Qgd2FudCBpdCB0byByYW5kb21seSBoaXQgb25lIG9mIHRoZSBvdGhlciB0eXBlIHNpZ25hdHVyZXMgYmVsb3csXG4vLyBhcyB3ZSBoYXZlIG5vIGlkZWEgYXQgYnVpbGQtdGltZSB3aGF0IHR5cGUgd2Ugc2hvdWxkIGJlIHJldHVybmluZyB3aGVuIGdpdmVuIGFuIGFueS5cblxuLyoqXG4gKiBZb3UgaGF2ZSBwYXNzZWQgYGFueWAgaGVyZSwgd2UgY2FuJ3QgZmlndXJlIG91dCBpZiBpdCBpc1xuICogYW4gYXJyYXkgb3IgYW4gb2JqZWN0LCBzbyB5b3UncmUgZ2V0dGluZyBgdW5rbm93bmAuIFVzZSBiZXR0ZXIgdHlwZXMuXG4gKiBAcGFyYW0gYXJnIFNvbWV0aGluZyB0eXBlZCBhcyBgYW55YFxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW48VCBleHRlbmRzIEFueUNhdGNoZXI+KGFyZzogVCk6IE9ic2VydmFibGU8dW5rbm93bj47XG5cbi8vIGZvcmtKb2luKG51bGwgfCB1bmRlZmluZWQpXG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oc2NoZWR1bGVyOiBudWxsIHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxuZXZlcj47XG5cbi8vIGZvcmtKb2luKFthLCBiLCBjXSlcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbihzb3VyY2VzOiByZWFkb25seSBbXSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KHNvdXJjZXM6IHJlYWRvbmx5IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPYnNlcnZhYmxlPEE+O1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICBzb3VyY2VzOiByZWFkb25seSBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dLFxuICByZXN1bHRTZWxlY3RvcjogKC4uLnZhbHVlczogQSkgPT4gUlxuKTogT2JzZXJ2YWJsZTxSPjtcblxuLy8gZm9ya0pvaW4oYSwgYiwgYylcbi8qKiBAZGVwcmVjYXRlZCBQYXNzIGFuIGFycmF5IG9mIHNvdXJjZXMgaW5zdGVhZC4gVGhlIHJlc3QtcGFyYW1ldGVycyBzaWduYXR1cmUgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9hcnJheS1hcmd1bWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLnNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPYnNlcnZhYmxlPEE+O1xuLyoqIEBkZXByZWNhdGVkIFBhc3MgYW4gYXJyYXkgb2Ygc291cmNlcyBpbnN0ZWFkLiBUaGUgcmVzdC1wYXJhbWV0ZXJzIHNpZ25hdHVyZSB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL2FycmF5LWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW48QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIC4uLnNvdXJjZXNBbmRSZXN1bHRTZWxlY3RvcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCAoLi4udmFsdWVzOiBBKSA9PiBSXVxuKTogT2JzZXJ2YWJsZTxSPjtcblxuLy8gZm9ya0pvaW4oe2EsIGIsIGN9KVxuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luKHNvdXJjZXNPYmplY3Q6IHsgW0sgaW4gYW55XTogbmV2ZXIgfSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4+KFxuICBzb3VyY2VzT2JqZWN0OiBUXG4pOiBPYnNlcnZhYmxlPHsgW0sgaW4ga2V5b2YgVF06IE9ic2VydmVkVmFsdWVPZjxUW0tdPiB9PjtcblxuLyoqXG4gKiBBY2NlcHRzIGFuIGBBcnJheWAgb2Yge0BsaW5rIE9ic2VydmFibGVJbnB1dH0gb3IgYSBkaWN0aW9uYXJ5IGBPYmplY3RgIG9mIHtAbGluayBPYnNlcnZhYmxlSW5wdXR9IGFuZCByZXR1cm5zXG4gKiBhbiB7QGxpbmsgT2JzZXJ2YWJsZX0gdGhhdCBlbWl0cyBlaXRoZXIgYW4gYXJyYXkgb2YgdmFsdWVzIGluIHRoZSBleGFjdCBzYW1lIG9yZGVyIGFzIHRoZSBwYXNzZWQgYXJyYXksXG4gKiBvciBhIGRpY3Rpb25hcnkgb2YgdmFsdWVzIGluIHRoZSBzYW1lIHNoYXBlIGFzIHRoZSBwYXNzZWQgZGljdGlvbmFyeS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+V2FpdCBmb3IgT2JzZXJ2YWJsZXMgdG8gY29tcGxldGUgYW5kIHRoZW4gY29tYmluZSBsYXN0IHZhbHVlcyB0aGV5IGVtaXR0ZWQ7XG4gKiBjb21wbGV0ZSBpbW1lZGlhdGVseSBpZiBhbiBlbXB0eSBhcnJheSBpcyBwYXNzZWQuPC9zcGFuPlxuICpcbiAqICFbXShmb3JrSm9pbi5wbmcpXG4gKlxuICogYGZvcmtKb2luYCBpcyBhbiBvcGVyYXRvciB0aGF0IHRha2VzIGFueSBudW1iZXIgb2YgaW5wdXQgb2JzZXJ2YWJsZXMgd2hpY2ggY2FuIGJlIHBhc3NlZCBlaXRoZXIgYXMgYW4gYXJyYXlcbiAqIG9yIGEgZGljdGlvbmFyeSBvZiBpbnB1dCBvYnNlcnZhYmxlcy4gSWYgbm8gaW5wdXQgb2JzZXJ2YWJsZXMgYXJlIHByb3ZpZGVkIChlLmcuIGFuIGVtcHR5IGFycmF5IGlzIHBhc3NlZCksXG4gKiB0aGVuIHRoZSByZXN1bHRpbmcgc3RyZWFtIHdpbGwgY29tcGxldGUgaW1tZWRpYXRlbHkuXG4gKlxuICogYGZvcmtKb2luYCB3aWxsIHdhaXQgZm9yIGFsbCBwYXNzZWQgb2JzZXJ2YWJsZXMgdG8gZW1pdCBhbmQgY29tcGxldGUgYW5kIHRoZW4gaXQgd2lsbCBlbWl0IGFuIGFycmF5IG9yIGFuIG9iamVjdCB3aXRoIGxhc3RcbiAqIHZhbHVlcyBmcm9tIGNvcnJlc3BvbmRpbmcgb2JzZXJ2YWJsZXMuXG4gKlxuICogSWYgeW91IHBhc3MgYW4gYXJyYXkgb2YgYG5gIG9ic2VydmFibGVzIHRvIHRoZSBvcGVyYXRvciwgdGhlbiB0aGUgcmVzdWx0aW5nXG4gKiBhcnJheSB3aWxsIGhhdmUgYG5gIHZhbHVlcywgd2hlcmUgdGhlIGZpcnN0IHZhbHVlIGlzIHRoZSBsYXN0IG9uZSBlbWl0dGVkIGJ5IHRoZSBmaXJzdCBvYnNlcnZhYmxlLFxuICogc2Vjb25kIHZhbHVlIGlzIHRoZSBsYXN0IG9uZSBlbWl0dGVkIGJ5IHRoZSBzZWNvbmQgb2JzZXJ2YWJsZSBhbmQgc28gb24uXG4gKlxuICogSWYgeW91IHBhc3MgYSBkaWN0aW9uYXJ5IG9mIG9ic2VydmFibGVzIHRvIHRoZSBvcGVyYXRvciwgdGhlbiB0aGUgcmVzdWx0aW5nXG4gKiBvYmplY3RzIHdpbGwgaGF2ZSB0aGUgc2FtZSBrZXlzIGFzIHRoZSBkaWN0aW9uYXJ5IHBhc3NlZCwgd2l0aCB0aGVpciBsYXN0IHZhbHVlcyB0aGV5IGhhdmUgZW1pdHRlZFxuICogbG9jYXRlZCBhdCB0aGUgY29ycmVzcG9uZGluZyBrZXkuXG4gKlxuICogVGhhdCBtZWFucyBgZm9ya0pvaW5gIHdpbGwgbm90IGVtaXQgbW9yZSB0aGFuIG9uY2UgYW5kIGl0IHdpbGwgY29tcGxldGUgYWZ0ZXIgdGhhdC4gSWYgeW91IG5lZWQgdG8gZW1pdCBjb21iaW5lZFxuICogdmFsdWVzIG5vdCBvbmx5IGF0IHRoZSBlbmQgb2YgdGhlIGxpZmVjeWNsZSBvZiBwYXNzZWQgb2JzZXJ2YWJsZXMsIGJ1dCBhbHNvIHRocm91Z2hvdXQgaXQsIHRyeSBvdXQge0BsaW5rIGNvbWJpbmVMYXRlc3R9XG4gKiBvciB7QGxpbmsgemlwfSBpbnN0ZWFkLlxuICpcbiAqIEluIG9yZGVyIGZvciB0aGUgcmVzdWx0aW5nIGFycmF5IHRvIGhhdmUgdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZSBudW1iZXIgb2YgaW5wdXQgb2JzZXJ2YWJsZXMsIHdoZW5ldmVyIGFueSBvZlxuICogdGhlIGdpdmVuIG9ic2VydmFibGVzIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGFueSB2YWx1ZSwgYGZvcmtKb2luYCB3aWxsIGNvbXBsZXRlIGF0IHRoYXQgbW9tZW50IGFzIHdlbGxcbiAqIGFuZCBpdCB3aWxsIG5vdCBlbWl0IGFueXRoaW5nIGVpdGhlciwgZXZlbiBpZiBpdCBhbHJlYWR5IGhhcyBzb21lIGxhc3QgdmFsdWVzIGZyb20gb3RoZXIgb2JzZXJ2YWJsZXMuXG4gKiBDb252ZXJzZWx5LCBpZiB0aGVyZSBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgbmV2ZXIgY29tcGxldGVzLCBgZm9ya0pvaW5gIHdpbGwgbmV2ZXIgY29tcGxldGUgZWl0aGVyLFxuICogdW5sZXNzIGF0IGFueSBwb2ludCBzb21lIG90aGVyIG9ic2VydmFibGUgY29tcGxldGVzIHdpdGhvdXQgZW1pdHRpbmcgYSB2YWx1ZSwgd2hpY2ggYnJpbmdzIHVzIGJhY2sgdG9cbiAqIHRoZSBwcmV2aW91cyBjYXNlLiBPdmVyYWxsLCBpbiBvcmRlciBmb3IgYGZvcmtKb2luYCB0byBlbWl0IGEgdmFsdWUsIGFsbCBnaXZlbiBvYnNlcnZhYmxlc1xuICogaGF2ZSB0byBlbWl0IHNvbWV0aGluZyBhdCBsZWFzdCBvbmNlIGFuZCBjb21wbGV0ZS5cbiAqXG4gKiBJZiBhbnkgZ2l2ZW4gb2JzZXJ2YWJsZSBlcnJvcnMgYXQgc29tZSBwb2ludCwgYGZvcmtKb2luYCB3aWxsIGVycm9yIGFzIHdlbGwgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJlXG4gKiBmcm9tIHRoZSBvdGhlciBvYnNlcnZhYmxlcy5cbiAqXG4gKiBPcHRpb25hbGx5IGBmb3JrSm9pbmAgYWNjZXB0cyBhIGByZXN1bHRTZWxlY3RvcmAgZnVuY3Rpb24sIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB2YWx1ZXMgd2hpY2ggbm9ybWFsbHlcbiAqIHdvdWxkIGxhbmQgaW4gdGhlIGVtaXR0ZWQgYXJyYXkuIFdoYXRldmVyIGlzIHJldHVybmVkIGJ5IHRoZSBgcmVzdWx0U2VsZWN0b3JgLCB3aWxsIGFwcGVhciBpbiB0aGUgb3V0cHV0XG4gKiBvYnNlcnZhYmxlIGluc3RlYWQuIFRoaXMgbWVhbnMgdGhhdCB0aGUgZGVmYXVsdCBgcmVzdWx0U2VsZWN0b3JgIGNhbiBiZSB0aG91Z2h0IG9mIGFzIGEgZnVuY3Rpb24gdGhhdCB0YWtlc1xuICogYWxsIGl0cyBhcmd1bWVudHMgYW5kIHB1dHMgdGhlbSBpbnRvIGFuIGFycmF5LiBOb3RlIHRoYXQgdGhlIGByZXN1bHRTZWxlY3RvcmAgd2lsbCBiZSBjYWxsZWQgb25seVxuICogd2hlbiBgZm9ya0pvaW5gIGlzIHN1cHBvc2VkIHRvIGVtaXQgYSByZXN1bHQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBVc2UgYGZvcmtKb2luYCB3aXRoIGEgZGljdGlvbmFyeSBvZiBvYnNlcnZhYmxlIGlucHV0c1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmb3JrSm9pbiwgb2YsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgb2JzZXJ2YWJsZSA9IGZvcmtKb2luKHtcbiAqICAgZm9vOiBvZigxLCAyLCAzLCA0KSxcbiAqICAgYmFyOiBQcm9taXNlLnJlc29sdmUoOCksXG4gKiAgIGJhejogdGltZXIoNDAwMClcbiAqIH0pO1xuICogb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICogIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ1RoaXMgaXMgaG93IGl0IGVuZHMhJyksXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8geyBmb286IDQsIGJhcjogOCwgYmF6OiAwIH0gYWZ0ZXIgNCBzZWNvbmRzXG4gKiAvLyAnVGhpcyBpcyBob3cgaXQgZW5kcyEnIGltbWVkaWF0ZWx5IGFmdGVyXG4gKiBgYGBcbiAqXG4gKiBVc2UgYGZvcmtKb2luYCB3aXRoIGFuIGFycmF5IG9mIG9ic2VydmFibGUgaW5wdXRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZvcmtKb2luLCBvZiwgdGltZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBvYnNlcnZhYmxlID0gZm9ya0pvaW4oW1xuICogICBvZigxLCAyLCAzLCA0KSxcbiAqICAgUHJvbWlzZS5yZXNvbHZlKDgpLFxuICogICB0aW1lcig0MDAwKVxuICogXSk7XG4gKiBvYnNlcnZhYmxlLnN1YnNjcmliZSh7XG4gKiAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnVGhpcyBpcyBob3cgaXQgZW5kcyEnKSxcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBbNCwgOCwgMF0gYWZ0ZXIgNCBzZWNvbmRzXG4gKiAvLyAnVGhpcyBpcyBob3cgaXQgZW5kcyEnIGltbWVkaWF0ZWx5IGFmdGVyXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0fVxuICogQHNlZSB7QGxpbmsgemlwfVxuICpcbiAqIEBwYXJhbSB7Li4uT2JzZXJ2YWJsZUlucHV0fSBhcmdzIEFueSBudW1iZXIgb2YgT2JzZXJ2YWJsZXMgcHJvdmlkZWQgZWl0aGVyIGFzIGFuIGFycmF5IG9yIGFzIGFuIGFyZ3VtZW50c1xuICogcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBvcGVyYXRvci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtwcm9qZWN0XSBGdW5jdGlvbiB0aGF0IHRha2VzIHZhbHVlcyBlbWl0dGVkIGJ5IGlucHV0IE9ic2VydmFibGVzIGFuZCByZXR1cm5zIHZhbHVlXG4gKiB0aGF0IHdpbGwgYXBwZWFyIGluIHJlc3VsdGluZyBPYnNlcnZhYmxlIGluc3RlYWQgb2YgZGVmYXVsdCBhcnJheS5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IE9ic2VydmFibGUgZW1pdHRpbmcgZWl0aGVyIGFuIGFycmF5IG9mIGxhc3QgdmFsdWVzIGVtaXR0ZWQgYnkgcGFzc2VkIE9ic2VydmFibGVzXG4gKiBvciB2YWx1ZSBmcm9tIHByb2plY3QgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbiguLi5hcmdzOiBhbnlbXSk6IE9ic2VydmFibGU8YW55PiB7XG4gIGNvbnN0IHJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gIGNvbnN0IHsgYXJnczogc291cmNlcywga2V5cyB9ID0gYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncyk7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHNvdXJjZXM7XG4gICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IHJlbWFpbmluZ0NvbXBsZXRpb25zID0gbGVuZ3RoO1xuICAgIGxldCByZW1haW5pbmdFbWlzc2lvbnMgPSBsZW5ndGg7XG4gICAgZm9yIChsZXQgc291cmNlSW5kZXggPSAwOyBzb3VyY2VJbmRleCA8IGxlbmd0aDsgc291cmNlSW5kZXgrKykge1xuICAgICAgbGV0IGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICBpbm5lckZyb20oc291cmNlc1tzb3VyY2VJbmRleF0pLnN1YnNjcmliZShcbiAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVtYWluaW5nRW1pc3Npb25zLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZXNbc291cmNlSW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiByZW1haW5pbmdDb21wbGV0aW9ucy0tLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlbWFpbmluZ0NvbXBsZXRpb25zIHx8ICFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIXJlbWFpbmluZ0VtaXNzaW9ucykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChrZXlzID8gY3JlYXRlT2JqZWN0KGtleXMsIHZhbHVlcykgOiB2YWx1ZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0LnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpIDogcmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBTY2hlZHVsZXJMaWtlLCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb208TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihpbnB1dDogTyk6IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oaW5wdXQ6IE8sIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgZnJvbSBhbiBBcnJheSwgYW4gYXJyYXktbGlrZSBvYmplY3QsIGEgUHJvbWlzZSwgYW4gaXRlcmFibGUgb2JqZWN0LCBvciBhbiBPYnNlcnZhYmxlLWxpa2Ugb2JqZWN0LlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Db252ZXJ0cyBhbG1vc3QgYW55dGhpbmcgdG8gYW4gT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKGZyb20ucG5nKVxuICpcbiAqIGBmcm9tYCBjb252ZXJ0cyB2YXJpb3VzIG90aGVyIG9iamVjdHMgYW5kIGRhdGEgdHlwZXMgaW50byBPYnNlcnZhYmxlcy4gSXQgYWxzbyBjb252ZXJ0cyBhIFByb21pc2UsIGFuIGFycmF5LWxpa2UsIG9yIGFuXG4gKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvSXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYWJsZVwiIHRhcmdldD1cIl9ibGFua1wiPml0ZXJhYmxlPC9hPlxuICogb2JqZWN0IGludG8gYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBpdGVtcyBpbiB0aGF0IHByb21pc2UsIGFycmF5LCBvciBpdGVyYWJsZS4gQSBTdHJpbmcsIGluIHRoaXMgY29udGV4dCwgaXMgdHJlYXRlZFxuICogYXMgYW4gYXJyYXkgb2YgY2hhcmFjdGVycy4gT2JzZXJ2YWJsZS1saWtlIG9iamVjdHMgKGNvbnRhaW5zIGEgZnVuY3Rpb24gbmFtZWQgd2l0aCB0aGUgRVMyMDE1IFN5bWJvbCBmb3IgT2JzZXJ2YWJsZSkgY2FuIGFsc28gYmVcbiAqIGNvbnZlcnRlZCB0aHJvdWdoIHRoaXMgb3BlcmF0b3IuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBDb252ZXJ0cyBhbiBhcnJheSB0byBhbiBPYnNlcnZhYmxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBhcnJheSA9IFsxMCwgMjAsIDMwXTtcbiAqIGNvbnN0IHJlc3VsdCA9IGZyb20oYXJyYXkpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDEwXG4gKiAvLyAyMFxuICogLy8gMzBcbiAqIGBgYFxuICpcbiAqIENvbnZlcnQgYW4gaW5maW5pdGUgaXRlcmFibGUgKGZyb20gYSBnZW5lcmF0b3IpIHRvIGFuIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgdGFrZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGZ1bmN0aW9uKiBnZW5lcmF0ZURvdWJsZXMoc2VlZCkge1xuICogICAgbGV0IGkgPSBzZWVkO1xuICogICAgd2hpbGUgKHRydWUpIHtcbiAqICAgICAgeWllbGQgaTtcbiAqICAgICAgaSA9IDIgKiBpOyAvLyBkb3VibGUgaXRcbiAqICAgIH1cbiAqIH1cbiAqXG4gKiBjb25zdCBpdGVyYXRvciA9IGdlbmVyYXRlRG91YmxlcygzKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGZyb20oaXRlcmF0b3IpLnBpcGUodGFrZSgxMCkpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDNcbiAqIC8vIDZcbiAqIC8vIDEyXG4gKiAvLyAyNFxuICogLy8gNDhcbiAqIC8vIDk2XG4gKiAvLyAxOTJcbiAqIC8vIDM4NFxuICogLy8gNzY4XG4gKiAvLyAxNTM2XG4gKiBgYGBcbiAqXG4gKiBXaXRoIGBhc3luY1NjaGVkdWxlcmBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zb2xlLmxvZygnc3RhcnQnKTtcbiAqXG4gKiBjb25zdCBhcnJheSA9IFsxMCwgMjAsIDMwXTtcbiAqIGNvbnN0IHJlc3VsdCA9IGZyb20oYXJyYXksIGFzeW5jU2NoZWR1bGVyKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIGNvbnNvbGUubG9nKCdlbmQnKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gJ3N0YXJ0J1xuICogLy8gJ2VuZCdcbiAqIC8vIDEwXG4gKiAvLyAyMFxuICogLy8gMzBcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZyb21FdmVudH1cbiAqIEBzZWUge0BsaW5rIGZyb21FdmVudFBhdHRlcm59XG4gKlxuICogQHBhcmFtIHtPYnNlcnZhYmxlSW5wdXQ8VD59IEEgc3Vic2NyaXB0aW9uIG9iamVjdCwgYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLWxpa2UsXG4gKiBhbiBBcnJheSwgYW4gaXRlcmFibGUsIG9yIGFuIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGJlIGNvbnZlcnRlZC5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gQW4gb3B0aW9uYWwge0BsaW5rIFNjaGVkdWxlckxpa2V9IG9uIHdoaWNoIHRvIHNjaGVkdWxlIHRoZSBlbWlzc2lvbiBvZiB2YWx1ZXMuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbTxUPihpbnB1dDogT2JzZXJ2YWJsZUlucHV0PFQ+LCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxUPiB7XG4gIHJldHVybiBzY2hlZHVsZXIgPyBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikgOiBpbm5lckZyb20oaW5wdXQpO1xufVxuIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5cbi8vIFRoZXNlIGNvbnN0YW50cyBhcmUgdXNlZCB0byBjcmVhdGUgaGFuZGxlciByZWdpc3RyeSBmdW5jdGlvbnMgdXNpbmcgYXJyYXkgbWFwcGluZyBiZWxvdy5cbmNvbnN0IG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzID0gWydhZGRMaXN0ZW5lcicsICdyZW1vdmVMaXN0ZW5lciddIGFzIGNvbnN0O1xuY29uc3QgZXZlbnRUYXJnZXRNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInXSBhcyBjb25zdDtcbmNvbnN0IGpxdWVyeU1ldGhvZHMgPSBbJ29uJywgJ29mZiddIGFzIGNvbnN0O1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVTdHlsZUV2ZW50RW1pdHRlciB7XG4gIGFkZExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nIHwgc3ltYm9sLCBoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyKTogdGhpcztcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lOiBzdHJpbmcgfCBzeW1ib2wsIGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIpOiB0aGlzO1xufVxuXG5leHBvcnQgdHlwZSBOb2RlRXZlbnRIYW5kbGVyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG4vLyBGb3IgQVBJcyB0aGF0IGltcGxlbWVudCBgYWRkTGlzdGVuZXJgIGFuZCBgcmVtb3ZlTGlzdGVuZXJgIG1ldGhvZHMgdGhhdCBtYXlcbi8vIG5vdCB1c2UgdGhlIHNhbWUgYXJndW1lbnRzIG9yIHJldHVybiBFdmVudEVtaXR0ZXIgdmFsdWVzXG4vLyBzdWNoIGFzIFJlYWN0IE5hdGl2ZVxuZXhwb3J0IGludGVyZmFjZSBOb2RlQ29tcGF0aWJsZUV2ZW50RW1pdHRlciB7XG4gIGFkZExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyKTogdm9pZCB8IHt9O1xuICByZW1vdmVMaXN0ZW5lcihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogTm9kZUV2ZW50SGFuZGxlcik6IHZvaWQgfCB7fTtcbn1cblxuLy8gVXNlIGhhbmRsZXIgdHlwZXMgbGlrZSB0aG9zZSBpbiBAdHlwZXMvanF1ZXJ5LiBTZWU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRGVmaW5pdGVseVR5cGVkL0RlZmluaXRlbHlUeXBlZC9ibG9iLzg0NzczMWJhMWQ3ZmE2ZGI2YjkxMWMwZTQzYWEwYWZlNTk2ZTc3MjMvdHlwZXMvanF1ZXJ5L21pc2MuZC50cyNMNjM5NVxuZXhwb3J0IGludGVyZmFjZSBKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcjxUQ29udGV4dCwgVD4ge1xuICBvbihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogKHRoaXM6IFRDb250ZXh0LCB0OiBULCAuLi5hcmdzOiBhbnlbXSkgPT4gYW55KTogdm9pZDtcbiAgb2ZmKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiAodGhpczogVENvbnRleHQsIHQ6IFQsIC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50TGlzdGVuZXJPYmplY3Q8RT4ge1xuICBoYW5kbGVFdmVudChldnQ6IEUpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0V2ZW50VGFyZ2V0QWRkUmVtb3ZlPEU+IHtcbiAgYWRkRXZlbnRMaXN0ZW5lcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6ICgoZXZ0OiBFKSA9PiB2b2lkKSB8IEV2ZW50TGlzdGVuZXJPYmplY3Q8RT4gfCBudWxsLFxuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnNcbiAgKTogdm9pZDtcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6ICgoZXZ0OiBFKSA9PiB2b2lkKSB8IEV2ZW50TGlzdGVuZXJPYmplY3Q8RT4gfCBudWxsLFxuICAgIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyB8IGJvb2xlYW5cbiAgKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudExpc3RlbmVyT3B0aW9ucyB7XG4gIGNhcHR1cmU/OiBib29sZWFuO1xuICBwYXNzaXZlPzogYm9vbGVhbjtcbiAgb25jZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgZXh0ZW5kcyBFdmVudExpc3RlbmVyT3B0aW9ucyB7XG4gIG9uY2U/OiBib29sZWFuO1xuICBwYXNzaXZlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxUPih0YXJnZXQ6IEhhc0V2ZW50VGFyZ2V0QWRkUmVtb3ZlPFQ+IHwgQXJyYXlMaWtlPEhhc0V2ZW50VGFyZ2V0QWRkUmVtb3ZlPFQ+PiwgZXZlbnROYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxULCBSPihcbiAgdGFyZ2V0OiBIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxUPiB8IEFycmF5TGlrZTxIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxUPj4sXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICByZXN1bHRTZWxlY3RvcjogKGV2ZW50OiBUKSA9PiBSXG4pOiBPYnNlcnZhYmxlPFI+O1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxUPihcbiAgdGFyZ2V0OiBIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxUPiB8IEFycmF5TGlrZTxIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxUPj4sXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICBvcHRpb25zOiBFdmVudExpc3RlbmVyT3B0aW9uc1xuKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VCwgUj4oXG4gIHRhcmdldDogSGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8VD4gfCBBcnJheUxpa2U8SGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8VD4+LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgb3B0aW9uczogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4gIHJlc3VsdFNlbGVjdG9yOiAoZXZlbnQ6IFQpID0+IFJcbik6IE9ic2VydmFibGU8Uj47XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0OiBOb2RlU3R5bGVFdmVudEVtaXR0ZXIgfCBBcnJheUxpa2U8Tm9kZVN0eWxlRXZlbnRFbWl0dGVyPiwgZXZlbnROYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHVua25vd24+O1xuLyoqIEBkZXByZWNhdGVkIERvIG5vdCBzcGVjaWZ5IGV4cGxpY2l0IHR5cGUgcGFyYW1ldGVycy4gU2lnbmF0dXJlcyB3aXRoIHR5cGUgcGFyYW1ldGVycyB0aGF0IGNhbm5vdCBiZSBpbmZlcnJlZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFQ+KHRhcmdldDogTm9kZVN0eWxlRXZlbnRFbWl0dGVyIHwgQXJyYXlMaWtlPE5vZGVTdHlsZUV2ZW50RW1pdHRlcj4sIGV2ZW50TmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8Uj4oXG4gIHRhcmdldDogTm9kZVN0eWxlRXZlbnRFbWl0dGVyIHwgQXJyYXlMaWtlPE5vZGVTdHlsZUV2ZW50RW1pdHRlcj4sXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICByZXN1bHRTZWxlY3RvcjogKC4uLmFyZ3M6IGFueVtdKSA9PiBSXG4pOiBPYnNlcnZhYmxlPFI+O1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KFxuICB0YXJnZXQ6IE5vZGVDb21wYXRpYmxlRXZlbnRFbWl0dGVyIHwgQXJyYXlMaWtlPE5vZGVDb21wYXRpYmxlRXZlbnRFbWl0dGVyPixcbiAgZXZlbnROYW1lOiBzdHJpbmdcbik6IE9ic2VydmFibGU8dW5rbm93bj47XG4vKiogQGRlcHJlY2F0ZWQgRG8gbm90IHNwZWNpZnkgZXhwbGljaXQgdHlwZSBwYXJhbWV0ZXJzLiBTaWduYXR1cmVzIHdpdGggdHlwZSBwYXJhbWV0ZXJzIHRoYXQgY2Fubm90IGJlIGluZmVycmVkIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VD4odGFyZ2V0OiBOb2RlQ29tcGF0aWJsZUV2ZW50RW1pdHRlciB8IEFycmF5TGlrZTxOb2RlQ29tcGF0aWJsZUV2ZW50RW1pdHRlcj4sIGV2ZW50TmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8Uj4oXG4gIHRhcmdldDogTm9kZUNvbXBhdGlibGVFdmVudEVtaXR0ZXIgfCBBcnJheUxpa2U8Tm9kZUNvbXBhdGlibGVFdmVudEVtaXR0ZXI+LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgcmVzdWx0U2VsZWN0b3I6ICguLi5hcmdzOiBhbnlbXSkgPT4gUlxuKTogT2JzZXJ2YWJsZTxSPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxUPihcbiAgdGFyZ2V0OiBKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcjxhbnksIFQ+IHwgQXJyYXlMaWtlPEpRdWVyeVN0eWxlRXZlbnRFbWl0dGVyPGFueSwgVD4+LFxuICBldmVudE5hbWU6IHN0cmluZ1xuKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VCwgUj4oXG4gIHRhcmdldDogSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXI8YW55LCBUPiB8IEFycmF5TGlrZTxKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcjxhbnksIFQ+PixcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIHJlc3VsdFNlbGVjdG9yOiAodmFsdWU6IFQsIC4uLmFyZ3M6IGFueVtdKSA9PiBSXG4pOiBPYnNlcnZhYmxlPFI+O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgY29taW5nIGZyb20gdGhlXG4gKiBnaXZlbiBldmVudCB0YXJnZXQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNyZWF0ZXMgYW4gT2JzZXJ2YWJsZSBmcm9tIERPTSBldmVudHMsIG9yIE5vZGUuanNcbiAqIEV2ZW50RW1pdHRlciBldmVudHMgb3Igb3RoZXJzLjwvc3Bhbj5cbiAqXG4gKiAhW10oZnJvbUV2ZW50LnBuZylcbiAqXG4gKiBgZnJvbUV2ZW50YCBhY2NlcHRzIGFzIGEgZmlyc3QgYXJndW1lbnQgZXZlbnQgdGFyZ2V0LCB3aGljaCBpcyBhbiBvYmplY3Qgd2l0aCBtZXRob2RzXG4gKiBmb3IgcmVnaXN0ZXJpbmcgZXZlbnQgaGFuZGxlciBmdW5jdGlvbnMuIEFzIGEgc2Vjb25kIGFyZ3VtZW50IGl0IHRha2VzIHN0cmluZyB0aGF0IGluZGljYXRlc1xuICogdHlwZSBvZiBldmVudCB3ZSB3YW50IHRvIGxpc3RlbiBmb3IuIGBmcm9tRXZlbnRgIHN1cHBvcnRzIHNlbGVjdGVkIHR5cGVzIG9mIGV2ZW50IHRhcmdldHMsXG4gKiB3aGljaCBhcmUgZGVzY3JpYmVkIGluIGRldGFpbCBiZWxvdy4gSWYgeW91ciBldmVudCB0YXJnZXQgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvbmVzIGxpc3RlZCxcbiAqIHlvdSBzaG91bGQgdXNlIHtAbGluayBmcm9tRXZlbnRQYXR0ZXJufSwgd2hpY2ggY2FuIGJlIHVzZWQgb24gYXJiaXRyYXJ5IEFQSXMuXG4gKiBXaGVuIGl0IGNvbWVzIHRvIEFQSXMgc3VwcG9ydGVkIGJ5IGBmcm9tRXZlbnRgLCB0aGVpciBtZXRob2RzIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGV2ZW50XG4gKiBoYW5kbGVyIGZ1bmN0aW9ucyBoYXZlIGRpZmZlcmVudCBuYW1lcywgYnV0IHRoZXkgYWxsIGFjY2VwdCBhIHN0cmluZyBkZXNjcmliaW5nIGV2ZW50IHR5cGVcbiAqIGFuZCBmdW5jdGlvbiBpdHNlbGYsIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIHNhaWQgZXZlbnQgaGFwcGVucy5cbiAqXG4gKiBFdmVyeSB0aW1lIHJlc3VsdGluZyBPYnNlcnZhYmxlIGlzIHN1YnNjcmliZWQsIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb24gd2lsbCBiZSByZWdpc3RlcmVkXG4gKiB0byBldmVudCB0YXJnZXQgb24gZ2l2ZW4gZXZlbnQgdHlwZS4gV2hlbiB0aGF0IGV2ZW50IGZpcmVzLCB2YWx1ZVxuICogcGFzc2VkIGFzIGEgZmlyc3QgYXJndW1lbnQgdG8gcmVnaXN0ZXJlZCBmdW5jdGlvbiB3aWxsIGJlIGVtaXR0ZWQgYnkgb3V0cHV0IE9ic2VydmFibGUuXG4gKiBXaGVuIE9ic2VydmFibGUgaXMgdW5zdWJzY3JpYmVkLCBmdW5jdGlvbiB3aWxsIGJlIHVucmVnaXN0ZXJlZCBmcm9tIGV2ZW50IHRhcmdldC5cbiAqXG4gKiBOb3RlIHRoYXQgaWYgZXZlbnQgdGFyZ2V0IGNhbGxzIHJlZ2lzdGVyZWQgZnVuY3Rpb24gd2l0aCBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBzZWNvbmRcbiAqIGFuZCBmb2xsb3dpbmcgYXJndW1lbnRzIHdpbGwgbm90IGFwcGVhciBpbiByZXN1bHRpbmcgc3RyZWFtLiBJbiBvcmRlciB0byBnZXQgYWNjZXNzIHRvIHRoZW0sXG4gKiB5b3UgY2FuIHBhc3MgdG8gYGZyb21FdmVudGAgb3B0aW9uYWwgcHJvamVjdCBmdW5jdGlvbiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBhbGwgYXJndW1lbnRzXG4gKiBwYXNzZWQgdG8gZXZlbnQgaGFuZGxlci4gT3V0cHV0IE9ic2VydmFibGUgd2lsbCB0aGVuIGVtaXQgdmFsdWUgcmV0dXJuZWQgYnkgcHJvamVjdCBmdW5jdGlvbixcbiAqIGluc3RlYWQgb2YgdGhlIHVzdWFsIHZhbHVlLlxuICpcbiAqIFJlbWVtYmVyIHRoYXQgZXZlbnQgdGFyZ2V0cyBsaXN0ZWQgYmVsb3cgYXJlIGNoZWNrZWQgdmlhIGR1Y2sgdHlwaW5nLiBJdCBtZWFucyB0aGF0XG4gKiBubyBtYXR0ZXIgd2hhdCBraW5kIG9mIG9iamVjdCB5b3UgaGF2ZSBhbmQgbm8gbWF0dGVyIHdoYXQgZW52aXJvbm1lbnQgeW91IHdvcmsgaW4sXG4gKiB5b3UgY2FuIHNhZmVseSB1c2UgYGZyb21FdmVudGAgb24gdGhhdCBvYmplY3QgaWYgaXQgZXhwb3NlcyBkZXNjcmliZWQgbWV0aG9kcyAocHJvdmlkZWRcbiAqIG9mIGNvdXJzZSB0aGV5IGJlaGF2ZSBhcyB3YXMgZGVzY3JpYmVkIGFib3ZlKS4gU28gZm9yIGV4YW1wbGUgaWYgTm9kZS5qcyBsaWJyYXJ5IGV4cG9zZXNcbiAqIGV2ZW50IHRhcmdldCB3aGljaCBoYXMgdGhlIHNhbWUgbWV0aG9kIG5hbWVzIGFzIERPTSBFdmVudFRhcmdldCwgYGZyb21FdmVudGAgaXMgc3RpbGxcbiAqIGEgZ29vZCBjaG9pY2UuXG4gKlxuICogSWYgdGhlIEFQSSB5b3UgdXNlIGlzIG1vcmUgY2FsbGJhY2sgdGhlbiBldmVudCBoYW5kbGVyIG9yaWVudGVkIChzdWJzY3JpYmVkXG4gKiBjYWxsYmFjayBmdW5jdGlvbiBmaXJlcyBvbmx5IG9uY2UgYW5kIHRodXMgdGhlcmUgaXMgbm8gbmVlZCB0byBtYW51YWxseVxuICogdW5yZWdpc3RlciBpdCksIHlvdSBzaG91bGQgdXNlIHtAbGluayBiaW5kQ2FsbGJhY2t9IG9yIHtAbGluayBiaW5kTm9kZUNhbGxiYWNrfVxuICogaW5zdGVhZC5cbiAqXG4gKiBgZnJvbUV2ZW50YCBzdXBwb3J0cyBmb2xsb3dpbmcgdHlwZXMgb2YgZXZlbnQgdGFyZ2V0czpcbiAqXG4gKiAqKkRPTSBFdmVudFRhcmdldCoqXG4gKlxuICogVGhpcyBpcyBhbiBvYmplY3Qgd2l0aCBgYWRkRXZlbnRMaXN0ZW5lcmAgYW5kIGByZW1vdmVFdmVudExpc3RlbmVyYCBtZXRob2RzLlxuICpcbiAqIEluIHRoZSBicm93c2VyLCBgYWRkRXZlbnRMaXN0ZW5lcmAgYWNjZXB0cyAtIGFwYXJ0IGZyb20gZXZlbnQgdHlwZSBzdHJpbmcgYW5kIGV2ZW50XG4gKiBoYW5kbGVyIGZ1bmN0aW9uIGFyZ3VtZW50cyAtIG9wdGlvbmFsIHRoaXJkIHBhcmFtZXRlciwgd2hpY2ggaXMgZWl0aGVyIGFuIG9iamVjdCBvciBib29sZWFuLFxuICogYm90aCB1c2VkIGZvciBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gaG93IGFuZCB3aGVuIHBhc3NlZCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZC4gV2hlblxuICogYGZyb21FdmVudGAgaXMgdXNlZCB3aXRoIGV2ZW50IHRhcmdldCBvZiB0aGF0IHR5cGUsIHlvdSBjYW4gcHJvdmlkZSB0aGlzIHZhbHVlc1xuICogYXMgdGhpcmQgcGFyYW1ldGVyIGFzIHdlbGwuXG4gKlxuICogKipOb2RlLmpzIEV2ZW50RW1pdHRlcioqXG4gKlxuICogQW4gb2JqZWN0IHdpdGggYGFkZExpc3RlbmVyYCBhbmQgYHJlbW92ZUxpc3RlbmVyYCBtZXRob2RzLlxuICpcbiAqICoqSlF1ZXJ5LXN0eWxlIGV2ZW50IHRhcmdldCoqXG4gKlxuICogQW4gb2JqZWN0IHdpdGggYG9uYCBhbmQgYG9mZmAgbWV0aG9kc1xuICpcbiAqICoqRE9NIE5vZGVMaXN0KipcbiAqXG4gKiBMaXN0IG9mIERPTSBOb2RlcywgcmV0dXJuZWQgZm9yIGV4YW1wbGUgYnkgYGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGxgIG9yIGBOb2RlLmNoaWxkTm9kZXNgLlxuICpcbiAqIEFsdGhvdWdoIHRoaXMgY29sbGVjdGlvbiBpcyBub3QgZXZlbnQgdGFyZ2V0IGluIGl0c2VsZiwgYGZyb21FdmVudGAgd2lsbCBpdGVyYXRlIG92ZXIgYWxsIE5vZGVzXG4gKiBpdCBjb250YWlucyBhbmQgaW5zdGFsbCBldmVudCBoYW5kbGVyIGZ1bmN0aW9uIGluIGV2ZXJ5IG9mIHRoZW0uIFdoZW4gcmV0dXJuZWQgT2JzZXJ2YWJsZVxuICogaXMgdW5zdWJzY3JpYmVkLCBmdW5jdGlvbiB3aWxsIGJlIHJlbW92ZWQgZnJvbSBhbGwgTm9kZXMuXG4gKlxuICogKipET00gSHRtbENvbGxlY3Rpb24qKlxuICpcbiAqIEp1c3QgYXMgaW4gY2FzZSBvZiBOb2RlTGlzdCBpdCBpcyBhIGNvbGxlY3Rpb24gb2YgRE9NIG5vZGVzLiBIZXJlIGFzIHdlbGwgZXZlbnQgaGFuZGxlciBmdW5jdGlvbiBpc1xuICogaW5zdGFsbGVkIGFuZCByZW1vdmVkIGluIGVhY2ggb2YgZWxlbWVudHMuXG4gKlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRW1pdCBjbGlja3MgaGFwcGVuaW5nIG9uIHRoZSBET00gZG9jdW1lbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNsaWNrcy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbjpcbiAqIC8vIE1vdXNlRXZlbnQgb2JqZWN0IGxvZ2dlZCB0byBjb25zb2xlIGV2ZXJ5IHRpbWUgYSBjbGlja1xuICogLy8gb2NjdXJzIG9uIHRoZSBkb2N1bWVudC5cbiAqIGBgYFxuICpcbiAqIFVzZSBgYWRkRXZlbnRMaXN0ZW5lcmAgd2l0aCBjYXB0dXJlIG9wdGlvblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3NJbkRvY3VtZW50ID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCB0cnVlKTsgLy8gbm90ZSBvcHRpb25hbCBjb25maWd1cmF0aW9uIHBhcmFtZXRlclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIGFkZEV2ZW50TGlzdGVuZXJcbiAqIGNvbnN0IGNsaWNrc0luRGl2ID0gZnJvbUV2ZW50KHNvbWVEaXZJbkRvY3VtZW50LCAnY2xpY2snKTtcbiAqXG4gKiBjbGlja3NJbkRvY3VtZW50LnN1YnNjcmliZSgoKSA9PiBjb25zb2xlLmxvZygnZG9jdW1lbnQnKSk7XG4gKiBjbGlja3NJbkRpdi5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ2RpdicpKTtcbiAqXG4gKiAvLyBCeSBkZWZhdWx0IGV2ZW50cyBidWJibGUgVVAgaW4gRE9NIHRyZWUsIHNvIG5vcm1hbGx5XG4gKiAvLyB3aGVuIHdlIHdvdWxkIGNsaWNrIG9uIGRpdiBpbiBkb2N1bWVudFxuICogLy8gXCJkaXZcIiB3b3VsZCBiZSBsb2dnZWQgZmlyc3QgYW5kIHRoZW4gXCJkb2N1bWVudFwiLlxuICogLy8gU2luY2Ugd2Ugc3BlY2lmaWVkIG9wdGlvbmFsIGBjYXB0dXJlYCBvcHRpb24sIGRvY3VtZW50XG4gKiAvLyB3aWxsIGNhdGNoIGV2ZW50IHdoZW4gaXQgZ29lcyBET1dOIERPTSB0cmVlLCBzbyBjb25zb2xlXG4gKiAvLyB3aWxsIGxvZyBcImRvY3VtZW50XCIgYW5kIHRoZW4gXCJkaXZcIi5cbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJpbmRDYWxsYmFja31cbiAqIEBzZWUge0BsaW5rIGJpbmROb2RlQ2FsbGJhY2t9XG4gKiBAc2VlIHtAbGluayBmcm9tRXZlbnRQYXR0ZXJufVxuICpcbiAqIEBwYXJhbSB7RnJvbUV2ZW50VGFyZ2V0PFQ+fSB0YXJnZXQgVGhlIERPTSBFdmVudFRhcmdldCwgTm9kZS5qc1xuICogRXZlbnRFbWl0dGVyLCBKUXVlcnktbGlrZSBldmVudCB0YXJnZXQsIE5vZGVMaXN0IG9yIEhUTUxDb2xsZWN0aW9uIHRvIGF0dGFjaCB0aGUgZXZlbnQgaGFuZGxlciB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgb2YgaW50ZXJlc3QsIGJlaW5nIGVtaXR0ZWQgYnkgdGhlXG4gKiBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7RXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zIHRvIHBhc3MgdGhyb3VnaCB0byBhZGRFdmVudExpc3RlbmVyXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFQ+KFxuICB0YXJnZXQ6IGFueSxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyB8ICgoLi4uYXJnczogYW55W10pID0+IFQpLFxuICByZXN1bHRTZWxlY3Rvcj86ICguLi5hcmdzOiBhbnlbXSkgPT4gVFxuKTogT2JzZXJ2YWJsZTxUPiB7XG4gIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZyb21FdmVudDxUPih0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucyBhcyBFdmVudExpc3RlbmVyT3B0aW9ucykucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSk7XG4gIH1cblxuICAvLyBGaWd1cmUgb3V0IG91ciBhZGQgYW5kIHJlbW92ZSBtZXRob2RzLiBJbiBvcmRlciB0byBkbyB0aGlzLFxuICAvLyB3ZSBhcmUgZ29pbmcgdG8gYW5hbHl6ZSB0aGUgdGFyZ2V0IGluIGEgcHJlZmVycmVkIG9yZGVyLCBpZlxuICAvLyB0aGUgdGFyZ2V0IG1hdGNoZXMgYSBnaXZlbiBzaWduYXR1cmUsIHdlIHRha2UgdGhlIHR3byBcImFkZFwiIGFuZCBcInJlbW92ZVwiXG4gIC8vIG1ldGhvZCBuYW1lcyBhbmQgYXBwbHkgdGhlbSB0byBhIG1hcCB0byBjcmVhdGUgb3Bwb3NpdGUgdmVyc2lvbnMgb2YgdGhlXG4gIC8vIHNhbWUgZnVuY3Rpb24uIFRoaXMgaXMgYmVjYXVzZSB0aGV5IGFsbCBvcGVyYXRlIGluIGR1cGxpY2F0ZSBwYWlycyxcbiAgLy8gYGFkZExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpYCwgYHJlbW92ZUxpc3RlbmVyKG5hbWUsIGhhbmRsZXIpYCwgZm9yIGV4YW1wbGUuXG4gIC8vIFRoZSBjYWxsIG9ubHkgZGlmZmVycyBieSBtZXRob2QgbmFtZSwgYXMgdG8gd2hldGhlciBvciBub3QgeW91J3JlIGFkZGluZyBvciByZW1vdmluZy5cbiAgY29uc3QgW2FkZCwgcmVtb3ZlXSA9XG4gICAgLy8gSWYgaXQgaXMgYW4gRXZlbnRUYXJnZXQsIHdlIG5lZWQgdG8gdXNlIGEgc2xpZ2h0bHkgZGlmZmVyZW50IG1ldGhvZCB0aGFuIHRoZSBvdGhlciB0d28gcGF0dGVybnMuXG4gICAgaXNFdmVudFRhcmdldCh0YXJnZXQpXG4gICAgICA/IGV2ZW50VGFyZ2V0TWV0aG9kcy5tYXAoKG1ldGhvZE5hbWUpID0+IChoYW5kbGVyOiBhbnkpID0+IHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMgYXMgRXZlbnRMaXN0ZW5lck9wdGlvbnMpKVxuICAgICAgOiAvLyBJbiBhbGwgb3RoZXIgY2FzZXMsIHRoZSBjYWxsIHBhdHRlcm4gaXMgaWRlbnRpY2FsIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgbWV0aG9kIG5hbWVzLlxuICAgICAgaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KVxuICAgICAgPyBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgOiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgID8ganF1ZXJ5TWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgOiBbXTtcblxuICAvLyBJZiBhZGQgaXMgZmFsc3ksIGl0J3MgYmVjYXVzZSB3ZSBkaWRuJ3QgbWF0Y2ggYSBwYXR0ZXJuIGFib3ZlLlxuICAvLyBDaGVjayB0byBzZWUgaWYgaXQgaXMgYW4gQXJyYXlMaWtlLCBiZWNhdXNlIGlmIGl0IGlzLCB3ZSB3YW50IHRvXG4gIC8vIHRyeSB0byBhcHBseSBmcm9tRXZlbnQgdG8gYWxsIG9mIGl0J3MgaXRlbXMuIFdlIGRvIHRoaXMgY2hlY2sgbGFzdCxcbiAgLy8gYmVjYXVzZSB0aGVyZSBhcmUgbWF5IGJlIHNvbWUgdHlwZXMgdGhhdCBhcmUgYm90aCBBcnJheUxpa2UgKmFuZCogaW1wbGVtZW50XG4gIC8vIGV2ZW50IHJlZ2lzdHJ5IHBvaW50cywgYW5kIHdlJ2QgcmF0aGVyIGRlbGVnYXRlIHRvIHRoYXQgd2hlbiBwb3NzaWJsZS5cbiAgaWYgKCFhZGQpIHtcbiAgICBpZiAoaXNBcnJheUxpa2UodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIG1lcmdlTWFwKChzdWJUYXJnZXQ6IGFueSkgPT4gZnJvbUV2ZW50KHN1YlRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zIGFzIEV2ZW50TGlzdGVuZXJPcHRpb25zKSkoXG4gICAgICAgIGlubmVyRnJvbSh0YXJnZXQpXG4gICAgICApIGFzIE9ic2VydmFibGU8VD47XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYWRkIGlzIGZhbHN5IGFuZCB3ZSBtYWRlIGl0IGhlcmUsIGl0J3MgYmVjYXVzZSB3ZSBkaWRuJ3RcbiAgLy8gbWF0Y2ggYW55IHZhbGlkIHRhcmdldCBvYmplY3RzIGFib3ZlLlxuICBpZiAoIWFkZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gIH1cblxuICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgaGFuZGxlciB3ZSBhcmUgZ29pbmcgdG8gcmVnaXN0ZXIuIEZvcndhcmRzIHRoZSBldmVudCBvYmplY3QsIGJ5IGl0c2VsZiwgb3JcbiAgICAvLyBhbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gdGhlIGV2ZW50IGhhbmRsZXIsIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsXG4gICAgLy8gdG8gdGhlIGNvbnN1bWVyLlxuICAgIGNvbnN0IGhhbmRsZXIgPSAoLi4uYXJnczogYW55W10pID0+IHN1YnNjcmliZXIubmV4dCgxIDwgYXJncy5sZW5ndGggPyBhcmdzIDogYXJnc1swXSk7XG4gICAgLy8gRG8gdGhlIHdvcmsgb2YgYWRkaW5nIHRoZSBoYW5kbGVyIHRvIHRoZSB0YXJnZXQuXG4gICAgYWRkKGhhbmRsZXIpO1xuICAgIC8vIFdoZW4gd2UgZmluYWxpemUsIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBoYW5kbGVyIGFuZCBmcmVlIHVwIG1lbW9yeS5cbiAgICByZXR1cm4gKCkgPT4gcmVtb3ZlIShoYW5kbGVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYGFkZGAgYW5kIGByZW1vdmVgIGZ1bmN0aW9ucyB0byByZWdpc3RlciBhbmQgdW5yZWdpc3RlciBldmVudCBoYW5kbGVyc1xuICogZnJvbSBhIHRhcmdldCBpbiB0aGUgbW9zdCBjb21tb24gaGFuZGxlciBwYXR0ZXJuLCB3aGVyZSB0aGVyZSBhcmUgb25seSB0d28gYXJndW1lbnRzLlxuICogKGUuZy4gIGBvbihuYW1lLCBmbilgLCBgb2ZmKG5hbWUsIGZuKWAsIGBhZGRMaXN0ZW5lcihuYW1lLCBmbilgLCBvciBgcmVtb3ZlTGlzdGVuZXIobmFtZSwgZm4pYClcbiAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCB3ZSdyZSBjYWxsaW5nIG1ldGhvZHMgb25cbiAqIEBwYXJhbSBldmVudE5hbWUgVGhlIGV2ZW50IG5hbWUgZm9yIHRoZSBldmVudCB3ZSdyZSBjcmVhdGluZyByZWdpc3RlciBvciB1bnJlZ2lzdGVyIGZ1bmN0aW9ucyBmb3JcbiAqL1xuZnVuY3Rpb24gdG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0OiBhbnksIGV2ZW50TmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiAobWV0aG9kTmFtZTogc3RyaW5nKSA9PiAoaGFuZGxlcjogYW55KSA9PiB0YXJnZXRbbWV0aG9kTmFtZV0oZXZlbnROYW1lLCBoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlmIHRoZSB0YXJnZXQgaW1wbGVtZW50cyB0aGUgcmVxdWlyZWQgbm9kZS1zdHlsZSBFdmVudEVtaXR0ZXIgbWV0aG9kc1xuICogZm9yIGFkZGluZyBhbmQgcmVtb3ZpbmcgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcGFyYW0gdGFyZ2V0IHRoZSBvYmplY3QgdG8gY2hlY2tcbiAqL1xuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgTm9kZVN0eWxlRXZlbnRFbWl0dGVyIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiB0aGUgdGFyZ2V0IGltcGxlbWVudHMgdGhlIHJlcXVpcmVkIGpRdWVyeS1zdHlsZSBFdmVudEVtaXR0ZXIgbWV0aG9kc1xuICogZm9yIGFkZGluZyBhbmQgcmVtb3ZpbmcgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcGFyYW0gdGFyZ2V0IHRoZSBvYmplY3QgdG8gY2hlY2tcbiAqL1xuZnVuY3Rpb24gaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQ6IGFueSk6IHRhcmdldCBpcyBKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcjxhbnksIGFueT4ge1xuICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQub24pICYmIGlzRnVuY3Rpb24odGFyZ2V0Lm9mZik7XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiB0aGUgdGFyZ2V0IGltcGxlbWVudHMgdGhlIHJlcXVpcmVkIEV2ZW50VGFyZ2V0IG1ldGhvZHNcbiAqIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGV2ZW50IGhhbmRsZXJzLlxuICogQHBhcmFtIHRhcmdldCB0aGUgb2JqZWN0IHRvIGNoZWNrXG4gKi9cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQodGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgSGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8YW55PiB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgTm9kZUV2ZW50SGFuZGxlciB9IGZyb20gJy4vZnJvbUV2ZW50JztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnRQYXR0ZXJuPFQ+KFxuICBhZGRIYW5kbGVyOiAoaGFuZGxlcjogTm9kZUV2ZW50SGFuZGxlcikgPT4gYW55LFxuICByZW1vdmVIYW5kbGVyPzogKGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIsIHNpZ25hbD86IGFueSkgPT4gdm9pZFxuKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnRQYXR0ZXJuPFQ+KFxuICBhZGRIYW5kbGVyOiAoaGFuZGxlcjogTm9kZUV2ZW50SGFuZGxlcikgPT4gYW55LFxuICByZW1vdmVIYW5kbGVyPzogKGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIsIHNpZ25hbD86IGFueSkgPT4gdm9pZCxcbiAgcmVzdWx0U2VsZWN0b3I/OiAoLi4uYXJnczogYW55W10pID0+IFRcbik6IE9ic2VydmFibGU8VD47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSBmcm9tIGFuIGFyYml0cmFyeSBBUEkgZm9yIHJlZ2lzdGVyaW5nIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5XaGVuIHRoYXQgbWV0aG9kIGZvciBhZGRpbmcgZXZlbnQgaGFuZGxlciB3YXMgc29tZXRoaW5nIHtAbGluayBmcm9tRXZlbnR9XG4gKiB3YXMgbm90IHByZXBhcmVkIGZvci48L3NwYW4+XG4gKlxuICogIVtdKGZyb21FdmVudFBhdHRlcm4ucG5nKVxuICpcbiAqIGBmcm9tRXZlbnRQYXR0ZXJuYCBhbGxvd3MgeW91IHRvIGNvbnZlcnQgaW50byBhbiBPYnNlcnZhYmxlIGFueSBBUEkgdGhhdCBzdXBwb3J0cyByZWdpc3RlcmluZyBoYW5kbGVyIGZ1bmN0aW9uc1xuICogZm9yIGV2ZW50cy4gSXQgaXMgc2ltaWxhciB0byB7QGxpbmsgZnJvbUV2ZW50fSwgYnV0IGZhclxuICogbW9yZSBmbGV4aWJsZS4gSW4gZmFjdCwgYWxsIHVzZSBjYXNlcyBvZiB7QGxpbmsgZnJvbUV2ZW50fSBjb3VsZCBiZSBlYXNpbHkgaGFuZGxlZCBieVxuICogYGZyb21FdmVudFBhdHRlcm5gIChhbHRob3VnaCBpbiBzbGlnaHRseSBtb3JlIHZlcmJvc2Ugd2F5KS5cbiAqXG4gKiBUaGlzIG9wZXJhdG9yIGFjY2VwdHMgYXMgYSBmaXJzdCBhcmd1bWVudCBhbiBgYWRkSGFuZGxlcmAgZnVuY3Rpb24sIHdoaWNoIHdpbGwgYmUgaW5qZWN0ZWQgd2l0aFxuICogaGFuZGxlciBwYXJhbWV0ZXIuIFRoYXQgaGFuZGxlciBpcyBhY3R1YWxseSBhbiBldmVudCBoYW5kbGVyIGZ1bmN0aW9uIHRoYXQgeW91IG5vdyBjYW4gcGFzc1xuICogdG8gQVBJIGV4cGVjdGluZyBpdC4gYGFkZEhhbmRsZXJgIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIE9ic2VydmFibGVcbiAqIHJldHVybmVkIGJ5IHRoZSBvcGVyYXRvciBpcyBzdWJzY3JpYmVkLCBzbyByZWdpc3RlcmluZyBoYW5kbGVyIGluIEFQSSB3aWxsIG5vdFxuICogbmVjZXNzYXJpbHkgaGFwcGVuIHdoZW4gYGZyb21FdmVudFBhdHRlcm5gIGlzIGNhbGxlZC5cbiAqXG4gKiBBZnRlciByZWdpc3RyYXRpb24sIGV2ZXJ5IHRpbWUgYW4gZXZlbnQgdGhhdCB3ZSBsaXN0ZW4gdG8gaGFwcGVucyxcbiAqIE9ic2VydmFibGUgcmV0dXJuZWQgYnkgYGZyb21FdmVudFBhdHRlcm5gIHdpbGwgZW1pdCB2YWx1ZSB0aGF0IGV2ZW50IGhhbmRsZXJcbiAqIGZ1bmN0aW9uIHdhcyBjYWxsZWQgd2l0aC4gTm90ZSB0aGF0IGlmIGV2ZW50IGhhbmRsZXIgd2FzIGNhbGxlZCB3aXRoIG1vcmVcbiAqIHRoYW4gb25lIGFyZ3VtZW50LCBzZWNvbmQgYW5kIGZvbGxvd2luZyBhcmd1bWVudHMgd2lsbCBub3QgYXBwZWFyIGluIHRoZSBPYnNlcnZhYmxlLlxuICpcbiAqIElmIEFQSSB5b3UgYXJlIHVzaW5nIGFsbG93cyB0byB1bnJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzIGFzIHdlbGwsIHlvdSBjYW4gcGFzcyB0byBgZnJvbUV2ZW50UGF0dGVybmBcbiAqIGFub3RoZXIgZnVuY3Rpb24gLSBgcmVtb3ZlSGFuZGxlcmAgLSBhcyBhIHNlY29uZCBwYXJhbWV0ZXIuIEl0IHdpbGwgYmUgaW5qZWN0ZWRcbiAqIHdpdGggdGhlIHNhbWUgaGFuZGxlciBmdW5jdGlvbiBhcyBiZWZvcmUsIHdoaWNoIG5vdyB5b3UgY2FuIHVzZSB0byB1bnJlZ2lzdGVyXG4gKiBpdCBmcm9tIHRoZSBBUEkuIGByZW1vdmVIYW5kbGVyYCB3aWxsIGJlIGNhbGxlZCB3aGVuIGNvbnN1bWVyIG9mIHJlc3VsdGluZyBPYnNlcnZhYmxlXG4gKiB1bnN1YnNjcmliZXMgZnJvbSBpdC5cbiAqXG4gKiBJbiBzb21lIEFQSXMgdW5yZWdpc3RlcmluZyBpcyBhY3R1YWxseSBoYW5kbGVkIGRpZmZlcmVudGx5LiBNZXRob2QgcmVnaXN0ZXJpbmcgYW4gZXZlbnQgaGFuZGxlclxuICogcmV0dXJucyBzb21lIGtpbmQgb2YgdG9rZW4sIHdoaWNoIGlzIGxhdGVyIHVzZWQgdG8gaWRlbnRpZnkgd2hpY2ggZnVuY3Rpb24gc2hvdWxkXG4gKiBiZSB1bnJlZ2lzdGVyZWQgb3IgaXQgaXRzZWxmIGhhcyBtZXRob2QgdGhhdCB1bnJlZ2lzdGVycyBldmVudCBoYW5kbGVyLlxuICogSWYgdGhhdCBpcyB0aGUgY2FzZSB3aXRoIHlvdXIgQVBJLCBtYWtlIHN1cmUgdG9rZW4gcmV0dXJuZWRcbiAqIGJ5IHJlZ2lzdGVyaW5nIG1ldGhvZCBpcyByZXR1cm5lZCBieSBgYWRkSGFuZGxlcmAuIFRoZW4gaXQgd2lsbCBiZSBwYXNzZWRcbiAqIGFzIGEgc2Vjb25kIGFyZ3VtZW50IHRvIGByZW1vdmVIYW5kbGVyYCwgd2hlcmUgeW91IHdpbGwgYmUgYWJsZSB0byB1c2UgaXQuXG4gKlxuICogSWYgeW91IG5lZWQgYWNjZXNzIHRvIGFsbCBldmVudCBoYW5kbGVyIHBhcmFtZXRlcnMgKG5vdCBvbmx5IHRoZSBmaXJzdCBvbmUpLFxuICogb3IgeW91IG5lZWQgdG8gdHJhbnNmb3JtIHRoZW0gaW4gYW55IHdheSwgeW91IGNhbiBjYWxsIGBmcm9tRXZlbnRQYXR0ZXJuYCB3aXRoIG9wdGlvbmFsXG4gKiB0aGlyZCBwYXJhbWV0ZXIgLSBwcm9qZWN0IGZ1bmN0aW9uIHdoaWNoIHdpbGwgYWNjZXB0IGFsbCBhcmd1bWVudHMgcGFzc2VkIHRvXG4gKiBldmVudCBoYW5kbGVyIHdoZW4gaXQgaXMgY2FsbGVkLiBXaGF0ZXZlciBpcyByZXR1cm5lZCBmcm9tIHByb2plY3QgZnVuY3Rpb24gd2lsbCBhcHBlYXIgb25cbiAqIHJlc3VsdGluZyBzdHJlYW0gaW5zdGVhZCBvZiB1c3VhbCBldmVudCBoYW5kbGVycyBmaXJzdCBhcmd1bWVudC4gVGhpcyBtZWFuc1xuICogdGhhdCBkZWZhdWx0IHByb2plY3QgY2FuIGJlIHRob3VnaHQgb2YgYXMgZnVuY3Rpb24gdGhhdCB0YWtlcyBpdHMgZmlyc3QgcGFyYW1ldGVyXG4gKiBhbmQgaWdub3JlcyB0aGUgcmVzdC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXRzIGNsaWNrcyBoYXBwZW5pbmcgb24gdGhlIERPTSBkb2N1bWVudFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuIH0gZnJvbSAncnhqcyc7XG4gKlxuICogZnVuY3Rpb24gYWRkQ2xpY2tIYW5kbGVyKGhhbmRsZXIpIHtcbiAqICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVyKTtcbiAqIH1cbiAqXG4gKiBmdW5jdGlvbiByZW1vdmVDbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICogICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZXIpO1xuICogfVxuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudFBhdHRlcm4oXG4gKiAgIGFkZENsaWNrSGFuZGxlcixcbiAqICAgcmVtb3ZlQ2xpY2tIYW5kbGVyXG4gKiApO1xuICogY2xpY2tzLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBXaGVuZXZlciB5b3UgY2xpY2sgYW55d2hlcmUgaW4gdGhlIGJyb3dzZXIsIERPTSBNb3VzZUV2ZW50XG4gKiAvLyBvYmplY3Qgd2lsbCBiZSBsb2dnZWQuXG4gKiBgYGBcbiAqXG4gKiBVc2Ugd2l0aCBBUEkgdGhhdCByZXR1cm5zIGNhbmNlbGxhdGlvbiB0b2tlblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgdG9rZW4gPSBzb21lQVBJLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGZ1bmN0aW9uKCkge30pO1xuICogc29tZUFQSS51bnJlZ2lzdGVyRXZlbnRIYW5kbGVyKHRva2VuKTsgLy8gdGhpcyBBUElzIGNhbmNlbGxhdGlvbiBtZXRob2QgYWNjZXB0c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90IGhhbmRsZXIgaXRzZWxmLCBidXQgc3BlY2lhbCB0b2tlbi5cbiAqXG4gKiBjb25zdCBzb21lQVBJT2JzZXJ2YWJsZSA9IGZyb21FdmVudFBhdHRlcm4oXG4gKiAgIGZ1bmN0aW9uKGhhbmRsZXIpIHsgcmV0dXJuIHNvbWVBUEkucmVnaXN0ZXJFdmVudEhhbmRsZXIoaGFuZGxlcik7IH0sIC8vIE5vdGUgdGhhdCB3ZSByZXR1cm4gdGhlIHRva2VuIGhlcmUuLi5cbiAqICAgZnVuY3Rpb24oaGFuZGxlciwgdG9rZW4pIHsgc29tZUFQSS51bnJlZ2lzdGVyRXZlbnRIYW5kbGVyKHRva2VuKTsgfSAgLy8gLi4udG8gdGhlbiB1c2UgaXQgaGVyZS5cbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBVc2Ugd2l0aCBwcm9qZWN0IGZ1bmN0aW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudFBhdHRlcm4gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBzb21lQVBJLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKChldmVudFR5cGUsIGV2ZW50TWVzc2FnZSkgPT4ge1xuICogICBjb25zb2xlLmxvZyhldmVudFR5cGUsIGV2ZW50TWVzc2FnZSk7IC8vIExvZ3MgJ0VWRU5UX1RZUEUnICdFVkVOVF9NRVNTQUdFJyB0byBjb25zb2xlLlxuICogfSk7XG4gKlxuICogY29uc3Qgc29tZUFQSU9ic2VydmFibGUgPSBmcm9tRXZlbnRQYXR0ZXJuKFxuICogICBoYW5kbGVyID0+IHNvbWVBUEkucmVnaXN0ZXJFdmVudEhhbmRsZXIoaGFuZGxlciksXG4gKiAgIGhhbmRsZXIgPT4gc29tZUFQSS51bnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGhhbmRsZXIpXG4gKiAgIChldmVudFR5cGUsIGV2ZW50TWVzc2FnZSkgPT4gZXZlbnRUeXBlICsgJyAtLS0gJyArIGV2ZW50TWVzc2FnZSAvLyB3aXRob3V0IHRoYXQgZnVuY3Rpb24gb25seSAnRVZFTlRfVFlQRSdcbiAqICk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdvdWxkIGJlIGVtaXR0ZWQgYnkgdGhlIE9ic2VydmFibGVcbiAqXG4gKiBzb21lQVBJT2JzZXJ2YWJsZS5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gJ0VWRU5UX1RZUEUgLS0tIEVWRU5UX01FU1NBR0UnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmcm9tRXZlbnR9XG4gKiBAc2VlIHtAbGluayBiaW5kQ2FsbGJhY2t9XG4gKiBAc2VlIHtAbGluayBiaW5kTm9kZUNhbGxiYWNrfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaGFuZGxlcjogRnVuY3Rpb24pOiBhbnl9IGFkZEhhbmRsZXIgQSBmdW5jdGlvbiB0aGF0IHRha2VzXG4gKiBhIGBoYW5kbGVyYCBmdW5jdGlvbiBhcyBhcmd1bWVudCBhbmQgYXR0YWNoZXMgaXQgc29tZWhvdyB0byB0aGUgYWN0dWFsXG4gKiBzb3VyY2Ugb2YgZXZlbnRzLlxuICogQHBhcmFtIHtmdW5jdGlvbihoYW5kbGVyOiBGdW5jdGlvbiwgdG9rZW4/OiBhbnkpOiB2b2lkfSBbcmVtb3ZlSGFuZGxlcl0gQSBmdW5jdGlvbiB0aGF0XG4gKiB0YWtlcyBhIGBoYW5kbGVyYCBmdW5jdGlvbiBhcyBhbiBhcmd1bWVudCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBldmVudCBzb3VyY2UuIElmIGBhZGRIYW5kbGVyYFxuICogcmV0dXJucyBzb21lIGtpbmQgb2YgdG9rZW4sIGByZW1vdmVIYW5kbGVyYCBmdW5jdGlvbiB3aWxsIGhhdmUgaXQgYXMgYSBzZWNvbmQgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi5hcmdzOiBhbnkpOiBUfSBbcHJvamVjdF0gQSBmdW5jdGlvbiB0b1xuICogdHJhbnNmb3JtIHJlc3VsdHMuIEl0IHRha2VzIHRoZSBhcmd1bWVudHMgZnJvbSB0aGUgZXZlbnQgaGFuZGxlciBhbmRcbiAqIHNob3VsZCByZXR1cm4gYSBzaW5nbGUgdmFsdWUuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlPFQ+fSBPYnNlcnZhYmxlIHdoaWNoLCB3aGVuIGFuIGV2ZW50IGhhcHBlbnMsIGVtaXRzIGZpcnN0IHBhcmFtZXRlclxuICogcGFzc2VkIHRvIHJlZ2lzdGVyZWQgZXZlbnQgaGFuZGxlci4gQWx0ZXJuYXRpdmVseSBpdCBlbWl0cyB3aGF0ZXZlciBwcm9qZWN0IGZ1bmN0aW9uIHJldHVybnNcbiAqIGF0IHRoYXQgbW9tZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50UGF0dGVybjxUPihcbiAgYWRkSGFuZGxlcjogKGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIpID0+IGFueSxcbiAgcmVtb3ZlSGFuZGxlcj86IChoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyLCBzaWduYWw/OiBhbnkpID0+IHZvaWQsXG4gIHJlc3VsdFNlbGVjdG9yPzogKC4uLmFyZ3M6IGFueVtdKSA9PiBUXG4pOiBPYnNlcnZhYmxlPFQgfCBUW10+IHtcbiAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZyb21FdmVudFBhdHRlcm48VD4oYWRkSGFuZGxlciwgcmVtb3ZlSGFuZGxlcikucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSk7XG4gIH1cblxuICByZXR1cm4gbmV3IE9ic2VydmFibGU8VCB8IFRbXT4oKHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gKC4uLmU6IFRbXSkgPT4gc3Vic2NyaWJlci5uZXh0KGUubGVuZ3RoID09PSAxID8gZVswXSA6IGUpO1xuICAgIGNvbnN0IHJldFZhbHVlID0gYWRkSGFuZGxlcihoYW5kbGVyKTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihyZW1vdmVIYW5kbGVyKSA/ICgpID0+IHJlbW92ZUhhbmRsZXIoaGFuZGxlciwgcmV0VmFsdWUpIDogdW5kZWZpbmVkO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmliYWJsZSB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBVc2VkIHRvIGNvbnZlcnQgYSBzdWJzY3JpYmFibGUgdG8gYW4gb2JzZXJ2YWJsZS5cbiAqXG4gKiBDdXJyZW50bHksIHRoaXMgaXMgb25seSB1c2VkIHdpdGhpbiBpbnRlcm5hbHMuXG4gKlxuICogVE9ETzogRGlzY3VzcyBPYnNlcnZhYmxlSW5wdXQgc3VwcG9ydGluZyBcIlN1YnNjcmliYWJsZVwiLlxuICogaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2lzc3Vlcy81OTA5XG4gKlxuICogQHBhcmFtIHN1YnNjcmliYWJsZSBBIHN1YnNjcmliYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVN1YnNjcmliYWJsZTxUPihzdWJzY3JpYmFibGU6IFN1YnNjcmliYWJsZTxUPikge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHN1YnNjcmliYWJsZS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuaW1wb3J0IHsgc2NoZWR1bGVJdGVyYWJsZSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlJztcblxudHlwZSBDb25kaXRpb25GdW5jPFM+ID0gKHN0YXRlOiBTKSA9PiBib29sZWFuO1xudHlwZSBJdGVyYXRlRnVuYzxTPiA9IChzdGF0ZTogUykgPT4gUztcbnR5cGUgUmVzdWx0RnVuYzxTLCBUPiA9IChzdGF0ZTogUykgPT4gVDtcblxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZUJhc2VPcHRpb25zPFM+IHtcbiAgLyoqXG4gICAqIEluaXRpYWwgc3RhdGUuXG4gICAqL1xuICBpbml0aWFsU3RhdGU6IFM7XG4gIC8qKlxuICAgKiBDb25kaXRpb24gZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHN0YXRlIGFuZCByZXR1cm5zIGJvb2xlYW4uXG4gICAqIFdoZW4gaXQgcmV0dXJucyBmYWxzZSwgdGhlIGdlbmVyYXRvciBzdG9wcy5cbiAgICogSWYgbm90IHNwZWNpZmllZCwgYSBnZW5lcmF0b3IgbmV2ZXIgc3RvcHMuXG4gICAqL1xuICBjb25kaXRpb24/OiBDb25kaXRpb25GdW5jPFM+O1xuICAvKipcbiAgICogSXRlcmF0ZSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgc3RhdGUgYW5kIHJldHVybnMgbmV3IHN0YXRlLlxuICAgKi9cbiAgaXRlcmF0ZTogSXRlcmF0ZUZ1bmM8Uz47XG4gIC8qKlxuICAgKiBTY2hlZHVsZXJMaWtlIHRvIHVzZSBmb3IgZ2VuZXJhdGlvbiBwcm9jZXNzLlxuICAgKiBCeSBkZWZhdWx0LCBhIGdlbmVyYXRvciBzdGFydHMgaW1tZWRpYXRlbHkuXG4gICAqL1xuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRlT3B0aW9uczxULCBTPiBleHRlbmRzIEdlbmVyYXRlQmFzZU9wdGlvbnM8Uz4ge1xuICAvKipcbiAgICogUmVzdWx0IHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgc3RhdGUgYW5kIHJldHVybnMgYSB2YWx1ZSB0byBlbWl0LlxuICAgKi9cbiAgcmVzdWx0U2VsZWN0b3I6IFJlc3VsdEZ1bmM8UywgVD47XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIG9ic2VydmFibGUgc2VxdWVuY2UgYnkgcnVubmluZyBhIHN0YXRlLWRyaXZlbiBsb29wXG4gKiBwcm9kdWNpbmcgdGhlIHNlcXVlbmNlJ3MgZWxlbWVudHMsIHVzaW5nIHRoZSBzcGVjaWZpZWQgc2NoZWR1bGVyXG4gKiB0byBzZW5kIG91dCBvYnNlcnZlciBtZXNzYWdlcy5cbiAqXG4gKiAhW10oZ2VuZXJhdGUucG5nKVxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogUHJvZHVjZXMgc2VxdWVuY2Ugb2YgbnVtYmVyc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGdlbmVyYXRlKDAsIHggPT4geCA8IDMsIHggPT4geCArIDEsIHggPT4geCk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogYGBgXG4gKlxuICogVXNlIGBhc2FwU2NoZWR1bGVyYFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBnZW5lcmF0ZSwgYXNhcFNjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGdlbmVyYXRlKDEsIHggPT4geCA8IDUsIHggPT4geCAqIDIsIHggPT4geCArIDEsIGFzYXBTY2hlZHVsZXIpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDVcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKiBAc2VlIHtAbGluayBPYnNlcnZhYmxlfVxuICpcbiAqIEBwYXJhbSB7U30gaW5pdGlhbFN0YXRlIEluaXRpYWwgc3RhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChzdGF0ZTogUyk6IGJvb2xlYW59IGNvbmRpdGlvbiBDb25kaXRpb24gdG8gdGVybWluYXRlIGdlbmVyYXRpb24gKHVwb24gcmV0dXJuaW5nIGZhbHNlKS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24gKHN0YXRlOiBTKTogU30gaXRlcmF0ZSBJdGVyYXRpb24gc3RlcCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24gKHN0YXRlOiBTKTogVH0gcmVzdWx0U2VsZWN0b3IgU2VsZWN0b3IgZnVuY3Rpb24gZm9yIHJlc3VsdHMgcHJvZHVjZWQgaW4gdGhlIHNlcXVlbmNlLiAoZGVwcmVjYXRlZClcbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcl0gQSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gb24gd2hpY2ggdG8gcnVuIHRoZSBnZW5lcmF0b3IgbG9vcC4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBlbWl0IGltbWVkaWF0ZWx5LlxuICogQHJldHVybnMge09ic2VydmFibGU8VD59IFRoZSBnZW5lcmF0ZWQgc2VxdWVuY2UuXG4gKiBAZGVwcmVjYXRlZCBJbnN0ZWFkIG9mIHBhc3Npbmcgc2VwYXJhdGUgYXJndW1lbnRzLCB1c2UgdGhlIG9wdGlvbnMgYXJndW1lbnQuIFNpZ25hdHVyZXMgdGFraW5nIHNlcGFyYXRlIGFyZ3VtZW50cyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZTxULCBTPihcbiAgaW5pdGlhbFN0YXRlOiBTLFxuICBjb25kaXRpb246IENvbmRpdGlvbkZ1bmM8Uz4sXG4gIGl0ZXJhdGU6IEl0ZXJhdGVGdW5jPFM+LFxuICByZXN1bHRTZWxlY3RvcjogUmVzdWx0RnVuYzxTLCBUPixcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT2JzZXJ2YWJsZTxUPjtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYW4gT2JzZXJ2YWJsZSBieSBydW5uaW5nIGEgc3RhdGUtZHJpdmVuIGxvb3BcbiAqIHRoYXQgZW1pdHMgYW4gZWxlbWVudCBvbiBlYWNoIGl0ZXJhdGlvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlIGl0IGluc3RlYWQgb2YgbmV4dGluZyB2YWx1ZXMgaW4gYSBmb3IgbG9vcC48L3NwYW4+XG4gKlxuICogIVtdKGdlbmVyYXRlLnBuZylcbiAqXG4gKiBgZ2VuZXJhdGVgIGFsbG93cyB5b3UgdG8gY3JlYXRlIGEgc3RyZWFtIG9mIHZhbHVlcyBnZW5lcmF0ZWQgd2l0aCBhIGxvb3AgdmVyeSBzaW1pbGFyIHRvXG4gKiBhIHRyYWRpdGlvbmFsIGZvciBsb29wLiBUaGUgZmlyc3QgYXJndW1lbnQgb2YgYGdlbmVyYXRlYCBpcyBhIGJlZ2lubmluZyB2YWx1ZS4gVGhlIHNlY29uZCBhcmd1bWVudFxuICogaXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhpcyB2YWx1ZSBhbmQgdGVzdHMgaWYgc29tZSBjb25kaXRpb24gc3RpbGwgaG9sZHMuIElmIGl0IGRvZXMsXG4gKiB0aGVuIHRoZSBsb29wIGNvbnRpbnVlcywgaWYgbm90LCBpdCBzdG9wcy4gVGhlIHRoaXJkIHZhbHVlIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlXG4gKiBwcmV2aW91c2x5IGRlZmluZWQgdmFsdWUgYW5kIG1vZGlmaWVzIGl0IGluIHNvbWUgd2F5IG9uIGVhY2ggaXRlcmF0aW9uLiBOb3RlIGhvdyB0aGVzZSB0aHJlZSBwYXJhbWV0ZXJzXG4gKiBhcmUgZGlyZWN0IGVxdWl2YWxlbnRzIG9mIHRocmVlIGV4cHJlc3Npb25zIGluIGEgdHJhZGl0aW9uYWwgZm9yIGxvb3A6IHRoZSBmaXJzdCBleHByZXNzaW9uXG4gKiBpbml0aWFsaXplcyBzb21lIHN0YXRlIChmb3IgZXhhbXBsZSwgYSBudW1lcmljIGluZGV4KSwgdGhlIHNlY29uZCB0ZXN0cyBpZiB0aGUgbG9vcCBjYW4gcGVyZm9ybSB0aGUgbmV4dFxuICogaXRlcmF0aW9uIChmb3IgZXhhbXBsZSwgaWYgdGhlIGluZGV4IGlzIGxvd2VyIHRoYW4gMTApIGFuZCB0aGUgdGhpcmQgc3RhdGVzIGhvdyB0aGUgZGVmaW5lZCB2YWx1ZVxuICogd2lsbCBiZSBtb2RpZmllZCBvbiBldmVyeSBzdGVwIChmb3IgZXhhbXBsZSwgdGhlIGluZGV4IHdpbGwgYmUgaW5jcmVtZW50ZWQgYnkgb25lKS5cbiAqXG4gKiBSZXR1cm4gdmFsdWUgb2YgYSBgZ2VuZXJhdGVgIG9wZXJhdG9yIGlzIGFuIE9ic2VydmFibGUgdGhhdCBvbiBlYWNoIGxvb3AgaXRlcmF0aW9uXG4gKiBlbWl0cyBhIHZhbHVlLiBGaXJzdCBvZiBhbGwsIHRoZSBjb25kaXRpb24gZnVuY3Rpb24gaXMgcmFuLiBJZiBpdCByZXR1cm5zIHRydWUsIHRoZW4gdGhlIE9ic2VydmFibGVcbiAqIGVtaXRzIHRoZSBjdXJyZW50bHkgc3RvcmVkIHZhbHVlIChpbml0aWFsIHZhbHVlIGF0IHRoZSBmaXJzdCBpdGVyYXRpb24pIGFuZCBmaW5hbGx5IHVwZGF0ZXNcbiAqIHRoYXQgdmFsdWUgd2l0aCBpdGVyYXRlIGZ1bmN0aW9uLiBJZiBhdCBzb21lIHBvaW50IHRoZSBjb25kaXRpb24gcmV0dXJucyBmYWxzZSwgdGhlbiB0aGUgT2JzZXJ2YWJsZVxuICogY29tcGxldGVzIGF0IHRoYXQgbW9tZW50LlxuICpcbiAqIE9wdGlvbmFsbHkgeW91IGNhbiBwYXNzIGEgZm91cnRoIHBhcmFtZXRlciB0byBgZ2VuZXJhdGVgIC0gYSByZXN1bHQgc2VsZWN0b3IgZnVuY3Rpb24gd2hpY2ggYWxsb3dzIHlvdVxuICogdG8gaW1tZWRpYXRlbHkgbWFwIHRoZSB2YWx1ZSB0aGF0IHdvdWxkIG5vcm1hbGx5IGJlIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZS5cbiAqXG4gKiBJZiB5b3UgZmluZCB0aHJlZSBhbm9ueW1vdXMgZnVuY3Rpb25zIGluIGBnZW5lcmF0ZWAgY2FsbCBoYXJkIHRvIHJlYWQsIHlvdSBjYW4gcHJvdmlkZVxuICogYSBzaW5nbGUgb2JqZWN0IHRvIHRoZSBvcGVyYXRvciBpbnN0ZWFkIHdoZXJlIHRoZSBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0aWVzOiBgaW5pdGlhbFN0YXRlYCxcbiAqIGBjb25kaXRpb25gLCBgaXRlcmF0ZWAgYW5kIGByZXN1bHRTZWxlY3RvcmAsIHdoaWNoIHNob3VsZCBoYXZlIHJlc3BlY3RpdmUgdmFsdWVzIHRoYXQgeW91XG4gKiB3b3VsZCBub3JtYWxseSBwYXNzIHRvIGBnZW5lcmF0ZWAuIGByZXN1bHRTZWxlY3RvcmAgaXMgc3RpbGwgb3B0aW9uYWwsIGJ1dCB0aGF0IGZvcm1cbiAqIG9mIGNhbGxpbmcgYGdlbmVyYXRlYCBhbGxvd3MgeW91IHRvIG9taXQgYGNvbmRpdGlvbmAgYXMgd2VsbC4gSWYgeW91IG9taXQgaXQsIHRoYXQgbWVhbnNcbiAqIGNvbmRpdGlvbiBhbHdheXMgaG9sZHMsIG9yIGluIG90aGVyIHdvcmRzIHRoZSByZXN1bHRpbmcgT2JzZXJ2YWJsZSB3aWxsIG5ldmVyIGNvbXBsZXRlLlxuICpcbiAqIEJvdGggZm9ybXMgb2YgYGdlbmVyYXRlYCBjYW4gb3B0aW9uYWxseSBhY2NlcHQgYSBzY2hlZHVsZXIuIEluIGNhc2Ugb2YgYSBtdWx0aS1wYXJhbWV0ZXIgY2FsbCxcbiAqIHNjaGVkdWxlciBzaW1wbHkgY29tZXMgYXMgYSBsYXN0IGFyZ3VtZW50IChubyBtYXR0ZXIgaWYgdGhlcmUgaXMgYSBgcmVzdWx0U2VsZWN0b3JgXG4gKiBmdW5jdGlvbiBvciBub3QpLiBJbiBjYXNlIG9mIGEgc2luZ2xlLXBhcmFtZXRlciBjYWxsLCB5b3UgY2FuIHByb3ZpZGUgaXQgYXMgYVxuICogYHNjaGVkdWxlcmAgcHJvcGVydHkgb24gdGhlIG9iamVjdCBwYXNzZWQgdG8gdGhlIG9wZXJhdG9yLiBJbiBib3RoIGNhc2VzLCBhIHNjaGVkdWxlciBkZWNpZGVzIHdoZW5cbiAqIHRoZSBuZXh0IGl0ZXJhdGlvbiBvZiB0aGUgbG9vcCB3aWxsIGhhcHBlbiBhbmQgdGhlcmVmb3JlIHdoZW4gdGhlIG5leHQgdmFsdWUgd2lsbCBiZSBlbWl0dGVkXG4gKiBieSB0aGUgT2JzZXJ2YWJsZS4gRm9yIGV4YW1wbGUsIHRvIGVuc3VyZSB0aGF0IGVhY2ggdmFsdWUgaXMgcHVzaGVkIHRvIHRoZSBPYnNlcnZlclxuICogb24gYSBzZXBhcmF0ZSB0YXNrIGluIHRoZSBldmVudCBsb29wLCB5b3UgY291bGQgdXNlIHRoZSBgYXN5bmNgIHNjaGVkdWxlci4gTm90ZSB0aGF0XG4gKiBieSBkZWZhdWx0ICh3aGVuIG5vIHNjaGVkdWxlciBpcyBwYXNzZWQpIHZhbHVlcyBhcmUgc2ltcGx5IGVtaXR0ZWQgc3luY2hyb25vdXNseS5cbiAqXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBVc2Ugd2l0aCBjb25kaXRpb24gYW5kIGl0ZXJhdGUgZnVuY3Rpb25zXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGdlbmVyYXRlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gZ2VuZXJhdGUoMCwgeCA9PiB4IDwgMywgeCA9PiB4ICsgMSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdDb21wbGV0ZSEnKVxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDBcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vICdDb21wbGV0ZSEnXG4gKiBgYGBcbiAqXG4gKiBVc2Ugd2l0aCBjb25kaXRpb24sIGl0ZXJhdGUgYW5kIHJlc3VsdFNlbGVjdG9yIGZ1bmN0aW9uc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGdlbmVyYXRlKDAsIHggPT4geCA8IDMsIHggPT4geCArIDEsIHggPT4geCAqIDEwMDApO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29tcGxldGUhJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxMDAwXG4gKiAvLyAyMDAwXG4gKiAvLyAnQ29tcGxldGUhJ1xuICogYGBgXG4gKlxuICogVXNlIHdpdGggb3B0aW9ucyBvYmplY3RcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSh7XG4gKiAgIGluaXRpYWxTdGF0ZTogMCxcbiAqICAgY29uZGl0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZSA8IDM7IH0sXG4gKiAgIGl0ZXJhdGUodmFsdWUpIHsgcmV0dXJuIHZhbHVlICsgMTsgfSxcbiAqICAgcmVzdWx0U2VsZWN0b3IodmFsdWUpIHsgcmV0dXJuIHZhbHVlICogMTAwMDsgfVxuICogfSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdDb21wbGV0ZSEnKVxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDBcbiAqIC8vIDEwMDBcbiAqIC8vIDIwMDBcbiAqIC8vICdDb21wbGV0ZSEnXG4gKiBgYGBcbiAqXG4gKiBVc2Ugb3B0aW9ucyBvYmplY3Qgd2l0aG91dCBjb25kaXRpb24gZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSh7XG4gKiAgIGluaXRpYWxTdGF0ZTogMCxcbiAqICAgaXRlcmF0ZSh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgKyAxOyB9LFxuICogICByZXN1bHRTZWxlY3Rvcih2YWx1ZSkgeyByZXR1cm4gdmFsdWUgKiAxMDAwOyB9XG4gKiB9KTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpIC8vIFRoaXMgd2lsbCBuZXZlciBydW5cbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxMDAwXG4gKiAvLyAyMDAwXG4gKiAvLyAzMDAwXG4gKiAvLyAuLi5hbmQgbmV2ZXIgc3RvcHMuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmcm9tfVxuICpcbiAqIEBwYXJhbSB7U30gaW5pdGlhbFN0YXRlIEluaXRpYWwgc3RhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChzdGF0ZTogUyk6IGJvb2xlYW59IGNvbmRpdGlvbiBDb25kaXRpb24gdG8gdGVybWluYXRlIGdlbmVyYXRpb24gKHVwb24gcmV0dXJuaW5nIGZhbHNlKS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24gKHN0YXRlOiBTKTogU30gaXRlcmF0ZSBJdGVyYXRpb24gc3RlcCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24gKHN0YXRlOiBTKTogVH0gW3Jlc3VsdFNlbGVjdG9yXSBTZWxlY3RvciBmdW5jdGlvbiBmb3IgcmVzdWx0cyBwcm9kdWNlZCBpbiB0aGUgc2VxdWVuY2UuXG4gKiBAcGFyYW0ge1NjaGVkdWxlcn0gW3NjaGVkdWxlcl0gQSB7QGxpbmsgU2NoZWR1bGVyfSBvbiB3aGljaCB0byBydW4gdGhlIGdlbmVyYXRvciBsb29wLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGVtaXR0aW5nIGltbWVkaWF0ZWx5LlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gVGhlIGdlbmVyYXRlZCBzZXF1ZW5jZS5cbiAqIEBkZXByZWNhdGVkIEluc3RlYWQgb2YgcGFzc2luZyBzZXBhcmF0ZSBhcmd1bWVudHMsIHVzZSB0aGUgb3B0aW9ucyBhcmd1bWVudC4gU2lnbmF0dXJlcyB0YWtpbmcgc2VwYXJhdGUgYXJndW1lbnRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlPFM+KFxuICBpbml0aWFsU3RhdGU6IFMsXG4gIGNvbmRpdGlvbjogQ29uZGl0aW9uRnVuYzxTPixcbiAgaXRlcmF0ZTogSXRlcmF0ZUZ1bmM8Uz4sXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9ic2VydmFibGU8Uz47XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIG9ic2VydmFibGUgc2VxdWVuY2UgYnkgcnVubmluZyBhIHN0YXRlLWRyaXZlbiBsb29wXG4gKiBwcm9kdWNpbmcgdGhlIHNlcXVlbmNlJ3MgZWxlbWVudHMsIHVzaW5nIHRoZSBzcGVjaWZpZWQgc2NoZWR1bGVyXG4gKiB0byBzZW5kIG91dCBvYnNlcnZlciBtZXNzYWdlcy5cbiAqIFRoZSBvdmVybG9hZCBhY2NlcHRzIG9wdGlvbnMgb2JqZWN0IHRoYXQgbWlnaHQgY29udGFpbiBpbml0aWFsIHN0YXRlLCBpdGVyYXRlLFxuICogY29uZGl0aW9uIGFuZCBzY2hlZHVsZXIuXG4gKlxuICogIVtdKGdlbmVyYXRlLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIFVzZSBvcHRpb25zIG9iamVjdCB3aXRoIGNvbmRpdGlvbiBmdW5jdGlvblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGdlbmVyYXRlKHtcbiAqICAgaW5pdGlhbFN0YXRlOiAwLFxuICogICBjb25kaXRpb246IHggPT4geCA8IDMsXG4gKiAgIGl0ZXJhdGU6IHggPT4geCArIDFcbiAqIH0pO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29tcGxldGUhJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAnQ29tcGxldGUhJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZnJvbX1cbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGV9XG4gKlxuICogQHBhcmFtIHtHZW5lcmF0ZUJhc2VPcHRpb25zPFM+fSBvcHRpb25zIE9iamVjdCB0aGF0IG11c3QgY29udGFpbiBpbml0aWFsU3RhdGUsIGl0ZXJhdGUgYW5kIG1pZ2h0IGNvbnRhaW4gY29uZGl0aW9uIGFuZCBzY2hlZHVsZXIuXG4gKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxTPn0gVGhlIGdlbmVyYXRlZCBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlPFM+KG9wdGlvbnM6IEdlbmVyYXRlQmFzZU9wdGlvbnM8Uz4pOiBPYnNlcnZhYmxlPFM+O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhbiBvYnNlcnZhYmxlIHNlcXVlbmNlIGJ5IHJ1bm5pbmcgYSBzdGF0ZS1kcml2ZW4gbG9vcFxuICogcHJvZHVjaW5nIHRoZSBzZXF1ZW5jZSdzIGVsZW1lbnRzLCB1c2luZyB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlclxuICogdG8gc2VuZCBvdXQgb2JzZXJ2ZXIgbWVzc2FnZXMuXG4gKiBUaGUgb3ZlcmxvYWQgYWNjZXB0cyBvcHRpb25zIG9iamVjdCB0aGF0IG1pZ2h0IGNvbnRhaW4gaW5pdGlhbCBzdGF0ZSwgaXRlcmF0ZSxcbiAqIGNvbmRpdGlvbiwgcmVzdWx0IHNlbGVjdG9yIGFuZCBzY2hlZHVsZXIuXG4gKlxuICogIVtdKGdlbmVyYXRlLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIFVzZSBvcHRpb25zIG9iamVjdCB3aXRoIGNvbmRpdGlvbiBhbmQgaXRlcmF0ZSBmdW5jdGlvblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGdlbmVyYXRlKHtcbiAqICAgaW5pdGlhbFN0YXRlOiAwLFxuICogICBjb25kaXRpb246IHggPT4geCA8IDMsXG4gKiAgIGl0ZXJhdGU6IHggPT4geCArIDEsXG4gKiAgIHJlc3VsdFNlbGVjdG9yOiB4ID0+IHhcbiAqIH0pO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29tcGxldGUhJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAnQ29tcGxldGUhJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZnJvbX1cbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGV9XG4gKlxuICogQHBhcmFtIHtHZW5lcmF0ZU9wdGlvbnM8VCwgUz59IG9wdGlvbnMgT2JqZWN0IHRoYXQgbXVzdCBjb250YWluIGluaXRpYWxTdGF0ZSwgaXRlcmF0ZSwgcmVzdWx0U2VsZWN0b3IgYW5kIG1pZ2h0IGNvbnRhaW4gY29uZGl0aW9uIGFuZCBzY2hlZHVsZXIuXG4gKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxUPn0gVGhlIGdlbmVyYXRlZCBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlPFQsIFM+KG9wdGlvbnM6IEdlbmVyYXRlT3B0aW9uczxULCBTPik6IE9ic2VydmFibGU8VD47XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZTxULCBTPihcbiAgaW5pdGlhbFN0YXRlT3JPcHRpb25zOiBTIHwgR2VuZXJhdGVPcHRpb25zPFQsIFM+LFxuICBjb25kaXRpb24/OiBDb25kaXRpb25GdW5jPFM+LFxuICBpdGVyYXRlPzogSXRlcmF0ZUZ1bmM8Uz4sXG4gIHJlc3VsdFNlbGVjdG9yT3JTY2hlZHVsZXI/OiBSZXN1bHRGdW5jPFMsIFQ+IHwgU2NoZWR1bGVyTGlrZSxcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT2JzZXJ2YWJsZTxUPiB7XG4gIGxldCByZXN1bHRTZWxlY3RvcjogUmVzdWx0RnVuYzxTLCBUPjtcbiAgbGV0IGluaXRpYWxTdGF0ZTogUztcblxuICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBhcyB3ZSBtb3ZlIGF3YXkgZnJvbSBkZXByZWNhdGVkIHNpZ25hdHVyZXNcbiAgLy8gYW5kIG1vdmUgdG93YXJkcyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGFyZ3VtZW50LlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIElmIHdlIG9ubHkgaGF2ZSBvbmUgYXJndW1lbnQsIHdlIGNhbiBhc3N1bWUgaXQgaXMgYSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAvLyBOb3RlIHRoYXQgZm9sa3Mgbm90IHVzaW5nIFR5cGVTY3JpcHQgbWF5IHRyaXAgb3ZlciB0aGlzLlxuICAgICh7XG4gICAgICBpbml0aWFsU3RhdGUsXG4gICAgICBjb25kaXRpb24sXG4gICAgICBpdGVyYXRlLFxuICAgICAgcmVzdWx0U2VsZWN0b3IgPSBpZGVudGl0eSBhcyBSZXN1bHRGdW5jPFMsIFQ+LFxuICAgICAgc2NoZWR1bGVyLFxuICAgIH0gPSBpbml0aWFsU3RhdGVPck9wdGlvbnMgYXMgR2VuZXJhdGVPcHRpb25zPFQsIFM+KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBEZXByZWNhdGVkIGFyZ3VtZW50cyBwYXRoLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHVzZXJcbiAgICAvLyBwYXNzZWQgYW5kIHNldCBpdCBoZXJlLlxuICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucyBhcyBTO1xuICAgIGlmICghcmVzdWx0U2VsZWN0b3JPclNjaGVkdWxlciB8fCBpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3Rvck9yU2NoZWR1bGVyKSkge1xuICAgICAgcmVzdWx0U2VsZWN0b3IgPSBpZGVudGl0eSBhcyBSZXN1bHRGdW5jPFMsIFQ+O1xuICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3JPclNjaGVkdWxlciBhcyBTY2hlZHVsZXJMaWtlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yT3JTY2hlZHVsZXIgYXMgUmVzdWx0RnVuYzxTLCBUPjtcbiAgICB9XG4gIH1cblxuICAvLyBUaGUgYWN0dWFsIGdlbmVyYXRvciB1c2VkIHRvIFwiZ2VuZXJhdGVcIiB2YWx1ZXMuXG4gIGZ1bmN0aW9uKiBnZW4oKSB7XG4gICAgZm9yIChsZXQgc3RhdGUgPSBpbml0aWFsU3RhdGU7ICFjb25kaXRpb24gfHwgY29uZGl0aW9uKHN0YXRlKTsgc3RhdGUgPSBpdGVyYXRlIShzdGF0ZSkpIHtcbiAgICAgIHlpZWxkIHJlc3VsdFNlbGVjdG9yKHN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBXZSB1c2UgYGRlZmVyYCBiZWNhdXNlIHdlIHdhbnQgdG8gZGVmZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBpdGVyYXRvciBmcm9tIHRoZSBpdGVyYWJsZS5cbiAgcmV0dXJuIGRlZmVyKFxuICAgIChzY2hlZHVsZXJcbiAgICAgID8gLy8gSWYgYSBzY2hlZHVsZXIgd2FzIHByb3ZpZGVkLCB1c2UgYHNjaGVkdWxlSXRlcmFibGVgIHRvIGVuc3VyZSB0aGF0IGl0ZXJhdGlvbi9nZW5lcmF0aW9uXG4gICAgICAgIC8vIGhhcHBlbnMgb24gdGhlIHNjaGVkdWxlci5cbiAgICAgICAgKCkgPT4gc2NoZWR1bGVJdGVyYWJsZShnZW4oKSwgc2NoZWR1bGVyISlcbiAgICAgIDogLy8gT3RoZXJ3aXNlLCBpZiB0aGVyZSdzIG5vIHNjaGVkdWxlciwgd2UgY2FuIGp1c3QgdXNlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gZGlyZWN0bHkgaW5cbiAgICAgICAgLy8gYGRlZmVyYCBhbmQgZXhlY3V0aW5nIGl0IHdpbGwgcmV0dXJuIHRoZSBnZW5lcmF0b3IgKHdoaWNoIGlzIGl0ZXJhYmxlKS5cbiAgICAgICAgZ2VuKSBhcyAoKSA9PiBPYnNlcnZhYmxlSW5wdXQ8VD5cbiAgKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9kZWZlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQ2hlY2tzIGEgYm9vbGVhbiBhdCBzdWJzY3JpcHRpb24gdGltZSwgYW5kIGNob29zZXMgYmV0d2VlbiBvbmUgb2YgdHdvIG9ic2VydmFibGUgc291cmNlc1xuICpcbiAqIGBpaWZgIGV4cGVjdHMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBib29sZWFuICh0aGUgYGNvbmRpdGlvbmAgZnVuY3Rpb24pLCBhbmQgdHdvIHNvdXJjZXMsXG4gKiB0aGUgYHRydWVSZXN1bHRgIGFuZCB0aGUgYGZhbHNlUmVzdWx0YCwgYW5kIHJldHVybnMgYW4gT2JzZXJ2YWJsZS5cbiAqXG4gKiBBdCB0aGUgbW9tZW50IG9mIHN1YnNjcmlwdGlvbiwgdGhlIGBjb25kaXRpb25gIGZ1bmN0aW9uIGlzIGNhbGxlZC4gSWYgdGhlIHJlc3VsdCBpcyBgdHJ1ZWAsIHRoZVxuICogc3Vic2NyaXB0aW9uIHdpbGwgYmUgdG8gdGhlIHNvdXJjZSBwYXNzZWQgYXMgdGhlIGB0cnVlUmVzdWx0YCwgb3RoZXJ3aXNlLCB0aGUgc3Vic2NyaXB0aW9uIHdpbGwgYmVcbiAqIHRvIHRoZSBzb3VyY2UgcGFzc2VkIGFzIHRoZSBgZmFsc2VSZXN1bHRgLlxuICpcbiAqIElmIHlvdSBuZWVkIHRvIGNoZWNrIG1vcmUgdGhhbiB0d28gb3B0aW9ucyB0byBjaG9vc2UgYmV0d2VlbiBtb3JlIHRoYW4gb25lIG9ic2VydmFibGUsIGhhdmUgYSBsb29rIGF0IHRoZSB7QGxpbmsgZGVmZXJ9IGNyZWF0aW9uIG1ldGhvZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIENoYW5nZSBhdCBydW50aW1lIHdoaWNoIE9ic2VydmFibGUgd2lsbCBiZSBzdWJzY3JpYmVkXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGlpZiwgb2YgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBsZXQgc3Vic2NyaWJlVG9GaXJzdDtcbiAqIGNvbnN0IGZpcnN0T3JTZWNvbmQgPSBpaWYoXG4gKiAgICgpID0+IHN1YnNjcmliZVRvRmlyc3QsXG4gKiAgIG9mKCdmaXJzdCcpLFxuICogICBvZignc2Vjb25kJylcbiAqICk7XG4gKlxuICogc3Vic2NyaWJlVG9GaXJzdCA9IHRydWU7XG4gKiBmaXJzdE9yU2Vjb25kLnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAnZmlyc3QnXG4gKlxuICogc3Vic2NyaWJlVG9GaXJzdCA9IGZhbHNlO1xuICogZmlyc3RPclNlY29uZC5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gJ3NlY29uZCdcbiAqIGBgYFxuICpcbiAqIENvbnRyb2wgYWNjZXNzIHRvIGFuIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaWlmLCBvZiwgRU1QVFkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBsZXQgYWNjZXNzR3JhbnRlZDtcbiAqIGNvbnN0IG9ic2VydmFibGVJZllvdUhhdmVBY2Nlc3MgPSBpaWYoXG4gKiAgICgpID0+IGFjY2Vzc0dyYW50ZWQsXG4gKiAgIG9mKCdJdCBzZWVtcyB5b3UgaGF2ZSBhbiBhY2Nlc3MuLi4nKSxcbiAqICAgRU1QVFlcbiAqICk7XG4gKlxuICogYWNjZXNzR3JhbnRlZCA9IHRydWU7XG4gKiBvYnNlcnZhYmxlSWZZb3VIYXZlQWNjZXNzLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdUaGUgZW5kJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAnSXQgc2VlbXMgeW91IGhhdmUgYW4gYWNjZXNzLi4uJ1xuICogLy8gJ1RoZSBlbmQnXG4gKlxuICogYWNjZXNzR3JhbnRlZCA9IGZhbHNlO1xuICogb2JzZXJ2YWJsZUlmWW91SGF2ZUFjY2Vzcy5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnVGhlIGVuZCcpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gJ1RoZSBlbmQnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkZWZlcn1cbiAqXG4gKiBAcGFyYW0gY29uZGl0aW9uIENvbmRpdGlvbiB3aGljaCBPYnNlcnZhYmxlIHNob3VsZCBiZSBjaG9zZW4uXG4gKiBAcGFyYW0gdHJ1ZVJlc3VsdCBBbiBPYnNlcnZhYmxlIHRoYXQgd2lsbCBiZSBzdWJzY3JpYmVkIGlmIGNvbmRpdGlvbiBpcyB0cnVlLlxuICogQHBhcmFtIGZhbHNlUmVzdWx0IEFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHN1YnNjcmliZWQgaWYgY29uZGl0aW9uIGlzIGZhbHNlLlxuICogQHJldHVybiBBbiBvYnNlcnZhYmxlIHRoYXQgcHJveGllcyB0byBgdHJ1ZVJlc3VsdGAgb3IgYGZhbHNlUmVzdWx0YCwgZGVwZW5kaW5nIG9uIHRoZSByZXN1bHQgb2YgdGhlIGBjb25kaXRpb25gIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaWlmPFQsIEY+KGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbiwgdHJ1ZVJlc3VsdDogT2JzZXJ2YWJsZUlucHV0PFQ+LCBmYWxzZVJlc3VsdDogT2JzZXJ2YWJsZUlucHV0PEY+KTogT2JzZXJ2YWJsZTxUIHwgRj4ge1xuICByZXR1cm4gZGVmZXIoKCkgPT4gKGNvbmRpdGlvbigpID8gdHJ1ZVJlc3VsdCA6IGZhbHNlUmVzdWx0KSk7XG59XG4iLCJpbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YsIFJlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlubmVyRnJvbTxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KGlucHV0OiBPKTogT2JzZXJ2YWJsZTxPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyRnJvbTxUPihpbnB1dDogT2JzZXJ2YWJsZUlucHV0PFQ+KTogT2JzZXJ2YWJsZTxUPiB7XG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbiAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmcm9tSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gZnJvbVByb21pc2UoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIHRocm93IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIFJ4SlMgT2JzZXJ2YWJsZSBmcm9tIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYFN5bWJvbC5vYnNlcnZhYmxlYC5cbiAqIEBwYXJhbSBvYmogQW4gb2JqZWN0IHRoYXQgcHJvcGVybHkgaW1wbGVtZW50cyBgU3ltYm9sLm9ic2VydmFibGVgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUludGVyb3BPYnNlcnZhYmxlPFQ+KG9iajogYW55KSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4ge1xuICAgIGNvbnN0IG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICBpZiAoaXNGdW5jdGlvbihvYnMuc3Vic2NyaWJlKSkge1xuICAgICAgcmV0dXJuIG9icy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIC8vIFNob3VsZCBiZSBjYXVnaHQgYnkgb2JzZXJ2YWJsZSBzdWJzY3JpYmUgZnVuY3Rpb24gZXJyb3IgaGFuZGxpbmcuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogU3luY2hyb25vdXNseSBlbWl0cyB0aGUgdmFsdWVzIG9mIGFuIGFycmF5IGxpa2UgYW5kIGNvbXBsZXRlcy5cbiAqIFRoaXMgaXMgZXhwb3J0ZWQgYmVjYXVzZSB0aGVyZSBhcmUgY3JlYXRpb24gZnVuY3Rpb25zIGFuZCBvcGVyYXRvcnMgdGhhdCBuZWVkIHRvXG4gKiBtYWtlIGRpcmVjdCB1c2Ugb2YgdGhlIHNhbWUgbG9naWMsIGFuZCB0aGVyZSdzIG5vIHJlYXNvbiB0byBtYWtlIHRoZW0gcnVuIHRocm91Z2hcbiAqIGBmcm9tYCBjb25kaXRpb25hbHMgYmVjYXVzZSB3ZSAqa25vdyogdGhleSdyZSBkZWFsaW5nIHdpdGggYW4gYXJyYXkuXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIGVtaXQgdmFsdWVzIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheUxpa2U8VD4oYXJyYXk6IEFycmF5TGlrZTxUPikge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHtcbiAgICAvLyBMb29wIG92ZXIgdGhlIGFycmF5IGFuZCBlbWl0IGVhY2ggdmFsdWUuIE5vdGUgdHdvIHRoaW5ncyBoZXJlOlxuICAgIC8vIDEuIFdlJ3JlIG1ha2luZyBzdXJlIHRoYXQgdGhlIHN1YnNjcmliZXIgaXMgbm90IGNsb3NlZCBvbiBlYWNoIGxvb3AuXG4gICAgLy8gICAgVGhpcyBpcyBzbyB3ZSBkb24ndCBjb250aW51ZSBsb29waW5nIG92ZXIgYSB2ZXJ5IGxhcmdlIGFycmF5IGFmdGVyXG4gICAgLy8gICAgc29tZXRoaW5nIGxpa2UgYSBgdGFrZWAsIGB0YWtlV2hpbGVgLCBvciBvdGhlciBzeW5jaHJvbm91cyB1bnN1YnNjcmlwdGlvblxuICAgIC8vICAgIGhhcyBhbHJlYWR5IHVuc3Vic2NyaWJlZC5cbiAgICAvLyAyLiBJbiB0aGlzIGZvcm0sIHJlZW50cmFudCBjb2RlIGNhbiBhbHRlciB0aGF0IGFycmF5IHdlJ3JlIGxvb3Bpbmcgb3Zlci5cbiAgICAvLyAgICBUaGlzIGlzIGEga25vd24gaXNzdWUsIGJ1dCBjb25zaWRlcmVkIGFuIGVkZ2UgY2FzZS4gVGhlIGFsdGVybmF0aXZlIHdvdWxkXG4gICAgLy8gICAgYmUgdG8gY29weSB0aGUgYXJyYXkgYmVmb3JlIGV4ZWN1dGluZyB0aGUgbG9vcCwgYnV0IHRoaXMgaGFzXG4gICAgLy8gICAgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2U8VD4ocHJvbWlzZTogUHJvbWlzZUxpa2U8VD4pIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiB7XG4gICAgcHJvbWlzZVxuICAgICAgLnRoZW4oXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoZXJyOiBhbnkpID0+IHN1YnNjcmliZXIuZXJyb3IoZXJyKVxuICAgICAgKVxuICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZTxUPihpdGVyYWJsZTogSXRlcmFibGU8VD4pIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiBpdGVyYWJsZSkge1xuICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXN5bmNJdGVyYWJsZTxUPihhc3luY0l0ZXJhYmxlOiBBc3luY0l0ZXJhYmxlPFQ+KSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4ge1xuICAgIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikuY2F0Y2goKGVycikgPT4gc3Vic2NyaWJlci5lcnJvcihlcnIpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlPFQ+KHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbUxpa2U8VD4pIHtcbiAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJvY2VzczxUPihhc3luY0l0ZXJhYmxlOiBBc3luY0l0ZXJhYmxlPFQ+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSB7XG4gIGZvciBhd2FpdCAoY29uc3QgdmFsdWUgb2YgYXN5bmNJdGVyYWJsZSkge1xuICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgLy8gQSBzaWRlLWVmZmVjdCBtYXkgaGF2ZSBjbG9zZWQgb3VyIHN1YnNjcmliZXIsXG4gICAgLy8gY2hlY2sgYmVmb3JlIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi90aW1lcic7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgc2VxdWVudGlhbCBudW1iZXJzIGV2ZXJ5IHNwZWNpZmllZFxuICogaW50ZXJ2YWwgb2YgdGltZSwgb24gYSBzcGVjaWZpZWQge0BsaW5rIFNjaGVkdWxlckxpa2V9LlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FbWl0cyBpbmNyZW1lbnRhbCBudW1iZXJzIHBlcmlvZGljYWxseSBpbiB0aW1lLjwvc3Bhbj5cbiAqXG4gKiAhW10oaW50ZXJ2YWwucG5nKVxuICpcbiAqIGBpbnRlcnZhbGAgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYW4gaW5maW5pdGUgc2VxdWVuY2Ugb2ZcbiAqIGFzY2VuZGluZyBpbnRlZ2Vycywgd2l0aCBhIGNvbnN0YW50IGludGVydmFsIG9mIHRpbWUgb2YgeW91ciBjaG9vc2luZ1xuICogYmV0d2VlbiB0aG9zZSBlbWlzc2lvbnMuIFRoZSBmaXJzdCBlbWlzc2lvbiBpcyBub3Qgc2VudCBpbW1lZGlhdGVseSwgYnV0XG4gKiBvbmx5IGFmdGVyIHRoZSBmaXJzdCBwZXJpb2QgaGFzIHBhc3NlZC4gQnkgZGVmYXVsdCwgdGhpcyBvcGVyYXRvciB1c2VzIHRoZVxuICogYGFzeW5jYCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gcHJvdmlkZSBhIG5vdGlvbiBvZiB0aW1lLCBidXQgeW91IG1heSBwYXNzIGFueVxuICoge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIGl0LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0cyBhc2NlbmRpbmcgbnVtYmVycywgb25lIGV2ZXJ5IHNlY29uZCAoMTAwMG1zKSB1cCB0byB0aGUgbnVtYmVyIDNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBudW1iZXJzID0gaW50ZXJ2YWwoMTAwMCk7XG4gKlxuICogY29uc3QgdGFrZUZvdXJOdW1iZXJzID0gbnVtYmVycy5waXBlKHRha2UoNCkpO1xuICpcbiAqIHRha2VGb3VyTnVtYmVycy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnTmV4dDogJywgeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBOZXh0OiAwXG4gKiAvLyBOZXh0OiAxXG4gKiAvLyBOZXh0OiAyXG4gKiAvLyBOZXh0OiAzXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0aW1lcn1cbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGVyaW9kPTBdIFRoZSBpbnRlcnZhbCBzaXplIGluIG1pbGxpc2Vjb25kcyAoYnkgZGVmYXVsdClcbiAqIG9yIHRoZSB0aW1lIHVuaXQgZGV0ZXJtaW5lZCBieSB0aGUgc2NoZWR1bGVyJ3MgY2xvY2suXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9YXN5bmNdIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvciBzY2hlZHVsaW5nXG4gKiB0aGUgZW1pc3Npb24gb2YgdmFsdWVzLCBhbmQgcHJvdmlkaW5nIGEgbm90aW9uIG9mIFwidGltZVwiLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGEgc2VxdWVudGlhbCBudW1iZXIgZWFjaCB0aW1lXG4gKiBpbnRlcnZhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCA9IDAsIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSA9IGFzeW5jU2NoZWR1bGVyKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgaWYgKHBlcmlvZCA8IDApIHtcbiAgICAvLyBXZSBjYW5ub3Qgc2NoZWR1bGUgYW4gaW50ZXJ2YWwgaW4gdGhlIHBhc3QuXG4gICAgcGVyaW9kID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aW1lcihwZXJpb2QsIHBlcmlvZCwgc2NoZWR1bGVyKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuaW1wb3J0IHsgcG9wTnVtYmVyLCBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBW251bWJlcl0+O1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLnNvdXJjZXNBbmRDb25jdXJyZW5jeTogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBudW1iZXI/XSk6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgbWVyZ2VBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBTY2hlZHVsZXJMaWtlP11cbik6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgbWVyZ2VBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZENvbmN1cnJlbmN5QW5kU2NoZWR1bGVyOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sIG51bWJlcj8sIFNjaGVkdWxlckxpa2U/XVxuKTogT2JzZXJ2YWJsZTxBW251bWJlcl0+O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb3V0cHV0IE9ic2VydmFibGUgd2hpY2ggY29uY3VycmVudGx5IGVtaXRzIGFsbCB2YWx1ZXMgZnJvbSBldmVyeVxuICogZ2l2ZW4gaW5wdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RmxhdHRlbnMgbXVsdGlwbGUgT2JzZXJ2YWJsZXMgdG9nZXRoZXIgYnkgYmxlbmRpbmdcbiAqIHRoZWlyIHZhbHVlcyBpbnRvIG9uZSBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10obWVyZ2UucG5nKVxuICpcbiAqIGBtZXJnZWAgc3Vic2NyaWJlcyB0byBlYWNoIGdpdmVuIGlucHV0IE9ic2VydmFibGUgKGFzIGFyZ3VtZW50cyksIGFuZCBzaW1wbHlcbiAqIGZvcndhcmRzICh3aXRob3V0IGRvaW5nIGFueSB0cmFuc2Zvcm1hdGlvbikgYWxsIHRoZSB2YWx1ZXMgZnJvbSBhbGwgdGhlIGlucHV0XG4gKiBPYnNlcnZhYmxlcyB0byB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5IGNvbXBsZXRlc1xuICogb25jZSBhbGwgaW5wdXQgT2JzZXJ2YWJsZXMgaGF2ZSBjb21wbGV0ZWQuIEFueSBlcnJvciBkZWxpdmVyZWQgYnkgYW4gaW5wdXRcbiAqIE9ic2VydmFibGUgd2lsbCBiZSBpbW1lZGlhdGVseSBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIE1lcmdlIHRvZ2V0aGVyIHR3byBPYnNlcnZhYmxlczogMXMgaW50ZXJ2YWwgYW5kIGNsaWNrc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBtZXJnZSwgZnJvbUV2ZW50LCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCB0aW1lciA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgY2xpY2tzT3JUaW1lciA9IG1lcmdlKGNsaWNrcywgdGltZXIpO1xuICogY2xpY2tzT3JUaW1lci5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gdGltZXIgd2lsbCBlbWl0IGFzY2VuZGluZyB2YWx1ZXMsIG9uZSBldmVyeSBzZWNvbmQoMTAwMG1zKSB0byBjb25zb2xlXG4gKiAvLyBjbGlja3MgbG9ncyBNb3VzZUV2ZW50cyB0byBjb25zb2xlIGV2ZXJ5IHRpbWUgdGhlIFwiZG9jdW1lbnRcIiBpcyBjbGlja2VkXG4gKiAvLyBTaW5jZSB0aGUgdHdvIHN0cmVhbXMgYXJlIG1lcmdlZCB5b3Ugc2VlIHRoZXNlIGhhcHBlbmluZ1xuICogLy8gYXMgdGhleSBvY2N1ci5cbiAqIGBgYFxuICpcbiAqIE1lcmdlIHRvZ2V0aGVyIDMgT2JzZXJ2YWJsZXMsIGJ1dCBydW4gb25seSAyIGNvbmN1cnJlbnRseVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgbWVyZ2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0aW1lcjEgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoMTApKTtcbiAqIGNvbnN0IHRpbWVyMiA9IGludGVydmFsKDIwMDApLnBpcGUodGFrZSg2KSk7XG4gKiBjb25zdCB0aW1lcjMgPSBpbnRlcnZhbCg1MDApLnBpcGUodGFrZSgxMCkpO1xuICpcbiAqIGNvbnN0IGNvbmN1cnJlbnQgPSAyOyAvLyB0aGUgYXJndW1lbnRcbiAqIGNvbnN0IG1lcmdlZCA9IG1lcmdlKHRpbWVyMSwgdGltZXIyLCB0aW1lcjMsIGNvbmN1cnJlbnQpO1xuICogbWVyZ2VkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAtIEZpcnN0IHRpbWVyMSBhbmQgdGltZXIyIHdpbGwgcnVuIGNvbmN1cnJlbnRseVxuICogLy8gLSB0aW1lcjEgd2lsbCBlbWl0IGEgdmFsdWUgZXZlcnkgMTAwMG1zIGZvciAxMCBpdGVyYXRpb25zXG4gKiAvLyAtIHRpbWVyMiB3aWxsIGVtaXQgYSB2YWx1ZSBldmVyeSAyMDAwbXMgZm9yIDYgaXRlcmF0aW9uc1xuICogLy8gLSBhZnRlciB0aW1lcjEgaGl0cyBpdHMgbWF4IGl0ZXJhdGlvbiwgdGltZXIyIHdpbGxcbiAqIC8vICAgY29udGludWUsIGFuZCB0aW1lcjMgd2lsbCBzdGFydCB0byBydW4gY29uY3VycmVudGx5IHdpdGggdGltZXIyXG4gKiAvLyAtIHdoZW4gdGltZXIyIGhpdHMgaXRzIG1heCBpdGVyYXRpb24gaXQgdGVybWluYXRlcywgYW5kXG4gKiAvLyAgIHRpbWVyMyB3aWxsIGNvbnRpbnVlIHRvIGVtaXQgYSB2YWx1ZSBldmVyeSA1MDBtcyB1bnRpbCBpdCBpcyBjb21wbGV0ZVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKlxuICogQHBhcmFtIHsuLi5PYnNlcnZhYmxlSW5wdXR9IG9ic2VydmFibGVzIElucHV0IE9ic2VydmFibGVzIHRvIG1lcmdlIHRvZ2V0aGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PUluZmluaXR5XSBNYXhpbXVtIG51bWJlciBvZiBpbnB1dFxuICogT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9bnVsbF0gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIG1hbmFnaW5nXG4gKiBjb25jdXJyZW5jeSBvZiBpbnB1dCBPYnNlcnZhYmxlcy5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyB0aGF0IGFyZSB0aGUgcmVzdWx0IG9mXG4gKiBldmVyeSBpbnB1dCBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoLi4uYXJnczogKE9ic2VydmFibGVJbnB1dDx1bmtub3duPiB8IG51bWJlciB8IFNjaGVkdWxlckxpa2UpW10pOiBPYnNlcnZhYmxlPHVua25vd24+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKGFyZ3MpO1xuICBjb25zdCBjb25jdXJyZW50ID0gcG9wTnVtYmVyKGFyZ3MsIEluZmluaXR5KTtcbiAgY29uc3Qgc291cmNlcyA9IGFyZ3MgYXMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+W107XG4gIHJldHVybiAhc291cmNlcy5sZW5ndGhcbiAgICA/IC8vIE5vIHNvdXJjZSBwcm92aWRlZFxuICAgICAgRU1QVFlcbiAgICA6IHNvdXJjZXMubGVuZ3RoID09PSAxXG4gICAgPyAvLyBPbmUgc291cmNlPyBKdXN0IHJldHVybiBpdC5cbiAgICAgIGlubmVyRnJvbShzb3VyY2VzWzBdKVxuICAgIDogLy8gTWVyZ2UgYWxsIHNvdXJjZXNcbiAgICAgIG1lcmdlQWxsKGNvbmN1cnJlbnQpKGZyb20oc291cmNlcywgc2NoZWR1bGVyKSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcblxuLyoqXG4gKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbm8gaXRlbXMgdG8gdGhlIE9ic2VydmVyIGFuZCBuZXZlciBjb21wbGV0ZXMuXG4gKlxuICogIVtdKG5ldmVyLnBuZylcbiAqXG4gKiBBIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbmVpdGhlciB2YWx1ZXMgbm9yIGVycm9ycyBub3IgdGhlIGNvbXBsZXRpb25cbiAqIG5vdGlmaWNhdGlvbi4gSXQgY2FuIGJlIHVzZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb3IgZm9yIGNvbXBvc2luZyB3aXRoIG90aGVyXG4gKiBPYnNlcnZhYmxlcy4gUGxlYXNlIG5vdGUgdGhhdCBieSBuZXZlciBlbWl0dGluZyBhIGNvbXBsZXRlIG5vdGlmaWNhdGlvbiwgdGhpc1xuICogT2JzZXJ2YWJsZSBrZWVwcyB0aGUgc3Vic2NyaXB0aW9uIGZyb20gYmVpbmcgZGlzcG9zZWQgYXV0b21hdGljYWxseS5cbiAqIFN1YnNjcmlwdGlvbnMgbmVlZCB0byBiZSBtYW51YWxseSBkaXNwb3NlZC5cbiAqXG4gKiAjIyAgRXhhbXBsZVxuICpcbiAqIEVtaXQgdGhlIG51bWJlciA3LCB0aGVuIG5ldmVyIGVtaXQgYW55dGhpbmcgZWxzZSAobm90IGV2ZW4gY29tcGxldGUpXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IE5FVkVSLCBzdGFydFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBpbmZvID0gKCkgPT4gY29uc29sZS5sb2coJ1dpbGwgbm90IGJlIGNhbGxlZCcpO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IE5FVkVSLnBpcGUoc3RhcnRXaXRoKDcpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB4ID0+IGNvbnNvbGUubG9nKHgpLFxuICogICBlcnJvcjogaW5mbyxcbiAqICAgY29tcGxldGU6IGluZm9cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgT2JzZXJ2YWJsZX1cbiAqIEBzZWUge0BsaW5rIEVNUFRZfVxuICogQHNlZSB7QGxpbmsgb2Z9XG4gKiBAc2VlIHtAbGluayB0aHJvd0Vycm9yfVxuICovXG5leHBvcnQgY29uc3QgTkVWRVIgPSBuZXcgT2JzZXJ2YWJsZTxuZXZlcj4obm9vcCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB0aGUge0BsaW5rIE5FVkVSfSBjb25zdGFudC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIoKSB7XG4gIHJldHVybiBORVZFUjtcbn1cbiIsImltcG9ydCB7IFNjaGVkdWxlckxpa2UsIFZhbHVlRnJvbUFycmF5IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuXG4vLyBEZXZzIGFyZSBtb3JlIGxpa2VseSB0byBwYXNzIG51bGwgb3IgdW5kZWZpbmVkIHRoYW4gdGhleSBhcmUgYSBzY2hlZHVsZXJcbi8vIHdpdGhvdXQgYWNjb21wYW55aW5nIHZhbHVlcy4gVG8gbWFrZSB0aGluZ3MgZWFzaWVyIGZvciAobmF1Z2h0eSkgZGV2cyB3aG9cbi8vIHVzZSB0aGUgYHN0cmljdE51bGxDaGVja3M6IGZhbHNlYCBUeXBlU2NyaXB0IGNvbXBpbGVyIG9wdGlvbiwgdGhlc2Vcbi8vIG92ZXJsb2FkcyB3aXRoIGV4cGxpY2l0IG51bGwgYW5kIHVuZGVmaW5lZCB2YWx1ZXMgYXJlIGluY2x1ZGVkLlxuXG5leHBvcnQgZnVuY3Rpb24gb2YodmFsdWU6IG51bGwpOiBPYnNlcnZhYmxlPG51bGw+O1xuZXhwb3J0IGZ1bmN0aW9uIG9mKHZhbHVlOiB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPHVuZGVmaW5lZD47XG5cbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBvZihzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPG5ldmVyPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBvZjxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi52YWx1ZXNBbmRTY2hlZHVsZXI6IFsuLi5BLCBTY2hlZHVsZXJMaWtlXSk6IE9ic2VydmFibGU8VmFsdWVGcm9tQXJyYXk8QT4+O1xuXG5leHBvcnQgZnVuY3Rpb24gb2YoKTogT2JzZXJ2YWJsZTxuZXZlcj47XG4vKiogQGRlcHJlY2F0ZWQgRG8gbm90IHNwZWNpZnkgZXhwbGljaXQgdHlwZSBwYXJhbWV0ZXJzLiBTaWduYXR1cmVzIHdpdGggdHlwZSBwYXJhbWV0ZXJzIHRoYXQgY2Fubm90IGJlIGluZmVycmVkIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvZjxUPigpOiBPYnNlcnZhYmxlPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIG9mPFQ+KHZhbHVlOiBUKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBvZjxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi52YWx1ZXM6IEEpOiBPYnNlcnZhYmxlPFZhbHVlRnJvbUFycmF5PEE+PjtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYXJndW1lbnRzIHRvIGFuIG9ic2VydmFibGUgc2VxdWVuY2UuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkVhY2ggYXJndW1lbnQgYmVjb21lcyBhIGBuZXh0YCBub3RpZmljYXRpb24uPC9zcGFuPlxuICpcbiAqICFbXShvZi5wbmcpXG4gKlxuICogVW5saWtlIHtAbGluayBmcm9tfSwgaXQgZG9lcyBub3QgZG8gYW55IGZsYXR0ZW5pbmcgYW5kIGVtaXRzIGVhY2ggYXJndW1lbnQgaW4gd2hvbGVcbiAqIGFzIGEgc2VwYXJhdGUgYG5leHRgIG5vdGlmaWNhdGlvbi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgdGhlIHZhbHVlcyBgMTAsIDIwLCAzMGBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxMCwgMjAsIDMwKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZygnbmV4dDonLCB2YWx1ZSksXG4gKiAgICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZygnZXJyb3I6JywgZXJyKSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ3RoZSBlbmQnKSxcbiAqICAgfSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gbmV4dDogMTBcbiAqIC8vIG5leHQ6IDIwXG4gKiAvLyBuZXh0OiAzMFxuICogLy8gdGhlIGVuZFxuICogYGBgXG4gKlxuICogRW1pdCB0aGUgYXJyYXkgYFsxLCAyLCAzXWBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihbMSwgMiwgM10pXG4gKiAgIC5zdWJzY3JpYmUoe1xuICogICAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKCduZXh0OicsIHZhbHVlKSxcbiAqICAgICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKCdlcnJvcjonLCBlcnIpLFxuICogICAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygndGhlIGVuZCcpLFxuICogICB9KTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyBuZXh0OiBbMSwgMiwgM11cbiAqIC8vIHRoZSBlbmRcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKiBAc2VlIHtAbGluayByYW5nZX1cbiAqXG4gKiBAcGFyYW0gey4uLlR9IHZhbHVlcyBBIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGFyZ3VtZW50cyB5b3Ugd2FudCB0byBiZSBlbWl0dGVkXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGFyZ3VtZW50c1xuICogZGVzY3JpYmVkIGFib3ZlIGFuZCB0aGVuIGNvbXBsZXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9mPFQ+KC4uLmFyZ3M6IEFycmF5PFQgfCBTY2hlZHVsZXJMaWtlPik6IE9ic2VydmFibGU8VD4ge1xuICBjb25zdCBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIoYXJncyk7XG4gIHJldHVybiBmcm9tKGFyZ3MgYXMgVFtdLCBzY2hlZHVsZXIpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0VHVwbGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhcmdzT3JBcmdBcnJheSB9IGZyb20gJy4uL3V0aWwvYXJnc09yQXJnQXJyYXknO1xuaW1wb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHQ8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBW251bWJlcl0+O1xuXG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIFdoZW4gYW55IG9mIHRoZSBwcm92aWRlZCBPYnNlcnZhYmxlIGVtaXRzIGEgY29tcGxldGUgb3IgYW4gZXJyb3Igbm90aWZpY2F0aW9uLCBpdCBpbW1lZGlhdGVseSBzdWJzY3JpYmVzIHRvIHRoZSBuZXh0IG9uZVxuICogdGhhdCB3YXMgcGFzc2VkLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FeGVjdXRlIHNlcmllcyBvZiBPYnNlcnZhYmxlcyBubyBtYXR0ZXIgd2hhdCwgZXZlbiBpZiBpdCBtZWFucyBzd2FsbG93aW5nIGVycm9ycy48L3NwYW4+XG4gKlxuICogIVtdKG9uRXJyb3JSZXN1bWVOZXh0LnBuZylcbiAqXG4gKiBgb25FcnJvclJlc3VtZU5leHRgIHdpbGwgc3Vic2NyaWJlIHRvIGVhY2ggb2JzZXJ2YWJsZSBzb3VyY2UgaXQgaXMgcHJvdmlkZWQsIGluIG9yZGVyLlxuICogSWYgdGhlIHNvdXJjZSBpdCdzIHN1YnNjcmliZWQgdG8gZW1pdHMgYW4gZXJyb3Igb3IgY29tcGxldGVzLCBpdCB3aWxsIG1vdmUgdG8gdGhlIG5leHQgc291cmNlXG4gKiB3aXRob3V0IGVycm9yLlxuICpcbiAqIElmIGBvbkVycm9yUmVzdW1lTmV4dGAgaXMgcHJvdmlkZWQgbm8gYXJndW1lbnRzLCBvciBhIHNpbmdsZSwgZW1wdHkgYXJyYXksIGl0IHdpbGwgcmV0dXJuIHtAbGluayBFTVBUWX0uXG4gKlxuICogYG9uRXJyb3JSZXN1bWVOZXh0YCBpcyBiYXNpY2FsbHkge0BsaW5rIGNvbmNhdH0sIG9ubHkgaXQgd2lsbCBjb250aW51ZSwgZXZlbiBpZiBvbmUgb2YgaXRzXG4gKiBzb3VyY2VzIGVtaXRzIGFuIGVycm9yLlxuICpcbiAqIE5vdGUgdGhhdCB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIGFueSBlcnJvcnMgdGhyb3duIGJ5IHNvdXJjZXMgdmlhIHRoZSByZXN1bHQgb2ZcbiAqIGBvbkVycm9yUmVzdW1lTmV4dGAuIElmIHlvdSB3YW50IHRvIGhhbmRsZSBlcnJvcnMgdGhyb3duIGluIGFueSBnaXZlbiBzb3VyY2UsIHlvdSBjYW5cbiAqIGFsd2F5cyB1c2UgdGhlIHtAbGluayBjYXRjaEVycm9yfSBvcGVyYXRvciBvbiB0aGVtIGJlZm9yZSBwYXNzaW5nIHRoZW0gaW50byBgb25FcnJvclJlc3VtZU5leHRgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTdWJzY3JpYmUgdG8gdGhlIG5leHQgT2JzZXJ2YWJsZSBhZnRlciBtYXAgZmFpbHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb25FcnJvclJlc3VtZU5leHQsIG9mLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvbkVycm9yUmVzdW1lTmV4dChcbiAqICAgb2YoMSwgMiwgMywgMCkucGlwZShcbiAqICAgICBtYXAoeCA9PiB7XG4gKiAgICAgICBpZiAoeCA9PT0gMCkge1xuICogICAgICAgICB0aHJvdyBFcnJvcigpO1xuICogICAgICAgfVxuICogICAgICAgcmV0dXJuIDEwIC8geDtcbiAqICAgICB9KVxuICogICApLFxuICogICBvZigxLCAyLCAzKVxuICogKVxuICogLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZyhlcnIpLCAgICAgLy8gV2lsbCBuZXZlciBiZSBjYWxsZWQuXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnZG9uZScpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMTBcbiAqIC8vIDVcbiAqIC8vIDMuMzMzMzMzMzMzMzMzMzMzNVxuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogLy8gJ2RvbmUnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb25jYXR9XG4gKiBAc2VlIHtAbGluayBjYXRjaEVycm9yfVxuICpcbiAqIEBwYXJhbSB7Li4uT2JzZXJ2YWJsZUlucHV0fSBzb3VyY2VzIE9ic2VydmFibGVzIChvciBhbnl0aGluZyB0aGF0ICppcyogb2JzZXJ2YWJsZSkgcGFzc2VkIGVpdGhlciBkaXJlY3RseSBvciBhcyBhbiBhcnJheS5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgdGhhdCBjb25jYXRlbmF0ZXMgYWxsIHNvdXJjZXMsIG9uZSBhZnRlciB0aGUgb3RoZXIsXG4gKiBpZ25vcmluZyBhbGwgZXJyb3JzLCBzdWNoIHRoYXQgYW55IGVycm9yIGNhdXNlcyBpdCB0byBtb3ZlIG9uIHRvIHRoZSBuZXh0IHNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5zb3VyY2VzOiBbWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XV0gfCBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dXG4pOiBPYnNlcnZhYmxlPEFbbnVtYmVyXT4ge1xuICBjb25zdCBuZXh0U291cmNlczogT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4gPSBhcmdzT3JBcmdBcnJheShzb3VyY2VzKSBhcyBhbnk7XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IHNvdXJjZUluZGV4ID0gMDtcbiAgICBjb25zdCBzdWJzY3JpYmVOZXh0ID0gKCkgPT4ge1xuICAgICAgaWYgKHNvdXJjZUluZGV4IDwgbmV4dFNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBuZXh0U291cmNlOiBPYnNlcnZhYmxlPEFbbnVtYmVyXT47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV4dFNvdXJjZSA9IGlubmVyRnJvbShuZXh0U291cmNlc1tzb3VyY2VJbmRleCsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHN1YnNjcmliZU5leHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5uZXJTdWJzY3JpYmVyID0gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIG5vb3AsIG5vb3ApO1xuICAgICAgICBuZXh0U291cmNlLnN1YnNjcmliZShpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpbm5lclN1YnNjcmliZXIuYWRkKHN1YnNjcmliZU5leHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgc3Vic2NyaWJlTmV4dCgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGZyb20oT2JqZWN0LmVudHJpZXMob2JqKSlgIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzPFQ+KGFycjogcmVhZG9ubHkgVFtdLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxbc3RyaW5nLCBUXT47XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgZnJvbShPYmplY3QuZW50cmllcyhvYmopKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFpcnM8TyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PihvYmo6IE8sIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPFtrZXlvZiBPLCBPW2tleW9mIE9dXT47XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgZnJvbShPYmplY3QuZW50cmllcyhvYmopKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFpcnM8VD4oaXRlcmFibGU6IEl0ZXJhYmxlPFQ+LCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxbc3RyaW5nLCBUXT47XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBgZnJvbShPYmplY3QuZW50cmllcyhvYmopKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFpcnMoXG4gIG46IG51bWJlciB8IGJpZ2ludCB8IGJvb2xlYW4gfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpIHwgc3ltYm9sLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBPYnNlcnZhYmxlPFtuZXZlciwgbmV2ZXJdPjtcblxuLyoqXG4gKiBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGFuIE9ic2VydmFibGUgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlR1cm4gZW50cmllcyBvZiBhbiBvYmplY3QgaW50byBhIHN0cmVhbS48L3NwYW4+XG4gKlxuICogIVtdKHBhaXJzLnBuZylcbiAqXG4gKiBgcGFpcnNgIHRha2VzIGFuIGFyYml0cmFyeSBvYmplY3QgYW5kIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGFycmF5cy4gRWFjaFxuICogZW1pdHRlZCBhcnJheSBoYXMgZXhhY3RseSB0d28gZWxlbWVudHMgLSB0aGUgZmlyc3QgaXMgYSBrZXkgZnJvbSB0aGUgb2JqZWN0XG4gKiBhbmQgdGhlIHNlY29uZCBpcyBhIHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBrZXkuIEtleXMgYXJlIGV4dHJhY3RlZCBmcm9tXG4gKiBhbiBvYmplY3QgdmlhIGBPYmplY3Qua2V5c2AgZnVuY3Rpb24sIHdoaWNoIG1lYW5zIHRoYXQgdGhleSB3aWxsIGJlIG9ubHlcbiAqIGVudW1lcmFibGUga2V5cyB0aGF0IGFyZSBwcmVzZW50IG9uIGFuIG9iamVjdCBkaXJlY3RseSAtIG5vdCBvbmVzIGluaGVyaXRlZFxuICogdmlhIHByb3RvdHlwZSBjaGFpbi5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGVzZSBhcnJheXMgYXJlIGVtaXR0ZWQgc3luY2hyb25vdXNseS4gVG8gY2hhbmdlIHRoYXQgeW91IGNhblxuICogcGFzcyBhIHtAbGluayBTY2hlZHVsZXJMaWtlfSBhcyBhIHNlY29uZCBhcmd1bWVudCB0byBgcGFpcnNgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBDb252ZXJ0cyBhbiBvYmplY3QgdG8gYW4gT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBwYWlycyB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9iaiA9IHtcbiAqICAgZm9vOiA0MixcbiAqICAgYmFyOiA1NixcbiAqICAgYmF6OiA3OFxuICogfTtcbiAqXG4gKiBwYWlycyhvYmopLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdDb21wbGV0ZSEnKVxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIFsnZm9vJywgNDJdXG4gKiAvLyBbJ2JhcicsIDU2XVxuICogLy8gWydiYXonLCA3OF1cbiAqIC8vICdDb21wbGV0ZSEnXG4gKiBgYGBcbiAqXG4gKiAjIyMgT2JqZWN0LmVudHJpZXMgcmVxdWlyZWRcbiAqXG4gKiBJbiBJRSwgeW91IHdpbGwgbmVlZCB0byBwb2x5ZmlsbCBgT2JqZWN0LmVudHJpZXNgIGluIG9yZGVyIHRvIHVzZSB0aGlzLlxuICogW01ETiBoYXMgYSBwb2x5ZmlsbCBoZXJlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZW50cmllcylcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdCBhbmQgdHVybiBpbnRvIGFuXG4gKiBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICogQHBhcmFtIHtTY2hlZHVsZXJ9IFtzY2hlZHVsZXJdIEFuIG9wdGlvbmFsIElTY2hlZHVsZXIgdG8gc2NoZWR1bGVcbiAqIHdoZW4gcmVzdWx0aW5nIE9ic2VydmFibGUgd2lsbCBlbWl0IHZhbHVlcy5cbiAqIEByZXR1cm5zIHsoT2JzZXJ2YWJsZTxBcnJheTxzdHJpbmd8VD4+KX0gQW4gb2JzZXJ2YWJsZSBzZXF1ZW5jZSBvZlxuICogW2tleSwgdmFsdWVdIHBhaXJzIGZyb20gdGhlIG9iamVjdC5cbiAqIEBkZXByZWNhdGVkIFVzZSBgZnJvbShPYmplY3QuZW50cmllcyhvYmopKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFpcnMob2JqOiBhbnksIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIGZyb20oT2JqZWN0LmVudHJpZXMob2JqKSwgc2NoZWR1bGVyIGFzIGFueSk7XG59XG4iLCJpbXBvcnQgeyBub3QgfSBmcm9tICcuLi91dGlsL25vdCc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvZmlsdGVyJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcblxuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvbjxULCBVIGV4dGVuZHMgVCwgQT4oXG4gIHNvdXJjZTogT2JzZXJ2YWJsZUlucHV0PFQ+LFxuICBwcmVkaWNhdGU6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdmFsdWUgaXMgVSxcbiAgdGhpc0FyZzogQVxuKTogW09ic2VydmFibGU8VT4sIE9ic2VydmFibGU8RXhjbHVkZTxULCBVPj5dO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvbjxULCBVIGV4dGVuZHMgVD4oXG4gIHNvdXJjZTogT2JzZXJ2YWJsZUlucHV0PFQ+LFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdmFsdWUgaXMgVVxuKTogW09ic2VydmFibGU8VT4sIE9ic2VydmFibGU8RXhjbHVkZTxULCBVPj5dO1xuXG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uPFQsIEE+KFxuICBzb3VyY2U6IE9ic2VydmFibGVJbnB1dDxUPixcbiAgcHJlZGljYXRlOiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sXG4gIHRoaXNBcmc6IEFcbik6IFtPYnNlcnZhYmxlPFQ+LCBPYnNlcnZhYmxlPFQ+XTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb248VD4oc291cmNlOiBPYnNlcnZhYmxlSW5wdXQ8VD4sIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogW09ic2VydmFibGU8VD4sIE9ic2VydmFibGU8VD5dO1xuXG4vKipcbiAqIFNwbGl0cyB0aGUgc291cmNlIE9ic2VydmFibGUgaW50byB0d28sIG9uZSB3aXRoIHZhbHVlcyB0aGF0IHNhdGlzZnkgYVxuICogcHJlZGljYXRlLCBhbmQgYW5vdGhlciB3aXRoIHZhbHVlcyB0aGF0IGRvbid0IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBmaWx0ZXJ9LCBidXQgcmV0dXJucyB0d28gT2JzZXJ2YWJsZXM6XG4gKiBvbmUgbGlrZSB0aGUgb3V0cHV0IG9mIHtAbGluayBmaWx0ZXJ9LCBhbmQgdGhlIG90aGVyIHdpdGggdmFsdWVzIHRoYXQgZGlkIG5vdFxuICogcGFzcyB0aGUgY29uZGl0aW9uLjwvc3Bhbj5cbiAqXG4gKiAhW10ocGFydGl0aW9uLnBuZylcbiAqXG4gKiBgcGFydGl0aW9uYCBvdXRwdXRzIGFuIGFycmF5IHdpdGggdHdvIE9ic2VydmFibGVzIHRoYXQgcGFydGl0aW9uIHRoZSB2YWx1ZXNcbiAqIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRocm91Z2ggdGhlIGdpdmVuIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLiBUaGUgZmlyc3RcbiAqIE9ic2VydmFibGUgaW4gdGhhdCBhcnJheSBlbWl0cyBzb3VyY2UgdmFsdWVzIGZvciB3aGljaCB0aGUgcHJlZGljYXRlIGFyZ3VtZW50XG4gKiByZXR1cm5zIHRydWUuIFRoZSBzZWNvbmQgT2JzZXJ2YWJsZSBlbWl0cyBzb3VyY2UgdmFsdWVzIGZvciB3aGljaCB0aGVcbiAqIHByZWRpY2F0ZSByZXR1cm5zIGZhbHNlLiBUaGUgZmlyc3QgYmVoYXZlcyBsaWtlIHtAbGluayBmaWx0ZXJ9IGFuZCB0aGUgc2Vjb25kXG4gKiBiZWhhdmVzIGxpa2Uge0BsaW5rIGZpbHRlcn0gd2l0aCB0aGUgcHJlZGljYXRlIG5lZ2F0ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFBhcnRpdGlvbiBhIHNldCBvZiBudW1iZXJzIGludG8gb2RkcyBhbmQgZXZlbnMgb2JzZXJ2YWJsZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHBhcnRpdGlvbiB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9ic2VydmFibGVWYWx1ZXMgPSBvZigxLCAyLCAzLCA0LCA1LCA2KTtcbiAqIGNvbnN0IFtldmVucyQsIG9kZHMkXSA9IHBhcnRpdGlvbihvYnNlcnZhYmxlVmFsdWVzLCB2YWx1ZSA9PiB2YWx1ZSAlIDIgPT09IDApO1xuICpcbiAqIG9kZHMkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdvZGRzJywgeCkpO1xuICogZXZlbnMkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdldmVucycsIHgpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gb2RkcyAxXG4gKiAvLyBvZGRzIDNcbiAqIC8vIG9kZHMgNVxuICogLy8gZXZlbnMgMlxuICogLy8gZXZlbnMgNFxuICogLy8gZXZlbnMgNlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlsdGVyfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIpOiBib29sZWFufSBwcmVkaWNhdGUgQSBmdW5jdGlvbiB0aGF0XG4gKiBldmFsdWF0ZXMgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSWYgaXQgcmV0dXJucyBgdHJ1ZWAsXG4gKiB0aGUgdmFsdWUgaXMgZW1pdHRlZCBvbiB0aGUgZmlyc3QgT2JzZXJ2YWJsZSBpbiB0aGUgcmV0dXJuZWQgYXJyYXksIGlmXG4gKiBgZmFsc2VgIHRoZSB2YWx1ZSBpcyBlbWl0dGVkIG9uIHRoZSBzZWNvbmQgT2JzZXJ2YWJsZSBpbiB0aGUgYXJyYXkuIFRoZVxuICogYGluZGV4YCBwYXJhbWV0ZXIgaXMgdGhlIG51bWJlciBgaWAgZm9yIHRoZSBpLXRoIHNvdXJjZSBlbWlzc2lvbiB0aGF0IGhhc1xuICogaGFwcGVuZWQgc2luY2UgdGhlIHN1YnNjcmlwdGlvbiwgc3RhcnRpbmcgZnJvbSB0aGUgbnVtYmVyIGAwYC5cbiAqIEBwYXJhbSB7YW55fSBbdGhpc0FyZ10gQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGV0ZXJtaW5lIHRoZSB2YWx1ZSBvZiBgdGhpc2BcbiAqIGluIHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge1tPYnNlcnZhYmxlPFQ+LCBPYnNlcnZhYmxlPFQ+XX0gQW4gYXJyYXkgd2l0aCB0d28gT2JzZXJ2YWJsZXM6IG9uZVxuICogd2l0aCB2YWx1ZXMgdGhhdCBwYXNzZWQgdGhlIHByZWRpY2F0ZSwgYW5kIGFub3RoZXIgd2l0aCB2YWx1ZXMgdGhhdCBkaWQgbm90XG4gKiBwYXNzIHRoZSBwcmVkaWNhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb248VD4oXG4gIHNvdXJjZTogT2JzZXJ2YWJsZUlucHV0PFQ+LFxuICBwcmVkaWNhdGU6ICh0aGlzOiBhbnksIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLFxuICB0aGlzQXJnPzogYW55XG4pOiBbT2JzZXJ2YWJsZTxUPiwgT2JzZXJ2YWJsZTxUPl0ge1xuICByZXR1cm4gW2ZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpKGlubmVyRnJvbShzb3VyY2UpKSwgZmlsdGVyKG5vdChwcmVkaWNhdGUsIHRoaXNBcmcpKShpbm5lckZyb20oc291cmNlKSldIGFzIFtcbiAgICBPYnNlcnZhYmxlPFQ+LFxuICAgIE9ic2VydmFibGU8VD5cbiAgXTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmFibGVJbnB1dFR1cGxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYXJnc09yQXJnQXJyYXkgfSBmcm9tICcuLi91dGlsL2FyZ3NPckFyZ0FycmF5JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gcmFjZTxUIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihpbnB1dHM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxUPl0pOiBPYnNlcnZhYmxlPFRbbnVtYmVyXT47XG5leHBvcnQgZnVuY3Rpb24gcmFjZTxUIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5pbnB1dHM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxUPl0pOiBPYnNlcnZhYmxlPFRbbnVtYmVyXT47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgZmlyc3Qgc291cmNlIG9ic2VydmFibGUgdG8gZW1pdCBhbiBpdGVtLlxuICpcbiAqICFbXShyYWNlLnBuZylcbiAqXG4gKiBgcmFjZWAgcmV0dXJucyBhbiBvYnNlcnZhYmxlLCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgc3Vic2NyaWJlcyB0byBhbGwgc291cmNlIG9ic2VydmFibGVzIGltbWVkaWF0ZWx5LlxuICogQXMgc29vbiBhcyBvbmUgb2YgdGhlIHNvdXJjZSBvYnNlcnZhYmxlcyBlbWl0cyBhIHZhbHVlLCB0aGUgcmVzdWx0IHVuc3Vic2NyaWJlcyBmcm9tIHRoZSBvdGhlciBzb3VyY2VzLlxuICogVGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgZm9yd2FyZCBhbGwgbm90aWZpY2F0aW9ucywgaW5jbHVkaW5nIGVycm9yIGFuZCBjb21wbGV0aW9uLCBmcm9tIHRoZSBcIndpbm5pbmdcIlxuICogc291cmNlIG9ic2VydmFibGUuXG4gKlxuICogSWYgb25lIG9mIHRoZSB1c2VkIHNvdXJjZSBvYnNlcnZhYmxlIHRocm93cyBhbiBlcnJvcnMgYmVmb3JlIGEgZmlyc3Qgbm90aWZpY2F0aW9uXG4gKiB0aGUgcmFjZSBvcGVyYXRvciB3aWxsIGFsc28gdGhyb3cgYW4gZXJyb3IsIG5vIG1hdHRlciBpZiBhbm90aGVyIHNvdXJjZSBvYnNlcnZhYmxlXG4gKiBjb3VsZCBwb3RlbnRpYWxseSB3aW4gdGhlIHJhY2UuXG4gKlxuICogYHJhY2VgIGNhbiBiZSB1c2VmdWwgZm9yIHNlbGVjdGluZyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgZmFzdGVzdCBuZXR3b3JrIGNvbm5lY3Rpb24gZm9yXG4gKiBIVFRQIG9yIFdlYlNvY2tldHMuIGByYWNlYCBjYW4gYWxzbyBiZSB1c2VmdWwgZm9yIHN3aXRjaGluZyBvYnNlcnZhYmxlIGNvbnRleHQgYmFzZWQgb24gdXNlclxuICogaW5wdXQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFN1YnNjcmliZXMgdG8gdGhlIG9ic2VydmFibGUgdGhhdCB3YXMgdGhlIGZpcnN0IHRvIHN0YXJ0IGVtaXR0aW5nLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWFwLCByYWNlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgb2JzMSA9IGludGVydmFsKDcwMDApLnBpcGUobWFwKCgpID0+ICdzbG93IG9uZScpKTtcbiAqIGNvbnN0IG9iczIgPSBpbnRlcnZhbCgzMDAwKS5waXBlKG1hcCgoKSA9PiAnZmFzdCBvbmUnKSk7XG4gKiBjb25zdCBvYnMzID0gaW50ZXJ2YWwoNTAwMCkucGlwZShtYXAoKCkgPT4gJ21lZGl1bSBvbmUnKSk7XG4gKlxuICogcmFjZShvYnMxLCBvYnMyLCBvYnMzKVxuICogICAuc3Vic2NyaWJlKHdpbm5lciA9PiBjb25zb2xlLmxvZyh3aW5uZXIpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyBhIHNlcmllcyBvZiAnZmFzdCBvbmUnXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gey4uLk9ic2VydmFibGVzfSAuLi5vYnNlcnZhYmxlcyBzb3VyY2VzIHVzZWQgdG8gcmFjZSBmb3Igd2hpY2ggT2JzZXJ2YWJsZSBlbWl0cyBmaXJzdC5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBvdXRwdXQgb2YgdGhlIGZpcnN0IE9ic2VydmFibGUgdG8gZW1pdCBhbiBpdGVtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFjZTxUPiguLi5zb3VyY2VzOiAoT2JzZXJ2YWJsZUlucHV0PFQ+IHwgT2JzZXJ2YWJsZUlucHV0PFQ+W10pW10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICBzb3VyY2VzID0gYXJnc09yQXJnQXJyYXkoc291cmNlcyk7XG4gIC8vIElmIG9ubHkgb25lIHNvdXJjZSB3YXMgcGFzc2VkLCBqdXN0IHJldHVybiBpdC4gT3RoZXJ3aXNlIHJldHVybiB0aGUgcmFjZS5cbiAgcmV0dXJuIHNvdXJjZXMubGVuZ3RoID09PSAxID8gaW5uZXJGcm9tKHNvdXJjZXNbMF0gYXMgT2JzZXJ2YWJsZUlucHV0PFQ+KSA6IG5ldyBPYnNlcnZhYmxlPFQ+KHJhY2VJbml0KHNvdXJjZXMgYXMgT2JzZXJ2YWJsZUlucHV0PFQ+W10pKTtcbn1cblxuLyoqXG4gKiBBbiBvYnNlcnZhYmxlIGluaXRpYWxpemVyIGZ1bmN0aW9uIGZvciBib3RoIHRoZSBzdGF0aWMgdmVyc2lvbiBhbmQgdGhlXG4gKiBvcGVyYXRvciB2ZXJzaW9uIG9mIHJhY2UuXG4gKiBAcGFyYW0gc291cmNlcyBUaGUgc291cmNlcyB0byByYWNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYWNlSW5pdDxUPihzb3VyY2VzOiBPYnNlcnZhYmxlSW5wdXQ8VD5bXSkge1xuICByZXR1cm4gKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHtcbiAgICBsZXQgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBhbGwgb2YgdGhlIHNvdXJjZXMuIE5vdGUgdGhhdCB3ZSBhcmUgY2hlY2tpbmcgYHN1YnNjcmlwdGlvbnNgIGhlcmVcbiAgICAvLyBJcyBpcyBhbiBhcnJheSBvZiBhbGwgYWN0aXZlbHkgXCJyYWNpbmdcIiBzdWJzY3JpcHRpb25zLCBhbmQgaXQgaXMgYG51bGxgIGFmdGVyIHRoZVxuICAgIC8vIHJhY2UgaGFzIGJlZW4gd29uLiBTbywgaWYgd2UgaGF2ZSByYWNlciB0aGF0IHN5bmNocm9ub3VzbHkgXCJ3aW5zXCIsIHRoaXMgbG9vcCB3aWxsXG4gICAgLy8gc3RvcCBiZWZvcmUgaXQgc3Vic2NyaWJlcyB0byBhbnkgbW9yZS5cbiAgICBmb3IgKGxldCBpID0gMDsgc3Vic2NyaXB0aW9ucyAmJiAhc3Vic2NyaWJlci5jbG9zZWQgJiYgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgaW5uZXJGcm9tKHNvdXJjZXNbaV0gYXMgT2JzZXJ2YWJsZUlucHV0PFQ+KS5zdWJzY3JpYmUoXG4gICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgLy8gV2UncmUgc3RpbGwgcmFjaW5nLCBidXQgd2Ugd29uISBTbyB1bnN1YnNjcmliZVxuICAgICAgICAgICAgICAvLyBhbGwgb3RoZXIgc3Vic2NyaXB0aW9ucyB0aGF0IHdlIGhhdmUsIGV4Y2VwdCB0aGlzIG9uZS5cbiAgICAgICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBzdWJzY3JpcHRpb25zLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICAgICAgcyAhPT0gaSAmJiBzdWJzY3JpcHRpb25zW3NdLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucyA9IG51bGwhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQ6IG51bWJlciwgY291bnQ/OiBudW1iZXIpOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgcmFuZ2Uoc3RhcnQsIGNvdW50KS5waXBlKG9ic2VydmVPbihzY2hlZHVsZXIpKWAgaW5zdGVhZC4gRGV0YWlsczogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShzdGFydDogbnVtYmVyLCBjb3VudDogbnVtYmVyIHwgdW5kZWZpbmVkLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYSBzZXF1ZW5jZSBvZiBudW1iZXJzIHdpdGhpbiBhIHNwZWNpZmllZFxuICogcmFuZ2UuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkVtaXRzIGEgc2VxdWVuY2Ugb2YgbnVtYmVycyBpbiBhIHJhbmdlLjwvc3Bhbj5cbiAqXG4gKiAhW10ocmFuZ2UucG5nKVxuICpcbiAqIGByYW5nZWAgb3BlcmF0b3IgZW1pdHMgYSByYW5nZSBvZiBzZXF1ZW50aWFsIGludGVnZXJzLCBpbiBvcmRlciwgd2hlcmUgeW91XG4gKiBzZWxlY3QgdGhlIGBzdGFydGAgb2YgdGhlIHJhbmdlIGFuZCBpdHMgYGxlbmd0aGAuIEJ5IGRlZmF1bHQsIHVzZXMgbm9cbiAqIHtAbGluayBTY2hlZHVsZXJMaWtlfSBhbmQganVzdCBkZWxpdmVycyB0aGUgbm90aWZpY2F0aW9ucyBzeW5jaHJvbm91c2x5LCBidXQgbWF5IHVzZVxuICogYW4gb3B0aW9uYWwge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHJlZ3VsYXRlIHRob3NlIGRlbGl2ZXJpZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFByb2R1Y2UgYSByYW5nZSBvZiBudW1iZXJzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHJhbmdlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgbnVtYmVycyA9IHJhbmdlKDEsIDMpO1xuICpcbiAqIG51bWJlcnMuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogLy8gJ0NvbXBsZXRlISdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHRpbWVyfVxuICogQHNlZSB7QGxpbmsgaW50ZXJ2YWx9XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludGVnZXIgaW4gdGhlIHNlcXVlbmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IFRoZSBudW1iZXIgb2Ygc2VxdWVudGlhbCBpbnRlZ2VycyB0byBnZW5lcmF0ZS5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcl0gQSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvciBzY2hlZHVsaW5nXG4gKiB0aGUgZW1pc3Npb25zIG9mIHRoZSBub3RpZmljYXRpb25zLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSBvZiBudW1iZXJzIHRoYXQgZW1pdHMgYSBmaW5pdGUgcmFuZ2Ugb2ZcbiAqIHNlcXVlbnRpYWwgaW50ZWdlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShzdGFydDogbnVtYmVyLCBjb3VudD86IG51bWJlciwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8bnVtYmVyPiB7XG4gIGlmIChjb3VudCA9PSBudWxsKSB7XG4gICAgLy8gSWYgb25lIGFyZ3VtZW50IHdhcyBwYXNzZWQsIGl0J3MgdGhlIGNvdW50LCBub3QgdGhlIHN0YXJ0LlxuICAgIGNvdW50ID0gc3RhcnQ7XG4gICAgc3RhcnQgPSAwO1xuICB9XG5cbiAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAvLyBObyBjb3VudD8gV2UncmUgZ29pbmcgbm93aGVyZS4gUmV0dXJuIEVNUFRZLlxuICAgIHJldHVybiBFTVBUWTtcbiAgfVxuXG4gIC8vIFdoZXJlIHRoZSByYW5nZSBzaG91bGQgc3RvcC5cbiAgY29uc3QgZW5kID0gY291bnQgKyBzdGFydDtcblxuICByZXR1cm4gbmV3IE9ic2VydmFibGUoXG4gICAgc2NoZWR1bGVyXG4gICAgICA/IC8vIFRoZSBkZXByZWNhdGVkIHNjaGVkdWxlZCBwYXRoLlxuICAgICAgICAoc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICAgIGxldCBuID0gc3RhcnQ7XG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobiA8IGVuZCkge1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQobisrKTtcbiAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICA6IC8vIFN0YW5kYXJkIHN5bmNocm9ub3VzIHJhbmdlLlxuICAgICAgICAoc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICAgIGxldCBuID0gc3RhcnQ7XG4gICAgICAgICAgd2hpbGUgKG4gPCBlbmQgJiYgIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQobisrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBjcmVhdGUgYW4gZXJyb3IgaW5zdGFuY2UgYW5kIHB1c2ggaXQgdG8gdGhlIGNvbnN1bWVyIGFzIGFuIGVycm9yXG4gKiBpbW1lZGlhdGVseSB1cG9uIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SnVzdCBlcnJvcnMgYW5kIGRvZXMgbm90aGluZyBlbHNlPC9zcGFuPlxuICpcbiAqICFbXSh0aHJvdy5wbmcpXG4gKlxuICogVGhpcyBjcmVhdGlvbiBmdW5jdGlvbiBpcyB1c2VmdWwgZm9yIGNyZWF0aW5nIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGNyZWF0ZSBhbiBlcnJvciBhbmQgZXJyb3IgZXZlcnlcbiAqIHRpbWUgaXQgaXMgc3Vic2NyaWJlZCB0by4gR2VuZXJhbGx5LCBpbnNpZGUgb2YgbW9zdCBvcGVyYXRvcnMgd2hlbiB5b3UgbWlnaHQgd2FudCB0byByZXR1cm4gYW4gZXJyb3JlZFxuICogb2JzZXJ2YWJsZSwgdGhpcyBpcyB1bm5lY2Vzc2FyeS4gSW4gbW9zdCBjYXNlcywgc3VjaCBhcyBpbiB0aGUgaW5uZXIgcmV0dXJuIG9mIHtAbGluayBjb25jYXRNYXB9LFxuICoge0BsaW5rIG1lcmdlTWFwfSwge0BsaW5rIGRlZmVyfSwgYW5kIG1hbnkgb3RoZXJzLCB5b3UgY2FuIHNpbXBseSB0aHJvdyB0aGUgZXJyb3IsIGFuZCBSeEpTIHdpbGwgcGlja1xuICogdGhhdCB1cCBhbmQgbm90aWZ5IHRoZSBjb25zdW1lciBvZiB0aGUgZXJyb3IuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIENyZWF0ZSBhIHNpbXBsZSBvYnNlcnZhYmxlIHRoYXQgd2lsbCBjcmVhdGUgYSBuZXcgZXJyb3Igd2l0aCBhIHRpbWVzdGFtcCBhbmQgbG9nIGl0XG4gKiBhbmQgdGhlIG1lc3NhZ2UgZXZlcnkgdGltZSB5b3Ugc3Vic2NyaWJlIHRvIGl0XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBsZXQgZXJyb3JDb3VudCA9IDA7XG4gKlxuICogY29uc3QgZXJyb3JXaXRoVGltZXN0YW1wJCA9IHRocm93RXJyb3IoKCkgPT4ge1xuICogICBjb25zdCBlcnJvcjogYW55ID0gbmV3IEVycm9yKGBUaGlzIGlzIGVycm9yIG51bWJlciAkeyArK2Vycm9yQ291bnQgfWApO1xuICogICBlcnJvci50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICogICByZXR1cm4gZXJyb3I7XG4gKiB9KTtcbiAqXG4gKiBlcnJvcldpdGhUaW1lc3RhbXAkLnN1YnNjcmliZSh7XG4gKiAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coZXJyLnRpbWVzdGFtcCwgZXJyLm1lc3NhZ2UpXG4gKiB9KTtcbiAqXG4gKiBlcnJvcldpdGhUaW1lc3RhbXAkLnN1YnNjcmliZSh7XG4gKiAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coZXJyLnRpbWVzdGFtcCwgZXJyLm1lc3NhZ2UpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzIHRoZSB0aW1lc3RhbXAgYW5kIGEgbmV3IGVycm9yIG1lc3NhZ2UgZm9yIGVhY2ggc3Vic2NyaXB0aW9uXG4gKiBgYGBcbiAqXG4gKiAjIyMgVW5uZWNlc3NhcnkgdXNhZ2VcbiAqXG4gKiBVc2luZyBgdGhyb3dFcnJvcmAgaW5zaWRlIG9mIGFuIG9wZXJhdG9yIG9yIGNyZWF0aW9uIGZ1bmN0aW9uXG4gKiB3aXRoIGEgY2FsbGJhY2ssIGlzIHVzdWFsbHkgbm90IG5lY2Vzc2FyeVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgY29uY2F0TWFwLCB0aW1lciwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGRlbGF5cyQgPSBvZigxMDAwLCAyMDAwLCBJbmZpbml0eSwgMzAwMCk7XG4gKlxuICogZGVsYXlzJC5waXBlKFxuICogICBjb25jYXRNYXAobXMgPT4ge1xuICogICAgIGlmIChtcyA8IDEwMDAwKSB7XG4gKiAgICAgICByZXR1cm4gdGltZXIobXMpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IG92ZXJraWxsLlxuICogICAgICAgcmV0dXJuIHRocm93RXJyb3IoKCkgPT4gbmV3IEVycm9yKGBJbnZhbGlkIHRpbWUgJHsgbXMgfWApKTtcbiAqICAgICB9XG4gKiAgIH0pXG4gKiApXG4gKiAuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2csXG4gKiAgIGVycm9yOiBjb25zb2xlLmVycm9yXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4ganVzdCB0aHJvdyB0aGUgZXJyb3IgaW5zdGVhZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgY29uY2F0TWFwLCB0aW1lciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGRlbGF5cyQgPSBvZigxMDAwLCAyMDAwLCBJbmZpbml0eSwgMzAwMCk7XG4gKlxuICogZGVsYXlzJC5waXBlKFxuICogICBjb25jYXRNYXAobXMgPT4ge1xuICogICAgIGlmIChtcyA8IDEwMDAwKSB7XG4gKiAgICAgICByZXR1cm4gdGltZXIobXMpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICAvLyBDbGVhbmVyIGFuZCBlYXNpZXIgdG8gcmVhZCBmb3IgbW9zdCBmb2xrcy5cbiAqICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0aW1lICR7IG1zIH1gKTtcbiAqICAgICB9XG4gKiAgIH0pXG4gKiApXG4gKiAuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2csXG4gKiAgIGVycm9yOiBjb25zb2xlLmVycm9yXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBlcnJvckZhY3RvcnkgQSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBjcmVhdGUgdGhlIGVycm9yIGluc3RhbmNlIHRoYXQgaXMgcHVzaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihlcnJvckZhY3Rvcnk6ICgpID0+IGFueSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgZXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGVycm9yIGltbWVkaWF0ZWx5IHVwb24gc3Vic2NyaXB0aW9uLlxuICpcbiAqIEBwYXJhbSBlcnJvciBUaGUgZXJyb3IgaW5zdGFuY2UgdG8gZW1pdFxuICogQGRlcHJlY2F0ZWQgU3VwcG9ydCBmb3IgcGFzc2luZyBhbiBlcnJvciB2YWx1ZSB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIEluc3RlYWQsIHBhc3MgYSBmYWN0b3J5IGZ1bmN0aW9uIHRvIGB0aHJvd0Vycm9yKCgpID0+IG5ldyBFcnJvcigndGVzdCcpKWAuIFRoaXMgaXNcbiAqIGJlY2F1c2UgaXQgd2lsbCBjcmVhdGUgdGhlIGVycm9yIGF0IHRoZSBtb21lbnQgaXQgc2hvdWxkIGJlIGNyZWF0ZWQgYW5kIGNhcHR1cmUgYSBtb3JlIGFwcHJvcHJpYXRlIHN0YWNrIHRyYWNlLiBJZlxuICogZm9yIHNvbWUgcmVhc29uIHlvdSBuZWVkIHRvIGNyZWF0ZSB0aGUgZXJyb3IgYWhlYWQgb2YgdGltZSwgeW91IGNhbiBzdGlsbCBkbyB0aGF0OiBgY29uc3QgZXJyID0gbmV3IEVycm9yKCd0ZXN0Jyk7IHRocm93RXJyb3IoKCkgPT4gZXJyKTtgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihlcnJvcjogYW55KTogT2JzZXJ2YWJsZTxuZXZlcj47XG5cbi8qKlxuICogTm90aWZpZXMgdGhlIGNvbnN1bWVyIG9mIGFuIGVycm9yIHVzaW5nIGEgZ2l2ZW4gc2NoZWR1bGVyIGJ5IHNjaGVkdWxpbmcgaXQgYXQgZGVsYXkgYDBgIHVwb24gc3Vic2NyaXB0aW9uLlxuICpcbiAqIEBwYXJhbSBlcnJvck9yRXJyb3JGYWN0b3J5IEFuIGVycm9yIGluc3RhbmNlIG9yIGVycm9yIGZhY3RvcnlcbiAqIEBwYXJhbSBzY2hlZHVsZXIgQSBzY2hlZHVsZXIgdG8gdXNlIHRvIHNjaGVkdWxlIHRoZSBlcnJvciBub3RpZmljYXRpb25cbiAqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICogVXNlIGB0aHJvd0Vycm9yYCBpbiBjb21iaW5hdGlvbiB3aXRoIHtAbGluayBvYnNlcnZlT259OiBgdGhyb3dFcnJvcigoKSA9PiBuZXcgRXJyb3IoJ3Rlc3QnKSkucGlwZShvYnNlcnZlT24oc2NoZWR1bGVyKSk7YC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3NjaGVkdWxlci1hcmd1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihlcnJvck9yRXJyb3JGYWN0b3J5OiBhbnksIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihlcnJvck9yRXJyb3JGYWN0b3J5OiBhbnksIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPG5ldmVyPiB7XG4gIGNvbnN0IGVycm9yRmFjdG9yeSA9IGlzRnVuY3Rpb24oZXJyb3JPckVycm9yRmFjdG9yeSkgPyBlcnJvck9yRXJyb3JGYWN0b3J5IDogKCkgPT4gZXJyb3JPckVycm9yRmFjdG9yeTtcbiAgY29uc3QgaW5pdCA9IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPG5ldmVyPikgPT4gc3Vic2NyaWJlci5lcnJvcihlcnJvckZhY3RvcnkoKSk7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzY2hlZHVsZXIgPyAoc3Vic2NyaWJlcikgPT4gc2NoZWR1bGVyLnNjaGVkdWxlKGluaXQgYXMgYW55LCAwLCBzdWJzY3JpYmVyKSA6IGluaXQpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFzeW5jIGFzIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIHdhaXQgZm9yIGEgc3BlY2lmaWVkIHRpbWUgcGVyaW9kLCBvciBleGFjdCBkYXRlLCBiZWZvcmVcbiAqIGVtaXR0aW5nIHRoZSBudW1iZXIgMC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlZCB0byBlbWl0IGEgbm90aWZpY2F0aW9uIGFmdGVyIGEgZGVsYXkuPC9zcGFuPlxuICpcbiAqIFRoaXMgb2JzZXJ2YWJsZSBpcyB1c2VmdWwgZm9yIGNyZWF0aW5nIGRlbGF5cyBpbiBjb2RlLCBvciByYWNpbmcgYWdhaW5zdCBvdGhlciB2YWx1ZXNcbiAqIGZvciBhZC1ob2MgdGltZW91dHMuXG4gKlxuICogVGhlIGBkZWxheWAgaXMgc3BlY2lmaWVkIGJ5IGRlZmF1bHQgaW4gbWlsbGlzZWNvbmRzLCBob3dldmVyIHByb3ZpZGluZyBhIGN1c3RvbSBzY2hlZHVsZXIgY291bGRcbiAqIGNyZWF0ZSBhIGRpZmZlcmVudCBiZWhhdmlvci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIFdhaXQgMyBzZWNvbmRzIGFuZCBzdGFydCBhbm90aGVyIG9ic2VydmFibGVcbiAqXG4gKiBZb3UgbWlnaHQgd2FudCB0byB1c2UgYHRpbWVyYCB0byBkZWxheSBzdWJzY3JpcHRpb24gdG8gYW5cbiAqIG9ic2VydmFibGUgYnkgYSBzZXQgYW1vdW50IG9mIHRpbWUuIEhlcmUgd2UgdXNlIGEgdGltZXIgd2l0aFxuICoge0BsaW5rIGNvbmNhdE1hcFRvfSBvciB7QGxpbmsgY29uY2F0TWFwfSBpbiBvcmRlciB0byB3YWl0XG4gKiBhIGZldyBzZWNvbmRzIGFuZCBzdGFydCBhIHN1YnNjcmlwdGlvbiB0byBhIHNvdXJjZS5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHRpbWVyLCBjb25jYXRNYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBUaGlzIGNvdWxkIGJlIGFueSBvYnNlcnZhYmxlXG4gKiBjb25zdCBzb3VyY2UgPSBvZigxLCAyLCAzKTtcbiAqXG4gKiB0aW1lcigzMDAwKVxuICogICAucGlwZShjb25jYXRNYXAoKCkgPT4gc291cmNlKSlcbiAqICAgLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBUYWtlIGFsbCB2YWx1ZXMgdW50aWwgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IG1pbnV0ZVxuICpcbiAqIFVzaW5nIGEgYERhdGVgIGFzIHRoZSB0cmlnZ2VyIGZvciB0aGUgZmlyc3QgZW1pc3Npb24sIHlvdSBjYW5cbiAqIGRvIHRoaW5ncyBsaWtlIHdhaXQgdW50aWwgbWlkbmlnaHQgdG8gZmlyZSBhbiBldmVudCwgb3IgaW4gdGhpcyBjYXNlLFxuICogd2FpdCB1bnRpbCBhIG5ldyBtaW51dGUgc3RhcnRzIChjaG9zZW4gc28gdGhlIGV4YW1wbGUgd291bGRuJ3QgdGFrZVxuICogdG9vIGxvbmcgdG8gcnVuKSBpbiBvcmRlciB0byBzdG9wIHdhdGNoaW5nIGEgc3RyZWFtLiBMZXZlcmFnaW5nXG4gKiB7QGxpbmsgdGFrZVVudGlsfS5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2VVbnRpbCwgdGltZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBCdWlsZCBhIERhdGUgb2JqZWN0IHRoYXQgbWFya3MgdGhlXG4gKiAvLyBuZXh0IG1pbnV0ZS5cbiAqIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAqIGNvbnN0IHN0YXJ0T2ZOZXh0TWludXRlID0gbmV3IERhdGUoXG4gKiAgIGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksXG4gKiAgIGN1cnJlbnREYXRlLmdldE1vbnRoKCksXG4gKiAgIGN1cnJlbnREYXRlLmdldERhdGUoKSxcbiAqICAgY3VycmVudERhdGUuZ2V0SG91cnMoKSxcbiAqICAgY3VycmVudERhdGUuZ2V0TWludXRlcygpICsgMVxuICogKTtcbiAqXG4gKiAvLyBUaGlzIGNvdWxkIGJlIGFueSBvYnNlcnZhYmxlIHN0cmVhbVxuICogY29uc3Qgc291cmNlID0gaW50ZXJ2YWwoMTAwMCk7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUoXG4gKiAgIHRha2VVbnRpbCh0aW1lcihzdGFydE9mTmV4dE1pbnV0ZSkpXG4gKiApO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogIyMjIEtub3duIExpbWl0YXRpb25zXG4gKlxuICogLSBUaGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSB1c2VzIGBzZXRUaW1lb3V0YCB3aGljaCBoYXMgbGltaXRhdGlvbnMgZm9yIGhvdyBmYXIgaW4gdGhlIGZ1dHVyZSBpdCBjYW4gYmUgc2NoZWR1bGVkLlxuICpcbiAqIC0gSWYgYSBgc2NoZWR1bGVyYCBpcyBwcm92aWRlZCB0aGF0IHJldHVybnMgYSB0aW1lc3RhbXAgb3RoZXIgdGhhbiBhbiBlcG9jaCBmcm9tIGBub3coKWAsIGFuZFxuICogYSBgRGF0ZWAgb2JqZWN0IGlzIHBhc3NlZCB0byB0aGUgYGR1ZVRpbWVgIGFyZ3VtZW50LCB0aGUgY2FsY3VsYXRpb24gZm9yIHdoZW4gdGhlIGZpcnN0IGVtaXNzaW9uXG4gKiBzaG91bGQgb2NjdXIgd2lsbCBiZSBpbmNvcnJlY3QuIEluIHRoaXMgY2FzZSwgaXQgd291bGQgYmUgYmVzdCB0byBkbyB5b3VyIG93biBjYWxjdWxhdGlvbnNcbiAqIGFoZWFkIG9mIHRpbWUsIGFuZCBwYXNzIGEgYG51bWJlcmAgaW4gYXMgdGhlIGBkdWVUaW1lYC5cbiAqXG4gKiBAcGFyYW0gZHVlIElmIGEgYG51bWJlcmAsIHRoZSBhbW91bnQgb2YgdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgZW1pdHRpbmcuXG4gKiBJZiBhIGBEYXRlYCwgdGhlIGV4YWN0IHRpbWUgYXQgd2hpY2ggdG8gZW1pdC5cbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHNjaGVkdWxlciB0byB1c2UgdG8gc2NoZWR1bGUgdGhlIGRlbGF5LiBEZWZhdWx0cyB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZHVlOiBudW1iZXIgfCBEYXRlLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTwwPjtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9ic2VydmFibGUgdGhhdCBzdGFydHMgYW4gaW50ZXJ2YWwgYWZ0ZXIgYSBzcGVjaWZpZWQgZGVsYXksIGVtaXR0aW5nIGluY3JlbWVudGluZyBudW1iZXJzIC0tIHN0YXJ0aW5nIGF0IGAwYCAtLVxuICogb24gZWFjaCBpbnRlcnZhbCBhZnRlciB3b3Jkcy5cbiAqXG4gKiBUaGUgYGRlbGF5YCBhbmQgYGludGVydmFsRHVyYXRpb25gIGFyZSBzcGVjaWZpZWQgYnkgZGVmYXVsdCBpbiBtaWxsaXNlY29uZHMsIGhvd2V2ZXIgcHJvdmlkaW5nIGEgY3VzdG9tIHNjaGVkdWxlciBjb3VsZFxuICogY3JlYXRlIGEgZGlmZmVyZW50IGJlaGF2aW9yLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiAjIyMgU3RhcnQgYW4gaW50ZXJ2YWwgdGhhdCBzdGFydHMgcmlnaHQgYXdheVxuICpcbiAqIFNpbmNlIHtAbGluayBpbnRlcnZhbH0gd2FpdHMgZm9yIHRoZSBwYXNzZWQgZGVsYXkgYmVmb3JlIHN0YXJ0aW5nLFxuICogc29tZXRpbWVzIHRoYXQncyBub3QgaWRlYWwuIFlvdSBtYXkgd2FudCB0byBzdGFydCBhbiBpbnRlcnZhbCBpbW1lZGlhdGVseS5cbiAqIGB0aW1lcmAgd29ya3Mgd2VsbCBmb3IgdGhpcy4gSGVyZSB3ZSBoYXZlIGJvdGggc2lkZS1ieS1zaWRlIHNvIHlvdSBjYW5cbiAqIHNlZSB0aGVtIGluIGNvbXBhcmlzb24uXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgb2JzZXJ2YWJsZSB3aWxsIG5ldmVyIGNvbXBsZXRlLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB0aW1lciwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiB0aW1lcigwLCAxMDAwKS5zdWJzY3JpYmUobiA9PiBjb25zb2xlLmxvZygndGltZXInLCBuKSk7XG4gKiBpbnRlcnZhbCgxMDAwKS5zdWJzY3JpYmUobiA9PiBjb25zb2xlLmxvZygnaW50ZXJ2YWwnLCBuKSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMgS25vd24gTGltaXRhdGlvbnNcbiAqXG4gKiAtIFRoZSB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9IHVzZXMgYHNldFRpbWVvdXRgIHdoaWNoIGhhcyBsaW1pdGF0aW9ucyBmb3IgaG93IGZhciBpbiB0aGUgZnV0dXJlIGl0IGNhbiBiZSBzY2hlZHVsZWQuXG4gKlxuICogLSBJZiBhIGBzY2hlZHVsZXJgIGlzIHByb3ZpZGVkIHRoYXQgcmV0dXJucyBhIHRpbWVzdGFtcCBvdGhlciB0aGFuIGFuIGVwb2NoIGZyb20gYG5vdygpYCwgYW5kXG4gKiBhIGBEYXRlYCBvYmplY3QgaXMgcGFzc2VkIHRvIHRoZSBgZHVlVGltZWAgYXJndW1lbnQsIHRoZSBjYWxjdWxhdGlvbiBmb3Igd2hlbiB0aGUgZmlyc3QgZW1pc3Npb25cbiAqIHNob3VsZCBvY2N1ciB3aWxsIGJlIGluY29ycmVjdC4gSW4gdGhpcyBjYXNlLCBpdCB3b3VsZCBiZSBiZXN0IHRvIGRvIHlvdXIgb3duIGNhbGN1bGF0aW9uc1xuICogYWhlYWQgb2YgdGltZSwgYW5kIHBhc3MgYSBgbnVtYmVyYCBpbiBhcyB0aGUgYHN0YXJ0RHVlYC5cbiAqIEBwYXJhbSBzdGFydER1ZSBJZiBhIGBudW1iZXJgLCBpcyB0aGUgdGltZSB0byB3YWl0IGJlZm9yZSBzdGFydGluZyB0aGUgaW50ZXJ2YWwuXG4gKiBJZiBhIGBEYXRlYCwgaXMgdGhlIGV4YWN0IHRpbWUgYXQgd2hpY2ggdG8gc3RhcnQgdGhlIGludGVydmFsLlxuICogQHBhcmFtIGludGVydmFsRHVyYXRpb24gVGhlIGRlbGF5IGJldHdlZW4gZWFjaCB2YWx1ZSBlbWl0dGVkIGluIHRoZSBpbnRlcnZhbC4gUGFzc2luZyBhXG4gKiBuZWdhdGl2ZSBudW1iZXIgaGVyZSB3aWxsIHJlc3VsdCBpbiBpbW1lZGlhdGUgY29tcGxldGlvbiBhZnRlciB0aGUgZmlyc3QgdmFsdWUgaXMgZW1pdHRlZCwgYXMgdGhvdWdoXG4gKiBubyBgaW50ZXJ2YWxEdXJhdGlvbmAgd2FzIHBhc3NlZCBhdCBhbGwuXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlIHRvIHNjaGVkdWxlIHRoZSBkZWxheS4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKHN0YXJ0RHVlOiBudW1iZXIgfCBEYXRlLCBpbnRlcnZhbER1cmF0aW9uOiBudW1iZXIsIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhlIHNpZ25hdHVyZSBhbGxvd2luZyBgdW5kZWZpbmVkYCB0byBiZSBwYXNzZWQgZm9yIGBpbnRlcnZhbER1cmF0aW9uYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUgYHRpbWVyKGR1ZVRpbWUsIHNjaGVkdWxlcj8pYCBzaWduYXR1cmUgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZVRpbWU6IG51bWJlciB8IERhdGUsIHVudXNlZDogdW5kZWZpbmVkLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTwwPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKFxuICBkdWVUaW1lOiBudW1iZXIgfCBEYXRlID0gMCxcbiAgaW50ZXJ2YWxPclNjaGVkdWxlcj86IG51bWJlciB8IFNjaGVkdWxlckxpa2UsXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSA9IGFzeW5jU2NoZWR1bGVyXG4pOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAvLyBTaW5jZSBuZWdhdGl2ZSBpbnRlcnZhbER1cmF0aW9uIGlzIHRyZWF0ZWQgYXMgdGhvdWdoIG5vXG4gIC8vIGludGVydmFsIHdhcyBzcGVjaWZpZWQgYXQgYWxsLCB3ZSBzdGFydCB3aXRoIGEgbmVnYXRpdmUgbnVtYmVyLlxuICBsZXQgaW50ZXJ2YWxEdXJhdGlvbiA9IC0xO1xuXG4gIGlmIChpbnRlcnZhbE9yU2NoZWR1bGVyICE9IG51bGwpIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgc2Vjb25kIGFyZ3VtZW50LCBhbmQgaXQncyBhIHNjaGVkdWxlcixcbiAgICAvLyBvdmVycmlkZSB0aGUgc2NoZWR1bGVyIHdlIGhhZCBkZWZhdWx0ZWQuIE90aGVyd2lzZSxcbiAgICAvLyBpdCBtdXN0IGJlIGFuIGludGVydmFsLlxuICAgIGlmIChpc1NjaGVkdWxlcihpbnRlcnZhbE9yU2NoZWR1bGVyKSkge1xuICAgICAgc2NoZWR1bGVyID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgKmNvdWxkKiBiZSBuZWdhdGl2ZSwgaW4gd2hpY2ggY2FzZVxuICAgICAgLy8gaXQncyBsaWtlIG5vdCBwYXNzaW5nIGFuIGludGVydmFsRHVyYXRpb24gYXQgYWxsLlxuICAgICAgaW50ZXJ2YWxEdXJhdGlvbiA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gSWYgYSB2YWxpZCBkYXRlIGlzIHBhc3NlZCwgY2FsY3VsYXRlIGhvdyBsb25nIHRvIHdhaXQgYmVmb3JlXG4gICAgLy8gZXhlY3V0aW5nIHRoZSBmaXJzdCB2YWx1ZS4uLiBvdGhlcndpc2UsIGlmIGl0J3MgYSBudW1iZXIganVzdCBzY2hlZHVsZVxuICAgIC8vIHRoYXQgbWFueSBtaWxsaXNlY29uZHMgKG9yIHNjaGVkdWxlci1zcGVjaWZpZWQgdW5pdCBzaXplKSBpbiB0aGUgZnV0dXJlLlxuICAgIGxldCBkdWUgPSBpc1ZhbGlkRGF0ZShkdWVUaW1lKSA/ICtkdWVUaW1lIC0gc2NoZWR1bGVyIS5ub3coKSA6IGR1ZVRpbWU7XG5cbiAgICBpZiAoZHVlIDwgMCkge1xuICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IHNjaGVkdWxlIGluIHRoZSBmdXR1cmUuXG4gICAgICBkdWUgPSAwO1xuICAgIH1cblxuICAgIC8vIFRoZSBpbmNyZW1lbnRpbmcgdmFsdWUgd2UgZW1pdC5cbiAgICBsZXQgbiA9IDA7XG5cbiAgICAvLyBTdGFydCB0aGUgdGltZXIuXG4gICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIC8vIEVtaXQgdGhlIG5leHQgdmFsdWUgYW5kIGluY3JlbWVudC5cbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG5cbiAgICAgICAgaWYgKDAgPD0gaW50ZXJ2YWxEdXJhdGlvbikge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBpbnRlcnZhbCBhZnRlciB0aGUgaW5pdGlhbCB0aW1lcixcbiAgICAgICAgICAvLyByZXNjaGVkdWxlIHdpdGggdGhlIHBlcmlvZC5cbiAgICAgICAgICB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV2UgZGlkbid0IGhhdmUgYW4gaW50ZXJ2YWwuIFNvIGp1c3QgY29tcGxldGUuXG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZHVlKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBVbnN1YnNjcmliYWJsZSwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSB0aGF0IHVzZXMgYSByZXNvdXJjZSB3aGljaCB3aWxsIGJlIGRpc3Bvc2VkIGF0IHRoZSBzYW1lIHRpbWUgYXMgdGhlIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZSBpdCB3aGVuIHlvdSBjYXRjaCB5b3Vyc2VsZiBjbGVhbmluZyB1cCBhZnRlciBhbiBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiBgdXNpbmdgIGlzIGEgZmFjdG9yeSBvcGVyYXRvciwgd2hpY2ggYWNjZXB0cyB0d28gZnVuY3Rpb25zLiBGaXJzdCBmdW5jdGlvbiByZXR1cm5zIGEgZGlzcG9zYWJsZSByZXNvdXJjZS5cbiAqIEl0IGNhbiBiZSBhbiBhcmJpdHJhcnkgb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBgdW5zdWJzY3JpYmVgIG1ldGhvZC4gU2Vjb25kIGZ1bmN0aW9uIHdpbGwgYmUgaW5qZWN0ZWQgd2l0aFxuICogdGhhdCBvYmplY3QgYW5kIHNob3VsZCByZXR1cm4gYW4gT2JzZXJ2YWJsZS4gVGhhdCBPYnNlcnZhYmxlIGNhbiB1c2UgcmVzb3VyY2Ugb2JqZWN0IGR1cmluZyBpdHMgZXhlY3V0aW9uLlxuICogQm90aCBmdW5jdGlvbnMgcGFzc2VkIHRvIGB1c2luZ2Agd2lsbCBiZSBjYWxsZWQgZXZlcnkgdGltZSBzb21lb25lIHN1YnNjcmliZXMgLSBuZWl0aGVyIGFuIE9ic2VydmFibGUgbm9yXG4gKiByZXNvdXJjZSBvYmplY3Qgd2lsbCBiZSBzaGFyZWQgaW4gYW55IHdheSBiZXR3ZWVuIHN1YnNjcmlwdGlvbnMuXG4gKlxuICogV2hlbiBPYnNlcnZhYmxlIHJldHVybmVkIGJ5IGB1c2luZ2AgaXMgc3Vic2NyaWJlZCwgT2JzZXJ2YWJsZSByZXR1cm5lZCBmcm9tIHRoZSBzZWNvbmQgZnVuY3Rpb24gd2lsbCBiZSBzdWJzY3JpYmVkXG4gKiBhcyB3ZWxsLiBBbGwgaXRzIG5vdGlmaWNhdGlvbnMgKG5leHRlZCB2YWx1ZXMsIGNvbXBsZXRpb24gYW5kIGVycm9yIGV2ZW50cykgd2lsbCBiZSBlbWl0dGVkIHVuY2hhbmdlZCBieSB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLiBJZiBob3dldmVyIHNvbWVvbmUgdW5zdWJzY3JpYmVzIGZyb20gdGhlIE9ic2VydmFibGUgb3Igc291cmNlIE9ic2VydmFibGUgY29tcGxldGVzIG9yIGVycm9ycyBieSBpdHNlbGYsXG4gKiB0aGUgYHVuc3Vic2NyaWJlYCBtZXRob2Qgb24gcmVzb3VyY2Ugb2JqZWN0IHdpbGwgYmUgY2FsbGVkLiBUaGlzIGNhbiBiZSB1c2VkIHRvIGRvIGFueSBuZWNlc3NhcnkgY2xlYW4gdXAsIHdoaWNoXG4gKiBvdGhlcndpc2Ugd291bGQgaGF2ZSB0byBiZSBoYW5kbGVkIGJ5IGhhbmQuIE5vdGUgdGhhdCBjb21wbGV0ZSBvciBlcnJvciBub3RpZmljYXRpb25zIGFyZSBub3QgZW1pdHRlZCB3aGVuIHNvbWVvbmVcbiAqIGNhbmNlbHMgc3Vic2NyaXB0aW9uIHRvIGFuIE9ic2VydmFibGUgdmlhIGB1bnN1YnNjcmliZWAsIHNvIGB1c2luZ2AgY2FuIGJlIHVzZWQgYXMgYSBob29rLCBhbGxvd2luZyB5b3UgdG8gbWFrZVxuICogc3VyZSB0aGF0IGFsbCByZXNvdXJjZXMgd2hpY2ggbmVlZCB0byBleGlzdCBkdXJpbmcgYW4gT2JzZXJ2YWJsZSBleGVjdXRpb24gd2lsbCBiZSBkaXNwb3NlZCBhdCBhcHByb3ByaWF0ZSB0aW1lLlxuICpcbiAqIEBzZWUge0BsaW5rIGRlZmVyfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogSVN1YnNjcmlwdGlvbn0gcmVzb3VyY2VGYWN0b3J5IEEgZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhbnkgcmVzb3VyY2Ugb2JqZWN0XG4gKiB0aGF0IGltcGxlbWVudHMgYHVuc3Vic2NyaWJlYCBtZXRob2QuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHJlc291cmNlOiBJU3Vic2NyaXB0aW9uKTogT2JzZXJ2YWJsZTxUPn0gb2JzZXJ2YWJsZUZhY3RvcnkgQSBmdW5jdGlvbiB3aGljaFxuICogY3JlYXRlcyBhbiBPYnNlcnZhYmxlLCB0aGF0IGNhbiB1c2UgaW5qZWN0ZWQgcmVzb3VyY2Ugb2JqZWN0LlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gQW4gT2JzZXJ2YWJsZSB0aGF0IGJlaGF2ZXMgdGhlIHNhbWUgYXMgT2JzZXJ2YWJsZSByZXR1cm5lZCBieSBgb2JzZXJ2YWJsZUZhY3RvcnlgLCBidXRcbiAqIHdoaWNoIC0gd2hlbiBjb21wbGV0ZWQsIGVycm9yZWQgb3IgdW5zdWJzY3JpYmVkIC0gd2lsbCBhbHNvIGNhbGwgYHVuc3Vic2NyaWJlYCBvbiBjcmVhdGVkIHJlc291cmNlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzaW5nPFQgZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHJlc291cmNlRmFjdG9yeTogKCkgPT4gVW5zdWJzY3JpYmFibGUgfCB2b2lkLFxuICBvYnNlcnZhYmxlRmFjdG9yeTogKHJlc291cmNlOiBVbnN1YnNjcmliYWJsZSB8IHZvaWQpID0+IFQgfCB2b2lkXG4pOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxUPj4ge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPFQ+Pigoc3Vic2NyaWJlcikgPT4ge1xuICAgIGNvbnN0IHJlc291cmNlID0gcmVzb3VyY2VGYWN0b3J5KCk7XG4gICAgY29uc3QgcmVzdWx0ID0gb2JzZXJ2YWJsZUZhY3RvcnkocmVzb3VyY2UpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHJlc3VsdCA/IGlubmVyRnJvbShyZXN1bHQpIDogRU1QVFk7XG4gICAgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gTk9URTogT3B0aW9uYWwgY2hhaW5pbmcgZGlkIG5vdCB3b3JrIGhlcmUuXG4gICAgICAvLyBSZWxhdGVkIFRTIElzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQwODE4XG4gICAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgcmVzb3VyY2UudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xuaW1wb3J0IHsgYXJnc09yQXJnQXJyYXkgfSBmcm9tICcuLi91dGlsL2FyZ3NPckFyZ0FycmF5JztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHppcDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihzb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBPjtcbmV4cG9ydCBmdW5jdGlvbiB6aXA8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIHNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0sXG4gIHJlc3VsdFNlbGVjdG9yOiAoLi4udmFsdWVzOiBBKSA9PiBSXG4pOiBPYnNlcnZhYmxlPFI+O1xuZXhwb3J0IGZ1bmN0aW9uIHppcDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBPjtcbmV4cG9ydCBmdW5jdGlvbiB6aXA8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIC4uLnNvdXJjZXNBbmRSZXN1bHRTZWxlY3RvcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCAoLi4udmFsdWVzOiBBKSA9PiBSXVxuKTogT2JzZXJ2YWJsZTxSPjtcblxuLyoqXG4gKiBDb21iaW5lcyBtdWx0aXBsZSBPYnNlcnZhYmxlcyB0byBjcmVhdGUgYW4gT2JzZXJ2YWJsZSB3aG9zZSB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgdmFsdWVzLCBpbiBvcmRlciwgb2YgZWFjaFxuICogb2YgaXRzIGlucHV0IE9ic2VydmFibGVzLlxuICpcbiAqIElmIHRoZSBsYXN0IHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uLCB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGUgY3JlYXRlZCB2YWx1ZSBmcm9tIHRoZSBpbnB1dCB2YWx1ZXMuXG4gKiBPdGhlcndpc2UsIGFuIGFycmF5IG9mIHRoZSBpbnB1dCB2YWx1ZXMgaXMgcmV0dXJuZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIENvbWJpbmUgYWdlIGFuZCBuYW1lIGZyb20gZGlmZmVyZW50IHNvdXJjZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHppcCwgbWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYWdlJCA9IG9mKDI3LCAyNSwgMjkpO1xuICogY29uc3QgbmFtZSQgPSBvZignRm9vJywgJ0JhcicsICdCZWVyJyk7XG4gKiBjb25zdCBpc0RldiQgPSBvZih0cnVlLCB0cnVlLCBmYWxzZSk7XG4gKlxuICogemlwKGFnZSQsIG5hbWUkLCBpc0RldiQpLnBpcGUoXG4gKiAgIG1hcCgoW2FnZSwgbmFtZSwgaXNEZXZdKSA9PiAoeyBhZ2UsIG5hbWUsIGlzRGV2IH0pKVxuICogKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyB7IGFnZTogMjcsIG5hbWU6ICdGb28nLCBpc0RldjogdHJ1ZSB9XG4gKiAvLyB7IGFnZTogMjUsIG5hbWU6ICdCYXInLCBpc0RldjogdHJ1ZSB9XG4gKiAvLyB7IGFnZTogMjksIG5hbWU6ICdCZWVyJywgaXNEZXY6IGZhbHNlIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzb3VyY2VzXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlPFI+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gemlwKC4uLmFyZ3M6IHVua25vd25bXSk6IE9ic2VydmFibGU8dW5rbm93bj4ge1xuICBjb25zdCByZXN1bHRTZWxlY3RvciA9IHBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuXG4gIGNvbnN0IHNvdXJjZXMgPSBhcmdzT3JBcmdBcnJheShhcmdzKSBhcyBPYnNlcnZhYmxlPHVua25vd24+W107XG5cbiAgcmV0dXJuIHNvdXJjZXMubGVuZ3RoXG4gICAgPyBuZXcgT2JzZXJ2YWJsZTx1bmtub3duW10+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIC8vIEEgY29sbGVjdGlvbiBvZiBidWZmZXJzIG9mIHZhbHVlcyBmcm9tIGVhY2ggc291cmNlLlxuICAgICAgICAvLyBLZXllZCBieSB0aGUgc2FtZSBpbmRleCB3aXRoIHdoaWNoIHRoZSBzb3VyY2VzIHdlcmUgcGFzc2VkIGluLlxuICAgICAgICBsZXQgYnVmZmVyczogdW5rbm93bltdW10gPSBzb3VyY2VzLm1hcCgoKSA9PiBbXSk7XG5cbiAgICAgICAgLy8gQW4gYXJyYXkgb2YgZmxhZ3Mgb2Ygd2hldGhlciBvciBub3QgdGhlIHNvdXJjZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICAgIC8vIFRoaXMgaXMgdXNlZCB0byBjaGVjayB0byBzZWUgaWYgd2Ugc2hvdWxkIGNvbXBsZXRlIHRoZSByZXN1bHQuXG4gICAgICAgIC8vIEtleWVkIGJ5IHRoZSBzYW1lIGluZGV4IHdpdGggd2hpY2ggdGhlIHNvdXJjZXMgd2VyZSBwYXNzZWQgaW4uXG4gICAgICAgIGxldCBjb21wbGV0ZWQgPSBzb3VyY2VzLm1hcCgoKSA9PiBmYWxzZSk7XG5cbiAgICAgICAgLy8gV2hlbiBldmVyeXRoaW5nIGlzIGRvbmUsIHJlbGVhc2UgdGhlIGFycmF5cyBhYm92ZS5cbiAgICAgICAgc3Vic2NyaWJlci5hZGQoKCkgPT4ge1xuICAgICAgICAgIGJ1ZmZlcnMgPSBjb21wbGV0ZWQgPSBudWxsITtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTG9vcCBvdmVyIG91ciBzb3VyY2VzIGFuZCBzdWJzY3JpYmUgdG8gZWFjaCBvbmUuIFRoZSBpbmRleCBgaWAgaXNcbiAgICAgICAgLy8gZXNwZWNpYWxseSBpbXBvcnRhbnQgaGVyZSwgYmVjYXVzZSB3ZSB1c2UgaXQgaW4gY2xvc3VyZXMgYmVsb3cgdG9cbiAgICAgICAgLy8gYWNjZXNzIHRoZSByZWxhdGVkIGJ1ZmZlcnMgYW5kIGNvbXBsZXRpb24gcHJvcGVydGllc1xuICAgICAgICBmb3IgKGxldCBzb3VyY2VJbmRleCA9IDA7ICFzdWJzY3JpYmVyLmNsb3NlZCAmJiBzb3VyY2VJbmRleCA8IHNvdXJjZXMubGVuZ3RoOyBzb3VyY2VJbmRleCsrKSB7XG4gICAgICAgICAgaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnNbc291cmNlSW5kZXhdLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIGlmIGV2ZXJ5IGJ1ZmZlciBoYXMgYXQgbGVhc3Qgb25lIHZhbHVlIGluIGl0LCB0aGVuIHdlXG4gICAgICAgICAgICAgICAgLy8gY2FuIHNoaWZ0IG91dCB0aGUgb2xkZXN0IHZhbHVlIGZyb20gZWFjaCBidWZmZXIgYW5kIGVtaXRcbiAgICAgICAgICAgICAgICAvLyB0aGVtIGFzIGFuIGFycmF5LlxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLmV2ZXJ5KChidWZmZXIpID0+IGJ1ZmZlci5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IGJ1ZmZlcnMubWFwKChidWZmZXIpID0+IGJ1ZmZlci5zaGlmdCgpISk7XG4gICAgICAgICAgICAgICAgICAvLyBFbWl0IHRoZSBhcnJheS4gSWYgdGhlcmVzJyBhIHJlc3VsdCBzZWxlY3RvciwgdXNlIHRoYXQuXG4gICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3RvciguLi5yZXN1bHQpIDogcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBvbmUgb2YgdGhlIHNvdXJjZXMgaXMgYm90aCBjb21wbGV0ZSBhbmQgaGFzIGFuIGVtcHR5IGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgLy8gdGhlbiB3ZSBjb21wbGV0ZSB0aGUgcmVzdWx0LiBUaGlzIGlzIGJlY2F1c2Ugd2UgY2Fubm90IHBvc3NpYmx5IGhhdmVcbiAgICAgICAgICAgICAgICAgIC8vIGFueSBtb3JlIHZhbHVlcyB0byB6aXAgdG9nZXRoZXIuXG4gICAgICAgICAgICAgICAgICBpZiAoYnVmZmVycy5zb21lKChidWZmZXIsIGkpID0+ICFidWZmZXIubGVuZ3RoICYmIGNvbXBsZXRlZFtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgc291cmNlIGNvbXBsZXRlZC4gTWFyayBpdCBhcyBjb21wbGV0ZSBzbyB3ZSBjYW4gY2hlY2sgaXQgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIHRvLlxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFtzb3VyY2VJbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIEJ1dCwgaWYgdGhpcyBjb21wbGV0ZSBzb3VyY2UgaGFzIG5vdGhpbmcgaW4gaXRzIGJ1ZmZlciwgdGhlbiB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBjb21wbGV0ZSB0aGUgcmVzdWx0LCBiZWNhdXNlIHdlIGNhbid0IHBvc3NpYmx5IGhhdmUgYW55IG1vcmVcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZXMgZnJvbSB0aGlzIHRvIHppcCB0b2dldGhlciB3aXRoIHRoZSBvdGhlciB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgIWJ1ZmZlcnNbc291cmNlSW5kZXhdLmxlbmd0aCAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiBldmVyeXRoaW5nIGlzIGRvbmUsIHJlbGVhc2UgdGhlIGFycmF5cyBhYm92ZS5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBidWZmZXJzID0gY29tcGxldGVkID0gbnVsbCE7XG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIDogRU1QVFk7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgT3BlcmF0b3JTdWJzY3JpYmVyYC5cbiAqIEBwYXJhbSBkZXN0aW5hdGlvbiBUaGUgZG93bnN0cmVhbSBzdWJzY3JpYmVyLlxuICogQHBhcmFtIG9uTmV4dCBIYW5kbGVzIG5leHQgdmFsdWVzLCBvbmx5IGNhbGxlZCBpZiB0aGlzIHN1YnNjcmliZXIgaXMgbm90IHN0b3BwZWQgb3IgY2xvc2VkLiBBbnlcbiAqIGVycm9yIHRoYXQgb2NjdXJzIGluIHRoaXMgZnVuY3Rpb24gaXMgY2F1Z2h0IGFuZCBzZW50IHRvIHRoZSBgZXJyb3JgIG1ldGhvZCBvZiB0aGlzIHN1YnNjcmliZXIuXG4gKiBAcGFyYW0gb25FcnJvciBIYW5kbGVzIGVycm9ycyBmcm9tIHRoZSBzdWJzY3JpcHRpb24sIGFueSBlcnJvcnMgdGhhdCBvY2N1ciBpbiB0aGlzIGhhbmRsZXIgYXJlIGNhdWdodFxuICogYW5kIHNlbmQgdG8gdGhlIGBkZXN0aW5hdGlvbmAgZXJyb3IgaGFuZGxlci5cbiAqIEBwYXJhbSBvbkNvbXBsZXRlIEhhbmRsZXMgY29tcGxldGlvbiBub3RpZmljYXRpb24gZnJvbSB0aGUgc3Vic2NyaXB0aW9uLiBBbnkgZXJyb3JzIHRoYXQgb2NjdXIgaW5cbiAqIHRoaXMgaGFuZGxlciBhcmUgc2VudCB0byB0aGUgYGRlc3RpbmF0aW9uYCBlcnJvciBoYW5kbGVyLlxuICogQHBhcmFtIG9uRmluYWxpemUgQWRkaXRpb25hbCB0ZWFyZG93biBsb2dpYyBoZXJlLiBUaGlzIHdpbGwgb25seSBiZSBjYWxsZWQgb24gdGVhcmRvd24gaWYgdGhlXG4gKiBzdWJzY3JpYmVyIGl0c2VsZiBpcyBub3QgYWxyZWFkeSBjbG9zZWQuIFRoaXMgaXMgY2FsbGVkIGFmdGVyIGFsbCBvdGhlciB0ZWFyZG93biBsb2dpYyBpcyBleGVjdXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcjxUPihcbiAgZGVzdGluYXRpb246IFN1YnNjcmliZXI8YW55PixcbiAgb25OZXh0PzogKHZhbHVlOiBUKSA9PiB2b2lkLFxuICBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgb25FcnJvcj86IChlcnI6IGFueSkgPT4gdm9pZCxcbiAgb25GaW5hbGl6ZT86ICgpID0+IHZvaWRcbik6IFN1YnNjcmliZXI8VD4ge1xuICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cblxuLyoqXG4gKiBBIGdlbmVyaWMgaGVscGVyIGZvciBhbGxvd2luZyBvcGVyYXRvcnMgdG8gYmUgY3JlYXRlZCB3aXRoIGEgU3Vic2NyaWJlciBhbmRcbiAqIHVzZSBjbG9zdXJlcyB0byBjYXB0dXJlIG5lY2Vzc2FyeSBzdGF0ZSBmcm9tIHRoZSBvcGVyYXRvciBmdW5jdGlvbiBpdHNlbGYuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVyYXRvclN1YnNjcmliZXI8VD4gZXh0ZW5kcyBTdWJzY3JpYmVyPFQ+IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYE9wZXJhdG9yU3Vic2NyaWJlcmAuXG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvbiBUaGUgZG93bnN0cmVhbSBzdWJzY3JpYmVyLlxuICAgKiBAcGFyYW0gb25OZXh0IEhhbmRsZXMgbmV4dCB2YWx1ZXMsIG9ubHkgY2FsbGVkIGlmIHRoaXMgc3Vic2NyaWJlciBpcyBub3Qgc3RvcHBlZCBvciBjbG9zZWQuIEFueVxuICAgKiBlcnJvciB0aGF0IG9jY3VycyBpbiB0aGlzIGZ1bmN0aW9uIGlzIGNhdWdodCBhbmQgc2VudCB0byB0aGUgYGVycm9yYCBtZXRob2Qgb2YgdGhpcyBzdWJzY3JpYmVyLlxuICAgKiBAcGFyYW0gb25FcnJvciBIYW5kbGVzIGVycm9ycyBmcm9tIHRoZSBzdWJzY3JpcHRpb24sIGFueSBlcnJvcnMgdGhhdCBvY2N1ciBpbiB0aGlzIGhhbmRsZXIgYXJlIGNhdWdodFxuICAgKiBhbmQgc2VuZCB0byB0aGUgYGRlc3RpbmF0aW9uYCBlcnJvciBoYW5kbGVyLlxuICAgKiBAcGFyYW0gb25Db21wbGV0ZSBIYW5kbGVzIGNvbXBsZXRpb24gbm90aWZpY2F0aW9uIGZyb20gdGhlIHN1YnNjcmlwdGlvbi4gQW55IGVycm9ycyB0aGF0IG9jY3VyIGluXG4gICAqIHRoaXMgaGFuZGxlciBhcmUgc2VudCB0byB0aGUgYGRlc3RpbmF0aW9uYCBlcnJvciBoYW5kbGVyLlxuICAgKiBAcGFyYW0gb25GaW5hbGl6ZSBBZGRpdGlvbmFsIGZpbmFsaXphdGlvbiBsb2dpYyBoZXJlLiBUaGlzIHdpbGwgb25seSBiZSBjYWxsZWQgb24gZmluYWxpemF0aW9uIGlmIHRoZVxuICAgKiBzdWJzY3JpYmVyIGl0c2VsZiBpcyBub3QgYWxyZWFkeSBjbG9zZWQuIFRoaXMgaXMgY2FsbGVkIGFmdGVyIGFsbCBvdGhlciBmaW5hbGl6YXRpb24gbG9naWMgaXMgZXhlY3V0ZWQuXG4gICAqIEBwYXJhbSBzaG91bGRVbnN1YnNjcmliZSBBbiBvcHRpb25hbCBjaGVjayB0byBzZWUgaWYgYW4gdW5zdWJzY3JpYmUgY2FsbCBzaG91bGQgdHJ1bHkgdW5zdWJzY3JpYmUuXG4gICAqIE5PVEU6IFRoaXMgY3VycmVudGx5ICoqT05MWSoqIGV4aXN0cyB0byBzdXBwb3J0IHRoZSBzdHJhbmdlIGJlaGF2aW9yIG9mIHtAbGluayBncm91cEJ5fSwgd2hlcmUgdW5zdWJzY3JpcHRpb25cbiAgICogdG8gdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIGRvZXMgbm90IGFjdHVhbGx5IGRpc2Nvbm5lY3QgZnJvbSB0aGUgc291cmNlIGlmIHRoZXJlIGFyZSBhY3RpdmUgc3Vic2NyaXB0aW9uc1xuICAgKiB0byBhbnkgZ3JvdXBlZCBvYnNlcnZhYmxlLiAoRE8gTk9UIEVYUE9TRSBPUiBVU0UgRVhURVJOQUxMWSEhISlcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPGFueT4sXG4gICAgb25OZXh0PzogKHZhbHVlOiBUKSA9PiB2b2lkLFxuICAgIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIG9uRXJyb3I/OiAoZXJyOiBhbnkpID0+IHZvaWQsXG4gICAgcHJpdmF0ZSBvbkZpbmFsaXplPzogKCkgPT4gdm9pZCxcbiAgICBwcml2YXRlIHNob3VsZFVuc3Vic2NyaWJlPzogKCkgPT4gYm9vbGVhblxuICApIHtcbiAgICAvLyBJdCdzIGltcG9ydGFudCAtIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIC0gdGhhdCBhbGwgb2YgdGhpcyBjbGFzcydzXG4gICAgLy8gbWVtYmVycyBhcmUgaW5pdGlhbGl6ZWQgYW5kIHRoYXQgdGhleSBhcmUgYWx3YXlzIGluaXRpYWxpemVkIGluIHRoZSBzYW1lXG4gICAgLy8gb3JkZXIuIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCBhbGwgT3BlcmF0b3JTdWJzY3JpYmVyIGluc3RhbmNlcyBoYXZlIHRoZVxuICAgIC8vIHNhbWUgaGlkZGVuIGNsYXNzIGluIFY4LiBUaGlzLCBpbiB0dXJuLCB3aWxsIGhlbHAga2VlcCB0aGUgbnVtYmVyIG9mXG4gICAgLy8gaGlkZGVuIGNsYXNzZXMgaW52b2x2ZWQgaW4gcHJvcGVydHkgYWNjZXNzZXMgd2l0aGluIHRoZSBiYXNlIGNsYXNzIGFzXG4gICAgLy8gbG93IGFzIHBvc3NpYmxlLiBJZiB0aGUgbnVtYmVyIG9mIGhpZGRlbiBjbGFzc2VzIGludm9sdmVkIGV4Y2VlZHMgZm91cixcbiAgICAvLyB0aGUgcHJvcGVydHkgYWNjZXNzZXMgd2lsbCBiZWNvbWUgbWVnYW1vcnBoaWMgYW5kIHBlcmZvcm1hbmNlIHBlbmFsdGllc1xuICAgIC8vIHdpbGwgYmUgaW5jdXJyZWQgLSBpLmUuIGlubGluZSBjYWNoZXMgd29uJ3QgYmUgdXNlZC5cbiAgICAvL1xuICAgIC8vIFRoZSByZWFzb25zIGZvciBlbnN1cmluZyBhbGwgaW5zdGFuY2VzIGhhdmUgdGhlIHNhbWUgaGlkZGVuIGNsYXNzIGFyZVxuICAgIC8vIGZ1cnRoZXIgZGlzY3Vzc2VkIGluIHRoaXMgYmxvZyBwb3N0IGZyb20gQmVuZWRpa3QgTWV1cmVyOlxuICAgIC8vIGh0dHBzOi8vYmVuZWRpa3RtZXVyZXIuZGUvMjAxOC8wMy8yMy9pbXBhY3Qtb2YtcG9seW1vcnBoaXNtLW9uLWNvbXBvbmVudC1iYXNlZC1mcmFtZXdvcmtzLWxpa2UtcmVhY3QvXG4gICAgc3VwZXIoZGVzdGluYXRpb24pO1xuICAgIHRoaXMuX25leHQgPSBvbk5leHRcbiAgICAgID8gZnVuY3Rpb24gKHRoaXM6IE9wZXJhdG9yU3Vic2NyaWJlcjxUPiwgdmFsdWU6IFQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICA6IHN1cGVyLl9uZXh0O1xuICAgIHRoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgPyBmdW5jdGlvbiAodGhpczogT3BlcmF0b3JTdWJzY3JpYmVyPFQ+LCBlcnI6IGFueSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBTZW5kIGFueSBlcnJvcnMgdGhhdCBvY2N1ciBkb3duIHN0cmVhbS5cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBmaW5hbGl6YXRpb24uXG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICA6IHN1cGVyLl9lcnJvcjtcbiAgICB0aGlzLl9jb21wbGV0ZSA9IG9uQ29tcGxldGVcbiAgICAgID8gZnVuY3Rpb24gKHRoaXM6IE9wZXJhdG9yU3Vic2NyaWJlcjxUPikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBTZW5kIGFueSBlcnJvcnMgdGhhdCBvY2N1ciBkb3duIHN0cmVhbS5cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBmaW5hbGl6YXRpb24uXG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICA6IHN1cGVyLl9jb21wbGV0ZTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgIGNvbnN0IHsgY2xvc2VkIH0gPSB0aGlzO1xuICAgICAgc3VwZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIC8vIEV4ZWN1dGUgYWRkaXRpb25hbCB0ZWFyZG93biBpZiB3ZSBoYXZlIGFueSBhbmQgd2UgZGlkbid0IGFscmVhZHkgZG8gc28uXG4gICAgICAhY2xvc2VkICYmIHRoaXMub25GaW5hbGl6ZT8uKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogSWdub3JlcyBzb3VyY2UgdmFsdWVzIGZvciBhIGR1cmF0aW9uIGRldGVybWluZWQgYnkgYW5vdGhlciBPYnNlcnZhYmxlLCB0aGVuXG4gKiBlbWl0cyB0aGUgbW9zdCByZWNlbnQgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHRoZW4gcmVwZWF0cyB0aGlzXG4gKiBwcm9jZXNzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGF1ZGl0VGltZX0sIGJ1dCB0aGUgc2lsZW5jaW5nXG4gKiBkdXJhdGlvbiBpcyBkZXRlcm1pbmVkIGJ5IGEgc2Vjb25kIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShhdWRpdC5zdmcpXG4gKlxuICogYGF1ZGl0YCBpcyBzaW1pbGFyIHRvIGB0aHJvdHRsZWAsIGJ1dCBlbWl0cyB0aGUgbGFzdCB2YWx1ZSBmcm9tIHRoZSBzaWxlbmNlZFxuICogdGltZSB3aW5kb3csIGluc3RlYWQgb2YgdGhlIGZpcnN0IHZhbHVlLiBgYXVkaXRgIGVtaXRzIHRoZSBtb3N0IHJlY2VudCB2YWx1ZVxuICogZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlIGFzIHNvb24gYXMgaXRzIGludGVybmFsXG4gKiB0aW1lciBiZWNvbWVzIGRpc2FibGVkLCBhbmQgaWdub3JlcyBzb3VyY2UgdmFsdWVzIHdoaWxlIHRoZSB0aW1lciBpcyBlbmFibGVkLlxuICogSW5pdGlhbGx5LCB0aGUgdGltZXIgaXMgZGlzYWJsZWQuIEFzIHNvb24gYXMgdGhlIGZpcnN0IHNvdXJjZSB2YWx1ZSBhcnJpdmVzLFxuICogdGhlIHRpbWVyIGlzIGVuYWJsZWQgYnkgY2FsbGluZyB0aGUgYGR1cmF0aW9uU2VsZWN0b3JgIGZ1bmN0aW9uIHdpdGggdGhlXG4gKiBzb3VyY2UgdmFsdWUsIHdoaWNoIHJldHVybnMgdGhlIFwiZHVyYXRpb25cIiBPYnNlcnZhYmxlLiBXaGVuIHRoZSBkdXJhdGlvblxuICogT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLCB0aGUgdGltZXIgaXMgZGlzYWJsZWQsIHRoZW4gdGhlIG1vc3RcbiAqIHJlY2VudCBzb3VyY2UgdmFsdWUgaXMgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUsIGFuZCB0aGlzIHByb2Nlc3NcbiAqIHJlcGVhdHMgZm9yIHRoZSBuZXh0IHNvdXJjZSB2YWx1ZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCBjbGlja3MgYXQgYSByYXRlIG9mIGF0IG1vc3Qgb25lIGNsaWNrIHBlciBzZWNvbmRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBhdWRpdCwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoYXVkaXQoZXYgPT4gaW50ZXJ2YWwoMTAwMCkpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBhdWRpdFRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZX1cbiAqIEBzZWUge0BsaW5rIGRlbGF5V2hlbn1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlfVxuICpcbiAqIEBwYXJhbSBkdXJhdGlvblNlbGVjdG9yIEEgZnVuY3Rpb25cbiAqIHRoYXQgcmVjZWl2ZXMgYSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgZm9yIGNvbXB1dGluZyB0aGUgc2lsZW5jaW5nXG4gKiBkdXJhdGlvbiwgcmV0dXJuZWQgYXMgYW4gT2JzZXJ2YWJsZSBvciBhIFByb21pc2UuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBwZXJmb3JtcyByYXRlLWxpbWl0aW5nIG9mXG4gKiBlbWlzc2lvbnMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdWRpdDxUPihkdXJhdGlvblNlbGVjdG9yOiAodmFsdWU6IFQpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgIGxldCBsYXN0VmFsdWU6IFQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgZHVyYXRpb25TdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4gfCBudWxsID0gbnVsbDtcbiAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3QgZW5kRHVyYXRpb24gPSAoKSA9PiB7XG4gICAgICBkdXJhdGlvblN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbGFzdFZhbHVlITtcbiAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBjbGVhbnVwRHVyYXRpb24gPSAoKSA9PiB7XG4gICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoIWR1cmF0aW9uU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgaW5uZXJGcm9tKGR1cmF0aW9uU2VsZWN0b3IodmFsdWUpKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgIChkdXJhdGlvblN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW5kRHVyYXRpb24sIGNsZWFudXBEdXJhdGlvbikpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICghaGFzVmFsdWUgfHwgIWR1cmF0aW9uU3Vic2NyaWJlciB8fCBkdXJhdGlvblN1YnNjcmliZXIuY2xvc2VkKSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGF1ZGl0IH0gZnJvbSAnLi9hdWRpdCc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4uL29ic2VydmFibGUvdGltZXInO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIElnbm9yZXMgc291cmNlIHZhbHVlcyBmb3IgYGR1cmF0aW9uYCBtaWxsaXNlY29uZHMsIHRoZW4gZW1pdHMgdGhlIG1vc3QgcmVjZW50XG4gKiB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgdGhlbiByZXBlYXRzIHRoaXMgcHJvY2Vzcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+V2hlbiBpdCBzZWVzIGEgc291cmNlIHZhbHVlLCBpdCBpZ25vcmVzIHRoYXQgcGx1c1xuICogdGhlIG5leHQgb25lcyBmb3IgYGR1cmF0aW9uYCBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGl0IGVtaXRzIHRoZSBtb3N0IHJlY2VudFxuICogdmFsdWUgZnJvbSB0aGUgc291cmNlLjwvc3Bhbj5cbiAqXG4gKiAhW10oYXVkaXRUaW1lLnBuZylcbiAqXG4gKiBgYXVkaXRUaW1lYCBpcyBzaW1pbGFyIHRvIGB0aHJvdHRsZVRpbWVgLCBidXQgZW1pdHMgdGhlIGxhc3QgdmFsdWUgZnJvbSB0aGVcbiAqIHNpbGVuY2VkIHRpbWUgd2luZG93LCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCB2YWx1ZS4gYGF1ZGl0VGltZWAgZW1pdHMgdGhlIG1vc3RcbiAqIHJlY2VudCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUgYXMgc29vbiBhc1xuICogaXRzIGludGVybmFsIHRpbWVyIGJlY29tZXMgZGlzYWJsZWQsIGFuZCBpZ25vcmVzIHNvdXJjZSB2YWx1ZXMgd2hpbGUgdGhlXG4gKiB0aW1lciBpcyBlbmFibGVkLiBJbml0aWFsbHksIHRoZSB0aW1lciBpcyBkaXNhYmxlZC4gQXMgc29vbiBhcyB0aGUgZmlyc3RcbiAqIHNvdXJjZSB2YWx1ZSBhcnJpdmVzLCB0aGUgdGltZXIgaXMgZW5hYmxlZC4gQWZ0ZXIgYGR1cmF0aW9uYCBtaWxsaXNlY29uZHMgKG9yXG4gKiB0aGUgdGltZSB1bml0IGRldGVybWluZWQgaW50ZXJuYWxseSBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmApIGhhcyBwYXNzZWQsXG4gKiB0aGUgdGltZXIgaXMgZGlzYWJsZWQsIHRoZW4gdGhlIG1vc3QgcmVjZW50IHNvdXJjZSB2YWx1ZSBpcyBlbWl0dGVkIG9uIHRoZVxuICogb3V0cHV0IE9ic2VydmFibGUsIGFuZCB0aGlzIHByb2Nlc3MgcmVwZWF0cyBmb3IgdGhlIG5leHQgc291cmNlIHZhbHVlLlxuICogT3B0aW9uYWxseSB0YWtlcyBhIHtAbGluayBTY2hlZHVsZXJMaWtlfSBmb3IgbWFuYWdpbmcgdGltZXJzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IGNsaWNrcyBhdCBhIHJhdGUgb2YgYXQgbW9zdCBvbmUgY2xpY2sgcGVyIHNlY29uZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGF1ZGl0VGltZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShhdWRpdFRpbWUoMTAwMCkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGF1ZGl0fVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2VUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVsYXl9XG4gKiBAc2VlIHtAbGluayBzYW1wbGVUaW1lfVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGVUaW1lfVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaW1lIHRvIHdhaXQgYmVmb3JlIGVtaXR0aW5nIHRoZSBtb3N0IHJlY2VudCBzb3VyY2VcbiAqIHZhbHVlLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMgb3IgdGhlIHRpbWUgdW5pdCBkZXRlcm1pbmVkIGludGVybmFsbHlcbiAqIGJ5IHRoZSBvcHRpb25hbCBgc2NoZWR1bGVyYC5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcj1hc3luY10gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yXG4gKiBtYW5hZ2luZyB0aGUgdGltZXJzIHRoYXQgaGFuZGxlIHRoZSByYXRlLWxpbWl0aW5nIGJlaGF2aW9yLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgcGVyZm9ybXMgcmF0ZS1saW1pdGluZyBvZlxuICogZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXVkaXRUaW1lPFQ+KGR1cmF0aW9uOiBudW1iZXIsIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSA9IGFzeW5jU2NoZWR1bGVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIGF1ZGl0KCgpID0+IHRpbWVyKGR1cmF0aW9uLCBzY2hlZHVsZXIpKTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKlxuICogQnVmZmVycyB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIHVudGlsIGBjbG9zaW5nTm90aWZpZXJgIGVtaXRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Db2xsZWN0cyB2YWx1ZXMgZnJvbSB0aGUgcGFzdCBhcyBhbiBhcnJheSwgYW5kIGVtaXRzXG4gKiB0aGF0IGFycmF5IG9ubHkgd2hlbiBhbm90aGVyIE9ic2VydmFibGUgZW1pdHMuPC9zcGFuPlxuICpcbiAqICFbXShidWZmZXIucG5nKVxuICpcbiAqIEJ1ZmZlcnMgdGhlIGluY29taW5nIE9ic2VydmFibGUgdmFsdWVzIHVudGlsIHRoZSBnaXZlbiBgY2xvc2luZ05vdGlmaWVyYFxuICogYE9ic2VydmFibGVJbnB1dGAgKHRoYXQgaW50ZXJuYWxseSBnZXRzIGNvbnZlcnRlZCB0byBhbiBPYnNlcnZhYmxlKVxuICogZW1pdHMgYSB2YWx1ZSwgYXQgd2hpY2ggcG9pbnQgaXQgZW1pdHMgdGhlIGJ1ZmZlciBvbiB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlIGFuZCBzdGFydHMgYSBuZXcgYnVmZmVyIGludGVybmFsbHksIGF3YWl0aW5nIHRoZSBuZXh0IHRpbWVcbiAqIGBjbG9zaW5nTm90aWZpZXJgIGVtaXRzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBPbiBldmVyeSBjbGljaywgZW1pdCBhcnJheSBvZiBtb3N0IHJlY2VudCBpbnRlcnZhbCBldmVudHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBpbnRlcnZhbCwgYnVmZmVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGludGVydmFsRXZlbnRzID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCBidWZmZXJlZCA9IGludGVydmFsRXZlbnRzLnBpcGUoYnVmZmVyKGNsaWNrcykpO1xuICogYnVmZmVyZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYnVmZmVyQ291bnR9XG4gKiBAc2VlIHtAbGluayBidWZmZXJUaW1lfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyV2hlbn1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd31cbiAqXG4gKiBAcGFyYW0gY2xvc2luZ05vdGlmaWVyIEFuIGBPYnNlcnZhYmxlSW5wdXRgIHRoYXQgc2lnbmFscyB0aGVcbiAqIGJ1ZmZlciB0byBiZSBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBidWZmZXJzLCB3aGljaCBhcmUgYXJyYXlzXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXI8VD4oY2xvc2luZ05vdGlmaWVyOiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgY3VycmVudCBidWZmZXJlZCB2YWx1ZXMuXG4gICAgbGV0IGN1cnJlbnRCdWZmZXI6IFRbXSA9IFtdO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIG91ciBzb3VyY2UuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiBjdXJyZW50QnVmZmVyLnB1c2godmFsdWUpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGN1cnJlbnRCdWZmZXIpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIGNsb3Npbmcgbm90aWZpZXIuXG4gICAgaW5uZXJGcm9tKGNsb3NpbmdOb3RpZmllcikuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgYnVmZmVyIGFuZCBlbWl0IHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgICAgY29uc3QgYiA9IGN1cnJlbnRCdWZmZXI7XG4gICAgICAgICAgY3VycmVudEJ1ZmZlciA9IFtdO1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChiKTtcbiAgICAgICAgfSxcbiAgICAgICAgbm9vcFxuICAgICAgKVxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gRW5zdXJlIGJ1ZmZlcmVkIHZhbHVlcyBhcmUgcmVsZWFzZWQgb24gZmluYWxpemF0aW9uLlxuICAgICAgY3VycmVudEJ1ZmZlciA9IG51bGwhO1xuICAgIH07XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xuXG4vKipcbiAqIEJ1ZmZlcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyB1bnRpbCB0aGUgc2l6ZSBoaXRzIHRoZSBtYXhpbXVtXG4gKiBgYnVmZmVyU2l6ZWAgZ2l2ZW4uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNvbGxlY3RzIHZhbHVlcyBmcm9tIHRoZSBwYXN0IGFzIGFuIGFycmF5LCBhbmQgZW1pdHNcbiAqIHRoYXQgYXJyYXkgb25seSB3aGVuIGl0cyBzaXplIHJlYWNoZXMgYGJ1ZmZlclNpemVgLjwvc3Bhbj5cbiAqXG4gKiAhW10oYnVmZmVyQ291bnQucG5nKVxuICpcbiAqIEJ1ZmZlcnMgYSBudW1iZXIgb2YgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IGBidWZmZXJTaXplYCB0aGVuXG4gKiBlbWl0cyB0aGUgYnVmZmVyIGFuZCBjbGVhcnMgaXQsIGFuZCBzdGFydHMgYSBuZXcgYnVmZmVyIGVhY2hcbiAqIGBzdGFydEJ1ZmZlckV2ZXJ5YCB2YWx1ZXMuIElmIGBzdGFydEJ1ZmZlckV2ZXJ5YCBpcyBub3QgcHJvdmlkZWQgb3IgaXNcbiAqIGBudWxsYCwgdGhlbiBuZXcgYnVmZmVycyBhcmUgc3RhcnRlZCBpbW1lZGlhdGVseSBhdCB0aGUgc3RhcnQgb2YgdGhlIHNvdXJjZVxuICogYW5kIHdoZW4gZWFjaCBidWZmZXIgY2xvc2VzIGFuZCBpcyBlbWl0dGVkLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRW1pdCB0aGUgbGFzdCB0d28gY2xpY2sgZXZlbnRzIGFzIGFuIGFycmF5XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgYnVmZmVyQ291bnQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgYnVmZmVyZWQgPSBjbGlja3MucGlwZShidWZmZXJDb3VudCgyKSk7XG4gKiBidWZmZXJlZC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBPbiBldmVyeSBjbGljaywgZW1pdCB0aGUgbGFzdCB0d28gY2xpY2sgZXZlbnRzIGFzIGFuIGFycmF5XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgYnVmZmVyQ291bnQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgYnVmZmVyZWQgPSBjbGlja3MucGlwZShidWZmZXJDb3VudCgyLCAxKSk7XG4gKiBidWZmZXJlZC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBidWZmZXJ9XG4gKiBAc2VlIHtAbGluayBidWZmZXJUaW1lfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyV2hlbn1cbiAqIEBzZWUge0BsaW5rIHBhaXJ3aXNlfVxuICogQHNlZSB7QGxpbmsgd2luZG93Q291bnR9XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlclNpemUgVGhlIG1heGltdW0gc2l6ZSBvZiB0aGUgYnVmZmVyIGVtaXR0ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0QnVmZmVyRXZlcnldIEludGVydmFsIGF0IHdoaWNoIHRvIHN0YXJ0IGEgbmV3IGJ1ZmZlci5cbiAqIEZvciBleGFtcGxlIGlmIGBzdGFydEJ1ZmZlckV2ZXJ5YCBpcyBgMmAsIHRoZW4gYSBuZXcgYnVmZmVyIHdpbGwgYmUgc3RhcnRlZFxuICogb24gZXZlcnkgb3RoZXIgdmFsdWUgZnJvbSB0aGUgc291cmNlLiBBIG5ldyBidWZmZXIgaXMgc3RhcnRlZCBhdCB0aGVcbiAqIGJlZ2lubmluZyBvZiB0aGUgc291cmNlIGJ5IGRlZmF1bHQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgYXJyYXlzIG9mIGJ1ZmZlcmVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlckNvdW50PFQ+KGJ1ZmZlclNpemU6IG51bWJlciwgc3RhcnRCdWZmZXJFdmVyeTogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbXT4ge1xuICAvLyBJZiBubyBgc3RhcnRCdWZmZXJFdmVyeWAgdmFsdWUgd2FzIHN1cHBsaWVkLCB0aGVuIHdlJ3JlXG4gIC8vIG9wZW5pbmcgYW5kIGNsb3Npbmcgb24gdGhlIGJ1ZmZlclNpemUgaXRzZWxmLlxuICBzdGFydEJ1ZmZlckV2ZXJ5ID0gc3RhcnRCdWZmZXJFdmVyeSA/PyBidWZmZXJTaXplO1xuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgYnVmZmVyczogVFtdW10gPSBbXTtcbiAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgbGV0IHRvRW1pdDogVFtdW10gfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHN0YXJ0IGEgYnVmZmVyLlxuICAgICAgICAgIC8vIFRoaXMgd2lsbCBzdGFydCBvbmUgYXQgdGhlIGZpcnN0IHZhbHVlLCBhbmQgdGhlblxuICAgICAgICAgIC8vIGEgbmV3IG9uZSBldmVyeSBOIGFmdGVyIHRoYXQuXG4gICAgICAgICAgaWYgKGNvdW50KysgJSBzdGFydEJ1ZmZlckV2ZXJ5ISA9PT0gMCkge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKFtdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBQdXNoIG91ciB2YWx1ZSBpbnRvIG91ciBhY3RpdmUgYnVmZmVycy5cbiAgICAgICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UncmUgb3ZlciB0aGUgYnVmZmVyU2l6ZVxuICAgICAgICAgICAgLy8gaWYgd2UgYXJlLCByZWNvcmQgaXQgc28gd2UgY2FuIGVtaXQgaXQgbGF0ZXIuXG4gICAgICAgICAgICAvLyBJZiB3ZSBlbWl0dGVkIGl0IG5vdyBhbmQgcmVtb3ZlZCBpdCwgaXQgd291bGRcbiAgICAgICAgICAgIC8vIG11dGF0ZSB0aGUgYGJ1ZmZlcnNgIGFycmF5IHdoaWxlIHdlJ3JlIGxvb3BpbmdcbiAgICAgICAgICAgIC8vIG92ZXIgaXQuXG4gICAgICAgICAgICBpZiAoYnVmZmVyU2l6ZSA8PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHRvRW1pdCA9IHRvRW1pdCA/PyBbXTtcbiAgICAgICAgICAgICAgdG9FbWl0LnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodG9FbWl0KSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIGZvdW5kIHNvbWUgYnVmZmVycyB0aGF0IGFyZSBvdmVyIHRoZVxuICAgICAgICAgICAgLy8gYGJ1ZmZlclNpemVgLiBFbWl0IHRoZW0sIGFuZCByZW1vdmUgdGhlbSBmcm9tIG91clxuICAgICAgICAgICAgLy8gYnVmZmVycyBsaXN0LlxuICAgICAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgdG9FbWl0KSB7XG4gICAgICAgICAgICAgIGFyclJlbW92ZShidWZmZXJzLCBidWZmZXIpO1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBzb3VyY2UgY29tcGxldGVzLCBlbWl0IGFsbCBvZiBvdXJcbiAgICAgICAgICAvLyBhY3RpdmUgYnVmZmVycy5cbiAgICAgICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJzKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBQYXNzIGFsbCBlcnJvcnMgdGhyb3VnaCB0byBjb25zdW1lci5cbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gQ2xlYW4gdXAgb3VyIG1lbW9yeSB3aGVuIHdlIGZpbmFsaXplXG4gICAgICAgICAgYnVmZmVycyA9IG51bGwhO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xuaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVGltZTxUPihidWZmZXJUaW1lU3BhbjogbnVtYmVyLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW10+O1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlclRpbWU8VD4oXG4gIGJ1ZmZlclRpbWVTcGFuOiBudW1iZXIsXG4gIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWw6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPjtcbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUaW1lPFQ+KFxuICBidWZmZXJUaW1lU3BhbjogbnVtYmVyLFxuICBidWZmZXJDcmVhdGlvbkludGVydmFsOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBtYXhCdWZmZXJTaXplOiBudW1iZXIsXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogQnVmZmVycyB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIGZvciBhIHNwZWNpZmljIHRpbWUgcGVyaW9kLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Db2xsZWN0cyB2YWx1ZXMgZnJvbSB0aGUgcGFzdCBhcyBhbiBhcnJheSwgYW5kIGVtaXRzXG4gKiB0aG9zZSBhcnJheXMgcGVyaW9kaWNhbGx5IGluIHRpbWUuPC9zcGFuPlxuICpcbiAqICFbXShidWZmZXJUaW1lLnBuZylcbiAqXG4gKiBCdWZmZXJzIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgZm9yIGEgc3BlY2lmaWMgdGltZSBkdXJhdGlvbiBgYnVmZmVyVGltZVNwYW5gLlxuICogVW5sZXNzIHRoZSBvcHRpb25hbCBhcmd1bWVudCBgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbGAgaXMgZ2l2ZW4sIGl0IGVtaXRzIGFuZFxuICogcmVzZXRzIHRoZSBidWZmZXIgZXZlcnkgYGJ1ZmZlclRpbWVTcGFuYCBtaWxsaXNlY29uZHMuIElmXG4gKiBgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbGAgaXMgZ2l2ZW4sIHRoaXMgb3BlcmF0b3Igb3BlbnMgdGhlIGJ1ZmZlciBldmVyeVxuICogYGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWxgIG1pbGxpc2Vjb25kcyBhbmQgY2xvc2VzIChlbWl0cyBhbmQgcmVzZXRzKSB0aGVcbiAqIGJ1ZmZlciBldmVyeSBgYnVmZmVyVGltZVNwYW5gIG1pbGxpc2Vjb25kcy4gV2hlbiB0aGUgb3B0aW9uYWwgYXJndW1lbnRcbiAqIGBtYXhCdWZmZXJTaXplYCBpcyBzcGVjaWZpZWQsIHRoZSBidWZmZXIgd2lsbCBiZSBjbG9zZWQgZWl0aGVyIGFmdGVyXG4gKiBgYnVmZmVyVGltZVNwYW5gIG1pbGxpc2Vjb25kcyBvciB3aGVuIGl0IGNvbnRhaW5zIGBtYXhCdWZmZXJTaXplYCBlbGVtZW50cy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEV2ZXJ5IHNlY29uZCwgZW1pdCBhbiBhcnJheSBvZiB0aGUgcmVjZW50IGNsaWNrIGV2ZW50c1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGJ1ZmZlclRpbWUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgYnVmZmVyZWQgPSBjbGlja3MucGlwZShidWZmZXJUaW1lKDEwMDApKTtcbiAqIGJ1ZmZlcmVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEV2ZXJ5IDUgc2Vjb25kcywgZW1pdCB0aGUgY2xpY2sgZXZlbnRzIGZyb20gdGhlIG5leHQgMiBzZWNvbmRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgYnVmZmVyVGltZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBidWZmZXJlZCA9IGNsaWNrcy5waXBlKGJ1ZmZlclRpbWUoMjAwMCwgNTAwMCkpO1xuICogYnVmZmVyZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYnVmZmVyfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyQ291bnR9XG4gKiBAc2VlIHtAbGluayBidWZmZXJUb2dnbGV9XG4gKiBAc2VlIHtAbGluayBidWZmZXJXaGVufVxuICogQHNlZSB7QGxpbmsgd2luZG93VGltZX1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYnVmZmVyVGltZVNwYW4gVGhlIGFtb3VudCBvZiB0aW1lIHRvIGZpbGwgZWFjaCBidWZmZXIgYXJyYXkuXG4gKiBAcGFyYW0ge251bWJlcn0gW2J1ZmZlckNyZWF0aW9uSW50ZXJ2YWxdIFRoZSBpbnRlcnZhbCBhdCB3aGljaCB0byBzdGFydCBuZXdcbiAqIGJ1ZmZlcnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEJ1ZmZlclNpemVdIFRoZSBtYXhpbXVtIGJ1ZmZlciBzaXplLlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyPWFzeW5jXSBUaGUgc2NoZWR1bGVyIG9uIHdoaWNoIHRvIHNjaGVkdWxlIHRoZVxuICogaW50ZXJ2YWxzIHRoYXQgZGV0ZXJtaW5lIGJ1ZmZlciBib3VuZGFyaWVzLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIGFycmF5cyBvZiBidWZmZXJlZCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUaW1lPFQ+KGJ1ZmZlclRpbWVTcGFuOiBudW1iZXIsIC4uLm90aGVyQXJnczogYW55W10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbXT4ge1xuICBjb25zdCBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIob3RoZXJBcmdzKSA/PyBhc3luY1NjaGVkdWxlcjtcbiAgY29uc3QgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCA9IChvdGhlckFyZ3NbMF0gYXMgbnVtYmVyKSA/PyBudWxsO1xuICBjb25zdCBtYXhCdWZmZXJTaXplID0gKG90aGVyQXJnc1sxXSBhcyBudW1iZXIpIHx8IEluZmluaXR5O1xuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgYWN0aXZlIGJ1ZmZlcnMsIHRoZWlyIHJlbGF0ZWQgc3Vic2NyaXB0aW9ucywgYW5kIHJlbW92YWwgZnVuY3Rpb25zLlxuICAgIGxldCBidWZmZXJSZWNvcmRzOiB7IGJ1ZmZlcjogVFtdOyBzdWJzOiBTdWJzY3JpcHRpb24gfVtdIHwgbnVsbCA9IFtdO1xuICAgIC8vIElmIHRydWUsIGl0IG1lYW5zIHRoYXQgZXZlcnkgdGltZSB3ZSBlbWl0IGEgYnVmZmVyLCB3ZSB3YW50IHRvIHN0YXJ0IGEgbmV3IGJ1ZmZlclxuICAgIC8vIHRoaXMgaXMgb25seSByZWFsbHkgdXNlZCBmb3Igd2hlbiAqanVzdCogdGhlIGJ1ZmZlciB0aW1lIHNwYW4gaXMgcGFzc2VkLlxuICAgIGxldCByZXN0YXJ0T25FbWl0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoZSB3b3JrIG9mIGVtaXR0aW5nIHRoZSBidWZmZXIgZnJvbSB0aGUgcmVjb3JkLCBlbnN1cmluZyB0aGF0IHRoZVxuICAgICAqIHJlY29yZCBpcyByZW1vdmVkIGJlZm9yZSB0aGUgZW1pc3Npb24gc28gcmVlbnRyYW50IGNvZGUgKGZyb20gc29tZSBjdXN0b20gc2NoZWR1bGluZywgcGVyaGFwcylcbiAgICAgKiBkb2VzIG5vdCBhbHRlciB0aGUgYnVmZmVyLiBBbHNvIGNoZWNrcyB0byBzZWUgaWYgYSBuZXcgYnVmZmVyIG5lZWRzIHRvIGJlIHN0YXJ0ZWRcbiAgICAgKiBhZnRlciB0aGUgZW1pdC5cbiAgICAgKi9cbiAgICBjb25zdCBlbWl0ID0gKHJlY29yZDogeyBidWZmZXI6IFRbXTsgc3ViczogU3Vic2NyaXB0aW9uIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgYnVmZmVyLCBzdWJzIH0gPSByZWNvcmQ7XG4gICAgICBzdWJzLnVuc3Vic2NyaWJlKCk7XG4gICAgICBhcnJSZW1vdmUoYnVmZmVyUmVjb3JkcywgcmVjb3JkKTtcbiAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgcmVzdGFydE9uRW1pdCAmJiBzdGFydEJ1ZmZlcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgZXZlcnkgdGltZSB3ZSBzdGFydCBhIG5ldyBidWZmZXIuIFRoaXMgZG9lc1xuICAgICAqIHRoZSB3b3JrIG9mIHNjaGVkdWxpbmcgYSBqb2IgYXQgdGhlIHJlcXVlc3RlZCBidWZmZXJUaW1lU3BhblxuICAgICAqIHRoYXQgd2lsbCBlbWl0IHRoZSBidWZmZXIgKGlmIGl0J3Mgbm90IHVuc3Vic2NyaWJlZCBiZWZvcmUgdGhlbikuXG4gICAgICovXG4gICAgY29uc3Qgc3RhcnRCdWZmZXIgPSAoKSA9PiB7XG4gICAgICBpZiAoYnVmZmVyUmVjb3Jkcykge1xuICAgICAgICBjb25zdCBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWJzY3JpYmVyLmFkZChzdWJzKTtcbiAgICAgICAgY29uc3QgYnVmZmVyOiBUW10gPSBbXTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0ge1xuICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICBzdWJzLFxuICAgICAgICB9O1xuICAgICAgICBidWZmZXJSZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnMsIHNjaGVkdWxlciwgKCkgPT4gZW1pdChyZWNvcmQpLCBidWZmZXJUaW1lU3Bhbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChidWZmZXJDcmVhdGlvbkludGVydmFsICE9PSBudWxsICYmIGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPj0gMCkge1xuICAgICAgLy8gVGhlIHVzZXIgcGFzc2VkIGJvdGggYSBidWZmZXJUaW1lU3BhbiAocmVxdWlyZWQpLCBhbmQgYSBjcmVhdGlvbiBpbnRlcnZhbFxuICAgICAgLy8gVGhhdCBtZWFucyB3ZSBuZWVkIHRvIHN0YXJ0IG5ldyBidWZmZXJzIG9uIHRoZSBpbnRlcnZhbCwgYW5kIHRob3NlIGJ1ZmZlcnMgbmVlZFxuICAgICAgLy8gdG8gd2FpdCB0aGUgcmVxdWlyZWQgdGltZSBzcGFuIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIHN0YXJ0QnVmZmVyLCBidWZmZXJDcmVhdGlvbkludGVydmFsLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdGFydE9uRW1pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhcnRCdWZmZXIoKTtcblxuICAgIGNvbnN0IGJ1ZmZlclRpbWVTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAvLyBDb3B5IHRoZSByZWNvcmRzLCBzbyBpZiB3ZSBuZWVkIHRvIHJlbW92ZSBvbmUgd2VcbiAgICAgICAgLy8gZG9uJ3QgbXV0YXRlIHRoZSBhcnJheS4gSXQncyBoYXJkLCBidXQgbm90IGltcG9zc2libGUgdG9cbiAgICAgICAgLy8gc2V0IHVwIGEgYnVmZmVyIHRpbWUgdGhhdCBjb3VsZCBtdXRhdGUgdGhlIGFycmF5IGFuZFxuICAgICAgICAvLyBjYXVzZSBpc3N1ZXMgaGVyZS5cbiAgICAgICAgY29uc3QgcmVjb3Jkc0NvcHkgPSBidWZmZXJSZWNvcmRzIS5zbGljZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzQ29weSkge1xuICAgICAgICAgIC8vIExvb3Agb3ZlciBhbGwgYnVmZmVycyBhbmRcbiAgICAgICAgICBjb25zdCB7IGJ1ZmZlciB9ID0gcmVjb3JkO1xuICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAvLyBJZiB0aGUgYnVmZmVyIGlzIG92ZXIgdGhlIG1heCBzaXplLCB3ZSBuZWVkIHRvIGVtaXQgaXQuXG4gICAgICAgICAgbWF4QnVmZmVyU2l6ZSA8PSBidWZmZXIubGVuZ3RoICYmIGVtaXQocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gVGhlIHNvdXJjZSBjb21wbGV0ZWQsIGVtaXQgYWxsIG9mIHRoZSBhY3RpdmVcbiAgICAgICAgLy8gYnVmZmVycyB3ZSBoYXZlIGJlZm9yZSB3ZSBjb21wbGV0ZS5cbiAgICAgICAgd2hpbGUgKGJ1ZmZlclJlY29yZHM/Lmxlbmd0aCkge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXJSZWNvcmRzLnNoaWZ0KCkhLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyVGltZVN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgfSxcbiAgICAgIC8vIFBhc3MgYWxsIGVycm9ycyB0aHJvdWdoIHRvIGNvbnN1bWVyLlxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgICgpID0+IChidWZmZXJSZWNvcmRzID0gbnVsbClcbiAgICApO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShidWZmZXJUaW1lU3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuLi91dGlsL2FyclJlbW92ZSc7XG5cbi8qKlxuICogQnVmZmVycyB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIHN0YXJ0aW5nIGZyb20gYW4gZW1pc3Npb24gZnJvbVxuICogYG9wZW5pbmdzYCBhbmQgZW5kaW5nIHdoZW4gdGhlIG91dHB1dCBvZiBgY2xvc2luZ1NlbGVjdG9yYCBlbWl0cy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29sbGVjdHMgdmFsdWVzIGZyb20gdGhlIHBhc3QgYXMgYW4gYXJyYXkuIFN0YXJ0c1xuICogY29sbGVjdGluZyBvbmx5IHdoZW4gYG9wZW5pbmdgIGVtaXRzLCBhbmQgY2FsbHMgdGhlIGBjbG9zaW5nU2VsZWN0b3JgXG4gKiBmdW5jdGlvbiB0byBnZXQgYW4gT2JzZXJ2YWJsZSB0aGF0IHRlbGxzIHdoZW4gdG8gY2xvc2UgdGhlIGJ1ZmZlci48L3NwYW4+XG4gKlxuICogIVtdKGJ1ZmZlclRvZ2dsZS5wbmcpXG4gKlxuICogQnVmZmVycyB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIGJ5IG9wZW5pbmcgdGhlIGJ1ZmZlciB2aWEgc2lnbmFscyBmcm9tIGFuXG4gKiBPYnNlcnZhYmxlIHByb3ZpZGVkIHRvIGBvcGVuaW5nc2AsIGFuZCBjbG9zaW5nIGFuZCBzZW5kaW5nIHRoZSBidWZmZXJzIHdoZW5cbiAqIGEgU3Vic2NyaWJhYmxlIG9yIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGBjbG9zaW5nU2VsZWN0b3JgIGZ1bmN0aW9uIGVtaXRzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFdmVyeSBvdGhlciBzZWNvbmQsIGVtaXQgdGhlIGNsaWNrIGV2ZW50cyBmcm9tIHRoZSBuZXh0IDUwMG1zXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgaW50ZXJ2YWwsIGJ1ZmZlclRvZ2dsZSwgRU1QVFkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3Qgb3BlbmluZ3MgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGJ1ZmZlcmVkID0gY2xpY2tzLnBpcGUoYnVmZmVyVG9nZ2xlKG9wZW5pbmdzLCBpID0+XG4gKiAgIGkgJSAyID8gaW50ZXJ2YWwoNTAwKSA6IEVNUFRZXG4gKiApKTtcbiAqIGJ1ZmZlcmVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlckNvdW50fVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVGltZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcldoZW59XG4gKiBAc2VlIHtAbGluayB3aW5kb3dUb2dnbGV9XG4gKlxuICogQHBhcmFtIG9wZW5pbmdzIEEgU3Vic2NyaWJhYmxlIG9yIFByb21pc2Ugb2Ygbm90aWZpY2F0aW9ucyB0byBzdGFydCBuZXdcbiAqIGJ1ZmZlcnMuXG4gKiBAcGFyYW0gY2xvc2luZ1NlbGVjdG9yIEEgZnVuY3Rpb24gdGhhdCB0YWtlc1xuICogdGhlIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIGBvcGVuaW5nc2Agb2JzZXJ2YWJsZSBhbmQgcmV0dXJucyBhIFN1YnNjcmliYWJsZSBvciBQcm9taXNlLFxuICogd2hpY2gsIHdoZW4gaXQgZW1pdHMsIHNpZ25hbHMgdGhhdCB0aGUgYXNzb2NpYXRlZCBidWZmZXIgc2hvdWxkIGJlIGVtaXR0ZWRcbiAqIGFuZCBjbGVhcmVkLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIGFycmF5cyBvZiBidWZmZXJlZCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUb2dnbGU8VCwgTz4oXG4gIG9wZW5pbmdzOiBPYnNlcnZhYmxlSW5wdXQ8Tz4sXG4gIGNsb3NpbmdTZWxlY3RvcjogKHZhbHVlOiBPKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW10+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGNvbnN0IGJ1ZmZlcnM6IFRbXVtdID0gW107XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIG9wZW5pbmdzIG5vdGlmaWVyIGZpcnN0XG4gICAgaW5uZXJGcm9tKG9wZW5pbmdzKS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIChvcGVuVmFsdWUpID0+IHtcbiAgICAgICAgICBjb25zdCBidWZmZXI6IFRbXSA9IFtdO1xuICAgICAgICAgIGJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICAgIC8vIFdlIHVzZSB0aGlzIGNvbXBvc2l0ZSBzdWJzY3JpcHRpb24sIHNvIHRoYXRcbiAgICAgICAgICAvLyB3aGVuIHRoZSBjbG9zaW5nIG5vdGlmaWVyIGVtaXRzLCB3ZSBjYW4gdGVhciBpdCBkb3duLlxuICAgICAgICAgIGNvbnN0IGNsb3NpbmdTdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgICAgICAgICBjb25zdCBlbWl0QnVmZmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgYXJyUmVtb3ZlKGJ1ZmZlcnMsIGJ1ZmZlcik7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gVGhlIGxpbmUgYmVsb3cgd2lsbCBhZGQgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUgcGFyZW50IHN1YnNjcmliZXIgKmFuZCogdGhlIGNsb3Npbmcgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3Iob3BlblZhbHVlKSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0QnVmZmVyLCBub29wKSkpO1xuICAgICAgICB9LFxuICAgICAgICBub29wXG4gICAgICApXG4gICAgKTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIC8vIFZhbHVlIGZyb20gb3VyIHNvdXJjZS4gQWRkIGl0IHRvIGFsbCBwZW5kaW5nIGJ1ZmZlcnMuXG4gICAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIFNvdXJjZSBjb21wbGV0ZS4gRW1pdCBhbGwgcGVuZGluZyBidWZmZXJzLlxuICAgICAgICAgIHdoaWxlIChidWZmZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChidWZmZXJzLnNoaWZ0KCkhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKipcbiAqIEJ1ZmZlcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcywgdXNpbmcgYSBmYWN0b3J5IGZ1bmN0aW9uIG9mIGNsb3NpbmdcbiAqIE9ic2VydmFibGVzIHRvIGRldGVybWluZSB3aGVuIHRvIGNsb3NlLCBlbWl0LCBhbmQgcmVzZXQgdGhlIGJ1ZmZlci5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29sbGVjdHMgdmFsdWVzIGZyb20gdGhlIHBhc3QgYXMgYW4gYXJyYXkuIFdoZW4gaXRcbiAqIHN0YXJ0cyBjb2xsZWN0aW5nIHZhbHVlcywgaXQgY2FsbHMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0XG4gKiB0ZWxscyB3aGVuIHRvIGNsb3NlIHRoZSBidWZmZXIgYW5kIHJlc3RhcnQgY29sbGVjdGluZy48L3NwYW4+XG4gKlxuICogIVtdKGJ1ZmZlcldoZW4uc3ZnKVxuICpcbiAqIE9wZW5zIGEgYnVmZmVyIGltbWVkaWF0ZWx5LCB0aGVuIGNsb3NlcyB0aGUgYnVmZmVyIHdoZW4gdGhlIG9ic2VydmFibGVcbiAqIHJldHVybmVkIGJ5IGNhbGxpbmcgYGNsb3NpbmdTZWxlY3RvcmAgZnVuY3Rpb24gZW1pdHMgYSB2YWx1ZS4gV2hlbiBpdCBjbG9zZXNcbiAqIHRoZSBidWZmZXIsIGl0IGltbWVkaWF0ZWx5IG9wZW5zIGEgbmV3IGJ1ZmZlciBhbmQgcmVwZWF0cyB0aGUgcHJvY2Vzcy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCBhbiBhcnJheSBvZiB0aGUgbGFzdCBjbGlja3MgZXZlcnkgWzEtNV0gcmFuZG9tIHNlY29uZHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBidWZmZXJXaGVuLCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBidWZmZXJlZCA9IGNsaWNrcy5waXBlKFxuICogICBidWZmZXJXaGVuKCgpID0+IGludGVydmFsKDEwMDAgKyBNYXRoLnJhbmRvbSgpICogNDAwMCkpXG4gKiApO1xuICogYnVmZmVyZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYnVmZmVyfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyQ291bnR9XG4gKiBAc2VlIHtAbGluayBidWZmZXJUaW1lfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgd2luZG93V2hlbn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IE9ic2VydmFibGV9IGNsb3NpbmdTZWxlY3RvciBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm9cbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgc2lnbmFscyBidWZmZXIgY2xvc3VyZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBhcnJheXMgb2YgYnVmZmVyZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyV2hlbjxUPihjbG9zaW5nU2VsZWN0b3I6ICgpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW10+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBidWZmZXIgd2Uga2VlcCBhbmQgZW1pdC5cbiAgICBsZXQgYnVmZmVyOiBUW10gfCBudWxsID0gbnVsbDtcbiAgICAvLyBBIHJlZmVyZW5jZSB0byB0aGUgc3Vic2NyaWJlciB1c2VkIHRvIHN1YnNjcmliZSB0b1xuICAgIC8vIHRoZSBjbG9zaW5nIG5vdGlmaWVyLiBXZSBuZWVkIHRvIGhvbGQgdGhpcyBzbyB3ZSBjYW5cbiAgICAvLyBlbmQgdGhlIHN1YnNjcmlwdGlvbiBhZnRlciB0aGUgZmlyc3Qgbm90aWZpY2F0aW9uLlxuICAgIGxldCBjbG9zaW5nU3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPiB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gRW5kcyB0aGUgcHJldmlvdXMgY2xvc2luZyBub3RpZmllciBzdWJzY3JpcHRpb24sIHNvIGl0XG4gICAgLy8gdGVybWluYXRlcyBhZnRlciB0aGUgZmlyc3QgZW1pc3Npb24sIHRoZW4gZW1pdHNcbiAgICAvLyB0aGUgY3VycmVudCBidWZmZXIgIGlmIHRoZXJlIGlzIG9uZSwgc3RhcnRzIGEgbmV3IGJ1ZmZlciwgYW5kIHN0YXJ0cyBhXG4gICAgLy8gbmV3IGNsb3Npbmcgbm90aWZpZXIuXG4gICAgY29uc3Qgb3BlbkJ1ZmZlciA9ICgpID0+IHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0byBmaW5hbGl6ZSB0aGUgY2xvc2luZyBzdWJzY3JpcHRpb24sIHdlIG9ubHkgY2FyZWRcbiAgICAgIC8vIGFib3V0IG9uZSBub3RpZmljYXRpb24uXG4gICAgICBjbG9zaW5nU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIC8vIGVtaXQgdGhlIGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZSwgYW5kIHN0YXJ0IGEgbmV3IGJ1ZmZlci5cbiAgICAgIGNvbnN0IGIgPSBidWZmZXI7XG4gICAgICBidWZmZXIgPSBbXTtcbiAgICAgIGIgJiYgc3Vic2NyaWJlci5uZXh0KGIpO1xuXG4gICAgICAvLyBHZXQgYSBuZXcgY2xvc2luZyBub3RpZmllciBhbmQgc3Vic2NyaWJlIHRvIGl0LlxuICAgICAgaW5uZXJGcm9tKGNsb3NpbmdTZWxlY3RvcigpKS5zdWJzY3JpYmUoKGNsb3NpbmdTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG9wZW5CdWZmZXIsIG5vb3ApKSk7XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IHRoZSBmaXJzdCBidWZmZXIuXG4gICAgb3BlbkJ1ZmZlcigpO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIG91ciBzb3VyY2UuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgLy8gQWRkIGV2ZXJ5IG5ldyB2YWx1ZSB0byB0aGUgY3VycmVudCBidWZmZXIuXG4gICAgICAgICh2YWx1ZSkgPT4gYnVmZmVyPy5wdXNoKHZhbHVlKSxcbiAgICAgICAgLy8gV2hlbiB3ZSBjb21wbGV0ZSwgZW1pdCB0aGUgYnVmZmVyIGlmIHdlIGhhdmUgb25lLFxuICAgICAgICAvLyB0aGVuIGNvbXBsZXRlIHRoZSByZXN1bHQuXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBidWZmZXIgJiYgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBQYXNzIGFsbCBlcnJvcnMgdGhyb3VnaCB0byBjb25zdW1lci5cbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAvLyBSZWxlYXNlIG1lbW9yeSBvbiBmaW5hbGl6YXRpb25cbiAgICAgICAgKCkgPT4gKGJ1ZmZlciA9IGNsb3NpbmdTdWJzY3JpYmVyID0gbnVsbCEpXG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5cbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXRjaEVycm9yPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHNlbGVjdG9yOiAoZXJyOiBhbnksIGNhdWdodDogT2JzZXJ2YWJsZTxUPikgPT4gT1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogQ2F0Y2hlcyBlcnJvcnMgb24gdGhlIG9ic2VydmFibGUgdG8gYmUgaGFuZGxlZCBieSByZXR1cm5pbmcgYSBuZXcgb2JzZXJ2YWJsZSBvciB0aHJvd2luZyBhbiBlcnJvci5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+XG4gKiBJdCBvbmx5IGxpc3RlbnMgdG8gdGhlIGVycm9yIGNoYW5uZWwgYW5kIGlnbm9yZXMgbm90aWZpY2F0aW9ucy5cbiAqIEhhbmRsZXMgZXJyb3JzIGZyb20gdGhlIHNvdXJjZSBvYnNlcnZhYmxlLCBhbmQgbWFwcyB0aGVtIHRvIGEgbmV3IG9ic2VydmFibGUuXG4gKiBUaGUgZXJyb3IgbWF5IGFsc28gYmUgcmV0aHJvd24sIG9yIGEgbmV3IGVycm9yIGNhbiBiZSB0aHJvd24gdG8gZW1pdCBhbiBlcnJvciBmcm9tIHRoZSByZXN1bHQuXG4gKiA8L3NwYW4+XG4gKlxuICogIVtdKGNhdGNoLnBuZylcbiAqXG4gKiBUaGlzIG9wZXJhdG9yIGhhbmRsZXMgZXJyb3JzLCBidXQgZm9yd2FyZHMgYWxvbmcgYWxsIG90aGVyIGV2ZW50cyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUuXG4gKiBJZiB0aGUgc291cmNlIG9ic2VydmFibGUgdGVybWluYXRlcyB3aXRoIGFuIGVycm9yLCBpdCB3aWxsIG1hcCB0aGF0IGVycm9yIHRvIGEgbmV3IG9ic2VydmFibGUsXG4gKiBzdWJzY3JpYmUgdG8gaXQsIGFuZCBmb3J3YXJkIGFsbCBvZiBpdHMgZXZlbnRzIHRvIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIENvbnRpbnVlIHdpdGggYSBkaWZmZXJlbnQgT2JzZXJ2YWJsZSB3aGVuIHRoZXJlJ3MgYW4gZXJyb3JcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG1hcCwgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKDEsIDIsIDMsIDQsIDUpXG4gKiAgIC5waXBlKFxuICogICAgIG1hcChuID0+IHtcbiAqICAgICAgIGlmIChuID09PSA0KSB7XG4gKiAgICAgICAgIHRocm93ICdmb3VyISc7XG4gKiAgICAgICB9XG4gKiAgICAgICByZXR1cm4gbjtcbiAqICAgICB9KSxcbiAqICAgICBjYXRjaEVycm9yKGVyciA9PiBvZignSScsICdJSScsICdJSUknLCAnSVYnLCAnVicpKVxuICogICApXG4gKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiAgIC8vIDEsIDIsIDMsIEksIElJLCBJSUksIElWLCBWXG4gKiBgYGBcbiAqXG4gKiBSZXRyeSB0aGUgY2F1Z2h0IHNvdXJjZSBPYnNlcnZhYmxlIGFnYWluIGluIGNhc2Ugb2YgZXJyb3IsIHNpbWlsYXIgdG8gYHJldHJ5KClgIG9wZXJhdG9yXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtYXAsIGNhdGNoRXJyb3IsIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAyLCAzLCA0LCA1KVxuICogICAucGlwZShcbiAqICAgICBtYXAobiA9PiB7XG4gKiAgICAgICBpZiAobiA9PT0gNCkge1xuICogICAgICAgICB0aHJvdyAnZm91ciEnO1xuICogICAgICAgfVxuICogICAgICAgcmV0dXJuIG47XG4gKiAgICAgfSksXG4gKiAgICAgY2F0Y2hFcnJvcigoZXJyLCBjYXVnaHQpID0+IGNhdWdodCksXG4gKiAgICAgdGFrZSgzMClcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogICAvLyAxLCAyLCAzLCAxLCAyLCAzLCAuLi5cbiAqIGBgYFxuICpcbiAqIFRocm93IGEgbmV3IGVycm9yIHdoZW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRocm93cyBhbiBlcnJvclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoMSwgMiwgMywgNCwgNSlcbiAqICAgLnBpcGUoXG4gKiAgICAgbWFwKG4gPT4ge1xuICogICAgICAgaWYgKG4gPT09IDQpIHtcbiAqICAgICAgICAgdGhyb3cgJ2ZvdXIhJztcbiAqICAgICAgIH1cbiAqICAgICAgIHJldHVybiBuO1xuICogICAgIH0pLFxuICogICAgIGNhdGNoRXJyb3IoZXJyID0+IHtcbiAqICAgICAgIHRocm93ICdlcnJvciBpbiBzb3VyY2UuIERldGFpbHM6ICcgKyBlcnI7XG4gKiAgICAgfSlcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB4ID0+IGNvbnNvbGUubG9nKHgpLFxuICogICAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coZXJyKVxuICogICB9KTtcbiAqICAgLy8gMSwgMiwgMywgZXJyb3IgaW4gc291cmNlLiBEZXRhaWxzOiBmb3VyIVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgb25FcnJvclJlc3VtZU5leHR9XG4gKiBAc2VlIHtAbGluayByZXBlYXR9XG4gKiBAc2VlIHtAbGluayByZXBlYXRXaGVufVxuICogQHNlZSB7QGxpbmsgcmV0cnkgfVxuICogQHNlZSB7QGxpbmsgcmV0cnlXaGVufVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHNlbGVjdG9yIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcyBhcmd1bWVudHMgYGVycmAsIHdoaWNoIGlzIHRoZSBlcnJvciwgYW5kIGBjYXVnaHRgLCB3aGljaFxuICogaXMgdGhlIHNvdXJjZSBvYnNlcnZhYmxlLCBpbiBjYXNlIHlvdSdkIGxpa2UgdG8gXCJyZXRyeVwiIHRoYXQgb2JzZXJ2YWJsZSBieSByZXR1cm5pbmcgaXQgYWdhaW4uIFdoYXRldmVyIG9ic2VydmFibGVcbiAqIGlzIHJldHVybmVkIGJ5IHRoZSBgc2VsZWN0b3JgIHdpbGwgYmUgdXNlZCB0byBjb250aW51ZSB0aGUgb2JzZXJ2YWJsZSBjaGFpbi5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG9yaWdpbmF0ZXMgZnJvbSBlaXRoZXJcbiAqIHRoZSBzb3VyY2Ugb3IgdGhlIE9ic2VydmFibGUgcmV0dXJuZWQgYnkgdGhlIGBzZWxlY3RvcmAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXRjaEVycm9yPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHNlbGVjdG9yOiAoZXJyOiBhbnksIGNhdWdodDogT2JzZXJ2YWJsZTxUPikgPT4gT1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaW5uZXJTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuICAgIGxldCBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICBsZXQgaGFuZGxlZFJlc3VsdDogT2JzZXJ2YWJsZTxPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuXG4gICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZWRSZXN1bHQgPSBpbm5lckZyb20oc2VsZWN0b3IoZXJyLCBjYXRjaEVycm9yKHNlbGVjdG9yKShzb3VyY2UpKSk7XG4gICAgICAgIGlmIChpbm5lclN1Yikge1xuICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgIGhhbmRsZWRSZXN1bHQuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlIGRvbid0IGhhdmUgYW4gaW5uZXJTdWIgeWV0LCB0aGF0IG1lYW5zIHRoZSBlcnJvciB3YXMgc3luY2hyb25vdXNcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZSBzdWJzY3JpYmUgY2FsbCBoYXNuJ3QgcmV0dXJuZWQgeWV0LlxuICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGlmIChzeW5jVW5zdWIpIHtcbiAgICAgIC8vIFdlIGhhdmUgYSBzeW5jaHJvbm91cyBlcnJvciwgd2UgbmVlZCB0byBtYWtlIHN1cmUgdG9cbiAgICAgIC8vIGZpbmFsaXplIHJpZ2h0IGF3YXkuIFRoaXMgZW5zdXJlcyB0aGF0IGNhbGxiYWNrcyBpbiB0aGUgYGZpbmFsaXplYCBvcGVyYXRvciBhcmUgY2FsbGVkXG4gICAgICAvLyBhdCB0aGUgcmlnaHQgdGltZSwgYW5kIHRoYXQgZmluYWxpemF0aW9uIG9jY3VycyBhdCB0aGUgZXhwZWN0ZWRcbiAgICAgIC8vIHRpbWUgYmV0d2VlbiB0aGUgc291cmNlIGVycm9yIGFuZCB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZVxuICAgICAgLy8gbmV4dCBvYnNlcnZhYmxlLlxuICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgIGhhbmRsZWRSZXN1bHQhLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdEFsbCB9IGZyb20gJy4vY29tYmluZUxhdGVzdEFsbCc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZCB0byB7QGxpbmsgY29tYmluZUxhdGVzdEFsbH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbWJpbmVBbGwgPSBjb21iaW5lTGF0ZXN0QWxsO1xuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdEluaXQgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgYXJnc09yQXJnQXJyYXkgfSBmcm9tICcuLi91dGlsL2FyZ3NPckFyZ0FycmF5JztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4uL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5cbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBjb21iaW5lTGF0ZXN0V2l0aH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICBzb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dLFxuICBwcm9qZWN0OiAoLi4udmFsdWVzOiBbVCwgLi4uQV0pID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgY29tYmluZUxhdGVzdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihzb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT3BlcmF0b3JGdW5jdGlvbjxULCBbVCwgLi4uQV0+O1xuXG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgY29tYmluZUxhdGVzdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgLi4uc291cmNlc0FuZFByb2plY3Q6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgKC4uLnZhbHVlczogW1QsIC4uLkFdKSA9PiBSXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBjb21iaW5lTGF0ZXN0V2l0aH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KC4uLnNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFtULCAuLi5BXT47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgY29tYmluZUxhdGVzdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PFQsIFI+KC4uLmFyZ3M6IChPYnNlcnZhYmxlSW5wdXQ8YW55PiB8ICgoLi4udmFsdWVzOiBhbnlbXSkgPT4gUikpW10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIHVua25vd24+IHtcbiAgY29uc3QgcmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yXG4gICAgPyBwaXBlKGNvbWJpbmVMYXRlc3QoLi4uKGFyZ3MgYXMgQXJyYXk8T2JzZXJ2YWJsZUlucHV0PGFueT4+KSksIG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKVxuICAgIDogb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIGNvbWJpbmVMYXRlc3RJbml0KFtzb3VyY2UsIC4uLmFyZ3NPckFyZ0FycmF5KGFyZ3MpXSkoc3Vic2NyaWJlcik7XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgam9pbkFsbEludGVybmFscyB9IGZyb20gJy4vam9pbkFsbEludGVybmFscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0QWxsPFQ+KCk6IE9wZXJhdG9yRnVuY3Rpb248T2JzZXJ2YWJsZUlucHV0PFQ+LCBUW10+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RBbGw8VD4oKTogT3BlcmF0b3JGdW5jdGlvbjxhbnksIFRbXT47XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdEFsbDxULCBSPihwcm9qZWN0OiAoLi4udmFsdWVzOiBUW10pID0+IFIpOiBPcGVyYXRvckZ1bmN0aW9uPE9ic2VydmFibGVJbnB1dDxUPiwgUj47XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdEFsbDxSPihwcm9qZWN0OiAoLi4udmFsdWVzOiBBcnJheTxhbnk+KSA9PiBSKTogT3BlcmF0b3JGdW5jdGlvbjxhbnksIFI+O1xuXG4vKipcbiAqIEZsYXR0ZW5zIGFuIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMgYnkgYXBwbHlpbmcge0BsaW5rIGNvbWJpbmVMYXRlc3R9IHdoZW4gdGhlIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMgY29tcGxldGVzLlxuICpcbiAqIGBjb21iaW5lTGF0ZXN0QWxsYCB0YWtlcyBhbiBPYnNlcnZhYmxlIG9mIE9ic2VydmFibGVzLCBhbmQgY29sbGVjdHMgYWxsIE9ic2VydmFibGVzIGZyb20gaXQuIE9uY2UgdGhlIG91dGVyIE9ic2VydmFibGUgY29tcGxldGVzLFxuICogaXQgc3Vic2NyaWJlcyB0byBhbGwgY29sbGVjdGVkIE9ic2VydmFibGVzIGFuZCBjb21iaW5lcyB0aGVpciB2YWx1ZXMgdXNpbmcgdGhlIHtAbGluayBjb21iaW5lTGF0ZXN0fSBzdHJhdGVneSwgc3VjaCB0aGF0OlxuICpcbiAqICogRXZlcnkgdGltZSBhbiBpbm5lciBPYnNlcnZhYmxlIGVtaXRzLCB0aGUgb3V0cHV0IE9ic2VydmFibGUgZW1pdHNcbiAqICogV2hlbiB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZSBlbWl0cywgaXQgZW1pdHMgYWxsIG9mIHRoZSBsYXRlc3QgdmFsdWVzIGJ5OlxuICogICAgKiBJZiBhIGBwcm9qZWN0YCBmdW5jdGlvbiBpcyBwcm92aWRlZCwgaXQgaXMgY2FsbGVkIHdpdGggZWFjaCByZWNlbnQgdmFsdWUgZnJvbSBlYWNoIGlubmVyIE9ic2VydmFibGUgaW4gd2hhdGV2ZXIgb3JkZXIgdGhleVxuICogICAgICBhcnJpdmVkLCBhbmQgdGhlIHJlc3VsdCBvZiB0aGUgYHByb2plY3RgIGZ1bmN0aW9uIGlzIHdoYXQgaXMgZW1pdHRlZCBieSB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKiAgICAqIElmIHRoZXJlIGlzIG5vIGBwcm9qZWN0YCBmdW5jdGlvbiwgYW4gYXJyYXkgb2YgYWxsIHRoZSBtb3N0IHJlY2VudCB2YWx1ZXMgaXMgZW1pdHRlZCBieSB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIE1hcCB0d28gY2xpY2sgZXZlbnRzIHRvIGEgZmluaXRlIGludGVydmFsIE9ic2VydmFibGUsIHRoZW4gYXBwbHkgYGNvbWJpbmVMYXRlc3RBbGxgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwLCBpbnRlcnZhbCwgdGFrZSwgY29tYmluZUxhdGVzdEFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBoaWdoZXJPcmRlciA9IGNsaWNrcy5waXBlKFxuICogICBtYXAoKCkgPT4gaW50ZXJ2YWwoTWF0aC5yYW5kb20oKSAqIDIwMDApLnBpcGUodGFrZSgzKSkpLFxuICogICB0YWtlKDIpXG4gKiApO1xuICogY29uc3QgcmVzdWx0ID0gaGlnaGVyT3JkZXIucGlwZShjb21iaW5lTGF0ZXN0QWxsKCkpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0fVxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdFdpdGh9XG4gKiBAc2VlIHtAbGluayBtZXJnZUFsbH1cbiAqXG4gKiBAcGFyYW0gcHJvamVjdCBvcHRpb25hbCBmdW5jdGlvbiB0byBtYXAgdGhlIG1vc3QgcmVjZW50IHZhbHVlcyBmcm9tIGVhY2ggaW5uZXIgT2JzZXJ2YWJsZSBpbnRvIGEgbmV3IHJlc3VsdC5cbiAqIFRha2VzIGVhY2ggb2YgdGhlIG1vc3QgcmVjZW50IHZhbHVlcyBmcm9tIGVhY2ggY29sbGVjdGVkIGlubmVyIE9ic2VydmFibGUgYXMgYXJndW1lbnRzLCBpbiBvcmRlci5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGZsYXR0ZW5zIE9ic2VydmFibGVzXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RBbGw8Uj4ocHJvamVjdD86ICguLi52YWx1ZXM6IEFycmF5PGFueT4pID0+IFIpIHtcbiAgcmV0dXJuIGpvaW5BbGxJbnRlcm5hbHMoY29tYmluZUxhdGVzdCwgcHJvamVjdCk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgT3BlcmF0b3JGdW5jdGlvbiwgQ29ucyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICcuL2NvbWJpbmVMYXRlc3QnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBvYnNlcnZhYmxlIHRoYXQgY29tYmluZXMgdGhlIGxhdGVzdCB2YWx1ZXMgZnJvbSBhbGwgcGFzc2VkIG9ic2VydmFibGVzIGFuZCB0aGUgc291cmNlXG4gKiBpbnRvIGFycmF5cyBhbmQgZW1pdHMgdGhlbS5cbiAqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUsIHRoYXQgd2hlbiBzdWJzY3JpYmVkIHRvLCB3aWxsIHN1YnNjcmliZSB0byB0aGUgc291cmNlIG9ic2VydmFibGUgYW5kIGFsbFxuICogc291cmNlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMuIE9uY2UgYWxsIHNvdXJjZXMgZW1pdCBhdCBsZWFzdCBvbmUgdmFsdWUsIGFsbCBvZiB0aGUgbGF0ZXN0IHZhbHVlc1xuICogd2lsbCBiZSBlbWl0dGVkIGFzIGFuIGFycmF5LiBBZnRlciB0aGF0LCBldmVyeSB0aW1lIGFueSBzb3VyY2UgZW1pdHMgYSB2YWx1ZSwgYWxsIG9mIHRoZSBsYXRlc3QgdmFsdWVzXG4gKiB3aWxsIGJlIGVtaXR0ZWQgYXMgYW4gYXJyYXkuXG4gKlxuICogVGhpcyBpcyBhIHVzZWZ1bCBvcGVyYXRvciBmb3IgZWFnZXJseSBjYWxjdWxhdGluZyB2YWx1ZXMgYmFzZWQgb2ZmIG9mIGNoYW5nZWQgaW5wdXRzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTaW1wbGUgY29uY2F0ZW5hdGlvbiBvZiB2YWx1ZXMgZnJvbSB0d28gaW5wdXRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgY29tYmluZUxhdGVzdFdpdGgsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIC8vIFNldHVwOiBBZGQgdHdvIGlucHV0cyB0byB0aGUgcGFnZVxuICogY29uc3QgaW5wdXQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQxKTtcbiAqIGNvbnN0IGlucHV0MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlucHV0Mik7XG4gKlxuICogLy8gR2V0IHN0cmVhbXMgb2YgY2hhbmdlc1xuICogY29uc3QgaW5wdXQxQ2hhbmdlcyQgPSBmcm9tRXZlbnQoaW5wdXQxLCAnY2hhbmdlJyk7XG4gKiBjb25zdCBpbnB1dDJDaGFuZ2VzJCA9IGZyb21FdmVudChpbnB1dDIsICdjaGFuZ2UnKTtcbiAqXG4gKiAvLyBDb21iaW5lIHRoZSBjaGFuZ2VzIGJ5IGFkZGluZyB0aGVtIHRvZ2V0aGVyXG4gKiBpbnB1dDFDaGFuZ2VzJC5waXBlKFxuICogICBjb21iaW5lTGF0ZXN0V2l0aChpbnB1dDJDaGFuZ2VzJCksXG4gKiAgIG1hcCgoW2UxLCBlMl0pID0+ICg8SFRNTElucHV0RWxlbWVudD5lMS50YXJnZXQpLnZhbHVlICsgJyAtICcgKyAoPEhUTUxJbnB1dEVsZW1lbnQ+ZTIudGFyZ2V0KS52YWx1ZSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gb3RoZXJTb3VyY2VzIHRoZSBvdGhlciBzb3VyY2VzIHRvIHN1YnNjcmliZSB0by5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBsYXRlc3RcbiAqIGVtaXNzaW9ucyBmcm9tIGJvdGggc291cmNlIGFuZCBwcm92aWRlZCBPYnNlcnZhYmxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RXaXRoPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5vdGhlclNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgQ29uczxULCBBPj4ge1xuICByZXR1cm4gY29tYmluZUxhdGVzdCguLi5vdGhlclNvdXJjZXMpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNvbmNhdEFsbCB9IGZyb20gJy4vY29uY2F0QWxsJztcbmltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcblxuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGNvbmNhdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0PFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLnNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+O1xuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGNvbmNhdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0PFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5zb3VyY2VzQW5kU2NoZWR1bGVyOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sIFNjaGVkdWxlckxpa2VdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGNvbmNhdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQ8VCwgUj4oLi4uYXJnczogYW55W10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKGFyZ3MpO1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uY2F0QWxsKCkoZnJvbShbc291cmNlLCAuLi5hcmdzXSwgc2NoZWR1bGVyKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi9tZXJnZUFsbCc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlIGludG8gYSBmaXJzdC1vcmRlciBPYnNlcnZhYmxlIGJ5XG4gKiBjb25jYXRlbmF0aW5nIHRoZSBpbm5lciBPYnNlcnZhYmxlcyBpbiBvcmRlci5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RmxhdHRlbnMgYW4gT2JzZXJ2YWJsZS1vZi1PYnNlcnZhYmxlcyBieSBwdXR0aW5nIG9uZVxuICogaW5uZXIgT2JzZXJ2YWJsZSBhZnRlciB0aGUgb3RoZXIuPC9zcGFuPlxuICpcbiAqICFbXShjb25jYXRBbGwuc3ZnKVxuICpcbiAqIEpvaW5zIGV2ZXJ5IE9ic2VydmFibGUgZW1pdHRlZCBieSB0aGUgc291cmNlIChhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlKSwgaW5cbiAqIGEgc2VyaWFsIGZhc2hpb24uIEl0IHN1YnNjcmliZXMgdG8gZWFjaCBpbm5lciBPYnNlcnZhYmxlIG9ubHkgYWZ0ZXIgdGhlXG4gKiBwcmV2aW91cyBpbm5lciBPYnNlcnZhYmxlIGhhcyBjb21wbGV0ZWQsIGFuZCBtZXJnZXMgYWxsIG9mIHRoZWlyIHZhbHVlcyBpbnRvXG4gKiB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZS5cbiAqXG4gKiBfX1dhcm5pbmc6X18gSWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIE9ic2VydmFibGVzIHF1aWNrbHkgYW5kXG4gKiBlbmRsZXNzbHksIGFuZCB0aGUgaW5uZXIgT2JzZXJ2YWJsZXMgaXQgZW1pdHMgZ2VuZXJhbGx5IGNvbXBsZXRlIHNsb3dlciB0aGFuXG4gKiB0aGUgc291cmNlIGVtaXRzLCB5b3UgY2FuIHJ1biBpbnRvIG1lbW9yeSBpc3N1ZXMgYXMgdGhlIGluY29taW5nIE9ic2VydmFibGVzXG4gKiBjb2xsZWN0IGluIGFuIHVuYm91bmRlZCBidWZmZXIuXG4gKlxuICogTm90ZTogYGNvbmNhdEFsbGAgaXMgZXF1aXZhbGVudCB0byBgbWVyZ2VBbGxgIHdpdGggY29uY3VycmVuY3kgcGFyYW1ldGVyIHNldFxuICogdG8gYDFgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBGb3IgZWFjaCBjbGljayBldmVudCwgdGljayBldmVyeSBzZWNvbmQgZnJvbSAwIHRvIDMsIHdpdGggbm8gY29uY3VycmVuY3lcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGludGVydmFsLCB0YWtlLCBjb25jYXRBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgaGlnaGVyT3JkZXIgPSBjbGlja3MucGlwZShcbiAqICAgbWFwKCgpID0+IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg0KSkpXG4gKiApO1xuICogY29uc3QgZmlyc3RPcmRlciA9IGhpZ2hlck9yZGVyLnBpcGUoY29uY2F0QWxsKCkpO1xuICogZmlyc3RPcmRlci5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gKHJlc3VsdHMgYXJlIG5vdCBjb25jdXJyZW50KVxuICogLy8gRm9yIGV2ZXJ5IGNsaWNrIG9uIHRoZSBcImRvY3VtZW50XCIgaXQgd2lsbCBlbWl0IHZhbHVlcyAwIHRvIDMgc3BhY2VkXG4gKiAvLyBvbiBhIDEwMDBtcyBpbnRlcnZhbFxuICogLy8gb25lIGNsaWNrID0gMTAwMG1zLT4gMCAtMTAwMG1zLT4gMSAtMTAwMG1zLT4gMiAtMTAwMG1zLT4gM1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcFRvfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlQWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoQWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICogQHNlZSB7QGxpbmsgemlwQWxsfVxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBlbWl0dGluZyB2YWx1ZXMgZnJvbSBhbGwgdGhlXG4gKiBpbm5lciBPYnNlcnZhYmxlcyBjb25jYXRlbmF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRBbGw8TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PigpOiBPcGVyYXRvckZ1bmN0aW9uPE8sIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gbWVyZ2VBbGwoMSk7XG59XG4iLCJpbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gT1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiB1bmRlZmluZWRcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXA8VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3RvcjogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIFByb2plY3RzIGVhY2ggc291cmNlIHZhbHVlIHRvIGFuIE9ic2VydmFibGUgd2hpY2ggaXMgbWVyZ2VkIGluIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUsIGluIGEgc2VyaWFsaXplZCBmYXNoaW9uIHdhaXRpbmcgZm9yIGVhY2ggb25lIHRvIGNvbXBsZXRlIGJlZm9yZVxuICogbWVyZ2luZyB0aGUgbmV4dC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TWFwcyBlYWNoIHZhbHVlIHRvIGFuIE9ic2VydmFibGUsIHRoZW4gZmxhdHRlbnMgYWxsIG9mXG4gKiB0aGVzZSBpbm5lciBPYnNlcnZhYmxlcyB1c2luZyB7QGxpbmsgY29uY2F0QWxsfS48L3NwYW4+XG4gKlxuICogIVtdKGNvbmNhdE1hcC5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgYmFzZWQgb24gYXBwbHlpbmcgYSBmdW5jdGlvbiB0aGF0IHlvdVxuICogc3VwcGx5IHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hlcmUgdGhhdCBmdW5jdGlvblxuICogcmV0dXJucyBhbiAoc28tY2FsbGVkIFwiaW5uZXJcIikgT2JzZXJ2YWJsZS4gRWFjaCBuZXcgaW5uZXIgT2JzZXJ2YWJsZSBpc1xuICogY29uY2F0ZW5hdGVkIHdpdGggdGhlIHByZXZpb3VzIGlubmVyIE9ic2VydmFibGUuXG4gKlxuICogX19XYXJuaW5nOl9fIGlmIHNvdXJjZSB2YWx1ZXMgYXJyaXZlIGVuZGxlc3NseSBhbmQgZmFzdGVyIHRoYW4gdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgaW5uZXIgT2JzZXJ2YWJsZXMgY2FuIGNvbXBsZXRlLCBpdCB3aWxsIHJlc3VsdCBpbiBtZW1vcnkgaXNzdWVzXG4gKiBhcyBpbm5lciBPYnNlcnZhYmxlcyBhbWFzcyBpbiBhbiB1bmJvdW5kZWQgYnVmZmVyIHdhaXRpbmcgZm9yIHRoZWlyIHR1cm4gdG9cbiAqIGJlIHN1YnNjcmliZWQgdG8uXG4gKlxuICogTm90ZTogYGNvbmNhdE1hcGAgaXMgZXF1aXZhbGVudCB0byBgbWVyZ2VNYXBgIHdpdGggY29uY3VycmVuY3kgcGFyYW1ldGVyIHNldFxuICogdG8gYDFgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBGb3IgZWFjaCBjbGljayBldmVudCwgdGljayBldmVyeSBzZWNvbmQgZnJvbSAwIHRvIDMsIHdpdGggbm8gY29uY3VycmVuY3lcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBjb25jYXRNYXAsIGludGVydmFsLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICBjb25jYXRNYXAoZXYgPT4gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDQpKSlcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZzpcbiAqIC8vIChyZXN1bHRzIGFyZSBub3QgY29uY3VycmVudClcbiAqIC8vIEZvciBldmVyeSBjbGljayBvbiB0aGUgXCJkb2N1bWVudFwiIGl0IHdpbGwgZW1pdCB2YWx1ZXMgMCB0byAzIHNwYWNlZFxuICogLy8gb24gYSAxMDAwbXMgaW50ZXJ2YWxcbiAqIC8vIG9uZSBjbGljayA9IDEwMDBtcy0+IDAgLTEwMDBtcy0+IDEgLTEwMDBtcy0+IDIgLTEwMDBtcy0+IDNcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdEFsbH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcFRvfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdE1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsID9pbmRleDogbnVtYmVyKTogT2JzZXJ2YWJsZUlucHV0fSBwcm9qZWN0IEEgZnVuY3Rpb25cbiAqIHRoYXQsIHdoZW4gYXBwbGllZCB0byBhbiBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCByZXR1cm5zIGFuXG4gKiBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHJlc3VsdCBvZlxuICogYXBwbHlpbmcgdGhlIHByb2plY3Rpb24gZnVuY3Rpb24gKGFuZCB0aGUgb3B0aW9uYWwgZGVwcmVjYXRlZFxuICogYHJlc3VsdFNlbGVjdG9yYCkgdG8gZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFuZCB0YWtpbmdcbiAqIHZhbHVlcyBmcm9tIGVhY2ggcHJvamVjdGVkIGlubmVyIE9ic2VydmFibGUgc2VxdWVudGlhbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I/OiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4gfCBSPiB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCAxKSA6IG1lcmdlTWFwKHByb2plY3QsIDEpO1xufVxuIiwiaW1wb3J0IHsgY29uY2F0TWFwIH0gZnJvbSAnLi9jb25jYXRNYXAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyoqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBjb25jYXRNYXB9IGluc3RlYWQ6IGBjb25jYXRNYXAoKCkgPT4gcmVzdWx0KWAgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXBUbzxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihvYnNlcnZhYmxlOiBPKTogT3BlcmF0b3JGdW5jdGlvbjx1bmtub3duLCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcFRvPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBvYnNlcnZhYmxlOiBPLFxuICByZXN1bHRTZWxlY3RvcjogdW5kZWZpbmVkXG4pOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwVG88VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4oXG4gIG9ic2VydmFibGU6IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcblxuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byB0aGUgc2FtZSBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBtdWx0aXBsZVxuICogdGltZXMgaW4gYSBzZXJpYWxpemVkIGZhc2hpb24gb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGNvbmNhdE1hcH0sIGJ1dCBtYXBzIGVhY2ggdmFsdWVcbiAqIGFsd2F5cyB0byB0aGUgc2FtZSBpbm5lciBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10oY29uY2F0TWFwVG8ucG5nKVxuICpcbiAqIE1hcHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gdGhlIGdpdmVuIE9ic2VydmFibGUgYGlubmVyT2JzZXJ2YWJsZWAgcmVnYXJkbGVzc1xuICogb2YgdGhlIHNvdXJjZSB2YWx1ZSwgYW5kIHRoZW4gZmxhdHRlbnMgdGhvc2UgcmVzdWx0aW5nIE9ic2VydmFibGVzIGludG8gb25lXG4gKiBzaW5nbGUgT2JzZXJ2YWJsZSwgd2hpY2ggaXMgdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBFYWNoIG5ldyBgaW5uZXJPYnNlcnZhYmxlYFxuICogaW5zdGFuY2UgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUgaXMgY29uY2F0ZW5hdGVkIHdpdGggdGhlIHByZXZpb3VzXG4gKiBgaW5uZXJPYnNlcnZhYmxlYCBpbnN0YW5jZS5cbiAqXG4gKiBfX1dhcm5pbmc6X18gaWYgc291cmNlIHZhbHVlcyBhcnJpdmUgZW5kbGVzc2x5IGFuZCBmYXN0ZXIgdGhhbiB0aGVpclxuICogY29ycmVzcG9uZGluZyBpbm5lciBPYnNlcnZhYmxlcyBjYW4gY29tcGxldGUsIGl0IHdpbGwgcmVzdWx0IGluIG1lbW9yeSBpc3N1ZXNcbiAqIGFzIGlubmVyIE9ic2VydmFibGVzIGFtYXNzIGluIGFuIHVuYm91bmRlZCBidWZmZXIgd2FpdGluZyBmb3IgdGhlaXIgdHVybiB0b1xuICogYmUgc3Vic2NyaWJlZCB0by5cbiAqXG4gKiBOb3RlOiBgY29uY2F0TWFwVG9gIGlzIGVxdWl2YWxlbnQgdG8gYG1lcmdlTWFwVG9gIHdpdGggY29uY3VycmVuY3kgcGFyYW1ldGVyXG4gKiBzZXQgdG8gYDFgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBGb3IgZWFjaCBjbGljayBldmVudCwgdGljayBldmVyeSBzZWNvbmQgZnJvbSAwIHRvIDMsIHdpdGggbm8gY29uY3VycmVuY3lcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBjb25jYXRNYXBUbywgaW50ZXJ2YWwsIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIGNvbmNhdE1hcFRvKGludGVydmFsKDEwMDApLnBpcGUodGFrZSg0KSkpXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAocmVzdWx0cyBhcmUgbm90IGNvbmN1cnJlbnQpXG4gKiAvLyBGb3IgZXZlcnkgY2xpY2sgb24gdGhlIFwiZG9jdW1lbnRcIiBpdCB3aWxsIGVtaXQgdmFsdWVzIDAgdG8gMyBzcGFjZWRcbiAqIC8vIG9uIGEgMTAwMG1zIGludGVydmFsXG4gKiAvLyBvbmUgY2xpY2sgPSAxMDAwbXMtPiAwIC0xMDAwbXMtPiAxIC0xMDAwbXMtPiAyIC0xMDAwbXMtPiAzXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb25jYXR9XG4gKiBAc2VlIHtAbGluayBjb25jYXRBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcFRvfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwVG99XG4gKlxuICogQHBhcmFtIHtPYnNlcnZhYmxlSW5wdXR9IGlubmVyT2JzZXJ2YWJsZSBBbiBPYnNlcnZhYmxlIHRvIHJlcGxhY2UgZWFjaCB2YWx1ZSBmcm9tXG4gKiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgdmFsdWVzIG1lcmdlZCB0b2dldGhlciBieVxuICogam9pbmluZyB0aGUgcGFzc2VkIE9ic2VydmFibGUgd2l0aCBpdHNlbGYsIG9uZSBhZnRlciB0aGUgb3RoZXIsIGZvciBlYWNoXG4gKiB2YWx1ZSBlbWl0dGVkIGZyb20gdGhlIHNvdXJjZS5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBjb25jYXRNYXB9IGluc3RlYWQ6IGBjb25jYXRNYXAoKCkgPT4gcmVzdWx0KWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcFRvPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBpbm5lck9ic2VydmFibGU6IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICByZXR1cm4gaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikgPyBjb25jYXRNYXAoKCkgPT4gaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3RvcikgOiBjb25jYXRNYXAoKCkgPT4gaW5uZXJPYnNlcnZhYmxlKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlLCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi9jb25jYXQnO1xuXG4vKipcbiAqIEVtaXRzIGFsbCBvZiB0aGUgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBvYnNlcnZhYmxlLCB0aGVuLCBvbmNlIGl0IGNvbXBsZXRlcywgc3Vic2NyaWJlc1xuICogdG8gZWFjaCBvYnNlcnZhYmxlIHNvdXJjZSBwcm92aWRlZCwgb25lIGF0IGEgdGltZSwgZW1pdHRpbmcgYWxsIG9mIHRoZWlyIHZhbHVlcywgYW5kIG5vdCBzdWJzY3JpYmluZ1xuICogdG8gdGhlIG5leHQgb25lIHVudGlsIGl0IGNvbXBsZXRlcy5cbiAqXG4gKiBgY29uY2F0KGEkLCBiJCwgYyQpYCBpcyB0aGUgc2FtZSBhcyBgYSQucGlwZShjb25jYXRXaXRoKGIkLCBjJCkpYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogTGlzdGVuIGZvciBvbmUgbW91c2UgY2xpY2ssIHRoZW4gbGlzdGVuIGZvciBhbGwgbW91c2UgbW92ZXMuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwLCB0YWtlLCBjb25jYXRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBtb3ZlcyQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdtb3VzZW1vdmUnKTtcbiAqXG4gKiBjbGlja3MkLnBpcGUoXG4gKiAgIG1hcCgoKSA9PiAnY2xpY2snKSxcbiAqICAgdGFrZSgxKSxcbiAqICAgY29uY2F0V2l0aChcbiAqICAgICBtb3ZlcyQucGlwZShcbiAqICAgICAgIG1hcCgoKSA9PiAnbW92ZScpXG4gKiAgICAgKVxuICogICApXG4gKiApXG4gKiAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vICdjbGljaydcbiAqIC8vICdtb3ZlJ1xuICogLy8gJ21vdmUnXG4gKiAvLyAnbW92ZSdcbiAqIC8vIC4uLlxuICogYGBgXG4gKlxuICogQHBhcmFtIG90aGVyU291cmNlcyBPdGhlciBvYnNlcnZhYmxlIHNvdXJjZXMgdG8gc3Vic2NyaWJlIHRvLCBpbiBzZXF1ZW5jZSwgYWZ0ZXIgdGhlIG9yaWdpbmFsIHNvdXJjZSBpcyBjb21wbGV0ZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGNvbmNhdGVuYXRlc1xuICogc3Vic2NyaXB0aW9ucyB0byB0aGUgc291cmNlIGFuZCBwcm92aWRlZCBPYnNlcnZhYmxlcyBzdWJzY3JpYmluZyB0byB0aGUgbmV4dFxuICogb25seSBvbmNlIHRoZSBjdXJyZW50IHN1YnNjcmlwdGlvbiBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRXaXRoPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5vdGhlclNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEFbbnVtYmVyXT4ge1xuICByZXR1cm4gY29uY2F0KC4uLm90aGVyU291cmNlcyk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiwgU3ViamVjdExpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGZyb21TdWJzY3JpYmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb21TdWJzY3JpYmFibGUnO1xuXG4vKipcbiAqIEFuIG9iamVjdCB1c2VkIHRvIGNvbmZpZ3VyZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdENvbmZpZzxUPiB7XG4gIC8qKlxuICAgKiBBIGZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgdGhlIFN1YmplY3QgdGhyb3VnaCB3aGljaCB0aGUgc291cmNlXG4gICAqIGlzIG11bHRpY2FzdC4gQnkgZGVmYXVsdCwgdGhpcyBjcmVhdGVzIGEge0BsaW5rIFN1YmplY3R9LlxuICAgKi9cbiAgY29ubmVjdG9yOiAoKSA9PiBTdWJqZWN0TGlrZTxUPjtcbn1cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBgY29ubmVjdGAuXG4gKi9cbmNvbnN0IERFRkFVTFRfQ09ORklHOiBDb25uZWN0Q29uZmlnPHVua25vd24+ID0ge1xuICBjb25uZWN0b3I6ICgpID0+IG5ldyBTdWJqZWN0PHVua25vd24+KCksXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JzZXJ2YWJsZSBieSBtdWx0aWNhc3RpbmcgdGhlIHNvdXJjZSB3aXRoaW4gYSBmdW5jdGlvbiB0aGF0XG4gKiBhbGxvd3MgdGhlIGRldmVsb3BlciB0byBkZWZpbmUgdGhlIHVzYWdlIG9mIHRoZSBtdWx0aWNhc3QgcHJpb3IgdG8gY29ubmVjdGlvbi5cbiAqXG4gKiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgaWYgdGhlIG9ic2VydmFibGUgc291cmNlIHlvdSB3aXNoIHRvIG11bHRpY2FzdCBjb3VsZFxuICogYmUgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzLiBUaGlzIHNldHMgaXQgYXBhcnQgZnJvbSB7QGxpbmsgc2hhcmV9LCB3aGljaCwgaW4gdGhlXG4gKiBjYXNlIG9mIHRvdGFsbHkgc3luY2hyb25vdXMgc291cmNlcyB3aWxsIGZhaWwgdG8gc2hhcmUgYSBzaW5nbGUgc3Vic2NyaXB0aW9uIHdpdGhcbiAqIG11bHRpcGxlIGNvbnN1bWVycywgYXMgYnkgdGhlIHRpbWUgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUgcmVzdWx0IG9mIHtAbGluayBzaGFyZX1cbiAqIGhhcyByZXR1cm5lZCwgaWYgdGhlIHNvdXJjZSBpcyBzeW5jaHJvbm91cyBpdHMgaW50ZXJuYWwgcmVmZXJlbmNlIGNvdW50IHdpbGwganVtcCBmcm9tXG4gKiAwIHRvIDEgYmFjayB0byAwIGFuZCByZXNldC5cbiAqXG4gKiBUbyB1c2UgYGNvbm5lY3RgLCB5b3UgcHJvdmlkZSBhIGBzZWxlY3RvcmAgZnVuY3Rpb24gdGhhdCB3aWxsIGdpdmUgeW91XG4gKiBhIG11bHRpY2FzdCBvYnNlcnZhYmxlIHRoYXQgaXMgbm90IHlldCBjb25uZWN0ZWQuIFlvdSB0aGVuIHVzZSB0aGF0IG11bHRpY2FzdCBvYnNlcnZhYmxlXG4gKiB0byBjcmVhdGUgYSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB0aGF0LCB3aGVuIHN1YnNjcmliZWQsIHdpbGwgc2V0IHVwIHlvdXIgbXVsdGljYXN0LiBUaGlzIGlzXG4gKiBnZW5lcmFsbHksIGJ1dCBub3QgYWx3YXlzLCBhY2NvbXBsaXNoZWQgd2l0aCB7QGxpbmsgbWVyZ2V9LlxuICpcbiAqIE5vdGUgdGhhdCB1c2luZyBhIHtAbGluayB0YWtlVW50aWx9IGluc2lkZSBvZiBgY29ubmVjdGAncyBgc2VsZWN0b3JgIF9taWdodF8gbWVhbiB5b3Ugd2VyZSBsb29raW5nXG4gKiB0byB1c2UgdGhlIHtAbGluayB0YWtlV2hpbGV9IG9wZXJhdG9yIGluc3RlYWQuXG4gKlxuICogV2hlbiB5b3Ugc3Vic2NyaWJlIHRvIHRoZSByZXN1bHQgb2YgYGNvbm5lY3RgLCB0aGUgYHNlbGVjdG9yYCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZC4gQWZ0ZXJcbiAqIHRoZSBgc2VsZWN0b3JgIGZ1bmN0aW9uIHJldHVybnMsIHRoZSBvYnNlcnZhYmxlIGl0IHJldHVybnMgd2lsbCBiZSBzdWJzY3JpYmVkIHRvLCBfdGhlbl8gdGhlXG4gKiBtdWx0aWNhc3Qgd2lsbCBiZSBjb25uZWN0ZWQgdG8gdGhlIHNvdXJjZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU2hhcmluZyBhIHRvdGFsbHkgc3luY2hyb25vdXMgb2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgdGFwLCBjb25uZWN0LCBtZXJnZSwgbWFwLCBmaWx0ZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UkID0gb2YoMSwgMiwgMywgNCwgNSkucGlwZShcbiAqICAgdGFwKHtcbiAqICAgICBzdWJzY3JpYmU6ICgpID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpcHRpb24gc3RhcnRlZCcpLFxuICogICAgIG5leHQ6IG4gPT4gY29uc29sZS5sb2coYHNvdXJjZSBlbWl0dGVkICR7IG4gfWApXG4gKiAgIH0pXG4gKiApO1xuICpcbiAqIHNvdXJjZSQucGlwZShcbiAqICAgLy8gTm90aWNlIGluIGhlcmUgd2UncmUgbWVyZ2luZyAzIHN1YnNjcmlwdGlvbnMgdG8gYHNoYXJlZCRgLlxuICogICBjb25uZWN0KHNoYXJlZCQgPT4gbWVyZ2UoXG4gKiAgICAgc2hhcmVkJC5waXBlKG1hcChuID0+IGBhbGwgJHsgbiB9YCkpLFxuICogICAgIHNoYXJlZCQucGlwZShmaWx0ZXIobiA9PiBuICUgMiA9PT0gMCksIG1hcChuID0+IGBldmVuICR7IG4gfWApKSxcbiAqICAgICBzaGFyZWQkLnBpcGUoZmlsdGVyKG4gPT4gbiAlIDIgPT09IDEpLCBtYXAobiA9PiBgb2RkICR7IG4gfWApKVxuICogICApKVxuICogKVxuICogLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKlxuICogLy8gRXhwZWN0ZWQgb3V0cHV0OiAobm90aWNlIG9ubHkgb25lIHN1YnNjcmlwdGlvbilcbiAqICdzdWJzY3JpcHRpb24gc3RhcnRlZCdcbiAqICdzb3VyY2UgZW1pdHRlZCAxJ1xuICogJ2FsbCAxJ1xuICogJ29kZCAxJ1xuICogJ3NvdXJjZSBlbWl0dGVkIDInXG4gKiAnYWxsIDInXG4gKiAnZXZlbiAyJ1xuICogJ3NvdXJjZSBlbWl0dGVkIDMnXG4gKiAnYWxsIDMnXG4gKiAnb2RkIDMnXG4gKiAnc291cmNlIGVtaXR0ZWQgNCdcbiAqICdhbGwgNCdcbiAqICdldmVuIDQnXG4gKiAnc291cmNlIGVtaXR0ZWQgNSdcbiAqICdhbGwgNSdcbiAqICdvZGQgNSdcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBBIGZ1bmN0aW9uIHVzZWQgdG8gc2V0IHVwIHRoZSBtdWx0aWNhc3QuIEdpdmVzIHlvdSBhIG11bHRpY2FzdCBvYnNlcnZhYmxlXG4gKiB0aGF0IGlzIG5vdCB5ZXQgY29ubmVjdGVkLiBXaXRoIHRoYXQsIHlvdSdyZSBleHBlY3RlZCB0byBjcmVhdGUgYW5kIHJldHVyblxuICogYW5kIE9ic2VydmFibGUsIHRoYXQgd2hlbiBzdWJzY3JpYmVkIHRvLCB3aWxsIHV0aWxpemUgdGhlIG11bHRpY2FzdCBvYnNlcnZhYmxlLlxuICogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBleGVjdXRlZCAtLSBhbmQgaXRzIHJldHVybiB2YWx1ZSBzdWJzY3JpYmVkIHRvIC0tIHRoZVxuICogb3BlcmF0b3Igd2lsbCBzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSwgYW5kIHRoZSBjb25uZWN0aW9uIHdpbGwgYmUgbWFkZS5cbiAqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBgY29ubmVjdGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0PFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBzZWxlY3RvcjogKHNoYXJlZDogT2JzZXJ2YWJsZTxUPikgPT4gTyxcbiAgY29uZmlnOiBDb25uZWN0Q29uZmlnPFQ+ID0gREVGQVVMVF9DT05GSUdcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PiB7XG4gIGNvbnN0IHsgY29ubmVjdG9yIH0gPSBjb25maWc7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCBzdWJqZWN0ID0gY29ubmVjdG9yKCk7XG4gICAgaW5uZXJGcm9tKHNlbGVjdG9yKGZyb21TdWJzY3JpYmFibGUoc3ViamVjdCkpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgc3Vic2NyaWJlci5hZGQoc291cmNlLnN1YnNjcmliZShzdWJqZWN0KSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHJlZHVjZSB9IGZyb20gJy4vcmVkdWNlJztcblxuLyoqXG4gKiBDb3VudHMgdGhlIG51bWJlciBvZiBlbWlzc2lvbnMgb24gdGhlIHNvdXJjZSBhbmQgZW1pdHMgdGhhdCBudW1iZXIgd2hlbiB0aGVcbiAqIHNvdXJjZSBjb21wbGV0ZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRlbGxzIGhvdyBtYW55IHZhbHVlcyB3ZXJlIGVtaXR0ZWQsIHdoZW4gdGhlIHNvdXJjZVxuICogY29tcGxldGVzLjwvc3Bhbj5cbiAqXG4gKiAhW10oY291bnQucG5nKVxuICpcbiAqIGBjb3VudGAgdHJhbnNmb3JtcyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdmFsdWVzIGludG8gYW4gT2JzZXJ2YWJsZSB0aGF0XG4gKiBlbWl0cyBhIHNpbmdsZSB2YWx1ZSB0aGF0IHJlcHJlc2VudHMgdGhlIG51bWJlciBvZiB2YWx1ZXMgZW1pdHRlZCBieSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlLiBJZiB0aGUgc291cmNlIE9ic2VydmFibGUgdGVybWluYXRlcyB3aXRoIGFuIGVycm9yLCBgY291bnRgXG4gKiB3aWxsIHBhc3MgdGhpcyBlcnJvciBub3RpZmljYXRpb24gYWxvbmcgd2l0aG91dCBlbWl0dGluZyBhIHZhbHVlIGZpcnN0LiBJZlxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGRvZXMgbm90IHRlcm1pbmF0ZSBhdCBhbGwsIGBjb3VudGAgd2lsbCBuZWl0aGVyIGVtaXRcbiAqIGEgdmFsdWUgbm9yIHRlcm1pbmF0ZS4gVGhpcyBvcGVyYXRvciB0YWtlcyBhbiBvcHRpb25hbCBgcHJlZGljYXRlYCBmdW5jdGlvblxuICogYXMgYXJndW1lbnQsIGluIHdoaWNoIGNhc2UgdGhlIG91dHB1dCBlbWlzc2lvbiB3aWxsIHJlcHJlc2VudCB0aGUgbnVtYmVyIG9mXG4gKiBzb3VyY2UgdmFsdWVzIHRoYXQgbWF0Y2hlZCBgdHJ1ZWAgd2l0aCB0aGUgYHByZWRpY2F0ZWAuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBDb3VudHMgaG93IG1hbnkgc2Vjb25kcyBoYXZlIHBhc3NlZCBiZWZvcmUgdGhlIGZpcnN0IGNsaWNrIGhhcHBlbmVkXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBmcm9tRXZlbnQsIHRha2VVbnRpbCwgY291bnQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzZWNvbmRzID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3Qgc2Vjb25kc0JlZm9yZUNsaWNrID0gc2Vjb25kcy5waXBlKHRha2VVbnRpbChjbGlja3MpKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNlY29uZHNCZWZvcmVDbGljay5waXBlKGNvdW50KCkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIENvdW50cyBob3cgbWFueSBvZGQgbnVtYmVycyBhcmUgdGhlcmUgYmV0d2VlbiAxIGFuZCA3XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHJhbmdlLCBjb3VudCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG51bWJlcnMgPSByYW5nZSgxLCA3KTtcbiAqIGNvbnN0IHJlc3VsdCA9IG51bWJlcnMucGlwZShjb3VudChpID0+IGkgJSAyID09PSAxKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogLy8gUmVzdWx0cyBpbjpcbiAqIC8vIDRcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1heH1cbiAqIEBzZWUge0BsaW5rIG1pbn1cbiAqIEBzZWUge0BsaW5rIHJlZHVjZX1cbiAqXG4gKiBAcGFyYW0gcHJlZGljYXRlIEEgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGFuYWx5emUgdGhlIHZhbHVlIGFuZCB0aGUgaW5kZXggYW5kXG4gKiBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gaW5jcmVtZW50IHRoZSBjb3VudC4gUmV0dXJuIGB0cnVlYCB0byBpbmNyZW1lbnQgdGhlIGNvdW50LFxuICogYW5kIHJldHVybiBgZmFsc2VgIHRvIGtlZXAgdGhlIGNvdW50IHRoZSBzYW1lLlxuICogSWYgdGhlIHByZWRpY2F0ZSBpcyBub3QgcHJvdmlkZWQsIGV2ZXJ5IHZhbHVlIHdpbGwgYmUgY291bnRlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG9uZSBudW1iZXIgdGhhdFxuICogcmVwcmVzZW50cyB0aGUgY291bnQgb2YgZW1pc3Npb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY291bnQ8VD4ocHJlZGljYXRlPzogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBudW1iZXI+IHtcbiAgcmV0dXJuIHJlZHVjZSgodG90YWwsIHZhbHVlLCBpKSA9PiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGkpID8gdG90YWwgKyAxIDogdG90YWwpLCAwKTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBFbWl0cyBhIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBvbmx5IGFmdGVyIGEgcGFydGljdWxhciB0aW1lIHNwYW5cbiAqIGRldGVybWluZWQgYnkgYW5vdGhlciBPYnNlcnZhYmxlIGhhcyBwYXNzZWQgd2l0aG91dCBhbm90aGVyIHNvdXJjZSBlbWlzc2lvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBkZWJvdW5jZVRpbWV9LCBidXQgdGhlIHRpbWUgc3BhbiBvZlxuICogZW1pc3Npb24gc2lsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5IGEgc2Vjb25kIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShkZWJvdW5jZS5zdmcpXG4gKlxuICogYGRlYm91bmNlYCBkZWxheXMgbm90aWZpY2F0aW9ucyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgYnV0IGRyb3BzIHByZXZpb3VzXG4gKiBwZW5kaW5nIGRlbGF5ZWQgZW1pc3Npb25zIGlmIGEgbmV3IG5vdGlmaWNhdGlvbiBhcnJpdmVzIG9uIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIFRoaXMgb3BlcmF0b3Iga2VlcHMgdHJhY2sgb2YgdGhlIG1vc3QgcmVjZW50IG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUsIGFuZCBzcGF3bnMgYSBkdXJhdGlvbiBPYnNlcnZhYmxlIGJ5IGNhbGxpbmcgdGhlXG4gKiBgZHVyYXRpb25TZWxlY3RvcmAgZnVuY3Rpb24uIFRoZSBub3RpZmljYXRpb24gaXMgZW1pdHRlZCBvbmx5IHdoZW4gdGhlIGR1cmF0aW9uXG4gKiBPYnNlcnZhYmxlIGVtaXRzIGEgbmV4dCBub3RpZmljYXRpb24sIGFuZCBpZiBubyBvdGhlciBub3RpZmljYXRpb24gd2FzIGVtaXR0ZWQgb25cbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBzaW5jZSB0aGUgZHVyYXRpb24gT2JzZXJ2YWJsZSB3YXMgc3Bhd25lZC4gSWYgYSBuZXdcbiAqIG5vdGlmaWNhdGlvbiBhcHBlYXJzIGJlZm9yZSB0aGUgZHVyYXRpb24gT2JzZXJ2YWJsZSBlbWl0cywgdGhlIHByZXZpb3VzIG5vdGlmaWNhdGlvbiB3aWxsXG4gKiBub3QgYmUgZW1pdHRlZCBhbmQgYSBuZXcgZHVyYXRpb24gaXMgc2NoZWR1bGVkIGZyb20gYGR1cmF0aW9uU2VsZWN0b3JgIGlzIHNjaGVkdWxlZC5cbiAqIElmIHRoZSBjb21wbGV0aW5nIGV2ZW50IGhhcHBlbnMgZHVyaW5nIHRoZSBzY2hlZHVsZWQgZHVyYXRpb24gdGhlIGxhc3QgY2FjaGVkIG5vdGlmaWNhdGlvblxuICogaXMgZW1pdHRlZCBiZWZvcmUgdGhlIGNvbXBsZXRpb24gZXZlbnQgaXMgZm9yd2FyZGVkIHRvIHRoZSBvdXRwdXQgb2JzZXJ2YWJsZS5cbiAqIElmIHRoZSBlcnJvciBldmVudCBoYXBwZW5zIGR1cmluZyB0aGUgc2NoZWR1bGVkIGR1cmF0aW9uIG9yIGFmdGVyIGl0IG9ubHkgdGhlIGVycm9yIGV2ZW50IGlzXG4gKiBmb3J3YXJkZWQgdG8gdGhlIG91dHB1dCBvYnNlcnZhYmxlLiBUaGUgY2FjaGUgbm90aWZpY2F0aW9uIGlzIG5vdCBlbWl0dGVkIGluIHRoaXMgY2FzZS5cbiAqXG4gKiBMaWtlIHtAbGluayBkZWJvdW5jZVRpbWV9LCB0aGlzIGlzIGEgcmF0ZS1saW1pdGluZyBvcGVyYXRvciwgYW5kIGFsc28gYVxuICogZGVsYXktbGlrZSBvcGVyYXRvciBzaW5jZSBvdXRwdXQgZW1pc3Npb25zIGRvIG5vdCBuZWNlc3NhcmlseSBvY2N1ciBhdCB0aGVcbiAqIHNhbWUgdGltZSBhcyB0aGV5IGRpZCBvbiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgdGhlIG1vc3QgcmVjZW50IGNsaWNrIGFmdGVyIGEgYnVyc3Qgb2YgY2xpY2tzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgc2NhbiwgZGVib3VuY2UsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICBzY2FuKGkgPT4gKytpLCAxKSxcbiAqICAgZGVib3VuY2UoaSA9PiBpbnRlcnZhbCgyMDAgKiBpKSlcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYXVkaXR9XG4gKiBAc2VlIHtAbGluayBhdWRpdFRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZVRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWxheX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZVRpbWV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb25TZWxlY3RvciBBIGZ1bmN0aW9uXG4gKiB0aGF0IHJlY2VpdmVzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIGZvciBjb21wdXRpbmcgdGhlIHRpbWVvdXRcbiAqIGR1cmF0aW9uIGZvciBlYWNoIHNvdXJjZSB2YWx1ZSwgcmV0dXJuZWQgYXMgYW4gT2JzZXJ2YWJsZSBvciBhIFByb21pc2UuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBkZWxheXMgdGhlIGVtaXNzaW9ucyBvZlxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gT2JzZXJ2YWJsZSByZXR1cm5lZCBieVxuICogYGR1cmF0aW9uU2VsZWN0b3JgLCBhbmQgbWF5IGRyb3Agc29tZSB2YWx1ZXMgaWYgdGhleSBvY2N1ciB0b28gZnJlcXVlbnRseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQ+KGR1cmF0aW9uU2VsZWN0b3I6ICh2YWx1ZTogVCkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgbGV0IGxhc3RWYWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICAgIC8vIFRoZSBzdWJzY3JpYmVyL3N1YnNjcmlwdGlvbiBmb3IgdGhlIGN1cnJlbnQgZGVib3VuY2UsIGlmIHRoZXJlIGlzIG9uZS5cbiAgICBsZXQgZHVyYXRpb25TdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4gfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0IGVtaXQgPSAoKSA9PiB7XG4gICAgICAvLyBVbnN1YnNjcmliZSBhbnkgY3VycmVudCBkZWJvdW5jZSBzdWJzY3JpcHRpb24gd2UgaGF2ZSxcbiAgICAgIC8vIHdlIG9ubHkgY2FyZWQgYWJvdXQgdGhlIGZpcnN0IG5vdGlmaWNhdGlvbiBmcm9tIGl0LCBhbmQgd2VcbiAgICAgIC8vIHdhbnQgdG8gY2xlYW4gdGhhdCBzdWJzY3JpcHRpb24gdXAgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAgICAgIGR1cmF0aW9uU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhIHZhbHVlISBGcmVlIHVwIG1lbW9yeSBmaXJzdCwgdGhlbiBlbWl0IHRoZSB2YWx1ZS5cbiAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsYXN0VmFsdWUhO1xuICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgZGVib3VuY2UgZHVyYXRpb24uIFdlIGRvbid0XG4gICAgICAgICAgLy8gbmVlZCB0byBudWxsIGl0IG91dCBoZXJlIHlldCB0aG8sIGJlY2F1c2Ugd2UncmUganVzdCBnb2luZ1xuICAgICAgICAgIC8vIHRvIGNyZWF0ZSBhbm90aGVyIG9uZSBpbiBhIGZldyBsaW5lcy5cbiAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIC8vIENhcHR1cmUgb3VyIGR1cmF0aW9uIHN1YnNjcmliZXIsIHNvIHdlIGNhbiB1bnN1YnNjcmliZSBpdCB3aGVuIHdlJ3JlIG5vdGlmaWVkXG4gICAgICAgICAgLy8gYW5kIHdlJ3JlIGdvaW5nIHRvIGVtaXQgdGhlIHZhbHVlLlxuICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0LCBub29wKTtcbiAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIGR1cmF0aW9uLlxuICAgICAgICAgIGlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKGR1cmF0aW9uU3Vic2NyaWJlcik7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBTb3VyY2UgY29tcGxldGVkLlxuICAgICAgICAgIC8vIEVtaXQgYW55IHBlbmRpbmcgZGVib3VuY2VkIHZhbHVlcyB0aGVuIGNvbXBsZXRlXG4gICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUGFzcyBhbGwgZXJyb3JzIHRocm91Z2ggdG8gY29uc3VtZXJcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gRmluYWxpemF0aW9uLlxuICAgICAgICAgIGxhc3RWYWx1ZSA9IGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckFjdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEVtaXRzIGEgbm90aWZpY2F0aW9uIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIG9ubHkgYWZ0ZXIgYSBwYXJ0aWN1bGFyIHRpbWUgc3BhblxuICogaGFzIHBhc3NlZCB3aXRob3V0IGFub3RoZXIgc291cmNlIGVtaXNzaW9uLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGRlbGF5fSwgYnV0IHBhc3NlcyBvbmx5IHRoZSBtb3N0XG4gKiByZWNlbnQgbm90aWZpY2F0aW9uIGZyb20gZWFjaCBidXJzdCBvZiBlbWlzc2lvbnMuPC9zcGFuPlxuICpcbiAqICFbXShkZWJvdW5jZVRpbWUucG5nKVxuICpcbiAqIGBkZWJvdW5jZVRpbWVgIGRlbGF5cyBub3RpZmljYXRpb25zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBidXQgZHJvcHNcbiAqIHByZXZpb3VzIHBlbmRpbmcgZGVsYXllZCBlbWlzc2lvbnMgaWYgYSBuZXcgbm90aWZpY2F0aW9uIGFycml2ZXMgb24gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gVGhpcyBvcGVyYXRvciBrZWVwcyB0cmFjayBvZiB0aGUgbW9zdCByZWNlbnQgbm90aWZpY2F0aW9uIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSwgYW5kIGVtaXRzIHRoYXQgb25seSB3aGVuIGBkdWVUaW1lYCBoYXMgcGFzc2VkXG4gKiB3aXRob3V0IGFueSBvdGhlciBub3RpZmljYXRpb24gYXBwZWFyaW5nIG9uIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSWYgYSBuZXcgdmFsdWVcbiAqIGFwcGVhcnMgYmVmb3JlIGBkdWVUaW1lYCBzaWxlbmNlIG9jY3VycywgdGhlIHByZXZpb3VzIG5vdGlmaWNhdGlvbiB3aWxsIGJlIGRyb3BwZWRcbiAqIGFuZCB3aWxsIG5vdCBiZSBlbWl0dGVkIGFuZCBhIG5ldyBgZHVlVGltZWAgaXMgc2NoZWR1bGVkLlxuICogSWYgdGhlIGNvbXBsZXRpbmcgZXZlbnQgaGFwcGVucyBkdXJpbmcgYGR1ZVRpbWVgIHRoZSBsYXN0IGNhY2hlZCBub3RpZmljYXRpb25cbiAqIGlzIGVtaXR0ZWQgYmVmb3JlIHRoZSBjb21wbGV0aW9uIGV2ZW50IGlzIGZvcndhcmRlZCB0byB0aGUgb3V0cHV0IG9ic2VydmFibGUuXG4gKiBJZiB0aGUgZXJyb3IgZXZlbnQgaGFwcGVucyBkdXJpbmcgYGR1ZVRpbWVgIG9yIGFmdGVyIGl0IG9ubHkgdGhlIGVycm9yIGV2ZW50IGlzXG4gKiBmb3J3YXJkZWQgdG8gdGhlIG91dHB1dCBvYnNlcnZhYmxlLiBUaGUgY2FjaGUgbm90aWZpY2F0aW9uIGlzIG5vdCBlbWl0dGVkIGluIHRoaXMgY2FzZS5cbiAqXG4gKiBUaGlzIGlzIGEgcmF0ZS1saW1pdGluZyBvcGVyYXRvciwgYmVjYXVzZSBpdCBpcyBpbXBvc3NpYmxlIGZvciBtb3JlIHRoYW4gb25lXG4gKiBub3RpZmljYXRpb24gdG8gYmUgZW1pdHRlZCBpbiBhbnkgdGltZSB3aW5kb3cgb2YgZHVyYXRpb24gYGR1ZVRpbWVgLCBidXQgaXQgaXMgYWxzb1xuICogYSBkZWxheS1saWtlIG9wZXJhdG9yIHNpbmNlIG91dHB1dCBlbWlzc2lvbnMgZG8gbm90IG9jY3VyIGF0IHRoZSBzYW1lIHRpbWUgYXNcbiAqIHRoZXkgZGlkIG9uIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gT3B0aW9uYWxseSB0YWtlcyBhIHtAbGluayBTY2hlZHVsZXJMaWtlfSBmb3JcbiAqIG1hbmFnaW5nIHRpbWVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCB0aGUgbW9zdCByZWNlbnQgY2xpY2sgYWZ0ZXIgYSBidXJzdCBvZiBjbGlja3NcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBkZWJvdW5jZVRpbWUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoZGVib3VuY2VUaW1lKDEwMDApKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBhdWRpdH1cbiAqIEBzZWUge0BsaW5rIGF1ZGl0VGltZX1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlfVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGVUaW1lfVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdWVUaW1lIFRoZSB0aW1lb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyAob3IgdGhlIHRpbWVcbiAqIHVuaXQgZGV0ZXJtaW5lZCBpbnRlcm5hbGx5IGJ5IHRoZSBvcHRpb25hbCBgc2NoZWR1bGVyYCkgZm9yIHRoZSB3aW5kb3cgb2ZcbiAqIHRpbWUgcmVxdWlyZWQgdG8gd2FpdCBmb3IgZW1pc3Npb24gc2lsZW5jZSBiZWZvcmUgZW1pdHRpbmcgdGhlIG1vc3QgcmVjZW50XG4gKiBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9YXN5bmNdIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvclxuICogbWFuYWdpbmcgdGhlIHRpbWVycyB0aGF0IGhhbmRsZSB0aGUgdGltZW91dCBmb3IgZWFjaCB2YWx1ZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGRlbGF5cyB0aGUgZW1pc3Npb25zIG9mXG4gKiB0aGUgc291cmNlIE9ic2VydmFibGUgYnkgdGhlIHNwZWNpZmllZCBgZHVlVGltZWAsIGFuZCBtYXkgZHJvcCBzb21lIHZhbHVlc1xuICogaWYgdGhleSBvY2N1ciB0b28gZnJlcXVlbnRseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlVGltZTxUPihkdWVUaW1lOiBudW1iZXIsIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSA9IGFzeW5jU2NoZWR1bGVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBhY3RpdmVUYXNrOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcbiAgICBsZXQgbGFzdFZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGxhc3RUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0IGVtaXQgPSAoKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVGFzaykge1xuICAgICAgICAvLyBXZSBoYXZlIGEgdmFsdWUhIEZyZWUgdXAgbWVtb3J5IGZpcnN0LCB0aGVuIGVtaXQgdGhlIHZhbHVlLlxuICAgICAgICBhY3RpdmVUYXNrLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGxhc3RWYWx1ZSE7XG4gICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBlbWl0V2hlbklkbGUodGhpczogU2NoZWR1bGVyQWN0aW9uPHVua25vd24+KSB7XG4gICAgICAvLyBUaGlzIGlzIGNhbGxlZCBgZHVlVGltZWAgYWZ0ZXIgdGhlIGZpcnN0IHZhbHVlXG4gICAgICAvLyBidXQgd2UgbWlnaHQgaGF2ZSByZWNlaXZlZCBuZXcgdmFsdWVzIGR1cmluZyB0aGlzIHdpbmRvdyFcblxuICAgICAgY29uc3QgdGFyZ2V0VGltZSA9IGxhc3RUaW1lISArIGR1ZVRpbWU7XG4gICAgICBjb25zdCBub3cgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICBpZiAobm93IDwgdGFyZ2V0VGltZSkge1xuICAgICAgICAvLyBPbiB0aGF0IGNhc2UsIHJlLXNjaGVkdWxlIHRvIHRoZSBuZXcgdGFyZ2V0XG4gICAgICAgIGFjdGl2ZVRhc2sgPSB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgdGFyZ2V0VGltZSAtIG5vdyk7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKGFjdGl2ZVRhc2spO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVtaXQoKTtcbiAgICB9XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0VGltZSA9IHNjaGVkdWxlci5ub3coKTtcblxuICAgICAgICAgIC8vIE9ubHkgc2V0IHVwIGEgdGFzayBpZiBpdCdzIG5vdCBhbHJlYWR5IHVwXG4gICAgICAgICAgaWYgKCFhY3RpdmVUYXNrKSB7XG4gICAgICAgICAgICBhY3RpdmVUYXNrID0gc2NoZWR1bGVyLnNjaGVkdWxlKGVtaXRXaGVuSWRsZSwgZHVlVGltZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChhY3RpdmVUYXNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBTb3VyY2UgY29tcGxldGVkLlxuICAgICAgICAgIC8vIEVtaXQgYW55IHBlbmRpbmcgZGVib3VuY2VkIHZhbHVlcyB0aGVuIGNvbXBsZXRlXG4gICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUGFzcyBhbGwgZXJyb3JzIHRocm91Z2ggdG8gY29uc3VtZXIuXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIEZpbmFsaXphdGlvbi5cbiAgICAgICAgICBsYXN0VmFsdWUgPSBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEVtaXRzIGEgZ2l2ZW4gdmFsdWUgaWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGFueVxuICogYG5leHRgIHZhbHVlLCBvdGhlcndpc2UgbWlycm9ycyB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPklmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0dXJucyBvdXQgdG8gYmUgZW1wdHksIHRoZW5cbiAqIHRoaXMgb3BlcmF0b3Igd2lsbCBlbWl0IGEgZGVmYXVsdCB2YWx1ZS48L3NwYW4+XG4gKlxuICogIVtdKGRlZmF1bHRJZkVtcHR5LnBuZylcbiAqXG4gKiBgZGVmYXVsdElmRW1wdHlgIGVtaXRzIHRoZSB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgb3IgYVxuICogc3BlY2lmaWVkIGRlZmF1bHQgdmFsdWUgaWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGlzIGVtcHR5IChjb21wbGV0ZXMgd2l0aG91dFxuICogaGF2aW5nIGVtaXR0ZWQgYW55IGBuZXh0YCB2YWx1ZSkuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIElmIG5vIGNsaWNrcyBoYXBwZW4gaW4gNSBzZWNvbmRzLCB0aGVuIGVtaXQgJ25vIGNsaWNrcydcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB0YWtlVW50aWwsIGludGVydmFsLCBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBjbGlja3NCZWZvcmVGaXZlID0gY2xpY2tzLnBpcGUodGFrZVVudGlsKGludGVydmFsKDUwMDApKSk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3NCZWZvcmVGaXZlLnBpcGUoZGVmYXVsdElmRW1wdHkoJ25vIGNsaWNrcycpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBlbXB0eX1cbiAqIEBzZWUge0BsaW5rIGxhc3R9XG4gKlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZSB1c2VkIGlmIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgaXMgZW1wdHkuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBlaXRoZXIgdGhlXG4gKiBzcGVjaWZpZWQgYGRlZmF1bHRWYWx1ZWAgaWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIG5vIGl0ZW1zLCBvciB0aGVcbiAqIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRJZkVtcHR5PFQsIFI+KGRlZmF1bHRWYWx1ZTogUik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGRlZmF1bHRWYWx1ZSEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGRlbGF5V2hlbiB9IGZyb20gJy4vZGVsYXlXaGVuJztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aW1lcic7XG5cbi8qKlxuICogRGVsYXlzIHRoZSBlbWlzc2lvbiBvZiBpdGVtcyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSBhIGdpdmVuIHRpbWVvdXQgb3JcbiAqIHVudGlsIGEgZ2l2ZW4gRGF0ZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VGltZSBzaGlmdHMgZWFjaCBpdGVtIGJ5IHNvbWUgc3BlY2lmaWVkIGFtb3VudCBvZlxuICogbWlsbGlzZWNvbmRzLjwvc3Bhbj5cbiAqXG4gKiAhW10oZGVsYXkuc3ZnKVxuICpcbiAqIElmIHRoZSBkZWxheSBhcmd1bWVudCBpcyBhIE51bWJlciwgdGhpcyBvcGVyYXRvciB0aW1lIHNoaWZ0cyB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGJ5IHRoYXQgYW1vdW50IG9mIHRpbWUgZXhwcmVzc2VkIGluIG1pbGxpc2Vjb25kcy4gVGhlIHJlbGF0aXZlXG4gKiB0aW1lIGludGVydmFscyBiZXR3ZWVuIHRoZSB2YWx1ZXMgYXJlIHByZXNlcnZlZC5cbiAqXG4gKiBJZiB0aGUgZGVsYXkgYXJndW1lbnQgaXMgYSBEYXRlLCB0aGlzIG9wZXJhdG9yIHRpbWUgc2hpZnRzIHRoZSBzdGFydCBvZiB0aGVcbiAqIE9ic2VydmFibGUgZXhlY3V0aW9uIHVudGlsIHRoZSBnaXZlbiBkYXRlIG9jY3Vycy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIERlbGF5IGVhY2ggY2xpY2sgYnkgb25lIHNlY29uZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGRlbGF5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGRlbGF5ZWRDbGlja3MgPSBjbGlja3MucGlwZShkZWxheSgxMDAwKSk7IC8vIGVhY2ggY2xpY2sgZW1pdHRlZCBhZnRlciAxIHNlY29uZFxuICogZGVsYXllZENsaWNrcy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBEZWxheSBhbGwgY2xpY2tzIHVudGlsIGEgZnV0dXJlIGRhdGUgaGFwcGVuc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGRlbGF5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgnTWFyY2ggMTUsIDIwNTAgMTI6MDA6MDAnKTsgLy8gaW4gdGhlIGZ1dHVyZVxuICogY29uc3QgZGVsYXllZENsaWNrcyA9IGNsaWNrcy5waXBlKGRlbGF5KGRhdGUpKTsgLy8gY2xpY2sgZW1pdHRlZCBvbmx5IGFmdGVyIHRoYXQgZGF0ZVxuICogZGVsYXllZENsaWNrcy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkZWxheVdoZW59XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlfVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2VUaW1lfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIGF1ZGl0fVxuICogQHNlZSB7QGxpbmsgYXVkaXRUaW1lfVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfERhdGV9IGR1ZSBUaGUgZGVsYXkgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzIChhIGBudW1iZXJgKSBvclxuICogYSBgRGF0ZWAgdW50aWwgd2hpY2ggdGhlIGVtaXNzaW9uIG9mIHRoZSBzb3VyY2UgaXRlbXMgaXMgZGVsYXllZC5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcj1hc3luY10gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yXG4gKiBtYW5hZ2luZyB0aGUgdGltZXJzIHRoYXQgaGFuZGxlIHRoZSB0aW1lLXNoaWZ0IGZvciBlYWNoIGl0ZW0uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBkZWxheXMgdGhlIGVtaXNzaW9ucyBvZlxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IHRoZSBzcGVjaWZpZWQgdGltZW91dCBvciBEYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsYXk8VD4oZHVlOiBudW1iZXIgfCBEYXRlLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGNvbnN0IGR1cmF0aW9uID0gdGltZXIoZHVlLCBzY2hlZHVsZXIpO1xuICByZXR1cm4gZGVsYXlXaGVuKCgpID0+IGR1cmF0aW9uKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb25jYXQnO1xuaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vdGFrZSc7XG5pbXBvcnQgeyBpZ25vcmVFbGVtZW50cyB9IGZyb20gJy4vaWdub3JlRWxlbWVudHMnO1xuaW1wb3J0IHsgbWFwVG8gfSBmcm9tICcuL21hcFRvJztcbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHN1YnNjcmlwdGlvbkRlbGF5YCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5V2hlbjxUPihcbiAgZGVsYXlEdXJhdGlvblNlbGVjdG9yOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+LFxuICBzdWJzY3JpcHRpb25EZWxheTogT2JzZXJ2YWJsZTxhbnk+XG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5leHBvcnQgZnVuY3Rpb24gZGVsYXlXaGVuPFQ+KGRlbGF5RHVyYXRpb25TZWxlY3RvcjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBEZWxheXMgdGhlIGVtaXNzaW9uIG9mIGl0ZW1zIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IGEgZ2l2ZW4gdGltZSBzcGFuXG4gKiBkZXRlcm1pbmVkIGJ5IHRoZSBlbWlzc2lvbnMgb2YgYW5vdGhlciBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGRlbGF5fSwgYnV0IHRoZSB0aW1lIHNwYW4gb2YgdGhlXG4gKiBkZWxheSBkdXJhdGlvbiBpcyBkZXRlcm1pbmVkIGJ5IGEgc2Vjb25kIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShkZWxheVdoZW4ucG5nKVxuICpcbiAqIGBkZWxheVdoZW5gIG9wZXJhdG9yIHNoaWZ0cyBlYWNoIGVtaXR0ZWQgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgYnlcbiAqIGEgdGltZSBzcGFuIGRldGVybWluZWQgYnkgYW5vdGhlciBPYnNlcnZhYmxlLiBXaGVuIHRoZSBzb3VyY2UgZW1pdHMgYSB2YWx1ZSxcbiAqIHRoZSBgZGVsYXlEdXJhdGlvblNlbGVjdG9yYCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgdmFsdWUgZW1pdHRlZCBmcm9tXG4gKiB0aGUgc291cmNlIE9ic2VydmFibGUgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBgZGVsYXlEdXJhdGlvblNlbGVjdG9yYC5cbiAqIFRoZSBgZGVsYXlEdXJhdGlvblNlbGVjdG9yYCBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGFuIHtAbGluayBPYnNlcnZhYmxlSW5wdXR9LFxuICogdGhhdCBpcyBpbnRlcm5hbGx5IGNvbnZlcnRlZCB0byBhbiBPYnNlcnZhYmxlIHRoYXQgaXMgY2FsbGVkIHRoZSBcImR1cmF0aW9uXCJcbiAqIE9ic2VydmFibGUuXG4gKlxuICogVGhlIHNvdXJjZSB2YWx1ZSBpcyBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5IHdoZW4gdGhlIFwiZHVyYXRpb25cIlxuICogT2JzZXJ2YWJsZSBlbWl0cyAoe0BsaW5rIGd1aWRlL2dsb3NzYXJ5LWFuZC1zZW1hbnRpY3MjbmV4dCBuZXh0fXMpIGFueSB2YWx1ZS5cbiAqIFVwb24gdGhhdCwgdGhlIFwiZHVyYXRpb25cIiBPYnNlcnZhYmxlIGdldHMgdW5zdWJzY3JpYmVkLlxuICpcbiAqIEJlZm9yZSBSeEpTIFY3LCB0aGUge0BsaW5rIGd1aWRlL2dsb3NzYXJ5LWFuZC1zZW1hbnRpY3MjY29tcGxldGUgY29tcGxldGlvbn1cbiAqIG9mIHRoZSBcImR1cmF0aW9uXCIgT2JzZXJ2YWJsZSB3b3VsZCBoYXZlIGJlZW4gdHJpZ2dlcmluZyB0aGUgZW1pc3Npb24gb2YgdGhlXG4gKiBzb3VyY2UgdmFsdWUgdG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLCBidXQgd2l0aCBSeEpTIFY3LCB0aGlzIGlzIG5vdCB0aGUgY2FzZVxuICogYW55bW9yZS5cbiAqXG4gKiBPbmx5IG5leHQgbm90aWZpY2F0aW9ucyAoZnJvbSB0aGUgXCJkdXJhdGlvblwiIE9ic2VydmFibGUpIHRyaWdnZXIgdmFsdWVzIGZyb21cbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0byBiZSBwYXNzZWQgdG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBJZiB0aGUgXCJkdXJhdGlvblwiXG4gKiBPYnNlcnZhYmxlIG9ubHkgZW1pdHMgdGhlIGNvbXBsZXRlIG5vdGlmaWNhdGlvbiAod2l0aG91dCBuZXh0KSwgdGhlIHZhbHVlXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aWxsIG5ldmVyIGdldCB0byB0aGUgb3V0cHV0IE9ic2VydmFibGUgLSBpdFxuICogd2lsbCBiZSBzd2FsbG93ZWQuIElmIHRoZSBcImR1cmF0aW9uXCIgT2JzZXJ2YWJsZSBlcnJvcnMsIHRoZSBlcnJvciB3aWxsIGJlXG4gKiBwcm9wYWdhdGVkIHRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiBPcHRpb25hbGx5LCBgZGVsYXlXaGVuYCB0YWtlcyBhIHNlY29uZCBhcmd1bWVudCwgYHN1YnNjcmlwdGlvbkRlbGF5YCwgd2hpY2hcbiAqIGlzIGFuIE9ic2VydmFibGUuIFdoZW4gYHN1YnNjcmlwdGlvbkRlbGF5YCBlbWl0cyBpdHMgZmlyc3QgdmFsdWUgb3JcbiAqIGNvbXBsZXRlcywgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGlzIHN1YnNjcmliZWQgdG8gYW5kIHN0YXJ0cyBiZWhhdmluZyBsaWtlXG4gKiBkZXNjcmliZWQgaW4gdGhlIHByZXZpb3VzIHBhcmFncmFwaC4gSWYgYHN1YnNjcmlwdGlvbkRlbGF5YCBpcyBub3QgcHJvdmlkZWQsXG4gKiBgZGVsYXlXaGVuYCB3aWxsIHN1YnNjcmliZSB0byB0aGUgc291cmNlIE9ic2VydmFibGUgYXMgc29vbiBhcyB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlIGlzIHN1YnNjcmliZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIERlbGF5IGVhY2ggY2xpY2sgYnkgYSByYW5kb20gYW1vdW50IG9mIHRpbWUsIGJldHdlZW4gMCBhbmQgNSBzZWNvbmRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZGVsYXlXaGVuLCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBkZWxheWVkQ2xpY2tzID0gY2xpY2tzLnBpcGUoXG4gKiAgIGRlbGF5V2hlbigoKSA9PiBpbnRlcnZhbChNYXRoLnJhbmRvbSgpICogNTAwMCkpXG4gKiApO1xuICogZGVsYXllZENsaWNrcy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkZWxheX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlfVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGVUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2V9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZVRpbWV9XG4gKiBAc2VlIHtAbGluayBzYW1wbGV9XG4gKiBAc2VlIHtAbGluayBzYW1wbGVUaW1lfVxuICogQHNlZSB7QGxpbmsgYXVkaXR9XG4gKiBAc2VlIHtAbGluayBhdWRpdFRpbWV9XG4gKlxuICogQHBhcmFtIGRlbGF5RHVyYXRpb25TZWxlY3RvciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBgT2JzZXJ2YWJsZUlucHV0YCBmb3JcbiAqIGVhY2ggYHZhbHVlYCBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hpY2ggaXMgdGhlbiB1c2VkIHRvIGRlbGF5IHRoZVxuICogZW1pc3Npb24gb2YgdGhhdCBgdmFsdWVgIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSB1bnRpbCB0aGUgYE9ic2VydmFibGVJbnB1dGBcbiAqIHJldHVybmVkIGZyb20gdGhpcyBmdW5jdGlvbiBlbWl0cyBhIG5leHQgdmFsdWUuIFdoZW4gY2FsbGVkLCBiZXNpZGUgYHZhbHVlYCxcbiAqIHRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSB6ZXJvLWJhc2VkIGBpbmRleGAgb2YgdGhlIGVtaXNzaW9uIG9yZGVyLlxuICogQHBhcmFtIHN1YnNjcmlwdGlvbkRlbGF5IEFuIE9ic2VydmFibGUgdGhhdCB0cmlnZ2VycyB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgb25jZSBpdCBlbWl0cyBhbnkgdmFsdWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBkZWxheXMgdGhlIGVtaXNzaW9ucyBvZlxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IGFuIGFtb3VudCBvZiB0aW1lIHNwZWNpZmllZCBieSB0aGUgT2JzZXJ2YWJsZVxuICogcmV0dXJuZWQgYnkgYGRlbGF5RHVyYXRpb25TZWxlY3RvcmAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxheVdoZW48VD4oXG4gIGRlbGF5RHVyYXRpb25TZWxlY3RvcjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PixcbiAgc3Vic2NyaXB0aW9uRGVsYXk/OiBPYnNlcnZhYmxlPGFueT5cbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGlmIChzdWJzY3JpcHRpb25EZWxheSkge1xuICAgIC8vIERFUFJFQ0FURUQgUEFUSFxuICAgIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PlxuICAgICAgY29uY2F0KHN1YnNjcmlwdGlvbkRlbGF5LnBpcGUodGFrZSgxKSwgaWdub3JlRWxlbWVudHMoKSksIHNvdXJjZS5waXBlKGRlbGF5V2hlbihkZWxheUR1cmF0aW9uU2VsZWN0b3IpKSk7XG4gIH1cblxuICByZXR1cm4gbWVyZ2VNYXAoKHZhbHVlLCBpbmRleCkgPT4gaW5uZXJGcm9tKGRlbGF5RHVyYXRpb25TZWxlY3Rvcih2YWx1ZSwgaW5kZXgpKS5waXBlKHRha2UoMSksIG1hcFRvKHZhbHVlKSkpO1xufVxuIiwiaW1wb3J0IHsgb2JzZXJ2ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlTm90aWZpY2F0aW9uLCBWYWx1ZUZyb21Ob3RpZmljYXRpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBPYnNlcnZhYmxlIG9mIHtAbGluayBPYnNlcnZhYmxlTm90aWZpY2F0aW9ufSBvYmplY3RzIGludG8gdGhlIGVtaXNzaW9uc1xuICogdGhhdCB0aGV5IHJlcHJlc2VudC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VW53cmFwcyB7QGxpbmsgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbn0gb2JqZWN0cyBhcyBhY3R1YWwgYG5leHRgLFxuICogYGVycm9yYCBhbmQgYGNvbXBsZXRlYCBlbWlzc2lvbnMuIFRoZSBvcHBvc2l0ZSBvZiB7QGxpbmsgbWF0ZXJpYWxpemV9Ljwvc3Bhbj5cbiAqXG4gKiAhW10oZGVtYXRlcmlhbGl6ZS5wbmcpXG4gKlxuICogYGRlbWF0ZXJpYWxpemVgIGlzIGFzc3VtZWQgdG8gb3BlcmF0ZSBhbiBPYnNlcnZhYmxlIHRoYXQgb25seSBlbWl0c1xuICoge0BsaW5rIE9ic2VydmFibGVOb3RpZmljYXRpb259IG9iamVjdHMgYXMgYG5leHRgIGVtaXNzaW9ucywgYW5kIGRvZXMgbm90IGVtaXQgYW55XG4gKiBgZXJyb3JgLiBTdWNoIE9ic2VydmFibGUgaXMgdGhlIG91dHB1dCBvZiBhIGBtYXRlcmlhbGl6ZWAgb3BlcmF0aW9uLiBUaG9zZVxuICogbm90aWZpY2F0aW9ucyBhcmUgdGhlbiB1bndyYXBwZWQgdXNpbmcgdGhlIG1ldGFkYXRhIHRoZXkgY29udGFpbiwgYW5kIGVtaXR0ZWRcbiAqIGFzIGBuZXh0YCwgYGVycm9yYCwgYW5kIGBjb21wbGV0ZWAgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqIFVzZSB0aGlzIG9wZXJhdG9yIGluIGNvbmp1bmN0aW9uIHdpdGgge0BsaW5rIG1hdGVyaWFsaXplfS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogQ29udmVydCBhbiBPYnNlcnZhYmxlIG9mIE5vdGlmaWNhdGlvbnMgdG8gYW4gYWN0dWFsIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgTmV4dE5vdGlmaWNhdGlvbiwgRXJyb3JOb3RpZmljYXRpb24sIG9mLCBkZW1hdGVyaWFsaXplIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgbm90aWZBOiBOZXh0Tm90aWZpY2F0aW9uPHN0cmluZz4gPSB7IGtpbmQ6ICdOJywgdmFsdWU6ICdBJyB9O1xuICogY29uc3Qgbm90aWZCOiBOZXh0Tm90aWZpY2F0aW9uPHN0cmluZz4gPSB7IGtpbmQ6ICdOJywgdmFsdWU6ICdCJyB9O1xuICogY29uc3Qgbm90aWZFOiBFcnJvck5vdGlmaWNhdGlvbiA9IHsga2luZDogJ0UnLCBlcnJvcjogbmV3IFR5cGVFcnJvcigneC50b1VwcGVyQ2FzZSBpcyBub3QgYSBmdW5jdGlvbicpIH07XG4gKlxuICogY29uc3QgbWF0ZXJpYWxpemVkID0gb2Yobm90aWZBLCBub3RpZkIsIG5vdGlmRSk7XG4gKlxuICogY29uc3QgdXBwZXJDYXNlID0gbWF0ZXJpYWxpemVkLnBpcGUoZGVtYXRlcmlhbGl6ZSgpKTtcbiAqIHVwcGVyQ2FzZS5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB4ID0+IGNvbnNvbGUubG9nKHgpLFxuICogICBlcnJvcjogZSA9PiBjb25zb2xlLmVycm9yKGUpXG4gKiB9KTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluOlxuICogLy8gQVxuICogLy8gQlxuICogLy8gVHlwZUVycm9yOiB4LnRvVXBwZXJDYXNlIGlzIG5vdCBhIGZ1bmN0aW9uXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXRlcmlhbGl6ZX1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBhbmRcbiAqIG5vdGlmaWNhdGlvbnMgZW1iZWRkZWQgaW4gTm90aWZpY2F0aW9uIG9iamVjdHMgZW1pdHRlZCBieSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVtYXRlcmlhbGl6ZTxOIGV4dGVuZHMgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbjxhbnk+PigpOiBPcGVyYXRvckZ1bmN0aW9uPE4sIFZhbHVlRnJvbU5vdGlmaWNhdGlvbjxOPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKG5vdGlmaWNhdGlvbikgPT4gb2JzZXJ2ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpKSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGFsbCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IGFyZSBkaXN0aW5jdCBieSBjb21wYXJpc29uIGZyb20gcHJldmlvdXMgaXRlbXMuXG4gKlxuICogSWYgYSBga2V5U2VsZWN0b3JgIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCB0aGVuIGl0IHdpbGwgcHJvamVjdCBlYWNoIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGludG8gYSBuZXcgdmFsdWUgdGhhdCBpdCB3aWxsXG4gKiBjaGVjayBmb3IgZXF1YWxpdHkgd2l0aCBwcmV2aW91c2x5IHByb2plY3RlZCB2YWx1ZXMuIElmIHRoZSBga2V5U2VsZWN0b3JgIGZ1bmN0aW9uIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCB1c2UgZWFjaCB2YWx1ZSBmcm9tIHRoZVxuICogc291cmNlIG9ic2VydmFibGUgZGlyZWN0bHkgd2l0aCBhbiBlcXVhbGl0eSBjaGVjayBhZ2FpbnN0IHByZXZpb3VzIHZhbHVlcy5cbiAqXG4gKiBJbiBKYXZhU2NyaXB0IHJ1bnRpbWVzIHRoYXQgc3VwcG9ydCBgU2V0YCwgdGhpcyBvcGVyYXRvciB3aWxsIHVzZSBhIGBTZXRgIHRvIGltcHJvdmUgcGVyZm9ybWFuY2Ugb2YgdGhlIGRpc3RpbmN0IHZhbHVlIGNoZWNraW5nLlxuICpcbiAqIEluIG90aGVyIHJ1bnRpbWVzLCB0aGlzIG9wZXJhdG9yIHdpbGwgdXNlIGEgbWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiBgU2V0YCB0aGF0IHJlbGllcyBvbiBhbiBgQXJyYXlgIGFuZCBgaW5kZXhPZmAgdW5kZXIgdGhlXG4gKiBob29kLCBzbyBwZXJmb3JtYW5jZSB3aWxsIGRlZ3JhZGUgYXMgbW9yZSB2YWx1ZXMgYXJlIGNoZWNrZWQgZm9yIGRpc3RpbmN0aW9uLiBFdmVuIGluIG5ld2VyIGJyb3dzZXJzLCBhIGxvbmctcnVubmluZyBgZGlzdGluY3RgXG4gKiB1c2UgbWlnaHQgcmVzdWx0IGluIG1lbW9yeSBsZWFrcy4gVG8gaGVscCBhbGxldmlhdGUgdGhpcyBpbiBzb21lIHNjZW5hcmlvcywgYW4gb3B0aW9uYWwgYGZsdXNoZXNgIHBhcmFtZXRlciBpcyBhbHNvIHByb3ZpZGVkIHNvXG4gKiB0aGF0IHRoZSBpbnRlcm5hbCBgU2V0YCBjYW4gYmUgXCJmbHVzaGVkXCIsIGJhc2ljYWxseSBjbGVhcmluZyBpdCBvZiB2YWx1ZXMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBBIHNpbXBsZSBleGFtcGxlIHdpdGggbnVtYmVyc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGlzdGluY3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAxLCAyLCAyLCAyLCAxLCAyLCAzLCA0LCAzLCAyLCAxKVxuICogICAucGlwZShkaXN0aW5jdCgpKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDRcbiAqIGBgYFxuICpcbiAqIEFuIGV4YW1wbGUgdXNpbmcgdGhlIGBrZXlTZWxlY3RvcmAgZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGRpc3RpbmN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoXG4gKiAgIHsgYWdlOiA0LCBuYW1lOiAnRm9vJ30sXG4gKiAgIHsgYWdlOiA3LCBuYW1lOiAnQmFyJ30sXG4gKiAgIHsgYWdlOiA1LCBuYW1lOiAnRm9vJ31cbiAqIClcbiAqIC5waXBlKGRpc3RpbmN0KCh7IG5hbWUgfSkgPT4gbmFtZSkpXG4gKiAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIHsgYWdlOiA0LCBuYW1lOiAnRm9vJyB9XG4gKiAvLyB7IGFnZTogNywgbmFtZTogJ0JhcicgfVxuICogYGBgXG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZH1cbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkfVxuICpcbiAqIEBwYXJhbSBrZXlTZWxlY3RvciBPcHRpb25hbCBgZnVuY3Rpb25gIHRvIHNlbGVjdCB3aGljaCB2YWx1ZSB5b3Ugd2FudCB0byBjaGVjayBhcyBkaXN0aW5jdC5cbiAqIEBwYXJhbSBmbHVzaGVzIE9wdGlvbmFsIGBPYnNlcnZhYmxlSW5wdXRgIGZvciBmbHVzaGluZyB0aGUgaW50ZXJuYWwgSGFzaFNldCBvZiB0aGUgb3BlcmF0b3IuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgd2l0aCBkaXN0aW5jdCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdDxULCBLPihrZXlTZWxlY3Rvcj86ICh2YWx1ZTogVCkgPT4gSywgZmx1c2hlcz86IE9ic2VydmFibGVJbnB1dDxhbnk+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGNvbnN0IGRpc3RpbmN0S2V5cyA9IG5ldyBTZXQoKTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlTZWxlY3RvciA/IGtleVNlbGVjdG9yKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICBpZiAoIWRpc3RpbmN0S2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgIGRpc3RpbmN0S2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG5cbiAgICBmbHVzaGVzICYmIGlubmVyRnJvbShmbHVzaGVzKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICgpID0+IGRpc3RpbmN0S2V5cy5jbGVhcigpLCBub29wKSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3RVbnRpbENoYW5nZWQ8VD4oY29tcGFyYXRvcj86IChwcmV2aW91czogVCwgY3VycmVudDogVCkgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZDxULCBLPihcbiAgY29tcGFyYXRvcjogKHByZXZpb3VzOiBLLCBjdXJyZW50OiBLKSA9PiBib29sZWFuLFxuICBrZXlTZWxlY3RvcjogKHZhbHVlOiBUKSA9PiBLXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogUmV0dXJucyBhIHJlc3VsdCB7QGxpbmsgT2JzZXJ2YWJsZX0gdGhhdCBlbWl0cyBhbGwgdmFsdWVzIHB1c2hlZCBieSB0aGUgc291cmNlIG9ic2VydmFibGUgaWYgdGhleVxuICogYXJlIGRpc3RpbmN0IGluIGNvbXBhcmlzb24gdG8gdGhlIGxhc3QgdmFsdWUgdGhlIHJlc3VsdCBvYnNlcnZhYmxlIGVtaXR0ZWQuXG4gKlxuICogV2hlbiBwcm92aWRlZCB3aXRob3V0IHBhcmFtZXRlcnMgb3Igd2l0aCB0aGUgZmlyc3QgcGFyYW1ldGVyIChge0BsaW5rIGRpc3RpbmN0VW50aWxDaGFuZ2VkI2NvbXBhcmF0b3IgY29tcGFyYXRvcn1gKSxcbiAqIGl0IGJlaGF2ZXMgbGlrZSB0aGlzOlxuICpcbiAqIDEuIEl0IHdpbGwgYWx3YXlzIGVtaXQgdGhlIGZpcnN0IHZhbHVlIGZyb20gdGhlIHNvdXJjZS5cbiAqIDIuIEZvciBhbGwgc3Vic2VxdWVudCB2YWx1ZXMgcHVzaGVkIGJ5IHRoZSBzb3VyY2UsIHRoZXkgd2lsbCBiZSBjb21wYXJlZCB0byB0aGUgcHJldmlvdXNseSBlbWl0dGVkIHZhbHVlc1xuICogICAgdXNpbmcgdGhlIHByb3ZpZGVkIGBjb21wYXJhdG9yYCBvciBhbiBgPT09YCBlcXVhbGl0eSBjaGVjay5cbiAqIDMuIElmIHRoZSB2YWx1ZSBwdXNoZWQgYnkgdGhlIHNvdXJjZSBpcyBkZXRlcm1pbmVkIHRvIGJlIHVuZXF1YWwgYnkgdGhpcyBjaGVjaywgdGhhdCB2YWx1ZSBpcyBlbWl0dGVkIGFuZFxuICogICAgYmVjb21lcyB0aGUgbmV3IFwicHJldmlvdXNseSBlbWl0dGVkIHZhbHVlXCIgaW50ZXJuYWxseS5cbiAqXG4gKiBXaGVuIHRoZSBzZWNvbmQgcGFyYW1ldGVyIChge0BsaW5rIGRpc3RpbmN0VW50aWxDaGFuZ2VkI2tleVNlbGVjdG9yIGtleVNlbGVjdG9yfWApIGlzIHByb3ZpZGVkLCB0aGUgYmVoYXZpb3JcbiAqIGNoYW5nZXM6XG4gKlxuICogMS4gSXQgd2lsbCBhbHdheXMgZW1pdCB0aGUgZmlyc3QgdmFsdWUgZnJvbSB0aGUgc291cmNlLlxuICogMi4gVGhlIGBrZXlTZWxlY3RvcmAgd2lsbCBiZSBydW4gYWdhaW5zdCBhbGwgdmFsdWVzLCBpbmNsdWRpbmcgdGhlIGZpcnN0IHZhbHVlLlxuICogMy4gRm9yIGFsbCB2YWx1ZXMgYWZ0ZXIgdGhlIGZpcnN0LCB0aGUgc2VsZWN0ZWQga2V5IHdpbGwgYmUgY29tcGFyZWQgYWdhaW5zdCB0aGUga2V5IHNlbGVjdGVkIGZyb21cbiAqICAgIHRoZSBwcmV2aW91c2x5IGVtaXR0ZWQgdmFsdWUgdXNpbmcgdGhlIGBjb21wYXJhdG9yYC5cbiAqIDQuIElmIHRoZSBrZXlzIGFyZSBkZXRlcm1pbmVkIHRvIGJlIHVuZXF1YWwgYnkgdGhpcyBjaGVjaywgdGhlIHZhbHVlIChub3QgdGhlIGtleSksIGlzIGVtaXR0ZWRcbiAqICAgIGFuZCB0aGUgc2VsZWN0ZWQga2V5IGZyb20gdGhhdCB2YWx1ZSBpcyBzYXZlZCBmb3IgZnV0dXJlIGNvbXBhcmlzb25zIGFnYWluc3Qgb3RoZXIga2V5cy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEEgdmVyeSBiYXNpYyBleGFtcGxlIHdpdGggbm8gYHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZCNjb21wYXJhdG9yIGNvbXBhcmF0b3J9YC4gTm90ZSB0aGF0IGAxYCBpcyBlbWl0dGVkIG1vcmUgdGhhbiBvbmNlLFxuICogYmVjYXVzZSBpdCdzIGRpc3RpbmN0IGluIGNvbXBhcmlzb24gdG8gdGhlIF9wcmV2aW91c2x5IGVtaXR0ZWRfIHZhbHVlLFxuICogbm90IGluIGNvbXBhcmlzb24gdG8gX2FsbCBvdGhlciBlbWl0dGVkIHZhbHVlc18uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKDEsIDEsIDEsIDIsIDIsIDIsIDEsIDEsIDMsIDMpXG4gKiAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpXG4gKiAgIC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogLy8gTG9nczogMSwgMiwgMSwgM1xuICogYGBgXG4gKlxuICogV2l0aCBhIGB7QGxpbmsgZGlzdGluY3RVbnRpbENoYW5nZWQjY29tcGFyYXRvciBjb21wYXJhdG9yfWAsIHlvdSBjYW4gZG8gY3VzdG9tIGNvbXBhcmlzb25zLiBMZXQncyBzYXlcbiAqIHlvdSBvbmx5IHdhbnQgdG8gZW1pdCBhIHZhbHVlIHdoZW4gYWxsIG9mIGl0cyBjb21wb25lbnRzIGhhdmVcbiAqIGNoYW5nZWQ6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHRvdGFsbHlEaWZmZXJlbnRCdWlsZHMkID0gb2YoXG4gKiAgIHsgZW5naW5lVmVyc2lvbjogJzEuMS4wJywgdHJhbnNtaXNzaW9uVmVyc2lvbjogJzEuMi4wJyB9LFxuICogICB7IGVuZ2luZVZlcnNpb246ICcxLjEuMCcsIHRyYW5zbWlzc2lvblZlcnNpb246ICcxLjQuMCcgfSxcbiAqICAgeyBlbmdpbmVWZXJzaW9uOiAnMS4zLjAnLCB0cmFuc21pc3Npb25WZXJzaW9uOiAnMS40LjAnIH0sXG4gKiAgIHsgZW5naW5lVmVyc2lvbjogJzEuMy4wJywgdHJhbnNtaXNzaW9uVmVyc2lvbjogJzEuNS4wJyB9LFxuICogICB7IGVuZ2luZVZlcnNpb246ICcyLjAuMCcsIHRyYW5zbWlzc2lvblZlcnNpb246ICcxLjUuMCcgfVxuICogKS5waXBlKFxuICogICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgocHJldiwgY3VycikgPT4ge1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICBwcmV2LmVuZ2luZVZlcnNpb24gPT09IGN1cnIuZW5naW5lVmVyc2lvbiB8fFxuICogICAgICAgcHJldi50cmFuc21pc3Npb25WZXJzaW9uID09PSBjdXJyLnRyYW5zbWlzc2lvblZlcnNpb25cbiAqICAgICApO1xuICogICB9KVxuICogKTtcbiAqXG4gKiB0b3RhbGx5RGlmZmVyZW50QnVpbGRzJC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyB7IGVuZ2luZVZlcnNpb246ICcxLjEuMCcsIHRyYW5zbWlzc2lvblZlcnNpb246ICcxLjIuMCcgfVxuICogLy8geyBlbmdpbmVWZXJzaW9uOiAnMS4zLjAnLCB0cmFuc21pc3Npb25WZXJzaW9uOiAnMS40LjAnIH1cbiAqIC8vIHsgZW5naW5lVmVyc2lvbjogJzIuMC4wJywgdHJhbnNtaXNzaW9uVmVyc2lvbjogJzEuNS4wJyB9XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhIGN1c3RvbSBge0BsaW5rIGRpc3RpbmN0VW50aWxDaGFuZ2VkI2NvbXBhcmF0b3IgY29tcGFyYXRvcn1gIHRvIGNoZWNrIHRoYXQgZW1pdHRlZFxuICogY2hhbmdlcyBhcmUgb25seSBpbiBvbmUgZGlyZWN0aW9uLiBMZXQncyBzYXkgeW91IG9ubHkgd2FudCB0byBnZXRcbiAqIHRoZSBuZXh0IHJlY29yZCB0ZW1wZXJhdHVyZTpcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgdGVtcHMkID0gb2YoMzAsIDMxLCAyMCwgMzQsIDMzLCAyOSwgMzUsIDIwKTtcbiAqXG4gKiBjb25zdCByZWNvcmRIaWdocyQgPSB0ZW1wcyQucGlwZShcbiAqICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKHByZXZIaWdoLCB0ZW1wKSA9PiB7XG4gKiAgICAgLy8gSWYgdGhlIGN1cnJlbnQgdGVtcCBpcyBsZXNzIHRoYW5cbiAqICAgICAvLyBvciB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcmVjb3JkLFxuICogICAgIC8vIHRoZSByZWNvcmQgaGFzbid0IGNoYW5nZWQuXG4gKiAgICAgcmV0dXJuIHRlbXAgPD0gcHJldkhpZ2g7XG4gKiAgIH0pXG4gKiApO1xuICpcbiAqIHJlY29yZEhpZ2hzJC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogLy8gTG9nczogMzAsIDMxLCAzNCwgMzVcbiAqIGBgYFxuICpcbiAqIFNlbGVjdGluZyB1cGRhdGUgZXZlbnRzIG9ubHkgd2hlbiB0aGUgYHVwZGF0ZWRCeWAgZmllbGQgc2hvd3NcbiAqIHRoZSBhY2NvdW50IGNoYW5nZWQgaGFuZHMuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIC8vIEEgc3RyZWFtIG9mIHVwZGF0ZXMgdG8gYSBnaXZlbiBhY2NvdW50XG4gKiBjb25zdCBhY2NvdW50VXBkYXRlcyQgPSBvZihcbiAqICAgeyB1cGRhdGVkQnk6ICdibGVzaCcsIGRhdGE6IFtdIH0sXG4gKiAgIHsgdXBkYXRlZEJ5OiAnYmxlc2gnLCBkYXRhOiBbXSB9LFxuICogICB7IHVwZGF0ZWRCeTogJ25jamFtaWVzb24nLCBkYXRhOiBbXSB9LFxuICogICB7IHVwZGF0ZWRCeTogJ25jamFtaWVzb24nLCBkYXRhOiBbXSB9LFxuICogICB7IHVwZGF0ZWRCeTogJ2JsZXNoJywgZGF0YTogW10gfVxuICogKTtcbiAqXG4gKiAvLyBXZSBvbmx5IHdhbnQgdGhlIGV2ZW50cyB3aGVyZSBpdCBjaGFuZ2VkIGhhbmRzXG4gKiBjb25zdCBjaGFuZ2VkSGFuZHMkID0gYWNjb3VudFVwZGF0ZXMkLnBpcGUoXG4gKiAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKHVuZGVmaW5lZCwgdXBkYXRlID0+IHVwZGF0ZS51cGRhdGVkQnkpXG4gKiApO1xuICpcbiAqIGNoYW5nZWRIYW5kcyQuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIC8vIExvZ3M6XG4gKiAvLyB7IHVwZGF0ZWRCeTogJ2JsZXNoJywgZGF0YTogQXJyYXlbMF0gfVxuICogLy8geyB1cGRhdGVkQnk6ICduY2phbWllc29uJywgZGF0YTogQXJyYXlbMF0gfVxuICogLy8geyB1cGRhdGVkQnk6ICdibGVzaCcsIGRhdGE6IEFycmF5WzBdIH1cbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0fVxuICogQHNlZSB7QGxpbmsgZGlzdGluY3RVbnRpbEtleUNoYW5nZWR9XG4gKlxuICogQHBhcmFtIGNvbXBhcmF0b3IgQSBmdW5jdGlvbiB1c2VkIHRvIGNvbXBhcmUgdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50IGtleXMgZm9yXG4gKiBlcXVhbGl0eS4gRGVmYXVsdHMgdG8gYSBgPT09YCBjaGVjay5cbiAqIEBwYXJhbSBrZXlTZWxlY3RvciBVc2VkIHRvIHNlbGVjdCBhIGtleSB2YWx1ZSB0byBiZSBwYXNzZWQgdG8gdGhlIGBjb21wYXJhdG9yYC5cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgd2l0aCBkaXN0aW5jdCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsQ2hhbmdlZDxULCBLPihcbiAgY29tcGFyYXRvcj86IChwcmV2aW91czogSywgY3VycmVudDogSykgPT4gYm9vbGVhbixcbiAga2V5U2VsZWN0b3I6ICh2YWx1ZTogVCkgPT4gSyA9IGlkZW50aXR5IGFzICh2YWx1ZTogVCkgPT4gS1xuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgLy8gV2UndmUgYmVlbiBhbGxvd2luZyBgbnVsbGAgZG8gYmUgcGFzc2VkIGFzIHRoZSBgY29tcGFyZWAsIHNvIHdlIGNhbid0IGRvXG4gIC8vIGEgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIHBhcmFtZXRlciwgYmVjYXVzZSB0aGF0IHdpbGwgb25seSB3b3JrXG4gIC8vIGZvciBgdW5kZWZpbmVkYC5cbiAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IgPz8gZGVmYXVsdENvbXBhcmU7XG5cbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBwcmV2aW91cyBrZXksIHVzZWQgdG8gY29tcGFyZSBhZ2FpbnN0IGtleXMgc2VsZWN0ZWRcbiAgICAvLyBmcm9tIG5ldyBhcnJpdmFscyB0byBkZXRlcm1pbmUgXCJkaXN0aW5jdGl2ZW5lc3NcIi5cbiAgICBsZXQgcHJldmlvdXNLZXk6IEs7XG4gICAgLy8gV2hldGhlciBvciBub3QgdGhpcyBpcyB0aGUgZmlyc3QgdmFsdWUgd2UndmUgZ290dGVuLlxuICAgIGxldCBmaXJzdCA9IHRydWU7XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4ge1xuICAgICAgICAvLyBXZSBhbHdheXMgY2FsbCB0aGUga2V5IHNlbGVjdG9yLlxuICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0ga2V5U2VsZWN0b3IodmFsdWUpO1xuXG4gICAgICAgIC8vIElmIGl0J3MgdGhlIGZpcnN0IHZhbHVlLCB3ZSBhbHdheXMgZW1pdCBpdC5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjb21wYXJlIHRoaXMga2V5IHRvIHRoZSBwcmV2aW91cyBrZXksIGFuZFxuICAgICAgICAvLyBpZiB0aGUgY29tcGFyZXIgcmV0dXJucyBmYWxzZSwgd2UgZW1pdC5cbiAgICAgICAgaWYgKGZpcnN0IHx8ICFjb21wYXJhdG9yIShwcmV2aW91c0tleSwgY3VycmVudEtleSkpIHtcbiAgICAgICAgICAvLyBVcGRhdGUgb3VyIHN0YXRlICpiZWZvcmUqIHdlIGVtaXQgdGhlIHZhbHVlXG4gICAgICAgICAgLy8gYXMgZW1pc3Npb24gY2FuIGJlIHRoZSBzb3VyY2Ugb2YgcmUtZW50cmFudCBjb2RlXG4gICAgICAgICAgLy8gaW4gZnVuY3Rpb25hbCBsaWJyYXJpZXMgbGlrZSB0aGlzLiBXZSBvbmx5IHJlYWxseVxuICAgICAgICAgIC8vIG5lZWQgdG8gZG8gdGhpcyBpZiBpdCdzIHRoZSBmaXJzdCB2YWx1ZSwgb3IgaWYgdGhlXG4gICAgICAgICAgLy8ga2V5IHdlJ3JlIHRyYWNraW5nIGluIHByZXZpb3VzIG5lZWRzIHRvIGNoYW5nZS5cbiAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgIHByZXZpb3VzS2V5ID0gY3VycmVudEtleTtcblxuICAgICAgICAgIC8vIEVtaXQgdGhlIHZhbHVlIVxuICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlKGE6IGFueSwgYjogYW55KSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuIiwiaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICcuL2Rpc3RpbmN0VW50aWxDaGFuZ2VkJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3RVbnRpbEtleUNoYW5nZWQ8VD4oa2V5OiBrZXlvZiBUKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEssIGNvbXBhcmU6ICh4OiBUW0tdLCB5OiBUW0tdKSA9PiBib29sZWFuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhbGwgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBhcmUgZGlzdGluY3QgYnkgY29tcGFyaXNvbiBmcm9tIHRoZSBwcmV2aW91cyBpdGVtLFxuICogdXNpbmcgYSBwcm9wZXJ0eSBhY2Nlc3NlZCBieSB1c2luZyB0aGUga2V5IHByb3ZpZGVkIHRvIGNoZWNrIGlmIHRoZSB0d28gaXRlbXMgYXJlIGRpc3RpbmN0LlxuICpcbiAqIElmIGEgY29tcGFyYXRvciBmdW5jdGlvbiBpcyBwcm92aWRlZCwgdGhlbiBpdCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBpdGVtIHRvIHRlc3QgZm9yIHdoZXRoZXIgb3Igbm90IHRoYXQgdmFsdWUgc2hvdWxkIGJlIGVtaXR0ZWQuXG4gKlxuICogSWYgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIGlzIG5vdCBwcm92aWRlZCwgYW4gZXF1YWxpdHkgY2hlY2sgaXMgdXNlZCBieSBkZWZhdWx0LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQW4gZXhhbXBsZSBjb21wYXJpbmcgdGhlIG5hbWUgb2YgcGVyc29uc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihcbiAqICAgeyBhZ2U6IDQsIG5hbWU6ICdGb28nIH0sXG4gKiAgIHsgYWdlOiA3LCBuYW1lOiAnQmFyJyB9LFxuICogICB7IGFnZTogNSwgbmFtZTogJ0ZvbycgfSxcbiAqICAgeyBhZ2U6IDYsIG5hbWU6ICdGb28nIH1cbiAqICkucGlwZShcbiAqICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoJ25hbWUnKVxuICogKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBkaXNwbGF5czpcbiAqIC8vIHsgYWdlOiA0LCBuYW1lOiAnRm9vJyB9XG4gKiAvLyB7IGFnZTogNywgbmFtZTogJ0JhcicgfVxuICogLy8geyBhZ2U6IDUsIG5hbWU6ICdGb28nIH1cbiAqIGBgYFxuICpcbiAqIEFuIGV4YW1wbGUgY29tcGFyaW5nIHRoZSBmaXJzdCBsZXR0ZXJzIG9mIHRoZSBuYW1lXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKFxuICogICB7IGFnZTogNCwgbmFtZTogJ0ZvbzEnIH0sXG4gKiAgIHsgYWdlOiA3LCBuYW1lOiAnQmFyJyB9LFxuICogICB7IGFnZTogNSwgbmFtZTogJ0ZvbzInIH0sXG4gKiAgIHsgYWdlOiA2LCBuYW1lOiAnRm9vMycgfVxuICogKS5waXBlKFxuICogICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCgnbmFtZScsICh4LCB5KSA9PiB4LnN1YnN0cmluZygwLCAzKSA9PT0geS5zdWJzdHJpbmcoMCwgMykpXG4gKiApXG4gKiAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIGRpc3BsYXlzOlxuICogLy8geyBhZ2U6IDQsIG5hbWU6ICdGb28xJyB9XG4gKiAvLyB7IGFnZTogNywgbmFtZTogJ0JhcicgfVxuICogLy8geyBhZ2U6IDUsIG5hbWU6ICdGb28yJyB9XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdH1cbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0VW50aWxDaGFuZ2VkfVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgU3RyaW5nIGtleSBmb3Igb2JqZWN0IHByb3BlcnR5IGxvb2t1cCBvbiBlYWNoIGl0ZW0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY29tcGFyZV0gT3B0aW9uYWwgY29tcGFyaXNvbiBmdW5jdGlvbiBjYWxsZWQgdG8gdGVzdCBpZiBhbiBpdGVtIGlzIGRpc3RpbmN0IGZyb20gdGhlIHByZXZpb3VzIGl0ZW0gaW4gdGhlIHNvdXJjZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIGRpc3RpbmN0IHZhbHVlcyBiYXNlZCBvbiB0aGUga2V5IHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEssIGNvbXBhcmU/OiAoeDogVFtLXSwgeTogVFtLXSkgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBkaXN0aW5jdFVudGlsQ2hhbmdlZCgoeDogVCwgeTogVCkgPT4gY29tcGFyZSA/IGNvbXBhcmUoeFtrZXldLCB5W2tleV0pIDogeFtrZXldID09PSB5W2tleV0pO1xufVxuIiwiaW1wb3J0IHsgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgfSBmcm9tICcuLi91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyB0aHJvd0lmRW1wdHkgfSBmcm9tICcuL3Rocm93SWZFbXB0eSc7XG5pbXBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vZGVmYXVsdElmRW1wdHknO1xuaW1wb3J0IHsgdGFrZSB9IGZyb20gJy4vdGFrZSc7XG5cbi8qKlxuICogRW1pdHMgdGhlIHNpbmdsZSB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIGBpbmRleGAgaW4gYSBzZXF1ZW5jZSBvZiBlbWlzc2lvbnNcbiAqIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FbWl0cyBvbmx5IHRoZSBpLXRoIHZhbHVlLCB0aGVuIGNvbXBsZXRlcy48L3NwYW4+XG4gKlxuICogIVtdKGVsZW1lbnRBdC5wbmcpXG4gKlxuICogYGVsZW1lbnRBdGAgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZFxuICogYGluZGV4YCBpbiB0aGUgc291cmNlIE9ic2VydmFibGUsIG9yIGEgZGVmYXVsdCB2YWx1ZSBpZiB0aGF0IGBpbmRleGAgaXMgb3V0XG4gKiBvZiByYW5nZSBhbmQgdGhlIGBkZWZhdWx0YCBhcmd1bWVudCBpcyBwcm92aWRlZC4gSWYgdGhlIGBkZWZhdWx0YCBhcmd1bWVudCBpc1xuICogbm90IGdpdmVuIGFuZCB0aGUgYGluZGV4YCBpcyBvdXQgb2YgcmFuZ2UsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSB3aWxsIGVtaXQgYW5cbiAqIGBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcmAgZXJyb3IuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgb25seSB0aGUgdGhpcmQgY2xpY2sgZXZlbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBlbGVtZW50QXQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoZWxlbWVudEF0KDIpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbjpcbiAqIC8vIGNsaWNrIDEgPSBub3RoaW5nXG4gKiAvLyBjbGljayAyID0gbm90aGluZ1xuICogLy8gY2xpY2sgMyA9IE1vdXNlRXZlbnQgb2JqZWN0IGxvZ2dlZCB0byBjb25zb2xlXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaXJzdH1cbiAqIEBzZWUge0BsaW5rIGxhc3R9XG4gKiBAc2VlIHtAbGluayBza2lwfVxuICogQHNlZSB7QGxpbmsgc2luZ2xlfVxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqXG4gKiBAdGhyb3dzIHtBcmd1bWVudE91dE9mUmFuZ2VFcnJvcn0gV2hlbiB1c2luZyBgZWxlbWVudEF0KGkpYCwgaXQgZGVsaXZlcnMgYW5cbiAqIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIHRvIHRoZSBPYnNlcnZlcidzIGBlcnJvcmAgY2FsbGJhY2sgaWYgYGkgPCAwYCBvciB0aGVcbiAqIE9ic2VydmFibGUgaGFzIGNvbXBsZXRlZCBiZWZvcmUgZW1pdHRpbmcgdGhlIGktdGggYG5leHRgIG5vdGlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSXMgdGhlIG51bWJlciBgaWAgZm9yIHRoZSBpLXRoIHNvdXJjZSBlbWlzc2lvbiB0aGF0IGhhc1xuICogaGFwcGVuZWQgc2luY2UgdGhlIHN1YnNjcmlwdGlvbiwgc3RhcnRpbmcgZnJvbSB0aGUgbnVtYmVyIGAwYC5cbiAqIEBwYXJhbSB7VH0gW2RlZmF1bHRWYWx1ZV0gVGhlIGRlZmF1bHQgdmFsdWUgcmV0dXJuZWQgZm9yIG1pc3NpbmcgaW5kaWNlcy5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGEgc2luZ2xlIGl0ZW0sIGlmXG4gKiBpdCBpcyBmb3VuZC4gT3RoZXJ3aXNlLCBpdCB3aWxsIGVtaXQgdGhlIGRlZmF1bHQgdmFsdWUgaWYgZ2l2ZW4uIElmIG5vdCwgaXRcbiAqIGVtaXRzIGFuIGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudEF0PFQsIEQgPSBUPihpbmRleDogbnVtYmVyLCBkZWZhdWx0VmFsdWU/OiBEKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD4ge1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgdGhyb3cgbmV3IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yKCk7XG4gIH1cbiAgY29uc3QgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cbiAgICBzb3VyY2UucGlwZShcbiAgICAgIGZpbHRlcigodiwgaSkgPT4gaSA9PT0gaW5kZXgpLFxuICAgICAgdGFrZSgxKSxcbiAgICAgIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSEpIDogdGhyb3dJZkVtcHR5KCgpID0+IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcigpKVxuICAgICk7XG59XG4iLCIvKiogcHJldHRpZXIgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4uL29ic2VydmFibGUvY29uY2F0JztcbmltcG9ydCB7IG9mIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UsIE9wZXJhdG9yRnVuY3Rpb24sIFZhbHVlRnJvbUFycmF5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYGNvbmNhdEFsbGAuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3NjaGVkdWxlci1hcmd1bWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZFdpdGg8VD4oc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHNjaGVkdWxlZGAgYW5kIGBjb25jYXRBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRXaXRoPFQsIEEgZXh0ZW5kcyB1bmtub3duW10gPSBUW10+KFxuICAuLi52YWx1ZXNBbmRTY2hlZHVsZXI6IFsuLi5BLCBTY2hlZHVsZXJMaWtlXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgVmFsdWVGcm9tQXJyYXk8QT4+O1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kV2l0aDxULCBBIGV4dGVuZHMgdW5rbm93bltdID0gVFtdPiguLi52YWx1ZXM6IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBWYWx1ZUZyb21BcnJheTxBPj47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBlbWl0IGFsbCB2YWx1ZXMgZnJvbSB0aGUgc291cmNlLCB0aGVuIHN5bmNocm9ub3VzbHkgZW1pdFxuICogdGhlIHByb3ZpZGVkIHZhbHVlKHMpIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBzb3VyY2UgY29tcGxldGVzLlxuICpcbiAqIE5PVEU6IFBhc3NpbmcgYSBsYXN0IGFyZ3VtZW50IG9mIGEgU2NoZWR1bGVyIGlzIF9kZXByZWNhdGVkXywgYW5kIG1heSByZXN1bHQgaW4gaW5jb3JyZWN0XG4gKiB0eXBlcyBpbiBUeXBlU2NyaXB0LlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBrbm93aW5nIHdoZW4gYW4gb2JzZXJ2YWJsZSBlbmRzLiBQYXJ0aWN1bGFybHkgd2hlbiBwYWlyZWQgd2l0aCBhblxuICogb3BlcmF0b3IgbGlrZSB7QGxpbmsgdGFrZVVudGlsfVxuICpcbiAqICFbXShlbmRXaXRoLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCB2YWx1ZXMgdG8ga25vdyB3aGVuIGFuIGludGVydmFsIHN0YXJ0cyBhbmQgc3RvcHMuIFRoZSBpbnRlcnZhbCB3aWxsXG4gKiBzdG9wIHdoZW4gYSB1c2VyIGNsaWNrcyBhbnl3aGVyZSBvbiB0aGUgZG9jdW1lbnQuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBtYXAsIGZyb21FdmVudCwgc3RhcnRXaXRoLCB0YWtlVW50aWwsIGVuZFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0aWNrZXIkID0gaW50ZXJ2YWwoNTAwMCkucGlwZShcbiAqICAgbWFwKCgpID0+ICd0aWNrJylcbiAqICk7XG4gKlxuICogY29uc3QgZG9jdW1lbnRDbGlja3MkID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqXG4gKiB0aWNrZXIkLnBpcGUoXG4gKiAgIHN0YXJ0V2l0aCgnaW50ZXJ2YWwgc3RhcnRlZCcpLFxuICogICB0YWtlVW50aWwoZG9jdW1lbnRDbGlja3MkKSxcbiAqICAgZW5kV2l0aCgnaW50ZXJ2YWwgZW5kZWQgYnkgY2xpY2snKVxuICogKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHQgKGFzc3VtaW5nIGEgdXNlciBjbGlja3MgYWZ0ZXIgMTUgc2Vjb25kcylcbiAqIC8vICdpbnRlcnZhbCBzdGFydGVkJ1xuICogLy8gJ3RpY2snXG4gKiAvLyAndGljaydcbiAqIC8vICd0aWNrJ1xuICogLy8gJ2ludGVydmFsIGVuZGVkIGJ5IGNsaWNrJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgc3RhcnRXaXRofVxuICogQHNlZSB7QGxpbmsgY29uY2F0fVxuICogQHNlZSB7QGxpbmsgdGFrZVVudGlsfVxuICpcbiAqIEBwYXJhbSB2YWx1ZXMgSXRlbXMgeW91IHdhbnQgdGhlIG1vZGlmaWVkIE9ic2VydmFibGUgdG8gZW1pdCBsYXN0LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYWxsIHZhbHVlcyBmcm9tIHRoZVxuICogc291cmNlLCB0aGVuIHN5bmNocm9ub3VzbHkgZW1pdHMgdGhlIHByb3ZpZGVkIHZhbHVlKHMpIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICogc291cmNlIGNvbXBsZXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZFdpdGg8VD4oLi4udmFsdWVzOiBBcnJheTxUIHwgU2NoZWR1bGVyTGlrZT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gY29uY2F0KHNvdXJjZSwgb2YoLi4udmFsdWVzKSkgYXMgT2JzZXJ2YWJsZTxUPjtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEZhbHN5LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBldmVyeTxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgRXhjbHVkZTxULCBGYWxzeT4gZXh0ZW5kcyBuZXZlciA/IGZhbHNlIDogYm9vbGVhbj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZXZlcnk8VD4oXG4gIHByZWRpY2F0ZTogQm9vbGVhbkNvbnN0cnVjdG9yLFxuICB0aGlzQXJnOiBhbnlcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgRXhjbHVkZTxULCBGYWxzeT4gZXh0ZW5kcyBuZXZlciA/IGZhbHNlIDogYm9vbGVhbj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZXZlcnk8VCwgQT4oXG4gIHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4sXG4gIHRoaXNBcmc6IEFcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgYm9vbGVhbj47XG5leHBvcnQgZnVuY3Rpb24gZXZlcnk8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgYm9vbGVhbj47XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2hldGhlciBvciBub3QgZXZlcnkgaXRlbSBvZiB0aGUgc291cmNlIHNhdGlzZmllcyB0aGUgY29uZGl0aW9uIHNwZWNpZmllZC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SWYgYWxsIHZhbHVlcyBwYXNzIHByZWRpY2F0ZSBiZWZvcmUgdGhlIHNvdXJjZSBjb21wbGV0ZXMsIGVtaXRzIHRydWUgYmVmb3JlIGNvbXBsZXRpb24sXG4gKiBvdGhlcndpc2UgZW1pdCBmYWxzZSwgdGhlbiBjb21wbGV0ZS48L3NwYW4+XG4gKlxuICogIVtdKGV2ZXJ5LnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogQSBzaW1wbGUgZXhhbXBsZSBlbWl0dGluZyB0cnVlIGlmIGFsbCBlbGVtZW50cyBhcmUgbGVzcyB0aGFuIDUsIGZhbHNlIG90aGVyd2lzZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZXZlcnkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAyLCAzLCA0LCA1LCA2KVxuICogICAucGlwZShldmVyeSh4ID0+IHggPCA1KSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTsgLy8gLT4gZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHByZWRpY2F0ZSBBIGZ1bmN0aW9uIGZvciBkZXRlcm1pbmluZyBpZiBhbiBpdGVtIG1lZXRzIGEgc3BlY2lmaWVkIGNvbmRpdGlvbi5cbiAqIEBwYXJhbSB7YW55fSBbdGhpc0FyZ10gT3B0aW9uYWwgb2JqZWN0IHRvIHVzZSBmb3IgYHRoaXNgIGluIHRoZSBjYWxsYmFjay5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBib29sZWFucyB0aGF0IGRldGVybWluZXMgaWZcbiAqIGFsbCBpdGVtcyBvZiB0aGUgc291cmNlIE9ic2VydmFibGUgbWVldCB0aGUgY29uZGl0aW9uIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICB0aGlzQXJnPzogYW55XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIGJvb2xlYW4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKywgc291cmNlKSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodHJ1ZSk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBleGhhdXN0QWxsIH0gZnJvbSAnLi9leGhhdXN0QWxsJztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZW5hbWVkIHRvIHtAbGluayBleGhhdXN0QWxsfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgY29uc3QgZXhoYXVzdCA9IGV4aGF1c3RBbGw7XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGV4aGF1c3RNYXAgfSBmcm9tICcuL2V4aGF1c3RNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlIGludG8gYSBmaXJzdC1vcmRlciBPYnNlcnZhYmxlIGJ5IGRyb3BwaW5nXG4gKiBpbm5lciBPYnNlcnZhYmxlcyB3aGlsZSB0aGUgcHJldmlvdXMgaW5uZXIgT2JzZXJ2YWJsZSBoYXMgbm90IHlldCBjb21wbGV0ZWQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIGFuIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMgYnkgZHJvcHBpbmcgdGhlXG4gKiBuZXh0IGlubmVyIE9ic2VydmFibGVzIHdoaWxlIHRoZSBjdXJyZW50IGlubmVyIGlzIHN0aWxsIGV4ZWN1dGluZy48L3NwYW4+XG4gKlxuICogIVtdKGV4aGF1c3QucG5nKVxuICpcbiAqIGBleGhhdXN0QWxsYCBzdWJzY3JpYmVzIHRvIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBPYnNlcnZhYmxlcywgYWxzbyBrbm93biBhcyBhXG4gKiBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZS4gRWFjaCB0aW1lIGl0IG9ic2VydmVzIG9uZSBvZiB0aGVzZSBlbWl0dGVkIGlubmVyXG4gKiBPYnNlcnZhYmxlcywgdGhlIG91dHB1dCBPYnNlcnZhYmxlIGJlZ2lucyBlbWl0dGluZyB0aGUgaXRlbXMgZW1pdHRlZCBieSB0aGF0XG4gKiBpbm5lciBPYnNlcnZhYmxlLiBTbyBmYXIsIGl0IGJlaGF2ZXMgbGlrZSB7QGxpbmsgbWVyZ2VBbGx9LiBIb3dldmVyLFxuICogYGV4aGF1c3RBbGxgIGlnbm9yZXMgZXZlcnkgbmV3IGlubmVyIE9ic2VydmFibGUgaWYgdGhlIHByZXZpb3VzIE9ic2VydmFibGUgaGFzXG4gKiBub3QgeWV0IGNvbXBsZXRlZC4gT25jZSB0aGF0IG9uZSBjb21wbGV0ZXMsIGl0IHdpbGwgYWNjZXB0IGFuZCBmbGF0dGVuIHRoZVxuICogbmV4dCBpbm5lciBPYnNlcnZhYmxlIGFuZCByZXBlYXQgdGhpcyBwcm9jZXNzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBSdW4gYSBmaW5pdGUgdGltZXIgZm9yIGVhY2ggY2xpY2ssIG9ubHkgaWYgdGhlcmUgaXMgbm8gY3VycmVudGx5IGFjdGl2ZSB0aW1lclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCwgaW50ZXJ2YWwsIHRha2UsIGV4aGF1c3RBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgaGlnaGVyT3JkZXIgPSBjbGlja3MucGlwZShcbiAqICAgbWFwKCgpID0+IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg1KSkpXG4gKiApO1xuICogY29uc3QgcmVzdWx0ID0gaGlnaGVyT3JkZXIucGlwZShleGhhdXN0QWxsKCkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbWJpbmVMYXRlc3RBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXRBbGx9XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hBbGx9XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZUFsbH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RNYXB9XG4gKiBAc2VlIHtAbGluayB6aXBBbGx9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgdGFrZXMgYSBzb3VyY2Ugb2ZcbiAqIE9ic2VydmFibGVzIGFuZCBwcm9wYWdhdGVzIHRoZSBmaXJzdCBPYnNlcnZhYmxlIGV4Y2x1c2l2ZWx5IHVudGlsIGl0XG4gKiBjb21wbGV0ZXMgYmVmb3JlIHN1YnNjcmliaW5nIHRvIHRoZSBuZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdEFsbDxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KCk6IE9wZXJhdG9yRnVuY3Rpb248TywgT2JzZXJ2ZWRWYWx1ZU9mPE8+PiB7XG4gIHJldHVybiBleGhhdXN0TWFwKGlkZW50aXR5KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4aGF1c3RNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdE1hcDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiB1bmRlZmluZWRcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBleGhhdXN0TWFwPFQsIEksIFI+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxJPixcbiAgcmVzdWx0U2VsZWN0b3I6IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBJLCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUHJvamVjdHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSB3aGljaCBpcyBtZXJnZWQgaW4gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZSBvbmx5IGlmIHRoZSBwcmV2aW91cyBwcm9qZWN0ZWQgT2JzZXJ2YWJsZSBoYXMgY29tcGxldGVkLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5NYXBzIGVhY2ggdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSwgdGhlbiBmbGF0dGVucyBhbGwgb2ZcbiAqIHRoZXNlIGlubmVyIE9ic2VydmFibGVzIHVzaW5nIHtAbGluayBleGhhdXN0fS48L3NwYW4+XG4gKlxuICogIVtdKGV4aGF1c3RNYXAucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGJhc2VkIG9uIGFwcGx5aW5nIGEgZnVuY3Rpb24gdGhhdCB5b3VcbiAqIHN1cHBseSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHdoZXJlIHRoYXQgZnVuY3Rpb25cbiAqIHJldHVybnMgYW4gKHNvLWNhbGxlZCBcImlubmVyXCIpIE9ic2VydmFibGUuIFdoZW4gaXQgcHJvamVjdHMgYSBzb3VyY2UgdmFsdWUgdG9cbiAqIGFuIE9ic2VydmFibGUsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBiZWdpbnMgZW1pdHRpbmcgdGhlIGl0ZW1zIGVtaXR0ZWQgYnlcbiAqIHRoYXQgcHJvamVjdGVkIE9ic2VydmFibGUuIEhvd2V2ZXIsIGBleGhhdXN0TWFwYCBpZ25vcmVzIGV2ZXJ5IG5ldyBwcm9qZWN0ZWRcbiAqIE9ic2VydmFibGUgaWYgdGhlIHByZXZpb3VzIHByb2plY3RlZCBPYnNlcnZhYmxlIGhhcyBub3QgeWV0IGNvbXBsZXRlZC4gT25jZVxuICogdGhhdCBvbmUgY29tcGxldGVzLCBpdCB3aWxsIGFjY2VwdCBhbmQgZmxhdHRlbiB0aGUgbmV4dCBwcm9qZWN0ZWQgT2JzZXJ2YWJsZVxuICogYW5kIHJlcGVhdCB0aGlzIHByb2Nlc3MuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFJ1biBhIGZpbml0ZSB0aW1lciBmb3IgZWFjaCBjbGljaywgb25seSBpZiB0aGVyZSBpcyBubyBjdXJyZW50bHkgYWN0aXZlIHRpbWVyXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZXhoYXVzdE1hcCwgaW50ZXJ2YWwsIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIGV4aGF1c3RNYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDUpKSlcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsID9pbmRleDogbnVtYmVyKTogT2JzZXJ2YWJsZUlucHV0fSBwcm9qZWN0IEEgZnVuY3Rpb25cbiAqIHRoYXQsIHdoZW4gYXBwbGllZCB0byBhbiBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCByZXR1cm5zIGFuXG4gKiBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIGNvbnRhaW5pbmcgcHJvamVjdGVkXG4gKiBPYnNlcnZhYmxlcyBvZiBlYWNoIGl0ZW0gb2YgdGhlIHNvdXJjZSwgaWdub3JpbmcgcHJvamVjdGVkIE9ic2VydmFibGVzIHRoYXRcbiAqIHN0YXJ0IGJlZm9yZSB0aGVpciBwcmVjZWRpbmcgT2JzZXJ2YWJsZSBoYXMgY29tcGxldGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdE1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAvLyBERVBSRUNBVEVEIFBBVEhcbiAgICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cbiAgICAgIHNvdXJjZS5waXBlKGV4aGF1c3RNYXAoKGEsIGkpID0+IGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcCgoYjogYW55LCBpaTogYW55KSA9PiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSkpKSkpO1xuICB9XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBpbm5lclN1YjogU3Vic2NyaWJlcjxUPiB8IG51bGwgPSBudWxsO1xuICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKG91dGVyVmFsdWUpID0+IHtcbiAgICAgICAgICBpZiAoIWlubmVyU3ViKSB7XG4gICAgICAgICAgICBpbm5lclN1YiA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsICgpID0+IHtcbiAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5uZXJGcm9tKHByb2plY3Qob3V0ZXJWYWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShpbm5lclN1Yik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgIWlubmVyU3ViICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG1lcmdlSW50ZXJuYWxzIH0gZnJvbSAnLi9tZXJnZUludGVybmFscyc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICBjb25jdXJyZW50PzogbnVtYmVyLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBJZiB5b3UgbmVlZCB0byBzY2hlZHVsZSB0aGUgaW5uZXIgc3Vic2NyaXB0aW9uLFxuICogdXNlIGBzdWJzY3JpYmVPbmAgd2l0aGluIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uOiBgZXhwYW5kKCh2YWx1ZSkgPT4gZm4odmFsdWUpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSkpYC5cbiAqIERldGFpbHM6IERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3NjaGVkdWxlci1hcmd1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIGNvbmN1cnJlbnQ6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHByb2plY3RzIGVhY2ggc291cmNlIHZhbHVlIHRvIGFuIE9ic2VydmFibGUgd2hpY2ggaXMgbWVyZ2VkIGluXG4gKiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3Mgc2ltaWxhciB0byB7QGxpbmsgbWVyZ2VNYXB9LCBidXQgYXBwbGllcyB0aGVcbiAqIHByb2plY3Rpb24gZnVuY3Rpb24gdG8gZXZlcnkgc291cmNlIHZhbHVlIGFzIHdlbGwgYXMgZXZlcnkgb3V0cHV0IHZhbHVlLlxuICogSXQncyByZWN1cnNpdmUuPC9zcGFuPlxuICpcbiAqICFbXShleHBhbmQucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGJhc2VkIG9uIGFwcGx5aW5nIGEgZnVuY3Rpb24gdGhhdCB5b3VcbiAqIHN1cHBseSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHdoZXJlIHRoYXQgZnVuY3Rpb25cbiAqIHJldHVybnMgYW4gT2JzZXJ2YWJsZSwgYW5kIHRoZW4gbWVyZ2luZyB0aG9zZSByZXN1bHRpbmcgT2JzZXJ2YWJsZXMgYW5kXG4gKiBlbWl0dGluZyB0aGUgcmVzdWx0cyBvZiB0aGlzIG1lcmdlci4gKkV4cGFuZCogd2lsbCByZS1lbWl0IG9uIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUgZXZlcnkgc291cmNlIHZhbHVlLiBUaGVuLCBlYWNoIG91dHB1dCB2YWx1ZSBpcyBnaXZlbiB0byB0aGVcbiAqIGBwcm9qZWN0YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIGlubmVyIE9ic2VydmFibGUgdG8gYmUgbWVyZ2VkIG9uIHRoZVxuICogb3V0cHV0IE9ic2VydmFibGUuIFRob3NlIG91dHB1dCB2YWx1ZXMgcmVzdWx0aW5nIGZyb20gdGhlIHByb2plY3Rpb24gYXJlIGFsc29cbiAqIGdpdmVuIHRvIHRoZSBgcHJvamVjdGAgZnVuY3Rpb24gdG8gcHJvZHVjZSBuZXcgb3V0cHV0IHZhbHVlcy4gVGhpcyBpcyBob3dcbiAqICpleHBhbmQqIGJlaGF2ZXMgcmVjdXJzaXZlbHkuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFN0YXJ0IGVtaXR0aW5nIHRoZSBwb3dlcnMgb2YgdHdvIG9uIGV2ZXJ5IGNsaWNrLCBhdCBtb3N0IDEwIG9mIHRoZW1cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGV4cGFuZCwgb2YsIGRlbGF5LCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHBvd2Vyc09mVHdvID0gY2xpY2tzLnBpcGUoXG4gKiAgIG1hcCgoKSA9PiAxKSxcbiAqICAgZXhwYW5kKHggPT4gb2YoMiAqIHgpLnBpcGUoZGVsYXkoMTAwMCkpKSxcbiAqICAgdGFrZSgxMClcbiAqICk7XG4gKiBwb3dlcnNPZlR3by5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlfSBwcm9qZWN0IEEgZnVuY3Rpb25cbiAqIHRoYXQsIHdoZW4gYXBwbGllZCB0byBhbiBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBvciB0aGUgb3V0cHV0IE9ic2VydmFibGUsXG4gKiByZXR1cm5zIGFuIE9ic2VydmFibGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9SW5maW5pdHldIE1heGltdW0gbnVtYmVyIG9mIGlucHV0XG4gKiBPYnNlcnZhYmxlcyBiZWluZyBzdWJzY3JpYmVkIHRvIGNvbmN1cnJlbnRseS5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcj1udWxsXSBUaGUge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHVzZSBmb3Igc3Vic2NyaWJpbmcgdG9cbiAqIGVhY2ggcHJvamVjdGVkIGlubmVyIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgc291cmNlIHZhbHVlc1xuICogYW5kIGFsc28gcmVzdWx0IG9mIGFwcGx5aW5nIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIHRvIGVhY2ggdmFsdWUgZW1pdHRlZCBvblxuICogdGhlIG91dHB1dCBPYnNlcnZhYmxlIGFuZCBtZXJnaW5nIHRoZSByZXN1bHRzIG9mIHRoZSBPYnNlcnZhYmxlcyBvYnRhaW5lZFxuICogZnJvbSB0aGlzIHRyYW5zZm9ybWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIGNvbmN1cnJlbnQgPSBJbmZpbml0eSxcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+IHtcbiAgY29uY3VycmVudCA9IChjb25jdXJyZW50IHx8IDApIDwgMSA/IEluZmluaXR5IDogY29uY3VycmVudDtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT5cbiAgICBtZXJnZUludGVybmFscyhcbiAgICAgIC8vIEdlbmVyYWwgbWVyZ2UgcGFyYW1zXG4gICAgICBzb3VyY2UsXG4gICAgICBzdWJzY3JpYmVyLFxuICAgICAgcHJvamVjdCxcbiAgICAgIGNvbmN1cnJlbnQsXG5cbiAgICAgIC8vIG9uQmVmb3JlTmV4dFxuICAgICAgdW5kZWZpbmVkLFxuXG4gICAgICAvLyBFeHBhbmQtc3BlY2lmaWNcbiAgICAgIHRydWUsIC8vIFVzZSBleHBhbmQgcGF0aFxuICAgICAgc2NoZWR1bGVyIC8vIElubmVyIHN1YnNjcmlwdGlvbiBzY2hlZHVsZXJcbiAgICApXG4gICk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFRydXRoeVR5cGVzT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxULCBTIGV4dGVuZHMgVCwgQT4ocHJlZGljYXRlOiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZhbHVlIGlzIFMsIHRoaXNBcmc6IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFM+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxULCBTIGV4dGVuZHMgVD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZhbHVlIGlzIFMpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFM+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyPFQsIEE+KHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLCB0aGlzQXJnOiBBKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBGaWx0ZXIgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYnkgb25seSBlbWl0dGluZyB0aG9zZSB0aGF0XG4gKiBzYXRpc2Z5IGEgc3BlY2lmaWVkIHByZWRpY2F0ZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TGlrZVxuICogW0FycmF5LnByb3RvdHlwZS5maWx0ZXIoKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmlsdGVyKSxcbiAqIGl0IG9ubHkgZW1pdHMgYSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgaWYgaXQgcGFzc2VzIGEgY3JpdGVyaW9uIGZ1bmN0aW9uLjwvc3Bhbj5cbiAqXG4gKiAhW10oZmlsdGVyLnBuZylcbiAqXG4gKiBTaW1pbGFyIHRvIHRoZSB3ZWxsLWtub3duIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2QsIHRoaXMgb3BlcmF0b3JcbiAqIHRha2VzIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcGFzc2VzIHRoZW0gdGhyb3VnaCBhIGBwcmVkaWNhdGVgXG4gKiBmdW5jdGlvbiBhbmQgb25seSBlbWl0cyB0aG9zZSB2YWx1ZXMgdGhhdCB5aWVsZGVkIGB0cnVlYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCBvbmx5IGNsaWNrIGV2ZW50cyB3aG9zZSB0YXJnZXQgd2FzIGEgRElWIGVsZW1lbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBmaWx0ZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqIGRpdi5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOiAyMDBweDsgaGVpZ2h0OiAyMDBweDsgYmFja2dyb3VuZDogIzA5YzsnO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBjbGlja3NPbkRpdnMgPSBjbGlja3MucGlwZShmaWx0ZXIoZXYgPT4gKDxIVE1MRWxlbWVudD5ldi50YXJnZXQpLnRhZ05hbWUgPT09ICdESVYnKSk7XG4gKiBjbGlja3NPbkRpdnMuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGlzdGluY3R9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZH1cbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkfVxuICogQHNlZSB7QGxpbmsgaWdub3JlRWxlbWVudHN9XG4gKiBAc2VlIHtAbGluayBwYXJ0aXRpb259XG4gKiBAc2VlIHtAbGluayBza2lwfVxuICpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgQSBmdW5jdGlvbiB0aGF0XG4gKiBldmFsdWF0ZXMgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSWYgaXQgcmV0dXJucyBgdHJ1ZWAsXG4gKiB0aGUgdmFsdWUgaXMgZW1pdHRlZCwgaWYgYGZhbHNlYCB0aGUgdmFsdWUgaXMgbm90IHBhc3NlZCB0byB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLiBUaGUgYGluZGV4YCBwYXJhbWV0ZXIgaXMgdGhlIG51bWJlciBgaWAgZm9yIHRoZSBpLXRoIHNvdXJjZVxuICogZW1pc3Npb24gdGhhdCBoYXMgaGFwcGVuZWQgc2luY2UgdGhlIHN1YnNjcmlwdGlvbiwgc3RhcnRpbmcgZnJvbSB0aGUgbnVtYmVyXG4gKiBgMGAuXG4gKiBAcGFyYW0gdGhpc0FyZyBBbiBvcHRpb25hbCBhcmd1bWVudCB0byBkZXRlcm1pbmUgdGhlIHZhbHVlIG9mIGB0aGlzYFxuICogaW4gdGhlIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIHRoYXQgc2F0aXNmeSB0aGUgc3BlY2lmaWVkIGBwcmVkaWNhdGVgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLCB0aGlzQXJnPzogYW55KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIEFuIGluZGV4IHBhc3NlZCB0byBvdXIgcHJlZGljYXRlIGZ1bmN0aW9uIG9uIGVhY2ggY2FsbC5cbiAgICBsZXQgaW5kZXggPSAwO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBzb3VyY2UsIGFsbCBlcnJvcnMgYW5kIGNvbXBsZXRpb25zIGFyZVxuICAgIC8vIGZvcndhcmRlZCB0byB0aGUgY29uc3VtZXIuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIC8vIENhbGwgdGhlIHByZWRpY2F0ZSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBgdGhpc2AgY29udGV4dCxcbiAgICAgIC8vIGlmIHRoZSBwcmVkaWNhdGUgcmV0dXJucyBgdHJ1ZWAsIHRoZW4gc2VuZCB0aGUgdmFsdWVcbiAgICAgIC8vIHRvIHRoZSBjb25zdW1lci5cbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlIE9ic2VydmFibGUsIGJ1dCB3aWxsIGNhbGwgYSBzcGVjaWZpZWQgZnVuY3Rpb24gd2hlblxuICogdGhlIHNvdXJjZSB0ZXJtaW5hdGVzIG9uIGNvbXBsZXRlIG9yIGVycm9yLlxuICogVGhlIHNwZWNpZmllZCBmdW5jdGlvbiB3aWxsIGFsc28gYmUgY2FsbGVkIHdoZW4gdGhlIHN1YnNjcmliZXIgZXhwbGljaXRseSB1bnN1YnNjcmliZXMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFeGVjdXRlIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIG9ic2VydmFibGUgY29tcGxldGVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCBmaW5hbGl6ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIC8vIGVtaXQgdmFsdWUgaW4gc2VxdWVuY2UgZXZlcnkgMSBzZWNvbmRcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgZXhhbXBsZSA9IHNvdXJjZS5waXBlKFxuICogICB0YWtlKDUpLCAvL3Rha2Ugb25seSB0aGUgZmlyc3QgNSB2YWx1ZXNcbiAqICAgZmluYWxpemUoKCkgPT4gY29uc29sZS5sb2coJ1NlcXVlbmNlIGNvbXBsZXRlJykpIC8vIEV4ZWN1dGUgd2hlbiB0aGUgb2JzZXJ2YWJsZSBjb21wbGV0ZXNcbiAqICk7XG4gKiBjb25zdCBzdWJzY3JpYmUgPSBleGFtcGxlLnN1YnNjcmliZSh2YWwgPT4gY29uc29sZS5sb2codmFsKSk7XG4gKlxuICogLy8gcmVzdWx0czpcbiAqIC8vIDBcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDRcbiAqIC8vICdTZXF1ZW5jZSBjb21wbGV0ZSdcbiAqIGBgYFxuICpcbiAqIEV4ZWN1dGUgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiB0aGUgc3Vic2NyaWJlciBleHBsaWNpdGx5IHVuc3Vic2NyaWJlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgZmluYWxpemUsIHRhcCwgbm9vcCwgdGltZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDApLnBpcGUoXG4gKiAgIGZpbmFsaXplKCgpID0+IGNvbnNvbGUubG9nKCdbZmluYWxpemVdIENhbGxlZCcpKSxcbiAqICAgdGFwKHtcbiAqICAgICBuZXh0OiAoKSA9PiBjb25zb2xlLmxvZygnW25leHRdIENhbGxlZCcpLFxuICogICAgIGVycm9yOiAoKSA9PiBjb25zb2xlLmxvZygnW2Vycm9yXSBOb3QgY2FsbGVkJyksXG4gKiAgICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdbdGFwIGNvbXBsZXRlXSBOb3QgY2FsbGVkJylcbiAqICAgfSlcbiAqICk7XG4gKlxuICogY29uc3Qgc3ViID0gc291cmNlLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHggPT4gY29uc29sZS5sb2coeCksXG4gKiAgIGVycm9yOiBub29wLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ1tjb21wbGV0ZV0gTm90IGNhbGxlZCcpXG4gKiB9KTtcbiAqXG4gKiB0aW1lcigxNTApLnN1YnNjcmliZSgoKSA9PiBzdWIudW5zdWJzY3JpYmUoKSk7XG4gKlxuICogLy8gcmVzdWx0czpcbiAqIC8vICdbbmV4dF0gQ2FsbGVkJ1xuICogLy8gMFxuICogLy8gJ1tmaW5hbGl6ZV0gQ2FsbGVkJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gc291cmNlIHRlcm1pbmF0ZXMuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBzb3VyY2UsIGJ1dFxuICogd2lsbCBjYWxsIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gb24gdGVybWluYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZTxUPihjYWxsYmFjazogKCkgPT4gdm9pZCk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUT0RPOiBUaGlzIHRyeS9maW5hbGx5IHdhcyBvbmx5IGFkZGVkIGZvciBgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZ2AuXG4gICAgLy8gUkVNT1ZFIFRISVMgV0hFTiBUSEFUIEhPVCBHQVJCQUdFIElTIFJFTU9WRUQgSU4gVjguXG4gICAgdHJ5IHtcbiAgICAgIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHN1YnNjcmliZXIuYWRkKGNhbGxiYWNrKTtcbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgVHJ1dGh5VHlwZXNPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZDxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZmluZDxULCBTIGV4dGVuZHMgVCwgQT4oXG4gIHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IHZhbHVlIGlzIFMsXG4gIHRoaXNBcmc6IEFcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUyB8IHVuZGVmaW5lZD47XG5leHBvcnQgZnVuY3Rpb24gZmluZDxULCBTIGV4dGVuZHMgVD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IHZhbHVlIGlzIFNcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUyB8IHVuZGVmaW5lZD47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZmluZDxULCBBPihcbiAgcHJlZGljYXRlOiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbixcbiAgdGhpc0FyZzogQVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgdW5kZWZpbmVkPjtcbmV4cG9ydCBmdW5jdGlvbiBmaW5kPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCB1bmRlZmluZWQ+O1xuLyoqXG4gKiBFbWl0cyBvbmx5IHRoZSBmaXJzdCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IG1lZXRzIHNvbWVcbiAqIGNvbmRpdGlvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RmluZHMgdGhlIGZpcnN0IHZhbHVlIHRoYXQgcGFzc2VzIHNvbWUgdGVzdCBhbmQgZW1pdHNcbiAqIHRoYXQuPC9zcGFuPlxuICpcbiAqICFbXShmaW5kLnBuZylcbiAqXG4gKiBgZmluZGAgc2VhcmNoZXMgZm9yIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IG1hdGNoZXMgdGhlXG4gKiBzcGVjaWZpZWQgY29uZGl0aW9uIGVtYm9kaWVkIGJ5IHRoZSBgcHJlZGljYXRlYCwgYW5kIHJldHVybnMgdGhlIGZpcnN0XG4gKiBvY2N1cnJlbmNlIGluIHRoZSBzb3VyY2UuIFVubGlrZSB7QGxpbmsgZmlyc3R9LCB0aGUgYHByZWRpY2F0ZWAgaXMgcmVxdWlyZWRcbiAqIGluIGBmaW5kYCwgYW5kIGRvZXMgbm90IGVtaXQgYW4gZXJyb3IgaWYgYSB2YWxpZCB2YWx1ZSBpcyBub3QgZm91bmRcbiAqIChlbWl0cyBgdW5kZWZpbmVkYCBpbnN0ZWFkKS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRmluZCBhbmQgZW1pdCB0aGUgZmlyc3QgY2xpY2sgdGhhdCBoYXBwZW5zIG9uIGEgRElWIGVsZW1lbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBmaW5kIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBkaXYuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMjAwcHg7IGhlaWdodDogMjAwcHg7IGJhY2tncm91bmQ6ICMwOWM7JztcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoZmluZChldiA9PiAoPEhUTUxFbGVtZW50PmV2LnRhcmdldCkudGFnTmFtZSA9PT0gJ0RJVicpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaWx0ZXJ9XG4gKiBAc2VlIHtAbGluayBmaXJzdH1cbiAqIEBzZWUge0BsaW5rIGZpbmRJbmRleH1cbiAqIEBzZWUge0BsaW5rIHRha2V9XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogYm9vbGVhbn0gcHJlZGljYXRlXG4gKiBBIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIGVhY2ggaXRlbSB0byB0ZXN0IGZvciBjb25kaXRpb24gbWF0Y2hpbmcuXG4gKiBAcGFyYW0ge2FueX0gW3RoaXNBcmddIEFuIG9wdGlvbmFsIGFyZ3VtZW50IHRvIGRldGVybWluZSB0aGUgdmFsdWUgb2YgYHRoaXNgXG4gKiBpbiB0aGUgYHByZWRpY2F0ZWAgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgZmlyc3QgaXRlbSB0aGF0XG4gKiBtYXRjaGVzIHRoZSBjb25kaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kPFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICB0aGlzQXJnPzogYW55XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCB1bmRlZmluZWQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsICd2YWx1ZScpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbmQ8VD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4sXG4gIHRoaXNBcmc6IGFueSxcbiAgZW1pdDogJ3ZhbHVlJyB8ICdpbmRleCdcbikge1xuICBjb25zdCBmaW5kSW5kZXggPSBlbWl0ID09PSAnaW5kZXgnO1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSA9PiB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBjb25zdCBpID0gaW5kZXgrKztcbiAgICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGksIHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmaW5kSW5kZXggPyBpIDogdmFsdWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmaW5kSW5kZXggPyAtMSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEZhbHN5LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVGaW5kIH0gZnJvbSAnLi9maW5kJztcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCBleHRlbmRzIEZhbHN5ID8gLTEgOiBudW1iZXI+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3RvciwgdGhpc0FyZzogYW55KTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIGV4dGVuZHMgRmFsc3kgPyAtMSA6IG51bWJlcj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4PFQsIEE+KFxuICBwcmVkaWNhdGU6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICB0aGlzQXJnOiBBXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIG51bWJlcj47XG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4PFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIG51bWJlcj47XG5cbi8qKlxuICogRW1pdHMgb25seSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHZhbHVlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRoYXRcbiAqIG1lZXRzIHNvbWUgY29uZGl0aW9uLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGZpbmR9LCBidXQgZW1pdHMgdGhlIGluZGV4IG9mIHRoZVxuICogZm91bmQgdmFsdWUsIG5vdCB0aGUgdmFsdWUgaXRzZWxmLjwvc3Bhbj5cbiAqXG4gKiAhW10oZmluZEluZGV4LnBuZylcbiAqXG4gKiBgZmluZEluZGV4YCBzZWFyY2hlcyBmb3IgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRoYXQgbWF0Y2hlc1xuICogdGhlIHNwZWNpZmllZCBjb25kaXRpb24gZW1ib2RpZWQgYnkgdGhlIGBwcmVkaWNhdGVgLCBhbmQgcmV0dXJucyB0aGVcbiAqICh6ZXJvLWJhc2VkKSBpbmRleCBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBpbiB0aGUgc291cmNlLiBVbmxpa2VcbiAqIHtAbGluayBmaXJzdH0sIHRoZSBgcHJlZGljYXRlYCBpcyByZXF1aXJlZCBpbiBgZmluZEluZGV4YCwgYW5kIGRvZXMgbm90IGVtaXRcbiAqIGFuIGVycm9yIGlmIGEgdmFsaWQgdmFsdWUgaXMgbm90IGZvdW5kLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IHRoZSBpbmRleCBvZiBmaXJzdCBjbGljayB0aGF0IGhhcHBlbnMgb24gYSBESVYgZWxlbWVudFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGZpbmRJbmRleCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICogZGl2LnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDIwMHB4OyBoZWlnaHQ6IDIwMHB4OyBiYWNrZ3JvdW5kOiAjMDljOyc7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKGZpbmRJbmRleChldiA9PiAoPEhUTUxFbGVtZW50PmV2LnRhcmdldCkudGFnTmFtZSA9PT0gJ0RJVicpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaWx0ZXJ9XG4gKiBAc2VlIHtAbGluayBmaW5kfVxuICogQHNlZSB7QGxpbmsgZmlyc3R9XG4gKiBAc2VlIHtAbGluayB0YWtlfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IGJvb2xlYW59IHByZWRpY2F0ZVxuICogQSBmdW5jdGlvbiBjYWxsZWQgd2l0aCBlYWNoIGl0ZW0gdG8gdGVzdCBmb3IgY29uZGl0aW9uIG1hdGNoaW5nLlxuICogQHBhcmFtIHthbnl9IFt0aGlzQXJnXSBBbiBvcHRpb25hbCBhcmd1bWVudCB0byBkZXRlcm1pbmUgdGhlIHZhbHVlIG9mIGB0aGlzYFxuICogaW4gdGhlIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGluZGV4IG9mIHRoZVxuICogZmlyc3QgaXRlbSB0aGF0IG1hdGNoZXMgdGhlIGNvbmRpdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxUPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbixcbiAgdGhpc0FyZz86IGFueVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBudW1iZXI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoY3JlYXRlRmluZChwcmVkaWNhdGUsIHRoaXNBcmcsICdpbmRleCcpKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgVHJ1dGh5VHlwZXNPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCB7IHRha2UgfSBmcm9tICcuL3Rha2UnO1xuaW1wb3J0IHsgZGVmYXVsdElmRW1wdHkgfSBmcm9tICcuL2RlZmF1bHRJZkVtcHR5JztcbmltcG9ydCB7IHRocm93SWZFbXB0eSB9IGZyb20gJy4vdGhyb3dJZkVtcHR5JztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDxULCBEID0gVD4ocHJlZGljYXRlPzogbnVsbCwgZGVmYXVsdFZhbHVlPzogRCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0PFQ+KHByZWRpY2F0ZTogQm9vbGVhbkNvbnN0cnVjdG9yKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUcnV0aHlUeXBlc09mPFQ+PjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDxULCBEPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3RvciwgZGVmYXVsdFZhbHVlOiBEKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUcnV0aHlUeXBlc09mPFQ+IHwgRD47XG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgUyBleHRlbmRzIFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiB2YWx1ZSBpcyBTLFxuICBkZWZhdWx0VmFsdWU/OiBTXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFM+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0PFQsIFMgZXh0ZW5kcyBULCBEPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gdmFsdWUgaXMgUyxcbiAgZGVmYXVsdFZhbHVlOiBEXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFMgfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDxULCBEID0gVD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4sXG4gIGRlZmF1bHRWYWx1ZT86IERcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+O1xuXG4vKipcbiAqIEVtaXRzIG9ubHkgdGhlIGZpcnN0IHZhbHVlIChvciB0aGUgZmlyc3QgdmFsdWUgdGhhdCBtZWV0cyBzb21lIGNvbmRpdGlvbilcbiAqIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FbWl0cyBvbmx5IHRoZSBmaXJzdCB2YWx1ZS4gT3IgZW1pdHMgb25seSB0aGUgZmlyc3RcbiAqIHZhbHVlIHRoYXQgcGFzc2VzIHNvbWUgdGVzdC48L3NwYW4+XG4gKlxuICogIVtdKGZpcnN0LnBuZylcbiAqXG4gKiBJZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIGBmaXJzdGAgZW1pdHMgdGhlIGZpcnN0IHZhbHVlIG9mIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUsIHRoZW4gY29tcGxldGVzLiBJZiBjYWxsZWQgd2l0aCBhIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLCBgZmlyc3RgXG4gKiBlbWl0cyB0aGUgZmlyc3QgdmFsdWUgb2YgdGhlIHNvdXJjZSB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBjb25kaXRpb24uIFRocm93cyBhbiBlcnJvciBpZlxuICogYGRlZmF1bHRWYWx1ZWAgd2FzIG5vdCBwcm92aWRlZCBhbmQgYSBtYXRjaGluZyBlbGVtZW50IGlzIG5vdCBmb3VuZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgb25seSB0aGUgZmlyc3QgY2xpY2sgdGhhdCBoYXBwZW5zIG9uIHRoZSBET01cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBmaXJzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShmaXJzdCgpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBFbWl0cyB0aGUgZmlyc3QgY2xpY2sgdGhhdCBoYXBwZW5zIG9uIGEgRElWXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZmlyc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqIGRpdi5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOiAyMDBweDsgaGVpZ2h0OiAyMDBweDsgYmFja2dyb3VuZDogIzA5YzsnO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShmaXJzdChldiA9PiAoPEhUTUxFbGVtZW50PmV2LnRhcmdldCkudGFnTmFtZSA9PT0gJ0RJVicpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaWx0ZXJ9XG4gKiBAc2VlIHtAbGluayBmaW5kfVxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqXG4gKiBAdGhyb3dzIHtFbXB0eUVycm9yfSBEZWxpdmVycyBhbiBFbXB0eUVycm9yIHRvIHRoZSBPYnNlcnZlcidzIGBlcnJvcmBcbiAqIGNhbGxiYWNrIGlmIHRoZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgYW55IGBuZXh0YCBub3RpZmljYXRpb24gd2FzIHNlbnQuXG4gKiBUaGlzIGlzIGhvdyBgZmlyc3QoKWAgaXMgZGlmZmVyZW50IGZyb20ge0BsaW5rIHRha2V9KDEpIHdoaWNoIGNvbXBsZXRlcyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IGJvb2xlYW59IFtwcmVkaWNhdGVdXG4gKiBBbiBvcHRpb25hbCBmdW5jdGlvbiBjYWxsZWQgd2l0aCBlYWNoIGl0ZW0gdG8gdGVzdCBmb3IgY29uZGl0aW9uIG1hdGNoaW5nLlxuICogQHBhcmFtIHtEfSBbZGVmYXVsdFZhbHVlXSBUaGUgZGVmYXVsdCB2YWx1ZSBlbWl0dGVkIGluIGNhc2Ugbm8gdmFsaWQgdmFsdWVcbiAqIHdhcyBmb3VuZCBvbiB0aGUgc291cmNlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGZpcnN0IGl0ZW0gdGhhdFxuICogbWF0Y2hlcyB0aGUgY29uZGl0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgRD4oXG4gIHByZWRpY2F0ZT86ICgodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbikgfCBudWxsLFxuICBkZWZhdWx0VmFsdWU/OiBEXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPiB7XG4gIGNvbnN0IGhhc0RlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjtcbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+XG4gICAgc291cmNlLnBpcGUoXG4gICAgICBwcmVkaWNhdGUgPyBmaWx0ZXIoKHYsIGkpID0+IHByZWRpY2F0ZSh2LCBpLCBzb3VyY2UpKSA6IGlkZW50aXR5LFxuICAgICAgdGFrZSgxKSxcbiAgICAgIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSEpIDogdGhyb3dJZkVtcHR5KCgpID0+IG5ldyBFbXB0eUVycm9yKCkpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZCB0byB7QGxpbmsgbWVyZ2VNYXB9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBjb25zdCBmbGF0TWFwID0gbWVyZ2VNYXA7XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVyLCBPcGVyYXRvckZ1bmN0aW9uLCBTdWJqZWN0TGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyLCBPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzaWNHcm91cEJ5T3B0aW9uczxLLCBUPiB7XG4gIGVsZW1lbnQ/OiB1bmRlZmluZWQ7XG4gIGR1cmF0aW9uPzogKGdyb3VwZWQ6IEdyb3VwZWRPYnNlcnZhYmxlPEssIFQ+KSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PjtcbiAgY29ubmVjdG9yPzogKCkgPT4gU3ViamVjdExpa2U8VD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBCeU9wdGlvbnNXaXRoRWxlbWVudDxLLCBFLCBUPiB7XG4gIGVsZW1lbnQ6ICh2YWx1ZTogVCkgPT4gRTtcbiAgZHVyYXRpb24/OiAoZ3JvdXBlZDogR3JvdXBlZE9ic2VydmFibGU8SywgRT4pID0+IE9ic2VydmFibGVJbnB1dDxhbnk+O1xuICBjb25uZWN0b3I/OiAoKSA9PiBTdWJqZWN0TGlrZTxFPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSz4oa2V5OiAodmFsdWU6IFQpID0+IEssIG9wdGlvbnM6IEJhc2ljR3JvdXBCeU9wdGlvbnM8SywgVD4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEdyb3VwZWRPYnNlcnZhYmxlPEssIFQ+PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSywgRT4oXG4gIGtleTogKHZhbHVlOiBUKSA9PiBLLFxuICBvcHRpb25zOiBHcm91cEJ5T3B0aW9uc1dpdGhFbGVtZW50PEssIEUsIFQ+XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEdyb3VwZWRPYnNlcnZhYmxlPEssIEU+PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSyBleHRlbmRzIFQ+KFxuICBrZXk6ICh2YWx1ZTogVCkgPT4gdmFsdWUgaXMgS1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBHcm91cGVkT2JzZXJ2YWJsZTx0cnVlLCBLPiB8IEdyb3VwZWRPYnNlcnZhYmxlPGZhbHNlLCBFeGNsdWRlPFQsIEs+Pj47XG5cbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5PFQsIEs+KGtleTogKHZhbHVlOiBUKSA9PiBLKTogT3BlcmF0b3JGdW5jdGlvbjxULCBHcm91cGVkT2JzZXJ2YWJsZTxLLCBUPj47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBvcHRpb25zIHBhcmFtZXRlciBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeTxULCBLPihcbiAga2V5OiAodmFsdWU6IFQpID0+IEssXG4gIGVsZW1lbnQ6IHZvaWQsXG4gIGR1cmF0aW9uOiAoZ3JvdXBlZDogR3JvdXBlZE9ic2VydmFibGU8SywgVD4pID0+IE9ic2VydmFibGU8YW55PlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBHcm91cGVkT2JzZXJ2YWJsZTxLLCBUPj47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBvcHRpb25zIHBhcmFtZXRlciBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeTxULCBLLCBSPihcbiAga2V5OiAodmFsdWU6IFQpID0+IEssXG4gIGVsZW1lbnQ/OiAodmFsdWU6IFQpID0+IFIsXG4gIGR1cmF0aW9uPzogKGdyb3VwZWQ6IEdyb3VwZWRPYnNlcnZhYmxlPEssIFI+KSA9PiBPYnNlcnZhYmxlPGFueT5cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgR3JvdXBlZE9ic2VydmFibGU8SywgUj4+O1xuXG4vKipcbiAqIEdyb3VwcyB0aGUgaXRlbXMgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlIGFjY29yZGluZyB0byBhIHNwZWNpZmllZCBjcml0ZXJpb24sXG4gKiBhbmQgZW1pdHMgdGhlc2UgZ3JvdXBlZCBpdGVtcyBhcyBgR3JvdXBlZE9ic2VydmFibGVzYCwgb25lXG4gKiB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9IHBlciBncm91cC5cbiAqXG4gKiAhW10oZ3JvdXBCeS5wbmcpXG4gKlxuICogV2hlbiB0aGUgT2JzZXJ2YWJsZSBlbWl0cyBhbiBpdGVtLCBhIGtleSBpcyBjb21wdXRlZCBmb3IgdGhpcyBpdGVtIHdpdGggdGhlIGtleSBmdW5jdGlvbi5cbiAqXG4gKiBJZiBhIHtAbGluayBHcm91cGVkT2JzZXJ2YWJsZX0gZm9yIHRoaXMga2V5IGV4aXN0cywgdGhpcyB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9IGVtaXRzLiBPdGhlcndpc2UsIGEgbmV3XG4gKiB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9IGZvciB0aGlzIGtleSBpcyBjcmVhdGVkIGFuZCBlbWl0cy5cbiAqXG4gKiBBIHtAbGluayBHcm91cGVkT2JzZXJ2YWJsZX0gcmVwcmVzZW50cyB2YWx1ZXMgYmVsb25naW5nIHRvIHRoZSBzYW1lIGdyb3VwIHJlcHJlc2VudGVkIGJ5IGEgY29tbW9uIGtleS4gVGhlIGNvbW1vblxuICoga2V5IGlzIGF2YWlsYWJsZSBhcyB0aGUgYGtleWAgZmllbGQgb2YgYSB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9IGluc3RhbmNlLlxuICpcbiAqIFRoZSBlbGVtZW50cyBlbWl0dGVkIGJ5IHtAbGluayBHcm91cGVkT2JzZXJ2YWJsZX1zIGFyZSBieSBkZWZhdWx0IHRoZSBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBPYnNlcnZhYmxlLCBvciBlbGVtZW50c1xuICogcmV0dXJuZWQgYnkgdGhlIGVsZW1lbnQgZnVuY3Rpb24uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBHcm91cCBvYmplY3RzIGJ5IGBpZGAgYW5kIHJldHVybiBhcyBhcnJheVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZ3JvdXBCeSwgbWVyZ2VNYXAsIHJlZHVjZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKFxuICogICB7IGlkOiAxLCBuYW1lOiAnSmF2YVNjcmlwdCcgfSxcbiAqICAgeyBpZDogMiwgbmFtZTogJ1BhcmNlbCcgfSxcbiAqICAgeyBpZDogMiwgbmFtZTogJ3dlYnBhY2snIH0sXG4gKiAgIHsgaWQ6IDEsIG5hbWU6ICdUeXBlU2NyaXB0JyB9LFxuICogICB7IGlkOiAzLCBuYW1lOiAnVFNMaW50JyB9XG4gKiApLnBpcGUoXG4gKiAgIGdyb3VwQnkocCA9PiBwLmlkKSxcbiAqICAgbWVyZ2VNYXAoZ3JvdXAkID0+IGdyb3VwJC5waXBlKHJlZHVjZSgoYWNjLCBjdXIpID0+IFsuLi5hY2MsIGN1cl0sIFtdKSkpXG4gKiApXG4gKiAuc3Vic2NyaWJlKHAgPT4gY29uc29sZS5sb2cocCkpO1xuICpcbiAqIC8vIGRpc3BsYXlzOlxuICogLy8gW3sgaWQ6IDEsIG5hbWU6ICdKYXZhU2NyaXB0JyB9LCB7IGlkOiAxLCBuYW1lOiAnVHlwZVNjcmlwdCd9XVxuICogLy8gW3sgaWQ6IDIsIG5hbWU6ICdQYXJjZWwnIH0sIHsgaWQ6IDIsIG5hbWU6ICd3ZWJwYWNrJ31dXG4gKiAvLyBbeyBpZDogMywgbmFtZTogJ1RTTGludCcgfV1cbiAqIGBgYFxuICpcbiAqIFBpdm90IGRhdGEgb24gdGhlIGBpZGAgZmllbGRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGdyb3VwQnksIG1lcmdlTWFwLCByZWR1Y2UsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKFxuICogICB7IGlkOiAxLCBuYW1lOiAnSmF2YVNjcmlwdCcgfSxcbiAqICAgeyBpZDogMiwgbmFtZTogJ1BhcmNlbCcgfSxcbiAqICAgeyBpZDogMiwgbmFtZTogJ3dlYnBhY2snIH0sXG4gKiAgIHsgaWQ6IDEsIG5hbWU6ICdUeXBlU2NyaXB0JyB9LFxuICogICB7IGlkOiAzLCBuYW1lOiAnVFNMaW50JyB9XG4gKiApLnBpcGUoXG4gKiAgIGdyb3VwQnkocCA9PiBwLmlkLCB7IGVsZW1lbnQ6IHAgPT4gcC5uYW1lIH0pLFxuICogICBtZXJnZU1hcChncm91cCQgPT4gZ3JvdXAkLnBpcGUocmVkdWNlKChhY2MsIGN1cikgPT4gWy4uLmFjYywgY3VyXSwgW2AkeyBncm91cCQua2V5IH1gXSkpKSxcbiAqICAgbWFwKGFyciA9PiAoeyBpZDogcGFyc2VJbnQoYXJyWzBdLCAxMCksIHZhbHVlczogYXJyLnNsaWNlKDEpIH0pKVxuICogKVxuICogLnN1YnNjcmliZShwID0+IGNvbnNvbGUubG9nKHApKTtcbiAqXG4gKiAvLyBkaXNwbGF5czpcbiAqIC8vIHsgaWQ6IDEsIHZhbHVlczogWyAnSmF2YVNjcmlwdCcsICdUeXBlU2NyaXB0JyBdIH1cbiAqIC8vIHsgaWQ6IDIsIHZhbHVlczogWyAnUGFyY2VsJywgJ3dlYnBhY2snIF0gfVxuICogLy8geyBpZDogMywgdmFsdWVzOiBbICdUU0xpbnQnIF0gfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGtleSBBIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlIGtleVxuICogZm9yIGVhY2ggaXRlbS5cbiAqIEBwYXJhbSBlbGVtZW50IEEgZnVuY3Rpb24gdGhhdCBleHRyYWN0cyB0aGVcbiAqIHJldHVybiBlbGVtZW50IGZvciBlYWNoIGl0ZW0uXG4gKiBAcGFyYW0gZHVyYXRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdG8gZGV0ZXJtaW5lIGhvdyBsb25nIGVhY2ggZ3JvdXAgc2hvdWxkXG4gKiBleGlzdC5cbiAqIEBwYXJhbSBjb25uZWN0b3IgRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgYW5cbiAqIGludGVybWVkaWF0ZSBTdWJqZWN0IHRocm91Z2ggd2hpY2ggZ3JvdXBlZCBlbGVtZW50cyBhcmUgZW1pdHRlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIEdyb3VwZWRPYnNlcnZhYmxlcyxcbiAqIGVhY2ggb2Ygd2hpY2ggY29ycmVzcG9uZHMgdG8gYSB1bmlxdWUga2V5IHZhbHVlIGFuZCBlYWNoIG9mIHdoaWNoIGVtaXRzXG4gKiB0aG9zZSBpdGVtcyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IHNoYXJlIHRoYXQga2V5IHZhbHVlLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGUgb3B0aW9ucyBwYXJhbWV0ZXIgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSywgUj4oXG4gIGtleTogKHZhbHVlOiBUKSA9PiBLLFxuICBlbGVtZW50PzogKHZhbHVlOiBUKSA9PiBSLFxuICBkdXJhdGlvbj86IChncm91cGVkOiBHcm91cGVkT2JzZXJ2YWJsZTxLLCBSPikgPT4gT2JzZXJ2YWJsZTxhbnk+LFxuICBjb25uZWN0b3I/OiAoKSA9PiBTdWJqZWN0PFI+XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEdyb3VwZWRPYnNlcnZhYmxlPEssIFI+PjtcblxuLy8gSW1wbFxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSywgUj4oXG4gIGtleVNlbGVjdG9yOiAodmFsdWU6IFQpID0+IEssXG4gIGVsZW1lbnRPck9wdGlvbnM/OiAoKHZhbHVlOiBhbnkpID0+IGFueSkgfCB2b2lkIHwgQmFzaWNHcm91cEJ5T3B0aW9uczxLLCBUPiB8IEdyb3VwQnlPcHRpb25zV2l0aEVsZW1lbnQ8SywgUiwgVD4sXG4gIGR1cmF0aW9uPzogKGdyb3VwZWQ6IEdyb3VwZWRPYnNlcnZhYmxlPGFueSwgYW55PikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4sXG4gIGNvbm5lY3Rvcj86ICgpID0+IFN1YmplY3RMaWtlPGFueT5cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgR3JvdXBlZE9ic2VydmFibGU8SywgUj4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBlbGVtZW50OiAoKHZhbHVlOiBhbnkpID0+IGFueSkgfCB2b2lkO1xuICAgIGlmICghZWxlbWVudE9yT3B0aW9ucyB8fCB0eXBlb2YgZWxlbWVudE9yT3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnRPck9wdGlvbnMgYXMgKCh2YWx1ZTogYW55KSA9PiBhbnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAoeyBkdXJhdGlvbiwgZWxlbWVudCwgY29ubmVjdG9yIH0gPSBlbGVtZW50T3JPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBBIGxvb2t1cCBmb3IgdGhlIGdyb3VwcyB0aGF0IHdlIGhhdmUgc28gZmFyLlxuICAgIGNvbnN0IGdyb3VwcyA9IG5ldyBNYXA8SywgU3ViamVjdExpa2U8YW55Pj4oKTtcblxuICAgIC8vIFVzZWQgZm9yIG5vdGlmeWluZyBhbGwgZ3JvdXBzIGFuZCB0aGUgc3Vic2NyaWJlciBpbiB0aGUgc2FtZSB3YXkuXG4gICAgY29uc3Qgbm90aWZ5ID0gKGNiOiAoZ3JvdXA6IE9ic2VydmVyPGFueT4pID0+IHZvaWQpID0+IHtcbiAgICAgIGdyb3Vwcy5mb3JFYWNoKGNiKTtcbiAgICAgIGNiKHN1YnNjcmliZXIpO1xuICAgIH07XG5cbiAgICAvLyBVc2VkIHRvIGhhbmRsZSBlcnJvcnMgZnJvbSB0aGUgc291cmNlLCBBTkQgZXJyb3JzIHRoYXQgb2NjdXIgZHVyaW5nIHRoZVxuICAgIC8vIG5leHQgY2FsbCBmcm9tIHRoZSBzb3VyY2UuXG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyOiBhbnkpID0+IG5vdGlmeSgoY29uc3VtZXIpID0+IGNvbnN1bWVyLmVycm9yKGVycikpO1xuXG4gICAgLy8gVGhlIG51bWJlciBvZiBhY3RpdmVseSBzdWJzY3JpYmVkIGdyb3Vwc1xuICAgIGxldCBhY3RpdmVHcm91cHMgPSAwO1xuXG4gICAgLy8gV2hldGhlciBvciBub3QgdGVhcmRvd24gd2FzIGF0dGVtcHRlZCBvbiB0aGlzIHN1YnNjcmlwdGlvbi5cbiAgICBsZXQgdGVhcmRvd25BdHRlbXB0ZWQgPSBmYWxzZTtcblxuICAgIC8vIENhcHR1cmluZyBhIHJlZmVyZW5jZSB0byB0aGlzLCBiZWNhdXNlIHdlIG5lZWQgYSBoYW5kbGUgdG8gaXRcbiAgICAvLyBpbiBgY3JlYXRlR3JvdXBlZE9ic2VydmFibGVgIGJlbG93LiBUaGlzIGlzIHdoYXQgd2UgdXNlIHRvXG4gICAgLy8gc3Vic2NyaWJlIHRvIG91ciBzb3VyY2Ugb2JzZXJ2YWJsZS4gVGhpcyBzb21ldGltZXMgbmVlZHMgdG8gYmUgdW5zdWJzY3JpYmVkXG4gICAgLy8gb3V0LW9mLWJhbmQgd2l0aCBvdXIgYHN1YnNjcmliZXJgIHdoaWNoIGlzIHRoZSBkb3duc3RyZWFtIHN1YnNjcmliZXIsIG9yIGRlc3RpbmF0aW9uLFxuICAgIC8vIGluIGNhc2VzIHdoZXJlIGEgdXNlciB1bnN1YnNjcmliZXMgZnJvbSB0aGUgbWFpbiByZXN1bHRpbmcgc3Vic2NyaXB0aW9uLCBidXRcbiAgICAvLyBzdGlsbCBoYXMgZ3JvdXBzIGZyb20gdGhpcyBzdWJzY3JpcHRpb24gc3Vic2NyaWJlZCBhbmQgd291bGQgZXhwZWN0IHZhbHVlcyBmcm9tIGl0XG4gICAgLy8gQ29uc2lkZXI6ICBgc291cmNlLnBpcGUoZ3JvdXBCeShmbiksIHRha2UoMikpYC5cbiAgICBjb25zdCBncm91cEJ5U291cmNlU3Vic2NyaWJlciA9IG5ldyBPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICBzdWJzY3JpYmVyLFxuICAgICAgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgIC8vIEJlY2F1c2Ugd2UgaGF2ZSB0byBub3RpZnkgYWxsIGdyb3VwcyBvZiBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgaW4gaGVyZSxcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBhZGQgb3VyIG93biB0cnkvY2F0Y2ggdG8gZW5zdXJlIHRoYXQgdGhvc2UgZXJyb3JzIGFyZSBwcm9wYWdhdGVkLlxuICAgICAgICAvLyBPcGVyYXRvclN1YnNjcmliZXIgd2lsbCBvbmx5IHNlbmQgdGhlIGVycm9yIHRvIHRoZSBtYWluIHN1YnNjcmliZXIuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0ga2V5U2VsZWN0b3IodmFsdWUpO1xuXG4gICAgICAgICAgbGV0IGdyb3VwID0gZ3JvdXBzLmdldChrZXkpO1xuICAgICAgICAgIGlmICghZ3JvdXApIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBvdXIgZ3JvdXAgc3ViamVjdFxuICAgICAgICAgICAgZ3JvdXBzLnNldChrZXksIChncm91cCA9IGNvbm5lY3RvciA/IGNvbm5lY3RvcigpIDogbmV3IFN1YmplY3Q8YW55PigpKSk7XG5cbiAgICAgICAgICAgIC8vIEVtaXQgdGhlIGdyb3VwZWQgb2JzZXJ2YWJsZS4gTm90ZSB0aGF0IHdlIGNhbid0IGRvIGEgc2ltcGxlIGBhc09ic2VydmFibGUoKWAgaGVyZSxcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIGdyb3VwZWQgb2JzZXJ2YWJsZSBoYXMgc3BlY2lhbCBzZW1hbnRpY3MgYXJvdW5kIHJlZmVyZW5jZSBjb3VudGluZ1xuICAgICAgICAgICAgLy8gdG8gZW5zdXJlIHdlIGRvbid0IHNldmVyIG91ciBjb25uZWN0aW9uIHRvIHRoZSBzb3VyY2UgcHJlbWF0dXJlbHkuXG4gICAgICAgICAgICBjb25zdCBncm91cGVkID0gY3JlYXRlR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZ3JvdXBlZCk7XG5cbiAgICAgICAgICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvblN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICAgICAgLy8gUHJvdmlkaW5nIHRoZSBncm91cCBoZXJlIGVuc3VyZXMgdGhhdCBpdCBpcyBkaXNwb3NlZCBvZiAtLSB2aWEgYHVuc3Vic2NyaWJlYCAtLVxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGR1cmF0aW9uIHN1YnNjcmlwdGlvbiBpcyB0b3JuIGRvd24uIFRoYXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIHRoZW5cbiAgICAgICAgICAgICAgICAvLyBpZiBzb21lb25lIGhvbGRzIGEgaGFuZGxlIHRvIHRoZSBncm91cGVkIG9ic2VydmFibGUgYW5kIHRyaWVzIHRvIHN1YnNjcmliZSB0byBpdFxuICAgICAgICAgICAgICAgIC8vIGFmdGVyIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBzb3VyY2UgaGFzIGJlZW4gc2V2ZXJlZCwgdGhleSB3aWxsIGdldCBhblxuICAgICAgICAgICAgICAgIC8vIGBPYmplY3RVbnN1YnNjcmliZWRFcnJvcmAgYW5kIGtub3cgdGhleSBjYW4ndCBwb3NzaWJseSBnZXQgYW55IG5vdGlmaWNhdGlvbnMuXG4gICAgICAgICAgICAgICAgZ3JvdXAgYXMgYW55LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIE91ciBkdXJhdGlvbiBub3RpZmllZCEgV2UgY2FuIGNvbXBsZXRlIHRoZSBncm91cC5cbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBncm91cCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgbWFwIGluIHRoZSBmaW5hbGl6YXRpb24gcGhhc2UuXG4gICAgICAgICAgICAgICAgICBncm91cCEuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIENvbXBsZXRpb25zIGFyZSBhbHNvIHNlbnQgdG8gdGhlIGdyb3VwLCBidXQganVzdCB0aGUgZ3JvdXAuXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIC8vIEVycm9ycyBvbiB0aGUgZHVyYXRpb24gc3Vic2NyaWJlciBhcmUgc2VudCB0byB0aGUgZ3JvdXBcbiAgICAgICAgICAgICAgICAvLyBidXQgb25seSB0aGUgZ3JvdXAuIFRoZXkgYXJlIG5vdCBzZW50IHRvIHRoZSBtYWluIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgLy8gRmluYWxpemF0aW9uOiBSZW1vdmUgdGhpcyBncm91cCBmcm9tIG91ciBtYXAuXG4gICAgICAgICAgICAgICAgKCkgPT4gZ3JvdXBzLmRlbGV0ZShrZXkpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgLy8gU3RhcnQgb3VyIGR1cmF0aW9uIG5vdGlmaWVyLlxuICAgICAgICAgICAgICBncm91cEJ5U291cmNlU3Vic2NyaWJlci5hZGQoaW5uZXJGcm9tKGR1cmF0aW9uKGdyb3VwZWQpKS5zdWJzY3JpYmUoZHVyYXRpb25TdWJzY3JpYmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2VuZCB0aGUgdmFsdWUgdG8gb3VyIGdyb3VwLlxuICAgICAgICAgIGdyb3VwLm5leHQoZWxlbWVudCA/IGVsZW1lbnQodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gU291cmNlIGNvbXBsZXRlcy5cbiAgICAgICgpID0+IG5vdGlmeSgoY29uc3VtZXIpID0+IGNvbnN1bWVyLmNvbXBsZXRlKCkpLFxuICAgICAgLy8gRXJyb3IgZnJvbSB0aGUgc291cmNlLlxuICAgICAgaGFuZGxlRXJyb3IsXG4gICAgICAvLyBGcmVlIHVwIG1lbW9yeS5cbiAgICAgIC8vIFdoZW4gdGhlIHNvdXJjZSBzdWJzY3JpcHRpb24gaXMgX2ZpbmFsbHlfIHRvcm4gZG93biwgcmVsZWFzZSB0aGUgc3ViamVjdHMgYW5kIGtleXNcbiAgICAgIC8vIGluIG91ciBncm91cHMgTWFwLCB0aGV5IG1heSBiZSBxdWl0ZSBsYXJnZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBrZWVwIHRoZW0gYXJvdW5kIGlmIHdlXG4gICAgICAvLyBkb24ndCBoYXZlIHRvLlxuICAgICAgKCkgPT4gZ3JvdXBzLmNsZWFyKCksXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRlYXJkb3duQXR0ZW1wdGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gV2Ugb25seSBraWxsIG91ciBzdWJzY3JpcHRpb24gdG8gdGhlIHNvdXJjZSBpZiB3ZSBoYXZlXG4gICAgICAgIC8vIG5vIGFjdGl2ZSBncm91cHMuIEFzIHN0YXRlZCBhYm92ZSwgY29uc2lkZXIgdGhpcyBzY2VuYXJpbzpcbiAgICAgICAgLy8gc291cmNlJC5waXBlKGdyb3VwQnkoZm4pLCB0YWtlKDIpKS5cbiAgICAgICAgcmV0dXJuIGFjdGl2ZUdyb3VwcyA9PT0gMDtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBzb3VyY2VcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKGdyb3VwQnlTb3VyY2VTdWJzY3JpYmVyKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGFjdHVhbCBncm91cGVkIG9ic2VydmFibGUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSBncm91cFxuICAgICAqIEBwYXJhbSBncm91cFN1YmplY3QgVGhlIHN1YmplY3QgdGhhdCBmdWVscyB0aGUgZ3JvdXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVHcm91cGVkT2JzZXJ2YWJsZShrZXk6IEssIGdyb3VwU3ViamVjdDogU3ViamVjdExpa2U8YW55Pikge1xuICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBuZXcgT2JzZXJ2YWJsZTxUPigoZ3JvdXBTdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIGFjdGl2ZUdyb3VwcysrO1xuICAgICAgICBjb25zdCBpbm5lclN1YiA9IGdyb3VwU3ViamVjdC5zdWJzY3JpYmUoZ3JvdXBTdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIC8vIFdlIGNhbiBraWxsIHRoZSBzdWJzY3JpcHRpb24gdG8gb3VyIHNvdXJjZSBpZiB3ZSBub3cgaGF2ZSBubyBtb3JlXG4gICAgICAgICAgLy8gYWN0aXZlIGdyb3VwcyBzdWJzY3JpYmVkLCBhbmQgYSBmaW5hbGl6YXRpb24gd2FzIGFscmVhZHkgYXR0ZW1wdGVkIG9uXG4gICAgICAgICAgLy8gdGhlIHNvdXJjZS5cbiAgICAgICAgICAtLWFjdGl2ZUdyb3VwcyA9PT0gMCAmJiB0ZWFyZG93bkF0dGVtcHRlZCAmJiBncm91cEJ5U291cmNlU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXN1bHQua2V5ID0ga2V5O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEFuIG9ic2VydmFibGUgb2YgdmFsdWVzIHRoYXQgaXMgdGhlIGVtaXR0ZWQgYnkgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBncm91cEJ5fSBvcGVyYXRvcixcbiAqIGNvbnRhaW5zIGEgYGtleWAgcHJvcGVydHkgZm9yIHRoZSBncm91cGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcm91cGVkT2JzZXJ2YWJsZTxLLCBUPiBleHRlbmRzIE9ic2VydmFibGU8VD4ge1xuICAvKipcbiAgICogVGhlIGtleSB2YWx1ZSBmb3IgdGhlIGdyb3VwZWQgbm90aWZpY2F0aW9ucy5cbiAgICovXG4gIHJlYWRvbmx5IGtleTogSztcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuXG4vKipcbiAqIElnbm9yZXMgYWxsIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFuZCBvbmx5IHBhc3NlcyBjYWxscyBvZiBgY29tcGxldGVgIG9yIGBlcnJvcmAuXG4gKlxuICogIVtdKGlnbm9yZUVsZW1lbnRzLnBuZylcbiAqXG4gKiBUaGUgYGlnbm9yZUVsZW1lbnRzYCBvcGVyYXRvciBzdXBwcmVzc2VzIGFsbCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSxcbiAqIGJ1dCBhbGxvd3MgaXRzIHRlcm1pbmF0aW9uIG5vdGlmaWNhdGlvbiAoZWl0aGVyIGBlcnJvcmAgb3IgYGNvbXBsZXRlYCkgdG8gcGFzcyB0aHJvdWdoIHVuY2hhbmdlZC5cbiAqXG4gKiBJZiB5b3UgZG8gbm90IGNhcmUgYWJvdXQgdGhlIGl0ZW1zIGJlaW5nIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZSwgYnV0IHlvdSBkbyB3YW50IHRvIGJlIG5vdGlmaWVkXG4gKiB3aGVuIGl0IGNvbXBsZXRlcyBvciB3aGVuIGl0IHRlcm1pbmF0ZXMgd2l0aCBhbiBlcnJvciwgeW91IGNhbiBhcHBseSB0aGUgYGlnbm9yZUVsZW1lbnRzYCBvcGVyYXRvclxuICogdG8gdGhlIE9ic2VydmFibGUsIHdoaWNoIHdpbGwgZW5zdXJlIHRoYXQgaXQgd2lsbCBuZXZlciBjYWxsIGl0cyBvYnNlcnZlcnPigJkgYG5leHRgIGhhbmRsZXJzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBJZ25vcmUgYWxsIGBuZXh0YCBlbWlzc2lvbnMgZnJvbSB0aGUgc291cmNlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBpZ25vcmVFbGVtZW50cyB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKCd5b3UnLCAndGFsa2luZycsICd0bycsICdtZScpXG4gKiAgIC5waXBlKGlnbm9yZUVsZW1lbnRzKCkpXG4gKiAgIC5zdWJzY3JpYmUoe1xuICogICAgIG5leHQ6IHdvcmQgPT4gY29uc29sZS5sb2cod29yZCksXG4gKiAgICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZygnZXJyb3I6JywgZXJyKSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ3RoZSBlbmQnKSxcbiAqICAgfSk7XG4gKlxuICogLy8gcmVzdWx0OlxuICogLy8gJ3RoZSBlbmQnXG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVtcHR5IE9ic2VydmFibGUgdGhhdCBvbmx5IGNhbGxzXG4gKiBgY29tcGxldGVgIG9yIGBlcnJvcmAsIGJhc2VkIG9uIHdoaWNoIG9uZSBpcyBjYWxsZWQgYnkgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlnbm9yZUVsZW1lbnRzKCk6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgbmV2ZXI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG5vb3ApKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogRW1pdHMgYGZhbHNlYCBpZiB0aGUgaW5wdXQgT2JzZXJ2YWJsZSBlbWl0cyBhbnkgdmFsdWVzLCBvciBlbWl0cyBgdHJ1ZWAgaWYgdGhlXG4gKiBpbnB1dCBPYnNlcnZhYmxlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGFueSB2YWx1ZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRlbGxzIHdoZXRoZXIgYW55IHZhbHVlcyBhcmUgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10oaXNFbXB0eS5wbmcpXG4gKlxuICogYGlzRW1wdHlgIHRyYW5zZm9ybXMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBpbnRvIGFuIE9ic2VydmFibGUgdGhhdFxuICogZW1pdHMgYSBzaW5nbGUgYm9vbGVhbiB2YWx1ZSByZXByZXNlbnRpbmcgd2hldGhlciBvciBub3QgYW55IHZhbHVlcyB3ZXJlXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gQXMgc29vbiBhcyB0aGUgc291cmNlIE9ic2VydmFibGUgZW1pdHMgYVxuICogdmFsdWUsIGBpc0VtcHR5YCB3aWxsIGVtaXQgYSBgZmFsc2VgIGFuZCBjb21wbGV0ZS4gIElmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZVxuICogY29tcGxldGVzIGhhdmluZyBub3QgZW1pdHRlZCBhbnl0aGluZywgYGlzRW1wdHlgIHdpbGwgZW1pdCBhIGB0cnVlYCBhbmRcbiAqIGNvbXBsZXRlLlxuICpcbiAqIEEgc2ltaWxhciBlZmZlY3QgY291bGQgYmUgYWNoaWV2ZWQgd2l0aCB7QGxpbmsgY291bnR9LCBidXQgYGlzRW1wdHlgIGNhbiBlbWl0XG4gKiBhIGBmYWxzZWAgdmFsdWUgc29vbmVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRW1pdCBgZmFsc2VgIGZvciBhIG5vbi1lbXB0eSBPYnNlcnZhYmxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFN1YmplY3QsIGlzRW1wdHkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBuZXcgU3ViamVjdDxzdHJpbmc+KCk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZShpc0VtcHR5KCkpO1xuICpcbiAqIHNvdXJjZS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIHNvdXJjZS5uZXh0KCdhJyk7XG4gKiBzb3VyY2UubmV4dCgnYicpO1xuICogc291cmNlLm5leHQoJ2MnKTtcbiAqIHNvdXJjZS5jb21wbGV0ZSgpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vICdhJ1xuICogLy8gZmFsc2VcbiAqIC8vICdiJ1xuICogLy8gJ2MnXG4gKiBgYGBcbiAqXG4gKiBFbWl0IGB0cnVlYCBmb3IgYW4gZW1wdHkgT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBFTVBUWSwgaXNFbXB0eSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IEVNUFRZLnBpcGUoaXNFbXB0eSgpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gdHJ1ZVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY291bnR9XG4gKiBAc2VlIHtAbGluayBFTVBUWX1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBib29sZWFuIHZhbHVlXG4gKiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdhcyBlbXB0eSBvciBub3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5PFQ+KCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgYm9vbGVhbj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRydWUpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4uL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vdG9BcnJheSc7XG5cbi8qKlxuICogQ29sbGVjdHMgYWxsIG9mIHRoZSBpbm5lciBzb3VyY2VzIGZyb20gc291cmNlIG9ic2VydmFibGUuIFRoZW4sIG9uY2UgdGhlXG4gKiBzb3VyY2UgY29tcGxldGVzLCBqb2lucyB0aGUgdmFsdWVzIHVzaW5nIHRoZSBnaXZlbiBzdGF0aWMuXG4gKlxuICogVGhpcyBpcyB1c2VkIGZvciB7QGxpbmsgY29tYmluZUxhdGVzdEFsbH0gYW5kIHtAbGluayB6aXBBbGx9IHdoaWNoIGJvdGggaGF2ZSB0aGVcbiAqIHNhbWUgYmVoYXZpb3Igb2YgY29sbGVjdGluZyBhbGwgaW5uZXIgb2JzZXJ2YWJsZXMsIHRoZW4gb3BlcmF0aW5nIG9uIHRoZW0uXG4gKlxuICogQHBhcmFtIGpvaW5GbiBUaGUgdHlwZSBvZiBzdGF0aWMgam9pbiB0byBhcHBseSB0byB0aGUgc291cmNlcyBjb2xsZWN0ZWRcbiAqIEBwYXJhbSBwcm9qZWN0IFRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIHRvIGFwcGx5IHRvIHRoZSB2YWx1ZXMsIGlmIGFueVxuICovXG5leHBvcnQgZnVuY3Rpb24gam9pbkFsbEludGVybmFsczxULCBSPihqb2luRm46IChzb3VyY2VzOiBPYnNlcnZhYmxlSW5wdXQ8VD5bXSkgPT4gT2JzZXJ2YWJsZTxUPiwgcHJvamVjdD86ICguLi5hcmdzOiBhbnlbXSkgPT4gUikge1xuICByZXR1cm4gcGlwZShcbiAgICAvLyBDb2xsZWN0IGFsbCBpbm5lciBzb3VyY2VzIGludG8gYW4gYXJyYXksIGFuZCBlbWl0IHRoZW0gd2hlbiB0aGVcbiAgICAvLyBzb3VyY2UgY29tcGxldGVzLlxuICAgIHRvQXJyYXkoKSBhcyBPcGVyYXRvckZ1bmN0aW9uPE9ic2VydmFibGVJbnB1dDxUPiwgT2JzZXJ2YWJsZUlucHV0PFQ+W10+LFxuICAgIC8vIFJ1biB0aGUgam9pbiBmdW5jdGlvbiBvbiB0aGUgY29sbGVjdGVkIGFycmF5IG9mIGlubmVyIHNvdXJjZXMuXG4gICAgbWVyZ2VNYXAoKHNvdXJjZXMpID0+IGpvaW5Gbihzb3VyY2VzKSksXG4gICAgLy8gSWYgYSBwcm9qZWN0aW9uIGZ1bmN0aW9uIHdhcyBzdXBwbGllZCwgYXBwbHkgaXQgdG8gZWFjaCByZXN1bHQuXG4gICAgcHJvamVjdCA/IG1hcE9uZU9yTWFueUFyZ3MocHJvamVjdCkgOiAoaWRlbnRpdHkgYXMgYW55KVxuICApO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4uL3V0aWwvRW1wdHlFcnJvcic7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBUcnV0aHlUeXBlc09mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgdGFrZUxhc3QgfSBmcm9tICcuL3Rha2VMYXN0JztcbmltcG9ydCB7IHRocm93SWZFbXB0eSB9IGZyb20gJy4vdGhyb3dJZkVtcHR5JztcbmltcG9ydCB7IGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAnLi9kZWZhdWx0SWZFbXB0eSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuXG5leHBvcnQgZnVuY3Rpb24gbGFzdDxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG5leHBvcnQgZnVuY3Rpb24gbGFzdDxULCBEPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3RvciwgZGVmYXVsdFZhbHVlOiBEKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUcnV0aHlUeXBlc09mPFQ+IHwgRD47XG5leHBvcnQgZnVuY3Rpb24gbGFzdDxULCBEID0gVD4ocHJlZGljYXRlPzogbnVsbCwgZGVmYXVsdFZhbHVlPzogRCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3Q8VCwgUyBleHRlbmRzIFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiB2YWx1ZSBpcyBTLFxuICBkZWZhdWx0VmFsdWU/OiBTXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFM+O1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3Q8VCwgRCA9IFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICBkZWZhdWx0VmFsdWU/OiBEXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBvbmx5IHRoZSBsYXN0IGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBJdCBvcHRpb25hbGx5IHRha2VzIGEgcHJlZGljYXRlIGZ1bmN0aW9uIGFzIGEgcGFyYW1ldGVyLCBpbiB3aGljaCBjYXNlLCByYXRoZXIgdGhhbiBlbWl0dGluZ1xuICogdGhlIGxhc3QgaXRlbSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgdGhlIHJlc3VsdGluZyBPYnNlcnZhYmxlIHdpbGwgZW1pdCB0aGUgbGFzdCBpdGVtXG4gKiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IHNhdGlzZmllcyB0aGUgcHJlZGljYXRlLlxuICpcbiAqICFbXShsYXN0LnBuZylcbiAqXG4gKiBJdCB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBzb3VyY2UgY29tcGxldGVzIHdpdGhvdXQgbm90aWZpY2F0aW9uIG9yIG9uZSB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZS4gSXRcbiAqIHJldHVybnMgdGhlIGxhc3QgdmFsdWUgb3IgaWYgYSBwcmVkaWNhdGUgaXMgcHJvdmlkZWQgbGFzdCB2YWx1ZSB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZS4gSXQgcmV0dXJucyB0aGVcbiAqIGdpdmVuIGRlZmF1bHQgdmFsdWUgaWYgbm8gbm90aWZpY2F0aW9uIGlzIGVtaXR0ZWQgb3IgbWF0Y2hlcyB0aGUgcHJlZGljYXRlLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogTGFzdCBhbHBoYWJldCBmcm9tIHRoZSBzZXF1ZW5jZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tLCBsYXN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gZnJvbShbJ3gnLCAneScsICd6J10pO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUobGFzdCgpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKGBMYXN0IGFscGhhYmV0OiAkeyB2YWx1ZSB9YCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIExhc3QgYWxwaGFiZXQ6IHpcbiAqIGBgYFxuICpcbiAqIERlZmF1bHQgdmFsdWUgd2hlbiB0aGUgdmFsdWUgaW4gdGhlIHByZWRpY2F0ZSBpcyBub3QgbWF0Y2hlZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tLCBsYXN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gZnJvbShbJ3gnLCAneScsICd6J10pO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUobGFzdChjaGFyID0+IGNoYXIgPT09ICdhJywgJ25vdCBmb3VuZCcpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKGAnYScgaXMgJHsgdmFsdWUgfS5gKSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gJ2EnIGlzIG5vdCBmb3VuZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKiBAc2VlIHtAbGluayBza2lwVW50aWx9XG4gKiBAc2VlIHtAbGluayBza2lwTGFzdH1cbiAqIEBzZWUge0BsaW5rIHNraXBXaGlsZX1cbiAqXG4gKiBAdGhyb3dzIHtFbXB0eUVycm9yfSBEZWxpdmVycyBhbiBFbXB0eUVycm9yIHRvIHRoZSBPYnNlcnZlcidzIGBlcnJvcmBcbiAqIGNhbGxiYWNrIGlmIHRoZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgYW55IGBuZXh0YCBub3RpZmljYXRpb24gd2FzIHNlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcHJlZGljYXRlXSAtIFRoZSBjb25kaXRpb24gYW55IHNvdXJjZSBlbWl0dGVkIGl0ZW0gaGFzIHRvIHNhdGlzZnkuXG4gKiBAcGFyYW0ge2FueX0gW2RlZmF1bHRWYWx1ZV0gLSBBbiBvcHRpb25hbCBkZWZhdWx0IHZhbHVlIHRvIHByb3ZpZGUgaWYgbGFzdFxuICogcHJlZGljYXRlIGlzbid0IG1ldCBvciBubyB2YWx1ZXMgd2VyZSBlbWl0dGVkLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgb25seSB0aGUgbGFzdCBpdGVtXG4gKiBzYXRpc2Z5aW5nIHRoZSBnaXZlbiBjb25kaXRpb24gZnJvbSB0aGUgc291cmNlLCBvciBhIE5vU3VjaEVsZW1lbnRFeGNlcHRpb25cbiAqIGlmIG5vIHN1Y2ggaXRlbXMgYXJlIGVtaXR0ZWQuXG4gKiBAdGhyb3dzIC0gVGhyb3dzIGlmIG5vIGl0ZW1zIHRoYXQgbWF0Y2ggdGhlIHByZWRpY2F0ZSBhcmUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQsIEQ+KFxuICBwcmVkaWNhdGU/OiAoKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pIHwgbnVsbCxcbiAgZGVmYXVsdFZhbHVlPzogRFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD4ge1xuICBjb25zdCBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PlxuICAgIHNvdXJjZS5waXBlKFxuICAgICAgcHJlZGljYXRlID8gZmlsdGVyKCh2LCBpKSA9PiBwcmVkaWNhdGUodiwgaSwgc291cmNlKSkgOiBpZGVudGl0eSxcbiAgICAgIHRha2VMYXN0KDEpLFxuICAgICAgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlISkgOiB0aHJvd0lmRW1wdHkoKCkgPT4gbmV3IEVtcHR5RXJyb3IoKSlcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQsIFI+KHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gUik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGEgY2xvc3VyZSBpbnN0ZWFkIG9mIGEgYHRoaXNBcmdgLiBTaWduYXR1cmVzIGFjY2VwdGluZyBhIGB0aGlzQXJnYCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQsIFIsIEE+KHByb2plY3Q6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gUiwgdGhpc0FyZzogQSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG5cbi8qKlxuICogQXBwbGllcyBhIGdpdmVuIGBwcm9qZWN0YCBmdW5jdGlvbiB0byBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSwgYW5kIGVtaXRzIHRoZSByZXN1bHRpbmcgdmFsdWVzIGFzIGFuIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkxpa2UgW0FycmF5LnByb3RvdHlwZS5tYXAoKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbWFwKSxcbiAqIGl0IHBhc3NlcyBlYWNoIHNvdXJjZSB2YWx1ZSB0aHJvdWdoIGEgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb24gdG8gZ2V0XG4gKiBjb3JyZXNwb25kaW5nIG91dHB1dCB2YWx1ZXMuPC9zcGFuPlxuICpcbiAqICFbXShtYXAucG5nKVxuICpcbiAqIFNpbWlsYXIgdG8gdGhlIHdlbGwga25vd24gYEFycmF5LnByb3RvdHlwZS5tYXBgIGZ1bmN0aW9uLCB0aGlzIG9wZXJhdG9yXG4gKiBhcHBsaWVzIGEgcHJvamVjdGlvbiB0byBlYWNoIHZhbHVlIGFuZCBlbWl0cyB0aGF0IHByb2plY3Rpb24gaW4gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogTWFwIGV2ZXJ5IGNsaWNrIHRvIHRoZSBgY2xpZW50WGAgcG9zaXRpb24gb2YgdGhhdCBjbGlja1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudDxQb2ludGVyRXZlbnQ+KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHBvc2l0aW9ucyA9IGNsaWNrcy5waXBlKG1hcChldiA9PiBldi5jbGllbnRYKSk7XG4gKlxuICogcG9zaXRpb25zLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1hcFRvfVxuICogQHNlZSB7QGxpbmsgcGx1Y2t9XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlcik6IFJ9IHByb2plY3QgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5XG4gKiB0byBlYWNoIGB2YWx1ZWAgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIFRoZSBgaW5kZXhgIHBhcmFtZXRlciBpc1xuICogdGhlIG51bWJlciBgaWAgZm9yIHRoZSBpLXRoIGVtaXNzaW9uIHRoYXQgaGFzIGhhcHBlbmVkIHNpbmNlIHRoZVxuICogc3Vic2NyaXB0aW9uLCBzdGFydGluZyBmcm9tIHRoZSBudW1iZXIgYDBgLlxuICogQHBhcmFtIHthbnl9IFt0aGlzQXJnXSBBbiBvcHRpb25hbCBhcmd1bWVudCB0byBkZWZpbmUgd2hhdCBgdGhpc2AgaXMgaW4gdGhlXG4gKiBgcHJvamVjdGAgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgdmFsdWVzIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSB0cmFuc2Zvcm1lZCBieSB0aGUgZ2l2ZW4gYHByb2plY3RgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQsIFI+KHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gUiwgdGhpc0FyZz86IGFueSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UuIFVzZWQgd2l0aCBwcm9qZWN0aW9uLlxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBzb3VyY2UsIGFsbCBlcnJvcnMgYW5kIGNvbXBsZXRpb25zIGFyZSBzZW50IGFsb25nXG4gICAgLy8gdG8gdGhlIGNvbnN1bWVyLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgIC8vIENhbGwgdGhlIHByb2plY3Rpb24gZnVuY3Rpb24gd2l0aCB0aGUgYXBwcm9wcmlhdGUgdGhpcyBjb250ZXh0LFxuICAgICAgICAvLyBhbmQgc2VuZCB0aGUgcmVzdWx0aW5nIHZhbHVlIHRvIHRoZSBjb25zdW1lci5cbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgfSlcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5cbi8qKiBAZGVwcmVjYXRlZCBUbyBiZSByZW1vdmVkIGluIHY5LiBVc2Uge0BsaW5rIG1hcH0gaW5zdGVhZDogYG1hcCgoKSA9PiB2YWx1ZSlgLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvPFI+KHZhbHVlOiBSKTogT3BlcmF0b3JGdW5jdGlvbjx1bmtub3duLCBSPjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgRG8gbm90IHNwZWNpZnkgZXhwbGljaXQgdHlwZSBwYXJhbWV0ZXJzLiBTaWduYXR1cmVzIHdpdGggdHlwZSBwYXJhbWV0ZXJzXG4gKiB0aGF0IGNhbm5vdCBiZSBpbmZlcnJlZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIGBtYXBUb2AgaXRzZWxmIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OSxcbiAqIHVzZSB7QGxpbmsgbWFwfSBpbnN0ZWFkOiBgbWFwKCgpID0+IHZhbHVlKWAuXG4gKiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvPFQsIFI+KHZhbHVlOiBSKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcblxuLyoqXG4gKiBFbWl0cyB0aGUgZ2l2ZW4gY29uc3RhbnQgdmFsdWUgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlIGV2ZXJ5IHRpbWUgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5MaWtlIHtAbGluayBtYXB9LCBidXQgaXQgbWFwcyBldmVyeSBzb3VyY2UgdmFsdWUgdG9cbiAqIHRoZSBzYW1lIG91dHB1dCB2YWx1ZSBldmVyeSB0aW1lLjwvc3Bhbj5cbiAqXG4gKiAhW10obWFwVG8ucG5nKVxuICpcbiAqIFRha2VzIGEgY29uc3RhbnQgYHZhbHVlYCBhcyBhcmd1bWVudCwgYW5kIGVtaXRzIHRoYXQgd2hlbmV2ZXIgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLiBJbiBvdGhlciB3b3JkcywgaWdub3JlcyB0aGUgYWN0dWFsIHNvdXJjZSB2YWx1ZSxcbiAqIGFuZCBzaW1wbHkgdXNlcyB0aGUgZW1pc3Npb24gbW9tZW50IHRvIGtub3cgd2hlbiB0byBlbWl0IHRoZSBnaXZlbiBgdmFsdWVgLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBNYXAgZXZlcnkgY2xpY2sgdG8gdGhlIHN0cmluZyBgJ0hpJ2BcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXBUbyB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBncmVldGluZ3MgPSBjbGlja3MucGlwZShtYXBUbygnSGknKSk7XG4gKlxuICogZ3JlZXRpbmdzLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1hcH1cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIG1hcCBlYWNoIHNvdXJjZSB2YWx1ZSB0by5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBnaXZlbiBgdmFsdWVgXG4gKiBldmVyeSB0aW1lIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cy5cbiAqIEBkZXByZWNhdGVkIFRvIGJlIHJlbW92ZWQgaW4gdjkuIFVzZSB7QGxpbmsgbWFwfSBpbnN0ZWFkOiBgbWFwKCgpID0+IHZhbHVlKWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBUbzxSPih2YWx1ZTogUik6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgUj4ge1xuICByZXR1cm4gbWFwKCgpID0+IHZhbHVlKTtcbn1cbiIsImltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbGwgb2YgdGhlIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgYXMgYG5leHRgXG4gKiBlbWlzc2lvbnMgbWFya2VkIHdpdGggdGhlaXIgb3JpZ2luYWwgdHlwZXMgd2l0aGluIHtAbGluayBOb3RpZmljYXRpb259XG4gKiBvYmplY3RzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5XcmFwcyBgbmV4dGAsIGBlcnJvcmAgYW5kIGBjb21wbGV0ZWAgZW1pc3Npb25zIGluXG4gKiB7QGxpbmsgTm90aWZpY2F0aW9ufSBvYmplY3RzLCBlbWl0dGVkIGFzIGBuZXh0YCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKiA8L3NwYW4+XG4gKlxuICogIVtdKG1hdGVyaWFsaXplLnBuZylcbiAqXG4gKiBgbWF0ZXJpYWxpemVgIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGEgYG5leHRgIG5vdGlmaWNhdGlvbiBmb3IgZWFjaFxuICogYG5leHRgLCBgZXJyb3JgLCBvciBgY29tcGxldGVgIGVtaXNzaW9uIG9mIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gV2hlbiB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIGBjb21wbGV0ZWAsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSB3aWxsIGVtaXQgYG5leHRgIGFzXG4gKiBhIE5vdGlmaWNhdGlvbiBvZiB0eXBlIFwiY29tcGxldGVcIiwgYW5kIHRoZW4gaXQgd2lsbCBlbWl0IGBjb21wbGV0ZWAgYXMgd2VsbC5cbiAqIFdoZW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIGBlcnJvcmAsIHRoZSBvdXRwdXQgd2lsbCBlbWl0IGBuZXh0YCBhcyBhXG4gKiBOb3RpZmljYXRpb24gb2YgdHlwZSBcImVycm9yXCIsIGFuZCB0aGVuIGBjb21wbGV0ZWAuXG4gKlxuICogVGhpcyBvcGVyYXRvciBpcyB1c2VmdWwgZm9yIHByb2R1Y2luZyBtZXRhZGF0YSBvZiB0aGUgc291cmNlIE9ic2VydmFibGUsIHRvXG4gKiBiZSBjb25zdW1lZCBhcyBgbmV4dGAgZW1pc3Npb25zLiBVc2UgaXQgaW4gY29uanVuY3Rpb24gd2l0aFxuICoge0BsaW5rIGRlbWF0ZXJpYWxpemV9LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBDb252ZXJ0IGEgZmF1bHR5IE9ic2VydmFibGUgdG8gYW4gT2JzZXJ2YWJsZSBvZiBOb3RpZmljYXRpb25zXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtYXRlcmlhbGl6ZSwgbWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgbGV0dGVycyA9IG9mKCdhJywgJ2InLCAxMywgJ2QnKTtcbiAqIGNvbnN0IHVwcGVyQ2FzZSA9IGxldHRlcnMucGlwZShtYXAoKHg6IGFueSkgPT4geC50b1VwcGVyQ2FzZSgpKSk7XG4gKiBjb25zdCBtYXRlcmlhbGl6ZWQgPSB1cHBlckNhc2UucGlwZShtYXRlcmlhbGl6ZSgpKTtcbiAqXG4gKiBtYXRlcmlhbGl6ZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZzpcbiAqIC8vIC0gTm90aWZpY2F0aW9uIHsga2luZDogJ04nLCB2YWx1ZTogJ0EnLCBlcnJvcjogdW5kZWZpbmVkLCBoYXNWYWx1ZTogdHJ1ZSB9XG4gKiAvLyAtIE5vdGlmaWNhdGlvbiB7IGtpbmQ6ICdOJywgdmFsdWU6ICdCJywgZXJyb3I6IHVuZGVmaW5lZCwgaGFzVmFsdWU6IHRydWUgfVxuICogLy8gLSBOb3RpZmljYXRpb24geyBraW5kOiAnRScsIHZhbHVlOiB1bmRlZmluZWQsIGVycm9yOiBUeXBlRXJyb3IgeyBtZXNzYWdlOiB4LnRvVXBwZXJDYXNlIGlzIG5vdCBhIGZ1bmN0aW9uIH0sIGhhc1ZhbHVlOiBmYWxzZSB9XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBOb3RpZmljYXRpb259XG4gKiBAc2VlIHtAbGluayBkZW1hdGVyaWFsaXplfVxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzXG4gKiB7QGxpbmsgTm90aWZpY2F0aW9ufSBvYmplY3RzIHRoYXQgd3JhcCB0aGUgb3JpZ2luYWwgZW1pc3Npb25zIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIG1ldGFkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0ZXJpYWxpemU8VD4oKTogT3BlcmF0b3JGdW5jdGlvbjxULCBOb3RpZmljYXRpb248VD4gJiBPYnNlcnZhYmxlTm90aWZpY2F0aW9uPFQ+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUoKSk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvcihlcnIpKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IHJlZHVjZSB9IGZyb20gJy4vcmVkdWNlJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vKipcbiAqIFRoZSBNYXggb3BlcmF0b3Igb3BlcmF0ZXMgb24gYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG51bWJlcnMgKG9yIGl0ZW1zIHRoYXQgY2FuIGJlIGNvbXBhcmVkIHdpdGggYSBwcm92aWRlZCBmdW5jdGlvbiksXG4gKiBhbmQgd2hlbiBzb3VyY2UgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgaXQgZW1pdHMgYSBzaW5nbGUgaXRlbTogdGhlIGl0ZW0gd2l0aCB0aGUgbGFyZ2VzdCB2YWx1ZS5cbiAqXG4gKiAhW10obWF4LnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEdldCB0aGUgbWF4aW1hbCB2YWx1ZSBvZiBhIHNlcmllcyBvZiBudW1iZXJzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtYXggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZig1LCA0LCA3LCAyLCA4KVxuICogICAucGlwZShtYXgoKSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyA4XG4gKiBgYGBcbiAqXG4gKiBVc2UgYSBjb21wYXJlciBmdW5jdGlvbiB0byBnZXQgdGhlIG1heGltYWwgaXRlbVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWF4IH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoXG4gKiAgIHsgYWdlOiA3LCBuYW1lOiAnRm9vJyB9LFxuICogICB7IGFnZTogNSwgbmFtZTogJ0JhcicgfSxcbiAqICAgeyBhZ2U6IDksIG5hbWU6ICdCZWVyJyB9XG4gKiApLnBpcGUoXG4gKiAgIG1heCgoYSwgYikgPT4gYS5hZ2UgPCBiLmFnZSA/IC0xIDogMSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4Lm5hbWUpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyAnQmVlcidcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1pbn1cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyZXJdIC0gT3B0aW9uYWwgY29tcGFyZXIgZnVuY3Rpb24gdGhhdCBpdCB3aWxsIHVzZSBpbnN0ZWFkIG9mIGl0cyBkZWZhdWx0IHRvIGNvbXBhcmUgdGhlXG4gKiB2YWx1ZSBvZiB0d28gaXRlbXMuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtIHdpdGggdGhlXG4gKiBsYXJnZXN0IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4PFQ+KGNvbXBhcmVyPzogKHg6IFQsIHk6IFQpID0+IG51bWJlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiByZWR1Y2UoaXNGdW5jdGlvbihjb21wYXJlcikgPyAoeCwgeSkgPT4gKGNvbXBhcmVyKHgsIHkpID4gMCA/IHggOiB5KSA6ICh4LCB5KSA9PiAoeCA+IHkgPyB4IDogeSkpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgYXJnc09yQXJnQXJyYXkgfSBmcm9tICcuLi91dGlsL2FyZ3NPckFyZ0FycmF5JztcbmltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi9tZXJnZUFsbCc7XG5pbXBvcnQgeyBwb3BOdW1iZXIsIHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcblxuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIG1lcmdlV2l0aH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBtZXJnZVdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXNBbmRDb25jdXJyZW5jeTogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBudW1iZXJdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+O1xuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIG1lcmdlV2l0aH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBTY2hlZHVsZXJMaWtlXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBtZXJnZVdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXNBbmRDb25jdXJyZW5jeUFuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBudW1iZXIsIFNjaGVkdWxlckxpa2VdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+O1xuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8VD4oLi4uYXJnczogdW5rbm93bltdKTogT3BlcmF0b3JGdW5jdGlvbjxULCB1bmtub3duPiB7XG4gIGNvbnN0IHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgY29uc3QgY29uY3VycmVudCA9IHBvcE51bWJlcihhcmdzLCBJbmZpbml0eSk7XG4gIGFyZ3MgPSBhcmdzT3JBcmdBcnJheShhcmdzKTtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbWVyZ2VBbGwoY29uY3VycmVudCkoZnJvbShbc291cmNlLCAuLi4oYXJncyBhcyBPYnNlcnZhYmxlSW5wdXQ8VD5bXSldLCBzY2hlZHVsZXIpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlIGludG8gYSBmaXJzdC1vcmRlciBPYnNlcnZhYmxlIHdoaWNoXG4gKiBjb25jdXJyZW50bHkgZGVsaXZlcnMgYWxsIHZhbHVlcyB0aGF0IGFyZSBlbWl0dGVkIG9uIHRoZSBpbm5lciBPYnNlcnZhYmxlcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RmxhdHRlbnMgYW4gT2JzZXJ2YWJsZS1vZi1PYnNlcnZhYmxlcy48L3NwYW4+XG4gKlxuICogIVtdKG1lcmdlQWxsLnBuZylcbiAqXG4gKiBgbWVyZ2VBbGxgIHN1YnNjcmliZXMgdG8gYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIE9ic2VydmFibGVzLCBhbHNvIGtub3duIGFzXG4gKiBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlLiBFYWNoIHRpbWUgaXQgb2JzZXJ2ZXMgb25lIG9mIHRoZXNlIGVtaXR0ZWQgaW5uZXJcbiAqIE9ic2VydmFibGVzLCBpdCBzdWJzY3JpYmVzIHRvIHRoYXQgYW5kIGRlbGl2ZXJzIGFsbCB0aGUgdmFsdWVzIGZyb20gdGhlXG4gKiBpbm5lciBPYnNlcnZhYmxlIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS4gVGhlIG91dHB1dCBPYnNlcnZhYmxlIG9ubHlcbiAqIGNvbXBsZXRlcyBvbmNlIGFsbCBpbm5lciBPYnNlcnZhYmxlcyBoYXZlIGNvbXBsZXRlZC4gQW55IGVycm9yIGRlbGl2ZXJlZCBieVxuICogYSBpbm5lciBPYnNlcnZhYmxlIHdpbGwgYmUgaW1tZWRpYXRlbHkgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBTcGF3biBhIG5ldyBpbnRlcnZhbCBPYnNlcnZhYmxlIGZvciBlYWNoIGNsaWNrIGV2ZW50LCBhbmQgYmxlbmQgdGhlaXIgb3V0cHV0cyBhcyBvbmUgT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCwgaW50ZXJ2YWwsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGhpZ2hlck9yZGVyID0gY2xpY2tzLnBpcGUobWFwKCgpID0+IGludGVydmFsKDEwMDApKSk7XG4gKiBjb25zdCBmaXJzdE9yZGVyID0gaGlnaGVyT3JkZXIucGlwZShtZXJnZUFsbCgpKTtcbiAqXG4gKiBmaXJzdE9yZGVyLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIENvdW50IGZyb20gMCB0byA5IGV2ZXJ5IHNlY29uZCBmb3IgZWFjaCBjbGljaywgYnV0IG9ubHkgYWxsb3cgMiBjb25jdXJyZW50IHRpbWVyc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCwgaW50ZXJ2YWwsIHRha2UsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGhpZ2hlck9yZGVyID0gY2xpY2tzLnBpcGUoXG4gKiAgIG1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoMTApKSlcbiAqICk7XG4gKiBjb25zdCBmaXJzdE9yZGVyID0gaGlnaGVyT3JkZXIucGlwZShtZXJnZUFsbCgyKSk7XG4gKlxuICogZmlyc3RPcmRlci5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0QWxsfVxuICogQHNlZSB7QGxpbmsgY29uY2F0QWxsfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcFRvfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICogQHNlZSB7QGxpbmsgc3dpdGNoQWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICogQHNlZSB7QGxpbmsgemlwQWxsfVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVudD1JbmZpbml0eV0gTWF4aW11bSBudW1iZXIgb2YgaW5uZXJcbiAqIE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG8gY29uY3VycmVudGx5LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdmFsdWVzIGNvbWluZyBmcm9tXG4gKiBhbGwgdGhlIGlubmVyIE9ic2VydmFibGVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGw8TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+Pihjb25jdXJyZW50OiBudW1iZXIgPSBJbmZpbml0eSk6IE9wZXJhdG9yRnVuY3Rpb248TywgT2JzZXJ2ZWRWYWx1ZU9mPE8+PiB7XG4gIHJldHVybiBtZXJnZU1hcChpZGVudGl0eSwgY29uY3VycmVudCk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogQSBwcm9jZXNzIGVtYm9keWluZyB0aGUgZ2VuZXJhbCBcIm1lcmdlXCIgc3RyYXRlZ3kuIFRoaXMgaXMgdXNlZCBpblxuICogYG1lcmdlTWFwYCBhbmQgYG1lcmdlU2NhbmAgYmVjYXVzZSB0aGUgbG9naWMgaXMgb3RoZXJ3aXNlIG5lYXJseSBpZGVudGljYWwuXG4gKiBAcGFyYW0gc291cmNlIFRoZSBvcmlnaW5hbCBzb3VyY2Ugb2JzZXJ2YWJsZVxuICogQHBhcmFtIHN1YnNjcmliZXIgVGhlIGNvbnN1bWVyIHN1YnNjcmliZXJcbiAqIEBwYXJhbSBwcm9qZWN0IFRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIHRvIGdldCBvdXIgaW5uZXIgc291cmNlc1xuICogQHBhcmFtIGNvbmN1cnJlbnQgVGhlIG51bWJlciBvZiBjb25jdXJyZW50IGlubmVyIHN1YnNjcmlwdGlvbnNcbiAqIEBwYXJhbSBvbkJlZm9yZU5leHQgQWRkaXRpb25hbCBsb2dpYyB0byBhcHBseSBiZWZvcmUgbmV4dGluZyB0byBvdXIgY29uc3VtZXJcbiAqIEBwYXJhbSBleHBhbmQgSWYgYHRydWVgIHRoaXMgd2lsbCBwZXJmb3JtIGFuIFwiZXhwYW5kXCIgc3RyYXRlZ3ksIHdoaWNoIGRpZmZlcnMgb25seVxuICogaW4gdGhhdCBpdCByZWN1cnNlcywgYW5kIHRoZSBpbm5lciBzdWJzY3JpcHRpb24gbXVzdCBiZSBzY2hlZHVsZS1hYmxlLlxuICogQHBhcmFtIGlubmVyU3ViU2NoZWR1bGVyIEEgc2NoZWR1bGVyIHRvIHVzZSB0byBzY2hlZHVsZSBpbm5lciBzdWJzY3JpcHRpb25zLFxuICogdGhpcyBpcyB0byBzdXBwb3J0IHRoZSBleHBhbmQgc3RyYXRlZ3ksIG1vc3RseSwgYW5kIHNob3VsZCBiZSBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVybmFsczxULCBSPihcbiAgc291cmNlOiBPYnNlcnZhYmxlPFQ+LFxuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFI+LFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxSPixcbiAgY29uY3VycmVudDogbnVtYmVyLFxuICBvbkJlZm9yZU5leHQ/OiAoaW5uZXJWYWx1ZTogUikgPT4gdm9pZCxcbiAgZXhwYW5kPzogYm9vbGVhbixcbiAgaW5uZXJTdWJTY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlLFxuICBhZGRpdGlvbmFsRmluYWxpemVyPzogKCkgPT4gdm9pZFxuKSB7XG4gIC8vIEJ1ZmZlcmVkIHZhbHVlcywgaW4gdGhlIGV2ZW50IG9mIGdvaW5nIG92ZXIgb3VyIGNvbmN1cnJlbmN5IGxpbWl0XG4gIGNvbnN0IGJ1ZmZlcjogVFtdID0gW107XG4gIC8vIFRoZSBudW1iZXIgb2YgYWN0aXZlIGlubmVyIHN1YnNjcmlwdGlvbnMuXG4gIGxldCBhY3RpdmUgPSAwO1xuICAvLyBBbiBpbmRleCB0byBwYXNzIHRvIG91ciBhY2N1bXVsYXRvciBmdW5jdGlvblxuICBsZXQgaW5kZXggPSAwO1xuICAvLyBXaGV0aGVyIG9yIG5vdCB0aGUgb3V0ZXIgc291cmNlIGhhcyBjb21wbGV0ZWQuXG4gIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgaWYgd2UgY2FuIGNvbXBsZXRlIG91ciByZXN1bHQgb3Igbm90LlxuICAgKi9cbiAgY29uc3QgY2hlY2tDb21wbGV0ZSA9ICgpID0+IHtcbiAgICAvLyBJZiB0aGUgb3V0ZXIgaGFzIGNvbXBsZXRlZCwgYW5kIG5vdGhpbmcgaXMgbGVmdCBpbiB0aGUgYnVmZmVyLFxuICAgIC8vIGFuZCB3ZSBkb24ndCBoYXZlIGFueSBhY3RpdmUgaW5uZXIgc3Vic2NyaXB0aW9ucywgdGhlbiB3ZSBjYW5cbiAgICAvLyBFbWl0IHRoZSBzdGF0ZSBhbmQgY29tcGxldGUuXG4gICAgaWYgKGlzQ29tcGxldGUgJiYgIWJ1ZmZlci5sZW5ndGggJiYgIWFjdGl2ZSkge1xuICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBJZiB3ZSdyZSB1bmRlciBvdXIgY29uY3VycmVuY3kgbGltaXQsIGp1c3Qgc3RhcnQgdGhlIGlubmVyIHN1YnNjcmlwdGlvbiwgb3RoZXJ3aXNlIGJ1ZmZlciBhbmQgd2FpdC5cbiAgY29uc3Qgb3V0ZXJOZXh0ID0gKHZhbHVlOiBUKSA9PiAoYWN0aXZlIDwgY29uY3VycmVudCA/IGRvSW5uZXJTdWIodmFsdWUpIDogYnVmZmVyLnB1c2godmFsdWUpKTtcblxuICBjb25zdCBkb0lubmVyU3ViID0gKHZhbHVlOiBUKSA9PiB7XG4gICAgLy8gSWYgd2UncmUgZXhwYW5kaW5nLCB3ZSBuZWVkIHRvIGVtaXQgdGhlIG91dGVyIHZhbHVlcyBhbmQgdGhlIGlubmVyIHZhbHVlc1xuICAgIC8vIGFzIHRoZSBpbm5lcnMgd2lsbCBcImJlY29tZSBvdXRlcnNcIiBpbiBhIHdheSBhcyB0aGV5IGFyZSByZWN1cnNpdmVseSBmZWRcbiAgICAvLyBiYWNrIHRvIHRoZSBwcm9qZWN0aW9uIG1lY2hhbmlzbS5cbiAgICBleHBhbmQgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlIGFzIGFueSk7XG5cbiAgICAvLyBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiBhY3RpdmUgc3Vic2NyaXB0aW9ucyBzbyB3ZSBjYW4gdHJhY2sgaXRcbiAgICAvLyBhZ2FpbnN0IG91ciBjb25jdXJyZW5jeSBsaW1pdCBsYXRlci5cbiAgICBhY3RpdmUrKztcblxuICAgIC8vIEEgZmxhZyB1c2VkIHRvIHNob3cgdGhhdCB0aGUgaW5uZXIgb2JzZXJ2YWJsZSBjb21wbGV0ZWQuXG4gICAgLy8gVGhpcyBpcyBjaGVja2VkIGR1cmluZyBmaW5hbGl6YXRpb24gdG8gc2VlIGlmIHdlIHNob3VsZFxuICAgIC8vIG1vdmUgdG8gdGhlIG5leHQgaXRlbSBpbiB0aGUgYnVmZmVyLCBpZiB0aGVyZSBpcyBvbi5cbiAgICBsZXQgaW5uZXJDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgLy8gU3RhcnQgb3VyIGlubmVyIHN1YnNjcmlwdGlvbi5cbiAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKGlubmVyVmFsdWUpID0+IHtcbiAgICAgICAgICAvLyBgbWVyZ2VTY2FuYCBoYXMgYWRkaXRpb25hbCBoYW5kbGluZyBoZXJlLiBGb3IgZXhhbXBsZVxuICAgICAgICAgIC8vIHRha2luZyB0aGUgaW5uZXIgdmFsdWUgYW5kIHVwZGF0aW5nIHN0YXRlLlxuICAgICAgICAgIG9uQmVmb3JlTmV4dD8uKGlubmVyVmFsdWUpO1xuXG4gICAgICAgICAgaWYgKGV4cGFuZCkge1xuICAgICAgICAgICAgLy8gSWYgd2UncmUgZXhwYW5kaW5nLCB0aGVuIGp1c3QgcmVjdXJzZSBiYWNrIHRvIG91ciBvdXRlclxuICAgICAgICAgICAgLy8gaGFuZGxlci4gSXQgd2lsbCBlbWl0IHRoZSB2YWx1ZSBmaXJzdCB0aGluZy5cbiAgICAgICAgICAgIG91dGVyTmV4dChpbm5lclZhbHVlIGFzIGFueSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgZW1pdCB0aGUgaW5uZXIgdmFsdWUuXG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gRmxhZyB0aGF0IHdlIGhhdmUgY29tcGxldGVkLCBzbyB3ZSBrbm93IHRvIGNoZWNrIHRoZSBidWZmZXJcbiAgICAgICAgICAvLyBkdXJpbmcgZmluYWxpemF0aW9uLlxuICAgICAgICAgIGlubmVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICAvLyBFcnJvcnMgYXJlIHBhc3NlZCB0byB0aGUgZGVzdGluYXRpb24uXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIER1cmluZyBmaW5hbGl6YXRpb24sIGlmIHRoZSBpbm5lciBjb21wbGV0ZWQgKGl0IHdhc24ndCBlcnJvcmVkIG9yXG4gICAgICAgICAgLy8gY2FuY2VsbGVkKSwgdGhlbiB3ZSB3YW50IHRvIHRyeSB0aGUgbmV4dCBpdGVtIGluIHRoZSBidWZmZXIgaWZcbiAgICAgICAgICAvLyB0aGVyZSBpcyBvbmUuXG4gICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gd3JhcCB0aGlzIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgaXQgaGFwcGVucyBkdXJpbmdcbiAgICAgICAgICAgIC8vIGZpbmFsaXphdGlvbiwgcG9zc2libHkgYXN5bmNocm9ub3VzbHksIGFuZCB3ZSB3YW50IHRvIHBhc3NcbiAgICAgICAgICAgIC8vIGFueSBlcnJvcnMgdGhhdCBoYXBwZW4gKGxpa2UgaW4gYSBwcm9qZWN0aW9uIGZ1bmN0aW9uKSB0b1xuICAgICAgICAgICAgLy8gdGhlIG91dGVyIFN1YnNjcmliZXIuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyBJTk5FUiBTT1VSQ0UgQ09NUExFVEVcbiAgICAgICAgICAgICAgLy8gRGVjcmVtZW50IHRoZSBhY3RpdmUgY291bnQgdG8gZW5zdXJlIHRoYXQgdGhlIG5leHQgdGltZVxuICAgICAgICAgICAgICAvLyB3ZSB0cnkgdG8gY2FsbCBgZG9Jbm5lclN1YmAsIHRoZSBudW1iZXIgaXMgYWNjdXJhdGUuXG4gICAgICAgICAgICAgIGFjdGl2ZS0tO1xuICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUgdmFsdWVzIGluIHRoZSBidWZmZXIsIHRyeSB0byBwcm9jZXNzIHRob3NlXG4gICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIGNhbGwgd2lsbCBpbmNyZW1lbnQgYGFjdGl2ZWAgYWhlYWQgb2YgdGhlXG4gICAgICAgICAgICAgIC8vIG5leHQgY29uZGl0aW9uYWwsIGlmIHRoZXJlIHdlcmUgYW55IG1vcmUgaW5uZXIgc3Vic2NyaXB0aW9uc1xuICAgICAgICAgICAgICAvLyB0byBzdGFydC5cbiAgICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlci5sZW5ndGggJiYgYWN0aXZlIDwgY29uY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcmVkVmFsdWUgPSBidWZmZXIuc2hpZnQoKSE7XG4gICAgICAgICAgICAgICAgLy8gUGFydGljdWxhcmx5IGZvciBgZXhwYW5kYCwgd2UgbmVlZCB0byBjaGVjayB0byBzZWUgaWYgYSBzY2hlZHVsZXIgd2FzIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgLy8gZm9yIHdoZW4gd2Ugd2FudCB0byBzdGFydCBvdXIgaW5uZXIgc3Vic2NyaXB0aW9uLiBPdGhlcndpc2UsIHdlIGp1c3Qgc3RhcnRcbiAgICAgICAgICAgICAgICAvLyBhcmUgbmV4dCBpbm5lciBzdWJzY3JpcHRpb24uXG4gICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViU2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgaW5uZXJTdWJTY2hlZHVsZXIsICgpID0+IGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgY2FuIGNvbXBsZXRlLCBhbmQgY29tcGxldGUgaWYgc28uXG4gICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICAvLyBTdWJzY3JpYmUgdG8gb3VyIHNvdXJjZSBvYnNlcnZhYmxlLlxuICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvdXRlck5leHQsICgpID0+IHtcbiAgICAgIC8vIE91dGVyIGNvbXBsZXRlZCwgbWFrZSBhIG5vdGUgb2YgaXQsIGFuZCBjaGVjayB0byBzZWUgaWYgd2UgY2FuIGNvbXBsZXRlIGV2ZXJ5dGhpbmcuXG4gICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICB9KVxuICApO1xuXG4gIC8vIEFkZGl0aW9uYWwgZmluYWxpemF0aW9uIChmb3Igd2hlbiB0aGUgZGVzdGluYXRpb24gaXMgdG9ybiBkb3duKS5cbiAgLy8gT3RoZXIgZmluYWxpemF0aW9uIGlzIGFkZGVkIGltcGxpY2l0bHkgdmlhIHN1YnNjcmlwdGlvbiBhYm92ZS5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBhZGRpdGlvbmFsRmluYWxpemVyPy4oKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBtZXJnZUludGVybmFscyB9IGZyb20gJy4vbWVyZ2VJbnRlcm5hbHMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgY29uY3VycmVudD86IG51bWJlclxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I6IHVuZGVmaW5lZCxcbiAgY29uY3VycmVudD86IG51bWJlclxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I6IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSLFxuICBjb25jdXJyZW50PzogbnVtYmVyXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBpbiB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5NYXBzIGVhY2ggdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSwgdGhlbiBmbGF0dGVucyBhbGwgb2ZcbiAqIHRoZXNlIGlubmVyIE9ic2VydmFibGVzIHVzaW5nIHtAbGluayBtZXJnZUFsbH0uPC9zcGFuPlxuICpcbiAqICFbXShtZXJnZU1hcC5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgYmFzZWQgb24gYXBwbHlpbmcgYSBmdW5jdGlvbiB0aGF0IHlvdVxuICogc3VwcGx5IHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hlcmUgdGhhdCBmdW5jdGlvblxuICogcmV0dXJucyBhbiBPYnNlcnZhYmxlLCBhbmQgdGhlbiBtZXJnaW5nIHRob3NlIHJlc3VsdGluZyBPYnNlcnZhYmxlcyBhbmRcbiAqIGVtaXR0aW5nIHRoZSByZXN1bHRzIG9mIHRoaXMgbWVyZ2VyLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBNYXAgYW5kIGZsYXR0ZW4gZWFjaCBsZXR0ZXIgdG8gYW4gT2JzZXJ2YWJsZSB0aWNraW5nIGV2ZXJ5IDEgc2Vjb25kXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtZXJnZU1hcCwgaW50ZXJ2YWwsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGxldHRlcnMgPSBvZignYScsICdiJywgJ2MnKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGxldHRlcnMucGlwZShcbiAqICAgbWVyZ2VNYXAoeCA9PiBpbnRlcnZhbCgxMDAwKS5waXBlKG1hcChpID0+IHggKyBpKSkpXG4gKiApO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gYTBcbiAqIC8vIGIwXG4gKiAvLyBjMFxuICogLy8gYTFcbiAqIC8vIGIxXG4gKiAvLyBjMVxuICogLy8gY29udGludWVzIHRvIGxpc3QgYSwgYiwgYyBldmVyeSBzZWNvbmQgd2l0aCByZXNwZWN0aXZlIGFzY2VuZGluZyBpbnRlZ2Vyc1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdE1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcFRvfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsID9pbmRleDogbnVtYmVyKTogT2JzZXJ2YWJsZUlucHV0fSBwcm9qZWN0IEEgZnVuY3Rpb25cbiAqIHRoYXQsIHdoZW4gYXBwbGllZCB0byBhbiBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCByZXR1cm5zIGFuXG4gKiBPYnNlcnZhYmxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PUluZmluaXR5XSBNYXhpbXVtIG51bWJlciBvZiBpbnB1dFxuICogT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0IG9mXG4gKiBhcHBseWluZyB0aGUgcHJvamVjdGlvbiBmdW5jdGlvbiAoYW5kIHRoZSBvcHRpb25hbCBkZXByZWNhdGVkXG4gKiBgcmVzdWx0U2VsZWN0b3JgKSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIG1lcmdpbmdcbiAqIHRoZSByZXN1bHRzIG9mIHRoZSBPYnNlcnZhYmxlcyBvYnRhaW5lZCBmcm9tIHRoaXMgdHJhbnNmb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSKSB8IG51bWJlcixcbiAgY29uY3VycmVudDogbnVtYmVyID0gSW5maW5pdHlcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICBpZiAoaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAvLyBERVBSRUNBVEVEIFBBVEhcbiAgICByZXR1cm4gbWVyZ2VNYXAoKGEsIGkpID0+IG1hcCgoYjogYW55LCBpaTogbnVtYmVyKSA9PiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSkpKGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKSksIGNvbmN1cnJlbnQpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gIH1cblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpKTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vKiogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY5LiBVc2Uge0BsaW5rIG1lcmdlTWFwfSBpbnN0ZWFkOiBgbWVyZ2VNYXAoKCkgPT4gcmVzdWx0KWAgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcFRvPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBpbm5lck9ic2VydmFibGU6IE8sXG4gIGNvbmN1cnJlbnQ/OiBudW1iZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXBUbzxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgaW5uZXJPYnNlcnZhYmxlOiBPLFxuICByZXN1bHRTZWxlY3RvcjogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFIsXG4gIGNvbmN1cnJlbnQ/OiBudW1iZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIFByb2plY3RzIGVhY2ggc291cmNlIHZhbHVlIHRvIHRoZSBzYW1lIE9ic2VydmFibGUgd2hpY2ggaXMgbWVyZ2VkIG11bHRpcGxlXG4gKiB0aW1lcyBpbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgbWVyZ2VNYXB9LCBidXQgbWFwcyBlYWNoIHZhbHVlIGFsd2F5c1xuICogdG8gdGhlIHNhbWUgaW5uZXIgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKG1lcmdlTWFwVG8ucG5nKVxuICpcbiAqIE1hcHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gdGhlIGdpdmVuIE9ic2VydmFibGUgYGlubmVyT2JzZXJ2YWJsZWAgcmVnYXJkbGVzc1xuICogb2YgdGhlIHNvdXJjZSB2YWx1ZSwgYW5kIHRoZW4gbWVyZ2VzIHRob3NlIHJlc3VsdGluZyBPYnNlcnZhYmxlcyBpbnRvIG9uZVxuICogc2luZ2xlIE9ic2VydmFibGUsIHdoaWNoIGlzIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRm9yIGVhY2ggY2xpY2sgZXZlbnQsIHN0YXJ0IGFuIGludGVydmFsIE9ic2VydmFibGUgdGlja2luZyBldmVyeSAxIHNlY29uZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1lcmdlTWFwVG8sIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKG1lcmdlTWFwVG8oaW50ZXJ2YWwoMTAwMCkpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZX1cbiAqIEBzZWUge0BsaW5rIG1lcmdlQWxsfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hNYXBUb31cbiAqXG4gKiBAcGFyYW0ge09ic2VydmFibGVJbnB1dH0gaW5uZXJPYnNlcnZhYmxlIEFuIE9ic2VydmFibGUgdG8gcmVwbGFjZSBlYWNoIHZhbHVlIGZyb21cbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVudD1JbmZpbml0eV0gTWF4aW11bSBudW1iZXIgb2YgaW5wdXRcbiAqIE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG8gY29uY3VycmVudGx5LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgZnJvbSB0aGVcbiAqIGdpdmVuIGBpbm5lck9ic2VydmFibGVgLlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY5LiBVc2Uge0BsaW5rIG1lcmdlTWFwfSBpbnN0ZWFkOiBgbWVyZ2VNYXAoKCkgPT4gcmVzdWx0KWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwVG88VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4oXG4gIGlubmVyT2JzZXJ2YWJsZTogTyxcbiAgcmVzdWx0U2VsZWN0b3I/OiAoKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFIpIHwgbnVtYmVyLFxuICBjb25jdXJyZW50OiBudW1iZXIgPSBJbmZpbml0eVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4gfCBSPiB7XG4gIGlmIChpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgIHJldHVybiBtZXJnZU1hcCgoKSA9PiBpbm5lck9ic2VydmFibGUsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KTtcbiAgfVxuICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgfVxuICByZXR1cm4gbWVyZ2VNYXAoKCkgPT4gaW5uZXJPYnNlcnZhYmxlLCBjb25jdXJyZW50KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcblxuLyoqXG4gKiBBcHBsaWVzIGFuIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIG92ZXIgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdoZXJlIHRoZVxuICogYWNjdW11bGF0b3IgZnVuY3Rpb24gaXRzZWxmIHJldHVybnMgYW4gT2JzZXJ2YWJsZSwgdGhlbiBlYWNoIGludGVybWVkaWF0ZVxuICogT2JzZXJ2YWJsZSByZXR1cm5lZCBpcyBtZXJnZWQgaW50byB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgc2Nhbn0sIGJ1dCB0aGUgT2JzZXJ2YWJsZXMgcmV0dXJuZWRcbiAqIGJ5IHRoZSBhY2N1bXVsYXRvciBhcmUgbWVyZ2VkIGludG8gdGhlIG91dGVyIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgb2YgdGhlIGBtZXJnZVNjYW5gIGlzIGFuIGBhY2N1bXVsYXRvcmAgZnVuY3Rpb24gd2hpY2ggaXNcbiAqIGJlaW5nIGNhbGxlZCBldmVyeSB0aW1lIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLiBgbWVyZ2VTY2FuYCB3aWxsXG4gKiBzdWJzY3JpYmUgdG8gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBgYWNjdW11bGF0b3JgIGZ1bmN0aW9uIGFuZCB3aWxsIGVtaXRcbiAqIHZhbHVlcyB0byB0aGUgc3Vic2NyaWJlciBlbWl0dGVkIGJ5IGlubmVyIE9ic2VydmFibGUuXG4gKlxuICogVGhlIGBhY2N1bXVsYXRvcmAgZnVuY3Rpb24gaXMgYmVpbmcgY2FsbGVkIHdpdGggdGhyZWUgcGFyYW1ldGVycyBwYXNzZWQgdG8gaXQ6XG4gKiBgYWNjYCwgYHZhbHVlYCBhbmQgYGluZGV4YC4gVGhlIGBhY2NgIHBhcmFtZXRlciBpcyB1c2VkIGFzIHRoZSBzdGF0ZSBwYXJhbWV0ZXJcbiAqIHdob3NlIHZhbHVlIGlzIGluaXRpYWxseSBzZXQgdG8gdGhlIGBzZWVkYCBwYXJhbWV0ZXIgKHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gKiBwYXNzZWQgdG8gdGhlIGBtZXJnZVNjYW5gIG9wZXJhdG9yKS5cbiAqXG4gKiBgbWVyZ2VTY2FuYCBpbnRlcm5hbGx5IGtlZXBzIHRoZSB2YWx1ZSBvZiB0aGUgYGFjY2AgcGFyYW1ldGVyOiBhcyBsb25nIGFzIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgZW1pdHMgd2l0aG91dCBpbm5lciBPYnNlcnZhYmxlIGVtaXR0aW5nLCB0aGUgYGFjY2Agd2lsbCBiZVxuICogc2V0IHRvIGBzZWVkYC4gVGhlIG5leHQgdGltZSB0aGUgaW5uZXIgT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLCBgbWVyZ2VTY2FuYFxuICogd2lsbCBpbnRlcm5hbGx5IHJlbWVtYmVyIGl0IGFuZCBpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgYGFjY3VtdWxhdG9yYFxuICogZnVuY3Rpb24gYXMgYGFjY2AgcGFyYW1ldGVyIHRoZSBuZXh0IHRpbWUgc291cmNlIGVtaXRzLlxuICpcbiAqIFRoZSBgdmFsdWVgIHBhcmFtZXRlciBvZiB0aGUgYGFjY3VtdWxhdG9yYCBmdW5jdGlvbiBpcyB0aGUgdmFsdWUgZW1pdHRlZCBieSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlLCB3aGlsZSB0aGUgYGluZGV4YCBpcyBhIG51bWJlciB3aGljaCByZXByZXNlbnQgdGhlIG9yZGVyIG9mIHRoZVxuICogY3VycmVudCBlbWlzc2lvbiBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIEl0IHN0YXJ0cyB3aXRoIDAuXG4gKlxuICogVGhlIGxhc3QgcGFyYW1ldGVyIHRvIHRoZSBgbWVyZ2VTY2FuYCBpcyB0aGUgYGNvbmN1cnJlbnRgIHZhbHVlIHdoaWNoIGRlZmF1bHRzXG4gKiB0byBJbmZpbml0eS4gSXQgcmVwcmVzZW50cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgaW5uZXIgT2JzZXJ2YWJsZSBzdWJzY3JpcHRpb25zXG4gKiBhdCBhIHRpbWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgY2xpY2sgZXZlbnRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwLCBtZXJnZVNjYW4sIG9mIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2skID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IG9uZSQgPSBjbGljayQucGlwZShtYXAoKCkgPT4gMSkpO1xuICogY29uc3Qgc2VlZCA9IDA7XG4gKiBjb25zdCBjb3VudCQgPSBvbmUkLnBpcGUoXG4gKiAgIG1lcmdlU2NhbigoYWNjLCBvbmUpID0+IG9mKGFjYyArIG9uZSksIHNlZWQpXG4gKiApO1xuICpcbiAqIGNvdW50JC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0czpcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDRcbiAqIC8vIC4uLmFuZCBzbyBvbiBmb3IgZWFjaCBjbGlja1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgc2Nhbn1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaFNjYW59XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihhY2M6IFIsIHZhbHVlOiBUKTogT2JzZXJ2YWJsZTxSPn0gYWNjdW11bGF0b3JcbiAqIFRoZSBhY2N1bXVsYXRvciBmdW5jdGlvbiBjYWxsZWQgb24gZWFjaCBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0gc2VlZCBUaGUgaW5pdGlhbCBhY2N1bXVsYXRpb24gdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9SW5maW5pdHldIE1heGltdW0gbnVtYmVyIG9mXG4gKiBpbnB1dCBPYnNlcnZhYmxlcyBiZWluZyBzdWJzY3JpYmVkIHRvIGNvbmN1cnJlbnRseS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiB0aGUgYWNjdW11bGF0ZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTY2FuPFQsIFI+KFxuICBhY2N1bXVsYXRvcjogKGFjYzogUiwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxSPixcbiAgc2VlZDogUixcbiAgY29uY3VycmVudCA9IEluZmluaXR5XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBhY2N1bXVsYXRlZCBzdGF0ZS5cbiAgICBsZXQgc3RhdGUgPSBzZWVkO1xuXG4gICAgcmV0dXJuIG1lcmdlSW50ZXJuYWxzKFxuICAgICAgc291cmNlLFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgICh2YWx1ZSwgaW5kZXgpID0+IGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaW5kZXgpLFxuICAgICAgY29uY3VycmVudCxcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBzdGF0ZSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgKCkgPT4gKHN0YXRlID0gbnVsbCEpXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSAnLi9tZXJnZSc7XG5cbi8qKlxuICogTWVyZ2UgdGhlIHZhbHVlcyBmcm9tIGFsbCBvYnNlcnZhYmxlcyB0byBhIHNpbmdsZSBvYnNlcnZhYmxlIHJlc3VsdC5cbiAqXG4gKiBDcmVhdGVzIGFuIG9ic2VydmFibGUsIHRoYXQgd2hlbiBzdWJzY3JpYmVkIHRvLCBzdWJzY3JpYmVzIHRvIHRoZSBzb3VyY2VcbiAqIG9ic2VydmFibGUsIGFuZCBhbGwgb3RoZXIgc291cmNlcyBwcm92aWRlZCBhcyBhcmd1bWVudHMuIEFsbCB2YWx1ZXMgZnJvbVxuICogZXZlcnkgc291cmNlIGFyZSBlbWl0dGVkIGZyb20gdGhlIHJlc3VsdGluZyBzdWJzY3JpcHRpb24uXG4gKlxuICogV2hlbiBhbGwgc291cmNlcyBjb21wbGV0ZSwgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgY29tcGxldGUuXG4gKlxuICogV2hlbiBhbnkgc291cmNlIGVycm9ycywgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgZXJyb3IuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEpvaW5pbmcgYWxsIG91dHB1dHMgZnJvbSBtdWx0aXBsZSB1c2VyIGlucHV0IGV2ZW50IHN0cmVhbXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIG1lcmdlV2l0aCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpLnBpcGUobWFwKCgpID0+ICdjbGljaycpKTtcbiAqIGNvbnN0IG1vdXNlbW92ZXMkID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnbW91c2Vtb3ZlJykucGlwZShtYXAoKCkgPT4gJ21vdXNlbW92ZScpKTtcbiAqIGNvbnN0IGRibGNsaWNrcyQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdkYmxjbGljaycpLnBpcGUobWFwKCgpID0+ICdkYmxjbGljaycpKTtcbiAqXG4gKiBtb3VzZW1vdmVzJFxuICogICAucGlwZShtZXJnZVdpdGgoY2xpY2tzJCwgZGJsY2xpY2tzJCkpXG4gKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gcmVzdWx0IChhc3N1bWluZyB1c2VyIGludGVyYWN0aW9ucylcbiAqIC8vICdtb3VzZW1vdmUnXG4gKiAvLyAnbW91c2Vtb3ZlJ1xuICogLy8gJ21vdXNlbW92ZSdcbiAqIC8vICdjbGljaydcbiAqIC8vICdjbGljaydcbiAqIC8vICdkYmxjbGljaydcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1lcmdlfVxuICpcbiAqIEBwYXJhbSBvdGhlclNvdXJjZXMgdGhlIHNvdXJjZXMgdG8gY29tYmluZSB0aGUgY3VycmVudCBzb3VyY2Ugd2l0aC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1lcmdlcyB0aGUgdmFsdWVzIGZyb21cbiAqIGFsbCBnaXZlbiBPYnNlcnZhYmxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlV2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4ub3RoZXJTb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+IHtcbiAgcmV0dXJuIG1lcmdlKC4uLm90aGVyU291cmNlcyk7XG59XG4iLCJpbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyoqXG4gKiBUaGUgTWluIG9wZXJhdG9yIG9wZXJhdGVzIG9uIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBudW1iZXJzIChvciBpdGVtcyB0aGF0IGNhbiBiZSBjb21wYXJlZCB3aXRoIGEgcHJvdmlkZWQgZnVuY3Rpb24pLFxuICogYW5kIHdoZW4gc291cmNlIE9ic2VydmFibGUgY29tcGxldGVzIGl0IGVtaXRzIGEgc2luZ2xlIGl0ZW06IHRoZSBpdGVtIHdpdGggdGhlIHNtYWxsZXN0IHZhbHVlLlxuICpcbiAqICFbXShtaW4ucG5nKVxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogR2V0IHRoZSBtaW5pbWFsIHZhbHVlIG9mIGEgc2VyaWVzIG9mIG51bWJlcnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG1pbiB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKDUsIDQsIDcsIDIsIDgpXG4gKiAgIC5waXBlKG1pbigpKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDJcbiAqIGBgYFxuICpcbiAqIFVzZSBhIGNvbXBhcmVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgbWluaW1hbCBpdGVtXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtaW4gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihcbiAqICAgeyBhZ2U6IDcsIG5hbWU6ICdGb28nIH0sXG4gKiAgIHsgYWdlOiA1LCBuYW1lOiAnQmFyJyB9LFxuICogICB7IGFnZTogOSwgbmFtZTogJ0JlZXInIH1cbiAqICkucGlwZShcbiAqICAgbWluKChhLCBiKSA9PiBhLmFnZSA8IGIuYWdlID8gLTEgOiAxKVxuICogKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgubmFtZSkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vICdCYXInXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXh9XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmVyXSAtIE9wdGlvbmFsIGNvbXBhcmVyIGZ1bmN0aW9uIHRoYXQgaXQgd2lsbCB1c2UgaW5zdGVhZCBvZiBpdHMgZGVmYXVsdCB0byBjb21wYXJlIHRoZVxuICogdmFsdWUgb2YgdHdvIGl0ZW1zLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbSB3aXRoIHRoZVxuICogc21hbGxlc3QgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaW48VD4oY29tcGFyZXI/OiAoeDogVCwgeTogVCkgPT4gbnVtYmVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIHJlZHVjZShpc0Z1bmN0aW9uKGNvbXBhcmVyKSA/ICh4LCB5KSA9PiAoY29tcGFyZXIoeCwgeSkgPCAwID8geCA6IHkpIDogKHgsIHkpID0+ICh4IDwgeSA/IHggOiB5KSk7XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBVbmFyeUZ1bmN0aW9uLCBPYnNlcnZlZFZhbHVlT2YsIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJy4vY29ubmVjdCc7XG5cbi8qKlxuICogQW4gb3BlcmF0b3IgdGhhdCBjcmVhdGVzIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX0sIHRoYXQgd2hlbiBjb25uZWN0ZWQsXG4gKiB3aXRoIHRoZSBgY29ubmVjdGAgbWV0aG9kLCB3aWxsIHVzZSB0aGUgcHJvdmlkZWQgc3ViamVjdCB0byBtdWx0aWNhc3QgdGhlIHZhbHVlc1xuICogZnJvbSB0aGUgc291cmNlIHRvIGFsbCBjb25zdW1lcnMuXG4gKlxuICogQHBhcmFtIHN1YmplY3QgVGhlIHN1YmplY3QgdG8gbXVsdGljYXN0IHRocm91Z2guXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX1cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVG8gY3JlYXRlIGEgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSwgdXNlIHtAbGluayBjb25uZWN0YWJsZX0uXG4gKiBJZiB5b3UncmUgdXNpbmcge0BsaW5rIHJlZkNvdW50fSBhZnRlciBgbXVsdGljYXN0YCwgdXNlIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgbXVsdGljYXN0KHN1YmplY3QpLCByZWZDb3VudCgpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgc2hhcmUoeyBjb25uZWN0b3I6ICgpID0+IHN1YmplY3QsIHJlc2V0T25FcnJvcjogZmFsc2UsIHJlc2V0T25Db21wbGV0ZTogZmFsc2UsIHJlc2V0T25SZWZDb3VudFplcm86IGZhbHNlIH0pYC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGljYXN0PFQ+KHN1YmplY3Q6IFN1YmplY3Q8VD4pOiBVbmFyeUZ1bmN0aW9uPE9ic2VydmFibGU8VD4sIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxUPj47XG5cbi8qKlxuICogQmVjYXVzZSB0aGlzIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIHtAbGluayBjb25uZWN0fSBvcGVyYXRvciwgYW5kIHdhcyBvdGhlcndpc2UgcG9vcmx5IGRvY3VtZW50ZWQsXG4gKiByYXRoZXIgdGhhbiBkdXBsaWNhdGUgdGhlIGVmZm9ydCBvZiBkb2N1bWVudGluZyB0aGUgc2FtZSBiZWhhdmlvciwgcGxlYXNlIHNlZSBkb2N1bWVudGF0aW9uIGZvciB0aGVcbiAqIHtAbGluayBjb25uZWN0fSBvcGVyYXRvci5cbiAqXG4gKiBAcGFyYW0gc3ViamVjdCBUaGUgc3ViamVjdCB1c2VkIHRvIG11bHRpY2FzdC5cbiAqIEBwYXJhbSBzZWxlY3RvciBBIHNldHVwIGZ1bmN0aW9uIHRvIHNldHVwIHRoZSBtdWx0aWNhc3RcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIG9ic2VydmFibGUgcmV0dXJuZWQgYnkgdGhlIHNlbGVjdG9yLlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgdGhlIHtAbGluayBjb25uZWN0fSBvcGVyYXRvciBpbnN0ZWFkLlxuICogYG11bHRpY2FzdChzdWJqZWN0LCBzZWxlY3RvcilgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBjb25uZWN0KHNlbGVjdG9yLCB7IGNvbm5lY3RvcjogKCkgPT4gc3ViamVjdCB9KWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpY2FzdDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBzdWJqZWN0OiBTdWJqZWN0PFQ+LFxuICBzZWxlY3RvcjogKHNoYXJlZDogT2JzZXJ2YWJsZTxUPikgPT4gT1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuXG4vKipcbiAqIEFuIG9wZXJhdG9yIHRoYXQgY3JlYXRlcyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9LCB0aGF0IHdoZW4gY29ubmVjdGVkLFxuICogd2l0aCB0aGUgYGNvbm5lY3RgIG1ldGhvZCwgd2lsbCB1c2UgdGhlIHByb3ZpZGVkIHN1YmplY3QgdG8gbXVsdGljYXN0IHRoZSB2YWx1ZXNcbiAqIGZyb20gdGhlIHNvdXJjZSB0byBhbGwgY29uc3VtZXJzLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0RmFjdG9yeSBBIGZhY3RvcnkgdGhhdCB3aWxsIGJlIGNhbGxlZCB0byBjcmVhdGUgdGhlIHN1YmplY3QuIFBhc3NpbmcgYSBmdW5jdGlvbiBoZXJlXG4gKiB3aWxsIGNhdXNlIHRoZSB1bmRlcmx5aW5nIHN1YmplY3QgdG8gYmUgXCJyZXNldFwiIG9uIGVycm9yLCBjb21wbGV0aW9uLCBvciByZWZDb3VudGVkIHVuc3Vic2NyaXB0aW9uIG9mXG4gKiB0aGUgc291cmNlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9XG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUsIHVzZSB7QGxpbmsgY29ubmVjdGFibGV9LlxuICogSWYgeW91J3JlIHVzaW5nIHtAbGluayByZWZDb3VudH0gYWZ0ZXIgYG11bHRpY2FzdGAsIHVzZSB0aGUge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLlxuICogYG11bHRpY2FzdCgoKSA9PiBuZXcgQmVoYXZpb3JTdWJqZWN0KCd0ZXN0JykpLCByZWZDb3VudCgpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgc2hhcmUoeyBjb25uZWN0b3I6ICgpID0+IG5ldyBCZWhhdmlvclN1YmplY3QoJ3Rlc3QnKSB9KWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpY2FzdDxUPihzdWJqZWN0RmFjdG9yeTogKCkgPT4gU3ViamVjdDxUPik6IFVuYXJ5RnVuY3Rpb248T2JzZXJ2YWJsZTxUPiwgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+PjtcblxuLyoqXG4gKiBCZWNhdXNlIHRoaXMgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yLCBhbmQgd2FzIG90aGVyd2lzZSBwb29ybHkgZG9jdW1lbnRlZCxcbiAqIHJhdGhlciB0aGFuIGR1cGxpY2F0ZSB0aGUgZWZmb3J0IG9mIGRvY3VtZW50aW5nIHRoZSBzYW1lIGJlaGF2aW9yLCBwbGVhc2Ugc2VlIGRvY3VtZW50YXRpb24gZm9yIHRoZVxuICoge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0RmFjdG9yeSBBIGZhY3RvcnkgdGhhdCBjcmVhdGVzIHRoZSBzdWJqZWN0IHVzZWQgdG8gbXVsdGljYXN0LlxuICogQHBhcmFtIHNlbGVjdG9yIEEgZnVuY3Rpb24gdG8gc2V0dXAgdGhlIG11bHRpY2FzdCBhbmQgc2VsZWN0IHRoZSBvdXRwdXQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBvYnNlcnZhYmxlIHJldHVybmVkIGJ5IHRoZSBzZWxlY3Rvci5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHRoZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBtdWx0aWNhc3Qoc3ViamVjdEZhY3RvcnksIHNlbGVjdG9yKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYGNvbm5lY3Qoc2VsZWN0b3IsIHsgY29ubmVjdG9yOiBzdWJqZWN0RmFjdG9yeSB9KWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpY2FzdDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBzdWJqZWN0RmFjdG9yeTogKCkgPT4gU3ViamVjdDxUPixcbiAgc2VsZWN0b3I6IChzaGFyZWQ6IE9ic2VydmFibGU8VD4pID0+IE9cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUge0BsaW5rIGNvbm5lY3RhYmxlfSBvYnNlcnZhYmxlLCB0aGUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yIG9yIHRoZVxuICoge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLiBTZWUgdGhlIG92ZXJsb2FkcyBiZWxvdyBmb3IgZXF1aXZhbGVudCByZXBsYWNlbWVudCBleGFtcGxlcyBvZiB0aGlzIG9wZXJhdG9yJ3NcbiAqIGJlaGF2aW9ycy5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGljYXN0PFQsIFI+KFxuICBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeTogU3ViamVjdDxUPiB8ICgoKSA9PiBTdWJqZWN0PFQ+KSxcbiAgc2VsZWN0b3I/OiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBPYnNlcnZhYmxlPFI+XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgY29uc3Qgc3ViamVjdEZhY3RvcnkgPSBpc0Z1bmN0aW9uKHN1YmplY3RPclN1YmplY3RGYWN0b3J5KSA/IHN1YmplY3RPclN1YmplY3RGYWN0b3J5IDogKCkgPT4gc3ViamVjdE9yU3ViamVjdEZhY3Rvcnk7XG5cbiAgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSB7XG4gICAgLy8gSWYgYSBzZWxlY3RvciBmdW5jdGlvbiBpcyBwcm92aWRlZCwgdGhlbiB3ZSdyZSBhIFwibm9ybWFsXCIgb3BlcmF0b3IgdGhhdCBpc24ndFxuICAgIC8vIGdvaW5nIHRvIHJldHVybiBhIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS4gV2UgY2FuIHVzZSBgY29ubmVjdGAgdG8gZG8gd2hhdCB3ZVxuICAgIC8vIG5lZWQgdG8gZG8uXG4gICAgcmV0dXJuIGNvbm5lY3Qoc2VsZWN0b3IsIHtcbiAgICAgIGNvbm5lY3Rvcjogc3ViamVjdEZhY3RvcnksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxhbnk+KHNvdXJjZSwgc3ViamVjdEZhY3RvcnkpO1xufVxuIiwiLyoqIEBwcmV0dGllciAqL1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogUmUtZW1pdHMgYWxsIG5vdGlmaWNhdGlvbnMgZnJvbSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIHNwZWNpZmllZCBzY2hlZHVsZXIuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkVuc3VyZSBhIHNwZWNpZmljIHNjaGVkdWxlciBpcyB1c2VkLCBmcm9tIG91dHNpZGUgb2YgYW4gT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogYG9ic2VydmVPbmAgaXMgYW4gb3BlcmF0b3IgdGhhdCBhY2NlcHRzIGEgc2NoZWR1bGVyIGFzIGEgZmlyc3QgcGFyYW1ldGVyLCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gcmVzY2hlZHVsZVxuICogbm90aWZpY2F0aW9ucyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSXQgbWlnaHQgYmUgdXNlZnVsLCBpZiB5b3UgZG8gbm90IGhhdmUgY29udHJvbCBvdmVyXG4gKiBpbnRlcm5hbCBzY2hlZHVsZXIgb2YgYSBnaXZlbiBPYnNlcnZhYmxlLCBidXQgd2FudCB0byBjb250cm9sIHdoZW4gaXRzIHZhbHVlcyBhcmUgZW1pdHRlZCBuZXZlcnRoZWxlc3MuXG4gKlxuICogUmV0dXJuZWQgT2JzZXJ2YWJsZSBlbWl0cyB0aGUgc2FtZSBub3RpZmljYXRpb25zIChuZXh0ZWQgdmFsdWVzLCBjb21wbGV0ZSBhbmQgZXJyb3IgZXZlbnRzKSBhcyB0aGUgc291cmNlIE9ic2VydmFibGUsXG4gKiBidXQgcmVzY2hlZHVsZWQgd2l0aCBwcm92aWRlZCBzY2hlZHVsZXIuIE5vdGUgdGhhdCB0aGlzIGRvZXNuJ3QgbWVhbiB0aGF0IHNvdXJjZSBPYnNlcnZhYmxlcyBpbnRlcm5hbFxuICogc2NoZWR1bGVyIHdpbGwgYmUgcmVwbGFjZWQgaW4gYW55IHdheS4gT3JpZ2luYWwgc2NoZWR1bGVyIHN0aWxsIHdpbGwgYmUgdXNlZCwgYnV0IHdoZW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzXG4gKiBub3RpZmljYXRpb24sIGl0IHdpbGwgYmUgaW1tZWRpYXRlbHkgc2NoZWR1bGVkIGFnYWluIC0gdGhpcyB0aW1lIHdpdGggc2NoZWR1bGVyIHBhc3NlZCB0byBgb2JzZXJ2ZU9uYC5cbiAqIEFuIGFudGktcGF0dGVybiB3b3VsZCBiZSBjYWxsaW5nIGBvYnNlcnZlT25gIG9uIE9ic2VydmFibGUgdGhhdCBlbWl0cyBsb3RzIG9mIHZhbHVlcyBzeW5jaHJvbm91c2x5LCB0byBzcGxpdFxuICogdGhhdCBlbWlzc2lvbnMgaW50byBhc3luY2hyb25vdXMgY2h1bmtzLiBGb3IgdGhpcyB0byBoYXBwZW4sIHNjaGVkdWxlciB3b3VsZCBoYXZlIHRvIGJlIHBhc3NlZCBpbnRvIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgZGlyZWN0bHkgKHVzdWFsbHkgaW50byB0aGUgb3BlcmF0b3IgdGhhdCBjcmVhdGVzIGl0KS4gYG9ic2VydmVPbmAgc2ltcGx5IGRlbGF5cyBub3RpZmljYXRpb25zIGFcbiAqIGxpdHRsZSBiaXQgbW9yZSwgdG8gZW5zdXJlIHRoYXQgdGhleSBhcmUgZW1pdHRlZCBhdCBleHBlY3RlZCBtb21lbnRzLlxuICpcbiAqIEFzIGEgbWF0dGVyIG9mIGZhY3QsIGBvYnNlcnZlT25gIGFjY2VwdHMgc2Vjb25kIHBhcmFtZXRlciwgd2hpY2ggc3BlY2lmaWVzIGluIG1pbGxpc2Vjb25kcyB3aXRoIHdoYXQgZGVsYXkgbm90aWZpY2F0aW9uc1xuICogd2lsbCBiZSBlbWl0dGVkLiBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4ge0BsaW5rIGRlbGF5fSBvcGVyYXRvciBhbmQgYG9ic2VydmVPbmAgaXMgdGhhdCBgb2JzZXJ2ZU9uYFxuICogd2lsbCBkZWxheSBhbGwgbm90aWZpY2F0aW9ucyAtIGluY2x1ZGluZyBlcnJvciBub3RpZmljYXRpb25zIC0gd2hpbGUgYGRlbGF5YCB3aWxsIHBhc3MgdGhyb3VnaCBlcnJvclxuICogZnJvbSBzb3VyY2UgT2JzZXJ2YWJsZSBpbW1lZGlhdGVseSB3aGVuIGl0IGlzIGVtaXR0ZWQuIEluIGdlbmVyYWwgaXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIHVzZSBgZGVsYXlgIG9wZXJhdG9yXG4gKiBmb3IgYW55IGtpbmQgb2YgZGVsYXlpbmcgb2YgdmFsdWVzIGluIHRoZSBzdHJlYW0sIHdoaWxlIHVzaW5nIGBvYnNlcnZlT25gIHRvIHNwZWNpZnkgd2hpY2ggc2NoZWR1bGVyIHNob3VsZCBiZSB1c2VkXG4gKiBmb3Igbm90aWZpY2F0aW9uIGVtaXNzaW9ucyBpbiBnZW5lcmFsLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbnN1cmUgdmFsdWVzIGluIHN1YnNjcmliZSBhcmUgY2FsbGVkIGp1c3QgYmVmb3JlIGJyb3dzZXIgcmVwYWludFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgb2JzZXJ2ZU9uLCBhbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqIHNvbWVEaXYuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMjAwcHg7YmFja2dyb3VuZDogIzA5Yyc7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNvbWVEaXYpO1xuICogY29uc3QgaW50ZXJ2YWxzID0gaW50ZXJ2YWwoMTApOyAgICAgIC8vIEludGVydmFscyBhcmUgc2NoZWR1bGVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2l0aCBhc3luYyBzY2hlZHVsZXIgYnkgZGVmYXVsdC4uLlxuICogaW50ZXJ2YWxzLnBpcGUoXG4gKiAgIG9ic2VydmVPbihhbmltYXRpb25GcmFtZVNjaGVkdWxlcikgLy8gLi4uYnV0IHdlIHdpbGwgb2JzZXJ2ZSBvbiBhbmltYXRpb25GcmFtZVxuICogKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjaGVkdWxlciB0byBlbnN1cmUgc21vb3RoIGFuaW1hdGlvbi5cbiAqIC5zdWJzY3JpYmUodmFsID0+IHtcbiAqICAgc29tZURpdi5zdHlsZS5oZWlnaHQgPSB2YWwgKyAncHgnO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkZWxheX1cbiAqXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFNjaGVkdWxlciB0aGF0IHdpbGwgYmUgdXNlZCB0byByZXNjaGVkdWxlIG5vdGlmaWNhdGlvbnMgZnJvbSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEBwYXJhbSBkZWxheSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgc3RhdGVzIHdpdGggd2hhdCBkZWxheSBldmVyeSBub3RpZmljYXRpb24gc2hvdWxkIGJlIHJlc2NoZWR1bGVkLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHNhbWVcbiAqIG5vdGlmaWNhdGlvbnMgYXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBidXQgd2l0aCBwcm92aWRlZCBzY2hlZHVsZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT248VD4oc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlLCBkZWxheSA9IDApOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCAoKSA9PiBzdWJzY3JpYmVyLm5leHQodmFsdWUpLCBkZWxheSksXG4gICAgICAgICgpID0+IGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsICgpID0+IHN1YnNjcmliZXIuY29tcGxldGUoKSwgZGVsYXkpLFxuICAgICAgICAoZXJyKSA9PiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCAoKSA9PiBzdWJzY3JpYmVyLmVycm9yKGVyciksIGRlbGF5KVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhcmdzT3JBcmdBcnJheSB9IGZyb20gJy4uL3V0aWwvYXJnc09yQXJnQXJyYXknO1xuaW1wb3J0IHsgb25FcnJvclJlc3VtZU5leHQgYXMgb0VSTkNyZWF0ZSB9IGZyb20gJy4uL29ic2VydmFibGUvb25FcnJvclJlc3VtZU5leHQnO1xuXG5leHBvcnQgZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHRXaXRoPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICBzb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+O1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0V2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcblxuLyoqXG4gKiBXaGVuIGFueSBvZiB0aGUgcHJvdmlkZWQgT2JzZXJ2YWJsZSBlbWl0cyBhbiBjb21wbGV0ZSBvciBlcnJvciBub3RpZmljYXRpb24sIGl0IGltbWVkaWF0ZWx5IHN1YnNjcmliZXMgdG8gdGhlIG5leHQgb25lXG4gKiB0aGF0IHdhcyBwYXNzZWQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkV4ZWN1dGUgc2VyaWVzIG9mIE9ic2VydmFibGVzLCBzdWJzY3JpYmVzIHRvIG5leHQgb25lIG9uIGVycm9yIG9yIGNvbXBsZXRlLjwvc3Bhbj5cbiAqXG4gKiAhW10ob25FcnJvclJlc3VtZU5leHQucG5nKVxuICpcbiAqIGBvbkVycm9yUmVzdW1lTmV4dGAgaXMgYW4gb3BlcmF0b3IgdGhhdCBhY2NlcHRzIGEgc2VyaWVzIG9mIE9ic2VydmFibGVzLCBwcm92aWRlZCBlaXRoZXIgZGlyZWN0bHkgYXNcbiAqIGFyZ3VtZW50cyBvciBhcyBhbiBhcnJheS4gSWYgbm8gc2luZ2xlIE9ic2VydmFibGUgaXMgcHJvdmlkZWQsIHJldHVybmVkIE9ic2VydmFibGUgd2lsbCBzaW1wbHkgYmVoYXZlIHRoZSBzYW1lXG4gKiBhcyB0aGUgc291cmNlLlxuICpcbiAqIGBvbkVycm9yUmVzdW1lTmV4dGAgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgc3RhcnRzIGJ5IHN1YnNjcmliaW5nIGFuZCByZS1lbWl0dGluZyB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBXaGVuIGl0cyBzdHJlYW0gb2YgdmFsdWVzIGVuZHMgLSBubyBtYXR0ZXIgaWYgT2JzZXJ2YWJsZSBjb21wbGV0ZWQgb3IgZW1pdHRlZCBhbiBlcnJvciAtIGBvbkVycm9yUmVzdW1lTmV4dGBcbiAqIHdpbGwgc3Vic2NyaWJlIHRvIHRoZSBmaXJzdCBPYnNlcnZhYmxlIHRoYXQgd2FzIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgbWV0aG9kLiBJdCB3aWxsIHN0YXJ0IHJlLWVtaXR0aW5nXG4gKiBpdHMgdmFsdWVzIGFzIHdlbGwgYW5kIC0gYWdhaW4gLSB3aGVuIHRoYXQgc3RyZWFtIGVuZHMsIGBvbkVycm9yUmVzdW1lTmV4dGAgd2lsbCBwcm9jZWVkIHRvIHN1YnNjcmliaW5nIHlldCBhbm90aGVyXG4gKiBPYnNlcnZhYmxlIGluIHByb3ZpZGVkIHNlcmllcywgbm8gbWF0dGVyIGlmIHByZXZpb3VzIE9ic2VydmFibGUgY29tcGxldGVkIG9yIGVuZGVkIHdpdGggYW4gZXJyb3IuIFRoaXMgd2lsbFxuICogYmUgaGFwcGVuaW5nIHVudGlsIHRoZXJlIGlzIG5vIG1vcmUgT2JzZXJ2YWJsZXMgbGVmdCBpbiB0aGUgc2VyaWVzLCBhdCB3aGljaCBwb2ludCByZXR1cm5lZCBPYnNlcnZhYmxlIHdpbGxcbiAqIGNvbXBsZXRlIC0gZXZlbiBpZiB0aGUgbGFzdCBzdWJzY3JpYmVkIHN0cmVhbSBlbmRlZCB3aXRoIGFuIGVycm9yLlxuICpcbiAqIGBvbkVycm9yUmVzdW1lTmV4dGAgY2FuIGJlIHRoZXJlZm9yZSB0aG91Z2h0IG9mIGFzIHZlcnNpb24gb2Yge0BsaW5rIGNvbmNhdH0gb3BlcmF0b3IsIHdoaWNoIGlzIG1vcmUgcGVybWlzc2l2ZVxuICogd2hlbiBpdCBjb21lcyB0byB0aGUgZXJyb3JzIGVtaXR0ZWQgYnkgaXRzIGlucHV0IE9ic2VydmFibGVzLiBXaGlsZSBgY29uY2F0YCBzdWJzY3JpYmVzIHRvIHRoZSBuZXh0IE9ic2VydmFibGVcbiAqIGluIHNlcmllcyBvbmx5IGlmIHByZXZpb3VzIG9uZSBzdWNjZXNzZnVsbHkgY29tcGxldGVkLCBgb25FcnJvclJlc3VtZU5leHRgIHN1YnNjcmliZXMgZXZlbiBpZiBpdCBlbmRlZCB3aXRoXG4gKiBhbiBlcnJvci5cbiAqXG4gKiBOb3RlIHRoYXQgeW91IGRvIG5vdCBnZXQgYW55IGFjY2VzcyB0byBlcnJvcnMgZW1pdHRlZCBieSB0aGUgT2JzZXJ2YWJsZXMuIEluIHBhcnRpY3VsYXIgZG8gbm90XG4gKiBleHBlY3QgdGhlc2UgZXJyb3JzIHRvIGFwcGVhciBpbiBlcnJvciBjYWxsYmFjayBwYXNzZWQgdG8ge0BsaW5rIE9ic2VydmFibGUjc3Vic2NyaWJlfS4gSWYgeW91IHdhbnQgdG8gdGFrZVxuICogc3BlY2lmaWMgYWN0aW9ucyBiYXNlZCBvbiB3aGF0IGVycm9yIHdhcyBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUsIHlvdSBzaG91bGQgdHJ5IG91dCB7QGxpbmsgY2F0Y2hFcnJvcn0gaW5zdGVhZC5cbiAqXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFN1YnNjcmliZSB0byB0aGUgbmV4dCBPYnNlcnZhYmxlIGFmdGVyIG1hcCBmYWlsc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgb25FcnJvclJlc3VtZU5leHQsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKDEsIDIsIDMsIDApXG4gKiAgIC5waXBlKFxuICogICAgIG1hcCh4ID0+IHtcbiAqICAgICAgIGlmICh4ID09PSAwKSB7XG4gKiAgICAgICAgIHRocm93IEVycm9yKCk7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgcmV0dXJuIDEwIC8geDtcbiAqICAgICB9KSxcbiAqICAgICBvbkVycm9yUmVzdW1lTmV4dChvZigxLCAyLCAzKSlcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB2YWwgPT4gY29uc29sZS5sb2codmFsKSxcbiAqICAgICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKGVyciksICAgICAgICAgIC8vIFdpbGwgbmV2ZXIgYmUgY2FsbGVkLlxuICogICAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygndGhhdFxcJ3MgaXQhJylcbiAqICAgfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDEwXG4gKiAvLyA1XG4gKiAvLyAzLjMzMzMzMzMzMzMzMzMzMzVcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vICd0aGF0J3MgaXQhJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0fVxuICogQHNlZSB7QGxpbmsgY2F0Y2hFcnJvcn1cbiAqXG4gKiBAcGFyYW0gey4uLk9ic2VydmFibGVJbnB1dH0gc291cmNlcyBPYnNlcnZhYmxlcyBwYXNzZWQgZWl0aGVyIGRpcmVjdGx5IG9yIGFzIGFuIGFycmF5LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdmFsdWVzIGZyb20gc291cmNlXG4gKiBPYnNlcnZhYmxlLCBidXQgLSBpZiBpdCBlcnJvcnMgLSBzdWJzY3JpYmVzIHRvIHRoZSBuZXh0IHBhc3NlZCBPYnNlcnZhYmxlXG4gKiBhbmQgc28gb24sIHVudGlsIGl0IGNvbXBsZXRlcyBvciBydW5zIG91dCBvZiBPYnNlcnZhYmxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0V2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlczogW1suLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1dIHwgWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPiB7XG4gIC8vIEZvciBzb21lIHJlYXNvbiwgVFMgNC4xIFJDIGdldHMgdGhlIGluZmVyZW5jZSB3cm9uZyBoZXJlIGFuZCBpbmZlcnMgdGhlXG4gIC8vIHJlc3VsdCB0byBiZSBgQVtudW1iZXJdW11gIC0gY29tcGxldGVseSBkcm9wcGluZyB0aGUgT2JzZXJ2YWJsZUlucHV0IHBhcnRcbiAgLy8gb2YgdGhlIHR5cGUuIFRoaXMgbWFrZXMgbm8gc2Vuc2Ugd2hhdHNvZXZlci4gQXMgYSB3b3JrYXJvdW5kLCB0aGUgdHlwZSBpc1xuICAvLyBhc3NlcnRlZCBleHBsaWNpdGx5LlxuICBjb25zdCBuZXh0U291cmNlcyA9IGFyZ3NPckFyZ0FycmF5KHNvdXJjZXMpIGFzIHVua25vd24gYXMgT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT47XG5cbiAgcmV0dXJuIChzb3VyY2UpID0+IG9FUk5DcmVhdGUoc291cmNlLCAuLi5uZXh0U291cmNlcyk7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZC4gVXNlIHtAbGluayBvbkVycm9yUmVzdW1lTmV4dFdpdGh9IGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uRXJyb3JSZXN1bWVOZXh0ID0gb25FcnJvclJlc3VtZU5leHRXaXRoO1xuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEdyb3VwcyBwYWlycyBvZiBjb25zZWN1dGl2ZSBlbWlzc2lvbnMgdG9nZXRoZXIgYW5kIGVtaXRzIHRoZW0gYXMgYW4gYXJyYXkgb2ZcbiAqIHR3byB2YWx1ZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlB1dHMgdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHByZXZpb3VzIHZhbHVlIHRvZ2V0aGVyIGFzXG4gKiBhbiBhcnJheSwgYW5kIGVtaXRzIHRoYXQuPC9zcGFuPlxuICpcbiAqICFbXShwYWlyd2lzZS5wbmcpXG4gKlxuICogVGhlIE50aCBlbWlzc2lvbiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aWxsIGNhdXNlIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZVxuICogdG8gZW1pdCBhbiBhcnJheSBbKE4tMSl0aCwgTnRoXSBvZiB0aGUgcHJldmlvdXMgYW5kIHRoZSBjdXJyZW50IHZhbHVlLCBhcyBhXG4gKiBwYWlyLiBGb3IgdGhpcyByZWFzb24sIGBwYWlyd2lzZWAgZW1pdHMgb24gdGhlIHNlY29uZCBhbmQgc3Vic2VxdWVudFxuICogZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBidXQgbm90IG9uIHRoZSBmaXJzdCBlbWlzc2lvbiwgYmVjYXVzZVxuICogdGhlcmUgaXMgbm8gcHJldmlvdXMgdmFsdWUgaW4gdGhhdCBjYXNlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBPbiBldmVyeSBjbGljayAoc3RhcnRpbmcgZnJvbSB0aGUgc2Vjb25kKSwgZW1pdCB0aGUgcmVsYXRpdmUgZGlzdGFuY2UgdG8gdGhlIHByZXZpb3VzIGNsaWNrXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgcGFpcndpc2UsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudDxQb2ludGVyRXZlbnQ+KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHBhaXJzID0gY2xpY2tzLnBpcGUocGFpcndpc2UoKSk7XG4gKiBjb25zdCBkaXN0YW5jZSA9IHBhaXJzLnBpcGUoXG4gKiAgIG1hcCgoW2ZpcnN0LCBzZWNvbmRdKSA9PiB7XG4gKiAgICAgY29uc3QgeDAgPSBmaXJzdC5jbGllbnRYO1xuICogICAgIGNvbnN0IHkwID0gZmlyc3QuY2xpZW50WTtcbiAqICAgICBjb25zdCB4MSA9IHNlY29uZC5jbGllbnRYO1xuICogICAgIGNvbnN0IHkxID0gc2Vjb25kLmNsaWVudFk7XG4gKiAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh4MCAtIHgxLCAyKSArIE1hdGgucG93KHkwIC0geTEsIDIpKTtcbiAqICAgfSlcbiAqICk7XG4gKlxuICogZGlzdGFuY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYnVmZmVyfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyQ291bnR9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHBhaXJzIChhcyBhcnJheXMpIG9mXG4gKiBjb25zZWN1dGl2ZSB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWlyd2lzZTxUPigpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFtULCBUXT4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IHByZXY6IFQ7XG4gICAgbGV0IGhhc1ByZXYgPSBmYWxzZTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBwID0gcHJldjtcbiAgICAgICAgcHJldiA9IHZhbHVlO1xuICAgICAgICBoYXNQcmV2ICYmIHN1YnNjcmliZXIubmV4dChbcCwgdmFsdWVdKTtcbiAgICAgICAgaGFzUHJldiA9IHRydWU7XG4gICAgICB9KVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8VCwgSzEgZXh0ZW5kcyBrZXlvZiBUPihrMTogSzEpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbSzFdPjtcbi8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIG1hcH0gYW5kIG9wdGlvbmFsIGNoYWluaW5nOiBgcGx1Y2soJ2ZvbycsICdiYXInKWAgaXMgYG1hcCh4ID0+IHg/LmZvbz8uYmFyKWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbHVjazxULCBLMSBleHRlbmRzIGtleW9mIFQsIEsyIGV4dGVuZHMga2V5b2YgVFtLMV0+KGsxOiBLMSwgazI6IEsyKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW0sxXVtLMl0+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbWFwfSBhbmQgb3B0aW9uYWwgY2hhaW5pbmc6IGBwbHVjaygnZm9vJywgJ2JhcicpYCBpcyBgbWFwKHggPT4geD8uZm9vPy5iYXIpYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrPFQsIEsxIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSwgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0+KFxuICBrMTogSzEsXG4gIGsyOiBLMixcbiAgazM6IEszXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbSzFdW0syXVtLM10+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbWFwfSBhbmQgb3B0aW9uYWwgY2hhaW5pbmc6IGBwbHVjaygnZm9vJywgJ2JhcicpYCBpcyBgbWFwKHggPT4geD8uZm9vPy5iYXIpYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrPFQsIEsxIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSwgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXT4oXG4gIGsxOiBLMSxcbiAgazI6IEsyLFxuICBrMzogSzMsXG4gIGs0OiBLNFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW0sxXVtLMl1bSzNdW0s0XT47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8XG4gIFQsXG4gIEsxIGV4dGVuZHMga2V5b2YgVCxcbiAgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSxcbiAgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sXG4gIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXSxcbiAgSzUgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdW0s0XVxuPihrMTogSzEsIGsyOiBLMiwgazM6IEszLCBrNDogSzQsIGs1OiBLNSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtLMV1bSzJdW0szXVtLNF1bSzVdPjtcbi8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIG1hcH0gYW5kIG9wdGlvbmFsIGNoYWluaW5nOiBgcGx1Y2soJ2ZvbycsICdiYXInKWAgaXMgYG1hcCh4ID0+IHg/LmZvbz8uYmFyKWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbHVjazxcbiAgVCxcbiAgSzEgZXh0ZW5kcyBrZXlvZiBULFxuICBLMiBleHRlbmRzIGtleW9mIFRbSzFdLFxuICBLMyBleHRlbmRzIGtleW9mIFRbSzFdW0syXSxcbiAgSzQgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdLFxuICBLNSBleHRlbmRzIGtleW9mIFRbSzFdW0syXVtLM11bSzRdLFxuICBLNiBleHRlbmRzIGtleW9mIFRbSzFdW0syXVtLM11bSzRdW0s1XVxuPihrMTogSzEsIGsyOiBLMiwgazM6IEszLCBrNDogSzQsIGs1OiBLNSwgazY6IEs2KTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW0sxXVtLMl1bSzNdW0s0XVtLNV1bSzZdPjtcbi8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIG1hcH0gYW5kIG9wdGlvbmFsIGNoYWluaW5nOiBgcGx1Y2soJ2ZvbycsICdiYXInKWAgaXMgYG1hcCh4ID0+IHg/LmZvbz8uYmFyKWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbHVjazxcbiAgVCxcbiAgSzEgZXh0ZW5kcyBrZXlvZiBULFxuICBLMiBleHRlbmRzIGtleW9mIFRbSzFdLFxuICBLMyBleHRlbmRzIGtleW9mIFRbSzFdW0syXSxcbiAgSzQgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdLFxuICBLNSBleHRlbmRzIGtleW9mIFRbSzFdW0syXVtLM11bSzRdLFxuICBLNiBleHRlbmRzIGtleW9mIFRbSzFdW0syXVtLM11bSzRdW0s1XVxuPihrMTogSzEsIGsyOiBLMiwgazM6IEszLCBrNDogSzQsIGs1OiBLNSwgazY6IEs2LCAuLi5yZXN0OiBzdHJpbmdbXSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgdW5rbm93bj47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8VD4oLi4ucHJvcGVydGllczogc3RyaW5nW10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIHVua25vd24+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBNYXBzIGVhY2ggc291cmNlIHZhbHVlIHRvIGl0cyBzcGVjaWZpZWQgbmVzdGVkIHByb3BlcnR5LlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5MaWtlIHtAbGluayBtYXB9LCBidXQgbWVhbnQgb25seSBmb3IgcGlja2luZyBvbmUgb2ZcbiAqIHRoZSBuZXN0ZWQgcHJvcGVydGllcyBvZiBldmVyeSBlbWl0dGVkIHZhbHVlLjwvc3Bhbj5cbiAqXG4gKiAhW10ocGx1Y2sucG5nKVxuICpcbiAqIEdpdmVuIGEgbGlzdCBvZiBzdHJpbmdzIG9yIG51bWJlcnMgZGVzY3JpYmluZyBhIHBhdGggdG8gYSBwcm9wZXJ0eSwgcmV0cmlldmVzXG4gKiB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpZWQgbmVzdGVkIHByb3BlcnR5IGZyb20gYWxsIHZhbHVlcyBpbiB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLiBJZiBhIHByb3BlcnR5IGNhbid0IGJlIHJlc29sdmVkLCBpdCB3aWxsIHJldHVybiBgdW5kZWZpbmVkYCBmb3JcbiAqIHRoYXQgdmFsdWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIE1hcCBldmVyeSBjbGljayB0byB0aGUgdGFnTmFtZSBvZiB0aGUgY2xpY2tlZCB0YXJnZXQgZWxlbWVudFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHBsdWNrIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHRhZ05hbWVzID0gY2xpY2tzLnBpcGUocGx1Y2soJ3RhcmdldCcsICd0YWdOYW1lJykpO1xuICpcbiAqIHRhZ05hbWVzLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1hcH1cbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyBUaGUgbmVzdGVkIHByb3BlcnRpZXMgdG8gcGx1Y2sgZnJvbSBlYWNoIHNvdXJjZVxuICogdmFsdWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgcHJvcGVydHkgdmFsdWVzIGZyb20gdGhlXG4gKiBzb3VyY2UgdmFsdWVzLlxuICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbHVjazxULCBSPiguLi5wcm9wZXJ0aWVzOiBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2w+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIGNvbnN0IGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xuICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsaXN0IG9mIHByb3BlcnRpZXMgY2Fubm90IGJlIGVtcHR5LicpO1xuICB9XG4gIHJldHVybiBtYXAoKHgpID0+IHtcbiAgICBsZXQgY3VycmVudFByb3A6IGFueSA9IHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IGN1cnJlbnRQcm9wPy5bcHJvcGVydGllc1tpXV07XG4gICAgICBpZiAodHlwZW9mIHAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGN1cnJlbnRQcm9wID0gcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50UHJvcDtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5pbXBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9wZXJhdG9yRnVuY3Rpb24sIFVuYXJ5RnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJy4vY29ubmVjdCc7XG5cbi8qKlxuICogUmV0dXJucyBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUgdGhhdCwgd2hlbiBjb25uZWN0ZWQsIHdpbGwgbXVsdGljYXN0XG4gKiBhbGwgdmFsdWVzIHRocm91Z2ggYSBzaW5nbGUgdW5kZXJseWluZyB7QGxpbmsgU3ViamVjdH0gaW5zdGFuY2UuXG4gKlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBUbyBjcmVhdGUgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlLCB1c2Uge0BsaW5rIGNvbm5lY3RhYmxlfS5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoKCkpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgY29ubmVjdGFibGUoc291cmNlLCB7IGNvbm5lY3RvcjogKCkgPT4gbmV3IFN1YmplY3QoKSwgcmVzZXRPbkRpc2Nvbm5lY3Q6IGZhbHNlIH0pYC5cbiAqIElmIHlvdSdyZSB1c2luZyB7QGxpbmsgcmVmQ291bnR9IGFmdGVyIGBwdWJsaXNoYCwgdXNlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoKCksIHJlZkNvdW50KCkpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgc291cmNlLnBpcGUoc2hhcmUoeyByZXNldE9uRXJyb3I6IGZhbHNlLCByZXNldE9uQ29tcGxldGU6IGZhbHNlLCByZXNldE9uUmVmQ291bnRaZXJvOiBmYWxzZSB9KSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoPFQ+KCk6IFVuYXJ5RnVuY3Rpb248T2JzZXJ2YWJsZTxUPiwgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+PjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUsIHRoYXQgd2hlbiBzdWJzY3JpYmVkIHRvLCBjcmVhdGVzIGFuIHVuZGVybHlpbmcge0BsaW5rIFN1YmplY3R9LFxuICogcHJvdmlkZXMgYW4gb2JzZXJ2YWJsZSB2aWV3IG9mIGl0IHRvIGEgYHNlbGVjdG9yYCBmdW5jdGlvbiwgdGFrZXMgdGhlIG9ic2VydmFibGUgcmVzdWx0IG9mXG4gKiB0aGF0IHNlbGVjdG9yIGZ1bmN0aW9uIGFuZCBzdWJzY3JpYmVzIHRvIGl0LCBzZW5kaW5nIGl0cyB2YWx1ZXMgdG8gdGhlIGNvbnN1bWVyLCBfdGhlbl8gY29ubmVjdHNcbiAqIHRoZSBzdWJqZWN0IHRvIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIEEgZnVuY3Rpb24gdXNlZCB0byBzZXR1cCBtdWx0aWNhc3RpbmcgcHJpb3IgdG8gYXV0b21hdGljIGNvbm5lY3Rpb24uXG4gKlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgdGhlIHtAbGluayBjb25uZWN0fSBvcGVyYXRvciBpbnN0ZWFkLlxuICogYHB1Ymxpc2goc2VsZWN0b3IpYCBpcyBlcXVpdmFsZW50IHRvIGBjb25uZWN0KHNlbGVjdG9yKWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2g8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihzZWxlY3RvcjogKHNoYXJlZDogT2JzZXJ2YWJsZTxUPikgPT4gTyk6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgQ29ubmVjdGFibGVPYnNlcnZhYmxlLCB3aGljaCBpcyBhIHZhcmlldHkgb2YgT2JzZXJ2YWJsZSB0aGF0IHdhaXRzIHVudGlsIGl0cyBjb25uZWN0IG1ldGhvZCBpcyBjYWxsZWRcbiAqIGJlZm9yZSBpdCBiZWdpbnMgZW1pdHRpbmcgaXRlbXMgdG8gdGhvc2UgT2JzZXJ2ZXJzIHRoYXQgaGF2ZSBzdWJzY3JpYmVkIHRvIGl0LlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5NYWtlcyBhIGNvbGQgT2JzZXJ2YWJsZSBob3Q8L3NwYW4+XG4gKlxuICogIVtdKHB1Ymxpc2gucG5nKVxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogTWFrZSBgc291cmNlJGAgaG90IGJ5IGFwcGx5aW5nIGBwdWJsaXNoYCBvcGVyYXRvciwgdGhlbiBtZXJnZSBlYWNoIGlubmVyIG9ic2VydmFibGUgaW50byBhIHNpbmdsZSBvbmVcbiAqIGFuZCBzdWJzY3JpYmVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgemlwLCBpbnRlcnZhbCwgb2YsIG1hcCwgcHVibGlzaCwgbWVyZ2UsIHRhcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSQgPSB6aXAoaW50ZXJ2YWwoMjAwMCksIG9mKDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDkpKVxuICogICAucGlwZShtYXAoKFssIG51bWJlcl0pID0+IG51bWJlcikpO1xuICpcbiAqIHNvdXJjZSRcbiAqICAgLnBpcGUoXG4gKiAgICAgcHVibGlzaChtdWx0aWNhc3RlZCQgPT5cbiAqICAgICAgIG1lcmdlKFxuICogICAgICAgICBtdWx0aWNhc3RlZCQucGlwZSh0YXAoeCA9PiBjb25zb2xlLmxvZygnU3RyZWFtIDE6JywgeCkpKSxcbiAqICAgICAgICAgbXVsdGljYXN0ZWQkLnBpcGUodGFwKHggPT4gY29uc29sZS5sb2coJ1N0cmVhbSAyOicsIHgpKSksXG4gKiAgICAgICAgIG11bHRpY2FzdGVkJC5waXBlKHRhcCh4ID0+IGNvbnNvbGUubG9nKCdTdHJlYW0gMzonLCB4KSkpXG4gKiAgICAgICApXG4gKiAgICAgKVxuICogICApXG4gKiAgIC5zdWJzY3JpYmUoKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGV2ZXJ5IHR3byBzZWNvbmRzXG4gKiAvLyBTdHJlYW0gMTogMVxuICogLy8gU3RyZWFtIDI6IDFcbiAqIC8vIFN0cmVhbSAzOiAxXG4gKiAvLyAuLi5cbiAqIC8vIFN0cmVhbSAxOiA5XG4gKiAvLyBTdHJlYW0gMjogOVxuICogLy8gU3RyZWFtIDM6IDlcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2hMYXN0fVxuICogQHNlZSB7QGxpbmsgcHVibGlzaFJlcGxheX1cbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2hCZWhhdmlvcn1cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc2VsZWN0b3JdIC0gT3B0aW9uYWwgc2VsZWN0b3IgZnVuY3Rpb24gd2hpY2ggY2FuIHVzZSB0aGUgbXVsdGljYXN0ZWQgc291cmNlIHNlcXVlbmNlIGFzIG1hbnkgdGltZXNcbiAqIGFzIG5lZWRlZCwgd2l0aG91dCBjYXVzaW5nIG11bHRpcGxlIHN1YnNjcmlwdGlvbnMgdG8gdGhlIHNvdXJjZSBzZXF1ZW5jZS5cbiAqIFN1YnNjcmliZXJzIHRvIHRoZSBnaXZlbiBzb3VyY2Ugd2lsbCByZWNlaXZlIGFsbCBub3RpZmljYXRpb25zIG9mIHRoZSBzb3VyY2UgZnJvbSB0aGUgdGltZSBvZiB0aGUgc3Vic2NyaXB0aW9uIG9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB0aGF0IHVwb24gY29ubmVjdGlvblxuICogY2F1c2VzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0byBlbWl0IGl0ZW1zIHRvIGl0cyBPYnNlcnZlcnMuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUge0BsaW5rIGNvbm5lY3RhYmxlfSBvYnNlcnZhYmxlLCB0aGUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yIG9yIHRoZVxuICoge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLiBTZWUgdGhlIG92ZXJsb2FkcyBiZWxvdyBmb3IgZXF1aXZhbGVudCByZXBsYWNlbWVudCBleGFtcGxlcyBvZiB0aGlzIG9wZXJhdG9yJ3NcbiAqIGJlaGF2aW9ycy5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaDxULCBSPihzZWxlY3Rvcj86IE9wZXJhdG9yRnVuY3Rpb248VCwgUj4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4gfCBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgcmV0dXJuIHNlbGVjdG9yID8gKHNvdXJjZSkgPT4gY29ubmVjdChzZWxlY3Rvcikoc291cmNlKSA6IChzb3VyY2UpID0+IG11bHRpY2FzdChuZXcgU3ViamVjdDxUPigpKShzb3VyY2UpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAnLi4vQmVoYXZpb3JTdWJqZWN0JztcbmltcG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJy4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJztcbmltcG9ydCB7IFVuYXJ5RnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9IHRoYXQgdXRpbGl6ZXMgYSB7QGxpbmsgQmVoYXZpb3JTdWJqZWN0fS5cbiAqXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIFRoZSBpbml0aWFsIHZhbHVlIHBhc3NlZCB0byB0aGUge0BsaW5rIEJlaGF2aW9yU3ViamVjdH0uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX1cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVG8gY3JlYXRlIGEgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSB0aGF0IHVzZXMgYVxuICoge0BsaW5rIEJlaGF2aW9yU3ViamVjdH0gdW5kZXIgdGhlIGhvb2QsIHVzZSB7QGxpbmsgY29ubmVjdGFibGV9LlxuICogYHNvdXJjZS5waXBlKHB1Ymxpc2hCZWhhdmlvcihpbml0VmFsdWUpKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYGNvbm5lY3RhYmxlKHNvdXJjZSwgeyBjb25uZWN0b3I6ICgpID0+IG5ldyBCZWhhdmlvclN1YmplY3QoaW5pdFZhbHVlKSwgcmVzZXRPbkRpc2Nvbm5lY3Q6IGZhbHNlIH0pYC5cbiAqIElmIHlvdSdyZSB1c2luZyB7QGxpbmsgcmVmQ291bnR9IGFmdGVyIGBwdWJsaXNoQmVoYXZpb3JgLCB1c2UgdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoQmVoYXZpb3IoaW5pdFZhbHVlKSwgcmVmQ291bnQoKSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBzb3VyY2UucGlwZShzaGFyZSh7IGNvbm5lY3RvcjogKCkgPT4gbmV3IEJlaGF2aW9yU3ViamVjdChpbml0VmFsdWUpLCByZXNldE9uRXJyb3I6IGZhbHNlLCByZXNldE9uQ29tcGxldGU6IGZhbHNlLCByZXNldE9uUmVmQ291bnRaZXJvOiBmYWxzZSAgfSkpYC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaEJlaGF2aW9yPFQ+KGluaXRpYWxWYWx1ZTogVCk6IFVuYXJ5RnVuY3Rpb248T2JzZXJ2YWJsZTxUPiwgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+PiB7XG4gIC8vIE5vdGUgdGhhdCB0aGlzIGhhcyAqbmV2ZXIqIHN1cHBvcnRlZCB0aGUgc2VsZWN0b3IgZnVuY3Rpb24uXG4gIHJldHVybiAoc291cmNlKSA9PiB7XG4gICAgY29uc3Qgc3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VD4oaW5pdGlhbFZhbHVlKTtcbiAgICByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsICgpID0+IHN1YmplY3QpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi4vQXN5bmNTdWJqZWN0JztcbmltcG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJy4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJztcbmltcG9ydCB7IFVuYXJ5RnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogUmV0dXJucyBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUgc2VxdWVuY2UgdGhhdCBzaGFyZXMgYSBzaW5nbGUgc3Vic2NyaXB0aW9uIHRvIHRoZVxuICogdW5kZXJseWluZyBzZXF1ZW5jZSBjb250YWluaW5nIG9ubHkgdGhlIGxhc3Qgbm90aWZpY2F0aW9uLlxuICpcbiAqICFbXShwdWJsaXNoTGFzdC5wbmcpXG4gKlxuICogU2ltaWxhciB0byB7QGxpbmsgcHVibGlzaH0sIGJ1dCBpdCB3YWl0cyB1bnRpbCB0aGUgc291cmNlIG9ic2VydmFibGUgY29tcGxldGVzIGFuZCBzdG9yZXNcbiAqIHRoZSBsYXN0IGVtaXR0ZWQgdmFsdWUuXG4gKiBTaW1pbGFybHkgdG8ge0BsaW5rIHB1Ymxpc2hSZXBsYXl9IGFuZCB7QGxpbmsgcHVibGlzaEJlaGF2aW9yfSwgdGhpcyBrZWVwcyBzdG9yaW5nIHRoZSBsYXN0XG4gKiB2YWx1ZSBldmVuIGlmIGl0IGhhcyBubyBtb3JlIHN1YnNjcmliZXJzLiBJZiBzdWJzZXF1ZW50IHN1YnNjcmlwdGlvbnMgaGFwcGVuLCB0aGV5IHdpbGxcbiAqIGltbWVkaWF0ZWx5IGdldCB0aGF0IGxhc3Qgc3RvcmVkIHZhbHVlIGFuZCBjb21wbGV0ZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSwgaW50ZXJ2YWwsIHB1Ymxpc2hMYXN0LCB0YXAsIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjb25uZWN0YWJsZSA9IDxDb25uZWN0YWJsZU9ic2VydmFibGU8bnVtYmVyPj5pbnRlcnZhbCgxMDAwKVxuICogICAucGlwZShcbiAqICAgICB0YXAoeCA9PiBjb25zb2xlLmxvZygnc2lkZSBlZmZlY3QnLCB4KSksXG4gKiAgICAgdGFrZSgzKSxcbiAqICAgICBwdWJsaXNoTGFzdCgpXG4gKiAgICk7XG4gKlxuICogY29ubmVjdGFibGUuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogeCA9PiBjb25zb2xlLmxvZygnU3ViLiBBJywgeCksXG4gKiAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coJ1N1Yi4gQSBFcnJvcicsIGVyciksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnU3ViLiBBIENvbXBsZXRlJylcbiAqIH0pO1xuICpcbiAqIGNvbm5lY3RhYmxlLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHggPT4gY29uc29sZS5sb2coJ1N1Yi4gQicsIHgpLFxuICogICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKCdTdWIuIEIgRXJyb3InLCBlcnIpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ1N1Yi4gQiBDb21wbGV0ZScpXG4gKiB9KTtcbiAqXG4gKiBjb25uZWN0YWJsZS5jb25uZWN0KCk7XG4gKlxuICogLy8gUmVzdWx0czpcbiAqIC8vICdzaWRlIGVmZmVjdCAwJyAgIC0gYWZ0ZXIgb25lIHNlY29uZFxuICogLy8gJ3NpZGUgZWZmZWN0IDEnICAgLSBhZnRlciB0d28gc2Vjb25kc1xuICogLy8gJ3NpZGUgZWZmZWN0IDInICAgLSBhZnRlciB0aHJlZSBzZWNvbmRzXG4gKiAvLyAnU3ViLiBBIDInICAgICAgICAtIGltbWVkaWF0ZWx5IGFmdGVyICdzaWRlIGVmZmVjdCAyJ1xuICogLy8gJ1N1Yi4gQiAyJ1xuICogLy8gJ1N1Yi4gQSBDb21wbGV0ZSdcbiAqIC8vICdTdWIuIEIgQ29tcGxldGUnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9XG4gKiBAc2VlIHtAbGluayBwdWJsaXNofVxuICogQHNlZSB7QGxpbmsgcHVibGlzaFJlcGxheX1cbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2hCZWhhdmlvcn1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBlbGVtZW50cyBvZiBhXG4gKiBzZXF1ZW5jZSBwcm9kdWNlZCBieSBtdWx0aWNhc3RpbmcgdGhlIHNvdXJjZSBzZXF1ZW5jZS5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVG8gY3JlYXRlIGEgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSB3aXRoIGFuXG4gKiB7QGxpbmsgQXN5bmNTdWJqZWN0fSB1bmRlciB0aGUgaG9vZCwgdXNlIHtAbGluayBjb25uZWN0YWJsZX0uXG4gKiBgc291cmNlLnBpcGUocHVibGlzaExhc3QoKSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBjb25uZWN0YWJsZShzb3VyY2UsIHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgQXN5bmNTdWJqZWN0KCksIHJlc2V0T25EaXNjb25uZWN0OiBmYWxzZSB9KWAuXG4gKiBJZiB5b3UncmUgdXNpbmcge0BsaW5rIHJlZkNvdW50fSBhZnRlciBgcHVibGlzaExhc3RgLCB1c2UgdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoTGFzdCgpLCByZWZDb3VudCgpKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYHNvdXJjZS5waXBlKHNoYXJlKHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgQXN5bmNTdWJqZWN0KCksIHJlc2V0T25FcnJvcjogZmFsc2UsIHJlc2V0T25Db21wbGV0ZTogZmFsc2UsIHJlc2V0T25SZWZDb3VudFplcm86IGZhbHNlIH0pKWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hMYXN0PFQ+KCk6IFVuYXJ5RnVuY3Rpb248T2JzZXJ2YWJsZTxUPiwgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+PiB7XG4gIC8vIE5vdGUgdGhhdCB0aGlzIGhhcyAqbmV2ZXIqIHN1cHBvcnRlZCBhIHNlbGVjdG9yIGZ1bmN0aW9uIGxpa2UgYHB1Ymxpc2hgIGFuZCBgcHVibGlzaFJlcGxheWAuXG4gIHJldHVybiAoc291cmNlKSA9PiB7XG4gICAgY29uc3Qgc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3Q8VD4oKTtcbiAgICByZXR1cm4gbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsICgpID0+IHN1YmplY3QpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJy4uL1JlcGxheVN1YmplY3QnO1xuaW1wb3J0IHsgbXVsdGljYXN0IH0gZnJvbSAnLi9tdWx0aWNhc3QnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPcGVyYXRvckZ1bmN0aW9uLCBUaW1lc3RhbXBQcm92aWRlciwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX0gdGhhdCB1c2VzIGEge0BsaW5rIFJlcGxheVN1YmplY3R9XG4gKiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSBidWZmZXJTaXplIFRoZSBidWZmZXIgc2l6ZSBmb3IgdGhlIHVuZGVybHlpbmcge0BsaW5rIFJlcGxheVN1YmplY3R9LlxuICogQHBhcmFtIHdpbmRvd1RpbWUgVGhlIHdpbmRvdyB0aW1lIGZvciB0aGUgdW5kZXJseWluZyB7QGxpbmsgUmVwbGF5U3ViamVjdH0uXG4gKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgVGhlIHRpbWVzdGFtcCBwcm92aWRlciBmb3IgdGhlIHVuZGVybHlpbmcge0BsaW5rIFJlcGxheVN1YmplY3R9LlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBUbyBjcmVhdGUgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlIHRoYXQgdXNlcyBhXG4gKiB7QGxpbmsgUmVwbGF5U3ViamVjdH0gdW5kZXIgdGhlIGhvb2QsIHVzZSB7QGxpbmsgY29ubmVjdGFibGV9LlxuICogYHNvdXJjZS5waXBlKHB1Ymxpc2hSZXBsYXkoc2l6ZSwgdGltZSwgc2NoZWR1bGVyKSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBjb25uZWN0YWJsZShzb3VyY2UsIHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgUmVwbGF5U3ViamVjdChzaXplLCB0aW1lLCBzY2hlZHVsZXIpLCByZXNldE9uRGlzY29ubmVjdDogZmFsc2UgfSlgLlxuICogSWYgeW91J3JlIHVzaW5nIHtAbGluayByZWZDb3VudH0gYWZ0ZXIgYHB1Ymxpc2hSZXBsYXlgLCB1c2UgdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBwdWJsaXNoUmVwbGF5KHNpemUsIHRpbWUsIHNjaGVkdWxlciksIHJlZkNvdW50KClgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBzaGFyZSh7IGNvbm5lY3RvcjogKCkgPT4gbmV3IFJlcGxheVN1YmplY3Qoc2l6ZSwgdGltZSwgc2NoZWR1bGVyKSwgcmVzZXRPbkVycm9yOiBmYWxzZSwgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSwgcmVzZXRPblJlZkNvdW50WmVybzogZmFsc2UgfSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUmVwbGF5PFQ+KFxuICBidWZmZXJTaXplPzogbnVtYmVyLFxuICB3aW5kb3dUaW1lPzogbnVtYmVyLFxuICB0aW1lc3RhbXBQcm92aWRlcj86IFRpbWVzdGFtcFByb3ZpZGVyXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlLCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgd2lsbCBjcmVhdGUgYSB7QGxpbmsgUmVwbGF5U3ViamVjdH0sXG4gKiBhbmQgcGFzcyBhbiBvYnNlcnZhYmxlIGZyb20gaXQgKHVzaW5nIFthc09ic2VydmFibGVdKGFwaS9pbmRleC9jbGFzcy9TdWJqZWN0I2FzT2JzZXJ2YWJsZSkpIHRvXG4gKiB0aGUgYHNlbGVjdG9yYCBmdW5jdGlvbiwgd2hpY2ggdGhlbiByZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCBpcyBzdWJzY3JpYmVkIHRvIGJlZm9yZVxuICogXCJjb25uZWN0aW5nXCIgdGhlIHNvdXJjZSB0byB0aGUgaW50ZXJuYWwgYFJlcGxheVN1YmplY3RgLlxuICpcbiAqIFNpbmNlIHRoaXMgaXMgZGVwcmVjYXRlZCwgZm9yIGFkZGl0aW9uYWwgZGV0YWlscyBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHtAbGluayBjb25uZWN0fS5cbiAqXG4gKiBAcGFyYW0gYnVmZmVyU2l6ZSBUaGUgYnVmZmVyIHNpemUgZm9yIHRoZSB1bmRlcmx5aW5nIHtAbGluayBSZXBsYXlTdWJqZWN0fS5cbiAqIEBwYXJhbSB3aW5kb3dUaW1lIFRoZSB3aW5kb3cgdGltZSBmb3IgdGhlIHVuZGVybHlpbmcge0BsaW5rIFJlcGxheVN1YmplY3R9LlxuICogQHBhcmFtIHNlbGVjdG9yIEEgZnVuY3Rpb24gdXNlZCB0byBzZXR1cCB0aGUgbXVsdGljYXN0LlxuICogQHBhcmFtIHRpbWVzdGFtcFByb3ZpZGVyIFRoZSB0aW1lc3RhbXAgcHJvdmlkZXIgZm9yIHRoZSB1bmRlcmx5aW5nIHtAbGluayBSZXBsYXlTdWJqZWN0fS5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHRoZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoUmVwbGF5KHNpemUsIHdpbmRvdywgc2VsZWN0b3IsIHNjaGVkdWxlcikpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgc291cmNlLnBpcGUoY29ubmVjdChzZWxlY3RvciwgeyBjb25uZWN0b3I6ICgpID0+IG5ldyBSZXBsYXlTdWJqZWN0KHNpemUsIHdpbmRvdywgc2NoZWR1bGVyKSB9KSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUmVwbGF5PFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIGJ1ZmZlclNpemU6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgd2luZG93VGltZTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICBzZWxlY3RvcjogKHNoYXJlZDogT2JzZXJ2YWJsZTxUPikgPT4gTyxcbiAgdGltZXN0YW1wUHJvdmlkZXI/OiBUaW1lc3RhbXBQcm92aWRlclxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfSB0aGF0IHVzZXMgYSB7QGxpbmsgUmVwbGF5U3ViamVjdH1cbiAqIGludGVybmFsbHkuXG4gKlxuICogQHBhcmFtIGJ1ZmZlclNpemUgVGhlIGJ1ZmZlciBzaXplIGZvciB0aGUgdW5kZXJseWluZyB7QGxpbmsgUmVwbGF5U3ViamVjdH0uXG4gKiBAcGFyYW0gd2luZG93VGltZSBUaGUgd2luZG93IHRpbWUgZm9yIHRoZSB1bmRlcmx5aW5nIHtAbGluayBSZXBsYXlTdWJqZWN0fS5cbiAqIEBwYXJhbSBzZWxlY3RvciBQYXNzaW5nIGB1bmRlZmluZWRgIGhlcmUgZGV0ZXJtaW5lcyB0aGF0IHRoaXMgb3BlcmF0b3Igd2lsbCByZXR1cm4gYSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfS5cbiAqIEBwYXJhbSB0aW1lc3RhbXBQcm92aWRlciBUaGUgdGltZXN0YW1wIHByb3ZpZGVyIGZvciB0aGUgdW5kZXJseWluZyB7QGxpbmsgUmVwbGF5U3ViamVjdH0uXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUgdGhhdCB1c2VzIGFcbiAqIHtAbGluayBSZXBsYXlTdWJqZWN0fSB1bmRlciB0aGUgaG9vZCwgdXNlIHtAbGluayBjb25uZWN0YWJsZX0uXG4gKiBgc291cmNlLnBpcGUocHVibGlzaFJlcGxheShzaXplLCB0aW1lLCBzY2hlZHVsZXIpKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYGNvbm5lY3RhYmxlKHNvdXJjZSwgeyBjb25uZWN0b3I6ICgpID0+IG5ldyBSZXBsYXlTdWJqZWN0KHNpemUsIHRpbWUsIHNjaGVkdWxlciksIHJlc2V0T25EaXNjb25uZWN0OiBmYWxzZSB9KWAuXG4gKiBJZiB5b3UncmUgdXNpbmcge0BsaW5rIHJlZkNvdW50fSBhZnRlciBgcHVibGlzaFJlcGxheWAsIHVzZSB0aGUge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLlxuICogYHB1Ymxpc2hSZXBsYXkoc2l6ZSwgdGltZSwgc2NoZWR1bGVyKSwgcmVmQ291bnQoKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYHNoYXJlKHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgUmVwbGF5U3ViamVjdChzaXplLCB0aW1lLCBzY2hlZHVsZXIpLCByZXNldE9uRXJyb3I6IGZhbHNlLCByZXNldE9uQ29tcGxldGU6IGZhbHNlLCByZXNldE9uUmVmQ291bnRaZXJvOiBmYWxzZSB9KWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hSZXBsYXk8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgYnVmZmVyU2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICB3aW5kb3dUaW1lOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHNlbGVjdG9yOiB1bmRlZmluZWQsXG4gIHRpbWVzdGFtcFByb3ZpZGVyOiBUaW1lc3RhbXBQcm92aWRlclxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHRoZSB7QGxpbmsgY29ubmVjdGFibGV9IG9ic2VydmFibGUsIHRoZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3Igb3IgdGhlXG4gKiB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuIFNlZSB0aGUgb3ZlcmxvYWRzIGJlbG93IGZvciBlcXVpdmFsZW50IHJlcGxhY2VtZW50IGV4YW1wbGVzIG9mIHRoaXMgb3BlcmF0b3Inc1xuICogYmVoYXZpb3JzLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUmVwbGF5PFQsIFI+KFxuICBidWZmZXJTaXplPzogbnVtYmVyLFxuICB3aW5kb3dUaW1lPzogbnVtYmVyLFxuICBzZWxlY3Rvck9yU2NoZWR1bGVyPzogVGltZXN0YW1wUHJvdmlkZXIgfCBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+LFxuICB0aW1lc3RhbXBQcm92aWRlcj86IFRpbWVzdGFtcFByb3ZpZGVyXG4pIHtcbiAgaWYgKHNlbGVjdG9yT3JTY2hlZHVsZXIgJiYgIWlzRnVuY3Rpb24oc2VsZWN0b3JPclNjaGVkdWxlcikpIHtcbiAgICB0aW1lc3RhbXBQcm92aWRlciA9IHNlbGVjdG9yT3JTY2hlZHVsZXI7XG4gIH1cbiAgY29uc3Qgc2VsZWN0b3IgPSBpc0Z1bmN0aW9uKHNlbGVjdG9yT3JTY2hlZHVsZXIpID8gc2VsZWN0b3JPclNjaGVkdWxlciA6IHVuZGVmaW5lZDtcbiAgLy8gTm90ZSwgd2UncmUgcGFzc2luZyBgc2VsZWN0b3IhYCBoZXJlLCBiZWNhdXNlIGF0IHJ1bnRpbWUsIGB1bmRlZmluZWRgIGlzIGFuIGFjY2VwdGFibGUgYXJndW1lbnRcbiAgLy8gYnV0IGl0IG1ha2VzIG91ciBUeXBlU2NyaXB0IHNpZ25hdHVyZSBmb3IgYG11bHRpY2FzdGAgdW5oYXBweSAoYXMgaXQgc2hvdWxkLCBiZWNhdXNlIGl0J3MgZ3Jvc3MpLlxuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gbXVsdGljYXN0KG5ldyBSZXBsYXlTdWJqZWN0PFQ+KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHRpbWVzdGFtcFByb3ZpZGVyKSwgc2VsZWN0b3IhKShzb3VyY2UpO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0VHVwbGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyByYWNlSW5pdCB9IGZyb20gJy4uL29ic2VydmFibGUvcmFjZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgZmlyc3Qgc291cmNlIE9ic2VydmFibGUgdG8gZW1pdCBhIG5leHQsXG4gKiBlcnJvciBvciBjb21wbGV0ZSBub3RpZmljYXRpb24gZnJvbSB0aGUgY29tYmluYXRpb24gb2YgdGhlIE9ic2VydmFibGUgdG8gd2hpY2hcbiAqIHRoZSBvcGVyYXRvciBpcyBhcHBsaWVkIGFuZCBzdXBwbGllZCBPYnNlcnZhYmxlcy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBtYXAsIHJhY2VXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgb2JzMSA9IGludGVydmFsKDcwMDApLnBpcGUobWFwKCgpID0+ICdzbG93IG9uZScpKTtcbiAqIGNvbnN0IG9iczIgPSBpbnRlcnZhbCgzMDAwKS5waXBlKG1hcCgoKSA9PiAnZmFzdCBvbmUnKSk7XG4gKiBjb25zdCBvYnMzID0gaW50ZXJ2YWwoNTAwMCkucGlwZShtYXAoKCkgPT4gJ21lZGl1bSBvbmUnKSk7XG4gKlxuICogb2JzMVxuICogICAucGlwZShyYWNlV2l0aChvYnMyLCBvYnMzKSlcbiAqICAgLnN1YnNjcmliZSh3aW5uZXIgPT4gY29uc29sZS5sb2cod2lubmVyKSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gYSBzZXJpZXMgb2YgJ2Zhc3Qgb25lJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIG90aGVyU291cmNlcyBTb3VyY2VzIHVzZWQgdG8gcmFjZSBmb3Igd2hpY2ggT2JzZXJ2YWJsZSBlbWl0cyBmaXJzdC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIG91dHB1dCBvZiB0aGVcbiAqIGZpcnN0IE9ic2VydmFibGUgdG8gZW1pdCBhbiBpdGVtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFjZVdpdGg8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLm90aGVyU291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPiB7XG4gIHJldHVybiAhb3RoZXJTb3VyY2VzLmxlbmd0aFxuICAgID8gaWRlbnRpdHlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICByYWNlSW5pdDxUIHwgQVtudW1iZXJdPihbc291cmNlLCAuLi5vdGhlclNvdXJjZXNdKShzdWJzY3JpYmVyKTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgc2NhbkludGVybmFscyB9IGZyb20gJy4vc2NhbkludGVybmFscyc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2U8ViwgQSA9IFY+KGFjY3VtdWxhdG9yOiAoYWNjOiBBIHwgViwgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFYsIFYgfCBBPjtcbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2U8ViwgQT4oYWNjdW11bGF0b3I6IChhY2M6IEEsIHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBBLCBzZWVkOiBBKTogT3BlcmF0b3JGdW5jdGlvbjxWLCBBPjtcbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2U8ViwgQSwgUyA9IEE+KGFjY3VtdWxhdG9yOiAoYWNjOiBBIHwgUywgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEsIHNlZWQ6IFMpOiBPcGVyYXRvckZ1bmN0aW9uPFYsIEE+O1xuXG4vKipcbiAqIEFwcGxpZXMgYW4gYWNjdW11bGF0b3IgZnVuY3Rpb24gb3ZlciB0aGUgc291cmNlIE9ic2VydmFibGUsIGFuZCByZXR1cm5zIHRoZVxuICogYWNjdW11bGF0ZWQgcmVzdWx0IHdoZW4gdGhlIHNvdXJjZSBjb21wbGV0ZXMsIGdpdmVuIGFuIG9wdGlvbmFsIHNlZWQgdmFsdWUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNvbWJpbmVzIHRvZ2V0aGVyIGFsbCB2YWx1ZXMgZW1pdHRlZCBvbiB0aGUgc291cmNlLFxuICogdXNpbmcgYW4gYWNjdW11bGF0b3IgZnVuY3Rpb24gdGhhdCBrbm93cyBob3cgdG8gam9pbiBhIG5ldyBzb3VyY2UgdmFsdWUgaW50b1xuICogdGhlIGFjY3VtdWxhdGlvbiBmcm9tIHRoZSBwYXN0Ljwvc3Bhbj5cbiAqXG4gKiAhW10ocmVkdWNlLnBuZylcbiAqXG4gKiBMaWtlXG4gKiBbQXJyYXkucHJvdG90eXBlLnJlZHVjZSgpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZWR1Y2UpLFxuICogYHJlZHVjZWAgYXBwbGllcyBhbiBgYWNjdW11bGF0b3JgIGZ1bmN0aW9uIGFnYWluc3QgYW4gYWNjdW11bGF0aW9uIGFuZCBlYWNoXG4gKiB2YWx1ZSBvZiB0aGUgc291cmNlIE9ic2VydmFibGUgKGZyb20gdGhlIHBhc3QpIHRvIHJlZHVjZSBpdCB0byBhIHNpbmdsZVxuICogdmFsdWUsIGVtaXR0ZWQgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBOb3RlIHRoYXQgYHJlZHVjZWAgd2lsbCBvbmx5IGVtaXRcbiAqIG9uZSB2YWx1ZSwgb25seSB3aGVuIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBjb21wbGV0ZXMuIEl0IGlzIGVxdWl2YWxlbnQgdG9cbiAqIGFwcGx5aW5nIG9wZXJhdG9yIHtAbGluayBzY2FufSBmb2xsb3dlZCBieSBvcGVyYXRvciB7QGxpbmsgbGFzdH0uXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgYXBwbGllcyBhIHNwZWNpZmllZCBgYWNjdW11bGF0b3JgIGZ1bmN0aW9uIHRvIGVhY2hcbiAqIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIGEgYHNlZWRgIHZhbHVlIGlzIHNwZWNpZmllZCwgdGhlblxuICogdGhhdCB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGluaXRpYWwgdmFsdWUgZm9yIHRoZSBhY2N1bXVsYXRvci4gSWYgbm8gc2VlZFxuICogdmFsdWUgaXMgc3BlY2lmaWVkLCB0aGUgZmlyc3QgaXRlbSBvZiB0aGUgc291cmNlIGlzIHVzZWQgYXMgdGhlIHNlZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgY2xpY2sgZXZlbnRzIHRoYXQgaGFwcGVuZWQgaW4gNSBzZWNvbmRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgdGFrZVVudGlsLCBpbnRlcnZhbCwgbWFwLCByZWR1Y2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3NJbkZpdmVTZWNvbmRzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKVxuICogICAucGlwZSh0YWtlVW50aWwoaW50ZXJ2YWwoNTAwMCkpKTtcbiAqXG4gKiBjb25zdCBvbmVzID0gY2xpY2tzSW5GaXZlU2Vjb25kcy5waXBlKG1hcCgoKSA9PiAxKSk7XG4gKiBjb25zdCBzZWVkID0gMDtcbiAqIGNvbnN0IGNvdW50ID0gb25lcy5waXBlKHJlZHVjZSgoYWNjLCBvbmUpID0+IGFjYyArIG9uZSwgc2VlZCkpO1xuICpcbiAqIGNvdW50LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvdW50fVxuICogQHNlZSB7QGxpbmsgZXhwYW5kfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICogQHNlZSB7QGxpbmsgc2Nhbn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFjYzogQSwgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpOiBBfSBhY2N1bXVsYXRvciBUaGUgYWNjdW11bGF0b3IgZnVuY3Rpb25cbiAqIGNhbGxlZCBvbiBlYWNoIHNvdXJjZSB2YWx1ZS5cbiAqIEBwYXJhbSB7QX0gW3NlZWRdIFRoZSBpbml0aWFsIGFjY3VtdWxhdGlvbiB2YWx1ZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGEgc2luZ2xlIHZhbHVlIHRoYXRcbiAqIGlzIHRoZSByZXN1bHQgb2YgYWNjdW11bGF0aW5nIHRoZSB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2U8ViwgQT4oYWNjdW11bGF0b3I6IChhY2M6IFYgfCBBLCB2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gQSwgc2VlZD86IGFueSk6IE9wZXJhdG9yRnVuY3Rpb248ViwgViB8IEE+IHtcbiAgcmV0dXJuIG9wZXJhdGUoc2NhbkludGVybmFscyhhY2N1bXVsYXRvciwgc2VlZCwgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCBmYWxzZSwgdHJ1ZSkpO1xufVxuIiwiaW1wb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIE1ha2UgYSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfSBiZWhhdmUgbGlrZSBhIG9yZGluYXJ5IG9ic2VydmFibGUgYW5kIGF1dG9tYXRlcyB0aGUgd2F5XG4gKiB5b3UgY2FuIGNvbm5lY3QgdG8gaXQuXG4gKlxuICogSW50ZXJuYWxseSBpdCBjb3VudHMgdGhlIHN1YnNjcmlwdGlvbnMgdG8gdGhlIG9ic2VydmFibGUgYW5kIHN1YnNjcmliZXMgKG9ubHkgb25jZSkgdG8gdGhlIHNvdXJjZSBpZlxuICogdGhlIG51bWJlciBvZiBzdWJzY3JpcHRpb25zIGlzIGxhcmdlciB0aGFuIDAuIElmIHRoZSBudW1iZXIgb2Ygc3Vic2NyaXB0aW9ucyBpcyBzbWFsbGVyIHRoYW4gMSwgaXRcbiAqIHVuc3Vic2NyaWJlcyBmcm9tIHRoZSBzb3VyY2UuIFRoaXMgd2F5IHlvdSBjYW4gbWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyBiZWZvcmUgdGhlICpwdWJsaXNoZWQqXG4gKiByZWZDb3VudCBoYXMgb25seSBhIHNpbmdsZSBzdWJzY3JpcHRpb24gaW5kZXBlbmRlbnRseSBvZiB0aGUgbnVtYmVyIG9mIHN1YnNjcmliZXJzIHRvIHRoZSB0YXJnZXRcbiAqIG9ic2VydmFibGUuXG4gKlxuICogTm90ZSB0aGF0IHVzaW5nIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgdXNpbmcgdGhlIGBtdWx0aWNhc3QoKCkgPT4gbmV3IFN1YmplY3QoKSlgIG9wZXJhdG9yXG4gKiAobWFraW5nIHRoZSBvYnNlcnZhYmxlIGhvdCkgYW5kIHRoZSAqcmVmQ291bnQqIG9wZXJhdG9yIGluIGEgc2VxdWVuY2UuXG4gKlxuICogIVtdKHJlZkNvdW50LnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIHRoZXJlIGFyZSB0d28gaW50ZXJ2YWxzIHR1cm5lZCBpbnRvIGNvbm5lY3RhYmxlIG9ic2VydmFibGVzXG4gKiBieSB1c2luZyB0aGUgKnB1Ymxpc2gqIG9wZXJhdG9yLiBUaGUgZmlyc3Qgb25lIHVzZXMgdGhlICpyZWZDb3VudCogb3BlcmF0b3IsIHRoZVxuICogc2Vjb25kIG9uZSBkb2VzIG5vdCB1c2UgaXQuIFlvdSB3aWxsIG5vdGljZSB0aGF0IGEgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSBkb2VzIG5vdGhpbmdcbiAqIHVudGlsIHlvdSBjYWxsIGl0cyBjb25uZWN0IGZ1bmN0aW9uLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFwLCBwdWJsaXNoLCByZWZDb3VudCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIC8vIFR1cm4gdGhlIGludGVydmFsIG9ic2VydmFibGUgaW50byBhIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSAoaG90KVxuICogY29uc3QgcmVmQ291bnRJbnRlcnZhbCA9IGludGVydmFsKDQwMCkucGlwZShcbiAqICAgdGFwKG51bSA9PiBjb25zb2xlLmxvZyhgcmVmQ291bnQgJHsgbnVtIH1gKSksXG4gKiAgIHB1Ymxpc2goKSxcbiAqICAgcmVmQ291bnQoKVxuICogKTtcbiAqXG4gKiBjb25zdCBwdWJsaXNoZWRJbnRlcnZhbCA9IGludGVydmFsKDQwMCkucGlwZShcbiAqICAgdGFwKG51bSA9PiBjb25zb2xlLmxvZyhgcHVibGlzaCAkeyBudW0gfWApKSxcbiAqICAgcHVibGlzaCgpXG4gKiApO1xuICpcbiAqIHJlZkNvdW50SW50ZXJ2YWwuc3Vic2NyaWJlKCk7XG4gKiByZWZDb3VudEludGVydmFsLnN1YnNjcmliZSgpO1xuICogLy8gJ3JlZkNvdW50IDAnIC0tLS0tPiAncmVmQ291bnQgMScgLS0tLS0+IGV0Y1xuICogLy8gQWxsIHN1YnNjcmlwdGlvbnMgd2lsbCByZWNlaXZlIHRoZSBzYW1lIHZhbHVlIGFuZCB0aGUgdGFwIChhbmRcbiAqIC8vIGV2ZXJ5IG90aGVyIG9wZXJhdG9yKSBiZWZvcmUgdGhlIGBwdWJsaXNoYCBvcGVyYXRvciB3aWxsIGJlIGV4ZWN1dGVkXG4gKiAvLyBvbmx5IG9uY2UgcGVyIGV2ZW50IGluZGVwZW5kZW50bHkgb2YgdGhlIG51bWJlciBvZiBzdWJzY3JpcHRpb25zLlxuICpcbiAqIHB1Ymxpc2hlZEludGVydmFsLnN1YnNjcmliZSgpO1xuICogLy8gTm90aGluZyBoYXBwZW5zIHVudGlsIHlvdSBjYWxsIC5jb25uZWN0KCkgb24gdGhlIG9ic2VydmFibGUuXG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBhdXRvbWF0ZXMgdGhlIGNvbm5lY3Rpb25cbiAqIHRvIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5cbiAqIEBzZWUge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX1cbiAqIEBzZWUge0BsaW5rIHNoYXJlfVxuICogQHNlZSB7QGxpbmsgcHVibGlzaH1cbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGggdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IuIEhvdyBgc2hhcmVgIGlzIHVzZWRcbiAqIHdpbGwgZGVwZW5kIG9uIHRoZSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlIHlvdSBjcmVhdGVkIGp1c3QgcHJpb3IgdG8gdGhlXG4gKiBgcmVmQ291bnRgIG9wZXJhdG9yLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZDb3VudDxUPigpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGNvbm5lY3Rpb246IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gICAgKHNvdXJjZSBhcyBhbnkpLl9yZWZDb3VudCsrO1xuXG4gICAgY29uc3QgcmVmQ291bnRlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAoKSA9PiB7XG4gICAgICBpZiAoIXNvdXJjZSB8fCAoc291cmNlIGFzIGFueSkuX3JlZkNvdW50IDw9IDAgfHwgMCA8IC0tKHNvdXJjZSBhcyBhbnkpLl9yZWZDb3VudCkge1xuICAgICAgICBjb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLy9cbiAgICAgIC8vIENvbXBhcmUgdGhlIGxvY2FsIFJlZkNvdW50U3Vic2NyaWJlcidzIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uIHRvIHRoZVxuICAgICAgLy8gY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gb24gdGhlIHNoYXJlZCBDb25uZWN0YWJsZU9ic2VydmFibGUuIEluIGNhc2VzXG4gICAgICAvLyB3aGVyZSB0aGUgQ29ubmVjdGFibGVPYnNlcnZhYmxlIHNvdXJjZSBzeW5jaHJvbm91c2x5IGVtaXRzIHZhbHVlcywgYW5kXG4gICAgICAvLyB0aGUgUmVmQ291bnRTdWJzY3JpYmVyJ3MgZG93bnN0cmVhbSBPYnNlcnZlcnMgc3luY2hyb25vdXNseSB1bnN1YnNjcmliZSxcbiAgICAgIC8vIGV4ZWN1dGlvbiBjb250aW51ZXMgdG8gaGVyZSBiZWZvcmUgdGhlIFJlZkNvdW50T3BlcmF0b3IgaGFzIGEgY2hhbmNlIHRvXG4gICAgICAvLyBzdXBwbHkgdGhlIFJlZkNvdW50U3Vic2NyaWJlciB3aXRoIHRoZSBzaGFyZWQgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24uXG4gICAgICAvLyBGb3IgZXhhbXBsZTpcbiAgICAgIC8vIGBgYFxuICAgICAgLy8gcmFuZ2UoMCwgMTApLnBpcGUoXG4gICAgICAvLyAgIHB1Ymxpc2goKSxcbiAgICAgIC8vICAgcmVmQ291bnQoKSxcbiAgICAgIC8vICAgdGFrZSg1KSxcbiAgICAgIC8vIClcbiAgICAgIC8vIC5zdWJzY3JpYmUoKTtcbiAgICAgIC8vIGBgYFxuICAgICAgLy8gSW4gb3JkZXIgdG8gYWNjb3VudCBmb3IgdGhpcyBjYXNlLCBSZWZDb3VudFN1YnNjcmliZXIgc2hvdWxkIG9ubHkgZGlzcG9zZVxuICAgICAgLy8gdGhlIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSdzIHNoYXJlZCBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiBpZiB0aGVcbiAgICAgIC8vIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uIGV4aXN0cywgKmFuZCogZWl0aGVyOlxuICAgICAgLy8gICBhLiBSZWZDb3VudFN1YnNjcmliZXIgZG9lc24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBzaGFyZWQgY29ubmVjdGlvblxuICAgICAgLy8gICAgICBTdWJzY3JpcHRpb24geWV0LCBvcixcbiAgICAgIC8vICAgYi4gUmVmQ291bnRTdWJzY3JpYmVyJ3MgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gcmVmZXJlbmNlIGlzIGlkZW50aWNhbFxuICAgICAgLy8gICAgICB0byB0aGUgc2hhcmVkIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uXG4gICAgICAvLy9cblxuICAgICAgY29uc3Qgc2hhcmVkQ29ubmVjdGlvbiA9IChzb3VyY2UgYXMgYW55KS5fY29ubmVjdGlvbjtcbiAgICAgIGNvbnN0IGNvbm4gPSBjb25uZWN0aW9uO1xuICAgICAgY29ubmVjdGlvbiA9IG51bGw7XG5cbiAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uKSkge1xuICAgICAgICBzaGFyZWRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG5cbiAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9KTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG5cbiAgICBpZiAoIXJlZkNvdW50ZXIuY2xvc2VkKSB7XG4gICAgICBjb25uZWN0aW9uID0gKHNvdXJjZSBhcyBDb25uZWN0YWJsZU9ic2VydmFibGU8VD4pLmNvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3RpbWVyJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXBlYXRDb25maWcge1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHNvdXJjZS4gRGVmYXVsdHMgdG8gYEluZmluaXR5YC5cbiAgICovXG4gIGNvdW50PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJZiBhIGBudW1iZXJgLCB3aWxsIGRlbGF5IHRoZSByZXBlYXQgb2YgdGhlIHNvdXJjZSBieSB0aGF0IG51bWJlciBvZiBtaWxsaXNlY29uZHMuXG4gICAqIElmIGEgZnVuY3Rpb24sIGl0IHdpbGwgcHJvdmlkZSB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBzb3VyY2UgaGFzIGJlZW4gc3Vic2NyaWJlZCB0byxcbiAgICogYW5kIHRoZSByZXR1cm4gdmFsdWUgc2hvdWxkIGJlIGEgdmFsaWQgb2JzZXJ2YWJsZSBpbnB1dCB0aGF0IHdpbGwgbm90aWZ5IHdoZW4gdGhlIHNvdXJjZVxuICAgKiBzaG91bGQgYmUgcmVwZWF0ZWQuIElmIHRoZSBub3RpZmllciBvYnNlcnZhYmxlIGlzIGVtcHR5LCB0aGUgcmVzdWx0IHdpbGwgY29tcGxldGUuXG4gICAqL1xuICBkZWxheT86IG51bWJlciB8ICgoY291bnQ6IG51bWJlcikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSBzdHJlYW0gd2hlbiB0aGUgc291cmNlIHN0cmVhbSBjb21wbGV0ZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlJlcGVhdHMgYWxsIHZhbHVlcyBlbWl0dGVkIG9uIHRoZSBzb3VyY2UuIEl0J3MgbGlrZSB7QGxpbmsgcmV0cnl9LCBidXQgZm9yIG5vbiBlcnJvciBjYXNlcy48L3NwYW4+XG4gKlxuICogIVtdKHJlcGVhdC5wbmcpXG4gKlxuICogUmVwZWF0IHdpbGwgb3V0cHV0IHZhbHVlcyBmcm9tIGEgc291cmNlIHVudGlsIHRoZSBzb3VyY2UgY29tcGxldGVzLCB0aGVuIGl0IHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhlXG4gKiBzb3VyY2UgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLCB3aXRoIGEgc3BlY2lmaWVkIGRlbGF5LiBSZXBlYXQgY2FuIGJlIHBhcnRpY3VsYXJseSB1c2VmdWwgaW5cbiAqIGNvbWJpbmF0aW9uIHdpdGggY2xvc2luZyBvcGVyYXRvcnMgbGlrZSB7QGxpbmsgdGFrZX0sIHtAbGluayB0YWtlVW50aWx9LCB7QGxpbmsgZmlyc3R9LCBvciB7QGxpbmsgdGFrZVdoaWxlfSxcbiAqIGFzIGl0IGNhbiBiZSB1c2VkIHRvIHJlc3RhcnQgYSBzb3VyY2UgYWdhaW4gZnJvbSBzY3JhdGNoLlxuICpcbiAqIFJlcGVhdCBpcyB2ZXJ5IHNpbWlsYXIgdG8ge0BsaW5rIHJldHJ5fSwgd2hlcmUge0BsaW5rIHJldHJ5fSB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZSBzb3VyY2UgaW4gdGhlIGVycm9yIGNhc2UsIGJ1dFxuICogYHJlcGVhdGAgd2lsbCByZXN1YnNjcmliZSBpZiB0aGUgc291cmNlIGNvbXBsZXRlcy5cbiAqXG4gKiBOb3RlIHRoYXQgYHJlcGVhdGAgd2lsbCBfbm90XyBjYXRjaCBlcnJvcnMuIFVzZSB7QGxpbmsgcmV0cnl9IGZvciB0aGF0LlxuICpcbiAqIC0gYHJlcGVhdCgwKWAgcmV0dXJucyBhbiBlbXB0eSBvYnNlcnZhYmxlXG4gKiAtIGByZXBlYXQoKWAgd2lsbCByZXBlYXQgZm9yZXZlclxuICogLSBgcmVwZWF0KHsgZGVsYXk6IDIwMCB9KWAgd2lsbCByZXBlYXQgZm9yZXZlciwgd2l0aCBhIGRlbGF5IG9mIDIwMG1zIGJldHdlZW4gcmVwZXRpdGlvbnMuXG4gKiAtIGByZXBlYXQoeyBjb3VudDogMiwgZGVsYXk6IDQwMCB9KWAgd2lsbCByZXBlYXQgdHdpY2UsIHdpdGggYSBkZWxheSBvZiA0MDBtcyBiZXR3ZWVuIHJlcGV0aXRpb25zLlxuICogLSBgcmVwZWF0KHsgZGVsYXk6IChjb3VudCkgPT4gdGltZXIoY291bnQgKiAxMDAwKSB9KWAgd2lsbCByZXBlYXQgZm9yZXZlciwgYnV0IHdpbGwgaGF2ZSBhIGRlbGF5IHRoYXQgZ3Jvd3MgYnkgb25lIHNlY29uZCBmb3IgZWFjaCByZXBldGl0aW9uLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBSZXBlYXQgYSBtZXNzYWdlIHN0cmVhbVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgcmVwZWF0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gb2YoJ1JlcGVhdCBtZXNzYWdlJyk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZShyZXBlYXQoMykpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0c1xuICogLy8gJ1JlcGVhdCBtZXNzYWdlJ1xuICogLy8gJ1JlcGVhdCBtZXNzYWdlJ1xuICogLy8gJ1JlcGVhdCBtZXNzYWdlJ1xuICogYGBgXG4gKlxuICogUmVwZWF0IDMgdmFsdWVzLCAyIHRpbWVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCByZXBlYXQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKHRha2UoMyksIHJlcGVhdCgyKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGV2ZXJ5IHNlY29uZFxuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogYGBgXG4gKlxuICogRGVmaW5pbmcgdHdvIGNvbXBsZXggcmVwZWF0cyB3aXRoIGRlbGF5cyBvbiB0aGUgc2FtZSBzb3VyY2UuXG4gKiBOb3RlIHRoYXQgdGhlIHNlY29uZCByZXBlYXQgY2Fubm90IGJlIGNhbGxlZCB1bnRpbCB0aGUgZmlyc3RcbiAqIHJlcGVhdCBhcyBleGhhdXN0ZWQgaXQncyBjb3VudC5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZGVmZXIsIG9mLCByZXBlYXQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBkZWZlcigoKSA9PiB7XG4gKiAgICByZXR1cm4gb2YoYEhlbGxvLCBpdCBpcyAke25ldyBEYXRlKCl9YClcbiAqIH0pO1xuICpcbiAqIHNvdXJjZS5waXBlKFxuICogICAgLy8gUmVwZWF0IDMgdGltZXMgd2l0aCBhIGRlbGF5IG9mIDEgc2Vjb25kIGJldHdlZW4gcmVwZXRpdGlvbnNcbiAqICAgIHJlcGVhdCh7XG4gKiAgICAgIGNvdW50OiAzLFxuICogICAgICBkZWxheTogMTAwMCxcbiAqICAgIH0pLFxuICpcbiAqICAgIC8vICpUaGVuKiByZXBlYXQgZm9yZXZlciwgYnV0IHdpdGggYW4gZXhwb25lbnRpYWwgc3RlcC1iYWNrXG4gKiAgICAvLyBtYXhpbmcgb3V0IGF0IDEgbWludXRlLlxuICogICAgcmVwZWF0KHtcbiAqICAgICAgZGVsYXk6IChjb3VudCkgPT4gdGltZXIoTWF0aC5taW4oNjAwMDAsIDIgXiBjb3VudCAqIDEwMDApKVxuICogICAgfSlcbiAqIClcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHJlcGVhdFdoZW59XG4gKiBAc2VlIHtAbGluayByZXRyeX1cbiAqXG4gKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgc291cmNlIE9ic2VydmFibGUgaXRlbXMgYXJlIHJlcGVhdGVkLCBhIGNvdW50IG9mIDAgd2lsbCB5aWVsZFxuICogYW4gZW1wdHkgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGVhdDxUPihjb3VudE9yQ29uZmlnPzogbnVtYmVyIHwgUmVwZWF0Q29uZmlnKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgbGV0IGNvdW50ID0gSW5maW5pdHk7XG4gIGxldCBkZWxheTogUmVwZWF0Q29uZmlnWydkZWxheSddO1xuXG4gIGlmIChjb3VudE9yQ29uZmlnICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIGNvdW50T3JDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAoeyBjb3VudCA9IEluZmluaXR5LCBkZWxheSB9ID0gY291bnRPckNvbmZpZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gY291bnRPckNvbmZpZztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY291bnQgPD0gMFxuICAgID8gKCkgPT4gRU1QVFlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICBsZXQgc29GYXIgPSAwO1xuICAgICAgICBsZXQgc291cmNlU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJlc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgICAgIHNvdXJjZVN1Yj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICBzb3VyY2VTdWIgPSBudWxsO1xuICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBub3RpZmllciA9IHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicgPyB0aW1lcihkZWxheSkgOiBpbm5lckZyb20oZGVsYXkoc29GYXIpKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgIG5vdGlmaWVyU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICBzdWJzY3JpYmVUb1NvdXJjZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUobm90aWZpZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlVG9Tb3VyY2UgPSAoKSA9PiB7XG4gICAgICAgICAgbGV0IHN5bmNVbnN1YiA9IGZhbHNlO1xuICAgICAgICAgIHNvdXJjZVN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICgrK3NvRmFyIDwgY291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlU3ViKSB7XG4gICAgICAgICAgICAgICAgICByZXN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzeW5jVW5zdWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChzeW5jVW5zdWIpIHtcbiAgICAgICAgICAgIHJlc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5cbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlIE9ic2VydmFibGUgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGEgYGNvbXBsZXRlYC4gSWYgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSBjYWxscyBgY29tcGxldGVgLCB0aGlzIG1ldGhvZCB3aWxsIGVtaXQgdG8gdGhlIE9ic2VydmFibGUgcmV0dXJuZWQgZnJvbSBgbm90aWZpZXJgLiBJZiB0aGF0IE9ic2VydmFibGVcbiAqIGNhbGxzIGBjb21wbGV0ZWAgb3IgYGVycm9yYCwgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIGNhbGwgYGNvbXBsZXRlYCBvciBgZXJyb3JgIG9uIHRoZSBjaGlsZCBzdWJzY3JpcHRpb24uIE90aGVyd2lzZVxuICogdGhpcyBtZXRob2Qgd2lsbCByZXN1YnNjcmliZSB0byB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogIVtdKHJlcGVhdFdoZW4ucG5nKVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBSZXBlYXQgYSBtZXNzYWdlIHN0cmVhbSBvbiBjbGlja1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZnJvbUV2ZW50LCByZXBlYXRXaGVuIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gb2YoJ1JlcGVhdCBtZXNzYWdlJyk7XG4gKiBjb25zdCBkb2N1bWVudENsaWNrJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUocmVwZWF0V2hlbigoKSA9PiBkb2N1bWVudENsaWNrJCkpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHJlcGVhdH1cbiAqIEBzZWUge0BsaW5rIHJldHJ5fVxuICogQHNlZSB7QGxpbmsgcmV0cnlXaGVufVxuICpcbiAqIEBwYXJhbSBub3RpZmllciBGdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGFuIE9ic2VydmFibGUgb2Ygbm90aWZpY2F0aW9ucyB3aXRoXG4gKiB3aGljaCBhIHVzZXIgY2FuIGBjb21wbGV0ZWAgb3IgYGVycm9yYCwgYWJvcnRpbmcgdGhlIHJlcGV0aXRpb24uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGBPYnNlcnZhYmxlSW5wdXRgIHRoYXQgbWlycm9ycyB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBhIGBjb21wbGV0ZWAuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjkgb3IgdjEwLiBVc2Uge0BsaW5rIHJlcGVhdH0ncyB7QGxpbmsgUmVwZWF0Q29uZmlnI2RlbGF5IGRlbGF5fSBvcHRpb24gaW5zdGVhZC5cbiAqIEluc3RlYWQgb2YgYHJlcGVhdFdoZW4oKCkgPT4gbm90aWZ5JClgLCB1c2U6IGByZXBlYXQoeyBkZWxheTogKCkgPT4gbm90aWZ5JCB9KWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXRXaGVuPFQ+KG5vdGlmaWVyOiAobm90aWZpY2F0aW9uczogT2JzZXJ2YWJsZTx2b2lkPikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGlubmVyU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICAgIGxldCBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICBsZXQgY29tcGxldGlvbnMkOiBTdWJqZWN0PHZvaWQ+O1xuICAgIGxldCBpc05vdGlmaWVyQ29tcGxldGUgPSBmYWxzZTtcbiAgICBsZXQgaXNNYWluQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgd2UgY2FuIGNvbXBsZXRlIHRoZSByZXN1bHQsIGNvbXBsZXRlcyBpdCwgYW5kIHJldHVybnMgYHRydWVgIGlmIGl0IHdhcyBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgY29uc3QgY2hlY2tDb21wbGV0ZSA9ICgpID0+IGlzTWFpbkNvbXBsZXRlICYmIGlzTm90aWZpZXJDb21wbGV0ZSAmJiAoc3Vic2NyaWJlci5jb21wbGV0ZSgpLCB0cnVlKTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdWJqZWN0IHRvIHNlbmQgZXJyb3JzIHRocm91Z2guIElmIGl0IGRvZXNuJ3QgZXhpc3QsXG4gICAgICogd2Uga25vdyB3ZSBuZWVkIHRvIHNldHVwIHRoZSBub3RpZmllci5cbiAgICAgKi9cbiAgICBjb25zdCBnZXRDb21wbGV0aW9uU3ViamVjdCA9ICgpID0+IHtcbiAgICAgIGlmICghY29tcGxldGlvbnMkKSB7XG4gICAgICAgIGNvbXBsZXRpb25zJCA9IG5ldyBTdWJqZWN0KCk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGNhbGwgdG8gYG5vdGlmaWVyYCB0aHJvd3MsIGl0IHdpbGwgYmUgY2F1Z2h0IGJ5IHRoZSBPcGVyYXRvclN1YnNjcmliZXJcbiAgICAgICAgLy8gSW4gdGhlIG1haW4gc3Vic2NyaXB0aW9uIC0tIGluIGBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuYC5cbiAgICAgICAgaW5uZXJGcm9tKG5vdGlmaWVyKGNvbXBsZXRpb25zJCkpLnN1YnNjcmliZShcbiAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBpbm5lclN1YiB5ZXQsIHRoYXQncyBiZWNhdXNlIHRoZSBpbm5lciBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAvLyBjYWxsIGhhc24ndCBldmVuIHJldHVybmVkIHlldC4gV2UndmUgYXJyaXZlZCBoZXJlIHN5bmNocm9ub3VzbHkuXG4gICAgICAgICAgICAgICAgLy8gU28gd2UgZmxhZyB0aGF0IHdlIHdhbnQgdG8gcmVzdWIsIHN1Y2ggdGhhdCB3ZSBjYW4gZW5zdXJlIGZpbmFsaXphdGlvblxuICAgICAgICAgICAgICAgIC8vIGhhcHBlbnMgYmVmb3JlIHdlIHJlc3Vic2NyaWJlLlxuICAgICAgICAgICAgICAgIHN5bmNSZXN1YiA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIGlzTm90aWZpZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcGxldGlvbnMkO1xuICAgIH07XG5cbiAgICBjb25zdCBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuID0gKCkgPT4ge1xuICAgICAgaXNNYWluQ29tcGxldGUgPSBmYWxzZTtcblxuICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCAoKSA9PiB7XG4gICAgICAgICAgaXNNYWluQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBhcmUgY29tcGxldGUsIGFuZCBjb21wbGV0ZSBpZiBzby5cbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IGNvbXBsZXRlLiBHZXQgdGhlIHN1YmplY3QuIFRoaXMgY2FsbHMgdGhlIGBub3RpZmllcmAgZnVuY3Rpb24uXG4gICAgICAgICAgLy8gSWYgdGhhdCBmdW5jdGlvbiBmYWlscywgaXQgd2lsbCB0aHJvdyBhbmQgYC5uZXh0KClgIHdpbGwgbm90IGJlIHJlYWNoZWQgb24gdGhpc1xuICAgICAgICAgIC8vIGxpbmUuIFRoZSB0aHJvd24gZXJyb3IgaXMgY2F1Z2h0IGJ5IHRoZSBfY29tcGxldGUgaGFuZGxlciBpbiB0aGlzXG4gICAgICAgICAgLy8gYE9wZXJhdG9yU3Vic2NyaWJlcmAgYW5kIGhhbmRsZWQgYXBwcm9wcmlhdGVseS5cbiAgICAgICAgICAhY2hlY2tDb21wbGV0ZSgpICYmIGdldENvbXBsZXRpb25TdWJqZWN0KCkubmV4dCgpO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgaWYgKHN5bmNSZXN1Yikge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgaW5uZXIgc3Vic2NyaXB0aW9uIGlzIHRvcm4gZG93biBiZWZvcmVcbiAgICAgICAgLy8gbW92aW5nIG9uIHRvIHRoZSBuZXh0IHN1YnNjcmlwdGlvbiBpbiB0aGUgc3luY2hyb25vdXMgY2FzZS5cbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgZG8gdGhpcyBoZXJlLCBhbGwgaW5uZXIgc3Vic2NyaXB0aW9ucyB3aWxsIG5vdCBiZVxuICAgICAgICAvLyB0b3JuIGRvd24gdW50aWwgdGhlIGVudGlyZSBvYnNlcnZhYmxlIGlzIGRvbmUuXG4gICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIC8vIEl0IGlzIGltcG9ydGFudCB0byBudWxsIHRoaXMgb3V0LiBOb3Qgb25seSB0byBmcmVlIHVwIG1lbW9yeSwgYnV0XG4gICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBjb2RlIGFib3ZlIGtub3dzIHdlIGFyZSBpbiBhIHN1YnNjcmliaW5nIHN0YXRlIHRvXG4gICAgICAgIC8vIGhhbmRsZSBzeW5jaHJvbm91cyByZXN1YnNjcmlwdGlvbi5cbiAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAvLyBXZSBtYXkgbmVlZCB0byBkbyB0aGlzIG11bHRpcGxlIHRpbWVzLCBzbyByZXNldCB0aGUgZmxhZ3MuXG4gICAgICAgIHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgICAgICAvLyBSZXN1YnNjcmliZVxuICAgICAgICBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IHRoZSBzdWJzY3JpcHRpb25cbiAgICBzdWJzY3JpYmVGb3JSZXBlYXRXaGVuKCk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3RpbWVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBUaGUge0BsaW5rIHJldHJ5fSBvcGVyYXRvciBjb25maWd1cmF0aW9uIG9iamVjdC4gYHJldHJ5YCBlaXRoZXIgYWNjZXB0cyBhIGBudW1iZXJgXG4gKiBvciBhbiBvYmplY3QgZGVzY3JpYmVkIGJ5IHRoaXMgaW50ZXJmYWNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0byByZXRyeS4gSWYgYGNvdW50YCBpcyBvbWl0dGVkLCBgcmV0cnlgIHdpbGwgdHJ5IHRvXG4gICAqIHJlc3Vic2NyaWJlIG9uIGVycm9ycyBpbmZpbml0ZSBudW1iZXIgb2YgdGltZXMuXG4gICAqL1xuICBjb3VudD86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGJlZm9yZSByZXRyeWluZywgT1IgYSBmdW5jdGlvbiB0b1xuICAgKiByZXR1cm4gYSBub3RpZmllciBmb3IgZGVsYXlpbmcuIElmIGEgZnVuY3Rpb24gaXMgZ2l2ZW4sIHRoYXQgZnVuY3Rpb24gc2hvdWxkXG4gICAqIHJldHVybiBhIG5vdGlmaWVyIHRoYXQsIHdoZW4gaXQgZW1pdHMgd2lsbCByZXRyeSB0aGUgc291cmNlLiBJZiB0aGUgbm90aWZpZXJcbiAgICogY29tcGxldGVzIF93aXRob3V0XyBlbWl0dGluZywgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgY29tcGxldGUgd2l0aG91dCBlcnJvcixcbiAgICogaWYgdGhlIG5vdGlmaWVyIGVycm9ycywgdGhlIGVycm9yIHdpbGwgYmUgcHVzaGVkIHRvIHRoZSByZXN1bHQuXG4gICAqL1xuICBkZWxheT86IG51bWJlciB8ICgoZXJyb3I6IGFueSwgcmV0cnlDb3VudDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0byByZXNldCB0aGUgcmV0cnkgY291bnRlciB3aGVuIHRoZSByZXRyaWVkIHN1YnNjcmlwdGlvblxuICAgKiBlbWl0cyBpdHMgZmlyc3QgdmFsdWUuXG4gICAqL1xuICByZXNldE9uU3VjY2Vzcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXRyeTxUPihjb3VudD86IG51bWJlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiByZXRyeTxUPihjb25maWc6IFJldHJ5Q29uZmlnKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBhbiBgZXJyb3JgLlxuICpcbiAqIElmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBjYWxscyBgZXJyb3JgLCB0aGlzIG1ldGhvZCB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBmb3IgYSBtYXhpbXVtIG9mXG4gKiBgY291bnRgIHJlc3Vic2NyaXB0aW9ucyByYXRoZXIgdGhhbiBwcm9wYWdhdGluZyB0aGUgYGVycm9yYCBjYWxsLlxuICpcbiAqICFbXShyZXRyeS5wbmcpXG4gKlxuICogVGhlIG51bWJlciBvZiByZXRyaWVzIGlzIGRldGVybWluZWQgYnkgdGhlIGBjb3VudGAgcGFyYW1ldGVyLiBJdCBjYW4gYmUgc2V0IGVpdGhlciBieSBwYXNzaW5nIGEgbnVtYmVyIHRvXG4gKiBgcmV0cnlgIGZ1bmN0aW9uIG9yIGJ5IHNldHRpbmcgYGNvdW50YCBwcm9wZXJ0eSB3aGVuIGByZXRyeWAgaXMgY29uZmlndXJlZCB1c2luZyB7QGxpbmsgUmV0cnlDb25maWd9LiBJZlxuICogYGNvdW50YCBpcyBvbWl0dGVkLCBgcmV0cnlgIHdpbGwgdHJ5IHRvIHJlc3Vic2NyaWJlIG9uIGVycm9ycyBpbmZpbml0ZSBudW1iZXIgb2YgdGltZXMuXG4gKlxuICogQW55IGFuZCBhbGwgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgd2lsbCBiZSBlbWl0dGVkIGJ5IHRoZSByZXN1bHRpbmcgT2JzZXJ2YWJsZSwgZXZlbiB0aG9zZVxuICogZW1pdHRlZCBkdXJpbmcgZmFpbGVkIHN1YnNjcmlwdGlvbnMuIEZvciBleGFtcGxlLCBpZiBhbiBPYnNlcnZhYmxlIGZhaWxzIGF0IGZpcnN0IGJ1dCBlbWl0cyBgWzEsIDJdYCB0aGVuXG4gKiBzdWNjZWVkcyB0aGUgc2Vjb25kIHRpbWUgYW5kIGVtaXRzOiBgWzEsIDIsIDMsIDQsIDUsIGNvbXBsZXRlXWAgdGhlbiB0aGUgY29tcGxldGUgc3RyZWFtIG9mIGVtaXNzaW9ucyBhbmRcbiAqIG5vdGlmaWNhdGlvbnMgd291bGQgYmU6IGBbMSwgMiwgMSwgMiwgMywgNCwgNSwgY29tcGxldGVdYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBtZXJnZU1hcCwgdGhyb3dFcnJvciwgb2YsIHJldHJ5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZShcbiAqICAgbWVyZ2VNYXAodmFsID0+IHZhbCA+IDUgPyB0aHJvd0Vycm9yKCgpID0+ICdFcnJvciEnKSA6IG9mKHZhbCkpLFxuICogICByZXRyeSgyKSAvLyByZXRyeSAyIHRpbWVzIG9uIGVycm9yXG4gKiApO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coYCR7IGVyciB9OiBSZXRyaWVkIDIgdGltZXMgdGhlbiBxdWl0IWApXG4gKiB9KTtcbiAqXG4gKiAvLyBPdXRwdXQ6XG4gKiAvLyAwLi4xLi4yLi4zLi40Li41Li5cbiAqIC8vIDAuLjEuLjIuLjMuLjQuLjUuLlxuICogLy8gMC4uMS4uMi4uMy4uNC4uNS4uXG4gKiAvLyAnRXJyb3IhOiBSZXRyaWVkIDIgdGltZXMgdGhlbiBxdWl0ISdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHJldHJ5V2hlbn1cbiAqXG4gKiBAcGFyYW0gY29uZmlnT3JDb3VudCAtIEVpdGhlciBudW1iZXIgb2YgcmV0cnkgYXR0ZW1wdHMgYmVmb3JlIGZhaWxpbmcgb3IgYSB7QGxpbmsgUmV0cnlDb25maWd9IG9iamVjdC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhlXG4gKiBzb3VyY2Ugc3RyZWFtIHdoZW4gdGhlIHNvdXJjZSBzdHJlYW0gZXJyb3JzLCBhdCBtb3N0IGBjb3VudGAgdGltZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXRyeTxUPihjb25maWdPckNvdW50OiBudW1iZXIgfCBSZXRyeUNvbmZpZyA9IEluZmluaXR5KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgbGV0IGNvbmZpZzogUmV0cnlDb25maWc7XG4gIGlmIChjb25maWdPckNvdW50ICYmIHR5cGVvZiBjb25maWdPckNvdW50ID09PSAnb2JqZWN0Jykge1xuICAgIGNvbmZpZyA9IGNvbmZpZ09yQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnID0ge1xuICAgICAgY291bnQ6IGNvbmZpZ09yQ291bnQgYXMgbnVtYmVyLFxuICAgIH07XG4gIH1cbiAgY29uc3QgeyBjb3VudCA9IEluZmluaXR5LCBkZWxheSwgcmVzZXRPblN1Y2Nlc3M6IHJlc2V0T25TdWNjZXNzID0gZmFsc2UgfSA9IGNvbmZpZztcblxuICByZXR1cm4gY291bnQgPD0gMFxuICAgID8gaWRlbnRpdHlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICBsZXQgc29GYXIgPSAwO1xuICAgICAgICBsZXQgaW5uZXJTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGw7XG4gICAgICAgIGNvbnN0IHN1YnNjcmliZUZvclJldHJ5ID0gKCkgPT4ge1xuICAgICAgICAgIGxldCBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIHJlc2V0dGluZyBvbiBzdWNjZXNzXG4gICAgICAgICAgICAgICAgaWYgKHJlc2V0T25TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICBzb0ZhciA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIC8vIENvbXBsZXRpb25zIGFyZSBwYXNzZWQgdGhyb3VnaCB0byBjb25zdW1lci5cbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNvRmFyKysgPCBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIHN0aWxsIHVuZGVyIG91ciByZXRyeSBjb3VudFxuICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1Yikge1xuICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3luY1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgc3BlY2lmaWVkIGEgcmV0cnkgZGVsYXkuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXkgZ2F2ZSB1cyBhIG51bWJlciwgdXNlIGEgdGltZXIsIG90aGVyd2lzZSwgaXQncyBhIGZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2UncmUgZ29pbmcgdG8gY2FsbCBpdCB0byBnZXQgYSBub3RpZmllci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSB0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInID8gdGltZXIoZGVsYXkpIDogaW5uZXJGcm9tKGRlbGF5KGVyciwgc29GYXIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgd2UgZ2V0IHRoZSBmaXJzdCBub3RpZmljYXRpb24sIHdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1bnN1YnNjcmliZSBmcm9tIHRoZSBub3RpZmllciwgYmVjYXVzZSB3ZSBkb24ndCB3YW50IGFueW1vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSByZXN1YnNjcmliZSB0byB0aGUgc291cmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXJTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1YigpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG5vdGlmaWVyIGNvbXBsZXRlZCB3aXRob3V0IGVtaXR0aW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGF1dGhvciBpcyB0ZWxsaW5nIHVzIHRoZXkgd2FudCB0byBjb21wbGV0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyLnN1YnNjcmliZShub3RpZmllclN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgd2FzIG5vIG5vdGlmaWVyIGdpdmVuLiBKdXN0IHJlc3ViIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICAgICAgICByZXN1YigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBXZSdyZSBwYXN0IG91ciBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLlxuICAgICAgICAgICAgICAgICAgLy8gSnVzdCBzZW5kIGFsb25nIHRoZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChzeW5jVW5zdWIpIHtcbiAgICAgICAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXRyeSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcblxuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIHRoZSBleGNlcHRpb24gb2YgYW4gYGVycm9yYC4gSWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlXG4gKiBjYWxscyBgZXJyb3JgLCB0aGlzIG1ldGhvZCB3aWxsIGVtaXQgdGhlIFRocm93YWJsZSB0aGF0IGNhdXNlZCB0aGUgZXJyb3IgdG8gdGhlIGBPYnNlcnZhYmxlSW5wdXRgIHJldHVybmVkIGZyb20gYG5vdGlmaWVyYC5cbiAqIElmIHRoYXQgT2JzZXJ2YWJsZSBjYWxscyBgY29tcGxldGVgIG9yIGBlcnJvcmAgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIGNhbGwgYGNvbXBsZXRlYCBvciBgZXJyb3JgIG9uIHRoZSBjaGlsZFxuICogc3Vic2NyaXB0aW9uLiBPdGhlcndpc2UgdGhpcyBtZXRob2Qgd2lsbCByZXN1YnNjcmliZSB0byB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogIVtdKHJldHJ5V2hlbi5wbmcpXG4gKlxuICogUmV0cnkgYW4gb2JzZXJ2YWJsZSBzZXF1ZW5jZSBvbiBlcnJvciBiYXNlZCBvbiBjdXN0b20gY3JpdGVyaWEuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWFwLCByZXRyeVdoZW4sIHRhcCwgZGVsYXlXaGVuLCB0aW1lciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUoXG4gKiAgIG1hcCh2YWx1ZSA9PiB7XG4gKiAgICAgaWYgKHZhbHVlID4gNSkge1xuICogICAgICAgLy8gZXJyb3Igd2lsbCBiZSBwaWNrZWQgdXAgYnkgcmV0cnlXaGVuXG4gKiAgICAgICB0aHJvdyB2YWx1ZTtcbiAqICAgICB9XG4gKiAgICAgcmV0dXJuIHZhbHVlO1xuICogICB9KSxcbiAqICAgcmV0cnlXaGVuKGVycm9ycyA9PlxuICogICAgIGVycm9ycy5waXBlKFxuICogICAgICAgLy8gbG9nIGVycm9yIG1lc3NhZ2VcbiAqICAgICAgIHRhcCh2YWx1ZSA9PiBjb25zb2xlLmxvZyhgVmFsdWUgJHsgdmFsdWUgfSB3YXMgdG9vIGhpZ2ghYCkpLFxuICogICAgICAgLy8gcmVzdGFydCBpbiA1IHNlY29uZHNcbiAqICAgICAgIGRlbGF5V2hlbih2YWx1ZSA9PiB0aW1lcih2YWx1ZSAqIDEwMDApKVxuICogICAgIClcbiAqICAgKVxuICogKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKlxuICogLy8gcmVzdWx0czpcbiAqIC8vIDBcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDRcbiAqIC8vIDVcbiAqIC8vICdWYWx1ZSA2IHdhcyB0b28gaGlnaCEnXG4gKiAvLyAtIFdhaXQgNSBzZWNvbmRzIHRoZW4gcmVwZWF0XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayByZXRyeX1cbiAqXG4gKiBAcGFyYW0gbm90aWZpZXIgRnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhbiBPYnNlcnZhYmxlIG9mIG5vdGlmaWNhdGlvbnMgd2l0aCB3aGljaCBhXG4gKiB1c2VyIGNhbiBgY29tcGxldGVgIG9yIGBlcnJvcmAsIGFib3J0aW5nIHRoZSByZXRyeS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gYE9ic2VydmFibGVJbnB1dGAgdGhhdCBtaXJyb3JzIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGFuIGBlcnJvcmAuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjkgb3IgdjEwLCB1c2Uge0BsaW5rIHJldHJ5fSdzIGBkZWxheWAgb3B0aW9uIGluc3RlYWQuXG4gKiBXaWxsIGJlIHJlbW92ZWQgaW4gdjkgb3IgdjEwLiBVc2Uge0BsaW5rIHJldHJ5fSdzIHtAbGluayBSZXRyeUNvbmZpZyNkZWxheSBkZWxheX0gb3B0aW9uIGluc3RlYWQuXG4gKiBJbnN0ZWFkIG9mIGByZXRyeVdoZW4oKCkgPT4gbm90aWZ5JClgLCB1c2U6IGByZXRyeSh7IGRlbGF5OiAoKSA9PiBub3RpZnkkIH0pYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5V2hlbjxUPihub3RpZmllcjogKGVycm9yczogT2JzZXJ2YWJsZTxhbnk+KSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaW5uZXJTdWI6IFN1YnNjcmlwdGlvbiB8IG51bGw7XG4gICAgbGV0IHN5bmNSZXN1YiA9IGZhbHNlO1xuICAgIGxldCBlcnJvcnMkOiBTdWJqZWN0PGFueT47XG5cbiAgICBjb25zdCBzdWJzY3JpYmVGb3JSZXRyeVdoZW4gPSAoKSA9PiB7XG4gICAgICBpbm5lclN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKGVycikgPT4ge1xuICAgICAgICAgIGlmICghZXJyb3JzJCkge1xuICAgICAgICAgICAgZXJyb3JzJCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICBpbm5lckZyb20obm90aWZpZXIoZXJyb3JzJCkpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICgpID0+XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBpbm5lclN1YiwgdGhpcyB3YXMgYW4gYXN5bmNocm9ub3VzIGNhbGwsIGtpY2sgb2ZmIHRoZSByZXRyeS5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGlmIHdlIGRvbid0IGhhdmUgYW4gaW5uZXJTdWIgeWV0LCB0aGF0J3MgYmVjYXVzZSB0aGUgaW5uZXIgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBoYXNuJ3QgZXZlbiByZXR1cm5lZCB5ZXQuIFdlJ3ZlIGFycml2ZWQgaGVyZSBzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIGZsYWcgdGhhdCB3ZSB3YW50IHRvIHJlc3ViLCBzdWNoIHRoYXQgd2UgY2FuIGVuc3VyZSBmaW5hbGl6YXRpb25cbiAgICAgICAgICAgICAgICAvLyBoYXBwZW5zIGJlZm9yZSB3ZSByZXN1YnNjcmliZS5cbiAgICAgICAgICAgICAgICBpbm5lclN1YiA/IHN1YnNjcmliZUZvclJldHJ5V2hlbigpIDogKHN5bmNSZXN1YiA9IHRydWUpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnJvcnMkKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHNldCB1cCB0aGUgbm90aWZpZXIgd2l0aG91dCBlcnJvci5cbiAgICAgICAgICAgIGVycm9ycyQubmV4dChlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGlmIChzeW5jUmVzdWIpIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGlubmVyIHN1YnNjcmlwdGlvbiBpcyB0b3JuIGRvd24gYmVmb3JlXG4gICAgICAgIC8vIG1vdmluZyBvbiB0byB0aGUgbmV4dCBzdWJzY3JpcHRpb24gaW4gdGhlIHN5bmNocm9ub3VzIGNhc2UuXG4gICAgICAgIC8vIElmIHdlIGRvbid0IGRvIHRoaXMgaGVyZSwgYWxsIGlubmVyIHN1YnNjcmlwdGlvbnMgd2lsbCBub3QgYmVcbiAgICAgICAgLy8gdG9ybiBkb3duIHVudGlsIHRoZSBlbnRpcmUgb2JzZXJ2YWJsZSBpcyBkb25lLlxuICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIC8vIFdlIG1heSBuZWVkIHRvIGRvIHRoaXMgbXVsdGlwbGUgdGltZXMsIHNvIHJlc2V0IHRoZSBmbGFnLlxuICAgICAgICBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICAgICAgLy8gUmVzdWJzY3JpYmVcbiAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnlXaGVuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IHRoZSBzdWJzY3JpcHRpb25cbiAgICBzdWJzY3JpYmVGb3JSZXRyeVdoZW4oKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogRW1pdHMgdGhlIG1vc3QgcmVjZW50bHkgZW1pdHRlZCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aGVuZXZlclxuICogYW5vdGhlciBPYnNlcnZhYmxlLCB0aGUgYG5vdGlmaWVyYCwgZW1pdHMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgc2FtcGxlVGltZX0sIGJ1dCBzYW1wbGVzIHdoZW5ldmVyXG4gKiB0aGUgYG5vdGlmaWVyYCBgT2JzZXJ2YWJsZUlucHV0YCBlbWl0cyBzb21ldGhpbmcuPC9zcGFuPlxuICpcbiAqICFbXShzYW1wbGUucG5nKVxuICpcbiAqIFdoZW5ldmVyIHRoZSBgbm90aWZpZXJgIGBPYnNlcnZhYmxlSW5wdXRgIGVtaXRzIGEgdmFsdWUsIGBzYW1wbGVgXG4gKiBsb29rcyBhdCB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIGVtaXRzIHdoaWNoZXZlciB2YWx1ZSBpdCBoYXMgbW9zdCByZWNlbnRseVxuICogZW1pdHRlZCBzaW5jZSB0aGUgcHJldmlvdXMgc2FtcGxpbmcsIHVubGVzcyB0aGUgc291cmNlIGhhcyBub3QgZW1pdHRlZFxuICogYW55dGhpbmcgc2luY2UgdGhlIHByZXZpb3VzIHNhbXBsaW5nLiBUaGUgYG5vdGlmaWVyYCBpcyBzdWJzY3JpYmVkIHRvIGFzIHNvb25cbiAqIGFzIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBPbiBldmVyeSBjbGljaywgc2FtcGxlIHRoZSBtb3N0IHJlY2VudCBgc2Vjb25kc2AgdGltZXJcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBpbnRlcnZhbCwgc2FtcGxlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2Vjb25kcyA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNlY29uZHMucGlwZShzYW1wbGUoY2xpY2tzKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGF1ZGl0fVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2V9XG4gKiBAc2VlIHtAbGluayBzYW1wbGVUaW1lfVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGV9XG4gKlxuICogQHBhcmFtIG5vdGlmaWVyIFRoZSBgT2JzZXJ2YWJsZUlucHV0YCB0byB1c2UgZm9yIHNhbXBsaW5nIHRoZVxuICogc291cmNlIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0cyBvZlxuICogc2FtcGxpbmcgdGhlIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aGVuZXZlciB0aGUgbm90aWZpZXJcbiAqIE9ic2VydmFibGUgZW1pdHMgdmFsdWUgb3IgY29tcGxldGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FtcGxlPFQ+KG5vdGlmaWVyOiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICBsZXQgbGFzdFZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICBpbm5lckZyb20obm90aWZpZXIpLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbGFzdFZhbHVlITtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbm9vcFxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2FtcGxlIH0gZnJvbSAnLi9zYW1wbGUnO1xuaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2ludGVydmFsJztcblxuLyoqXG4gKiBFbWl0cyB0aGUgbW9zdCByZWNlbnRseSBlbWl0dGVkIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdpdGhpblxuICogcGVyaW9kaWMgdGltZSBpbnRlcnZhbHMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlNhbXBsZXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGF0IHBlcmlvZGljIHRpbWVcbiAqIGludGVydmFscywgZW1pdHRpbmcgd2hhdCBpdCBzYW1wbGVzLjwvc3Bhbj5cbiAqXG4gKiAhW10oc2FtcGxlVGltZS5wbmcpXG4gKlxuICogYHNhbXBsZVRpbWVgIHBlcmlvZGljYWxseSBsb29rcyBhdCB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIGVtaXRzIHdoaWNoZXZlclxuICogdmFsdWUgaXQgaGFzIG1vc3QgcmVjZW50bHkgZW1pdHRlZCBzaW5jZSB0aGUgcHJldmlvdXMgc2FtcGxpbmcsIHVubGVzcyB0aGVcbiAqIHNvdXJjZSBoYXMgbm90IGVtaXR0ZWQgYW55dGhpbmcgc2luY2UgdGhlIHByZXZpb3VzIHNhbXBsaW5nLiBUaGUgc2FtcGxpbmdcbiAqIGhhcHBlbnMgcGVyaW9kaWNhbGx5IGluIHRpbWUgZXZlcnkgYHBlcmlvZGAgbWlsbGlzZWNvbmRzIChvciB0aGUgdGltZSB1bml0XG4gKiBkZWZpbmVkIGJ5IHRoZSBvcHRpb25hbCBgc2NoZWR1bGVyYCBhcmd1bWVudCkuIFRoZSBzYW1wbGluZyBzdGFydHMgYXMgc29vbiBhc1xuICogdGhlIG91dHB1dCBPYnNlcnZhYmxlIGlzIHN1YnNjcmliZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEV2ZXJ5IHNlY29uZCwgZW1pdCB0aGUgbW9zdCByZWNlbnQgY2xpY2sgYXQgbW9zdCBvbmNlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgc2FtcGxlVGltZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShzYW1wbGVUaW1lKDEwMDApKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYXVkaXRUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2VUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVsYXl9XG4gKiBAc2VlIHtAbGluayBzYW1wbGV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZVRpbWV9XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmlvZCBUaGUgc2FtcGxpbmcgcGVyaW9kIGV4cHJlc3NlZCBpbiBtaWxsaXNlY29uZHMgb3IgdGhlXG4gKiB0aW1lIHVuaXQgZGV0ZXJtaW5lZCBpbnRlcm5hbGx5IGJ5IHRoZSBvcHRpb25hbCBgc2NoZWR1bGVyYC5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcj1hc3luY10gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yXG4gKiBtYW5hZ2luZyB0aGUgdGltZXJzIHRoYXQgaGFuZGxlIHRoZSBzYW1wbGluZy5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSByZXN1bHRzIG9mXG4gKiBzYW1wbGluZyB0aGUgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGF0IHRoZSBzcGVjaWZpZWQgdGltZVxuICogaW50ZXJ2YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW1wbGVUaW1lPFQ+KHBlcmlvZDogbnVtYmVyLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBzYW1wbGUoaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpKTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IHNjYW5JbnRlcm5hbHMgfSBmcm9tICcuL3NjYW5JbnRlcm5hbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbjxWLCBBID0gVj4oYWNjdW11bGF0b3I6IChhY2M6IEEgfCBWLCB2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gQSk6IE9wZXJhdG9yRnVuY3Rpb248ViwgViB8IEE+O1xuZXhwb3J0IGZ1bmN0aW9uIHNjYW48ViwgQT4oYWNjdW11bGF0b3I6IChhY2M6IEEsIHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBBLCBzZWVkOiBBKTogT3BlcmF0b3JGdW5jdGlvbjxWLCBBPjtcbmV4cG9ydCBmdW5jdGlvbiBzY2FuPFYsIEEsIFM+KGFjY3VtdWxhdG9yOiAoYWNjOiBBIHwgUywgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEsIHNlZWQ6IFMpOiBPcGVyYXRvckZ1bmN0aW9uPFYsIEE+O1xuXG4vLyBUT0RPOiBsaW5rIHRvIGEgXCJyZWR1eCBwYXR0ZXJuXCIgc2VjdGlvbiBpbiB0aGUgZ3VpZGUgKGxvY2F0aW9uIFRCRClcblxuLyoqXG4gKiBVc2VmdWwgZm9yIGVuY2Fwc3VsYXRpbmcgYW5kIG1hbmFnaW5nIHN0YXRlLiBBcHBsaWVzIGFuIGFjY3VtdWxhdG9yIChvciBcInJlZHVjZXIgZnVuY3Rpb25cIilcbiAqIHRvIGVhY2ggdmFsdWUgZnJvbSB0aGUgc291cmNlIGFmdGVyIGFuIGluaXRpYWwgc3RhdGUgaXMgZXN0YWJsaXNoZWQgLS0gZWl0aGVyIHZpYVxuICogYSBgc2VlZGAgdmFsdWUgKHNlY29uZCBhcmd1bWVudCksIG9yIGZyb20gdGhlIGZpcnN0IHZhbHVlIGZyb20gdGhlIHNvdXJjZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayByZWR1Y2V9LCBidXQgZW1pdHMgdGhlIGN1cnJlbnRcbiAqIGFjY3VtdWxhdGlvbiBzdGF0ZSBhZnRlciBlYWNoIHVwZGF0ZTwvc3Bhbj5cbiAqXG4gKiAhW10oc2Nhbi5wbmcpXG4gKlxuICogVGhpcyBvcGVyYXRvciBtYWludGFpbnMgYW4gaW50ZXJuYWwgc3RhdGUgYW5kIGVtaXRzIGl0IGFmdGVyIHByb2Nlc3NpbmcgZWFjaCB2YWx1ZSBhcyBmb2xsb3dzOlxuICpcbiAqIDEuIEZpcnN0IHZhbHVlIGFycml2ZXNcbiAqICAgLSBJZiBhIGBzZWVkYCB2YWx1ZSB3YXMgc3VwcGxpZWQgKGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gYHNjYW5gKSwgbGV0IGBzdGF0ZSA9IHNlZWRgIGFuZCBgdmFsdWUgPSBmaXJzdFZhbHVlYC5cbiAqICAgLSBJZiBOTyBgc2VlZGAgdmFsdWUgd2FzIHN1cHBsaWVkIChubyBzZWNvbmQgYXJndW1lbnQpLCBsZXQgYHN0YXRlID0gZmlyc3RWYWx1ZWAgYW5kIGdvIHRvIDMuXG4gKiAyLiBMZXQgYHN0YXRlID0gYWNjdW11bGF0b3Ioc3RhdGUsIHZhbHVlKWAuXG4gKiAgIC0gSWYgYW4gZXJyb3IgaXMgdGhyb3duIGJ5IGBhY2N1bXVsYXRvcmAsIG5vdGlmeSB0aGUgY29uc3VtZXIgb2YgYW4gZXJyb3IuIFRoZSBwcm9jZXNzIGVuZHMuXG4gKiAzLiBFbWl0IGBzdGF0ZWAuXG4gKiA0LiBOZXh0IHZhbHVlIGFycml2ZXMsIGxldCBgdmFsdWUgPSBuZXh0VmFsdWVgLCBnbyB0byAyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQW4gYXZlcmFnZSBvZiBwcmV2aW91cyBudW1iZXJzLiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93XG4gKiBub3QgcHJvdmlkaW5nIGEgYHNlZWRgIGNhbiBwcmltZSB0aGUgc3RyZWFtIHdpdGggdGhlXG4gKiBmaXJzdCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBzY2FuLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBudW1iZXJzJCA9IG9mKDEsIDIsIDMpO1xuICpcbiAqIG51bWJlcnMkXG4gKiAgIC5waXBlKFxuICogICAgIC8vIEdldCB0aGUgc3VtIG9mIHRoZSBudW1iZXJzIGNvbWluZyBpbi5cbiAqICAgICBzY2FuKCh0b3RhbCwgbikgPT4gdG90YWwgKyBuKSxcbiAqICAgICAvLyBHZXQgdGhlIGF2ZXJhZ2UgYnkgZGl2aWRpbmcgdGhlIHN1bSBieSB0aGUgdG90YWwgbnVtYmVyXG4gKiAgICAgLy8gcmVjZWl2ZWQgc28gZmFyICh3aGljaCBpcyAxIG1vcmUgdGhhbiB0aGUgemVyby1iYXNlZCBpbmRleCkuXG4gKiAgICAgbWFwKChzdW0sIGluZGV4KSA9PiBzdW0gLyAoaW5kZXggKyAxKSlcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBGaWJvbmFjY2kgc2VxdWVuY2UuIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgeW91IGNhbiB1c2VcbiAqIGEgc2VlZCB0byBwcmltZSBhY2N1bXVsYXRpb24gcHJvY2Vzcy4gQWxzby4uLiB5b3Uga25vdy4uLiBGaWJvbmFjY2kuXG4gKiBTbyBpbXBvcnRhbnQgdG8gbGlrZSwgY29tcHV0ZXJzIGFuZCBzdHVmZiB0aGF0IGl0cyB3aGl0ZWJvYXJkZWRcbiAqIGluIGpvYiBpbnRlcnZpZXdzLiBOb3cgeW91IGNhbiBzaG93IHRoZW0gdGhlIFJ4IHZlcnNpb24hIChQbGVhc2UgZG9uJ3QsIGhhaGEpXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBzY2FuLCBtYXAsIHN0YXJ0V2l0aCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGZpcnN0VHdvRmlicyA9IFswLCAxXTtcbiAqIC8vIEFuIGVuZGxlc3Mgc3RyZWFtIG9mIEZpYm9uYWNjaSBudW1iZXJzLlxuICogY29uc3QgZmlib25hY2NpJCA9IGludGVydmFsKDEwMDApLnBpcGUoXG4gKiAgIC8vIFNjYW4gdG8gZ2V0IHRoZSBmaWJvbmFjY2kgbnVtYmVycyAoYWZ0ZXIgMCwgMSlcbiAqICAgc2NhbigoW2EsIGJdKSA9PiBbYiwgYSArIGJdLCBmaXJzdFR3b0ZpYnMpLFxuICogICAvLyBHZXQgdGhlIHNlY29uZCBudW1iZXIgaW4gdGhlIHR1cGxlLCBpdCdzIHRoZSBvbmUgeW91IGNhbGN1bGF0ZWRcbiAqICAgbWFwKChbLCBuXSkgPT4gbiksXG4gKiAgIC8vIFN0YXJ0IHdpdGggb3VyIGZpcnN0IHR3byBkaWdpdHMgOilcbiAqICAgc3RhcnRXaXRoKC4uLmZpcnN0VHdvRmlicylcbiAqICk7XG4gKlxuICogZmlib25hY2NpJC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZXhwYW5kfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICogQHNlZSB7QGxpbmsgcmVkdWNlfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoU2Nhbn1cbiAqXG4gKiBAcGFyYW0gYWNjdW11bGF0b3IgQSBcInJlZHVjZXIgZnVuY3Rpb25cIi4gVGhpcyB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCB2YWx1ZSBhZnRlciBhbiBpbml0aWFsIHN0YXRlIGlzXG4gKiBhY3F1aXJlZC5cbiAqIEBwYXJhbSBzZWVkIFRoZSBpbml0aWFsIHN0YXRlLiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCwgdGhlIGZpcnN0IHZhbHVlIGZyb20gdGhlIHNvdXJjZSB3aWxsXG4gKiBiZSB1c2VkIGFzIHRoZSBpbml0aWFsIHN0YXRlLCBhbmQgZW1pdHRlZCB3aXRob3V0IGdvaW5nIHRocm91Z2ggdGhlIGFjY3VtdWxhdG9yLiBBbGwgc3Vic2VxdWVudCB2YWx1ZXNcbiAqIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoZSBhY2N1bXVsYXRvciBmdW5jdGlvbi4gSWYgdGhpcyBpcyBwcm92aWRlZCwgYWxsIHZhbHVlcyB3aWxsIGdvIHRocm91Z2hcbiAqIHRoZSBhY2N1bXVsYXRvciBmdW5jdGlvbi5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiB0aGUgYWNjdW11bGF0ZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbjxWLCBBLCBTPihhY2N1bXVsYXRvcjogKGFjYzogViB8IEEgfCBTLCB2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gQSwgc2VlZD86IFMpOiBPcGVyYXRvckZ1bmN0aW9uPFYsIFYgfCBBPiB7XG4gIC8vIHByb3ZpZGluZyBhIHNlZWQgb2YgYHVuZGVmaW5lZGAgKnNob3VsZCogYmUgdmFsaWQgYW5kIHRyaWdnZXJcbiAgLy8gaGFzU2VlZCEgc28gZG9uJ3QgdXNlIGBzZWVkICE9PSB1bmRlZmluZWRgIGNoZWNrcyFcbiAgLy8gRm9yIHRoaXMgcmVhc29uLCB3ZSBoYXZlIHRvIGNoZWNrIGl0IGhlcmUgYXQgdGhlIG9yaWdpbmFsIGNhbGwgc2l0ZVxuICAvLyBvdGhlcndpc2UgaW5zaWRlIE9wZXJhdG9yL1N1YnNjcmliZXIgd2Ugd29uJ3Qga25vdyBpZiBgdW5kZWZpbmVkYFxuICAvLyBtZWFucyB0aGV5IGRpZG4ndCBwcm92aWRlIGFueXRoaW5nIG9yIGlmIHRoZXkgbGl0ZXJhbGx5IHByb3ZpZGVkIGB1bmRlZmluZWRgXG4gIHJldHVybiBvcGVyYXRlKHNjYW5JbnRlcm5hbHMoYWNjdW11bGF0b3IsIHNlZWQgYXMgUywgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCB0cnVlKSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogQSBiYXNpYyBzY2FuIG9wZXJhdGlvbi4gVGhpcyBpcyB1c2VkIGZvciBgc2NhbmAgYW5kIGByZWR1Y2VgLlxuICogQHBhcmFtIGFjY3VtdWxhdG9yIFRoZSBhY2N1bXVsYXRvciB0byB1c2VcbiAqIEBwYXJhbSBzZWVkIFRoZSBzZWVkIHZhbHVlIGZvciB0aGUgc3RhdGUgdG8gYWNjdW11bGF0ZVxuICogQHBhcmFtIGhhc1NlZWQgV2hldGhlciBvciBub3QgYSBzZWVkIHdhcyBwcm92aWRlZFxuICogQHBhcmFtIGVtaXRPbk5leHQgV2hldGhlciBvciBub3QgdG8gZW1pdCB0aGUgc3RhdGUgb24gbmV4dFxuICogQHBhcmFtIGVtaXRCZWZvcmVDb21wbGV0ZSBXaGV0aGVyIG9yIG5vdCB0byBlbWl0IHRoZSBiZWZvcmUgY29tcGxldGlvblxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FuSW50ZXJuYWxzPFYsIEEsIFM+KFxuICBhY2N1bXVsYXRvcjogKGFjYzogViB8IEEgfCBTLCB2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gQSxcbiAgc2VlZDogUyxcbiAgaGFzU2VlZDogYm9vbGVhbixcbiAgZW1pdE9uTmV4dDogYm9vbGVhbixcbiAgZW1pdEJlZm9yZUNvbXBsZXRlPzogdW5kZWZpbmVkIHwgdHJ1ZVxuKSB7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFY+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pID0+IHtcbiAgICAvLyBXaGV0aGVyIG9yIG5vdCB3ZSBoYXZlIHN0YXRlIHlldC4gVGhpcyB3aWxsIG9ubHkgYmVcbiAgICAvLyBmYWxzZSBiZWZvcmUgdGhlIGZpcnN0IHZhbHVlIGFycml2ZXMgaWYgd2UgZGlkbid0IGdldFxuICAgIC8vIGEgc2VlZCB2YWx1ZS5cbiAgICBsZXQgaGFzU3RhdGUgPSBoYXNTZWVkO1xuICAgIC8vIFRoZSBzdGF0ZSB0aGF0IHdlJ3JlIHRyYWNraW5nLCBzdGFydGluZyB3aXRoIHRoZSBzZWVkLFxuICAgIC8vIGlmIHRoZXJlIGlzIG9uZSwgYW5kIHRoZW4gdXBkYXRlZCBieSB0aGUgcmV0dXJuIHZhbHVlXG4gICAgLy8gZnJvbSB0aGUgYWNjdW11bGF0b3Igb24gZWFjaCBlbWlzc2lvbi5cbiAgICBsZXQgc3RhdGU6IGFueSA9IHNlZWQ7XG4gICAgLy8gQW4gaW5kZXggdG8gcGFzcyB0byB0aGUgYWNjdW11bGF0b3IgZnVuY3Rpb24uXG4gICAgbGV0IGluZGV4ID0gMDtcblxuICAgIC8vIFN1YnNjcmliZSB0byBvdXIgc291cmNlLiBBbGwgZXJyb3JzIGFuZCBjb21wbGV0aW9ucyBhcmUgcGFzc2VkIHRocm91Z2guXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgLy8gQWx3YXlzIGluY3JlbWVudCB0aGUgaW5kZXguXG4gICAgICAgICAgY29uc3QgaSA9IGluZGV4Kys7XG4gICAgICAgICAgLy8gU2V0IHRoZSBzdGF0ZVxuICAgICAgICAgIHN0YXRlID0gaGFzU3RhdGVcbiAgICAgICAgICAgID8gLy8gV2UgYWxyZWFkeSBoYXZlIHN0YXRlLCBzbyB3ZSBjYW4gZ2V0IHRoZSBuZXcgc3RhdGUgZnJvbSB0aGUgYWNjdW11bGF0b3JcbiAgICAgICAgICAgICAgYWNjdW11bGF0b3Ioc3RhdGUsIHZhbHVlLCBpKVxuICAgICAgICAgICAgOiAvLyBXZSBkaWRuJ3QgaGF2ZSBzdGF0ZSB5ZXQsIGEgc2VlZCB2YWx1ZSB3YXMgbm90IHByb3ZpZGVkLCBzb1xuXG4gICAgICAgICAgICAgIC8vIHdlIHNldCB0aGUgc3RhdGUgdG8gdGhlIGZpcnN0IHZhbHVlLCBhbmQgbWFyayB0aGF0IHdlIGhhdmUgc3RhdGUgbm93XG4gICAgICAgICAgICAgICgoaGFzU3RhdGUgPSB0cnVlKSwgdmFsdWUpO1xuXG4gICAgICAgICAgLy8gTWF5YmUgc2VuZCBpdCB0byB0aGUgY29uc3VtZXIuXG4gICAgICAgICAgZW1pdE9uTmV4dCAmJiBzdWJzY3JpYmVyLm5leHQoc3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICAvLyBJZiBhbiBvbkNvbXBsZXRlIHdhcyBnaXZlbiwgY2FsbCBpdCwgb3RoZXJ3aXNlXG4gICAgICAgIC8vIGp1c3QgcGFzcyB0aHJvdWdoIHRoZSBjb21wbGV0ZSBub3RpZmljYXRpb24gdG8gdGhlIGNvbnN1bWVyLlxuICAgICAgICBlbWl0QmVmb3JlQ29tcGxldGUgJiZcbiAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgaGFzU3RhdGUgJiYgc3Vic2NyaWJlci5uZXh0KHN0YXRlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBDb21wYXJlcyBhbGwgdmFsdWVzIG9mIHR3byBvYnNlcnZhYmxlcyBpbiBzZXF1ZW5jZSB1c2luZyBhbiBvcHRpb25hbCBjb21wYXJhdG9yIGZ1bmN0aW9uXG4gKiBhbmQgcmV0dXJucyBhbiBvYnNlcnZhYmxlIG9mIGEgc2luZ2xlIGJvb2xlYW4gdmFsdWUgcmVwcmVzZW50aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB0d28gc2VxdWVuY2VzXG4gKiBhcmUgZXF1YWwuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNoZWNrcyB0byBzZWUgb2YgYWxsIHZhbHVlcyBlbWl0dGVkIGJ5IGJvdGggb2JzZXJ2YWJsZXMgYXJlIGVxdWFsLCBpbiBvcmRlci48L3NwYW4+XG4gKlxuICogIVtdKHNlcXVlbmNlRXF1YWwucG5nKVxuICpcbiAqIGBzZXF1ZW5jZUVxdWFsYCBzdWJzY3JpYmVzIHRvIHNvdXJjZSBvYnNlcnZhYmxlIGFuZCBgY29tcGFyZVRvYCBgT2JzZXJ2YWJsZUlucHV0YCAodGhhdCBpbnRlcm5hbGx5XG4gKiBnZXRzIGNvbnZlcnRlZCB0byBhbiBvYnNlcnZhYmxlKSBhbmQgYnVmZmVycyBpbmNvbWluZyB2YWx1ZXMgZnJvbSBlYWNoIG9ic2VydmFibGUuIFdoZW5ldmVyIGVpdGhlclxuICogb2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLCB0aGUgdmFsdWUgaXMgYnVmZmVyZWQgYW5kIHRoZSBidWZmZXJzIGFyZSBzaGlmdGVkIGFuZCBjb21wYXJlZCBmcm9tIHRoZSBib3R0b21cbiAqIHVwOyBJZiBhbnkgdmFsdWUgcGFpciBkb2Vzbid0IG1hdGNoLCB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZSB3aWxsIGVtaXQgYGZhbHNlYCBhbmQgY29tcGxldGUuIElmIG9uZSBvZiB0aGVcbiAqIG9ic2VydmFibGVzIGNvbXBsZXRlcywgdGhlIG9wZXJhdG9yIHdpbGwgd2FpdCBmb3IgdGhlIG90aGVyIG9ic2VydmFibGUgdG8gY29tcGxldGU7IElmIHRoZSBvdGhlclxuICogb2JzZXJ2YWJsZSBlbWl0cyBiZWZvcmUgY29tcGxldGluZywgdGhlIHJldHVybmVkIG9ic2VydmFibGUgd2lsbCBlbWl0IGBmYWxzZWAgYW5kIGNvbXBsZXRlLiBJZiBvbmUgb2JzZXJ2YWJsZSBuZXZlclxuICogY29tcGxldGVzIG9yIGVtaXRzIGFmdGVyIHRoZSBvdGhlciBjb21wbGV0ZXMsIHRoZSByZXR1cm5lZCBvYnNlcnZhYmxlIHdpbGwgbmV2ZXIgY29tcGxldGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEZpZ3VyZSBvdXQgaWYgdGhlIEtvbmFtaSBjb2RlIG1hdGNoZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgZnJvbUV2ZW50LCBtYXAsIGJ1ZmZlckNvdW50LCBtZXJnZU1hcCwgc2VxdWVuY2VFcXVhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNvZGVzID0gZnJvbShbXG4gKiAgICdBcnJvd1VwJyxcbiAqICAgJ0Fycm93VXAnLFxuICogICAnQXJyb3dEb3duJyxcbiAqICAgJ0Fycm93RG93bicsXG4gKiAgICdBcnJvd0xlZnQnLFxuICogICAnQXJyb3dSaWdodCcsXG4gKiAgICdBcnJvd0xlZnQnLFxuICogICAnQXJyb3dSaWdodCcsXG4gKiAgICdLZXlCJyxcbiAqICAgJ0tleUEnLFxuICogICAnRW50ZXInLCAvLyBubyBzdGFydCBrZXksIGNsZWFybHkuXG4gKiBdKTtcbiAqXG4gKiBjb25zdCBrZXlzID0gZnJvbUV2ZW50PEtleWJvYXJkRXZlbnQ+KGRvY3VtZW50LCAna2V5dXAnKS5waXBlKG1hcChlID0+IGUuY29kZSkpO1xuICogY29uc3QgbWF0Y2hlcyA9IGtleXMucGlwZShcbiAqICAgYnVmZmVyQ291bnQoMTEsIDEpLFxuICogICBtZXJnZU1hcChsYXN0MTEgPT4gZnJvbShsYXN0MTEpLnBpcGUoc2VxdWVuY2VFcXVhbChjb2RlcykpKVxuICogKTtcbiAqIG1hdGNoZXMuc3Vic2NyaWJlKG1hdGNoZWQgPT4gY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWwgY2hlYXQgYXQgQ29udHJhPyAnLCBtYXRjaGVkKSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0fVxuICogQHNlZSB7QGxpbmsgemlwfVxuICogQHNlZSB7QGxpbmsgd2l0aExhdGVzdEZyb219XG4gKlxuICogQHBhcmFtIGNvbXBhcmVUbyBUaGUgYE9ic2VydmFibGVJbnB1dGAgc2VxdWVuY2UgdG8gY29tcGFyZSB0aGUgc291cmNlIHNlcXVlbmNlIHRvLlxuICogQHBhcmFtIGNvbXBhcmF0b3IgQW4gb3B0aW9uYWwgZnVuY3Rpb24gdG8gY29tcGFyZSBlYWNoIHZhbHVlIHBhaXIuXG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYSBzaW5nbGUgYm9vbGVhblxuICogdmFsdWUgcmVwcmVzZW50aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGFuZCBwcm92aWRlZCBgT2JzZXJ2YWJsZUlucHV0YCB3ZXJlIGVxdWFsIGluIHNlcXVlbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VxdWVuY2VFcXVhbDxUPihcbiAgY29tcGFyZVRvOiBPYnNlcnZhYmxlSW5wdXQ8VD4sXG4gIGNvbXBhcmF0b3I6IChhOiBULCBiOiBUKSA9PiBib29sZWFuID0gKGEsIGIpID0+IGEgPT09IGJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgYm9vbGVhbj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIHN0YXRlIGZvciB0aGUgc291cmNlIG9ic2VydmFibGVcbiAgICBjb25zdCBhU3RhdGUgPSBjcmVhdGVTdGF0ZTxUPigpO1xuICAgIC8vIFRoZSBzdGF0ZSBmb3IgdGhlIGNvbXBhcmVUbyBvYnNlcnZhYmxlO1xuICAgIGNvbnN0IGJTdGF0ZSA9IGNyZWF0ZVN0YXRlPFQ+KCk7XG5cbiAgICAvKiogQSB1dGlsaXR5IHRvIGVtaXQgYW5kIGNvbXBsZXRlICovXG4gICAgY29uc3QgZW1pdCA9IChpc0VxdWFsOiBib29sZWFuKSA9PiB7XG4gICAgICBzdWJzY3JpYmVyLm5leHQoaXNFcXVhbCk7XG4gICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdWJzY3JpYmVyIHRoYXQgc3Vic2NyaWJlcyB0byBvbmUgb2YgdGhlIHNvdXJjZXMsIGFuZCBjb21wYXJlcyBpdHMgY29sbGVjdGVkXG4gICAgICogc3RhdGUgLS0gYHNlbGZTdGF0ZWAgLS0gdG8gdGhlIG90aGVyIHNvdXJjZSdzIGNvbGxlY3RlZCBzdGF0ZSAtLSBgb3RoZXJTdGF0ZWAuIFRoaXNcbiAgICAgKiBpcyB1c2VkIGZvciBib3RoIHN0cmVhbXMuXG4gICAgICovXG4gICAgY29uc3QgY3JlYXRlU3Vic2NyaWJlciA9IChzZWxmU3RhdGU6IFNlcXVlbmNlU3RhdGU8VD4sIG90aGVyU3RhdGU6IFNlcXVlbmNlU3RhdGU8VD4pID0+IHtcbiAgICAgIGNvbnN0IHNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAoYTogVCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgYnVmZmVyLCBjb21wbGV0ZSB9ID0gb3RoZXJTdGF0ZTtcbiAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyB2YWx1ZXMgaW4gdGhlIG90aGVyIGJ1ZmZlclxuICAgICAgICAgICAgLy8gYW5kIHRoZSBvdGhlciBzdHJlYW0gaXMgY29tcGxldGUsIHdlIGtub3dcbiAgICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgYSBtYXRjaCwgYmVjYXVzZSB3ZSBnb3Qgb25lIG1vcmUgdmFsdWUuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlIHB1c2ggb250byBvdXIgYnVmZmVyLCBzbyB3aGVuIHRoZSBvdGhlclxuICAgICAgICAgICAgLy8gc3RyZWFtIGVtaXRzLCBpdCBjYW4gcHVsbCB0aGlzIHZhbHVlIG9mZiBvdXIgYnVmZmVyIGFuZCBjaGVjayBpdFxuICAgICAgICAgICAgLy8gYXQgdGhlIGFwcHJvcHJpYXRlIHRpbWUuXG4gICAgICAgICAgICBjb21wbGV0ZSA/IGVtaXQoZmFsc2UpIDogc2VsZlN0YXRlLmJ1ZmZlci5wdXNoKGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgb3RoZXIgc3RyZWFtICpkb2VzKiBoYXZlIHZhbHVlcyBpbiBpdHMgYnVmZmVyLFxuICAgICAgICAgICAgLy8gcHVsbCB0aGUgb2xkZXN0IG9uZSBvZmYgc28gd2UgY2FuIGNvbXBhcmUgaXQgdG8gd2hhdCB3ZVxuICAgICAgICAgICAgLy8ganVzdCBnb3QuIElmIGl0IHdhc24ndCBhIG1hdGNoLCBlbWl0IGBmYWxzZWAgYW5kIGNvbXBsZXRlLlxuICAgICAgICAgICAgIWNvbXBhcmF0b3IoYSwgYnVmZmVyLnNoaWZ0KCkhKSAmJiBlbWl0KGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBPciBvYnNlcnZhYmxlIGNvbXBsZXRlZFxuICAgICAgICAgIHNlbGZTdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgY29uc3QgeyBjb21wbGV0ZSwgYnVmZmVyIH0gPSBvdGhlclN0YXRlO1xuICAgICAgICAgIC8vIElmIHRoZSBvdGhlciBvYnNlcnZhYmxlIGlzIGFsc28gY29tcGxldGUsIGFuZCB0aGVyZSdzXG4gICAgICAgICAgLy8gc3RpbGwgc3R1ZmYgbGVmdCBpbiB0aGVpciBidWZmZXIsIGl0IGRvZXNuJ3QgbWF0Y2gsIGlmIHRoZWlyXG4gICAgICAgICAgLy8gYnVmZmVyIGlzIGVtcHR5LCB0aGVuIGl0IGRvZXMgbWF0Y2guIFRoaXMgaXMgYmVjYXVzZSB3ZSBjYW4ndFxuICAgICAgICAgIC8vIHBvc3NpYmx5IGdldCBtb3JlIHZhbHVlcyBoZXJlIGFueW1vcmUuXG4gICAgICAgICAgY29tcGxldGUgJiYgZW1pdChidWZmZXIubGVuZ3RoID09PSAwKTtcbiAgICAgICAgICAvLyBCZSBzdXJlIHRvIGNsZWFuIHVwIG91ciBzdHJlYW0gYXMgc29vbiBhcyBwb3NzaWJsZSBpZiB3ZSBjYW4uXG4gICAgICAgICAgc2VxdWVuY2VFcXVhbFN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlcjtcbiAgICB9O1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIGVhY2ggc291cmNlLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihhU3RhdGUsIGJTdGF0ZSkpO1xuICAgIGlubmVyRnJvbShjb21wYXJlVG8pLnN1YnNjcmliZShjcmVhdGVTdWJzY3JpYmVyKGJTdGF0ZSwgYVN0YXRlKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEEgc2ltcGxlIHN0cnVjdHVyZSBmb3IgdGhlIGRhdGEgdXNlZCB0byB0ZXN0IGVhY2ggc2VxdWVuY2VcbiAqL1xuaW50ZXJmYWNlIFNlcXVlbmNlU3RhdGU8VD4ge1xuICAvKiogQSB0ZW1wb3Jhcnkgc3RvcmUgZm9yIGFycml2ZWQgdmFsdWVzIGJlZm9yZSB0aGV5IGFyZSBjaGVja2VkICovXG4gIGJ1ZmZlcjogVFtdO1xuICAvKiogV2hldGhlciBvciBub3QgdGhlIHNlcXVlbmNlIHNvdXJjZSBoYXMgY29tcGxldGVkLiAqL1xuICBjb21wbGV0ZTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2ltcGxlIHN0cnVjdHVyZSB0aGF0IGlzIHVzZWQgdG8gcmVwcmVzZW50XG4gKiBkYXRhIHVzZWQgdG8gdGVzdCBlYWNoIHNlcXVlbmNlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTdGF0ZTxUPigpOiBTZXF1ZW5jZVN0YXRlPFQ+IHtcbiAgcmV0dXJuIHtcbiAgICBidWZmZXI6IFtdLFxuICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgfTtcbn1cbiIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFNhZmVTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTdWJqZWN0TGlrZSwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcmVDb25maWc8VD4ge1xuICAvKipcbiAgICogVGhlIGZhY3RvcnkgdXNlZCB0byBjcmVhdGUgdGhlIHN1YmplY3QgdGhhdCB3aWxsIGNvbm5lY3QgdGhlIHNvdXJjZSBvYnNlcnZhYmxlIHRvXG4gICAqIG11bHRpY2FzdCBjb25zdW1lcnMuXG4gICAqL1xuICBjb25uZWN0b3I/OiAoKSA9PiBTdWJqZWN0TGlrZTxUPjtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgcmVzZXQgaW50ZXJuYWwgc3RhdGUgb24gZXJyb3IgZnJvbSBzb3VyY2UgYW5kIHJldHVybiB0byBhIFwiY29sZFwiIHN0YXRlLiBUaGlzXG4gICAqIGFsbG93cyB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgdG8gYmUgXCJyZXRyaWVkXCIgaW4gdGhlIGV2ZW50IG9mIGFuIGVycm9yLlxuICAgKiBJZiBgZmFsc2VgLCB3aGVuIGFuIGVycm9yIGNvbWVzIGZyb20gdGhlIHNvdXJjZSBpdCB3aWxsIHB1c2ggdGhlIGVycm9yIGludG8gdGhlIGNvbm5lY3Rpbmcgc3ViamVjdCwgYW5kIHRoZSBzdWJqZWN0XG4gICAqIHdpbGwgcmVtYWluIHRoZSBjb25uZWN0aW5nIHN1YmplY3QsIG1lYW5pbmcgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgbm90IGdvIFwiY29sZFwiIGFnYWluLCBhbmQgc3Vic2VxdWVudCByZXRyaWVzXG4gICAqIG9yIHJlc3Vic2NyaXB0aW9ucyB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoYXQgc2FtZSBzdWJqZWN0LiBJbiBhbGwgY2FzZXMsIFJ4SlMgc3ViamVjdHMgd2lsbCBlbWl0IHRoZSBzYW1lIGVycm9yIGFnYWluLCBob3dldmVyXG4gICAqIHtAbGluayBSZXBsYXlTdWJqZWN0fSB3aWxsIGFsc28gcHVzaCBpdHMgYnVmZmVyZWQgdmFsdWVzIGJlZm9yZSBwdXNoaW5nIHRoZSBlcnJvci5cbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBwYXNzIGEgbm90aWZpZXIgZmFjdG9yeSByZXR1cm5pbmcgYW4gYE9ic2VydmFibGVJbnB1dGAgaW5zdGVhZCB3aGljaCBncmFudHMgbW9yZSBmaW5lLWdyYWluZWRcbiAgICogY29udHJvbCBvdmVyIGhvdyBhbmQgd2hlbiB0aGUgcmVzZXQgc2hvdWxkIGhhcHBlbi4gVGhpcyBhbGxvd3MgYmVoYXZpb3JzIGxpa2UgY29uZGl0aW9uYWwgb3IgZGVsYXllZCByZXNldHMuXG4gICAqL1xuICByZXNldE9uRXJyb3I/OiBib29sZWFuIHwgKChlcnJvcjogYW55KSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIHJlc2V0IGludGVybmFsIHN0YXRlIG9uIGNvbXBsZXRpb24gZnJvbSBzb3VyY2UgYW5kIHJldHVybiB0byBhIFwiY29sZFwiIHN0YXRlLiBUaGlzXG4gICAqIGFsbG93cyB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgdG8gYmUgXCJyZXBlYXRlZFwiIGFmdGVyIGl0IGlzIGRvbmUuXG4gICAqIElmIGBmYWxzZWAsIHdoZW4gdGhlIHNvdXJjZSBjb21wbGV0ZXMsIGl0IHdpbGwgcHVzaCB0aGUgY29tcGxldGlvbiB0aHJvdWdoIHRoZSBjb25uZWN0aW5nIHN1YmplY3QsIGFuZCB0aGUgc3ViamVjdFxuICAgKiB3aWxsIHJlbWFpbiB0aGUgY29ubmVjdGluZyBzdWJqZWN0LCBtZWFuaW5nIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIG5vdCBnbyBcImNvbGRcIiBhZ2FpbiwgYW5kIHN1YnNlcXVlbnQgcmVwZWF0c1xuICAgKiBvciByZXN1YnNjcmlwdGlvbnMgd2lsbCByZXN1YnNjcmliZSB0byB0aGF0IHNhbWUgc3ViamVjdC5cbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBwYXNzIGEgbm90aWZpZXIgZmFjdG9yeSByZXR1cm5pbmcgYW4gYE9ic2VydmFibGVJbnB1dGAgaW5zdGVhZCB3aGljaCBncmFudHMgbW9yZSBmaW5lLWdyYWluZWRcbiAgICogY29udHJvbCBvdmVyIGhvdyBhbmQgd2hlbiB0aGUgcmVzZXQgc2hvdWxkIGhhcHBlbi4gVGhpcyBhbGxvd3MgYmVoYXZpb3JzIGxpa2UgY29uZGl0aW9uYWwgb3IgZGVsYXllZCByZXNldHMuXG4gICAqL1xuICByZXNldE9uQ29tcGxldGU/OiBib29sZWFuIHwgKCgpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgd2hlbiB0aGUgbnVtYmVyIG9mIHN1YnNjcmliZXJzIHRvIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSByZWFjaGVzIHplcm8gZHVlIHRvIHRob3NlIHN1YnNjcmliZXJzIHVuc3Vic2NyaWJpbmcsIHRoZVxuICAgKiBpbnRlcm5hbCBzdGF0ZSB3aWxsIGJlIHJlc2V0IGFuZCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCByZXR1cm4gdG8gYSBcImNvbGRcIiBzdGF0ZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBuZXh0XG4gICAqIHRpbWUgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIGlzIHN1YnNjcmliZWQgdG8sIGEgbmV3IHN1YmplY3Qgd2lsbCBiZSBjcmVhdGVkIGFuZCB0aGUgc291cmNlIHdpbGwgYmUgc3Vic2NyaWJlZCB0b1xuICAgKiBhZ2Fpbi5cbiAgICogSWYgYGZhbHNlYCwgd2hlbiB0aGUgbnVtYmVyIG9mIHN1YnNjcmliZXJzIHRvIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSByZWFjaGVzIHplcm8gZHVlIHRvIHVuc3Vic2NyaXB0aW9uLCB0aGUgc3ViamVjdFxuICAgKiB3aWxsIHJlbWFpbiBjb25uZWN0ZWQgdG8gdGhlIHNvdXJjZSwgYW5kIG5ldyBzdWJzY3JpcHRpb25zIHRvIHRoZSByZXN1bHQgd2lsbCBiZSBjb25uZWN0ZWQgdGhyb3VnaCB0aGF0IHNhbWUgc3ViamVjdC5cbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBwYXNzIGEgbm90aWZpZXIgZmFjdG9yeSByZXR1cm5pbmcgYW4gYE9ic2VydmFibGVJbnB1dGAgaW5zdGVhZCB3aGljaCBncmFudHMgbW9yZSBmaW5lLWdyYWluZWRcbiAgICogY29udHJvbCBvdmVyIGhvdyBhbmQgd2hlbiB0aGUgcmVzZXQgc2hvdWxkIGhhcHBlbi4gVGhpcyBhbGxvd3MgYmVoYXZpb3JzIGxpa2UgY29uZGl0aW9uYWwgb3IgZGVsYXllZCByZXNldHMuXG4gICAqL1xuICByZXNldE9uUmVmQ291bnRaZXJvPzogYm9vbGVhbiB8ICgoKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZTxUPigpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZTxUPihvcHRpb25zOiBTaGFyZUNvbmZpZzxUPik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IE9ic2VydmFibGUgdGhhdCBtdWx0aWNhc3RzIChzaGFyZXMpIHRoZSBvcmlnaW5hbCBPYnNlcnZhYmxlLiBBcyBsb25nIGFzIHRoZXJlIGlzIGF0IGxlYXN0IG9uZVxuICogU3Vic2NyaWJlciB0aGlzIE9ic2VydmFibGUgd2lsbCBiZSBzdWJzY3JpYmVkIGFuZCBlbWl0dGluZyBkYXRhLiBXaGVuIGFsbCBzdWJzY3JpYmVycyBoYXZlIHVuc3Vic2NyaWJlZCBpdCB3aWxsXG4gKiB1bnN1YnNjcmliZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gQmVjYXVzZSB0aGUgT2JzZXJ2YWJsZSBpcyBtdWx0aWNhc3RpbmcgaXQgbWFrZXMgdGhlIHN0cmVhbSBgaG90YC5cbiAqIFRoaXMgaXMgYW4gYWxpYXMgZm9yIGBtdWx0aWNhc3QoKCkgPT4gbmV3IFN1YmplY3QoKSksIHJlZkNvdW50KClgLlxuICpcbiAqIFRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIHVuZGVybHlpbmcgc291cmNlIE9ic2VydmFibGUgY2FuIGJlIHJlc2V0ICh1bnN1YnNjcmliZSBhbmQgcmVzdWJzY3JpYmUgZm9yIG5ldyBzdWJzY3JpYmVycyksXG4gKiBpZiB0aGUgc3Vic2NyaWJlciBjb3VudCB0byB0aGUgc2hhcmVkIG9ic2VydmFibGUgZHJvcHMgdG8gMCwgb3IgaWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVycm9ycyBvciBjb21wbGV0ZXMuIEl0IGlzXG4gKiBwb3NzaWJsZSB0byB1c2Ugbm90aWZpZXIgZmFjdG9yaWVzIGZvciB0aGUgcmVzZXRzIHRvIGFsbG93IGZvciBiZWhhdmlvcnMgbGlrZSBjb25kaXRpb25hbCBvciBkZWxheWVkIHJlc2V0cy4gUGxlYXNlXG4gKiBub3RlIHRoYXQgcmVzZXR0aW5nIG9uIGVycm9yIG9yIGNvbXBsZXRlIG9mIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBkb2VzIG5vdCBiZWhhdmUgbGlrZSBhIHRyYW5zcGFyZW50IHJldHJ5IG9yIHJlc3RhcnRcbiAqIG9mIHRoZSBzb3VyY2UgYmVjYXVzZSB0aGUgZXJyb3Igb3IgY29tcGxldGUgd2lsbCBiZSBmb3J3YXJkZWQgdG8gYWxsIHN1YnNjcmliZXJzIGFuZCB0aGVpciBzdWJzY3JpcHRpb24gd2lsbCBiZVxuICogY2xvc2VkLiBPbmx5IG5ldyBzdWJzY3JpYmVycyBhZnRlciBhIHJlc2V0IG9uIGVycm9yIG9yIGNvbXBsZXRlIGhhcHBlbmVkIHdpbGwgY2F1c2UgYSBmcmVzaCBzdWJzY3JpcHRpb24gdG8gdGhlXG4gKiBzb3VyY2UuIFRvIGFjaGlldmUgdHJhbnNwYXJlbnQgcmV0cmllcyBvciByZXN0YXJ0cyBwaXBlIHRoZSBzb3VyY2UgdGhyb3VnaCBhcHByb3ByaWF0ZSBvcGVyYXRvcnMgYmVmb3JlIHNoYXJpbmcuXG4gKlxuICogIVtdKHNoYXJlLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogR2VuZXJhdGUgbmV3IG11bHRpY2FzdCBPYnNlcnZhYmxlIGZyb20gdGhlIGBzb3VyY2VgIE9ic2VydmFibGUgdmFsdWVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRhcCwgbWFwLCB0YWtlLCBzaGFyZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApLnBpcGUoXG4gKiAgIHRhcCh4ID0+IGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nOiAnLCB4KSksXG4gKiAgIG1hcCh4ID0+IHggKiB4KSxcbiAqICAgdGFrZSg2KSxcbiAqICAgc2hhcmUoKVxuICogKTtcbiAqXG4gKiBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YnNjcmlwdGlvbiAxOiAnLCB4KSk7XG4gKiBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YnNjcmlwdGlvbiAyOiAnLCB4KSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIFByb2Nlc3Npbmc6IDBcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAwXG4gKiAvLyBzdWJzY3JpcHRpb24gMjogMFxuICogLy8gUHJvY2Vzc2luZzogMVxuICogLy8gc3Vic2NyaXB0aW9uIDE6IDFcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiAxXG4gKiAvLyBQcm9jZXNzaW5nOiAyXG4gKiAvLyBzdWJzY3JpcHRpb24gMTogNFxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDRcbiAqIC8vIFByb2Nlc3Npbmc6IDNcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiA5XG4gKiAvLyBzdWJzY3JpcHRpb24gMjogOVxuICogLy8gUHJvY2Vzc2luZzogNFxuICogLy8gc3Vic2NyaXB0aW9uIDE6IDE2XG4gKiAvLyBzdWJzY3JpcHRpb24gMjogMTZcbiAqIC8vIFByb2Nlc3Npbmc6IDVcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAyNVxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDI1XG4gKiBgYGBcbiAqXG4gKiAjIyBFeGFtcGxlIHdpdGggbm90aWZpZXIgZmFjdG9yeTogRGVsYXllZCByZXNldFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgc2hhcmUsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gaW50ZXJ2YWwoMTAwMCkucGlwZShcbiAqICAgdGFrZSgzKSxcbiAqICAgc2hhcmUoe1xuICogICAgIHJlc2V0T25SZWZDb3VudFplcm86ICgpID0+IHRpbWVyKDEwMDApXG4gKiAgIH0pXG4gKiApO1xuICpcbiAqIGNvbnN0IHN1YnNjcmlwdGlvbk9uZSA9IHNvdXJjZS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnc3Vic2NyaXB0aW9uIDE6ICcsIHgpKTtcbiAqIHNldFRpbWVvdXQoKCkgPT4gc3Vic2NyaXB0aW9uT25lLnVuc3Vic2NyaWJlKCksIDEzMDApO1xuICpcbiAqIHNldFRpbWVvdXQoKCkgPT4gc291cmNlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpcHRpb24gMjogJywgeCkpLCAxNzAwKTtcbiAqXG4gKiBzZXRUaW1lb3V0KCgpID0+IHNvdXJjZS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnc3Vic2NyaXB0aW9uIDM6ICcsIHgpKSwgNTAwMCk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAgMFxuICogLy8gKHN1YnNjcmlwdGlvbiAxIHVuc3Vic2NyaWJlcyBoZXJlKVxuICogLy8gKHN1YnNjcmlwdGlvbiAyIHN1YnNjcmliZXMgaGVyZSB+NDAwbXMgbGF0ZXIsIHNvdXJjZSB3YXMgbm90IHJlc2V0KVxuICogLy8gc3Vic2NyaXB0aW9uIDI6ICAxXG4gKiAvLyBzdWJzY3JpcHRpb24gMjogIDJcbiAqIC8vIChzdWJzY3JpcHRpb24gMiB1bnN1YnNjcmliZXMgaGVyZSlcbiAqIC8vIChzdWJzY3JpcHRpb24gMyBzdWJzY3JpYmVzIGhlcmUgfjIwMDBtcyBsYXRlciwgc291cmNlIGRpZCByZXNldCBiZWZvcmUpXG4gKiAvLyBzdWJzY3JpcHRpb24gMzogIDBcbiAqIC8vIHN1YnNjcmlwdGlvbiAzOiAgMVxuICogLy8gc3Vic2NyaXB0aW9uIDM6ICAyXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBzaGFyZVJlcGxheX1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBzb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZTxUPihvcHRpb25zOiBTaGFyZUNvbmZpZzxUPiA9IHt9KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgY29uc3QgeyBjb25uZWN0b3IgPSAoKSA9PiBuZXcgU3ViamVjdDxUPigpLCByZXNldE9uRXJyb3IgPSB0cnVlLCByZXNldE9uQ29tcGxldGUgPSB0cnVlLCByZXNldE9uUmVmQ291bnRaZXJvID0gdHJ1ZSB9ID0gb3B0aW9ucztcbiAgLy8gSXQncyBuZWNlc3NhcnkgdG8gdXNlIGEgd3JhcHBlciBoZXJlLCBhcyB0aGUgX29wZXJhdG9yXyBtdXN0IGJlXG4gIC8vIHJlZmVyZW50aWFsbHkgdHJhbnNwYXJlbnQuIE90aGVyd2lzZSwgaXQgY2Fubm90IGJlIHVzZWQgaW4gY2FsbHMgdG8gdGhlXG4gIC8vIHN0YXRpYyBgcGlwZWAgZnVuY3Rpb24gLSB0byBjcmVhdGUgYSBwYXJ0aWFsIHBpcGVsaW5lLlxuICAvL1xuICAvLyBUaGUgX29wZXJhdG9yIGZ1bmN0aW9uXyAtIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBieSB0aGUgX29wZXJhdG9yXyAtIHdpbGxcbiAgLy8gbm90IGJlIHJlZmVyZW50aWFsbHkgdHJhbnNwYXJlbnQgLSBhcyBpdCBzaGFyZXMgaXRzIHNvdXJjZSAtIGJ1dCB0aGVcbiAgLy8gX29wZXJhdG9yIGZ1bmN0aW9uXyBpcyBjYWxsZWQgd2hlbiB0aGUgY29tcGxldGUgcGlwZWxpbmUgaXMgY29tcG9zZWQgdmlhIGFcbiAgLy8gY2FsbCB0byBhIHNvdXJjZSBvYnNlcnZhYmxlJ3MgYHBpcGVgIG1ldGhvZCAtIG5vdCB3aGVuIHRoZSBzdGF0aWMgYHBpcGVgXG4gIC8vIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgcmV0dXJuICh3cmFwcGVyU291cmNlKSA9PiB7XG4gICAgbGV0IGNvbm5lY3Rpb246IFNhZmVTdWJzY3JpYmVyPFQ+IHwgdW5kZWZpbmVkO1xuICAgIGxldCByZXNldENvbm5lY3Rpb246IFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZDtcbiAgICBsZXQgc3ViamVjdDogU3ViamVjdExpa2U8VD4gfCB1bmRlZmluZWQ7XG4gICAgbGV0IHJlZkNvdW50ID0gMDtcbiAgICBsZXQgaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgbGV0IGhhc0Vycm9yZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGNhbmNlbFJlc2V0ID0gKCkgPT4ge1xuICAgICAgcmVzZXRDb25uZWN0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgcmVzZXRDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLy8gVXNlZCB0byByZXNldCB0aGUgaW50ZXJuYWwgc3RhdGUgdG8gYSBcImNvbGRcIlxuICAgIC8vIHN0YXRlLCBhcyB0aG91Z2ggaXQgaGFkIG5ldmVyIGJlZW4gc3Vic2NyaWJlZCB0by5cbiAgICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICBjb25uZWN0aW9uID0gc3ViamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIGhhc0NvbXBsZXRlZCA9IGhhc0Vycm9yZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0QW5kVW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGNhcHR1cmUgdGhlIGNvbm5lY3Rpb24gYmVmb3JlXG4gICAgICAvLyB3ZSByZXNldCAoaWYgd2UgbmVlZCB0byByZXNldCkuXG4gICAgICBjb25zdCBjb25uID0gY29ubmVjdGlvbjtcbiAgICAgIHJlc2V0KCk7XG4gICAgICBjb25uPy51bnN1YnNjcmliZSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gb3BlcmF0ZTxULCBUPigoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICByZWZDb3VudCsrO1xuICAgICAgaWYgKCFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHRoZSBzdWJqZWN0IGlmIHdlIGRvbid0IGhhdmUgb25lIHlldC4gR3JhYiBhIGxvY2FsIHJlZmVyZW5jZSB0b1xuICAgICAgLy8gaXQgYXMgd2VsbCwgd2hpY2ggYXZvaWRzIG5vbi1udWxsIGFzc2VydGlvbnMgd2hlbiB1c2luZyBpdCBhbmQsIGlmIHdlXG4gICAgICAvLyBjb25uZWN0IHRvIGl0IG5vdywgdGhlbiBlcnJvci9jb21wbGV0ZSBuZWVkIGEgcmVmZXJlbmNlIGFmdGVyIGl0IHdhc1xuICAgICAgLy8gcmVzZXQuXG4gICAgICBjb25zdCBkZXN0ID0gKHN1YmplY3QgPSBzdWJqZWN0ID8/IGNvbm5lY3RvcigpKTtcblxuICAgICAgLy8gQWRkIHRoZSBmaW5hbGl6YXRpb24gZGlyZWN0bHkgdG8gdGhlIHN1YnNjcmliZXIgLSBpbnN0ZWFkIG9mIHJldHVybmluZyBpdCAtXG4gICAgICAvLyBzbyB0aGF0IHRoZSBoYW5kbGluZyBvZiB0aGUgc3Vic2NyaWJlcidzIHVuc3Vic2NyaXB0aW9uIHdpbGwgYmUgd2lyZWRcbiAgICAgIC8vIHVwIF9iZWZvcmVfIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIHNvdXJjZSBvY2N1cnMuIFRoaXMgaXMgZG9uZSBzbyB0aGF0XG4gICAgICAvLyB0aGUgYXNzaWdubWVudCB0byB0aGUgc291cmNlIGNvbm5lY3Rpb24ncyBgY2xvc2VkYCBwcm9wZXJ0eSB3aWxsIGJlIHNlZW5cbiAgICAgIC8vIGJ5IHN5bmNocm9ub3VzIGZpcmVob3NlIHNvdXJjZXMuXG4gICAgICBzdWJzY3JpYmVyLmFkZCgoKSA9PiB7XG4gICAgICAgIHJlZkNvdW50LS07XG5cbiAgICAgICAgLy8gSWYgd2UncmUgcmVzZXR0aW5nIG9uIHJlZkNvdW50ID09PSAwLCBhbmQgaXQncyAwLCB3ZSBvbmx5IHdhbnQgdG8gZG9cbiAgICAgICAgLy8gdGhhdCBvbiBcInVuc3Vic2NyaWJlXCIsIHJlYWxseS4gUmVzZXR0aW5nIG9uIGVycm9yIG9yIGNvbXBsZXRpb24gaXMgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gY29uZmlndXJhdGlvbi5cbiAgICAgICAgaWYgKHJlZkNvdW50ID09PSAwICYmICFoYXNFcnJvcmVkICYmICFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBoYW5kbGVSZXNldChyZXNldEFuZFVuc3Vic2NyaWJlLCByZXNldE9uUmVmQ291bnRaZXJvKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoZSBmb2xsb3dpbmcgbGluZSBhZGRzIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIHN1YnNjcmliZXIgcGFzc2VkLlxuICAgICAgLy8gQmFzaWNhbGx5LCBgc3Vic2NyaWJlciA9PT0gZGVzdC5zdWJzY3JpYmUoc3Vic2NyaWJlcilgIGlzIGB0cnVlYC5cbiAgICAgIGRlc3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuXG4gICAgICBpZiAoXG4gICAgICAgICFjb25uZWN0aW9uICYmXG4gICAgICAgIC8vIENoZWNrIHRoaXMgc2hhcmVSZXBsYXkgaXMgc3RpbGwgYWN0aXZhdGUgLSBpdCBjYW4gYmUgcmVzZXQgdG8gMFxuICAgICAgICAvLyBhbmQgYmUgXCJ1bnN1YnNjcmliZWRcIiBfYmVmb3JlXyBpdCBhY3R1YWxseSBzdWJzY3JpYmVzLlxuICAgICAgICAvLyBJZiB3ZSB3ZXJlIHRvIHN1YnNjcmliZSB0aGVuLCBpdCdkIGxlYWsgYW5kIGdldCBzdHVjay5cbiAgICAgICAgcmVmQ291bnQgPiAwXG4gICAgICApIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjcmVhdGUgYSBzdWJzY3JpYmVyIGhlcmUgLSByYXRoZXIgdGhhbiBwYXNzIGFuIG9ic2VydmVyIGFuZFxuICAgICAgICAvLyBhc3NpZ24gdGhlIHJldHVybmVkIHN1YnNjcmlwdGlvbiB0byBjb25uZWN0aW9uIC0gYmVjYXVzZSBpdCdzIHBvc3NpYmxlXG4gICAgICAgIC8vIGZvciByZWVudHJhbnQgc3Vic2NyaXB0aW9ucyB0byB0aGUgc2hhcmVkIG9ic2VydmFibGUgdG8gb2NjdXIgYW5kIGluXG4gICAgICAgIC8vIHRob3NlIHNpdHVhdGlvbnMgd2Ugd2FudCBjb25uZWN0aW9uIHRvIGJlIGFscmVhZHktYXNzaWduZWQgc28gdGhhdCB3ZVxuICAgICAgICAvLyBkb24ndCBjcmVhdGUgYW5vdGhlciBjb25uZWN0aW9uIHRvIHRoZSBzb3VyY2UuXG4gICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgICAgICAgIG5leHQ6ICh2YWx1ZSkgPT4gZGVzdC5uZXh0KHZhbHVlKSxcbiAgICAgICAgICBlcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgaGFzRXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXQsIHJlc2V0T25FcnJvciwgZXJyKTtcbiAgICAgICAgICAgIGRlc3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBoYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0LCByZXNldE9uQ29tcGxldGUpO1xuICAgICAgICAgICAgZGVzdC5jb21wbGV0ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpbm5lckZyb20oc291cmNlKS5zdWJzY3JpYmUoY29ubmVjdGlvbik7XG4gICAgICB9XG4gICAgfSkod3JhcHBlclNvdXJjZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVJlc2V0PFQgZXh0ZW5kcyB1bmtub3duW10gPSBuZXZlcltdPihcbiAgcmVzZXQ6ICgpID0+IHZvaWQsXG4gIG9uOiBib29sZWFuIHwgKCguLi5hcmdzOiBUKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PiksXG4gIC4uLmFyZ3M6IFRcbik6IFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZCB7XG4gIGlmIChvbiA9PT0gdHJ1ZSkge1xuICAgIHJlc2V0KCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG9uID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9uU3Vic2NyaWJlciA9IG5ldyBTYWZlU3Vic2NyaWJlcih7XG4gICAgbmV4dDogKCkgPT4ge1xuICAgICAgb25TdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXNldCgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBpbm5lckZyb20ob24oLi4uYXJncykpLnN1YnNjcmliZShvblN1YnNjcmliZXIpO1xufVxuIiwiaW1wb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJy4uL1JlcGxheVN1YmplY3QnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2hhcmUgfSBmcm9tICcuL3NoYXJlJztcblxuZXhwb3J0IGludGVyZmFjZSBTaGFyZVJlcGxheUNvbmZpZyB7XG4gIGJ1ZmZlclNpemU/OiBudW1iZXI7XG4gIHdpbmRvd1RpbWU/OiBudW1iZXI7XG4gIHJlZkNvdW50OiBib29sZWFuO1xuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVSZXBsYXk8VD4oY29uZmlnOiBTaGFyZVJlcGxheUNvbmZpZyk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiBzaGFyZVJlcGxheTxUPihidWZmZXJTaXplPzogbnVtYmVyLCB3aW5kb3dUaW1lPzogbnVtYmVyLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFNoYXJlIHNvdXJjZSBhbmQgcmVwbGF5IHNwZWNpZmllZCBudW1iZXIgb2YgZW1pc3Npb25zIG9uIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBUaGlzIG9wZXJhdG9yIGlzIGEgc3BlY2lhbGl6YXRpb24gb2YgYHJlcGxheWAgdGhhdCBjb25uZWN0cyB0byBhIHNvdXJjZSBvYnNlcnZhYmxlXG4gKiBhbmQgbXVsdGljYXN0cyB0aHJvdWdoIGEgYFJlcGxheVN1YmplY3RgIGNvbnN0cnVjdGVkIHdpdGggdGhlIHNwZWNpZmllZCBhcmd1bWVudHMuXG4gKiBBIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQgc291cmNlIHdpbGwgc3RheSBjYWNoZWQgaW4gdGhlIGBzaGFyZVJlcGxheWBlZCBvYnNlcnZhYmxlIGZvcmV2ZXIsXG4gKiBidXQgYW4gZXJyb3JlZCBzb3VyY2UgY2FuIGJlIHJldHJpZWQuXG4gKlxuICogIyMgV2h5IHVzZSBgc2hhcmVSZXBsYXlgP1xuICpcbiAqIFlvdSBnZW5lcmFsbHkgd2FudCB0byB1c2UgYHNoYXJlUmVwbGF5YCB3aGVuIHlvdSBoYXZlIHNpZGUtZWZmZWN0cyBvciB0YXhpbmcgY29tcHV0YXRpb25zXG4gKiB0aGF0IHlvdSBkbyBub3Qgd2lzaCB0byBiZSBleGVjdXRlZCBhbW9uZ3N0IG11bHRpcGxlIHN1YnNjcmliZXJzLlxuICogSXQgbWF5IGFsc28gYmUgdmFsdWFibGUgaW4gc2l0dWF0aW9ucyB3aGVyZSB5b3Uga25vdyB5b3Ugd2lsbCBoYXZlIGxhdGUgc3Vic2NyaWJlcnMgdG9cbiAqIGEgc3RyZWFtIHRoYXQgbmVlZCBhY2Nlc3MgdG8gcHJldmlvdXNseSBlbWl0dGVkIHZhbHVlcy5cbiAqIFRoaXMgYWJpbGl0eSB0byByZXBsYXkgdmFsdWVzIG9uIHN1YnNjcmlwdGlvbiBpcyB3aGF0IGRpZmZlcmVudGlhdGVzIHtAbGluayBzaGFyZX0gYW5kIGBzaGFyZVJlcGxheWAuXG4gKlxuICogIyMgUmVmZXJlbmNlIGNvdW50aW5nXG4gKlxuICogQnkgZGVmYXVsdCBgc2hhcmVSZXBsYXlgIHdpbGwgdXNlIGByZWZDb3VudGAgb2YgZmFsc2UsIG1lYW5pbmcgdGhhdCBpdCB3aWxsIF9ub3RfIHVuc3Vic2NyaWJlIHRoZVxuICogc291cmNlIHdoZW4gdGhlIHJlZmVyZW5jZSBjb3VudGVyIGRyb3BzIHRvIHplcm8sIGkuZS4gdGhlIGlubmVyIGBSZXBsYXlTdWJqZWN0YCB3aWxsIF9ub3RfIGJlIHVuc3Vic2NyaWJlZFxuICogKGFuZCBwb3RlbnRpYWxseSBydW4gZm9yIGV2ZXIpLlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBhcyBpdCBpcyBleHBlY3RlZCB0aGF0IGBzaGFyZVJlcGxheWAgaXMgb2Z0ZW4gdXNlZCB0byBrZWVwIGFyb3VuZCBleHBlbnNpdmUgdG8gc2V0dXBcbiAqIG9ic2VydmFibGVzIHdoaWNoIHdlIHdhbnQgdG8ga2VlcCBydW5uaW5nIGluc3RlYWQgb2YgaGF2aW5nIHRvIGRvIHRoZSBleHBlbnNpdmUgc2V0dXAgYWdhaW4uXG4gKlxuICogQXMgb2YgUlhKUyB2ZXJzaW9uIDYuNC4wIGEgbmV3IG92ZXJsb2FkIHNpZ25hdHVyZSB3YXMgYWRkZWQgdG8gYWxsb3cgZm9yIG1hbnVhbCBjb250cm9sIG92ZXIgd2hhdFxuICogaGFwcGVucyB3aGVuIHRoZSBvcGVyYXRvcnMgaW50ZXJuYWwgcmVmZXJlbmNlIGNvdW50ZXIgZHJvcHMgdG8gemVyby5cbiAqIElmIGByZWZDb3VudGAgaXMgdHJ1ZSwgdGhlIHNvdXJjZSB3aWxsIGJlIHVuc3Vic2NyaWJlZCBmcm9tIG9uY2UgdGhlIHJlZmVyZW5jZSBjb3VudCBkcm9wcyB0byB6ZXJvLCBpLmUuXG4gKiB0aGUgaW5uZXIgYFJlcGxheVN1YmplY3RgIHdpbGwgYmUgdW5zdWJzY3JpYmVkLiBBbGwgbmV3IHN1YnNjcmliZXJzIHdpbGwgcmVjZWl2ZSB2YWx1ZSBlbWlzc2lvbnMgZnJvbSBhXG4gKiBuZXcgYFJlcGxheVN1YmplY3RgIHdoaWNoIGluIHR1cm4gd2lsbCBjYXVzZSBhIG5ldyBzdWJzY3JpcHRpb24gdG8gdGhlIHNvdXJjZSBvYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRXhhbXBsZSB3aXRoIGEgdGhpcmQgc3Vic2NyaWJlciBjb21pbmcgbGF0ZSB0byB0aGUgcGFydHlcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIHNoYXJlUmVwbGF5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2hhcmVkJCA9IGludGVydmFsKDIwMDApLnBpcGUoXG4gKiAgIHRha2UoNiksXG4gKiAgIHNoYXJlUmVwbGF5KDMpXG4gKiApO1xuICpcbiAqIHNoYXJlZCQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YiBBOiAnLCB4KSk7XG4gKiBzaGFyZWQkLnN1YnNjcmliZSh5ID0+IGNvbnNvbGUubG9nKCdzdWIgQjogJywgeSkpO1xuICpcbiAqIHNldFRpbWVvdXQoKCkgPT4ge1xuICogICBzaGFyZWQkLnN1YnNjcmliZSh5ID0+IGNvbnNvbGUubG9nKCdzdWIgQzogJywgeSkpO1xuICogfSwgMTEwMDApO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAoYWZ0ZXIgfjIwMDAgbXMpXG4gKiAvLyBzdWIgQTogMFxuICogLy8gc3ViIEI6IDBcbiAqIC8vIChhZnRlciB+NDAwMCBtcylcbiAqIC8vIHN1YiBBOiAxXG4gKiAvLyBzdWIgQjogMVxuICogLy8gKGFmdGVyIH42MDAwIG1zKVxuICogLy8gc3ViIEE6IDJcbiAqIC8vIHN1YiBCOiAyXG4gKiAvLyAoYWZ0ZXIgfjgwMDAgbXMpXG4gKiAvLyBzdWIgQTogM1xuICogLy8gc3ViIEI6IDNcbiAqIC8vIChhZnRlciB+MTAwMDAgbXMpXG4gKiAvLyBzdWIgQTogNFxuICogLy8gc3ViIEI6IDRcbiAqIC8vIChhZnRlciB+MTEwMDAgbXMsIHN1YiBDIGdldHMgdGhlIGxhc3QgMyB2YWx1ZXMpXG4gKiAvLyBzdWIgQzogMlxuICogLy8gc3ViIEM6IDNcbiAqIC8vIHN1YiBDOiA0XG4gKiAvLyAoYWZ0ZXIgfjEyMDAwIG1zKVxuICogLy8gc3ViIEE6IDVcbiAqIC8vIHN1YiBCOiA1XG4gKiAvLyBzdWIgQzogNVxuICogYGBgXG4gKlxuICogRXhhbXBsZSBmb3IgYHJlZkNvdW50YCB1c2FnZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBPYnNlcnZhYmxlLCB0YXAsIGludGVydmFsLCBzaGFyZVJlcGxheSwgdGFrZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGxvZyA9IDxUPihuYW1lOiBzdHJpbmcsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gc291cmNlLnBpcGUoXG4gKiAgIHRhcCh7XG4gKiAgICAgc3Vic2NyaWJlOiAoKSA9PiBjb25zb2xlLmxvZyhgJHsgbmFtZSB9OiBzdWJzY3JpYmVkYCksXG4gKiAgICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2coYCR7IG5hbWUgfTogJHsgdmFsdWUgfWApLFxuICogICAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZyhgJHsgbmFtZSB9OiBjb21wbGV0ZWRgKSxcbiAqICAgICBmaW5hbGl6ZTogKCkgPT4gY29uc29sZS5sb2coYCR7IG5hbWUgfTogdW5zdWJzY3JpYmVkYClcbiAqICAgfSlcbiAqICk7XG4gKlxuICogY29uc3Qgb2JzJCA9IGxvZygnc291cmNlJywgaW50ZXJ2YWwoMTAwMCkpO1xuICpcbiAqIGNvbnN0IHNoYXJlZCQgPSBsb2coJ3NoYXJlZCcsIG9icyQucGlwZShcbiAqICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAqICAgdGFrZSgyKVxuICogKSk7XG4gKlxuICogc2hhcmVkJC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnc3ViIEE6ICcsIHgpKTtcbiAqIHNoYXJlZCQuc3Vic2NyaWJlKHkgPT4gY29uc29sZS5sb2coJ3N1YiBCOiAnLCB5KSk7XG4gKlxuICogLy8gUFJJTlRTOlxuICogLy8gc2hhcmVkOiBzdWJzY3JpYmVkIDwtLSByZWZlcmVuY2UgY291bnQgPSAxXG4gKiAvLyBzb3VyY2U6IHN1YnNjcmliZWRcbiAqIC8vIHNoYXJlZDogc3Vic2NyaWJlZCA8LS0gcmVmZXJlbmNlIGNvdW50ID0gMlxuICogLy8gc291cmNlOiAwXG4gKiAvLyBzaGFyZWQ6IDBcbiAqIC8vIHN1YiBBOiAwXG4gKiAvLyBzaGFyZWQ6IDBcbiAqIC8vIHN1YiBCOiAwXG4gKiAvLyBzb3VyY2U6IDFcbiAqIC8vIHNoYXJlZDogMVxuICogLy8gc3ViIEE6IDFcbiAqIC8vIHNoYXJlZDogY29tcGxldGVkIDwtLSB0YWtlKDIpIGNvbXBsZXRlcyB0aGUgc3Vic2NyaXB0aW9uIGZvciBzdWIgQVxuICogLy8gc2hhcmVkOiB1bnN1YnNjcmliZWQgPC0tIHJlZmVyZW5jZSBjb3VudCA9IDFcbiAqIC8vIHNoYXJlZDogMVxuICogLy8gc3ViIEI6IDFcbiAqIC8vIHNoYXJlZDogY29tcGxldGVkIDwtLSB0YWtlKDIpIGNvbXBsZXRlcyB0aGUgc3Vic2NyaXB0aW9uIGZvciBzdWIgQlxuICogLy8gc2hhcmVkOiB1bnN1YnNjcmliZWQgPC0tIHJlZmVyZW5jZSBjb3VudCA9IDBcbiAqIC8vIHNvdXJjZTogdW5zdWJzY3JpYmVkIDwtLSByZXBsYXlTdWJqZWN0IHVuc3Vic2NyaWJlcyBmcm9tIHNvdXJjZSBvYnNlcnZhYmxlIGJlY2F1c2UgdGhlIHJlZmVyZW5jZSBjb3VudCBkcm9wcGVkIHRvIDAgYW5kIHJlZkNvdW50IGlzIHRydWVcbiAqXG4gKiAvLyBJbiBjYXNlIG9mIHJlZkNvdW50IGJlaW5nIGZhbHNlLCB0aGUgdW5zdWJzY3JpYmUgaXMgbmV2ZXIgY2FsbGVkIG9uIHRoZSBzb3VyY2UgYW5kIHRoZSBzb3VyY2Ugd291bGQga2VlcCBvbiBlbWl0dGluZywgZXZlbiBpZiBubyBzdWJzY3JpYmVyc1xuICogLy8gYXJlIGxpc3RlbmluZy5cbiAqIC8vIHNvdXJjZTogMlxuICogLy8gc291cmNlOiAzXG4gKiAvLyBzb3VyY2U6IDRcbiAqIC8vIC4uLlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgcHVibGlzaH1cbiAqIEBzZWUge0BsaW5rIHNoYXJlfVxuICogQHNlZSB7QGxpbmsgcHVibGlzaFJlcGxheX1cbiAqXG4gKiBAcGFyYW0gY29uZmlnT3JCdWZmZXJTaXplIE1heGltdW0gZWxlbWVudCBjb3VudCBvZiB0aGUgcmVwbGF5IGJ1ZmZlciBvciB7QGxpbmsgU2hhcmVSZXBsYXlDb25maWcgY29uZmlndXJhdGlvbn1cbiAqIG9iamVjdC5cbiAqIEBwYXJhbSB3aW5kb3dUaW1lIE1heGltdW0gdGltZSBsZW5ndGggb2YgdGhlIHJlcGxheSBidWZmZXIgaW4gbWlsbGlzZWNvbmRzLlxuICogQHBhcmFtIHNjaGVkdWxlciBTY2hlZHVsZXIgd2hlcmUgY29ubmVjdGVkIG9ic2VydmVycyB3aXRoaW4gdGhlIHNlbGVjdG9yIGZ1bmN0aW9uXG4gKiB3aWxsIGJlIGludm9rZWQgb24uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgc2VxdWVuY2UgdGhhdCBjb250YWlucyB0aGVcbiAqIGVsZW1lbnRzIG9mIGEgc2VxdWVuY2UgcHJvZHVjZWQgYnkgbXVsdGljYXN0aW5nIHRoZSBzb3VyY2Ugc2VxdWVuY2Ugd2l0aGluIGFcbiAqIHNlbGVjdG9yIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVSZXBsYXk8VD4oXG4gIGNvbmZpZ09yQnVmZmVyU2l6ZT86IFNoYXJlUmVwbGF5Q29uZmlnIHwgbnVtYmVyLFxuICB3aW5kb3dUaW1lPzogbnVtYmVyLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICBsZXQgYnVmZmVyU2l6ZTogbnVtYmVyO1xuICBsZXQgcmVmQ291bnQgPSBmYWxzZTtcbiAgaWYgKGNvbmZpZ09yQnVmZmVyU2l6ZSAmJiB0eXBlb2YgY29uZmlnT3JCdWZmZXJTaXplID09PSAnb2JqZWN0Jykge1xuICAgICh7IGJ1ZmZlclNpemUgPSBJbmZpbml0eSwgd2luZG93VGltZSA9IEluZmluaXR5LCByZWZDb3VudCA9IGZhbHNlLCBzY2hlZHVsZXIgfSA9IGNvbmZpZ09yQnVmZmVyU2l6ZSk7XG4gIH0gZWxzZSB7XG4gICAgYnVmZmVyU2l6ZSA9IChjb25maWdPckJ1ZmZlclNpemUgPz8gSW5maW5pdHkpIGFzIG51bWJlcjtcbiAgfVxuICByZXR1cm4gc2hhcmU8VD4oe1xuICAgIGNvbm5lY3RvcjogKCkgPT4gbmV3IFJlcGxheVN1YmplY3QoYnVmZmVyU2l6ZSwgd2luZG93VGltZSwgc2NoZWR1bGVyKSxcbiAgICByZXNldE9uRXJyb3I6IHRydWUsXG4gICAgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSxcbiAgICByZXNldE9uUmVmQ291bnRaZXJvOiByZWZDb3VudCxcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcblxuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPcGVyYXRvckZ1bmN0aW9uLCBUcnV0aHlUeXBlc09mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU2VxdWVuY2VFcnJvciB9IGZyb20gJy4uL3V0aWwvU2VxdWVuY2VFcnJvcic7XG5pbXBvcnQgeyBOb3RGb3VuZEVycm9yIH0gZnJvbSAnLi4vdXRpbC9Ob3RGb3VuZEVycm9yJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlPFQ+KHByZWRpY2F0ZTogQm9vbGVhbkNvbnN0cnVjdG9yKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUcnV0aHlUeXBlc09mPFQ+PjtcbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGU8VD4ocHJlZGljYXRlPzogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgYXNzZXJ0cyB0aGF0IG9ubHkgb25lIHZhbHVlIGlzXG4gKiBlbWl0dGVkIGZyb20gdGhlIG9ic2VydmFibGUgdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuIElmIG5vXG4gKiBwcmVkaWNhdGUgaXMgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCBhc3NlcnQgdGhhdCB0aGUgb2JzZXJ2YWJsZVxuICogb25seSBlbWl0cyBvbmUgdmFsdWUuXG4gKlxuICogSW4gdGhlIGV2ZW50IHRoYXQgdGhlIG9ic2VydmFibGUgaXMgZW1wdHksIGl0IHdpbGwgdGhyb3cgYW5cbiAqIHtAbGluayBFbXB0eUVycm9yfS5cbiAqXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCB0d28gdmFsdWVzIGFyZSBmb3VuZCB0aGF0IG1hdGNoIHRoZSBwcmVkaWNhdGUsXG4gKiBvciB3aGVuIHRoZXJlIGFyZSB0d28gdmFsdWVzIGVtaXR0ZWQgYW5kIG5vIHByZWRpY2F0ZSwgaXQgd2lsbFxuICogdGhyb3cgYSB7QGxpbmsgU2VxdWVuY2VFcnJvcn1cbiAqXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCBubyB2YWx1ZXMgbWF0Y2ggdGhlIHByZWRpY2F0ZSwgaWYgb25lIGlzIHByb3ZpZGVkLFxuICogaXQgd2lsbCB0aHJvdyBhIHtAbGluayBOb3RGb3VuZEVycm9yfVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFeHBlY3Qgb25seSBgbmFtZWAgYmVnaW5uaW5nIHdpdGggYCdCJ2BcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHNpbmdsZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZTEgPSBvZihcbiAqICB7IG5hbWU6ICdCZW4nIH0sXG4gKiAgeyBuYW1lOiAnVHJhY3knIH0sXG4gKiAgeyBuYW1lOiAnTGFuZXknIH0sXG4gKiAgeyBuYW1lOiAnTGlseScgfVxuICogKTtcbiAqXG4gKiBzb3VyY2UxXG4gKiAgIC5waXBlKHNpbmdsZSh4ID0+IHgubmFtZS5zdGFydHNXaXRoKCdCJykpKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogLy8gRW1pdHMgJ0JlbidcbiAqXG4gKlxuICogY29uc3Qgc291cmNlMiA9IG9mKFxuICogIHsgbmFtZTogJ0JlbicgfSxcbiAqICB7IG5hbWU6ICdUcmFjeScgfSxcbiAqICB7IG5hbWU6ICdCcmFkbGV5JyB9LFxuICogIHsgbmFtZTogJ0xpbmNvbG4nIH1cbiAqICk7XG4gKlxuICogc291cmNlMlxuICogICAucGlwZShzaW5nbGUoeCA9PiB4Lm5hbWUuc3RhcnRzV2l0aCgnQicpKSlcbiAqICAgLnN1YnNjcmliZSh7IGVycm9yOiBlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpIH0pO1xuICogLy8gRXJyb3IgZW1pdHRlZDogU2VxdWVuY2VFcnJvcignVG9vIG1hbnkgdmFsdWVzIG1hdGNoJylcbiAqXG4gKlxuICogY29uc3Qgc291cmNlMyA9IG9mKFxuICogIHsgbmFtZTogJ0xhbmV5JyB9LFxuICogIHsgbmFtZTogJ1RyYWN5JyB9LFxuICogIHsgbmFtZTogJ0xpbHknIH0sXG4gKiAgeyBuYW1lOiAnTGluY29sbicgfVxuICogKTtcbiAqXG4gKiBzb3VyY2UzXG4gKiAgIC5waXBlKHNpbmdsZSh4ID0+IHgubmFtZS5zdGFydHNXaXRoKCdCJykpKVxuICogICAuc3Vic2NyaWJlKHsgZXJyb3I6IGVyciA9PiBjb25zb2xlLmVycm9yKGVycikgfSk7XG4gKiAvLyBFcnJvciBlbWl0dGVkOiBOb3RGb3VuZEVycm9yKCdObyB2YWx1ZXMgbWF0Y2gnKVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlyc3R9XG4gKiBAc2VlIHtAbGluayBmaW5kfVxuICogQHNlZSB7QGxpbmsgZmluZEluZGV4fVxuICogQHNlZSB7QGxpbmsgZWxlbWVudEF0fVxuICpcbiAqIEB0aHJvd3Mge05vdEZvdW5kRXJyb3J9IERlbGl2ZXJzIGFuIE5vdEZvdW5kRXJyb3IgdG8gdGhlIE9ic2VydmVyJ3MgYGVycm9yYFxuICogY2FsbGJhY2sgaWYgdGhlIE9ic2VydmFibGUgY29tcGxldGVzIGJlZm9yZSBhbnkgYG5leHRgIG5vdGlmaWNhdGlvbiB3YXMgc2VudC5cbiAqIEB0aHJvd3Mge1NlcXVlbmNlRXJyb3J9IERlbGl2ZXJzIGEgU2VxdWVuY2VFcnJvciBpZiBtb3JlIHRoYW4gb25lIHZhbHVlIGlzIGVtaXR0ZWQgdGhhdCBtYXRjaGVzIHRoZVxuICogcHJvdmlkZWQgcHJlZGljYXRlLiBJZiBubyBwcmVkaWNhdGUgaXMgcHJvdmlkZWQsIHdpbGwgZGVsaXZlciBhIFNlcXVlbmNlRXJyb3IgaWYgbW9yZVxuICogdGhhbiBvbmUgdmFsdWUgY29tZXMgZnJvbSB0aGUgc291cmNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgLSBBIHByZWRpY2F0ZSBmdW5jdGlvbiB0byBldmFsdWF0ZSBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBzaW5nbGUgaXRlbVxuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGU8VD4ocHJlZGljYXRlPzogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgbGV0IHNpbmdsZVZhbHVlOiBUO1xuICAgIGxldCBzZWVuVmFsdWUgPSBmYWxzZTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNlZW5WYWx1ZSA9IHRydWU7XG4gICAgICAgICAgaWYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICBoYXNWYWx1ZSAmJiBzdWJzY3JpYmVyLmVycm9yKG5ldyBTZXF1ZW5jZUVycm9yKCdUb28gbWFueSBtYXRjaGluZyB2YWx1ZXMnKSk7XG4gICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBzaW5nbGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHNpbmdsZVZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihzZWVuVmFsdWUgPyBuZXcgTm90Rm91bmRFcnJvcignTm8gbWF0Y2hpbmcgdmFsdWVzJykgOiBuZXcgRW1wdHlFcnJvcigpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBza2lwcyB0aGUgZmlyc3QgYGNvdW50YCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqXG4gKiAhW10oc2tpcC5wbmcpXG4gKlxuICogU2tpcHMgdGhlIHZhbHVlcyB1bnRpbCB0aGUgc2VudCBub3RpZmljYXRpb25zIGFyZSBlcXVhbCBvciBsZXNzIHRoYW4gcHJvdmlkZWQgc2tpcCBjb3VudC4gSXQgcmFpc2VzXG4gKiBhbiBlcnJvciBpZiBza2lwIGNvdW50IGlzIGVxdWFsIG9yIG1vcmUgdGhhbiB0aGUgYWN0dWFsIG51bWJlciBvZiBlbWl0cyBhbmQgc291cmNlIHJhaXNlcyBhbiBlcnJvci5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU2tpcCB0aGUgdmFsdWVzIGJlZm9yZSB0aGUgZW1pc3Npb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHNraXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBlbWl0IGV2ZXJ5IGhhbGYgc2Vjb25kXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCg1MDApO1xuICogLy8gc2tpcCB0aGUgZmlyc3QgMTAgZW1pdHRlZCB2YWx1ZXNcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKHNraXAoMTApKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKiAvLyBvdXRwdXQ6IDEwLi4uMTEuLi4xMi4uLjEzLi4uXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBsYXN0fVxuICogQHNlZSB7QGxpbmsgc2tpcFdoaWxlfVxuICogQHNlZSB7QGxpbmsgc2tpcFVudGlsfVxuICogQHNlZSB7QGxpbmsgc2tpcExhc3R9XG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IC0gVGhlIG51bWJlciBvZiB0aW1lcywgaXRlbXMgZW1pdHRlZCBieSBzb3VyY2UgT2JzZXJ2YWJsZSBzaG91bGQgYmUgc2tpcHBlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHNraXBzIHRoZSBmaXJzdCBgY291bnRgXG4gKiB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBza2lwPFQ+KGNvdW50OiBudW1iZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gZmlsdGVyKChfLCBpbmRleCkgPT4gY291bnQgPD0gaW5kZXgpO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIFNraXAgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHZhbHVlcyBiZWZvcmUgdGhlIGNvbXBsZXRpb24gb2YgYW4gb2JzZXJ2YWJsZS5cbiAqXG4gKiAhW10oc2tpcExhc3QucG5nKVxuICpcbiAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgZW1pdCB2YWx1ZXMgYXMgc29vbiBhcyBpdCBjYW4sIGdpdmVuIGEgbnVtYmVyIG9mXG4gKiBza2lwcGVkIHZhbHVlcy4gRm9yIGV4YW1wbGUsIGlmIHlvdSBgc2tpcExhc3QoMylgIG9uIGEgc291cmNlLCB3aGVuIHRoZSBzb3VyY2VcbiAqIGVtaXRzIGl0cyBmb3VydGggdmFsdWUsIHRoZSBmaXJzdCB2YWx1ZSB0aGUgc291cmNlIGVtaXR0ZWQgd2lsbCBmaW5hbGx5IGJlIGVtaXR0ZWRcbiAqIGZyb20gdGhlIHJldHVybmVkIG9ic2VydmFibGUsIGFzIGl0IGlzIG5vIGxvbmdlciBwYXJ0IG9mIHdoYXQgbmVlZHMgdG8gYmUgc2tpcHBlZC5cbiAqXG4gKiBBbGwgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHJlc3VsdCBvZiBgc2tpcExhc3QoTilgIHdpbGwgYmUgZGVsYXllZCBieSBgTmAgZW1pc3Npb25zLFxuICogYXMgZWFjaCB2YWx1ZSBpcyBoZWxkIGluIGEgYnVmZmVyIHVudGlsIGVub3VnaCB2YWx1ZXMgaGF2ZSBiZWVuIGVtaXR0ZWQgdGhhdCB0aGF0XG4gKiB0aGUgYnVmZmVyZWQgdmFsdWUgbWF5IGZpbmFsbHkgYmUgc2VudCB0byB0aGUgY29uc3VtZXIuXG4gKlxuICogQWZ0ZXIgc3Vic2NyaWJpbmcsIHVuc3Vic2NyaWJpbmcgd2lsbCBub3QgcmVzdWx0IGluIHRoZSBlbWlzc2lvbiBvZiB0aGUgYnVmZmVyZWRcbiAqIHNraXBwZWQgdmFsdWVzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTa2lwIHRoZSBsYXN0IDIgdmFsdWVzIG9mIGFuIG9ic2VydmFibGUgd2l0aCBtYW55IHZhbHVlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgc2tpcExhc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBudW1iZXJzID0gb2YoMSwgMiwgMywgNCwgNSk7XG4gKiBjb25zdCBza2lwTGFzdFR3byA9IG51bWJlcnMucGlwZShza2lwTGFzdCgyKSk7XG4gKiBza2lwTGFzdFR3by5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbjpcbiAqIC8vIDEgMiAzXG4gKiAvLyAoNCBhbmQgNSBhcmUgc2tpcHBlZClcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKiBAc2VlIHtAbGluayBza2lwVW50aWx9XG4gKiBAc2VlIHtAbGluayBza2lwV2hpbGV9XG4gKiBAc2VlIHtAbGluayB0YWtlfVxuICpcbiAqIEBwYXJhbSBza2lwQ291bnQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHNraXBzIHRoZSBsYXN0IGBjb3VudGBcbiAqIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBMYXN0PFQ+KHNraXBDb3VudDogbnVtYmVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIHNraXBDb3VudCA8PSAwXG4gICAgPyAvLyBGb3Igc2tpcENvdW50cyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVybywgd2UgYXJlIGp1c3QgbWlycm9yaW5nIHRoZSBzb3VyY2UuXG4gICAgICBpZGVudGl0eVxuICAgIDogb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIC8vIEEgcmluZyBidWZmZXIgdG8gaG9sZCB0aGUgdmFsdWVzIHdoaWxlIHdlIHdhaXQgdG8gc2VlXG4gICAgICAgIC8vIGlmIHdlIGNhbiBlbWl0IGl0IG9yIGl0J3MgcGFydCBvZiB0aGUgXCJza2lwcGVkXCIgbGFzdCB2YWx1ZXMuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBpdCBpcyB0aGUgX3NhbWUgc2l6ZV8gYXMgdGhlIHNraXAgY291bnQuXG4gICAgICAgIGxldCByaW5nOiBUW10gPSBuZXcgQXJyYXkoc2tpcENvdW50KTtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiB2YWx1ZXMgc2VlbiBzbyBmYXIuIFRoaXMgaXMgdXNlZCB0byBnZXRcbiAgICAgICAgLy8gdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IHZhbHVlIHdoZW4gaXQgYXJyaXZlcy5cbiAgICAgICAgbGV0IHNlZW4gPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIHZhbHVlIHdlIGhhdmUgcmlnaHQgbm93XG4gICAgICAgICAgICAvLyByZWxhdGl2ZSB0byBhbGwgb3RoZXIgdmFsdWVzIHdlJ3ZlIHNlZW4sIHRoZW5cbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBgc2VlbmAuIFRoaXMgZW5zdXJlcyB3ZSd2ZSBtb3ZlZCB0b1xuICAgICAgICAgICAgLy8gdGhlIG5leHQgc2xvdCBpbiBvdXIgcmluZyBidWZmZXIuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZUluZGV4ID0gc2VlbisrO1xuICAgICAgICAgICAgaWYgKHZhbHVlSW5kZXggPCBza2lwQ291bnQpIHtcbiAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBzZWVuIGVub3VnaCB2YWx1ZXMgdG8gZmlsbCBvdXIgYnVmZmVyIHlldCxcbiAgICAgICAgICAgICAgLy8gVGhlbiB3ZSBhcmVuJ3QgdG8gYSBudW1iZXIgb2Ygc2VlbiB2YWx1ZXMgd2hlcmUgd2UgY2FuXG4gICAgICAgICAgICAgIC8vIGVtaXQgYW55dGhpbmcsIHNvIGxldCdzIGp1c3Qgc3RhcnQgYnkgZmlsbGluZyB0aGUgcmluZyBidWZmZXIuXG4gICAgICAgICAgICAgIHJpbmdbdmFsdWVJbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFdlIGFyZSB0cmF2ZXJzaW5nIG92ZXIgdGhlIHJpbmcgYXJyYXkgaW4gc3VjaFxuICAgICAgICAgICAgICAvLyBhIHdheSB0aGF0IHdoZW4gd2UgZ2V0IHRvIHRoZSBlbmQsIHdlIGxvb3AgYmFja1xuICAgICAgICAgICAgICAvLyBhbmQgZ28gdG8gdGhlIHN0YXJ0LlxuICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHZhbHVlSW5kZXggJSBza2lwQ291bnQ7XG4gICAgICAgICAgICAgIC8vIFB1bGwgdGhlIG9sZGVzdCB2YWx1ZSBvdXQgc28gd2UgY2FuIGVtaXQgaXQsXG4gICAgICAgICAgICAgIC8vIGFuZCBzdHVmZiB0aGUgbmV3IHZhbHVlIGluIGl0J3MgcGxhY2UuXG4gICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gcmluZ1tpbmRleF07XG4gICAgICAgICAgICAgIHJpbmdbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgIC8vIEVtaXQgdGhlIG9sZCB2YWx1ZS4gSXQgaXMgaW1wb3J0YW50IHRoYXQgdGhpcyBoYXBwZW5zXG4gICAgICAgICAgICAgIC8vIGFmdGVyIHdlIHN3YXAgdGhlIHZhbHVlIGluIHRoZSBidWZmZXIsIGlmIGl0IGhhcHBlbnNcbiAgICAgICAgICAgICAgLy8gYmVmb3JlIHdlIHN3YXAgdGhlIHZhbHVlIGluIHRoZSBidWZmZXIsIHRoZW4gYSBzeW5jaHJvbm91c1xuICAgICAgICAgICAgICAvLyBzb3VyY2UgY2FuIGdldCB0aGUgYnVmZmVyIG91dCBvZiB3aGFjay5cbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgLy8gUmVsZWFzZSBvdXIgdmFsdWVzIGluIG1lbW9yeVxuICAgICAgICAgIHJpbmcgPSBudWxsITtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHNraXBzIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHVudGlsIGEgc2Vjb25kIE9ic2VydmFibGUgZW1pdHMgYW4gaXRlbS5cbiAqXG4gKiBUaGUgYHNraXBVbnRpbGAgb3BlcmF0b3IgY2F1c2VzIHRoZSBvYnNlcnZhYmxlIHN0cmVhbSB0byBza2lwIHRoZSBlbWlzc2lvbiBvZiB2YWx1ZXMgdW50aWwgdGhlIHBhc3NlZCBpbiBvYnNlcnZhYmxlXG4gKiBlbWl0cyB0aGUgZmlyc3QgdmFsdWUuIFRoaXMgY2FuIGJlIHBhcnRpY3VsYXJseSB1c2VmdWwgaW4gY29tYmluYXRpb24gd2l0aCB1c2VyIGludGVyYWN0aW9ucywgcmVzcG9uc2VzIG9mIEhUVFBcbiAqIHJlcXVlc3RzIG9yIHdhaXRpbmcgZm9yIHNwZWNpZmljIHRpbWVzIHRvIHBhc3MgYnkuXG4gKlxuICogIVtdKHNraXBVbnRpbC5wbmcpXG4gKlxuICogSW50ZXJuYWxseSwgdGhlIGBza2lwVW50aWxgIG9wZXJhdG9yIHN1YnNjcmliZXMgdG8gdGhlIHBhc3NlZCBpbiBgbm90aWZpZXJgIGBPYnNlcnZhYmxlSW5wdXRgICh3aGljaCBnZXRzIGNvbnZlcnRlZFxuICogdG8gYW4gT2JzZXJ2YWJsZSkgaW4gb3JkZXIgdG8gcmVjb2duaXplIHRoZSBlbWlzc2lvbiBvZiBpdHMgZmlyc3QgdmFsdWUuIFdoZW4gYG5vdGlmaWVyYCBlbWl0cyBuZXh0LCB0aGUgb3BlcmF0b3JcbiAqIHVuc3Vic2NyaWJlcyBmcm9tIGl0IGFuZCBzdGFydHMgZW1pdHRpbmcgdGhlIHZhbHVlcyBvZiB0aGUgKnNvdXJjZSogb2JzZXJ2YWJsZSB1bnRpbCBpdCBjb21wbGV0ZXMgb3IgZXJyb3JzLiBJdFxuICogd2lsbCBuZXZlciBsZXQgdGhlICpzb3VyY2UqIG9ic2VydmFibGUgZW1pdCBhbnkgdmFsdWVzIGlmIHRoZSBgbm90aWZpZXJgIGNvbXBsZXRlcyBvciB0aHJvd3MgYW4gZXJyb3Igd2l0aG91dFxuICogZW1pdHRpbmcgYSB2YWx1ZSBiZWZvcmUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgYWxsIGVtaXR0ZWQgdmFsdWVzIG9mIHRoZSBpbnRlcnZhbCBvYnNlcnZhYmxlIGFyZSBza2lwcGVkIHVudGlsIHRoZSB1c2VyIGNsaWNrcyBhbnl3aGVyZVxuICogd2l0aGluIHRoZSBwYWdlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBmcm9tRXZlbnQsIHNraXBVbnRpbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGludGVydmFsT2JzZXJ2YWJsZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgY2xpY2sgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICpcbiAqIGNvbnN0IGVtaXRBZnRlckNsaWNrID0gaW50ZXJ2YWxPYnNlcnZhYmxlLnBpcGUoXG4gKiAgIHNraXBVbnRpbChjbGljaylcbiAqICk7XG4gKiAvLyBjbGlja2VkIGF0IDQuNnMuIG91dHB1dDogNS4uLjYuLi43Li4uOC4uLi4uLi4uIG9yXG4gKiAvLyBjbGlja2VkIGF0IDcuM3MuIG91dHB1dDogOC4uLjkuLi4xMC4uMTEuLi4uLi4uXG4gKiBlbWl0QWZ0ZXJDbGljay5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGxhc3R9XG4gKiBAc2VlIHtAbGluayBza2lwfVxuICogQHNlZSB7QGxpbmsgc2tpcFdoaWxlfVxuICogQHNlZSB7QGxpbmsgc2tpcExhc3R9XG4gKlxuICogQHBhcmFtIG5vdGlmaWVyIEFuIGBPYnNlcnZhYmxlSW5wdXRgIHRoYXQgaGFzIHRvIGVtaXQgYW4gaXRlbSBiZWZvcmUgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVsZW1lbnRzIGJlZ2luIHRvXG4gKiBiZSBtaXJyb3JlZCBieSB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBza2lwcyBpdGVtcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgdW50aWwgdGhlIGBub3RpZmllcmAgT2JzZXJ2YWJsZSBlbWl0cyBhbiBpdGVtLCB0aGVuIGVtaXRzIHRoZVxuICogcmVtYWluaW5nIGl0ZW1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2tpcFVudGlsPFQ+KG5vdGlmaWVyOiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgdGFraW5nID0gZmFsc2U7XG5cbiAgICBjb25zdCBza2lwU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgIHN1YnNjcmliZXIsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHNraXBTdWJzY3JpYmVyPy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0YWtpbmcgPSB0cnVlO1xuICAgICAgfSxcbiAgICAgIG5vb3BcbiAgICApO1xuXG4gICAgaW5uZXJGcm9tKG5vdGlmaWVyKS5zdWJzY3JpYmUoc2tpcFN1YnNjcmliZXIpO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB0YWtpbmcgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKSkpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IEZhbHN5LCBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNraXBXaGlsZTxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgRXh0cmFjdDxULCBGYWxzeT4gZXh0ZW5kcyBuZXZlciA/IG5ldmVyIDogVD47XG5leHBvcnQgZnVuY3Rpb24gc2tpcFdoaWxlPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB0cnVlKTogT3BlcmF0b3JGdW5jdGlvbjxULCBuZXZlcj47XG5leHBvcnQgZnVuY3Rpb24gc2tpcFdoaWxlPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHNraXBzIGFsbCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhcyBsb25nIGFzIGEgc3BlY2lmaWVkIGNvbmRpdGlvbiBob2xkc1xuICogdHJ1ZSwgYnV0IGVtaXRzIGFsbCBmdXJ0aGVyIHNvdXJjZSBpdGVtcyBhcyBzb29uIGFzIHRoZSBjb25kaXRpb24gYmVjb21lcyBmYWxzZS5cbiAqXG4gKiAhW10oc2tpcFdoaWxlLnBuZylcbiAqXG4gKiBTa2lwcyBhbGwgdGhlIG5vdGlmaWNhdGlvbnMgd2l0aCBhIHRydXRoeSBwcmVkaWNhdGUuIEl0IHdpbGwgbm90IHNraXAgdGhlIG5vdGlmaWNhdGlvbnMgd2hlbiB0aGUgcHJlZGljYXRlIGlzIGZhbHN5LlxuICogSXQgY2FuIGFsc28gYmUgc2tpcHBlZCB1c2luZyBpbmRleC4gT25jZSB0aGUgcHJlZGljYXRlIGlzIHRydWUsIGl0IHdpbGwgbm90IGJlIGNhbGxlZCBhZ2Fpbi5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU2tpcCBzb21lIHN1cGVyIGhlcm9lc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tLCBza2lwV2hpbGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBmcm9tKFsnR3JlZW4gQXJyb3cnLCAnU3VwZXJNYW4nLCAnRmxhc2gnLCAnU3VwZXJHaXJsJywgJ0JsYWNrIENhbmFyeSddKVxuICogLy8gU2tpcCB0aGUgaGVyb2VzIHVudGlsIFN1cGVyR2lybFxuICogY29uc3QgZXhhbXBsZSA9IHNvdXJjZS5waXBlKHNraXBXaGlsZShoZXJvID0+IGhlcm8gIT09ICdTdXBlckdpcmwnKSk7XG4gKiAvLyBvdXRwdXQ6IFN1cGVyR2lybCwgQmxhY2sgQ2FuYXJ5XG4gKiBleGFtcGxlLnN1YnNjcmliZShmZW1hbGVIZXJvID0+IGNvbnNvbGUubG9nKGZlbWFsZUhlcm8pKTtcbiAqIGBgYFxuICpcbiAqIFNraXAgdmFsdWVzIGZyb20gdGhlIGFycmF5IHVudGlsIGluZGV4IDVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgc2tpcFdoaWxlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gZnJvbShbMSwgMiwgMywgNCwgNSwgNiwgNywgOSwgMTBdKTtcbiAqIGNvbnN0IGV4YW1wbGUgPSBzb3VyY2UucGlwZShza2lwV2hpbGUoKF8sIGkpID0+IGkgIT09IDUpKTtcbiAqIC8vIG91dHB1dDogNiwgNywgOSwgMTBcbiAqIGV4YW1wbGUuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBsYXN0fVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqIEBzZWUge0BsaW5rIHNraXBVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHNraXBMYXN0fVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSAtIEEgZnVuY3Rpb24gdG8gdGVzdCBlYWNoIGl0ZW0gZW1pdHRlZCBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGJlZ2lucyBlbWl0dGluZyBpdGVtc1xuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgd2hlbiB0aGUgc3BlY2lmaWVkIHByZWRpY2F0ZSBiZWNvbWVzIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2tpcFdoaWxlPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCB0YWtpbmcgPSBmYWxzZTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiAodGFraW5nIHx8ICh0YWtpbmcgPSAhcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKSkpICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSkpXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBjb25jYXQgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbmNhdCc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlLCBWYWx1ZUZyb21BcnJheSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcblxuLy8gRGV2cyBhcmUgbW9yZSBsaWtlbHkgdG8gcGFzcyBudWxsIG9yIHVuZGVmaW5lZCB0aGFuIHRoZXkgYXJlIGEgc2NoZWR1bGVyXG4vLyB3aXRob3V0IGFjY29tcGFueWluZyB2YWx1ZXMuIFRvIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgKG5hdWdodHkpIGRldnMgd2hvXG4vLyB1c2UgdGhlIGBzdHJpY3ROdWxsQ2hlY2tzOiBmYWxzZWAgVHlwZVNjcmlwdCBjb21waWxlciBvcHRpb24sIHRoZXNlXG4vLyBvdmVybG9hZHMgd2l0aCBleHBsaWNpdCBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzIGFyZSBpbmNsdWRlZC5cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxUPih2YWx1ZTogbnVsbCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IG51bGw+O1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxUPih2YWx1ZTogdW5kZWZpbmVkKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgdW5kZWZpbmVkPjtcblxuLyoqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHNjaGVkdWxlZGAgYW5kIGBjb25jYXRBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFdpdGg8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSA9IFRbXT4oXG4gIC4uLnZhbHVlc0FuZFNjaGVkdWxlcjogWy4uLkEsIFNjaGVkdWxlckxpa2VdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBWYWx1ZUZyb21BcnJheTxBPj47XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10gPSBUW10+KC4uLnZhbHVlczogQSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IFZhbHVlRnJvbUFycmF5PEE+PjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCwgYXQgdGhlIG1vbWVudCBvZiBzdWJzY3JpcHRpb24sIHdpbGwgc3luY2hyb25vdXNseSBlbWl0IGFsbFxuICogdmFsdWVzIHByb3ZpZGVkIHRvIHRoaXMgb3BlcmF0b3IsIHRoZW4gc3Vic2NyaWJlIHRvIHRoZSBzb3VyY2UgYW5kIG1pcnJvciBhbGwgb2YgaXRzIGVtaXNzaW9uc1xuICogdG8gc3Vic2NyaWJlcnMuXG4gKlxuICogVGhpcyBpcyBhIHVzZWZ1bCB3YXkgdG8ga25vdyB3aGVuIHN1YnNjcmlwdGlvbiBoYXMgb2NjdXJyZWQgb24gYW4gZXhpc3Rpbmcgb2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Rmlyc3QgZW1pdHMgaXRzIGFyZ3VtZW50cyBpbiBvcmRlciwgYW5kIHRoZW4gYW55XG4gKiBlbWlzc2lvbnMgZnJvbSB0aGUgc291cmNlLjwvc3Bhbj5cbiAqXG4gKiAhW10oc3RhcnRXaXRoLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgYSB2YWx1ZSB3aGVuIGEgdGltZXIgc3RhcnRzLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB0aW1lciwgbWFwLCBzdGFydFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiB0aW1lcigxMDAwKVxuICogICAucGlwZShcbiAqICAgICBtYXAoKCkgPT4gJ3RpbWVyIGVtaXQnKSxcbiAqICAgICBzdGFydFdpdGgoJ3RpbWVyIHN0YXJ0JylcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIHJlc3VsdHM6XG4gKiAvLyAndGltZXIgc3RhcnQnXG4gKiAvLyAndGltZXIgZW1pdCdcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZXMgSXRlbXMgeW91IHdhbnQgdGhlIG1vZGlmaWVkIE9ic2VydmFibGUgdG8gZW1pdCBmaXJzdC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHN5bmNocm9ub3VzbHkgZW1pdHNcbiAqIHByb3ZpZGVkIHZhbHVlcyBiZWZvcmUgc3Vic2NyaWJpbmcgdG8gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqIEBzZWUge0BsaW5rIGVuZFdpdGh9XG4gKiBAc2VlIHtAbGluayBmaW5hbGl6ZX1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxULCBEPiguLi52YWx1ZXM6IERbXSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKHZhbHVlcyk7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBIZXJlIHdlIGNhbid0IHBhc3MgYHVuZGVmaW5lZGAgYXMgYSBzY2hlZHVsZXIsIGJlY2F1c2UgaWYgd2UgZGlkLCB0aGVcbiAgICAvLyBjb2RlIGluc2lkZSBvZiBgY29uY2F0YCB3b3VsZCBiZSBjb25mdXNlZCBieSB0aGUgYHVuZGVmaW5lZGAsIGFuZCB0cmVhdCBpdFxuICAgIC8vIGxpa2UgYW4gaW52YWxpZCBvYnNlcnZhYmxlLiBTbyB3ZSBoYXZlIHRvIHNwbGl0IGl0IHR3byBkaWZmZXJlbnQgd2F5cy5cbiAgICAoc2NoZWR1bGVyID8gY29uY2F0KHZhbHVlcywgc291cmNlLCBzY2hlZHVsZXIpIDogY29uY2F0KHZhbHVlcywgc291cmNlKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHN1YnNjcmliZXMgT2JzZXJ2ZXJzIHRvIHRoaXMgT2JzZXJ2YWJsZSBvbiB0aGUgc3BlY2lmaWVkIHtAbGluayBTY2hlZHVsZXJMaWtlfS5cbiAqXG4gKiBXaXRoIGBzdWJzY3JpYmVPbmAgeW91IGNhbiBkZWNpZGUgd2hhdCB0eXBlIG9mIHNjaGVkdWxlciBhIHNwZWNpZmljIE9ic2VydmFibGUgd2lsbCBiZSB1c2luZyB3aGVuIGl0IGlzIHN1YnNjcmliZWQgdG8uXG4gKlxuICogU2NoZWR1bGVycyBjb250cm9sIHRoZSBzcGVlZCBhbmQgb3JkZXIgb2YgZW1pc3Npb25zIHRvIG9ic2VydmVycyBmcm9tIGFuIE9ic2VydmFibGUgc3RyZWFtLlxuICpcbiAqICFbXShzdWJzY3JpYmVPbi5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEdpdmVuIHRoZSBmb2xsb3dpbmcgY29kZTpcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG1lcmdlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYSA9IG9mKDEsIDIsIDMpO1xuICogY29uc3QgYiA9IG9mKDQsIDUsIDYpO1xuICpcbiAqIG1lcmdlKGEsIGIpLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogLy8gNFxuICogLy8gNVxuICogLy8gNlxuICogYGBgXG4gKlxuICogQm90aCBPYnNlcnZhYmxlIGBhYCBhbmQgYGJgIHdpbGwgZW1pdCB0aGVpciB2YWx1ZXMgZGlyZWN0bHkgYW5kIHN5bmNocm9ub3VzbHkgb25jZSB0aGV5IGFyZSBzdWJzY3JpYmVkIHRvLlxuICpcbiAqIElmIHdlIGluc3RlYWQgdXNlIHRoZSBgc3Vic2NyaWJlT25gIG9wZXJhdG9yIGRlY2xhcmluZyB0aGF0IHdlIHdhbnQgdG8gdXNlIHRoZSB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9IGZvciB2YWx1ZXMgZW1pdHRlZCBieSBPYnNlcnZhYmxlIGBhYDpcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHN1YnNjcmliZU9uLCBhc3luY1NjaGVkdWxlciwgbWVyZ2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBhID0gb2YoMSwgMiwgMykucGlwZShzdWJzY3JpYmVPbihhc3luY1NjaGVkdWxlcikpO1xuICogY29uc3QgYiA9IG9mKDQsIDUsIDYpO1xuICpcbiAqIG1lcmdlKGEsIGIpLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gNFxuICogLy8gNVxuICogLy8gNlxuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogYGBgXG4gKlxuICogVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IE9ic2VydmFibGUgYGJgIGVtaXRzIGl0cyB2YWx1ZXMgZGlyZWN0bHkgYW5kIHN5bmNocm9ub3VzbHkgbGlrZSBiZWZvcmVcbiAqIGJ1dCB0aGUgZW1pc3Npb25zIGZyb20gYGFgIGFyZSBzY2hlZHVsZWQgb24gdGhlIGV2ZW50IGxvb3AgYmVjYXVzZSB3ZSBhcmUgbm93IHVzaW5nIHRoZSB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9IGZvciB0aGF0IHNwZWNpZmljIE9ic2VydmFibGUuXG4gKlxuICogQHBhcmFtIHNjaGVkdWxlciBUaGUge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHBlcmZvcm0gc3Vic2NyaXB0aW9uIGFjdGlvbnMgb24uXG4gKiBAcGFyYW0gZGVsYXkgQSBkZWxheSB0byBwYXNzIHRvIHRoZSBzY2hlZHVsZXIgdG8gZGVsYXkgc3Vic2NyaXB0aW9uc1xuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG1vZGlmaWVkIHNvIHRoYXQgaXRzXG4gKiBzdWJzY3JpcHRpb25zIGhhcHBlbiBvbiB0aGUgc3BlY2lmaWVkIHtAbGluayBTY2hlZHVsZXJMaWtlfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uPFQ+KHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSwgZGVsYXk6IG51bWJlciA9IDApOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlciksIGRlbGF5KSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBzd2l0Y2hNYXAgfSBmcm9tICcuL3N3aXRjaE1hcCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgaGlnaGVyLW9yZGVyIE9ic2VydmFibGUgaW50byBhIGZpcnN0LW9yZGVyIE9ic2VydmFibGVcbiAqIHByb2R1Y2luZyB2YWx1ZXMgb25seSBmcm9tIHRoZSBtb3N0IHJlY2VudCBvYnNlcnZhYmxlIHNlcXVlbmNlXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIGFuIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMuPC9zcGFuPlxuICpcbiAqICFbXShzd2l0Y2hBbGwucG5nKVxuICpcbiAqIGBzd2l0Y2hBbGxgIHN1YnNjcmliZXMgdG8gYSBzb3VyY2UgdGhhdCBpcyBhbiBvYnNlcnZhYmxlIG9mIG9ic2VydmFibGVzLCBhbHNvIGtub3duIGFzIGFcbiAqIFwiaGlnaGVyLW9yZGVyIG9ic2VydmFibGVcIiAob3IgYE9ic2VydmFibGU8T2JzZXJ2YWJsZTxUPj5gKS4gSXQgc3Vic2NyaWJlcyB0byB0aGUgbW9zdCByZWNlbnRseVxuICogcHJvdmlkZWQgXCJpbm5lciBvYnNlcnZhYmxlXCIgZW1pdHRlZCBieSB0aGUgc291cmNlLCB1bnN1YnNjcmliaW5nIGZyb20gYW55IHByZXZpb3VzbHkgc3Vic2NyaWJlZFxuICogdG8gaW5uZXIgb2JzZXJ2YWJsZSwgc3VjaCB0aGF0IG9ubHkgdGhlIG1vc3QgcmVjZW50IGlubmVyIG9ic2VydmFibGUgbWF5IGJlIHN1YnNjcmliZWQgdG8gYXRcbiAqIGFueSBwb2ludCBpbiB0aW1lLiBUaGUgcmVzdWx0aW5nIG9ic2VydmFibGUgcmV0dXJuZWQgYnkgYHN3aXRjaEFsbGAgd2lsbCBvbmx5IGNvbXBsZXRlIGlmIHRoZVxuICogc291cmNlIG9ic2VydmFibGUgY29tcGxldGVzLCAqYW5kKiBhbnkgY3VycmVudGx5IHN1YnNjcmliZWQgdG8gaW5uZXIgb2JzZXJ2YWJsZSBhbHNvIGhhcyBjb21wbGV0ZWQsXG4gKiBpZiB0aGVyZSBhcmUgYW55LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogU3Bhd24gYSBuZXcgaW50ZXJ2YWwgb2JzZXJ2YWJsZSBmb3IgZWFjaCBjbGljayBldmVudCwgYnV0IGZvciBldmVyeSBuZXdcbiAqIGNsaWNrLCBjYW5jZWwgdGhlIHByZXZpb3VzIGludGVydmFsIGFuZCBzdWJzY3JpYmUgdG8gdGhlIG5ldyBvbmVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB0YXAsIG1hcCwgaW50ZXJ2YWwsIHN3aXRjaEFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJykucGlwZSh0YXAoKCkgPT4gY29uc29sZS5sb2coJ2NsaWNrJykpKTtcbiAqIGNvbnN0IHNvdXJjZSA9IGNsaWNrcy5waXBlKG1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSkpO1xuICpcbiAqIHNvdXJjZVxuICogICAucGlwZShzd2l0Y2hBbGwoKSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRcbiAqIC8vIGNsaWNrXG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyAuLi5cbiAqIC8vIGNsaWNrXG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAuLi5cbiAqIC8vIGNsaWNrXG4gKiAvLyAuLi5cbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbWJpbmVMYXRlc3RBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXRBbGx9XG4gKiBAc2VlIHtAbGluayBleGhhdXN0QWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZUFsbH1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBjb252ZXJ0cyBhIGhpZ2hlci1vcmRlclxuICogT2JzZXJ2YWJsZSBpbnRvIGEgZmlyc3Qtb3JkZXIgT2JzZXJ2YWJsZSBwcm9kdWNpbmcgdmFsdWVzIG9ubHkgZnJvbSB0aGUgbW9zdFxuICogcmVjZW50IE9ic2VydmFibGUgc2VxdWVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hBbGw8TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PigpOiBPcGVyYXRvckZ1bmN0aW9uPE8sIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gc3dpdGNoTWFwKGlkZW50aXR5KTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3RvcjogdW5kZWZpbmVkXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I6IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBpbiB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLCBlbWl0dGluZyB2YWx1ZXMgb25seSBmcm9tIHRoZSBtb3N0IHJlY2VudGx5IHByb2plY3RlZCBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5NYXBzIGVhY2ggdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSwgdGhlbiBmbGF0dGVucyBhbGwgb2ZcbiAqIHRoZXNlIGlubmVyIE9ic2VydmFibGVzLjwvc3Bhbj5cbiAqXG4gKiAhW10oc3dpdGNoTWFwLnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBiYXNlZCBvbiBhcHBseWluZyBhIGZ1bmN0aW9uIHRoYXQgeW91XG4gKiBzdXBwbHkgdG8gZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB3aGVyZSB0aGF0IGZ1bmN0aW9uXG4gKiByZXR1cm5zIGFuIChzby1jYWxsZWQgXCJpbm5lclwiKSBPYnNlcnZhYmxlLiBFYWNoIHRpbWUgaXQgb2JzZXJ2ZXMgb25lIG9mIHRoZXNlXG4gKiBpbm5lciBPYnNlcnZhYmxlcywgdGhlIG91dHB1dCBPYnNlcnZhYmxlIGJlZ2lucyBlbWl0dGluZyB0aGUgaXRlbXMgZW1pdHRlZCBieVxuICogdGhhdCBpbm5lciBPYnNlcnZhYmxlLiBXaGVuIGEgbmV3IGlubmVyIE9ic2VydmFibGUgaXMgZW1pdHRlZCwgYHN3aXRjaE1hcGBcbiAqIHN0b3BzIGVtaXR0aW5nIGl0ZW1zIGZyb20gdGhlIGVhcmxpZXItZW1pdHRlZCBpbm5lciBPYnNlcnZhYmxlIGFuZCBiZWdpbnNcbiAqIGVtaXR0aW5nIGl0ZW1zIGZyb20gdGhlIG5ldyBvbmUuIEl0IGNvbnRpbnVlcyB0byBiZWhhdmUgbGlrZSB0aGlzIGZvclxuICogc3Vic2VxdWVudCBpbm5lciBPYnNlcnZhYmxlcy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogR2VuZXJhdGUgbmV3IE9ic2VydmFibGUgYWNjb3JkaW5nIHRvIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc3dpdGNoZWQgPSBvZigxLCAyLCAzKS5waXBlKHN3aXRjaE1hcCh4ID0+IG9mKHgsIHggKiogMiwgeCAqKiAzKSkpO1xuICogc3dpdGNoZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogLy8gb3V0cHV0c1xuICogLy8gMVxuICogLy8gMVxuICogLy8gMVxuICogLy8gMlxuICogLy8gNFxuICogLy8gOFxuICogLy8gM1xuICogLy8gOVxuICogLy8gMjdcbiAqIGBgYFxuICpcbiAqIFJlc3RhcnQgYW4gaW50ZXJ2YWwgT2JzZXJ2YWJsZSBvbiBldmVyeSBjbGljayBldmVudFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHN3aXRjaE1hcCwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoc3dpdGNoTWFwKCgpID0+IGludGVydmFsKDEwMDApKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdE1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoQWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwVG99XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlcik6IE9ic2VydmFibGVJbnB1dH0gcHJvamVjdCBBIGZ1bmN0aW9uXG4gKiB0aGF0LCB3aGVuIGFwcGxpZWQgdG8gYW4gaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcmV0dXJucyBhblxuICogT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSByZXN1bHQgb2ZcbiAqIGFwcGx5aW5nIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIChhbmQgdGhlIG9wdGlvbmFsIGRlcHJlY2F0ZWRcbiAqIGByZXN1bHRTZWxlY3RvcmApIHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgdGFraW5nXG4gKiBvbmx5IHRoZSB2YWx1ZXMgZnJvbSB0aGUgbW9zdCByZWNlbnRseSBwcm9qZWN0ZWQgaW5uZXIgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGlubmVyU3Vic2NyaWJlcjogU3Vic2NyaWJlcjxPYnNlcnZlZFZhbHVlT2Y8Tz4+IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICAvLyBXaGV0aGVyIG9yIG5vdCB0aGUgc291cmNlIHN1YnNjcmlwdGlvbiBoYXMgY29tcGxldGVkXG4gICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8vIFdlIG9ubHkgY29tcGxldGUgdGhlIHJlc3VsdCBpZiB0aGUgc291cmNlIGlzIGNvbXBsZXRlIEFORCB3ZSBkb24ndCBoYXZlIGFuIGFjdGl2ZSBpbm5lciBzdWJzY3JpcHRpb24uXG4gICAgLy8gVGhpcyBpcyBjYWxsZWQgYm90aCB3aGVuIHRoZSBzb3VyY2UgY29tcGxldGVzIGFuZCB3aGVuIHRoZSBpbm5lcnMgY29tcGxldGUuXG4gICAgY29uc3QgY2hlY2tDb21wbGV0ZSA9ICgpID0+IGlzQ29tcGxldGUgJiYgIWlubmVyU3Vic2NyaWJlciAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAvLyBDYW5jZWwgdGhlIHByZXZpb3VzIGlubmVyIHN1YnNjcmlwdGlvbiBpZiB0aGVyZSB3YXMgb25lXG4gICAgICAgICAgaW5uZXJTdWJzY3JpYmVyPy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIGxldCBpbm5lckluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBvdXRlckluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICAvLyBTdGFydCB0aGUgbmV4dCBpbm5lciBzdWJzY3JpcHRpb25cbiAgICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgb3V0ZXJJbmRleCkpLnN1YnNjcmliZShcbiAgICAgICAgICAgIChpbm5lclN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IGEgbmV3IGlubmVyIHZhbHVlLCBuZXh0IGl0IHRocm91Z2guIE5vdGUgdGhhdCB0aGlzIGlzXG4gICAgICAgICAgICAgIC8vIGhhbmRsaW5nIHRoZSBkZXByZWNhdGUgcmVzdWx0IHNlbGVjdG9yIGhlcmUuIFRoaXMgaXMgYmVjYXVzZSB3aXRoIHRoaXMgYXJjaGl0ZWN0dXJlXG4gICAgICAgICAgICAgIC8vIGl0IGVuZHMgdXAgYmVpbmcgc21hbGxlciB0aGFuIHVzaW5nIHRoZSBtYXAgb3BlcmF0b3IuXG4gICAgICAgICAgICAgIChpbm5lclZhbHVlKSA9PiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpLFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGlubmVyIGhhcyBjb21wbGV0ZWQuIE51bGwgb3V0IHRoZSBpbm5lciBzdWJzY3JpYmVyIHRvXG4gICAgICAgICAgICAgICAgLy8gZnJlZSB1cCBtZW1vcnkgYW5kIHRvIHNpZ25hbCB0aGF0IHdlIGhhdmUgbm8gaW5uZXIgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudGx5LlxuICAgICAgICAgICAgICAgIGlubmVyU3Vic2NyaWJlciA9IG51bGwhO1xuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSlcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBzd2l0Y2hNYXAgfSBmcm9tICcuL3N3aXRjaE1hcCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vKiogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY5LiBVc2Uge0BsaW5rIHN3aXRjaE1hcH0gaW5zdGVhZDogYHN3aXRjaE1hcCgoKSA9PiByZXN1bHQpYCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcFRvPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KG9ic2VydmFibGU6IE8pOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwVG88TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4oXG4gIG9ic2VydmFibGU6IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiB1bmRlZmluZWRcbik6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXBUbzxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgb2JzZXJ2YWJsZTogTyxcbiAgcmVzdWx0U2VsZWN0b3I6IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuXG4vKipcbiAqIFByb2plY3RzIGVhY2ggc291cmNlIHZhbHVlIHRvIHRoZSBzYW1lIE9ic2VydmFibGUgd2hpY2ggaXMgZmxhdHRlbmVkIG11bHRpcGxlXG4gKiB0aW1lcyB3aXRoIHtAbGluayBzd2l0Y2hNYXB9IGluIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBzd2l0Y2hNYXB9LCBidXQgbWFwcyBlYWNoIHZhbHVlXG4gKiBhbHdheXMgdG8gdGhlIHNhbWUgaW5uZXIgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKHN3aXRjaE1hcFRvLnBuZylcbiAqXG4gKiBNYXBzIGVhY2ggc291cmNlIHZhbHVlIHRvIHRoZSBnaXZlbiBPYnNlcnZhYmxlIGBpbm5lck9ic2VydmFibGVgIHJlZ2FyZGxlc3NcbiAqIG9mIHRoZSBzb3VyY2UgdmFsdWUsIGFuZCB0aGVuIGZsYXR0ZW5zIHRob3NlIHJlc3VsdGluZyBPYnNlcnZhYmxlcyBpbnRvIG9uZVxuICogc2luZ2xlIE9ic2VydmFibGUsIHdoaWNoIGlzIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS4gVGhlIG91dHB1dCBPYnNlcnZhYmxlc1xuICogZW1pdHMgdmFsdWVzIG9ubHkgZnJvbSB0aGUgbW9zdCByZWNlbnRseSBlbWl0dGVkIGluc3RhbmNlIG9mXG4gKiBgaW5uZXJPYnNlcnZhYmxlYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogUmVzdGFydCBhbiBpbnRlcnZhbCBPYnNlcnZhYmxlIG9uIGV2ZXJ5IGNsaWNrIGV2ZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgc3dpdGNoTWFwVG8sIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHN3aXRjaE1hcFRvKGludGVydmFsKDEwMDApKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwVG99XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hBbGx9XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcFRvfVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2YWJsZUlucHV0fSBpbm5lck9ic2VydmFibGUgQW4gT2JzZXJ2YWJsZSB0byByZXBsYWNlIGVhY2ggdmFsdWUgZnJvbVxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgZnJvbSB0aGVcbiAqIGdpdmVuIGBpbm5lck9ic2VydmFibGVgIChhbmQgb3B0aW9uYWxseSB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoZSBkZXByZWNhdGVkXG4gKiBgcmVzdWx0U2VsZWN0b3JgKSBldmVyeSB0aW1lIGEgdmFsdWUgaXMgZW1pdHRlZCBvbiB0aGUgc291cmNlIE9ic2VydmFibGUsXG4gKiBhbmQgdGFraW5nIG9ubHkgdGhlIHZhbHVlcyBmcm9tIHRoZSBtb3N0IHJlY2VudGx5IHByb2plY3RlZCBpbm5lclxuICogT2JzZXJ2YWJsZS5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBzd2l0Y2hNYXB9IGluc3RlYWQ6IGBzd2l0Y2hNYXAoKCkgPT4gcmVzdWx0KWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcFRvPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBpbm5lck9ic2VydmFibGU6IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICByZXR1cm4gaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikgPyBzd2l0Y2hNYXAoKCkgPT4gaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3RvcikgOiBzd2l0Y2hNYXAoKCkgPT4gaW5uZXJPYnNlcnZhYmxlKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mLCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi9zd2l0Y2hNYXAnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbi8vIFRPRE86IEdlbmVyYXRlIGEgbWFyYmxlIGRpYWdyYW0gZm9yIHRoZXNlIGRvY3MuXG5cbi8qKlxuICogQXBwbGllcyBhbiBhY2N1bXVsYXRvciBmdW5jdGlvbiBvdmVyIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aGVyZSB0aGVcbiAqIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIGl0c2VsZiByZXR1cm5zIGFuIE9ic2VydmFibGUsIGVtaXR0aW5nIHZhbHVlc1xuICogb25seSBmcm9tIHRoZSBtb3N0IHJlY2VudGx5IHJldHVybmVkIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgbWVyZ2VTY2FufSwgYnV0IG9ubHkgdGhlIG1vc3QgcmVjZW50XG4gKiBPYnNlcnZhYmxlIHJldHVybmVkIGJ5IHRoZSBhY2N1bXVsYXRvciBpcyBtZXJnZWQgaW50byB0aGUgb3V0ZXIgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogQHNlZSB7QGxpbmsgc2Nhbn1cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqXG4gKiBAcGFyYW0gYWNjdW11bGF0b3JcbiAqIFRoZSBhY2N1bXVsYXRvciBmdW5jdGlvbiBjYWxsZWQgb24gZWFjaCBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0gc2VlZCBUaGUgaW5pdGlhbCBhY2N1bXVsYXRpb24gdmFsdWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIG9ic2VydmFibGUgb2YgdGhlIGFjY3VtdWxhdGVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFNjYW48VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgYWNjdW11bGF0b3I6IChhY2M6IFIsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICBzZWVkOiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIHN0YXRlIHdlIHdpbGwga2VlcCB1cCB0byBkYXRlIHRvIHBhc3MgaW50byBvdXJcbiAgICAvLyBhY2N1bXVsYXRvciBmdW5jdGlvbiBhdCBlYWNoIG5ldyB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UuXG4gICAgbGV0IHN0YXRlID0gc2VlZDtcblxuICAgIC8vIFVzZSBgc3dpdGNoTWFwYCBvbiBvdXIgYHNvdXJjZWAgdG8gZG8gdGhlIHdvcmsgb2YgY3JlYXRpbmdcbiAgICAvLyB0aGlzIG9wZXJhdG9yLiBOb3RlIHRoZSBiYWNrd2FyZHMgb3JkZXIgaGVyZSBvZiBgc3dpdGNoTWFwKCkoc291cmNlKWBcbiAgICAvLyB0byBhdm9pZCBuZWVkaW5nIHRvIHVzZSBgcGlwZWAgdW5uZWNlc3NhcmlseVxuICAgIHN3aXRjaE1hcChcbiAgICAgIC8vIE9uIGVhY2ggdmFsdWUgZnJvbSB0aGUgc291cmNlLCBjYWxsIHRoZSBhY2N1bXVsYXRvciB3aXRoXG4gICAgICAvLyBvdXIgcHJldmlvdXMgc3RhdGUsIHRoZSB2YWx1ZSBhbmQgdGhlIGluZGV4LlxuICAgICAgKHZhbHVlOiBULCBpbmRleCkgPT4gYWNjdW11bGF0b3Ioc3RhdGUsIHZhbHVlLCBpbmRleCksXG4gICAgICAvLyBVc2luZyB0aGUgZGVwcmVjYXRlZCByZXN1bHQgc2VsZWN0b3IgaGVyZSBhcyBhIGRpcnR5IHRyaWNrXG4gICAgICAvLyB0byB1cGRhdGUgb3VyIHN0YXRlIHdpdGggdGhlIGZsYXR0ZW5lZCB2YWx1ZS5cbiAgICAgIChfLCBpbm5lclZhbHVlKSA9PiAoKHN0YXRlID0gaW5uZXJWYWx1ZSksIGlubmVyVmFsdWUpXG4gICAgKShzb3VyY2UpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBSZWxlYXNlIHN0YXRlIG9uIGZpbmFsaXphdGlvblxuICAgICAgc3RhdGUgPSBudWxsITtcbiAgICB9O1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBFbWl0cyBvbmx5IHRoZSBmaXJzdCBgY291bnRgIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VGFrZXMgdGhlIGZpcnN0IGBjb3VudGAgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSwgdGhlblxuICogY29tcGxldGVzLjwvc3Bhbj5cbiAqXG4gKiAhW10odGFrZS5wbmcpXG4gKlxuICogYHRha2VgIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG9ubHkgdGhlIGZpcnN0IGBjb3VudGAgdmFsdWVzIGVtaXR0ZWRcbiAqIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSWYgdGhlIHNvdXJjZSBlbWl0cyBmZXdlciB0aGFuIGBjb3VudGAgdmFsdWVzIHRoZW5cbiAqIGFsbCBvZiBpdHMgdmFsdWVzIGFyZSBlbWl0dGVkLiBBZnRlciB0aGF0LCBpdCBjb21wbGV0ZXMsIHJlZ2FyZGxlc3MgaWYgdGhlXG4gKiBzb3VyY2UgY29tcGxldGVzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUYWtlIHRoZSBmaXJzdCA1IHNlY29uZHMgb2YgYW4gaW5maW5pdGUgMS1zZWNvbmQgaW50ZXJ2YWwgT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGludGVydmFsQ291bnQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHRha2VGaXZlID0gaW50ZXJ2YWxDb3VudC5waXBlKHRha2UoNSkpO1xuICogdGFrZUZpdmUuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA0XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0YWtlTGFzdH1cbiAqIEBzZWUge0BsaW5rIHRha2VVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHRha2VXaGlsZX1cbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKlxuICogQHBhcmFtIGNvdW50IFRoZSBtYXhpbXVtIG51bWJlciBvZiBgbmV4dGAgdmFsdWVzIHRvIGVtaXQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBvbmx5IHRoZSBmaXJzdFxuICogYGNvdW50YCB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIG9yIGFsbCBvZiB0aGUgdmFsdWVzIGZyb21cbiAqIHRoZSBzb3VyY2UgaWYgdGhlIHNvdXJjZSBlbWl0cyBmZXdlciB0aGFuIGBjb3VudGAgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFrZTxUPihjb3VudDogbnVtYmVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICA/IC8vIElmIHdlIGFyZSB0YWtpbmcgbm8gdmFsdWVzLCB0aGF0J3MgZW1wdHkuXG4gICAgICAoKSA9PiBFTVBUWVxuICAgIDogb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIGxldCBzZWVuID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiB2YWx1ZXMgd2UgaGF2ZSBzZWVuLFxuICAgICAgICAgICAgLy8gdGhlbiBjaGVjayBpdCBhZ2FpbnN0IHRoZSBhbGxvd2VkIGNvdW50IHRvIHNlZVxuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIHN0aWxsIGxldHRpbmcgdmFsdWVzIHRocm91Z2guXG4gICAgICAgICAgICBpZiAoKytzZWVuIDw9IGNvdW50KSB7XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbWV0IG9yIHBhc3NlZCBvdXIgYWxsb3dlZCBjb3VudCxcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjb21wbGV0ZS4gV2UgaGF2ZSB0byBkbyA8PSBoZXJlLFxuICAgICAgICAgICAgICAvLyBiZWNhdXNlIHJlLWVudHJhbnQgY29kZSB3aWxsIGluY3JlbWVudCBgc2VlbmAgdHdpY2UuXG4gICAgICAgICAgICAgIGlmIChjb3VudCA8PSBzZWVuKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2VtcHR5JztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIFdhaXRzIGZvciB0aGUgc291cmNlIHRvIGNvbXBsZXRlLCB0aGVuIGVtaXRzIHRoZSBsYXN0IE4gdmFsdWVzIGZyb20gdGhlIHNvdXJjZSxcbiAqIGFzIHNwZWNpZmllZCBieSB0aGUgYGNvdW50YCBhcmd1bWVudC5cbiAqXG4gKiAhW10odGFrZUxhc3QucG5nKVxuICpcbiAqIGB0YWtlTGFzdGAgcmVzdWx0cyBpbiBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBob2xkIHZhbHVlcyB1cCB0byBgY291bnRgIHZhbHVlcyBpbiBtZW1vcnksXG4gKiB1bnRpbCB0aGUgc291cmNlIGNvbXBsZXRlcy4gSXQgdGhlbiBwdXNoZXMgYWxsIHZhbHVlcyBpbiBtZW1vcnkgdG8gdGhlIGNvbnN1bWVyLCBpbiB0aGVcbiAqIG9yZGVyIHRoZXkgd2VyZSByZWNlaXZlZCBmcm9tIHRoZSBzb3VyY2UsIHRoZW4gbm90aWZpZXMgdGhlIGNvbnN1bWVyIHRoYXQgaXQgaXNcbiAqIGNvbXBsZXRlLlxuICpcbiAqIElmIGZvciBzb21lIHJlYXNvbiB0aGUgc291cmNlIGNvbXBsZXRlcyBiZWZvcmUgdGhlIGBjb3VudGAgc3VwcGxpZWQgdG8gYHRha2VMYXN0YCBpcyByZWFjaGVkLFxuICogYWxsIHZhbHVlcyByZWNlaXZlZCB1bnRpbCB0aGF0IHBvaW50IGFyZSBlbWl0dGVkLCBhbmQgdGhlbiBjb21wbGV0aW9uIGlzIG5vdGlmaWVkLlxuICpcbiAqICoqV2FybmluZyoqOiBVc2luZyBgdGFrZUxhc3RgIHdpdGggYW4gb2JzZXJ2YWJsZSB0aGF0IG5ldmVyIGNvbXBsZXRlcyB3aWxsIHJlc3VsdFxuICogaW4gYW4gb2JzZXJ2YWJsZSB0aGF0IG5ldmVyIGVtaXRzIGEgdmFsdWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRha2UgdGhlIGxhc3QgMyB2YWx1ZXMgb2YgYW4gT2JzZXJ2YWJsZSB3aXRoIG1hbnkgdmFsdWVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHJhbmdlLCB0YWtlTGFzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG1hbnkgPSByYW5nZSgxLCAxMDApO1xuICogY29uc3QgbGFzdFRocmVlID0gbWFueS5waXBlKHRha2VMYXN0KDMpKTtcbiAqIGxhc3RUaHJlZS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0YWtlfVxuICogQHNlZSB7QGxpbmsgdGFrZVVudGlsfVxuICogQHNlZSB7QGxpbmsgdGFrZVdoaWxlfVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqXG4gKiBAcGFyYW0gY291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIHZhbHVlcyB0byBlbWl0IGZyb20gdGhlIGVuZCBvZlxuICogdGhlIHNlcXVlbmNlIG9mIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGF0IG1vc3QgdGhlIGxhc3RcbiAqIGBjb3VudGAgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFrZUxhc3Q8VD4oY291bnQ6IG51bWJlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBjb3VudCA8PSAwXG4gICAgPyAoKSA9PiBFTVBUWVxuICAgIDogb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgYnVmZmVyIHdpbGwgaG9sZCB0aGUgdmFsdWVzIHdlIGFyZSBnb2luZyB0byBlbWl0XG4gICAgICAgIC8vIHdoZW4gdGhlIHNvdXJjZSBjb21wbGV0ZXMuIFNpbmNlIHdlIG9ubHkgd2FudCB0byB0YWtlIHRoZVxuICAgICAgICAvLyBsYXN0IE4gdmFsdWVzLCB3ZSBjYW4ndCBlbWl0IHVudGlsIHdlJ3JlIHN1cmUgd2UncmUgbm90IGdldHRpbmdcbiAgICAgICAgLy8gYW55IG1vcmUgdmFsdWVzLlxuICAgICAgICBsZXQgYnVmZmVyOiBUW10gPSBbXTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgIC8vIEFkZCB0aGUgbW9zdCByZWNlbnQgdmFsdWUgb250byB0aGUgZW5kIG9mIG91ciBidWZmZXIuXG4gICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgLy8gSWYgb3VyIGJ1ZmZlciBpcyBub3cgbGFyZ2VyIHRoYW4gdGhlIG51bWJlciBvZiB2YWx1ZXMgd2VcbiAgICAgICAgICAgICAgLy8gd2FudCB0byB0YWtlLCB3ZSByZW1vdmUgdGhlIG9sZGVzdCB2YWx1ZSBmcm9tIHRoZSBidWZmZXIuXG4gICAgICAgICAgICAgIGNvdW50IDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXIuc2hpZnQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRoZSBzb3VyY2UgY29tcGxldGVkLCB3ZSBub3cga25vdyB3aGF0IGFyZSBsYXN0IHZhbHVlc1xuICAgICAgICAgICAgICAvLyBhcmUsIGVtaXQgdGhlbSBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHJlY2VpdmVkLlxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEVycm9ycyBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGNvbnN1bWVyXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIER1cmluZyBmaW5hbGl6YXRpb24gcmVsZWFzZSB0aGUgdmFsdWVzIGluIG91ciBidWZmZXIuXG4gICAgICAgICAgICAgIGJ1ZmZlciA9IG51bGwhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuXG4vKipcbiAqIEVtaXRzIHRoZSB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgdW50aWwgYSBgbm90aWZpZXJgXG4gKiBPYnNlcnZhYmxlIGVtaXRzIGEgdmFsdWUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkxldHMgdmFsdWVzIHBhc3MgdW50aWwgYSBzZWNvbmQgT2JzZXJ2YWJsZSxcbiAqIGBub3RpZmllcmAsIGVtaXRzIGEgdmFsdWUuIFRoZW4sIGl0IGNvbXBsZXRlcy48L3NwYW4+XG4gKlxuICogIVtdKHRha2VVbnRpbC5wbmcpXG4gKlxuICogYHRha2VVbnRpbGAgc3Vic2NyaWJlcyBhbmQgYmVnaW5zIG1pcnJvcmluZyB0aGUgc291cmNlIE9ic2VydmFibGUuIEl0IGFsc29cbiAqIG1vbml0b3JzIGEgc2Vjb25kIE9ic2VydmFibGUsIGBub3RpZmllcmAgdGhhdCB5b3UgcHJvdmlkZS4gSWYgdGhlIGBub3RpZmllcmBcbiAqIGVtaXRzIGEgdmFsdWUsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBzdG9wcyBtaXJyb3JpbmcgdGhlIHNvdXJjZSBPYnNlcnZhYmxlXG4gKiBhbmQgY29tcGxldGVzLiBJZiB0aGUgYG5vdGlmaWVyYCBkb2Vzbid0IGVtaXQgYW55IHZhbHVlIGFuZCBjb21wbGV0ZXNcbiAqIHRoZW4gYHRha2VVbnRpbGAgd2lsbCBwYXNzIGFsbCB2YWx1ZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRpY2sgZXZlcnkgc2Vjb25kIHVudGlsIHRoZSBmaXJzdCBjbGljayBoYXBwZW5zXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBmcm9tRXZlbnQsIHRha2VVbnRpbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKHRha2VVbnRpbChjbGlja3MpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0YWtlfVxuICogQHNlZSB7QGxpbmsgdGFrZUxhc3R9XG4gKiBAc2VlIHtAbGluayB0YWtlV2hpbGV9XG4gKiBAc2VlIHtAbGluayBza2lwfVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2YWJsZX0gbm90aWZpZXIgVGhlIE9ic2VydmFibGUgd2hvc2UgZmlyc3QgZW1pdHRlZCB2YWx1ZSB3aWxsXG4gKiBjYXVzZSB0aGUgb3V0cHV0IE9ic2VydmFibGUgb2YgYHRha2VVbnRpbGAgdG8gc3RvcCBlbWl0dGluZyB2YWx1ZXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgdW50aWwgYG5vdGlmaWVyYCBlbWl0cyBpdHMgZmlyc3QgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWtlVW50aWw8VD4obm90aWZpZXI6IE9ic2VydmFibGVJbnB1dDxhbnk+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGlubmVyRnJvbShub3RpZmllcikuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAoKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCksIG5vb3ApKTtcbiAgICAhc3Vic2NyaWJlci5jbG9zZWQgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFRydXRoeVR5cGVzT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZTxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3RvciwgaW5jbHVzaXZlOiB0cnVlKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZTxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3RvciwgaW5jbHVzaXZlOiBmYWxzZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlPFQ+KHByZWRpY2F0ZTogQm9vbGVhbkNvbnN0cnVjdG9yKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUcnV0aHlUeXBlc09mPFQ+PjtcbmV4cG9ydCBmdW5jdGlvbiB0YWtlV2hpbGU8VCwgUyBleHRlbmRzIFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiB0YWtlV2hpbGU8VCwgUyBleHRlbmRzIFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTLCBpbmNsdXNpdmU6IGZhbHNlKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiB0YWtlV2hpbGU8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIGluY2x1c2l2ZT86IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogRW1pdHMgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHNvIGxvbmcgYXMgZWFjaCB2YWx1ZSBzYXRpc2ZpZXNcbiAqIHRoZSBnaXZlbiBgcHJlZGljYXRlYCwgYW5kIHRoZW4gY29tcGxldGVzIGFzIHNvb24gYXMgdGhpcyBgcHJlZGljYXRlYCBpcyBub3RcbiAqIHNhdGlzZmllZC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VGFrZXMgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBvbmx5IHdoaWxlIHRoZXkgcGFzcyB0aGVcbiAqIGNvbmRpdGlvbiBnaXZlbi4gV2hlbiB0aGUgZmlyc3QgdmFsdWUgZG9lcyBub3Qgc2F0aXNmeSwgaXQgY29tcGxldGVzLjwvc3Bhbj5cbiAqXG4gKiAhW10odGFrZVdoaWxlLnBuZylcbiAqXG4gKiBgdGFrZVdoaWxlYCBzdWJzY3JpYmVzIGFuZCBiZWdpbnMgbWlycm9yaW5nIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gRWFjaCB2YWx1ZVxuICogZW1pdHRlZCBvbiB0aGUgc291cmNlIGlzIGdpdmVuIHRvIHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFcbiAqIGJvb2xlYW4sIHJlcHJlc2VudGluZyBhIGNvbmRpdGlvbiB0byBiZSBzYXRpc2ZpZWQgYnkgdGhlIHNvdXJjZSB2YWx1ZXMuIFRoZVxuICogb3V0cHV0IE9ic2VydmFibGUgZW1pdHMgdGhlIHNvdXJjZSB2YWx1ZXMgdW50aWwgc3VjaCB0aW1lIGFzIHRoZSBgcHJlZGljYXRlYFxuICogcmV0dXJucyBmYWxzZSwgYXQgd2hpY2ggcG9pbnQgYHRha2VXaGlsZWAgc3RvcHMgbWlycm9yaW5nIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgYW5kIGNvbXBsZXRlcyB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgY2xpY2sgZXZlbnRzIG9ubHkgd2hpbGUgdGhlIGNsaWVudFggcHJvcGVydHkgaXMgZ3JlYXRlciB0aGFuIDIwMFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHRha2VXaGlsZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudDxQb2ludGVyRXZlbnQ+KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHRha2VXaGlsZShldiA9PiBldi5jbGllbnRYID4gMjAwKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqIEBzZWUge0BsaW5rIHRha2VMYXN0fVxuICogQHNlZSB7QGxpbmsgdGFrZVVudGlsfVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKTogYm9vbGVhbn0gcHJlZGljYXRlIEEgZnVuY3Rpb24gdGhhdFxuICogZXZhbHVhdGVzIGEgdmFsdWUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIHJldHVybnMgYSBib29sZWFuLlxuICogQWxzbyB0YWtlcyB0aGUgKHplcm8tYmFzZWQpIGluZGV4IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1c2l2ZSBXaGVuIHNldCB0byBgdHJ1ZWAgdGhlIHZhbHVlIHRoYXQgY2F1c2VkXG4gKiBgcHJlZGljYXRlYCB0byByZXR1cm4gYGZhbHNlYCB3aWxsIGFsc28gYmUgZW1pdHRlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgc28gbG9uZyBhcyBlYWNoIHZhbHVlIHNhdGlzZmllcyB0aGUgY29uZGl0aW9uIGRlZmluZWQgYnlcbiAqIHRoZSBgcHJlZGljYXRlYCwgdGhlbiBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWtlV2hpbGU8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIGluY2x1c2l2ZSA9IGZhbHNlKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKTtcbiAgICAgICAgKHJlc3VsdCB8fCBpbmNsdXNpdmUpICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICFyZXN1bHQgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgfSlcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcblxuZXhwb3J0IGludGVyZmFjZSBUYXBPYnNlcnZlcjxUPiBleHRlbmRzIE9ic2VydmVyPFQ+IHtcbiAgc3Vic2NyaWJlOiAoKSA9PiB2b2lkO1xuICB1bnN1YnNjcmliZTogKCkgPT4gdm9pZDtcbiAgZmluYWxpemU6ICgpID0+IHZvaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdGFwPFQ+KG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbi8qKiBAZGVwcmVjYXRlZCBJbnN0ZWFkIG9mIHBhc3Npbmcgc2VwYXJhdGUgY2FsbGJhY2sgYXJndW1lbnRzLCB1c2UgYW4gb2JzZXJ2ZXIgYXJndW1lbnQuIFNpZ25hdHVyZXMgdGFraW5nIHNlcGFyYXRlIGNhbGxiYWNrIGFyZ3VtZW50cyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3N1YnNjcmliZS1hcmd1bWVudHMgKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4oXG4gIG5leHQ/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsXG4gIGVycm9yPzogKChlcnJvcjogYW55KSA9PiB2b2lkKSB8IG51bGwsXG4gIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbFxuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFVzZWQgdG8gcGVyZm9ybSBzaWRlLWVmZmVjdHMgZm9yIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgc291cmNlIG9ic2VydmFibGVcbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlZCB3aGVuIHlvdSB3YW50IHRvIGFmZmVjdCBvdXRzaWRlIHN0YXRlIHdpdGggYSBub3RpZmljYXRpb24gd2l0aG91dCBhbHRlcmluZyB0aGUgbm90aWZpY2F0aW9uPC9zcGFuPlxuICpcbiAqICFbXSh0YXAucG5nKVxuICpcbiAqIFRhcCBpcyBkZXNpZ25lZCB0byBhbGxvdyB0aGUgZGV2ZWxvcGVyIGEgZGVzaWduYXRlZCBwbGFjZSB0byBwZXJmb3JtIHNpZGUgZWZmZWN0cy4gV2hpbGUgeW91IF9jb3VsZF8gcGVyZm9ybSBzaWRlLWVmZmVjdHNcbiAqIGluc2lkZSBvZiBhIGBtYXBgIG9yIGEgYG1lcmdlTWFwYCwgdGhhdCB3b3VsZCBtYWtlIHRoZWlyIG1hcHBpbmcgZnVuY3Rpb25zIGltcHVyZSwgd2hpY2ggaXNuJ3QgYWx3YXlzIGEgYmlnIGRlYWwsIGJ1dCB3aWxsXG4gKiBtYWtlIGl0IHNvIHlvdSBjYW4ndCBkbyB0aGluZ3MgbGlrZSBtZW1vaXplIHRob3NlIGZ1bmN0aW9ucy4gVGhlIGB0YXBgIG9wZXJhdG9yIGlzIGRlc2lnbmVkIHNvbGVseSBmb3Igc3VjaCBzaWRlLWVmZmVjdHMgdG9cbiAqIGhlbHAgeW91IHJlbW92ZSBzaWRlLWVmZmVjdHMgZnJvbSBvdGhlciBvcGVyYXRpb25zLlxuICpcbiAqIEZvciBhbnkgbm90aWZpY2F0aW9uLCBuZXh0LCBlcnJvciwgb3IgY29tcGxldGUsIGB0YXBgIHdpbGwgY2FsbCB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2sgeW91IGhhdmUgcHJvdmlkZWQgdG8gaXQsIHZpYSBhIGZ1bmN0aW9uXG4gKiByZWZlcmVuY2UsIG9yIGEgcGFydGlhbCBvYnNlcnZlciwgdGhlbiBwYXNzIHRoYXQgbm90aWZpY2F0aW9uIGRvd24gdGhlIHN0cmVhbS5cbiAqXG4gKiBUaGUgb2JzZXJ2YWJsZSByZXR1cm5lZCBieSBgdGFwYCBpcyBhbiBleGFjdCBtaXJyb3Igb2YgdGhlIHNvdXJjZSwgd2l0aCBvbmUgZXhjZXB0aW9uOiBBbnkgZXJyb3IgdGhhdCBvY2N1cnMgLS0gc3luY2hyb25vdXNseSAtLSBpbiBhIGhhbmRsZXJcbiAqIHByb3ZpZGVkIHRvIGB0YXBgIHdpbGwgYmUgZW1pdHRlZCBhcyBhbiBlcnJvciBmcm9tIHRoZSByZXR1cm5lZCBvYnNlcnZhYmxlLlxuICpcbiAqID4gQmUgY2FyZWZ1bCEgWW91IGNhbiBtdXRhdGUgb2JqZWN0cyBhcyB0aGV5IHBhc3MgdGhyb3VnaCB0aGUgYHRhcGAgb3BlcmF0b3IncyBoYW5kbGVycy5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIGB0YXBgIGlzIGFjdHVhbGx5IGZvciBkZWJ1Z2dpbmcuIFlvdSBjYW4gcGxhY2UgYSBgdGFwKGNvbnNvbGUubG9nKWAgYW55d2hlcmVcbiAqIGluIHlvdXIgb2JzZXJ2YWJsZSBgcGlwZWAsIGxvZyBvdXQgdGhlIG5vdGlmaWNhdGlvbnMgYXMgdGhleSBhcmUgZW1pdHRlZCBieSB0aGUgc291cmNlIHJldHVybmVkIGJ5IHRoZSBwcmV2aW91c1xuICogb3BlcmF0aW9uLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ2hlY2sgYSByYW5kb20gbnVtYmVyIGJlZm9yZSBpdCBpcyBoYW5kbGVkLiBCZWxvdyBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCB1c2UgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gMCBhbmQgMSxcbiAqIGFuZCBlbWl0IGAnYmlnJ2Agb3IgYCdzbWFsbCdgIGRlcGVuZGluZyBvbiB0aGUgc2l6ZSBvZiB0aGF0IG51bWJlci4gQnV0IHdlIHdhbnRlZCB0byBsb2cgd2hhdCB0aGUgb3JpZ2luYWwgbnVtYmVyXG4gKiB3YXMsIHNvIHdlIGhhdmUgYWRkZWQgYSBgdGFwKGNvbnNvbGUubG9nKWAuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCB0YXAsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKE1hdGgucmFuZG9tKCkpLnBpcGUoXG4gKiAgIHRhcChjb25zb2xlLmxvZyksXG4gKiAgIG1hcChuID0+IG4gPiAwLjUgPyAnYmlnJyA6ICdzbWFsbCcpXG4gKiApLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBVc2luZyBgdGFwYCB0byBhbmFseXplIGEgdmFsdWUgYW5kIGZvcmNlIGFuIGVycm9yLiBCZWxvdyBpcyBhbiBvYnNlcnZhYmxlIHdoZXJlIGluIG91ciBzeXN0ZW0gd2Ugb25seVxuICogd2FudCB0byBlbWl0IG51bWJlcnMgMyBvciBsZXNzIHdlIGdldCBmcm9tIGFub3RoZXIgc291cmNlLiBXZSBjYW4gZm9yY2Ugb3VyIG9ic2VydmFibGUgdG8gZXJyb3JcbiAqIHVzaW5nIGB0YXBgLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgdGFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gb2YoMSwgMiwgMywgNCwgNSk7XG4gKlxuICogc291cmNlLnBpcGUoXG4gKiAgIHRhcChuID0+IHtcbiAqICAgICBpZiAobiA+IDMpIHtcbiAqICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFZhbHVlICR7IG4gfSBpcyBncmVhdGVyIHRoYW4gM2ApO1xuICogICAgIH1cbiAqICAgfSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoeyBuZXh0OiBjb25zb2xlLmxvZywgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkgfSk7XG4gKiBgYGBcbiAqXG4gKiBXZSB3YW50IHRvIGtub3cgd2hlbiBhbiBvYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgbW92aW5nIG9uIHRvIHRoZSBuZXh0IG9ic2VydmFibGUuIFRoZSBzeXN0ZW1cbiAqIGJlbG93IHdpbGwgZW1pdCBhIHJhbmRvbSBzZXJpZXMgb2YgYCdYJ2AgY2hhcmFjdGVycyBmcm9tIDMgZGlmZmVyZW50IG9ic2VydmFibGVzIGluIHNlcXVlbmNlLiBUaGVcbiAqIG9ubHkgd2F5IHdlIGtub3cgd2hlbiBvbmUgb2JzZXJ2YWJsZSBjb21wbGV0ZXMgYW5kIG1vdmVzIHRvIHRoZSBuZXh0IG9uZSwgaW4gdGhpcyBjYXNlLCBpcyBiZWNhdXNlXG4gKiB3ZSBoYXZlIGFkZGVkIGEgYHRhcGAgd2l0aCB0aGUgc2lkZSBlZmZlY3Qgb2YgbG9nZ2luZyB0byBjb25zb2xlLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgY29uY2F0TWFwLCBpbnRlcnZhbCwgdGFrZSwgbWFwLCB0YXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAyLCAzKS5waXBlKFxuICogICBjb25jYXRNYXAobiA9PiBpbnRlcnZhbCgxMDAwKS5waXBlKFxuICogICAgIHRha2UoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTApKSxcbiAqICAgICBtYXAoKCkgPT4gJ1gnKSxcbiAqICAgICB0YXAoeyBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coYERvbmUgd2l0aCAkeyBuIH1gKSB9KVxuICogICApKVxuICogKVxuICogLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaW5hbGl6ZX1cbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGUjc3Vic2NyaWJlfVxuICpcbiAqIEBwYXJhbSBvYnNlcnZlck9yTmV4dCBBIG5leHQgaGFuZGxlciBvciBwYXJ0aWFsIG9ic2VydmVyXG4gKiBAcGFyYW0gZXJyb3IgQW4gZXJyb3IgaGFuZGxlclxuICogQHBhcmFtIGNvbXBsZXRlIEEgY29tcGxldGlvbiBoYW5kbGVyXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgaWRlbnRpY2FsIHRvIHRoZSBzb3VyY2UsIGJ1dFxuICogcnVucyB0aGUgc3BlY2lmaWVkIE9ic2VydmVyIG9yIGNhbGxiYWNrKHMpIGZvciBlYWNoIGl0ZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4oXG4gIG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsXG4gIGVycm9yPzogKChlOiBhbnkpID0+IHZvaWQpIHwgbnVsbCxcbiAgY29tcGxldGU/OiAoKCkgPT4gdm9pZCkgfCBudWxsXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICAvLyBXZSBoYXZlIHRvIGNoZWNrIHRvIHNlZSBub3Qgb25seSBpZiBuZXh0IGlzIGEgZnVuY3Rpb24sXG4gIC8vIGJ1dCBpZiBlcnJvciBvciBjb21wbGV0ZSB3ZXJlIHBhc3NlZC4gVGhpcyBpcyBiZWNhdXNlIHNvbWVvbmVcbiAgLy8gY291bGQgdGVjaG5pY2FsbHkgY2FsbCB0YXAgbGlrZSBgdGFwKG51bGwsIGZuKWAgb3IgYHRhcChudWxsLCBudWxsLCBmbilgLlxuICBjb25zdCB0YXBPYnNlcnZlciA9XG4gICAgaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgID8gLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvblxuICAgICAgICAoeyBuZXh0OiBvYnNlcnZlck9yTmV4dCBhcyBFeGNsdWRlPHR5cGVvZiBvYnNlcnZlck9yTmV4dCwgUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4+LCBlcnJvciwgY29tcGxldGUgfSBhcyBQYXJ0aWFsPFRhcE9ic2VydmVyPFQ+PilcbiAgICAgIDogb2JzZXJ2ZXJPck5leHQ7XG5cbiAgcmV0dXJuIHRhcE9ic2VydmVyXG4gICAgPyBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlPy4oKTtcbiAgICAgICAgbGV0IGlzVW5zdWIgPSB0cnVlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIubmV4dD8uKHZhbHVlKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRhcE9ic2VydmVyLmVycm9yPy4oZXJyKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICB0YXBPYnNlcnZlci51bnN1YnNjcmliZT8uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIuZmluYWxpemU/LigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgOiAvLyBUYXAgd2FzIGNhbGxlZCB3aXRoIG5vIHZhbGlkIHRhcCBvYnNlcnZlciBvciBoYW5kbGVyXG4gICAgICAvLyAoZS5nLiBgdGFwKG51bGwsIG51bGwsIG51bGwpYCBvciBgdGFwKG51bGwpYCBvciBgdGFwKClgKVxuICAgICAgLy8gc28gd2UncmUgZ29pbmcgdG8ganVzdCBtaXJyb3IgdGhlIHNvdXJjZS5cbiAgICAgIGlkZW50aXR5O1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcblxuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuZXhwb3J0IGludGVyZmFjZSBUaHJvdHRsZUNvbmZpZyB7XG4gIGxlYWRpbmc/OiBib29sZWFuO1xuICB0cmFpbGluZz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGhyb3R0bGVDb25maWc6IFRocm90dGxlQ29uZmlnID0ge1xuICBsZWFkaW5nOiB0cnVlLFxuICB0cmFpbGluZzogZmFsc2UsXG59O1xuXG4vKipcbiAqIEVtaXRzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHRoZW4gaWdub3JlcyBzdWJzZXF1ZW50IHNvdXJjZVxuICogdmFsdWVzIGZvciBhIGR1cmF0aW9uIGRldGVybWluZWQgYnkgYW5vdGhlciBPYnNlcnZhYmxlLCB0aGVuIHJlcGVhdHMgdGhpc1xuICogcHJvY2Vzcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayB0aHJvdHRsZVRpbWV9LCBidXQgdGhlIHNpbGVuY2luZ1xuICogZHVyYXRpb24gaXMgZGV0ZXJtaW5lZCBieSBhIHNlY29uZCBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10odGhyb3R0bGUuc3ZnKVxuICpcbiAqIGB0aHJvdHRsZWAgZW1pdHMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGVcbiAqIHdoZW4gaXRzIGludGVybmFsIHRpbWVyIGlzIGRpc2FibGVkLCBhbmQgaWdub3JlcyBzb3VyY2UgdmFsdWVzIHdoZW4gdGhlIHRpbWVyXG4gKiBpcyBlbmFibGVkLiBJbml0aWFsbHksIHRoZSB0aW1lciBpcyBkaXNhYmxlZC4gQXMgc29vbiBhcyB0aGUgZmlyc3Qgc291cmNlXG4gKiB2YWx1ZSBhcnJpdmVzLCBpdCBpcyBmb3J3YXJkZWQgdG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLCBhbmQgdGhlbiB0aGUgdGltZXJcbiAqIGlzIGVuYWJsZWQgYnkgY2FsbGluZyB0aGUgYGR1cmF0aW9uU2VsZWN0b3JgIGZ1bmN0aW9uIHdpdGggdGhlIHNvdXJjZSB2YWx1ZSxcbiAqIHdoaWNoIHJldHVybnMgdGhlIFwiZHVyYXRpb25cIiBPYnNlcnZhYmxlLiBXaGVuIHRoZSBkdXJhdGlvbiBPYnNlcnZhYmxlIGVtaXRzIGFcbiAqIHZhbHVlLCB0aGUgdGltZXIgaXMgZGlzYWJsZWQsIGFuZCB0aGlzIHByb2Nlc3MgcmVwZWF0cyBmb3IgdGhlXG4gKiBuZXh0IHNvdXJjZSB2YWx1ZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCBjbGlja3MgYXQgYSByYXRlIG9mIGF0IG1vc3Qgb25lIGNsaWNrIHBlciBzZWNvbmRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB0aHJvdHRsZSwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUodGhyb3R0bGUoKCkgPT4gaW50ZXJ2YWwoMTAwMCkpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYXVkaXR9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZX1cbiAqIEBzZWUge0BsaW5rIGRlbGF5V2hlbn1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb25TZWxlY3RvciBBIGZ1bmN0aW9uXG4gKiB0aGF0IHJlY2VpdmVzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIGZvciBjb21wdXRpbmcgdGhlIHNpbGVuY2luZ1xuICogZHVyYXRpb24gZm9yIGVhY2ggc291cmNlIHZhbHVlLCByZXR1cm5lZCBhcyBhbiBPYnNlcnZhYmxlIG9yIGEgUHJvbWlzZS5cbiAqIEBwYXJhbSBjb25maWcgYSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBkZWZpbmUgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIGJlaGF2aW9yLiBEZWZhdWx0c1xuICogdG8gYHsgbGVhZGluZzogdHJ1ZSwgdHJhaWxpbmc6IGZhbHNlIH1gLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgcGVyZm9ybXMgdGhlIHRocm90dGxlXG4gKiBvcGVyYXRpb24gdG8gbGltaXQgdGhlIHJhdGUgb2YgZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlPFQ+KFxuICBkdXJhdGlvblNlbGVjdG9yOiAodmFsdWU6IFQpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+LFxuICBjb25maWc6IFRocm90dGxlQ29uZmlnID0gZGVmYXVsdFRocm90dGxlQ29uZmlnXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3QgeyBsZWFkaW5nLCB0cmFpbGluZyB9ID0gY29uZmlnO1xuICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgIGxldCBzZW5kVmFsdWU6IFQgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgdGhyb3R0bGVkOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcbiAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3QgZW5kVGhyb3R0bGluZyA9ICgpID0+IHtcbiAgICAgIHRocm90dGxlZD8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHRocm90dGxlZCA9IG51bGw7XG4gICAgICBpZiAodHJhaWxpbmcpIHtcbiAgICAgICAgc2VuZCgpO1xuICAgICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYW51cFRocm90dGxpbmcgPSAoKSA9PiB7XG4gICAgICB0aHJvdHRsZWQgPSBudWxsO1xuICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN0YXJ0VGhyb3R0bGUgPSAodmFsdWU6IFQpID0+XG4gICAgICAodGhyb3R0bGVkID0gaW5uZXJGcm9tKGR1cmF0aW9uU2VsZWN0b3IodmFsdWUpKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGVuZFRocm90dGxpbmcsIGNsZWFudXBUaHJvdHRsaW5nKSkpO1xuXG4gICAgY29uc3Qgc2VuZCA9ICgpID0+IHtcbiAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICAvLyBFbnN1cmUgd2UgY2xlYXIgb3V0IG91ciB2YWx1ZSBhbmQgaGFzVmFsdWUgZmxhZ1xuICAgICAgICAvLyBiZWZvcmUgd2UgZW1pdCwgb3RoZXJ3aXNlIHJlZW50cmFudCBjb2RlIGNhbiBjYXVzZVxuICAgICAgICAvLyBpc3N1ZXMgaGVyZS5cbiAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzZW5kVmFsdWUhO1xuICAgICAgICBzZW5kVmFsdWUgPSBudWxsO1xuICAgICAgICAvLyBFbWl0IHRoZSB2YWx1ZS5cbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgIWlzQ29tcGxldGUgJiYgc3RhcnRUaHJvdHRsZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIC8vIFJlZ2FyZGluZyB0aGUgcHJlc2VuY2Ugb2YgdGhyb3R0bGVkLmNsb3NlZCBpbiB0aGUgZm9sbG93aW5nXG4gICAgICAgIC8vIGNvbmRpdGlvbnMsIGlmIGEgc3luY2hyb25vdXMgZHVyYXRpb24gc2VsZWN0b3IgaXMgc3BlY2lmaWVkIC0gd2VpcmQsXG4gICAgICAgIC8vIGJ1dCBsZWdhbCAtIGFuIGFscmVhZHktY2xvc2VkIHN1YnNjcmlwdGlvbiB3aWxsIGJlIGFzc2lnbmVkIHRvXG4gICAgICAgIC8vIHRocm90dGxlZCwgc28gdGhlIHN1YnNjcmlwdGlvbidzIGNsb3NlZCBwcm9wZXJ0eSBuZWVkcyB0byBiZSBjaGVja2VkLFxuICAgICAgICAvLyB0b28uXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBzZW5kVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAhKHRocm90dGxlZCAmJiAhdGhyb3R0bGVkLmNsb3NlZCkgJiYgKGxlYWRpbmcgPyBzZW5kKCkgOiBzdGFydFRocm90dGxlKHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAhKHRyYWlsaW5nICYmIGhhc1ZhbHVlICYmIHRocm90dGxlZCAmJiAhdGhyb3R0bGVkLmNsb3NlZCkgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBkZWZhdWx0VGhyb3R0bGVDb25maWcsIHRocm90dGxlIH0gZnJvbSAnLi90aHJvdHRsZSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4uL29ic2VydmFibGUvdGltZXInO1xuXG4vKipcbiAqIEVtaXRzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHRoZW4gaWdub3JlcyBzdWJzZXF1ZW50IHNvdXJjZVxuICogdmFsdWVzIGZvciBgZHVyYXRpb25gIG1pbGxpc2Vjb25kcywgdGhlbiByZXBlYXRzIHRoaXMgcHJvY2Vzcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TGV0cyBhIHZhbHVlIHBhc3MsIHRoZW4gaWdub3JlcyBzb3VyY2UgdmFsdWVzIGZvciB0aGVcbiAqIG5leHQgYGR1cmF0aW9uYCBtaWxsaXNlY29uZHMuPC9zcGFuPlxuICpcbiAqICFbXSh0aHJvdHRsZVRpbWUucG5nKVxuICpcbiAqIGB0aHJvdHRsZVRpbWVgIGVtaXRzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlXG4gKiB3aGVuIGl0cyBpbnRlcm5hbCB0aW1lciBpcyBkaXNhYmxlZCwgYW5kIGlnbm9yZXMgc291cmNlIHZhbHVlcyB3aGVuIHRoZSB0aW1lclxuICogaXMgZW5hYmxlZC4gSW5pdGlhbGx5LCB0aGUgdGltZXIgaXMgZGlzYWJsZWQuIEFzIHNvb24gYXMgdGhlIGZpcnN0IHNvdXJjZVxuICogdmFsdWUgYXJyaXZlcywgaXQgaXMgZm9yd2FyZGVkIHRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSwgYW5kIHRoZW4gdGhlIHRpbWVyXG4gKiBpcyBlbmFibGVkLiBBZnRlciBgZHVyYXRpb25gIG1pbGxpc2Vjb25kcyAob3IgdGhlIHRpbWUgdW5pdCBkZXRlcm1pbmVkXG4gKiBpbnRlcm5hbGx5IGJ5IHRoZSBvcHRpb25hbCBgc2NoZWR1bGVyYCkgaGFzIHBhc3NlZCwgdGhlIHRpbWVyIGlzIGRpc2FibGVkLFxuICogYW5kIHRoaXMgcHJvY2VzcyByZXBlYXRzIGZvciB0aGUgbmV4dCBzb3VyY2UgdmFsdWUuIE9wdGlvbmFsbHkgdGFrZXMgYVxuICoge0BsaW5rIFNjaGVkdWxlckxpa2V9IGZvciBtYW5hZ2luZyB0aW1lcnMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiAjIyMgTGltaXQgY2xpY2sgcmF0ZVxuICpcbiAqIEVtaXQgY2xpY2tzIGF0IGEgcmF0ZSBvZiBhdCBtb3N0IG9uZSBjbGljayBwZXIgc2Vjb25kXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgdGhyb3R0bGVUaW1lIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHRocm90dGxlVGltZSgxMDAwKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGF1ZGl0VGltZX1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlVGltZX1cbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxuICogQHNlZSB7QGxpbmsgc2FtcGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlfVxuICpcbiAqIEBwYXJhbSBkdXJhdGlvbiBUaW1lIHRvIHdhaXQgYmVmb3JlIGVtaXR0aW5nIGFub3RoZXIgdmFsdWUgYWZ0ZXJcbiAqIGVtaXR0aW5nIHRoZSBsYXN0IHZhbHVlLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMgb3IgdGhlIHRpbWUgdW5pdCBkZXRlcm1pbmVkXG4gKiBpbnRlcm5hbGx5IGJ5IHRoZSBvcHRpb25hbCBgc2NoZWR1bGVyYC5cbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yXG4gKiBtYW5hZ2luZyB0aGUgdGltZXJzIHRoYXQgaGFuZGxlIHRoZSB0aHJvdHRsaW5nLiBEZWZhdWx0cyB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9LlxuICogQHBhcmFtIGNvbmZpZyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGRlZmluZSBgbGVhZGluZ2AgYW5kXG4gKiBgdHJhaWxpbmdgIGJlaGF2aW9yLiBEZWZhdWx0cyB0byBgeyBsZWFkaW5nOiB0cnVlLCB0cmFpbGluZzogZmFsc2UgfWAuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBwZXJmb3JtcyB0aGUgdGhyb3R0bGVcbiAqIG9wZXJhdGlvbiB0byBsaW1pdCB0aGUgcmF0ZSBvZiBlbWlzc2lvbnMgZnJvbSB0aGUgc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGVUaW1lPFQ+KFxuICBkdXJhdGlvbjogbnVtYmVyLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlcixcbiAgY29uZmlnID0gZGVmYXVsdFRocm90dGxlQ29uZmlnXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICBjb25zdCBkdXJhdGlvbiQgPSB0aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTtcbiAgcmV0dXJuIHRocm90dGxlKCgpID0+IGR1cmF0aW9uJCwgY29uZmlnKTtcbn1cbiIsImltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogSWYgdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGEgdmFsdWUsIGl0IHdpbGwgZW1pdFxuICogYW4gZXJyb3IuIFRoZSBlcnJvciB3aWxsIGJlIGNyZWF0ZWQgYXQgdGhhdCB0aW1lIGJ5IHRoZSBvcHRpb25hbFxuICogYGVycm9yRmFjdG9yeWAgYXJndW1lbnQsIG90aGVyd2lzZSwgdGhlIGVycm9yIHdpbGwgYmUge0BsaW5rIEVtcHR5RXJyb3J9LlxuICpcbiAqICFbXSh0aHJvd0lmRW1wdHkucG5nKVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUaHJvdyBhbiBlcnJvciBpZiB0aGUgZG9jdW1lbnQgd2Fzbid0IGNsaWNrZWQgd2l0aGluIDEgc2Vjb25kXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgdGFrZVVudGlsLCB0aW1lciwgdGhyb3dJZkVtcHR5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2skID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqXG4gKiBjbGljayQucGlwZShcbiAqICAgdGFrZVVudGlsKHRpbWVyKDEwMDApKSxcbiAqICAgdGhyb3dJZkVtcHR5KCgpID0+IG5ldyBFcnJvcignVGhlIGRvY3VtZW50IHdhcyBub3QgY2xpY2tlZCB3aXRoaW4gMSBzZWNvbmQnKSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoe1xuICogICBuZXh0KCkge1xuICogICAgY29uc29sZS5sb2coJ1RoZSBkb2N1bWVudCB3YXMgY2xpY2tlZCcpO1xuICogICB9LFxuICogICBlcnJvcihlcnIpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAqICAgfVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZXJyb3JGYWN0b3J5IEEgZmFjdG9yeSBmdW5jdGlvbiBjYWxsZWQgdG8gcHJvZHVjZSB0aGVcbiAqIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhXG4gKiB2YWx1ZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHRocm93cyBhbiBlcnJvciBpZiB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIGNvbXBsZXRlZCB3aXRob3V0IGVtaXR0aW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJZkVtcHR5PFQ+KGVycm9yRmFjdG9yeTogKCkgPT4gYW55ID0gZGVmYXVsdEVycm9yRmFjdG9yeSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4gKGhhc1ZhbHVlID8gc3Vic2NyaWJlci5jb21wbGV0ZSgpIDogc3Vic2NyaWJlci5lcnJvcihlcnJvckZhY3RvcnkoKSkpXG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckZhY3RvcnkoKSB7XG4gIHJldHVybiBuZXcgRW1wdHlFcnJvcigpO1xufVxuIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEVtaXRzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBjdXJyZW50IHZhbHVlLCBhbmQgdGhlIHRpbWUgdGhhdCBoYXNcbiAqIHBhc3NlZCBiZXR3ZWVuIGVtaXR0aW5nIHRoZSBjdXJyZW50IHZhbHVlIGFuZCB0aGUgcHJldmlvdXMgdmFsdWUsIHdoaWNoIGlzXG4gKiBjYWxjdWxhdGVkIGJ5IHVzaW5nIHRoZSBwcm92aWRlZCBgc2NoZWR1bGVyYCdzIGBub3coKWAgbWV0aG9kIHRvIHJldHJpZXZlXG4gKiB0aGUgY3VycmVudCB0aW1lIGF0IGVhY2ggZW1pc3Npb24sIHRoZW4gY2FsY3VsYXRpbmcgdGhlIGRpZmZlcmVuY2UuIFRoZSBgc2NoZWR1bGVyYFxuICogZGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSwgc28gYnkgZGVmYXVsdCwgdGhlIGBpbnRlcnZhbGAgd2lsbCBiZSBpblxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Db252ZXJ0IGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBpbnRvIG9uZSB0aGF0XG4gKiBlbWl0cyBpbmRpY2F0aW9ucyBvZiB0aGUgYW1vdW50IG9mIHRpbWUgZWxhcHNlZCBiZXR3ZWVuIHRob3NlIGVtaXNzaW9ucy48L3NwYW4+XG4gKlxuICogIVtdKHRpbWVJbnRlcnZhbC5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgaW50ZXJ2YWwgYmV0d2VlbiBjdXJyZW50IHZhbHVlIHdpdGggdGhlIGxhc3QgdmFsdWVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRpbWVJbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNlY29uZHMgPSBpbnRlcnZhbCgxMDAwKTtcbiAqXG4gKiBzZWNvbmRzXG4gKiAgIC5waXBlKHRpbWVJbnRlcnZhbCgpKVxuICogICAuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKlxuICogLy8gTk9URTogVGhlIHZhbHVlcyB3aWxsIG5ldmVyIGJlIHRoaXMgcHJlY2lzZSxcbiAqIC8vIGludGVydmFscyBjcmVhdGVkIHdpdGggYGludGVydmFsYCBvciBgc2V0SW50ZXJ2YWxgXG4gKiAvLyBhcmUgbm9uLWRldGVybWluaXN0aWMuXG4gKlxuICogLy8geyB2YWx1ZTogMCwgaW50ZXJ2YWw6IDEwMDAgfVxuICogLy8geyB2YWx1ZTogMSwgaW50ZXJ2YWw6IDEwMDAgfVxuICogLy8geyB2YWx1ZTogMiwgaW50ZXJ2YWw6IDEwMDAgfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyXSBTY2hlZHVsZXIgdXNlZCB0byBnZXQgdGhlIGN1cnJlbnQgdGltZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGluZm9ybWF0aW9uIGFib3V0XG4gKiB2YWx1ZSBhbmQgaW50ZXJ2YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lSW50ZXJ2YWw8VD4oc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlID0gYXN5bmNTY2hlZHVsZXIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRpbWVJbnRlcnZhbDxUPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGxhc3QgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IG5vdyAtIGxhc3Q7XG4gICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dChuZXcgVGltZUludGVydmFsKHZhbHVlLCBpbnRlcnZhbCkpO1xuICAgICAgfSlcbiAgICApO1xuICB9KTtcbn1cblxuLy8gVE9ETyhiZW5sZXNoKTogbWFrZSB0aGlzIGFuIGludGVyZmFjZSwgZXhwb3J0IHRoZSBpbnRlcmZhY2UsIGJ1dCBub3QgdGhlIGltcGxlbWVudGVkIGNsYXNzLFxuLy8gdGhlcmUncyBubyByZWFzb24gdXNlcnMgc2hvdWxkIGJlIG1hbnVhbGx5IGNyZWF0aW5nIHRoaXMgdHlwZS5cblxuZXhwb3J0IGNsYXNzIFRpbWVJbnRlcnZhbDxUPiB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCBjb25zdHJ1Y3QgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBhbiBpbnRlcmZhY2UgaW4gdjguXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFQsIHB1YmxpYyBpbnRlcnZhbDogbnVtYmVyKSB7fVxufVxuIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlLCBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzVmFsaWREYXRlIH0gZnJvbSAnLi4vdXRpbC9pc0RhdGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4uL3V0aWwvY3JlYXRlRXJyb3JDbGFzcyc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZW91dENvbmZpZzxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+ID0gT2JzZXJ2YWJsZUlucHV0PFQ+LCBNID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogVGhlIHRpbWUgYWxsb3dlZCBiZXR3ZWVuIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgYmVmb3JlIHRpbWVvdXQgaXMgdHJpZ2dlcmVkLlxuICAgKi9cbiAgZWFjaD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHJlbGF0aXZlIHRpbWUgYXMgYSBgbnVtYmVyYCBpbiBtaWxsaXNlY29uZHMsIG9yIGEgc3BlY2lmaWMgdGltZSBhcyBhIGBEYXRlYCBvYmplY3QsXG4gICAqIGJ5IHdoaWNoIHRoZSBmaXJzdCB2YWx1ZSBtdXN0IGFycml2ZSBmcm9tIHRoZSBzb3VyY2UgYmVmb3JlIHRpbWVvdXQgaXMgdHJpZ2dlcmVkLlxuICAgKi9cbiAgZmlyc3Q/OiBudW1iZXIgfCBEYXRlO1xuXG4gIC8qKlxuICAgKiBUaGUgc2NoZWR1bGVyIHRvIHVzZSB3aXRoIHRpbWUtcmVsYXRlZCBvcGVyYXRpb25zIHdpdGhpbiB0aGlzIG9wZXJhdG9yLiBEZWZhdWx0cyB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9XG4gICAqL1xuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlO1xuXG4gIC8qKlxuICAgKiBBIGZhY3RvcnkgdXNlZCB0byBjcmVhdGUgb2JzZXJ2YWJsZSB0byBzd2l0Y2ggdG8gd2hlbiB0aW1lb3V0IG9jY3Vycy4gUHJvdmlkZXNcbiAgICogYSB7QGxpbmsgVGltZW91dEluZm99IGFib3V0IHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSdzIGVtaXNzaW9ucyBhbmQgd2hhdCBkZWxheSBvclxuICAgKiBleGFjdCB0aW1lIHRyaWdnZXJlZCB0aGUgdGltZW91dC5cbiAgICovXG4gIHdpdGg/OiAoaW5mbzogVGltZW91dEluZm88VCwgTT4pID0+IE87XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGFkZGl0aW9uYWwgbWV0YWRhdGEgeW91IGNhbiBwcm92aWRlIHRvIGNvZGUgdGhhdCBoYW5kbGVzXG4gICAqIHRoZSB0aW1lb3V0LCB3aWxsIGJlIHByb3ZpZGVkIHRocm91Z2ggdGhlIHtAbGluayBUaW1lb3V0RXJyb3J9LlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGhlbHAgaWRlbnRpZnkgdGhlIHNvdXJjZSBvZiBhIHRpbWVvdXQgb3IgcGFzcyBhbG9uZ1xuICAgKiBvdGhlciBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIHRoZSB0aW1lb3V0LlxuICAgKi9cbiAgbWV0YT86IE07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZW91dEluZm88VCwgTSA9IHVua25vd24+IHtcbiAgLyoqIE9wdGlvbmFsIG1ldGFkYXRhIHRoYXQgd2FzIHByb3ZpZGVkIHRvIHRoZSB0aW1lb3V0IGNvbmZpZ3VyYXRpb24uICovXG4gIHJlYWRvbmx5IG1ldGE6IE07XG4gIC8qKiBUaGUgbnVtYmVyIG9mIG1lc3NhZ2VzIHNlZW4gYmVmb3JlIHRoZSB0aW1lb3V0ICovXG4gIHJlYWRvbmx5IHNlZW46IG51bWJlcjtcbiAgLyoqIFRoZSBsYXN0IG1lc3NhZ2Ugc2VlbiAqL1xuICByZWFkb25seSBsYXN0VmFsdWU6IFQgfCBudWxsO1xufVxuXG4vKipcbiAqIEFuIGVycm9yIGVtaXR0ZWQgd2hlbiBhIHRpbWVvdXQgb2NjdXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVvdXRFcnJvcjxUID0gdW5rbm93biwgTSA9IHVua25vd24+IGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogVGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkIHRvIHRoZSBlcnJvciBieSB0aGUgdGltZW91dFxuICAgKiBvcGVyYXRpb24gdGhhdCBjcmVhdGVkIHRoZSBlcnJvci4gV2lsbCBiZSBgbnVsbGAgaWZcbiAgICogdXNlZCBkaXJlY3RseSBpbiBub24tUnhKUyBjb2RlIHdpdGggYW4gZW1wdHkgY29uc3RydWN0b3IuXG4gICAqIChOb3RlIHRoYXQgdXNpbmcgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseSBpcyBub3QgcmVjb21tZW5kZWQsXG4gICAqIHlvdSBzaG91bGQgY3JlYXRlIHlvdXIgb3duIGVycm9ycylcbiAgICovXG4gIGluZm86IFRpbWVvdXRJbmZvPFQsIE0+IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaW1lb3V0RXJyb3JDdG9yIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gRG8gbm90IGNvbnN0cnVjdCBlcnJvciBpbnN0YW5jZXMuXG4gICAqIENhbm5vdCBiZSB0YWdnZWQgYXMgaW50ZXJuYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNjI2OVxuICAgKi9cbiAgbmV3IDxUID0gdW5rbm93biwgTSA9IHVua25vd24+KGluZm8/OiBUaW1lb3V0SW5mbzxULCBNPik6IFRpbWVvdXRFcnJvcjxULCBNPjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gYnkgdGhlIHtAbGluayB0aW1lb3V0fSBvcGVyYXRvci5cbiAqXG4gKiBQcm92aWRlZCBzbyB1c2VycyBjYW4gdXNlIGFzIGEgdHlwZSBhbmQgZG8gcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqIFdlIHJlY29tbWVuZCB5b3UgZG8gbm90IHN1YmNsYXNzIHRoaXMgb3IgY3JlYXRlIGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGRpcmVjdGx5LlxuICogSWYgeW91IGhhdmUgbmVlZCBvZiBhIGVycm9yIHJlcHJlc2VudGluZyBhIHRpbWVvdXQsIHlvdSBzaG91bGRcbiAqIGNyZWF0ZSB5b3VyIG93biBlcnJvciBjbGFzcyBhbmQgdXNlIHRoYXQuXG4gKlxuICogQHNlZSB7QGxpbmsgdGltZW91dH1cbiAqXG4gKiBAY2xhc3MgVGltZW91dEVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBUaW1lb3V0RXJyb3I6IFRpbWVvdXRFcnJvckN0b3IgPSBjcmVhdGVFcnJvckNsYXNzKFxuICAoX3N1cGVyKSA9PlxuICAgIGZ1bmN0aW9uIFRpbWVvdXRFcnJvckltcGwodGhpczogYW55LCBpbmZvOiBUaW1lb3V0SW5mbzxhbnk+IHwgbnVsbCA9IG51bGwpIHtcbiAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdUaW1lb3V0IGhhcyBvY2N1cnJlZCc7XG4gICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgfVxuKTtcblxuLyoqXG4gKiBJZiBgd2l0aGAgaXMgcHJvdmlkZWQsIHRoaXMgd2lsbCByZXR1cm4gYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgc3dpdGNoIHRvIGEgZGlmZmVyZW50IG9ic2VydmFibGUgaWYgdGhlIHNvdXJjZVxuICogZG9lcyBub3QgcHVzaCB2YWx1ZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgdGltZSBwYXJhbWV0ZXJzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5UaGUgbW9zdCBmbGV4aWJsZSBvcHRpb24gZm9yIGNyZWF0aW5nIGEgdGltZW91dCBiZWhhdmlvci48L3NwYW4+XG4gKlxuICogVGhlIGZpcnN0IHRoaW5nIHRvIGtub3cgYWJvdXQgdGhlIGNvbmZpZ3VyYXRpb24gaXMgaWYgeW91IGRvIG5vdCBwcm92aWRlIGEgYHdpdGhgIHByb3BlcnR5IHRvIHRoZSBjb25maWd1cmF0aW9uLFxuICogd2hlbiB0aW1lb3V0IGNvbmRpdGlvbnMgYXJlIG1ldCwgdGhpcyBvcGVyYXRvciB3aWxsIGVtaXQgYSB7QGxpbmsgVGltZW91dEVycm9yfS4gT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgZmFjdG9yeVxuICogZnVuY3Rpb24gcHJvdmlkZWQgYnkgYHdpdGhgLCBhbmQgc3dpdGNoIHlvdXIgc3Vic2NyaXB0aW9uIHRvIHRoZSByZXN1bHQgb2YgdGhhdC4gVGltZW91dCBjb25kaXRpb25zIGFyZSBwcm92aWRlZCBieVxuICogdGhlIHNldHRpbmdzIGluIGBmaXJzdGAgYW5kIGBlYWNoYC5cbiAqXG4gKiBUaGUgYGZpcnN0YCBwcm9wZXJ0eSBjYW4gYmUgZWl0aGVyIGEgYERhdGVgIGZvciBhIHNwZWNpZmljIHRpbWUsIGEgYG51bWJlcmAgZm9yIGEgdGltZSBwZXJpb2QgcmVsYXRpdmUgdG8gdGhlXG4gKiBwb2ludCBvZiBzdWJzY3JpcHRpb24sIG9yIGl0IGNhbiBiZSBza2lwcGVkLiBUaGlzIHByb3BlcnR5IGlzIHRvIGNoZWNrIHRpbWVvdXQgY29uZGl0aW9ucyBmb3IgdGhlIGFycml2YWwgb2ZcbiAqIHRoZSBmaXJzdCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgX29ubHlfLiBUaGUgdGltaW5ncyBvZiBhbGwgc3Vic2VxdWVudCB2YWx1ZXMgIGZyb20gdGhlIHNvdXJjZSB3aWxsIGJlIGNoZWNrZWRcbiAqIGFnYWluc3QgdGhlIHRpbWUgcGVyaW9kIHByb3ZpZGVkIGJ5IGBlYWNoYCwgaWYgaXQgd2FzIHByb3ZpZGVkLlxuICpcbiAqIFRoZSBgZWFjaGAgcHJvcGVydHkgY2FuIGJlIGVpdGhlciBhIGBudW1iZXJgIG9yIHNraXBwZWQuIElmIGEgdmFsdWUgZm9yIGBlYWNoYCBpcyBwcm92aWRlZCwgaXQgcmVwcmVzZW50cyB0aGUgYW1vdW50IG9mXG4gKiB0aW1lIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIHdhaXQgYmV0d2VlbiB0aGUgYXJyaXZhbCBvZiB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIGJlZm9yZSB0aW1pbmcgb3V0LiBOb3RlIHRoYXQgaWZcbiAqIGBmaXJzdGAgaXMgX25vdF8gcHJvdmlkZWQsIHRoZSB2YWx1ZSBmcm9tIGBlYWNoYCB3aWxsIGJlIHVzZWQgdG8gY2hlY2sgdGltZW91dCBjb25kaXRpb25zIGZvciB0aGUgYXJyaXZhbCBvZiB0aGUgZmlyc3RcbiAqIHZhbHVlIGFuZCBhbGwgc3Vic2VxdWVudCB2YWx1ZXMuIElmIGBmaXJzdGAgX2lzXyBwcm92aWRlZCwgYGVhY2hgIHdpbGwgb25seSBiZSB1c2UgdG8gY2hlY2sgYWxsIHZhbHVlcyBhZnRlciB0aGUgZmlyc3QuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFbWl0IGEgY3VzdG9tIGVycm9yIGlmIHRoZXJlIGlzIHRvbyBtdWNoIHRpbWUgYmV0d2VlbiB2YWx1ZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRpbWVvdXQsIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjbGFzcyBDdXN0b21UaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHN1cGVyKCdJdCB3YXMgdG9vIHNsb3cnKTtcbiAqICAgICB0aGlzLm5hbWUgPSAnQ3VzdG9tVGltZW91dEVycm9yJztcbiAqICAgfVxuICogfVxuICpcbiAqIGNvbnN0IHNsb3ckID0gaW50ZXJ2YWwoOTAwKTtcbiAqXG4gKiBzbG93JC5waXBlKFxuICogICB0aW1lb3V0KHtcbiAqICAgICBlYWNoOiAxMDAwLFxuICogICAgIHdpdGg6ICgpID0+IHRocm93RXJyb3IoKCkgPT4gbmV3IEN1c3RvbVRpbWVvdXRFcnJvcigpKVxuICogICB9KVxuICogKVxuICogLnN1YnNjcmliZSh7XG4gKiAgIGVycm9yOiBjb25zb2xlLmVycm9yXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFN3aXRjaCB0byBhIGZhc3RlciBvYnNlcnZhYmxlIGlmIHlvdXIgc291cmNlIGlzIHNsb3cuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0aW1lb3V0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2xvdyQgPSBpbnRlcnZhbCg5MDApO1xuICogY29uc3QgZmFzdCQgPSBpbnRlcnZhbCg1MDApO1xuICpcbiAqIHNsb3ckLnBpcGUoXG4gKiAgIHRpbWVvdXQoe1xuICogICAgIGVhY2g6IDEwMDAsXG4gKiAgICAgd2l0aDogKCkgPT4gZmFzdCQsXG4gKiAgIH0pXG4gKiApXG4gKiAuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIGBgYFxuICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHRpbWVvdXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0PFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4sIE0gPSB1bmtub3duPihcbiAgY29uZmlnOiBUaW1lb3V0Q29uZmlnPFQsIE8sIE0+ICYgeyB3aXRoOiAoaW5mbzogVGltZW91dEluZm88VCwgTT4pID0+IE8gfVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVycm9yIG9yIHN3aXRjaCB0byBhIGRpZmZlcmVudCBvYnNlcnZhYmxlIGlmIHRoZSBzb3VyY2UgZG9lcyBub3QgcHVzaCB2YWx1ZXNcbiAqIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgcGFyYW1ldGVycy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VGhlIG1vc3QgZmxleGlibGUgb3B0aW9uIGZvciBjcmVhdGluZyBhIHRpbWVvdXQgYmVoYXZpb3IuPC9zcGFuPlxuICpcbiAqIFRoZSBmaXJzdCB0aGluZyB0byBrbm93IGFib3V0IHRoZSBjb25maWd1cmF0aW9uIGlzIGlmIHlvdSBkbyBub3QgcHJvdmlkZSBhIGB3aXRoYCBwcm9wZXJ0eSB0byB0aGUgY29uZmlndXJhdGlvbixcbiAqIHdoZW4gdGltZW91dCBjb25kaXRpb25zIGFyZSBtZXQsIHRoaXMgb3BlcmF0b3Igd2lsbCBlbWl0IGEge0BsaW5rIFRpbWVvdXRFcnJvcn0uIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGZhY3RvcnlcbiAqIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IGB3aXRoYCwgYW5kIHN3aXRjaCB5b3VyIHN1YnNjcmlwdGlvbiB0byB0aGUgcmVzdWx0IG9mIHRoYXQuIFRpbWVvdXQgY29uZGl0aW9ucyBhcmUgcHJvdmlkZWQgYnlcbiAqIHRoZSBzZXR0aW5ncyBpbiBgZmlyc3RgIGFuZCBgZWFjaGAuXG4gKlxuICogVGhlIGBmaXJzdGAgcHJvcGVydHkgY2FuIGJlIGVpdGhlciBhIGBEYXRlYCBmb3IgYSBzcGVjaWZpYyB0aW1lLCBhIGBudW1iZXJgIGZvciBhIHRpbWUgcGVyaW9kIHJlbGF0aXZlIHRvIHRoZVxuICogcG9pbnQgb2Ygc3Vic2NyaXB0aW9uLCBvciBpdCBjYW4gYmUgc2tpcHBlZC4gVGhpcyBwcm9wZXJ0eSBpcyB0byBjaGVjayB0aW1lb3V0IGNvbmRpdGlvbnMgZm9yIHRoZSBhcnJpdmFsIG9mXG4gKiB0aGUgZmlyc3QgdmFsdWUgZnJvbSB0aGUgc291cmNlIF9vbmx5Xy4gVGhlIHRpbWluZ3Mgb2YgYWxsIHN1YnNlcXVlbnQgdmFsdWVzICBmcm9tIHRoZSBzb3VyY2Ugd2lsbCBiZSBjaGVja2VkXG4gKiBhZ2FpbnN0IHRoZSB0aW1lIHBlcmlvZCBwcm92aWRlZCBieSBgZWFjaGAsIGlmIGl0IHdhcyBwcm92aWRlZC5cbiAqXG4gKiBUaGUgYGVhY2hgIHByb3BlcnR5IGNhbiBiZSBlaXRoZXIgYSBgbnVtYmVyYCBvciBza2lwcGVkLiBJZiBhIHZhbHVlIGZvciBgZWFjaGAgaXMgcHJvdmlkZWQsIGl0IHJlcHJlc2VudHMgdGhlIGFtb3VudCBvZlxuICogdGltZSB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCB3YWl0IGJldHdlZW4gdGhlIGFycml2YWwgb2YgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBiZWZvcmUgdGltaW5nIG91dC4gTm90ZSB0aGF0IGlmXG4gKiBgZmlyc3RgIGlzIF9ub3RfIHByb3ZpZGVkLCB0aGUgdmFsdWUgZnJvbSBgZWFjaGAgd2lsbCBiZSB1c2VkIHRvIGNoZWNrIHRpbWVvdXQgY29uZGl0aW9ucyBmb3IgdGhlIGFycml2YWwgb2YgdGhlIGZpcnN0XG4gKiB2YWx1ZSBhbmQgYWxsIHN1YnNlcXVlbnQgdmFsdWVzLiBJZiBgZmlyc3RgIF9pc18gcHJvdmlkZWQsIGBlYWNoYCB3aWxsIG9ubHkgYmUgdXNlIHRvIGNoZWNrIGFsbCB2YWx1ZXMgYWZ0ZXIgdGhlIGZpcnN0LlxuICpcbiAqICMjIyBIYW5kbGluZyBUaW1lb3V0RXJyb3JzXG4gKlxuICogSWYgbm8gYHdpdGhgIHByb3BlcnR5IHdhcyBwcm92aWRlZCwgc3Vic2NyaXB0aW9ucyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgbWF5IGVtaXQgYW4gZXJyb3Igb2Yge0BsaW5rIFRpbWVvdXRFcnJvcn0uXG4gKiBUaGUgdGltZW91dCBlcnJvciBwcm92aWRlcyB1c2VmdWwgaW5mb3JtYXRpb24geW91IGNhbiBleGFtaW5lIHdoZW4geW91J3JlIGhhbmRsaW5nIHRoZSBlcnJvci4gVGhlIG1vc3QgY29tbW9uIHdheSB0byBoYW5kbGVcbiAqIHRoZSBlcnJvciB3b3VsZCBiZSB3aXRoIHtAbGluayBjYXRjaEVycm9yfSwgYWx0aG91Z2ggeW91IGNvdWxkIHVzZSB7QGxpbmsgdGFwfSBvciBqdXN0IHRoZSBlcnJvciBoYW5kbGVyIGluIHlvdXIgYHN1YnNjcmliZWAgY2FsbFxuICogZGlyZWN0bHksIGlmIHlvdXIgZXJyb3IgaGFuZGxpbmcgaXMgb25seSBhIHNpZGUgZWZmZWN0IChzdWNoIGFzIG5vdGlmeWluZyB0aGUgdXNlciwgb3IgbG9nZ2luZykuXG4gKlxuICogSW4gdGhpcyBjYXNlLCB5b3Ugd291bGQgY2hlY2sgdGhlIGVycm9yIGZvciBgaW5zdGFuY2VvZiBUaW1lb3V0RXJyb3JgIHRvIHZhbGlkYXRlIHRoYXQgdGhlIGVycm9yIHdhcyBpbmRlZWQgZnJvbSBgdGltZW91dGAsIGFuZFxuICogbm90IGZyb20gc29tZSBvdGhlciBzb3VyY2UuIElmIGl0J3Mgbm90IGZyb20gYHRpbWVvdXRgLCB5b3Ugc2hvdWxkIHByb2JhYmx5IHJldGhyb3cgaXQgaWYgeW91J3JlIGluIGEgYGNhdGNoRXJyb3JgLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRW1pdCBhIHtAbGluayBUaW1lb3V0RXJyb3J9IGlmIHRoZSBmaXJzdCB2YWx1ZSwgYW5kIF9vbmx5XyB0aGUgZmlyc3QgdmFsdWUsIGRvZXMgbm90IGFycml2ZSB3aXRoaW4gNSBzZWNvbmRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0aW1lb3V0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gQSByYW5kb20gaW50ZXJ2YWwgdGhhdCBsYXN0cyBiZXR3ZWVuIDAgYW5kIDEwIHNlY29uZHMgcGVyIHRpY2tcbiAqIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMF8wMDApKTtcbiAqXG4gKiBzb3VyY2UkLnBpcGUoXG4gKiAgIHRpbWVvdXQoeyBmaXJzdDogNV8wMDAgfSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiBjb25zb2xlLmxvZyxcbiAqICAgZXJyb3I6IGNvbnNvbGUuZXJyb3JcbiAqIH0pO1xuICogYGBgXG4gKlxuICogRW1pdCBhIHtAbGluayBUaW1lb3V0RXJyb3J9IGlmIHRoZSBzb3VyY2Ugd2FpdHMgbG9uZ2VyIHRoYW4gNSBzZWNvbmRzIGJldHdlZW4gYW55IHR3byB2YWx1ZXMgb3IgdGhlIGZpcnN0IHZhbHVlXG4gKiBhbmQgc3Vic2NyaXB0aW9uLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB0aW1lciwgdGltZW91dCwgZXhwYW5kIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgZ2V0UmFuZG9tVGltZSA9ICgpID0+IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwXzAwMCk7XG4gKlxuICogLy8gQW4gb2JzZXJ2YWJsZSB0aGF0IHdhaXRzIGEgcmFuZG9tIGFtb3VudCBvZiB0aW1lIGJldHdlZW4gZWFjaCBkZWxpdmVyZWQgdmFsdWVcbiAqIGNvbnN0IHNvdXJjZSQgPSB0aW1lcihnZXRSYW5kb21UaW1lKCkpXG4gKiAgIC5waXBlKGV4cGFuZCgoKSA9PiB0aW1lcihnZXRSYW5kb21UaW1lKCkpKSk7XG4gKlxuICogc291cmNlJFxuICogICAucGlwZSh0aW1lb3V0KHsgZWFjaDogNV8wMDAgfSkpXG4gKiAgIC5zdWJzY3JpYmUoe1xuICogICAgIG5leHQ6IGNvbnNvbGUubG9nLFxuICogICAgIGVycm9yOiBjb25zb2xlLmVycm9yXG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogRW1pdCBhIHtAbGluayBUaW1lb3V0RXJyb3J9IGlmIHRoZSBzb3VyY2UgZG9lcyBub3QgZW1pdCBiZWZvcmUgNyBzZWNvbmRzLCBfb3JfIGlmIHRoZSBzb3VyY2Ugd2FpdHMgbG9uZ2VyIHRoYW5cbiAqIDUgc2Vjb25kcyBiZXR3ZWVuIGFueSB0d28gdmFsdWVzIGFmdGVyIHRoZSBmaXJzdC5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdGltZXIsIHRpbWVvdXQsIGV4cGFuZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGdldFJhbmRvbVRpbWUgPSAoKSA9PiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMF8wMDApO1xuICpcbiAqIC8vIEFuIG9ic2VydmFibGUgdGhhdCB3YWl0cyBhIHJhbmRvbSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIGVhY2ggZGVsaXZlcmVkIHZhbHVlXG4gKiBjb25zdCBzb3VyY2UkID0gdGltZXIoZ2V0UmFuZG9tVGltZSgpKVxuICogICAucGlwZShleHBhbmQoKCkgPT4gdGltZXIoZ2V0UmFuZG9tVGltZSgpKSkpO1xuICpcbiAqIHNvdXJjZSRcbiAqICAgLnBpcGUodGltZW91dCh7IGZpcnN0OiA3XzAwMCwgZWFjaDogNV8wMDAgfSkpXG4gKiAgIC5zdWJzY3JpYmUoe1xuICogICAgIG5leHQ6IGNvbnNvbGUubG9nLFxuICogICAgIGVycm9yOiBjb25zb2xlLmVycm9yXG4gKiAgIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0PFQsIE0gPSB1bmtub3duPihjb25maWc6IE9taXQ8VGltZW91dENvbmZpZzxULCBhbnksIE0+LCAnd2l0aCc+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVycm9yIGlmIHRoZSBzb3VyY2UgZG9lcyBub3QgcHVzaCBpdHMgZmlyc3QgdmFsdWUgYmVmb3JlIHRoZSBzcGVjaWZpZWQgdGltZSBwYXNzZWQgYXMgYSBgRGF0ZWAuXG4gKiBUaGlzIGlzIGZ1bmN0aW9uYWxseSB0aGUgc2FtZSBhcyBgdGltZW91dCh7IGZpcnN0OiBzb21lRGF0ZSB9KWAuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkVycm9ycyBpZiB0aGUgZmlyc3QgdmFsdWUgZG9lc24ndCBzaG93IHVwIGJlZm9yZSB0aGUgZ2l2ZW4gZGF0ZSBhbmQgdGltZTwvc3Bhbj5cbiAqXG4gKiAhW10odGltZW91dC5wbmcpXG4gKlxuICogQHBhcmFtIGZpcnN0IFRoZSBkYXRlIHRvIGF0IHdoaWNoIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIHRpbWVvdXQgaWYgdGhlIHNvdXJjZSBvYnNlcnZhYmxlXG4gKiBkb2VzIG5vdCBlbWl0IGF0IGxlYXN0IG9uZSB2YWx1ZS5cbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHNjaGVkdWxlciB0byB1c2UuIERlZmF1bHRzIHRvIHtAbGluayBhc3luY1NjaGVkdWxlcn0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0PFQ+KGZpcnN0OiBEYXRlLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgZXJyb3IgaWYgdGhlIHNvdXJjZSBkb2VzIG5vdCBwdXNoIGEgdmFsdWUgd2l0aGluIHRoZSBzcGVjaWZpZWQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gKiBUaGlzIGlzIGZ1bmN0aW9uYWxseSB0aGUgc2FtZSBhcyBgdGltZW91dCh7IGVhY2g6IG1pbGxpc2Vjb25kcyB9KWAuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkVycm9ycyBpZiBpdCB3YWl0cyB0b28gbG9uZyBiZXR3ZWVuIGFueSB2YWx1ZTwvc3Bhbj5cbiAqXG4gKiAhW10odGltZW91dC5wbmcpXG4gKlxuICogQHBhcmFtIGVhY2ggVGhlIHRpbWUgYWxsb3dlZCBiZXR3ZWVuIGVhY2ggcHVzaGVkIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBiZWZvcmUgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlXG4gKiB3aWxsIHRpbWVvdXQuXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlLiBEZWZhdWx0cyB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dDxUPihlYWNoOiBudW1iZXIsIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICpcbiAqIEVycm9ycyBpZiBPYnNlcnZhYmxlIGRvZXMgbm90IGVtaXQgYSB2YWx1ZSBpbiBnaXZlbiB0aW1lIHNwYW4uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRpbWVvdXRzIG9uIE9ic2VydmFibGUgdGhhdCBkb2Vzbid0IGVtaXQgdmFsdWVzIGZhc3QgZW5vdWdoLjwvc3Bhbj5cbiAqXG4gKiAhW10odGltZW91dC5wbmcpXG4gKlxuICogQHNlZSB7QGxpbmsgdGltZW91dFdpdGh9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyBiZWhhdmlvdXIgb2YgdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSwgdW5sZXNzIHRpbWVvdXQgaGFwcGVucyB3aGVuIGl0IHRocm93cyBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXQ8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+LCBNPihcbiAgY29uZmlnOiBudW1iZXIgfCBEYXRlIHwgVGltZW91dENvbmZpZzxULCBPLCBNPixcbiAgc2NoZWR1bGVyQXJnPzogU2NoZWR1bGVyTGlrZVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PiB7XG4gIC8vIEludGVudGlvbmFsbHkgdGVyc2UgY29kZS5cbiAgLy8gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgdmFsaWQgYERhdGVgLCB0aGVuIHdlIHVzZSBpdCBhcyB0aGUgYGZpcnN0YCBjb25maWcuXG4gIC8vIE90aGVyd2lzZSwgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgYG51bWJlcmAsIHRoZW4gd2UgdXNlIGl0IGFzIHRoZSBgZWFjaGAgY29uZmlnLlxuICAvLyBPdGhlcndpc2UsIGl0IGNhbiBiZSBhc3N1bWVkIHRoZSBmaXJzdCBhcmd1bWVudCBpcyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgaXRzZWxmLCBhbmRcbiAgLy8gd2UgZGVzdHJ1Y3R1cmUgdGhhdCBpbnRvIHdoYXQgd2UncmUgZ29pbmcgdG8gdXNlLCBzZXR0aW5nIGltcG9ydGFudCBkZWZhdWx0cyBhcyB3ZSBkby5cbiAgLy8gTk9URTogVGhlIGRlZmF1bHQgZm9yIGBzY2hlZHVsZXJgIHdpbGwgYmUgdGhlIGBzY2hlZHVsZXJgIGFyZ3VtZW50IGlmIGl0IGV4aXN0cywgb3JcbiAgLy8gaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBgYXN5bmNTY2hlZHVsZXJgLlxuICBjb25zdCB7XG4gICAgZmlyc3QsXG4gICAgZWFjaCxcbiAgICB3aXRoOiBfd2l0aCA9IHRpbWVvdXRFcnJvckZhY3RvcnksXG4gICAgc2NoZWR1bGVyID0gc2NoZWR1bGVyQXJnID8/IGFzeW5jU2NoZWR1bGVyLFxuICAgIG1ldGEgPSBudWxsISxcbiAgfSA9IChpc1ZhbGlkRGF0ZShjb25maWcpID8geyBmaXJzdDogY29uZmlnIH0gOiB0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJyA/IHsgZWFjaDogY29uZmlnIH0gOiBjb25maWcpIGFzIFRpbWVvdXRDb25maWc8VCwgTywgTT47XG5cbiAgaWYgKGZpcnN0ID09IG51bGwgJiYgZWFjaCA9PSBudWxsKSB7XG4gICAgLy8gRW5zdXJlIHRpbWVvdXQgd2FzIHByb3ZpZGVkIGF0IHJ1bnRpbWUuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gdGltZW91dCBwcm92aWRlZC4nKTtcbiAgfVxuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGlzIHN1YnNjcmlwdGlvbiBlbmNhcHN1bGF0ZXMgb3VyIHN1YnNjcmlwdGlvbiB0byB0aGVcbiAgICAvLyBzb3VyY2UgZm9yIHRoaXMgb3BlcmF0b3IuIFdlJ3JlIGNhcHR1cmluZyBpdCBzZXBhcmF0ZWx5LFxuICAgIC8vIGJlY2F1c2UgaWYgdGhlcmUgaXMgYSBgd2l0aGAgb2JzZXJ2YWJsZSB0byBmYWlsIG92ZXIgdG8sXG4gICAgLy8gd2Ugd2FudCB0byB1bnN1YnNjcmliZSBmcm9tIG91ciBvcmlnaW5hbCBzdWJzY3JpcHRpb24sIGFuZFxuICAgIC8vIGhhbmQgb2YgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGF0IG9uZS5cbiAgICBsZXQgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgICAvLyBUaGUgc3Vic2NyaXB0aW9uIGZvciBvdXIgdGltZW91dCB0aW1lci4gVGhpcyBjaGFuZ2VzXG4gICAgLy8gZXZlcnkgdGltZSB3ZSBnZXQgYSBuZXcgdmFsdWUuXG4gICAgbGV0IHRpbWVyU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gICAgLy8gQSBiaXQgb2Ygc3RhdGUgd2UgcGFzcyB0byBvdXIgd2l0aCBhbmQgZXJyb3IgZmFjdG9yaWVzIHRvXG4gICAgLy8gdGVsbCB3aGF0IHRoZSBsYXN0IHZhbHVlIHdlIHNhdyB3YXMuXG4gICAgbGV0IGxhc3RWYWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICAgIC8vIEEgYml0IG9mIHN0YXRlIHdlIHBhc3MgdG8gdGhlIHdpdGggYW5kIGVycm9yIGZhY3RvcmllcyB0b1xuICAgIC8vIHRlbGwgaG93IG1hbnkgdmFsdWVzIHdlIGhhdmUgc2VlbiBzbyBmYXIuXG4gICAgbGV0IHNlZW4gPSAwO1xuICAgIGNvbnN0IHN0YXJ0VGltZXIgPSAoZGVsYXk6IG51bWJlcikgPT4ge1xuICAgICAgdGltZXJTdWJzY3JpcHRpb24gPSBleGVjdXRlU2NoZWR1bGUoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIHNjaGVkdWxlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaW5uZXJGcm9tKFxuICAgICAgICAgICAgICBfd2l0aCEoe1xuICAgICAgICAgICAgICAgIG1ldGEsXG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlLFxuICAgICAgICAgICAgICAgIHNlZW4sXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGF5XG4gICAgICApO1xuICAgIH07XG5cbiAgICBvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAgIC8vIGNsZWFyIHRoZSB0aW1lciBzbyB3ZSBjYW4gZW1pdCBhbmQgc3RhcnQgYW5vdGhlciBvbmUuXG4gICAgICAgICAgdGltZXJTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgc2VlbisrO1xuICAgICAgICAgIC8vIEVtaXRcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoKGxhc3RWYWx1ZSA9IHZhbHVlKSk7XG4gICAgICAgICAgLy8gbnVsbCB8IHVuZGVmaW5lZCBhcmUgYm90aCA8IDAuIFRoYW5rcywgSmF2YVNjcmlwdC5cbiAgICAgICAgICBlYWNoISA+IDAgJiYgc3RhcnRUaW1lcihlYWNoISk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aW1lclN1YnNjcmlwdGlvbj8uY2xvc2VkKSB7XG4gICAgICAgICAgICB0aW1lclN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQmUgc3VyZSBub3QgdG8gaG9sZCB0aGUgbGFzdCB2YWx1ZSBpbiBtZW1vcnkgYWZ0ZXIgdW5zdWJzY3JpcHRpb25cbiAgICAgICAgICAvLyBpdCBjb3VsZCBiZSBxdWl0ZSBsYXJnZS5cbiAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIEludGVudGlvbmFsbHkgdGVyc2UgY29kZS5cbiAgICAvLyBJZiB3ZSd2ZSBgc2VlbmAgYSB2YWx1ZSwgdGhhdCBtZWFucyB0aGUgXCJmaXJzdFwiIGNsYXVzZSB3YXMgbWV0IGFscmVhZHksIGlmIGl0IGV4aXN0ZWQuXG4gICAgLy8gICBpdCBhbHNvIG1lYW5zIHRoYXQgYSB0aW1lciB3YXMgYWxyZWFkeSBzdGFydGVkIGZvciBcImVhY2hcIiAoaW4gdGhlIG5leHQgaGFuZGxlciBhYm92ZSkuXG4gICAgLy8gSWYgYGZpcnN0YCB3YXMgcHJvdmlkZWQsIGFuZCBpdCdzIGEgbnVtYmVyLCB0aGVuIHVzZSBpdC5cbiAgICAvLyBJZiBgZmlyc3RgIHdhcyBwcm92aWRlZCBhbmQgaXQncyBub3QgYSBudW1iZXIsIGl0J3MgYSBEYXRlLCBhbmQgd2UgZ2V0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gaXQgYW5kIFwibm93XCIuXG4gICAgLy8gSWYgYGZpcnN0YCB3YXMgbm90IHByb3ZpZGVkIGF0IGFsbCwgdGhlbiBvdXIgZmlyc3QgdGltZXIgd2lsbCBiZSB0aGUgdmFsdWUgZnJvbSBgZWFjaGAuXG4gICAgIXNlZW4gJiYgc3RhcnRUaW1lcihmaXJzdCAhPSBudWxsID8gKHR5cGVvZiBmaXJzdCA9PT0gJ251bWJlcicgPyBmaXJzdCA6ICtmaXJzdCAtIHNjaGVkdWxlciEubm93KCkpIDogZWFjaCEpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBmdW5jdGlvbiB0byB1c2UgdG8gZW1pdCBhbiBlcnJvciB3aGVuIHRpbWVvdXQgb2NjdXJzIGFuZCBhIGB3aXRoYCBmdW5jdGlvblxuICogaXMgbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSBpbmZvIFRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdGltZW91dCB0byBwYXNzIGFsb25nIHRvIHRoZSBlcnJvclxuICovXG5mdW5jdGlvbiB0aW1lb3V0RXJyb3JGYWN0b3J5KGluZm86IFRpbWVvdXRJbmZvPGFueT4pOiBPYnNlcnZhYmxlPG5ldmVyPiB7XG4gIHRocm93IG5ldyBUaW1lb3V0RXJyb3IoaW5mbyk7XG59XG4iLCJpbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHRpbWVvdXQgfSBmcm9tICcuL3RpbWVvdXQnO1xuXG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgdGltZW91dH0uIEluc3RlYWQgb2YgYHRpbWVvdXRXaXRoKHNvbWVEYXRlLCBhJCwgc2NoZWR1bGVyKWAsIHVzZSB0aGUgY29uZmlndXJhdGlvbiBvYmplY3RcbiAqIGB0aW1lb3V0KHsgZmlyc3Q6IHNvbWVEYXRlLCB3aXRoOiAoKSA9PiBhJCwgc2NoZWR1bGVyIH0pYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXRXaXRoPFQsIFI+KGR1ZUJ5OiBEYXRlLCBzd2l0Y2hUbzogT2JzZXJ2YWJsZUlucHV0PFI+LCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgUj47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgdGltZW91dH0uIEluc3RlYWQgb2YgYHRpbWVvdXRXaXRoKDEwMCwgYSQsIHNjaGVkdWxlcilgLCB1c2UgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gKiAgYHRpbWVvdXQoeyBlYWNoOiAxMDAsIHdpdGg6ICgpID0+IGEkLCBzY2hlZHVsZXIgfSlgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dFdpdGg8VCwgUj4od2FpdEZvcjogbnVtYmVyLCBzd2l0Y2hUbzogT2JzZXJ2YWJsZUlucHV0PFI+LCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgUj47XG5cbi8qKlxuICogV2hlbiB0aGUgcGFzc2VkIHRpbWVzcGFuIGVsYXBzZXMgYmVmb3JlIHRoZSBzb3VyY2UgZW1pdHMgYW55IGdpdmVuIHZhbHVlLCBpdCB3aWxsIHVuc3Vic2NyaWJlIGZyb20gdGhlIHNvdXJjZSxcbiAqIGFuZCBzd2l0Y2ggdGhlIHN1YnNjcmlwdGlvbiB0byBhbm90aGVyIG9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZWQgdG8gc3dpdGNoIHRvIGEgZGlmZmVyZW50IG9ic2VydmFibGUgaWYgeW91ciBzb3VyY2UgaXMgYmVpbmcgc2xvdy48L3NwYW4+XG4gKlxuICogVXNlZnVsIGluIGNhc2VzIHdoZXJlOlxuICpcbiAqIC0gWW91IHdhbnQgdG8gc3dpdGNoIHRvIGEgZGlmZmVyZW50IHNvdXJjZSB0aGF0IG1heSBiZSBmYXN0ZXIuXG4gKiAtIFlvdSB3YW50IHRvIG5vdGlmeSBhIHVzZXIgdGhhdCB0aGUgZGF0YSBzdHJlYW0gaXMgc2xvdy5cbiAqIC0gWW91IHdhbnQgdG8gZW1pdCBhIGN1c3RvbSBlcnJvciByYXRoZXIgdGhhbiB0aGUge0BsaW5rIFRpbWVvdXRFcnJvcn0gZW1pdHRlZFxuICogICBieSB0aGUgZGVmYXVsdCB1c2FnZSBvZiB7QGxpbmsgdGltZW91dH0uXG4gKlxuICogSWYgdGhlIGZpcnN0IHBhcmFtZXRlciBpcyBwYXNzZWQgYXMgRGF0ZSBhbmQgdGhlIHRpbWUgb2YgdGhlIERhdGUgYXJyaXZlcyBiZWZvcmUgdGhlIGZpcnN0IHZhbHVlIGFycml2ZXMgZnJvbSB0aGUgc291cmNlLFxuICogaXQgd2lsbCB1bnN1YnNjcmliZSBmcm9tIHRoZSBzb3VyY2UgYW5kIHN3aXRjaCB0aGUgc3Vic2NyaXB0aW9uIHRvIGFub3RoZXIgb2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlIERhdGUgb2JqZWN0IHRvIHN3aXRjaCB0byBhIGRpZmZlcmVudCBvYnNlcnZhYmxlIGlmIHRoZSBmaXJzdCB2YWx1ZSBkb2Vzbid0IGFycml2ZSBieSBhIHNwZWNpZmljIHRpbWUuPC9zcGFuPlxuICpcbiAqIENhbiBiZSB1c2VkIHRvIHNldCBhIHRpbWVvdXQgb25seSBmb3IgdGhlIGZpcnN0IHZhbHVlLCBob3dldmVyIGl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSB7QGxpbmsgdGltZW91dH0gb3BlcmF0b3Igd2l0aFxuICogdGhlIGBmaXJzdGAgY29uZmlndXJhdGlvbiB0byBnZXQgdGhlIHNhbWUgZWZmZWN0LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRmFsbGJhY2sgdG8gYSBmYXN0ZXIgb2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGltZW91dFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzbG93JCA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgZmFzdGVyJCA9IGludGVydmFsKDUwMCk7XG4gKlxuICogc2xvdyRcbiAqICAgLnBpcGUodGltZW91dFdpdGgoOTAwLCBmYXN0ZXIkKSlcbiAqICAgLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBFbWl0IHlvdXIgb3duIGN1c3RvbSB0aW1lb3V0IGVycm9yXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0aW1lb3V0V2l0aCwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNsYXNzIEN1c3RvbVRpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgc3VwZXIoJ0l0IHdhcyB0b28gc2xvdycpO1xuICogICAgIHRoaXMubmFtZSA9ICdDdXN0b21UaW1lb3V0RXJyb3InO1xuICogICB9XG4gKiB9XG4gKlxuICogY29uc3Qgc2xvdyQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqXG4gKiBzbG93JFxuICogICAucGlwZSh0aW1lb3V0V2l0aCg5MDAsIHRocm93RXJyb3IoKCkgPT4gbmV3IEN1c3RvbVRpbWVvdXRFcnJvcigpKSkpXG4gKiAgIC5zdWJzY3JpYmUoe1xuICogICAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSlcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0aW1lb3V0fVxuICpcbiAqIEBwYXJhbSBkdWUgV2hlbiBwYXNzZWQgYSBudW1iZXIsIHVzZWQgYXMgdGhlIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgYWxsb3dlZCBiZXR3ZWVuIGVhY2ggdmFsdWUgZnJvbSB0aGUgc291cmNlIGJlZm9yZSB0aW1lb3V0XG4gKiBpcyB0cmlnZ2VyZWQuIFdoZW4gcGFzc2VkIGEgRGF0ZSwgdXNlZCBhcyB0aGUgZXhhY3QgdGltZSBhdCB3aGljaCB0aGUgdGltZW91dCB3aWxsIGJlIHRyaWdnZXJlZCBpZiB0aGUgZmlyc3QgdmFsdWUgZG9lcyBub3QgYXJyaXZlLlxuICogQHBhcmFtIHdpdGhPYnNlcnZhYmxlIFRoZSBvYnNlcnZhYmxlIHRvIHN3aXRjaCB0byB3aGVuIHRpbWVvdXQgb2NjdXJzLlxuICogQHBhcmFtIHNjaGVkdWxlciBUaGUgc2NoZWR1bGVyIHRvIHVzZSB3aXRoIHRpbWUtcmVsYXRlZCBvcGVyYXRpb25zIHdpdGhpbiB0aGlzIG9wZXJhdG9yLiBEZWZhdWx0cyB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9XG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIGJlaGF2aW91ciBvZiB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlLCB1bmxlc3MgdGltZW91dCBoYXBwZW5zIHdoZW4gaXQgc3RhcnRzIGVtaXR0aW5nIHZhbHVlc1xuICogZnJvbSB0aGUgYE9ic2VydmFibGVJbnB1dGAgcGFzc2VkIGFzIGEgc2Vjb25kIHBhcmFtZXRlci5cbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIHRpbWVvdXR9LiBJbnN0ZWFkIG9mIGB0aW1lb3V0V2l0aCgxMDAsIGEkLCBzY2hlZHVsZXIpYCwgdXNlIHtAbGluayB0aW1lb3V0fSB3aXRoIHRoZSBjb25maWd1cmF0aW9uXG4gKiBvYmplY3Q6IGB0aW1lb3V0KHsgZWFjaDogMTAwLCB3aXRoOiAoKSA9PiBhJCwgc2NoZWR1bGVyIH0pYC4gSW5zdGVhZCBvZiBgdGltZW91dFdpdGgoc29tZURhdGUsIGEkLCBzY2hlZHVsZXIpYCwgdXNlIHtAbGluayB0aW1lb3V0fVxuICogd2l0aCB0aGUgY29uZmlndXJhdGlvbiBvYmplY3Q6IGB0aW1lb3V0KHsgZmlyc3Q6IHNvbWVEYXRlLCB3aXRoOiAoKSA9PiBhJCwgc2NoZWR1bGVyIH0pYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dFdpdGg8VCwgUj4oXG4gIGR1ZTogbnVtYmVyIHwgRGF0ZSxcbiAgd2l0aE9ic2VydmFibGU6IE9ic2VydmFibGVJbnB1dDxSPixcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgUj4ge1xuICBsZXQgZmlyc3Q6IG51bWJlciB8IERhdGUgfCB1bmRlZmluZWQ7XG4gIGxldCBlYWNoOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGxldCBfd2l0aDogKCkgPT4gT2JzZXJ2YWJsZUlucHV0PFI+O1xuICBzY2hlZHVsZXIgPSBzY2hlZHVsZXIgPz8gYXN5bmM7XG5cbiAgaWYgKGlzVmFsaWREYXRlKGR1ZSkpIHtcbiAgICBmaXJzdCA9IGR1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZHVlID09PSAnbnVtYmVyJykge1xuICAgIGVhY2ggPSBkdWU7XG4gIH1cblxuICBpZiAod2l0aE9ic2VydmFibGUpIHtcbiAgICBfd2l0aCA9ICgpID0+IHdpdGhPYnNlcnZhYmxlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG9ic2VydmFibGUgcHJvdmlkZWQgdG8gc3dpdGNoIHRvJyk7XG4gIH1cblxuICBpZiAoZmlyc3QgPT0gbnVsbCAmJiBlYWNoID09IG51bGwpIHtcbiAgICAvLyBFbnN1cmUgdGltZW91dCB3YXMgcHJvdmlkZWQgYXQgcnVudGltZS5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyB0aW1lb3V0IHByb3ZpZGVkLicpO1xuICB9XG5cbiAgcmV0dXJuIHRpbWVvdXQ8VCwgT2JzZXJ2YWJsZUlucHV0PFI+Pih7XG4gICAgZmlyc3QsXG4gICAgZWFjaCxcbiAgICBzY2hlZHVsZXIsXG4gICAgd2l0aDogX3dpdGgsXG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgVGltZXN0YW1wUHJvdmlkZXIsIFRpbWVzdGFtcCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4uL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuXG4vKipcbiAqIEF0dGFjaGVzIGEgdGltZXN0YW1wIHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IGFuIG9ic2VydmFibGUgaW5kaWNhdGluZyB3aGVuIGl0IHdhcyBlbWl0dGVkXG4gKlxuICogVGhlIGB0aW1lc3RhbXBgIG9wZXJhdG9yIG1hcHMgdGhlICpzb3VyY2UqIG9ic2VydmFibGUgc3RyZWFtIHRvIGFuIG9iamVjdCBvZiB0eXBlXG4gKiBge3ZhbHVlOiBULCB0aW1lc3RhbXA6IFJ9YC4gVGhlIHByb3BlcnRpZXMgYXJlIGdlbmVyaWNhbGx5IHR5cGVkLiBUaGUgYHZhbHVlYCBwcm9wZXJ0eSBjb250YWlucyB0aGUgdmFsdWVcbiAqIGFuZCB0eXBlIG9mIHRoZSAqc291cmNlKiBvYnNlcnZhYmxlLiBUaGUgYHRpbWVzdGFtcGAgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBzY2hlZHVsZXJzIGBub3dgIGZ1bmN0aW9uLiBCeVxuICogZGVmYXVsdCwgaXQgdXNlcyB0aGUgYGFzeW5jU2NoZWR1bGVyYCB3aGljaCBzaW1wbHkgcmV0dXJucyBgRGF0ZS5ub3coKWAgKG1pbGxpc2Vjb25kcyBzaW5jZSAxOTcwLzAxLzAxXG4gKiAwMDowMDowMDowMDApIGFuZCB0aGVyZWZvcmUgaXMgb2YgdHlwZSBgbnVtYmVyYC5cbiAqXG4gKiAhW10odGltZXN0YW1wLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogSW4gdGhpcyBleGFtcGxlIHRoZXJlIGlzIGEgdGltZXN0YW1wIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudCdzIGNsaWNrIGV2ZW50c1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHRpbWVzdGFtcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrV2l0aFRpbWVzdGFtcCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJykucGlwZShcbiAqICAgdGltZXN0YW1wKClcbiAqICk7XG4gKlxuICogLy8gRW1pdHMgZGF0YSBvZiB0eXBlIHsgdmFsdWU6IFBvaW50ZXJFdmVudCwgdGltZXN0YW1wOiBudW1iZXIgfVxuICogY2xpY2tXaXRoVGltZXN0YW1wLnN1YnNjcmliZShkYXRhID0+IHtcbiAqICAgY29uc29sZS5sb2coZGF0YSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0aW1lc3RhbXBQcm92aWRlciBBbiBvYmplY3Qgd2l0aCBhIGBub3coKWAgbWV0aG9kIHVzZWQgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGF0dGFjaGVzIGEgdGltZXN0YW1wIHRvXG4gKiBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgaW5kaWNhdGluZyB3aGVuIGl0IHdhcyBlbWl0dGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZXN0YW1wPFQ+KHRpbWVzdGFtcFByb3ZpZGVyOiBUaW1lc3RhbXBQcm92aWRlciA9IGRhdGVUaW1lc3RhbXBQcm92aWRlcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVGltZXN0YW1wPFQ+PiB7XG4gIHJldHVybiBtYXAoKHZhbHVlOiBUKSA9PiAoeyB2YWx1ZSwgdGltZXN0YW1wOiB0aW1lc3RhbXBQcm92aWRlci5ub3coKSB9KSk7XG59XG4iLCJpbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbmNvbnN0IGFyclJlZHVjZXIgPSAoYXJyOiBhbnlbXSwgdmFsdWU6IGFueSkgPT4gKGFyci5wdXNoKHZhbHVlKSwgYXJyKTtcblxuLyoqXG4gKiBDb2xsZWN0cyBhbGwgc291cmNlIGVtaXNzaW9ucyBhbmQgZW1pdHMgdGhlbSBhcyBhbiBhcnJheSB3aGVuIHRoZSBzb3VyY2UgY29tcGxldGVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5HZXQgYWxsIHZhbHVlcyBpbnNpZGUgYW4gYXJyYXkgd2hlbiB0aGUgc291cmNlIGNvbXBsZXRlczwvc3Bhbj5cbiAqXG4gKiAhW10odG9BcnJheS5wbmcpXG4gKlxuICogYHRvQXJyYXlgIHdpbGwgd2FpdCB1bnRpbCB0aGUgc291cmNlIE9ic2VydmFibGUgY29tcGxldGVzIGJlZm9yZSBlbWl0dGluZ1xuICogdGhlIGFycmF5IGNvbnRhaW5pbmcgYWxsIGVtaXNzaW9ucy4gV2hlbiB0aGUgc291cmNlIE9ic2VydmFibGUgZXJyb3JzIG5vXG4gKiBhcnJheSB3aWxsIGJlIGVtaXR0ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgdG9BcnJheSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgZXhhbXBsZSA9IHNvdXJjZS5waXBlKFxuICogICB0YWtlKDEwKSxcbiAqICAgdG9BcnJheSgpXG4gKiApO1xuICpcbiAqIGV4YW1wbGUuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKlxuICogLy8gb3V0cHV0OiBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV1cbiAqIGBgYFxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGFuIGFycmF5IG9mIGl0ZW1zXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aGVuIHNvdXJjZSBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5PFQ+KCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPiB7XG4gIC8vIEJlY2F1c2UgYXJyYXlzIGFyZSBtdXRhYmxlLCBhbmQgd2UncmUgbXV0YXRpbmcgdGhlIGFycmF5IGluIHRoaXNcbiAgLy8gcmVkdWNlciBwcm9jZXNzLCB3ZSBoYXZlIHRvIGVuY2Fwc3VsYXRlIHRoZSBjcmVhdGlvbiBvZiB0aGUgaW5pdGlhbFxuICAvLyBhcnJheSB3aXRoaW4gdGhpcyBgb3BlcmF0ZWAgZnVuY3Rpb24uXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICByZWR1Y2UoYXJyUmVkdWNlciwgW10gYXMgVFtdKShzb3VyY2UpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKipcbiAqIEJyYW5jaCBvdXQgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyBhcyBhIG5lc3RlZCBPYnNlcnZhYmxlIHdoZW5ldmVyXG4gKiBgd2luZG93Qm91bmRhcmllc2AgZW1pdHMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgYnVmZmVyfSwgYnV0IGVtaXRzIGEgbmVzdGVkIE9ic2VydmFibGVcbiAqIGluc3RlYWQgb2YgYW4gYXJyYXkuPC9zcGFuPlxuICpcbiAqICFbXSh3aW5kb3cucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdpbmRvd3Mgb2YgaXRlbXMgaXQgY29sbGVjdHMgZnJvbSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLiBUaGUgb3V0cHV0IE9ic2VydmFibGUgZW1pdHMgY29ubmVjdGVkLCBub24tb3ZlcmxhcHBpbmdcbiAqIHdpbmRvd3MuIEl0IGVtaXRzIHRoZSBjdXJyZW50IHdpbmRvdyBhbmQgb3BlbnMgYSBuZXcgb25lIHdoZW5ldmVyIHRoZVxuICogYHdpbmRvd0JvdW5kYXJpZXNgIGVtaXRzIGFuIGl0ZW0uIGB3aW5kb3dCb3VuZGFyaWVzYCBjYW4gYmUgYW55IHR5cGUgdGhhdFxuICogYE9ic2VydmFibGVJbnB1dGAgYWNjZXB0cy4gSXQgaW50ZXJuYWxseSBnZXRzIGNvbnZlcnRlZCB0byBhbiBPYnNlcnZhYmxlLlxuICogQmVjYXVzZSBlYWNoIHdpbmRvdyBpcyBhbiBPYnNlcnZhYmxlLCB0aGUgb3V0cHV0IGlzIGEgaGlnaGVyLW9yZGVyIE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEluIGV2ZXJ5IHdpbmRvdyBvZiAxIHNlY29uZCBlYWNoLCBlbWl0IGF0IG1vc3QgMiBjbGljayBldmVudHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBpbnRlcnZhbCwgd2luZG93LCBtYXAsIHRha2UsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHNlYyA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIHdpbmRvdyhzZWMpLFxuICogICBtYXAod2luID0+IHdpbi5waXBlKHRha2UoMikpKSwgLy8gdGFrZSBhdCBtb3N0IDIgZW1pc3Npb25zIGZyb20gZWFjaCB3aW5kb3dcbiAqICAgbWVyZ2VBbGwoKSAgICAgICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gdGhlIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXNcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgd2luZG93Q291bnR9XG4gKiBAc2VlIHtAbGluayB3aW5kb3dUaW1lfVxuICogQHNlZSB7QGxpbmsgd2luZG93VG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgd2luZG93V2hlbn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcn1cbiAqXG4gKiBAcGFyYW0gd2luZG93Qm91bmRhcmllcyBBbiBgT2JzZXJ2YWJsZUlucHV0YCB0aGF0IGNvbXBsZXRlcyB0aGVcbiAqIHByZXZpb3VzIHdpbmRvdyBhbmQgc3RhcnRzIGEgbmV3IHdpbmRvdy5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiB3aW5kb3dzLCB3aGljaCBhcmVcbiAqIE9ic2VydmFibGVzIGVtaXR0aW5nIHZhbHVlcyBvZiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3c8VD4od2luZG93Qm91bmRhcmllczogT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmFibGU8VD4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCB3aW5kb3dTdWJqZWN0OiBTdWJqZWN0PFQ+ID0gbmV3IFN1YmplY3Q8VD4oKTtcblxuICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3dTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpKTtcblxuICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IChlcnI6IGFueSkgPT4ge1xuICAgICAgd2luZG93U3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgIH07XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gb3VyIHNvdXJjZVxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4gd2luZG93U3ViamVjdD8ubmV4dCh2YWx1ZSksXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB3aW5kb3dTdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvckhhbmRsZXJcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSB3aW5kb3cgYm91bmRhcmllcy5cbiAgICBpbm5lckZyb20od2luZG93Qm91bmRhcmllcykuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgd2luZG93U3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dCgod2luZG93U3ViamVjdCA9IG5ldyBTdWJqZWN0KCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgbm9vcCxcbiAgICAgICAgZXJyb3JIYW5kbGVyXG4gICAgICApXG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBVbnN1YnNjcmliaW5nIHRoZSBzdWJqZWN0IGVuc3VyZXMgdGhhdCBhbnlvbmUgd2hvIGhhcyBjYXB0dXJlZFxuICAgICAgLy8gYSByZWZlcmVuY2UgdG8gdGhpcyB3aW5kb3cgdGhhdCB0cmllcyB0byB1c2UgaXQgYWZ0ZXIgaXQgY2FuXG4gICAgICAvLyBubyBsb25nZXIgZ2V0IHZhbHVlcyBmcm9tIHRoZSBzb3VyY2Ugd2lsbCBnZXQgYW4gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuXG4gICAgICB3aW5kb3dTdWJqZWN0Py51bnN1YnNjcmliZSgpO1xuICAgICAgd2luZG93U3ViamVjdCA9IG51bGwhO1xuICAgIH07XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEJyYW5jaCBvdXQgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyBhcyBhIG5lc3RlZCBPYnNlcnZhYmxlIHdpdGggZWFjaFxuICogbmVzdGVkIE9ic2VydmFibGUgZW1pdHRpbmcgYXQgbW9zdCBgd2luZG93U2l6ZWAgdmFsdWVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGJ1ZmZlckNvdW50fSwgYnV0IGVtaXRzIGEgbmVzdGVkXG4gKiBPYnNlcnZhYmxlIGluc3RlYWQgb2YgYW4gYXJyYXkuPC9zcGFuPlxuICpcbiAqICFbXSh3aW5kb3dDb3VudC5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2luZG93cyBvZiBpdGVtcyBpdCBjb2xsZWN0cyBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBlbWl0cyB3aW5kb3dzIGV2ZXJ5IGBzdGFydFdpbmRvd0V2ZXJ5YFxuICogaXRlbXMsIGVhY2ggY29udGFpbmluZyBubyBtb3JlIHRoYW4gYHdpbmRvd1NpemVgIGl0ZW1zLiBXaGVuIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgY29tcGxldGVzIG9yIGVuY291bnRlcnMgYW4gZXJyb3IsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBlbWl0c1xuICogdGhlIGN1cnJlbnQgd2luZG93IGFuZCBwcm9wYWdhdGVzIHRoZSBub3RpZmljYXRpb24gZnJvbSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLiBJZiBgc3RhcnRXaW5kb3dFdmVyeWAgaXMgbm90IHByb3ZpZGVkLCB0aGVuIG5ldyB3aW5kb3dzIGFyZVxuICogc3RhcnRlZCBpbW1lZGlhdGVseSBhdCB0aGUgc3RhcnQgb2YgdGhlIHNvdXJjZSBhbmQgd2hlbiBlYWNoIHdpbmRvdyBjb21wbGV0ZXNcbiAqIHdpdGggc2l6ZSBgd2luZG93U2l6ZWAuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBJZ25vcmUgZXZlcnkgM3JkIGNsaWNrIGV2ZW50LCBzdGFydGluZyBmcm9tIHRoZSBmaXJzdCBvbmVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB3aW5kb3dDb3VudCwgbWFwLCBza2lwLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgd2luZG93Q291bnQoMyksXG4gKiAgIG1hcCh3aW4gPT4gd2luLnBpcGUoc2tpcCgxKSkpLCAvLyBza2lwIGZpcnN0IG9mIGV2ZXJ5IDMgY2xpY2tzXG4gKiAgIG1lcmdlQWxsKCkgICAgICAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIElnbm9yZSBldmVyeSAzcmQgY2xpY2sgZXZlbnQsIHN0YXJ0aW5nIGZyb20gdGhlIHRoaXJkIG9uZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHdpbmRvd0NvdW50LCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgd2luZG93Q291bnQoMiwgMyksXG4gKiAgIG1lcmdlQWxsKCkgLy8gZmxhdHRlbiB0aGUgT2JzZXJ2YWJsZS1vZi1PYnNlcnZhYmxlc1xuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB3aW5kb3d9XG4gKiBAc2VlIHtAbGluayB3aW5kb3dUaW1lfVxuICogQHNlZSB7QGxpbmsgd2luZG93VG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgd2luZG93V2hlbn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlckNvdW50fVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aW5kb3dTaXplIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2YWx1ZXMgZW1pdHRlZCBieSBlYWNoXG4gKiB3aW5kb3cuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0V2luZG93RXZlcnldIEludGVydmFsIGF0IHdoaWNoIHRvIHN0YXJ0IGEgbmV3IHdpbmRvdy5cbiAqIEZvciBleGFtcGxlIGlmIGBzdGFydFdpbmRvd0V2ZXJ5YCBpcyBgMmAsIHRoZW4gYSBuZXcgd2luZG93IHdpbGwgYmUgc3RhcnRlZFxuICogb24gZXZlcnkgb3RoZXIgdmFsdWUgZnJvbSB0aGUgc291cmNlLiBBIG5ldyB3aW5kb3cgaXMgc3RhcnRlZCBhdCB0aGVcbiAqIGJlZ2lubmluZyBvZiB0aGUgc291cmNlIGJ5IGRlZmF1bHQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2Ygd2luZG93cywgd2hpY2ggaW4gdHVybiBhcmVcbiAqIE9ic2VydmFibGUgb2YgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2luZG93Q291bnQ8VD4od2luZG93U2l6ZTogbnVtYmVyLCBzdGFydFdpbmRvd0V2ZXJ5OiBudW1iZXIgPSAwKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PiB7XG4gIGNvbnN0IHN0YXJ0RXZlcnkgPSBzdGFydFdpbmRvd0V2ZXJ5ID4gMCA/IHN0YXJ0V2luZG93RXZlcnkgOiB3aW5kb3dTaXplO1xuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgd2luZG93cyA9IFtuZXcgU3ViamVjdDxUPigpXTtcbiAgICBsZXQgc3RhcnRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAvLyBPcGVuIHRoZSBmaXJzdCB3aW5kb3cuXG4gICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvd3NbMF0uYXNPYnNlcnZhYmxlKCkpO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgICAgLy8gRW1pdCB0aGUgdmFsdWUgdGhyb3VnaCBhbGwgY3VycmVudCB3aW5kb3dzLlxuICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gY3JlYXRlIGEgbmV3IHdpbmRvdyB5ZXQsIHdlXG4gICAgICAgICAgLy8gZG8gdGhhdCBhcyBzb29uIGFzIHdlIGNsb3NlIG9uZS5cbiAgICAgICAgICBmb3IgKGNvbnN0IHdpbmRvdyBvZiB3aW5kb3dzKSB7XG4gICAgICAgICAgICB3aW5kb3cubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEhlcmUgd2UncmUgdXNpbmcgdGhlIHNpemUgb2YgdGhlIHdpbmRvdyBhcnJheSB0byBmaWd1cmVcbiAgICAgICAgICAvLyBvdXQgaWYgdGhlIG9sZGVzdCB3aW5kb3cgaGFzIGVtaXR0ZWQgZW5vdWdoIHZhbHVlcy4gV2UgY2FuIGRvIHRoaXNcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZSBzaXplIG9mIHRoZSB3aW5kb3cgYXJyYXkgaXMgYSBmdW5jdGlvbiBvZiB0aGUgdmFsdWVzXG4gICAgICAgICAgLy8gc2VlbiBieSB0aGUgc3Vic2NyaXB0aW9uLiBJZiBpdCdzIHRpbWUgdG8gY2xvc2UgaXQsIHdlIGNvbXBsZXRlXG4gICAgICAgICAgLy8gaXQgYW5kIHJlbW92ZSBpdC5cbiAgICAgICAgICBjb25zdCBjID0gY291bnQgLSB3aW5kb3dTaXplICsgMTtcbiAgICAgICAgICBpZiAoYyA+PSAwICYmIGMgJSBzdGFydEV2ZXJ5ID09PSAwKSB7XG4gICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkhLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTG9vayB0byBzZWUgaWYgdGhlIG5leHQgY291bnQgdGVsbHMgdXMgaXQncyB0aW1lIHRvIG9wZW4gYSBuZXcgd2luZG93LlxuICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gZmlndXJlIG91dCBpZiB0aGlzIHJlYWxseSBtYWtlcyBzZW5zZS4gV2UncmUgdGVjaG5pY2FsbHlcbiAgICAgICAgICAvLyBlbWl0dGluZyB3aW5kb3dzICpiZWZvcmUqIHdlIGhhdmUgYSB2YWx1ZSB0byBlbWl0IHRoZW0gZm9yLiBJdCdzIHByb2JhYmx5XG4gICAgICAgICAgLy8gbW9yZSBleHBlY3RlZCB0aGF0IHdlIHNob3VsZCBiZSBlbWl0dGluZyB0aGUgd2luZG93IHdoZW4gdGhlIHN0YXJ0XG4gICAgICAgICAgLy8gY291bnQgaXMgcmVhY2hlZCAtLSBub3QgYmVmb3JlLlxuICAgICAgICAgIGlmICgrK2NvdW50ICUgc3RhcnRFdmVyeSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgd2luZG93ID0gbmV3IFN1YmplY3Q8VD4oKTtcbiAgICAgICAgICAgIHdpbmRvd3MucHVzaCh3aW5kb3cpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvdy5hc09ic2VydmFibGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpIS5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICB3aGlsZSAod2luZG93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkhLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN0YXJ0cyA9IG51bGwhO1xuICAgICAgICAgIHdpbmRvd3MgPSBudWxsITtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmVyLCBPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuLi91dGlsL2FyclJlbW92ZSc7XG5pbXBvcnQgeyBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gd2luZG93VGltZTxUPih3aW5kb3dUaW1lU3BhbjogbnVtYmVyLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PjtcbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dUaW1lPFQ+KFxuICB3aW5kb3dUaW1lU3BhbjogbnVtYmVyLFxuICB3aW5kb3dDcmVhdGlvbkludGVydmFsOiBudW1iZXIsXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2YWJsZTxUPj47XG5leHBvcnQgZnVuY3Rpb24gd2luZG93VGltZTxUPihcbiAgd2luZG93VGltZVNwYW46IG51bWJlcixcbiAgd2luZG93Q3JlYXRpb25JbnRlcnZhbDogbnVtYmVyIHwgbnVsbCB8IHZvaWQsXG4gIG1heFdpbmRvd1NpemU6IG51bWJlcixcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PjtcblxuLyoqXG4gKiBCcmFuY2ggb3V0IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgYXMgYSBuZXN0ZWQgT2JzZXJ2YWJsZSBwZXJpb2RpY2FsbHlcbiAqIGluIHRpbWUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgYnVmZmVyVGltZX0sIGJ1dCBlbWl0cyBhIG5lc3RlZFxuICogT2JzZXJ2YWJsZSBpbnN0ZWFkIG9mIGFuIGFycmF5Ljwvc3Bhbj5cbiAqXG4gKiAhW10od2luZG93VGltZS5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2luZG93cyBvZiBpdGVtcyBpdCBjb2xsZWN0cyBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBzdGFydHMgYSBuZXcgd2luZG93IHBlcmlvZGljYWxseSwgYXNcbiAqIGRldGVybWluZWQgYnkgdGhlIGB3aW5kb3dDcmVhdGlvbkludGVydmFsYCBhcmd1bWVudC4gSXQgZW1pdHMgZWFjaCB3aW5kb3dcbiAqIGFmdGVyIGEgZml4ZWQgdGltZXNwYW4sIHNwZWNpZmllZCBieSB0aGUgYHdpbmRvd1RpbWVTcGFuYCBhcmd1bWVudC4gV2hlbiB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBvciBlbmNvdW50ZXJzIGFuIGVycm9yLCB0aGUgb3V0cHV0IE9ic2VydmFibGVcbiAqIGVtaXRzIHRoZSBjdXJyZW50IHdpbmRvdyBhbmQgcHJvcGFnYXRlcyB0aGUgbm90aWZpY2F0aW9uIGZyb20gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gSWYgYHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWxgIGlzIG5vdCBwcm92aWRlZCwgdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZSBzdGFydHMgYSBuZXcgd2luZG93IHdoZW4gdGhlIHByZXZpb3VzIHdpbmRvdyBvZiBkdXJhdGlvblxuICogYHdpbmRvd1RpbWVTcGFuYCBjb21wbGV0ZXMuIElmIGBtYXhXaW5kb3dDb3VudGAgaXMgcHJvdmlkZWQsIGVhY2ggd2luZG93XG4gKiB3aWxsIGVtaXQgYXQgbW9zdCBmaXhlZCBudW1iZXIgb2YgdmFsdWVzLiBXaW5kb3cgd2lsbCBjb21wbGV0ZSBpbW1lZGlhdGVseVxuICogYWZ0ZXIgZW1pdHRpbmcgbGFzdCB2YWx1ZSBhbmQgbmV4dCBvbmUgc3RpbGwgd2lsbCBvcGVuIGFzIHNwZWNpZmllZCBieVxuICogYHdpbmRvd1RpbWVTcGFuYCBhbmQgYHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWxgIGFyZ3VtZW50cy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEluIGV2ZXJ5IHdpbmRvdyBvZiAxIHNlY29uZCBlYWNoLCBlbWl0IGF0IG1vc3QgMiBjbGljayBldmVudHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB3aW5kb3dUaW1lLCBtYXAsIHRha2UsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3dUaW1lKDEwMDApLFxuICogICBtYXAod2luID0+IHdpbi5waXBlKHRha2UoMikpKSwgLy8gdGFrZSBhdCBtb3N0IDIgZW1pc3Npb25zIGZyb20gZWFjaCB3aW5kb3dcbiAqICAgbWVyZ2VBbGwoKSAgICAgICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gdGhlIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXNcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogRXZlcnkgNSBzZWNvbmRzIHN0YXJ0IGEgd2luZG93IDEgc2Vjb25kIGxvbmcsIGFuZCBlbWl0IGF0IG1vc3QgMiBjbGljayBldmVudHMgcGVyIHdpbmRvd1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHdpbmRvd1RpbWUsIG1hcCwgdGFrZSwgbWVyZ2VBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIHdpbmRvd1RpbWUoMTAwMCwgNTAwMCksXG4gKiAgIG1hcCh3aW4gPT4gd2luLnBpcGUodGFrZSgyKSkpLCAvLyB0YWtlIGF0IG1vc3QgMiBlbWlzc2lvbnMgZnJvbSBlYWNoIHdpbmRvd1xuICogICBtZXJnZUFsbCgpICAgICAgICAgICAgICAgICAgICAgLy8gZmxhdHRlbiB0aGUgT2JzZXJ2YWJsZS1vZi1PYnNlcnZhYmxlc1xuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBTYW1lIGFzIGV4YW1wbGUgYWJvdmUgYnV0IHdpdGggYG1heFdpbmRvd0NvdW50YCBpbnN0ZWFkIG9mIGB0YWtlYFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHdpbmRvd1RpbWUsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3dUaW1lKDEwMDAsIDUwMDAsIDIpLCAvLyB0YWtlIGF0IG1vc3QgMiBlbWlzc2lvbnMgZnJvbSBlYWNoIHdpbmRvd1xuICogICBtZXJnZUFsbCgpICAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHdpbmRvd31cbiAqIEBzZWUge0BsaW5rIHdpbmRvd0NvdW50fVxuICogQHNlZSB7QGxpbmsgd2luZG93VG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgd2luZG93V2hlbn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlclRpbWV9XG4gKlxuICogQHBhcmFtIHdpbmRvd1RpbWVTcGFuIFRoZSBhbW91bnQgb2YgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0byBmaWxsIGVhY2ggd2luZG93LlxuICogQHBhcmFtIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgVGhlIGludGVydmFsIGF0IHdoaWNoIHRvIHN0YXJ0IG5ld1xuICogd2luZG93cy5cbiAqIEBwYXJhbSBtYXhXaW5kb3dTaXplIE1heCBudW1iZXIgb2ZcbiAqIHZhbHVlcyBlYWNoIHdpbmRvdyBjYW4gZW1pdCBiZWZvcmUgY29tcGxldGlvbi5cbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHNjaGVkdWxlciBvbiB3aGljaCB0byBzY2hlZHVsZSB0aGVcbiAqIGludGVydmFscyB0aGF0IGRldGVybWluZSB3aW5kb3cgYm91bmRhcmllcy5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiB3aW5kb3dzLCB3aGljaCBpbiB0dXJuIGFyZVxuICogT2JzZXJ2YWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dUaW1lPFQ+KHdpbmRvd1RpbWVTcGFuOiBudW1iZXIsIC4uLm90aGVyQXJnczogYW55W10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmFibGU8VD4+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKG90aGVyQXJncykgPz8gYXN5bmNTY2hlZHVsZXI7XG4gIGNvbnN0IHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPSAob3RoZXJBcmdzWzBdIGFzIG51bWJlcikgPz8gbnVsbDtcbiAgY29uc3QgbWF4V2luZG93U2l6ZSA9IChvdGhlckFyZ3NbMV0gYXMgbnVtYmVyKSB8fCBJbmZpbml0eTtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGFjdGl2ZSB3aW5kb3dzLCB0aGVpciByZWxhdGVkIHN1YnNjcmlwdGlvbnMsIGFuZCByZW1vdmFsIGZ1bmN0aW9ucy5cbiAgICBsZXQgd2luZG93UmVjb3JkczogV2luZG93UmVjb3JkPFQ+W10gfCBudWxsID0gW107XG4gICAgLy8gSWYgdHJ1ZSwgaXQgbWVhbnMgdGhhdCBldmVyeSB0aW1lIHdlIGNsb3NlIGEgd2luZG93LCB3ZSB3YW50IHRvIHN0YXJ0IGEgbmV3IHdpbmRvdy5cbiAgICAvLyBUaGlzIGlzIG9ubHkgcmVhbGx5IHVzZWQgZm9yIHdoZW4gKmp1c3QqIHRoZSB0aW1lIHNwYW4gaXMgcGFzc2VkLlxuICAgIGxldCByZXN0YXJ0T25DbG9zZSA9IGZhbHNlO1xuXG4gICAgY29uc3QgY2xvc2VXaW5kb3cgPSAocmVjb3JkOiB7IHdpbmRvdzogU3ViamVjdDxUPjsgc3ViczogU3Vic2NyaXB0aW9uIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgd2luZG93LCBzdWJzIH0gPSByZWNvcmQ7XG4gICAgICB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgIHN1YnMudW5zdWJzY3JpYmUoKTtcbiAgICAgIGFyclJlbW92ZSh3aW5kb3dSZWNvcmRzLCByZWNvcmQpO1xuICAgICAgcmVzdGFydE9uQ2xvc2UgJiYgc3RhcnRXaW5kb3coKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGV2ZXJ5IHRpbWUgd2Ugc3RhcnQgYSBuZXcgd2luZG93LiBUaGlzIGFsc28gZG9lc1xuICAgICAqIHRoZSB3b3JrIG9mIHNjaGVkdWxpbmcgdGhlIGpvYiB0byBjbG9zZSB0aGUgd2luZG93LlxuICAgICAqL1xuICAgIGNvbnN0IHN0YXJ0V2luZG93ID0gKCkgPT4ge1xuICAgICAgaWYgKHdpbmRvd1JlY29yZHMpIHtcbiAgICAgICAgY29uc3Qgc3VicyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc3Vicyk7XG4gICAgICAgIGNvbnN0IHdpbmRvdyA9IG5ldyBTdWJqZWN0PFQ+KCk7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHtcbiAgICAgICAgICB3aW5kb3csXG4gICAgICAgICAgc3VicyxcbiAgICAgICAgICBzZWVuOiAwLFxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3dSZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvdy5hc09ic2VydmFibGUoKSk7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzLCBzY2hlZHVsZXIsICgpID0+IGNsb3NlV2luZG93KHJlY29yZCksIHdpbmRvd1RpbWVTcGFuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgIT09IG51bGwgJiYgd2luZG93Q3JlYXRpb25JbnRlcnZhbCA+PSAwKSB7XG4gICAgICAvLyBUaGUgdXNlciBwYXNzZWQgYm90aCBhIHdpbmRvd1RpbWVTcGFuIChyZXF1aXJlZCksIGFuZCBhIGNyZWF0aW9uIGludGVydmFsXG4gICAgICAvLyBUaGF0IG1lYW5zIHdlIG5lZWQgdG8gc3RhcnQgbmV3IHdpbmRvdyBvbiB0aGUgaW50ZXJ2YWwsIGFuZCB0aG9zZSB3aW5kb3dzIG5lZWRcbiAgICAgIC8vIHRvIHdhaXQgdGhlIHJlcXVpcmVkIHRpbWUgc3BhbiBiZWZvcmUgY29tcGxldGluZy5cbiAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIHN0YXJ0V2luZG93LCB3aW5kb3dDcmVhdGlvbkludGVydmFsLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdGFydE9uQ2xvc2UgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0YXJ0V2luZG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBXZSBuZWVkIHRvIGxvb3Agb3ZlciBhIGNvcHkgb2YgdGhlIHdpbmRvdyByZWNvcmRzIHNldmVyYWwgdGltZXMgaW4gdGhpcyBvcGVyYXRvci5cbiAgICAgKiBUaGlzIGlzIHRvIHNhdmUgYnl0ZXMgb3ZlciB0aGUgd2lyZSBtb3JlIHRoYW4gYW55dGhpbmcuXG4gICAgICogVGhlIHJlYXNvbiB3ZSBjb3B5IHRoZSBhcnJheSBpcyB0aGF0IHJlZW50cmFudCBjb2RlIGNvdWxkIG11dGF0ZSB0aGUgYXJyYXkgd2hpbGVcbiAgICAgKiB3ZSBhcmUgaXRlcmF0aW5nIG92ZXIgaXQuXG4gICAgICovXG4gICAgY29uc3QgbG9vcCA9IChjYjogKHJlY29yZDogV2luZG93UmVjb3JkPFQ+KSA9PiB2b2lkKSA9PiB3aW5kb3dSZWNvcmRzIS5zbGljZSgpLmZvckVhY2goY2IpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBub3RpZnkgYWxsIG9mIHRoZSB3aW5kb3dzIGFuZCB0aGUgc3Vic2NyaWJlciBpbiB0aGUgc2FtZSB3YXlcbiAgICAgKiBpbiB0aGUgZXJyb3IgYW5kIGNvbXBsZXRlIGhhbmRsZXJzLlxuICAgICAqL1xuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChjYjogKGNvbnN1bWVyOiBPYnNlcnZlcjxhbnk+KSA9PiB2b2lkKSA9PiB7XG4gICAgICBsb29wKCh7IHdpbmRvdyB9KSA9PiBjYih3aW5kb3cpKTtcbiAgICAgIGNiKHN1YnNjcmliZXIpO1xuICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgICAvLyBOb3RpZnkgYWxsIHdpbmRvd3Mgb2YgdGhlIHZhbHVlLlxuICAgICAgICAgIGxvb3AoKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgcmVjb3JkLndpbmRvdy5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB3aW5kb3cgaXMgb3ZlciB0aGUgbWF4IHNpemUsIHdlIG5lZWQgdG8gY2xvc2UgaXQuXG4gICAgICAgICAgICBtYXhXaW5kb3dTaXplIDw9ICsrcmVjb3JkLnNlZW4gJiYgY2xvc2VXaW5kb3cocmVjb3JkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gQ29tcGxldGUgdGhlIHdpbmRvd3MgYW5kIHRoZSBkb3duc3RyZWFtIHN1YnNjcmliZXIgYW5kIGNsZWFuIHVwLlxuICAgICAgICAoKSA9PiB0ZXJtaW5hdGUoKGNvbnN1bWVyKSA9PiBjb25zdW1lci5jb21wbGV0ZSgpKSxcbiAgICAgICAgLy8gTm90aWZ5IHRoZSB3aW5kb3dzIGFuZCB0aGUgZG93bnN0cmVhbSBzdWJzY3JpYmVyIG9mIHRoZSBlcnJvciBhbmQgY2xlYW4gdXAuXG4gICAgICAgIChlcnIpID0+IHRlcm1pbmF0ZSgoY29uc3VtZXIpID0+IGNvbnN1bWVyLmVycm9yKGVycikpXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIEFkZGl0aW9uYWwgZmluYWxpemF0aW9uLiBUaGlzIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlXG4gICAgLy8gZGVzdGluYXRpb24gdGVhcnMgZG93bi4gT3RoZXIgZmluYWxpemF0aW9ucyBhcmUgcmVnaXN0ZXJlZCBpbXBsaWNpdGx5XG4gICAgLy8gYWJvdmUgdmlhIHN1YnNjcmlwdGlvbi5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGJ1ZmZlciBpcyByZWxlYXNlZC5cbiAgICAgIHdpbmRvd1JlY29yZHMgPSBudWxsITtcbiAgICB9O1xuICB9KTtcbn1cblxuaW50ZXJmYWNlIFdpbmRvd1JlY29yZDxUPiB7XG4gIHNlZW46IG51bWJlcjtcbiAgd2luZG93OiBTdWJqZWN0PFQ+O1xuICBzdWJzOiBTdWJzY3JpcHRpb247XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4uL3V0aWwvYXJyUmVtb3ZlJztcblxuLyoqXG4gKiBCcmFuY2ggb3V0IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgYXMgYSBuZXN0ZWQgT2JzZXJ2YWJsZSBzdGFydGluZyBmcm9tXG4gKiBhbiBlbWlzc2lvbiBmcm9tIGBvcGVuaW5nc2AgYW5kIGVuZGluZyB3aGVuIHRoZSBvdXRwdXQgb2YgYGNsb3NpbmdTZWxlY3RvcmBcbiAqIGVtaXRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGJ1ZmZlclRvZ2dsZX0sIGJ1dCBlbWl0cyBhIG5lc3RlZFxuICogT2JzZXJ2YWJsZSBpbnN0ZWFkIG9mIGFuIGFycmF5Ljwvc3Bhbj5cbiAqXG4gKiAhW10od2luZG93VG9nZ2xlLnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB3aW5kb3dzIG9mIGl0ZW1zIGl0IGNvbGxlY3RzIGZyb20gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gVGhlIG91dHB1dCBPYnNlcnZhYmxlIGVtaXRzIHdpbmRvd3MgdGhhdCBjb250YWluIHRob3NlIGl0ZW1zXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBiZXR3ZWVuIHRoZSB0aW1lIHdoZW4gdGhlIGBvcGVuaW5nc2BcbiAqIE9ic2VydmFibGUgZW1pdHMgYW4gaXRlbSBhbmQgd2hlbiB0aGUgT2JzZXJ2YWJsZSByZXR1cm5lZCBieVxuICogYGNsb3NpbmdTZWxlY3RvcmAgZW1pdHMgYW4gaXRlbS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRXZlcnkgb3RoZXIgc2Vjb25kLCBlbWl0IHRoZSBjbGljayBldmVudHMgZnJvbSB0aGUgbmV4dCA1MDBtc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGludGVydmFsLCB3aW5kb3dUb2dnbGUsIEVNUFRZLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBvcGVuaW5ncyA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIHdpbmRvd1RvZ2dsZShvcGVuaW5ncywgaSA9PiBpICUgMiA/IGludGVydmFsKDUwMCkgOiBFTVBUWSksXG4gKiAgIG1lcmdlQWxsKClcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgd2luZG93fVxuICogQHNlZSB7QGxpbmsgd2luZG93Q291bnR9XG4gKiBAc2VlIHtAbGluayB3aW5kb3dUaW1lfVxuICogQHNlZSB7QGxpbmsgd2luZG93V2hlbn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlclRvZ2dsZX1cbiAqXG4gKiBAcGFyYW0ge09ic2VydmFibGU8Tz59IG9wZW5pbmdzIEFuIG9ic2VydmFibGUgb2Ygbm90aWZpY2F0aW9ucyB0byBzdGFydCBuZXdcbiAqIHdpbmRvd3MuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBPKTogT2JzZXJ2YWJsZX0gY2xvc2luZ1NlbGVjdG9yIEEgZnVuY3Rpb24gdGhhdCB0YWtlc1xuICogdGhlIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIGBvcGVuaW5nc2Agb2JzZXJ2YWJsZSBhbmQgcmV0dXJucyBhbiBPYnNlcnZhYmxlLFxuICogd2hpY2gsIHdoZW4gaXQgZW1pdHMgYSBuZXh0IG5vdGlmaWNhdGlvbiwgc2lnbmFscyB0aGF0IHRoZVxuICogYXNzb2NpYXRlZCB3aW5kb3cgc2hvdWxkIGNvbXBsZXRlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHdpbmRvd3MsIHdoaWNoIGluIHR1cm4gYXJlXG4gKiBPYnNlcnZhYmxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd1RvZ2dsZTxULCBPPihcbiAgb3BlbmluZ3M6IE9ic2VydmFibGVJbnB1dDxPPixcbiAgY2xvc2luZ1NlbGVjdG9yOiAob3BlblZhbHVlOiBPKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCB3aW5kb3dzOiBTdWJqZWN0PFQ+W10gPSBbXTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycjogYW55KSA9PiB7XG4gICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgIHdpbmRvd3Muc2hpZnQoKSEuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICB9O1xuXG4gICAgaW5uZXJGcm9tKG9wZW5pbmdzKS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIChvcGVuVmFsdWUpID0+IHtcbiAgICAgICAgICBjb25zdCB3aW5kb3cgPSBuZXcgU3ViamVjdDxUPigpO1xuICAgICAgICAgIHdpbmRvd3MucHVzaCh3aW5kb3cpO1xuICAgICAgICAgIGNvbnN0IGNsb3NpbmdTdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgY29uc3QgY2xvc2VXaW5kb3cgPSAoKSA9PiB7XG4gICAgICAgICAgICBhcnJSZW1vdmUod2luZG93cywgd2luZG93KTtcbiAgICAgICAgICAgIHdpbmRvdy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBsZXQgY2xvc2luZ05vdGlmaWVyOiBPYnNlcnZhYmxlPGFueT47XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNsb3NpbmdOb3RpZmllciA9IGlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3Iob3BlblZhbHVlKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3cuYXNPYnNlcnZhYmxlKCkpO1xuXG4gICAgICAgICAgY2xvc2luZ1N1YnNjcmlwdGlvbi5hZGQoY2xvc2luZ05vdGlmaWVyLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgY2xvc2VXaW5kb3csIG5vb3AsIGhhbmRsZUVycm9yKSkpO1xuICAgICAgICB9LFxuICAgICAgICBub29wXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlIHRvIGdldCB0aGluZ3Mgc3RhcnRlZC5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgICAvLyBDb3B5IHRoZSB3aW5kb3dzIGFycmF5IGJlZm9yZSB3ZSBlbWl0IHRvXG4gICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgaXNzdWVzIHdpdGggcmVlbnRyYW50IGNvZGUuXG4gICAgICAgICAgY29uc3Qgd2luZG93c0NvcHkgPSB3aW5kb3dzLnNsaWNlKCk7XG4gICAgICAgICAgZm9yIChjb25zdCB3aW5kb3cgb2Ygd2luZG93c0NvcHkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5uZXh0KHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBDb21wbGV0ZSBhbGwgb2Ygb3VyIHdpbmRvd3MgYmVmb3JlIHdlIGNvbXBsZXRlLlxuICAgICAgICAgIHdoaWxlICgwIDwgd2luZG93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKSEuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVFcnJvcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIEFkZCB0aGlzIGZpbmFsaXphdGlvbiBzbyB0aGF0IGFsbCB3aW5kb3cgc3ViamVjdHMgYXJlXG4gICAgICAgICAgLy8gZGlzcG9zZWQgb2YuIFRoaXMgd2F5LCBpZiBhIHVzZXIgdHJpZXMgdG8gc3Vic2NyaWJlXG4gICAgICAgICAgLy8gdG8gYSB3aW5kb3cgKmFmdGVyKiB0aGUgb3V0ZXIgc3Vic2NyaXB0aW9uIGhhcyBiZWVuIHVuc3Vic2NyaWJlZCxcbiAgICAgICAgICAvLyB0aGV5IHdpbGwgZ2V0IGFuIGVycm9yLCBpbnN0ZWFkIG9mIHdhaXRpbmcgZm9yZXZlciB0b1xuICAgICAgICAgIC8vIHNlZSBpZiBhIHZhbHVlIGFycml2ZXMuXG4gICAgICAgICAgd2hpbGUgKDAgPCB3aW5kb3dzLmxlbmd0aCkge1xuICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpIS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKlxuICogQnJhbmNoIG91dCB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIGFzIGEgbmVzdGVkIE9ic2VydmFibGUgdXNpbmcgYVxuICogZmFjdG9yeSBmdW5jdGlvbiBvZiBjbG9zaW5nIE9ic2VydmFibGVzIHRvIGRldGVybWluZSB3aGVuIHRvIHN0YXJ0IGEgbmV3XG4gKiB3aW5kb3cuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgYnVmZmVyV2hlbn0sIGJ1dCBlbWl0cyBhIG5lc3RlZFxuICogT2JzZXJ2YWJsZSBpbnN0ZWFkIG9mIGFuIGFycmF5Ljwvc3Bhbj5cbiAqXG4gKiAhW10od2luZG93V2hlbi5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2luZG93cyBvZiBpdGVtcyBpdCBjb2xsZWN0cyBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBlbWl0cyBjb25uZWN0ZWQsIG5vbi1vdmVybGFwcGluZyB3aW5kb3dzLlxuICogSXQgZW1pdHMgdGhlIGN1cnJlbnQgd2luZG93IGFuZCBvcGVucyBhIG5ldyBvbmUgd2hlbmV2ZXIgdGhlIE9ic2VydmFibGVcbiAqIHByb2R1Y2VkIGJ5IHRoZSBzcGVjaWZpZWQgYGNsb3NpbmdTZWxlY3RvcmAgZnVuY3Rpb24gZW1pdHMgYW4gaXRlbS4gVGhlIGZpcnN0XG4gKiB3aW5kb3cgaXMgb3BlbmVkIGltbWVkaWF0ZWx5IHdoZW4gc3Vic2NyaWJpbmcgdG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IG9ubHkgdGhlIGZpcnN0IHR3byBjbGlja3MgZXZlbnRzIGluIGV2ZXJ5IHdpbmRvdyBvZiBbMS01XSByYW5kb20gc2Vjb25kc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHdpbmRvd1doZW4sIGludGVydmFsLCBtYXAsIHRha2UsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3dXaGVuKCgpID0+IGludGVydmFsKDEwMDAgKyBNYXRoLnJhbmRvbSgpICogNDAwMCkpLFxuICogICBtYXAod2luID0+IHdpbi5waXBlKHRha2UoMikpKSwgLy8gdGFrZSBhdCBtb3N0IDIgZW1pc3Npb25zIGZyb20gZWFjaCB3aW5kb3dcbiAqICAgbWVyZ2VBbGwoKSAgICAgICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gdGhlIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXNcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgd2luZG93fVxuICogQHNlZSB7QGxpbmsgd2luZG93Q291bnR9XG4gKiBAc2VlIHtAbGluayB3aW5kb3dUaW1lfVxuICogQHNlZSB7QGxpbmsgd2luZG93VG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyV2hlbn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IE9ic2VydmFibGV9IGNsb3NpbmdTZWxlY3RvciBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm9cbiAqIGFyZ3VtZW50cyBhbmQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgc2lnbmFscyAob24gZWl0aGVyIGBuZXh0YCBvclxuICogYGNvbXBsZXRlYCkgd2hlbiB0byBjbG9zZSB0aGUgcHJldmlvdXMgd2luZG93IGFuZCBzdGFydCBhIG5ldyBvbmUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2Ygd2luZG93cywgd2hpY2ggaW4gdHVybiBhcmVcbiAqIE9ic2VydmFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2luZG93V2hlbjxUPihjbG9zaW5nU2VsZWN0b3I6ICgpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgd2luZG93OiBTdWJqZWN0PFQ+IHwgbnVsbDtcbiAgICBsZXQgY2xvc2luZ1N1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55PiB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gd2UgZ2V0IGFuIGVycm9yLCB3ZSBoYXZlIHRvIG5vdGlmeSBib3RoIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIHN1YnNjcmliZXIgYW5kIHRoZSB3aW5kb3cuXG4gICAgICovXG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyOiBhbnkpID0+IHtcbiAgICAgIHdpbmRvdyEuZXJyb3IoZXJyKTtcbiAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGV2ZXJ5IHRpbWUgd2UgbmVlZCB0byBvcGVuIGEgd2luZG93LlxuICAgICAqIFJlY3Vyc2l2ZSwgYXMgaXQgd2lsbCBzdGFydCB0aGUgY2xvc2luZyBub3RpZmllciwgd2hpY2hcbiAgICAgKiBpbmV2aXRhYmx5ICpzaG91bGQqIGNhbGwgb3BlbldpbmRvdyAtLSBidXQgbWF5IG5vdCBpZlxuICAgICAqIGl0IGlzIGEgXCJuZXZlclwiIG9ic2VydmFibGUuXG4gICAgICovXG4gICAgY29uc3Qgb3BlbldpbmRvdyA9ICgpID0+IHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gY2xlYW4gdXAgb3VyIGNsb3Npbmcgc3Vic2NyaXB0aW9uLFxuICAgICAgLy8gd2Ugb25seSBjYXJlZCBhYm91dCB0aGUgZmlyc3QgbmV4dCBvciBjb21wbGV0ZSBub3RpZmljYXRpb24uXG4gICAgICBjbG9zaW5nU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcblxuICAgICAgLy8gQ2xvc2Ugb3VyIHdpbmRvdyBiZWZvcmUgc3RhcnRpbmcgYSBuZXcgb25lLlxuICAgICAgd2luZG93Py5jb21wbGV0ZSgpO1xuXG4gICAgICAvLyBTdGFydCB0aGUgbmV3IHdpbmRvdy5cbiAgICAgIHdpbmRvdyA9IG5ldyBTdWJqZWN0PFQ+KCk7XG4gICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93LmFzT2JzZXJ2YWJsZSgpKTtcblxuICAgICAgLy8gR2V0IG91ciBjbG9zaW5nIG5vdGlmaWVyLlxuICAgICAgbGV0IGNsb3NpbmdOb3RpZmllcjogT2JzZXJ2YWJsZTxhbnk+O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2xvc2luZ05vdGlmaWVyID0gaW5uZXJGcm9tKGNsb3NpbmdTZWxlY3RvcigpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgY2xvc2luZyBub3RpZmllciwgYmUgc3VyZVxuICAgICAgLy8gdG8gY2FwdHVyZSB0aGUgc3Vic2NyaWJlciAoYWthIFN1YnNjcmlwdGlvbilcbiAgICAgIC8vIHNvIHdlIGNhbiBjbGVhbiBpdCB1cCB3aGVuIHdlIGNsb3NlIHRoZSB3aW5kb3dcbiAgICAgIC8vIGFuZCBvcGVuIGEgbmV3IG9uZS5cbiAgICAgIGNsb3NpbmdOb3RpZmllci5zdWJzY3JpYmUoKGNsb3NpbmdTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG9wZW5XaW5kb3csIG9wZW5XaW5kb3csIGhhbmRsZUVycm9yKSkpO1xuICAgIH07XG5cbiAgICAvLyBTdGFydCB0aGUgZmlyc3Qgd2luZG93LlxuICAgIG9wZW5XaW5kb3coKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB3aW5kb3chLm5leHQodmFsdWUpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gVGhlIHNvdXJjZSBjb21wbGV0ZWQsIGNsb3NlIHRoZSB3aW5kb3cgYW5kIGNvbXBsZXRlLlxuICAgICAgICAgIHdpbmRvdyEuY29tcGxldGUoKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZUVycm9yLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gQmUgc3VyZSB0byBjbGVhbiB1cCBvdXIgY2xvc2luZyBzdWJzY3JpcHRpb25cbiAgICAgICAgICAvLyB3aGVuIHRoaXMgdGVhcnMgZG93bi5cbiAgICAgICAgICBjbG9zaW5nU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB3aW5kb3cgPSBudWxsITtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0VHVwbGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tPFQsIE8gZXh0ZW5kcyB1bmtub3duW10+KC4uLmlucHV0czogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPE8+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgW1QsIC4uLk9dPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tPFQsIE8gZXh0ZW5kcyB1bmtub3duW10sIFI+KFxuICAuLi5pbnB1dHM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxPPiwgKC4uLnZhbHVlOiBbVCwgLi4uT10pID0+IFJdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuXG4vKipcbiAqIENvbWJpbmVzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIG90aGVyIE9ic2VydmFibGVzIHRvIGNyZWF0ZSBhbiBPYnNlcnZhYmxlXG4gKiB3aG9zZSB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgbGF0ZXN0IHZhbHVlcyBvZiBlYWNoLCBvbmx5IHdoZW4gdGhlXG4gKiBzb3VyY2UgZW1pdHMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPldoZW5ldmVyIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLCBpdFxuICogY29tcHV0ZXMgYSBmb3JtdWxhIHVzaW5nIHRoYXQgdmFsdWUgcGx1cyB0aGUgbGF0ZXN0IHZhbHVlcyBmcm9tIG90aGVyIGlucHV0XG4gKiBPYnNlcnZhYmxlcywgdGhlbiBlbWl0cyB0aGUgb3V0cHV0IG9mIHRoYXQgZm9ybXVsYS48L3NwYW4+XG4gKlxuICogIVtdKHdpdGhMYXRlc3RGcm9tLnBuZylcbiAqXG4gKiBgd2l0aExhdGVzdEZyb21gIGNvbWJpbmVzIGVhY2ggdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgKHRoZVxuICogaW5zdGFuY2UpIHdpdGggdGhlIGxhdGVzdCB2YWx1ZXMgZnJvbSB0aGUgb3RoZXIgaW5wdXQgT2JzZXJ2YWJsZXMgb25seSB3aGVuXG4gKiB0aGUgc291cmNlIGVtaXRzIGEgdmFsdWUsIG9wdGlvbmFsbHkgdXNpbmcgYSBgcHJvamVjdGAgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lXG4gKiB0aGUgdmFsdWUgdG8gYmUgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuIEFsbCBpbnB1dCBPYnNlcnZhYmxlcyBtdXN0XG4gKiBlbWl0IGF0IGxlYXN0IG9uZSB2YWx1ZSBiZWZvcmUgdGhlIG91dHB1dCBPYnNlcnZhYmxlIHdpbGwgZW1pdCBhIHZhbHVlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBPbiBldmVyeSBjbGljayBldmVudCwgZW1pdCBhbiBhcnJheSB3aXRoIHRoZSBsYXRlc3QgdGltZXIgZXZlbnQgcGx1cyB0aGUgY2xpY2sgZXZlbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBpbnRlcnZhbCwgd2l0aExhdGVzdEZyb20gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgdGltZXIgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHdpdGhMYXRlc3RGcm9tKHRpbWVyKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdH1cbiAqXG4gKiBAcGFyYW0ge09ic2VydmFibGVJbnB1dH0gb3RoZXIgQW4gaW5wdXQgT2JzZXJ2YWJsZSB0byBjb21iaW5lIHdpdGggdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gTW9yZSB0aGFuIG9uZSBpbnB1dCBPYnNlcnZhYmxlcyBtYXkgYmUgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvamVjdF0gUHJvamVjdGlvbiBmdW5jdGlvbiBmb3IgY29tYmluaW5nIHZhbHVlc1xuICogdG9nZXRoZXIuIFJlY2VpdmVzIGFsbCB2YWx1ZXMgaW4gb3JkZXIgb2YgdGhlIE9ic2VydmFibGVzIHBhc3NlZCwgd2hlcmUgdGhlXG4gKiBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gKGUuZy5cbiAqIGBhLnBpcGUod2l0aExhdGVzdEZyb20oYiwgYyksIG1hcCgoW2ExLCBiMSwgYzFdKSA9PiBhMSArIGIxICsgYzEpKWApLiBJZiB0aGlzIGlzIG5vdFxuICogcGFzc2VkLCBhcnJheXMgd2lsbCBiZSBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBwcm9qZWN0ZWQgdmFsdWVzIGZyb20gdGhlXG4gKiBtb3N0IHJlY2VudCB2YWx1ZXMgZnJvbSBlYWNoIGlucHV0IE9ic2VydmFibGUsIG9yIGFuIGFycmF5IG9mIHRoZSBtb3N0XG4gKiByZWNlbnQgdmFsdWVzIGZyb20gZWFjaCBpbnB1dCBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aExhdGVzdEZyb208VCwgUj4oLi4uaW5wdXRzOiBhbnlbXSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgUiB8IGFueVtdPiB7XG4gIGNvbnN0IHByb2plY3QgPSBwb3BSZXN1bHRTZWxlY3RvcihpbnB1dHMpIGFzICgoLi4uYXJnczogYW55W10pID0+IFIpIHwgdW5kZWZpbmVkO1xuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCBsZW4gPSBpbnB1dHMubGVuZ3RoO1xuICAgIGNvbnN0IG90aGVyVmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgLy8gQW4gYXJyYXkgb2Ygd2hldGhlciBvciBub3QgdGhlIG90aGVyIHNvdXJjZXMgaGF2ZSBlbWl0dGVkLiBNYXRjaGVkIHdpdGggdGhlbSBieSBpbmRleC5cbiAgICAvLyBUT0RPOiBBdCBzb21lcG9pbnQsIHdlIHNob3VsZCBpbnZlc3RpZ2F0ZSB0aGUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zIGhlcmUsIGFuZCBsb29rXG4gICAgLy8gaW50byB1c2luZyBhIGBTZXQoKWAgYW5kIGNoZWNraW5nIHRoZSBgc2l6ZWAgdG8gc2VlIGlmIHdlJ3JlIHJlYWR5LlxuICAgIGxldCBoYXNWYWx1ZSA9IGlucHV0cy5tYXAoKCkgPT4gZmFsc2UpO1xuICAgIC8vIEZsaXBwZWQgdHJ1ZSB3aGVuIHdlIGhhdmUgYXQgbGVhc3Qgb25lIHZhbHVlIGZyb20gYWxsIG90aGVyIHNvdXJjZXMgYW5kXG4gICAgLy8gd2UgYXJlIHJlYWR5IHRvIHN0YXJ0IGVtaXR0aW5nIHZhbHVlcy5cbiAgICBsZXQgcmVhZHkgPSBmYWxzZTtcblxuICAgIC8vIE90aGVyIHNvdXJjZXMuIE5vdGUgdGhhdCBoZXJlIHdlIGFyZSBub3QgY2hlY2tpbmcgYHN1YnNjcmliZXIuY2xvc2VkYCxcbiAgICAvLyB0aGlzIGNhdXNlcyBhbGwgaW5wdXRzIHRvIGJlIHN1YnNjcmliZWQgdG8sIGV2ZW4gaWYgbm90aGluZyBjYW4gYmUgZW1pdHRlZFxuICAgIC8vIGZyb20gdGhlbS4gVGhpcyBpcyBhbiBpbXBvcnRhbnQgZGlzdGluY3Rpb24gYmVjYXVzZSBzdWJzY3JpcHRpb24gY29uc3RpdHV0ZXNcbiAgICAvLyBhIHNpZGUtZWZmZWN0LlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlubmVyRnJvbShpbnB1dHNbaV0pLnN1YnNjcmliZShcbiAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBvdGhlclZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCFyZWFkeSAmJiAhaGFzVmFsdWVbaV0pIHtcbiAgICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IHJlYWR5IHlldCwgZmxhZyB0byBzaG93IHRoaXMgb2JzZXJ2YWJsZSBoYXMgZW1pdHRlZC5cbiAgICAgICAgICAgICAgaGFzVmFsdWVbaV0gPSB0cnVlO1xuICAgICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHRlcnNlIGNvZGUuXG4gICAgICAgICAgICAgIC8vIElmIGFsbCBvZiBvdXIgb3RoZXIgb2JzZXJ2YWJsZXMgaGF2ZSBlbWl0dGVkLCBzZXQgYHJlYWR5YCB0byBgdHJ1ZWAsXG4gICAgICAgICAgICAgIC8vIHNvIHdlIGtub3cgd2UgY2FuIHN0YXJ0IGVtaXR0aW5nIHZhbHVlcywgdGhlbiBjbGVhbiB1cCB0aGUgYGhhc1ZhbHVlYCBhcnJheSxcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBkb24ndCBuZWVkIGl0IGFueW1vcmUuXG4gICAgICAgICAgICAgIChyZWFkeSA9IGhhc1ZhbHVlLmV2ZXJ5KGlkZW50aXR5KSkgJiYgKGhhc1ZhbHVlID0gbnVsbCEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgLy8gQ29tcGxldGluZyBvbmUgb2YgdGhlIG90aGVyIHNvdXJjZXMgaGFzXG4gICAgICAgICAgLy8gbm8gYmVhcmluZyBvbiB0aGUgY29tcGxldGlvbiBvZiBvdXIgcmVzdWx0LlxuICAgICAgICAgIG5vb3BcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBTb3VyY2Ugc3Vic2NyaXB0aW9uXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHJlYWR5KSB7XG4gICAgICAgICAgLy8gV2UgaGF2ZSBhdCBsZWFzdCBvbmUgdmFsdWUgZnJvbSB0aGUgb3RoZXIgc291cmNlcy4gR28gYWhlYWQgYW5kIGVtaXQuXG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gW3ZhbHVlLCAuLi5vdGhlclZhbHVlc107XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QgPyBwcm9qZWN0KC4uLnZhbHVlcykgOiB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgemlwIGFzIHppcFN0YXRpYyB9IGZyb20gJy4uL29ic2VydmFibGUvemlwJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24sIENvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcblxuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIHppcFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gemlwPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KG90aGVySW5wdXRzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT3BlcmF0b3JGdW5jdGlvbjxULCBDb25zPFQsIEE+Pjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayB6aXBXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgb3RoZXJJbnB1dHNBbmRQcm9qZWN0OiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dLFxuICBwcm9qZWN0OiAoLi4udmFsdWVzOiBDb25zPFQsIEE+KSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIHppcFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gemlwPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLm90aGVySW5wdXRzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT3BlcmF0b3JGdW5jdGlvbjxULCBDb25zPFQsIEE+Pjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayB6aXBXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgLi4ub3RoZXJJbnB1dHNBbmRQcm9qZWN0OiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sICguLi52YWx1ZXM6IENvbnM8VCwgQT4pID0+IFJdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIHppcFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6aXA8VCwgUj4oLi4uc291cmNlczogQXJyYXk8T2JzZXJ2YWJsZUlucHV0PGFueT4gfCAoKC4uLnZhbHVlczogQXJyYXk8YW55PikgPT4gUik+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBhbnk+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHppcFN0YXRpYyhzb3VyY2UgYXMgT2JzZXJ2YWJsZUlucHV0PGFueT4sIC4uLihzb3VyY2VzIGFzIEFycmF5PE9ic2VydmFibGVJbnB1dDxhbnk+PikpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB6aXAgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3ppcCc7XG5pbXBvcnQgeyBqb2luQWxsSW50ZXJuYWxzIH0gZnJvbSAnLi9qb2luQWxsSW50ZXJuYWxzJztcblxuLyoqXG4gKiBDb2xsZWN0cyBhbGwgb2JzZXJ2YWJsZSBpbm5lciBzb3VyY2VzIGZyb20gdGhlIHNvdXJjZSwgb25jZSB0aGUgc291cmNlIGNvbXBsZXRlcyxcbiAqIGl0IHdpbGwgc3Vic2NyaWJlIHRvIGFsbCBpbm5lciBzb3VyY2VzLCBjb21iaW5pbmcgdGhlaXIgdmFsdWVzIGJ5IGluZGV4IGFuZCBlbWl0dGluZ1xuICogdGhlbS5cbiAqXG4gKiBAc2VlIHtAbGluayB6aXBXaXRofVxuICogQHNlZSB7QGxpbmsgemlwfVxuICovXG5leHBvcnQgZnVuY3Rpb24gemlwQWxsPFQ+KCk6IE9wZXJhdG9yRnVuY3Rpb248T2JzZXJ2YWJsZUlucHV0PFQ+LCBUW10+O1xuZXhwb3J0IGZ1bmN0aW9uIHppcEFsbDxUPigpOiBPcGVyYXRvckZ1bmN0aW9uPGFueSwgVFtdPjtcbmV4cG9ydCBmdW5jdGlvbiB6aXBBbGw8VCwgUj4ocHJvamVjdDogKC4uLnZhbHVlczogVFtdKSA9PiBSKTogT3BlcmF0b3JGdW5jdGlvbjxPYnNlcnZhYmxlSW5wdXQ8VD4sIFI+O1xuZXhwb3J0IGZ1bmN0aW9uIHppcEFsbDxSPihwcm9qZWN0OiAoLi4udmFsdWVzOiBBcnJheTxhbnk+KSA9PiBSKTogT3BlcmF0b3JGdW5jdGlvbjxhbnksIFI+O1xuXG5leHBvcnQgZnVuY3Rpb24gemlwQWxsPFQsIFI+KHByb2plY3Q/OiAoLi4udmFsdWVzOiBUW10pID0+IFIpIHtcbiAgcmV0dXJuIGpvaW5BbGxJbnRlcm5hbHMoemlwLCBwcm9qZWN0KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlLCBPcGVyYXRvckZ1bmN0aW9uLCBDb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgemlwIH0gZnJvbSAnLi96aXAnO1xuXG4vKipcbiAqIFN1YnNjcmliZXMgdG8gdGhlIHNvdXJjZSwgYW5kIHRoZSBvYnNlcnZhYmxlIGlucHV0cyBwcm92aWRlZCBhcyBhcmd1bWVudHMsIGFuZCBjb21iaW5lcyB0aGVpciB2YWx1ZXMsIGJ5IGluZGV4LCBpbnRvIGFycmF5cy5cbiAqXG4gKiBXaGF0IGlzIG1lYW50IGJ5IFwiY29tYmluZSBieSBpbmRleFwiOiBUaGUgZmlyc3QgdmFsdWUgZnJvbSBlYWNoIHdpbGwgYmUgbWFkZSBpbnRvIGEgc2luZ2xlIGFycmF5LCB0aGVuIGVtaXR0ZWQsXG4gKiB0aGVuIHRoZSBzZWNvbmQgdmFsdWUgZnJvbSBlYWNoIHdpbGwgYmUgY29tYmluZWQgaW50byBhIHNpbmdsZSBhcnJheSBhbmQgZW1pdHRlZCwgdGhlbiB0aGUgdGhpcmQgdmFsdWVcbiAqIGZyb20gZWFjaCB3aWxsIGJlIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgYXJyYXkgYW5kIGVtaXR0ZWQsIGFuZCBzbyBvbi5cbiAqXG4gKiBUaGlzIHdpbGwgY29udGludWUgdW50aWwgaXQgaXMgbm8gbG9uZ2VyIGFibGUgdG8gY29tYmluZSB2YWx1ZXMgb2YgdGhlIHNhbWUgaW5kZXggaW50byBhbiBhcnJheS5cbiAqXG4gKiBBZnRlciB0aGUgbGFzdCB2YWx1ZSBmcm9tIGFueSBvbmUgY29tcGxldGVkIHNvdXJjZSBpcyBlbWl0dGVkIGluIGFuIGFycmF5LCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCBjb21wbGV0ZSxcbiAqIGFzIHRoZXJlIGlzIG5vIHdheSB0byBjb250aW51ZSBcInppcHBpbmdcIiB2YWx1ZXMgdG9nZXRoZXIgYnkgaW5kZXguXG4gKlxuICogVXNlLWNhc2VzIGZvciB0aGlzIG9wZXJhdG9yIGFyZSBsaW1pdGVkLiBUaGVyZSBhcmUgbWVtb3J5IGNvbmNlcm5zIGlmIG9uZSBvZiB0aGUgc3RyZWFtcyBpcyBlbWl0dGluZ1xuICogdmFsdWVzIGF0IGEgbXVjaCBmYXN0ZXIgcmF0ZSB0aGFuIHRoZSBvdGhlcnMuIFVzYWdlIHNob3VsZCBsaWtlbHkgYmUgbGltaXRlZCB0byBzdHJlYW1zIHRoYXQgZW1pdFxuICogYXQgYSBzaW1pbGFyIHBhY2UsIG9yIGZpbml0ZSBzdHJlYW1zIG9mIGtub3duIGxlbmd0aC5cbiAqXG4gKiBJbiBtYW55IGNhc2VzLCBhdXRob3JzIHdhbnQgYGNvbWJpbmVMYXRlc3RXaXRoYCBhbmQgbm90IGB6aXBXaXRoYC5cbiAqXG4gKiBAcGFyYW0gb3RoZXJJbnB1dHMgb3RoZXIgb2JzZXJ2YWJsZSBpbnB1dHMgdG8gY29sbGF0ZSB2YWx1ZXMgZnJvbS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGJ5IGluZGV4XG4gKiBjb21iaW5lZCBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgcHJvdmlkZWQgT2JzZXJ2YWJsZXMsIGluIGZvcm0gb2YgYW5cbiAqIGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gemlwV2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5vdGhlcklucHV0czogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgQ29uczxULCBBPj4ge1xuICByZXR1cm4gemlwKC4uLm90aGVySW5wdXRzKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFycmF5PFQ+KGlucHV0OiBBcnJheUxpa2U8VD4sIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSkge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgY3VycmVudCBhcnJheSBpbmRleC5cbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gU3RhcnQgaXRlcmF0aW5nIG92ZXIgdGhlIGFycmF5IGxpa2Ugb24gYSBzY2hlZHVsZS5cbiAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBoaXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkgbGlrZSBpbiB0aGVcbiAgICAgICAgLy8gcHJldmlvdXMgam9iLCB3ZSBjYW4gY29tcGxldGUuXG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBsZXQncyBuZXh0IHRoZSB2YWx1ZSBhdCB0aGUgY3VycmVudCBpbmRleCxcbiAgICAgICAgLy8gdGhlbiBpbmNyZW1lbnQgb3VyIGluZGV4LlxuICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgIC8vIElmIHRoZSBsYXN0IGVtaXNzaW9uIGRpZG4ndCBjYXVzZSB1cyB0byBjbG9zZSB0aGUgc3Vic2NyaWJlclxuICAgICAgICAvLyAodmlhIHRha2Ugb3Igc29tZSBzaWRlIGVmZmVjdCksIHJlc2NoZWR1bGUgdGhlIGpvYiBhbmQgd2UnbGxcbiAgICAgICAgLy8gbWFrZSBhbm90aGVyIHBhc3MuXG4gICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBc3luY0l0ZXJhYmxlPFQ+KGlucHV0OiBBc3luY0l0ZXJhYmxlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSXRlcmFibGUgY2Fubm90IGJlIG51bGwnKTtcbiAgfVxuICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKHN1YnNjcmliZXIpID0+IHtcbiAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCAoKSA9PiB7XG4gICAgICBjb25zdCBpdGVyYXRvciA9IGlucHV0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgZXhlY3V0ZVNjaGVkdWxlKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICBzY2hlZHVsZXIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIHJlbW92ZSB0aGUgc3Vic2NyaXB0aW9ucyBmcm9tXG4gICAgICAgICAgICAgIC8vIHRoZSBwYXJlbnQgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgMCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuXG4vKipcbiAqIFVzZWQgaW4ge0BsaW5rIHNjaGVkdWxlZH0gdG8gY3JlYXRlIGFuIG9ic2VydmFibGUgZnJvbSBhbiBJdGVyYWJsZS5cbiAqIEBwYXJhbSBpbnB1dCBUaGUgaXRlcmFibGUgdG8gY3JlYXRlIGFuIG9ic2VydmFibGUgZnJvbVxuICogQHBhcmFtIHNjaGVkdWxlciBUaGUgc2NoZWR1bGVyIHRvIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZTxUPihpbnB1dDogSXRlcmFibGU8VD4sIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSkge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaXRlcmF0b3I6IEl0ZXJhdG9yPFQsIFQ+O1xuXG4gICAgLy8gU2NoZWR1bGUgdGhlIGluaXRpYWwgY3JlYXRpb24gb2YgdGhlIGl0ZXJhdG9yIGZyb21cbiAgICAvLyB0aGUgaXRlcmFibGUuIFRoaXMgaXMgc28gdGhlIGNvZGUgaW4gdGhlIGl0ZXJhYmxlIGlzXG4gICAgLy8gbm90IGNhbGxlZCB1bnRpbCB0aGUgc2NoZWR1bGVkIGpvYiBmaXJlcy5cbiAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgdGhlIGl0ZXJhdG9yLlxuICAgICAgaXRlcmF0b3IgPSAoaW5wdXQgYXMgYW55KVtTeW1ib2xfaXRlcmF0b3JdKCk7XG5cbiAgICAgIGV4ZWN1dGVTY2hlZHVsZShcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgc2NoZWR1bGVyLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgbGV0IHZhbHVlOiBUO1xuICAgICAgICAgIGxldCBkb25lOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBQdWxsIHRoZSB2YWx1ZSBvdXQgb2YgdGhlIGl0ZXJhdG9yXG4gICAgICAgICAgICAoeyB2YWx1ZSwgZG9uZSB9ID0gaXRlcmF0b3IubmV4dCgpKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFdlIGdvdCBhbiBlcnJvciB3aGlsZSBwdWxsaW5nIGZyb20gdGhlIGl0ZXJhdG9yXG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIC8vIElmIGl0IGlzIFwiZG9uZVwiIHdlIGp1c3QgY29tcGxldGUuIFRoaXMgbWltaWNzIHRoZVxuICAgICAgICAgICAgLy8gYmVoYXZpb3Igb2YgSmF2YVNjcmlwdCdzIGBmb3IuLm9mYCBjb25zdW1wdGlvbiBvZlxuICAgICAgICAgICAgLy8gaXRlcmFibGVzLCB3aGljaCB3aWxsIG5vdCBlbWl0IHRoZSB2YWx1ZSBmcm9tIGFuIGl0ZXJhdG9yXG4gICAgICAgICAgICAvLyByZXN1bHQgb2YgYHsgZG9uZTogdHJ1ZTogdmFsdWU6ICdoZXJlJyB9YC5cbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIGl0ZXJhYmxlIGlzIG5vdCBkb25lLCBlbWl0IHRoZSB2YWx1ZS5cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAwLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgLy8gRHVyaW5nIGZpbmFsaXphdGlvbiwgaWYgd2Ugc2VlIHRoaXMgaXRlcmF0b3IgaGFzIGEgYHJldHVybmAgbWV0aG9kLFxuICAgIC8vIHRoZW4gd2Uga25vdyBpdCBpcyBhIEdlbmVyYXRvciwgYW5kIG5vdCBqdXN0IGFuIEl0ZXJhdG9yLiBTbyB3ZSBjYWxsXG4gICAgLy8gdGhlIGByZXR1cm4oKWAgZnVuY3Rpb24uIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCBhbnkgYGZpbmFsbHkgeyB9YCBibG9ja3NcbiAgICAvLyBpbnNpZGUgb2YgdGhlIGdlbmVyYXRvciB3ZSBjYW4gaGl0IHdpbGwgYmUgaGl0IHByb3Blcmx5LlxuICAgIHJldHVybiAoKSA9PiBpc0Z1bmN0aW9uKGl0ZXJhdG9yPy5yZXR1cm4pICYmIGl0ZXJhdG9yLnJldHVybigpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuaW1wb3J0IHsgSW50ZXJvcE9ic2VydmFibGUsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZU9ic2VydmFibGU8VD4oaW5wdXQ6IEludGVyb3BPYnNlcnZhYmxlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4iLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2U8VD4oaW5wdXQ6IFByb21pc2VMaWtlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlLCBSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFzeW5jSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZTxUPihpbnB1dDogUmVhZGFibGVTdHJlYW1MaWtlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbiIsImltcG9ydCB7IHNjaGVkdWxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vc2NoZWR1bGVPYnNlcnZhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlUHJvbWlzZSB9IGZyb20gJy4vc2NoZWR1bGVQcm9taXNlJztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuL3NjaGVkdWxlQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVJdGVyYWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFzeW5jSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc0ludGVyb3BPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIH0gZnJvbSAnLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yJztcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4vc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UnO1xuXG4vKipcbiAqIENvbnZlcnRzIGZyb20gYSBjb21tb24ge0BsaW5rIE9ic2VydmFibGVJbnB1dH0gdHlwZSB0byBhbiBvYnNlcnZhYmxlIHdoZXJlIHN1YnNjcmlwdGlvbiBhbmQgZW1pc3Npb25zXG4gKiBhcmUgc2NoZWR1bGVkIG9uIHRoZSBwcm92aWRlZCBzY2hlZHVsZXIuXG4gKlxuICogQHNlZSB7QGxpbmsgZnJvbX1cbiAqIEBzZWUge0BsaW5rIG9mfVxuICpcbiAqIEBwYXJhbSBpbnB1dCBUaGUgb2JzZXJ2YWJsZSwgYXJyYXksIHByb21pc2UsIGl0ZXJhYmxlLCBldGMgeW91IHdvdWxkIGxpa2UgdG8gc2NoZWR1bGVcbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHNjaGVkdWxlciB0byB1c2UgdG8gc2NoZWR1bGUgdGhlIHN1YnNjcmlwdGlvbiBhbmQgZW1pc3Npb25zIGZyb21cbiAqIHRoZSByZXR1cm5lZCBvYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkPFQ+KGlucHV0OiBPYnNlcnZhYmxlSW5wdXQ8VD4sIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8VD4ge1xuICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgfVxuICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBBIHVuaXQgb2Ygd29yayB0byBiZSBleGVjdXRlZCBpbiBhIGBzY2hlZHVsZXJgLiBBbiBhY3Rpb24gaXMgdHlwaWNhbGx5XG4gKiBjcmVhdGVkIGZyb20gd2l0aGluIGEge0BsaW5rIFNjaGVkdWxlckxpa2V9IGFuZCBhbiBSeEpTIHVzZXIgZG9lcyBub3QgbmVlZCB0byBjb25jZXJuXG4gKiB0aGVtc2VsdmVzIGFib3V0IGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgYW4gQWN0aW9uLlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBBY3Rpb248VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24ge1xuICogICBuZXcgKHNjaGVkdWxlcjogU2NoZWR1bGVyLCB3b3JrOiAoc3RhdGU/OiBUKSA9PiB2b2lkKTtcbiAqICAgc2NoZWR1bGUoc3RhdGU/OiBULCBkZWxheTogbnVtYmVyID0gMCk6IFN1YnNjcmlwdGlvbjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzcyBBY3Rpb248VD5cbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGlvbjxUPiBleHRlbmRzIFN1YnNjcmlwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNjaGVkdWxlcjogU2NoZWR1bGVyLCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQpIHtcbiAgICBzdXBlcigpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgdGhpcyBhY3Rpb24gb24gaXRzIHBhcmVudCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gZm9yIGV4ZWN1dGlvbi4gTWF5IGJlIHBhc3NlZFxuICAgKiBzb21lIGNvbnRleHQgb2JqZWN0LCBgc3RhdGVgLiBNYXkgaGFwcGVuIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSxcbiAgICogYWNjb3JkaW5nIHRvIHRoZSBgZGVsYXlgIHBhcmFtZXRlciwgaWYgc3BlY2lmaWVkLlxuICAgKiBAcGFyYW0ge1R9IFtzdGF0ZV0gU29tZSBjb250ZXh0dWFsIGRhdGEgdGhhdCB0aGUgYHdvcmtgIGZ1bmN0aW9uIHVzZXMgd2hlblxuICAgKiBjYWxsZWQgYnkgdGhlIFNjaGVkdWxlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWxheV0gVGltZSB0byB3YWl0IGJlZm9yZSBleGVjdXRpbmcgdGhlIHdvcmssIHdoZXJlIHRoZVxuICAgKiB0aW1lIHVuaXQgaXMgaW1wbGljaXQgYW5kIGRlZmluZWQgYnkgdGhlIFNjaGVkdWxlci5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHB1YmxpYyBzY2hlZHVsZShzdGF0ZT86IFQsIGRlbGF5OiBudW1iZXIgPSAwKTogU3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZVNjaGVkdWxlcic7XG5pbXBvcnQgeyBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZVByb3ZpZGVyIH0gZnJvbSAnLi9hbmltYXRpb25GcmFtZVByb3ZpZGVyJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25GcmFtZUFjdGlvbjxUPiBleHRlbmRzIEFzeW5jQWN0aW9uPFQ+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHNjaGVkdWxlcjogQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIsIHByb3RlY3RlZCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQpIHtcbiAgICBzdXBlcihzY2hlZHVsZXIsIHdvcmspO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlcXVlc3RBc3luY0lkKHNjaGVkdWxlcjogQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIsIGlkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUge1xuICAgIC8vIElmIGRlbGF5IGlzIGdyZWF0ZXIgdGhhbiAwLCByZXF1ZXN0IGFzIGFuIGFzeW5jIGFjdGlvbi5cbiAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB7XG4gICAgICByZXR1cm4gc3VwZXIucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgIH1cbiAgICAvLyBQdXNoIHRoZSBhY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgc2NoZWR1bGVyIHF1ZXVlLlxuICAgIHNjaGVkdWxlci5hY3Rpb25zLnB1c2godGhpcyk7XG4gICAgLy8gSWYgYW4gYW5pbWF0aW9uIGZyYW1lIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBkb24ndCByZXF1ZXN0IGFub3RoZXJcbiAgICAvLyBvbmUuIElmIGFuIGFuaW1hdGlvbiBmcmFtZSBoYXNuJ3QgYmVlbiByZXF1ZXN0ZWQgeWV0LCByZXF1ZXN0IG9uZS4gUmV0dXJuXG4gICAgLy8gdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lIHJlcXVlc3QgaWQuXG4gICAgcmV0dXJuIHNjaGVkdWxlci5fc2NoZWR1bGVkIHx8IChzY2hlZHVsZXIuX3NjaGVkdWxlZCA9IGFuaW1hdGlvbkZyYW1lUHJvdmlkZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNjaGVkdWxlci5mbHVzaCh1bmRlZmluZWQpKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyOiBBbmltYXRpb25GcmFtZVNjaGVkdWxlciwgaWQ/OiBUaW1lckhhbmRsZSwgZGVsYXk6IG51bWJlciA9IDApOiBUaW1lckhhbmRsZSB8IHVuZGVmaW5lZCB7XG4gICAgLy8gSWYgZGVsYXkgZXhpc3RzIGFuZCBpcyBncmVhdGVyIHRoYW4gMCwgb3IgaWYgdGhlIGRlbGF5IGlzIG51bGwgKHRoZVxuICAgIC8vIGFjdGlvbiB3YXNuJ3QgcmVzY2hlZHVsZWQpIGJ1dCB3YXMgb3JpZ2luYWxseSBzY2hlZHVsZWQgYXMgYW4gYXN5bmNcbiAgICAvLyBhY3Rpb24sIHRoZW4gcmVjeWNsZSBhcyBhbiBhc3luYyBhY3Rpb24uXG4gICAgaWYgKGRlbGF5ICE9IG51bGwgPyBkZWxheSA+IDAgOiB0aGlzLmRlbGF5ID4gMCkge1xuICAgICAgcmV0dXJuIHN1cGVyLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHNjaGVkdWxlciBxdWV1ZSBoYXMgbm8gcmVtYWluaW5nIGFjdGlvbnMgd2l0aCB0aGUgc2FtZSBhc3luYyBpZCxcbiAgICAvLyBjYW5jZWwgdGhlIHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUgYW5kIHNldCB0aGUgc2NoZWR1bGVkIGZsYWcgdG9cbiAgICAvLyB1bmRlZmluZWQgc28gdGhlIG5leHQgQW5pbWF0aW9uRnJhbWVBY3Rpb24gd2lsbCByZXF1ZXN0IGl0cyBvd24uXG4gICAgY29uc3QgeyBhY3Rpb25zIH0gPSBzY2hlZHVsZXI7XG4gICAgaWYgKGlkICE9IG51bGwgJiYgYWN0aW9uc1thY3Rpb25zLmxlbmd0aCAtIDFdPy5pZCAhPT0gaWQpIHtcbiAgICAgIGFuaW1hdGlvbkZyYW1lUHJvdmlkZXIuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQgYXMgbnVtYmVyKTtcbiAgICAgIHNjaGVkdWxlci5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBSZXR1cm4gdW5kZWZpbmVkIHNvIHRoZSBhY3Rpb24ga25vd3MgdG8gcmVxdWVzdCBhIG5ldyBhc3luYyBpZCBpZiBpdCdzIHJlc2NoZWR1bGVkLlxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgZXh0ZW5kcyBBc3luY1NjaGVkdWxlciB7XG4gIHB1YmxpYyBmbHVzaChhY3Rpb24/OiBBc3luY0FjdGlvbjxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBUaGUgYXN5bmMgaWQgdGhhdCBlZmZlY3RzIGEgY2FsbCB0byBmbHVzaCBpcyBzdG9yZWQgaW4gX3NjaGVkdWxlZC5cbiAgICAvLyBCZWZvcmUgZXhlY3V0aW5nIGFuIGFjdGlvbiwgaXQncyBuZWNlc3NhcnkgdG8gY2hlY2sgdGhlIGFjdGlvbidzIGFzeW5jXG4gICAgLy8gaWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQncyBzdXBwb3NlZCB0byBiZSBleGVjdXRlZCBpbiB0aGUgY3VycmVudFxuICAgIC8vIGZsdXNoLlxuICAgIC8vIFByZXZpb3VzIGltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCB1c2VkIGEgY291bnQgdG8gZGV0ZXJtaW5lIHRoaXMsXG4gICAgLy8gYnV0IHRoYXQgd2FzIHVuc291bmQsIGFzIGFjdGlvbnMgdGhhdCBhcmUgdW5zdWJzY3JpYmVkIC0gaS5lLiBjYW5jZWxsZWQgLVxuICAgIC8vIGFyZSByZW1vdmVkIGZyb20gdGhlIGFjdGlvbnMgYXJyYXkgYW5kIHRoYXQgY2FuIHNoaWZ0IGFjdGlvbnMgdGhhdCBhcmVcbiAgICAvLyBzY2hlZHVsZWQgdG8gYmUgZXhlY3V0ZWQgaW4gYSBzdWJzZXF1ZW50IGZsdXNoIGludG8gcG9zaXRpb25zIGF0IHdoaWNoXG4gICAgLy8gdGhleSBhcmUgZXhlY3V0ZWQgd2l0aGluIHRoZSBjdXJyZW50IGZsdXNoLlxuICAgIGNvbnN0IGZsdXNoSWQgPSB0aGlzLl9zY2hlZHVsZWQ7XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgeyBhY3Rpb25zIH0gPSB0aGlzO1xuICAgIGxldCBlcnJvcjogYW55O1xuICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCkhO1xuXG4gICAgZG8ge1xuICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnNbMF0pICYmIGFjdGlvbi5pZCA9PT0gZmx1c2hJZCAmJiBhY3Rpb25zLnNoaWZ0KCkpO1xuXG4gICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmlkID09PSBmbHVzaElkICYmIGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzYXBTY2hlZHVsZXIgfSBmcm9tICcuL0FzYXBTY2hlZHVsZXInO1xuaW1wb3J0IHsgU2NoZWR1bGVyQWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaW1tZWRpYXRlUHJvdmlkZXIgfSBmcm9tICcuL2ltbWVkaWF0ZVByb3ZpZGVyJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBBc2FwQWN0aW9uPFQ+IGV4dGVuZHMgQXN5bmNBY3Rpb248VD4ge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgc2NoZWR1bGVyOiBBc2FwU2NoZWR1bGVyLCBwcm90ZWN0ZWQgd29yazogKHRoaXM6IFNjaGVkdWxlckFjdGlvbjxUPiwgc3RhdGU/OiBUKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoc2NoZWR1bGVyLCB3b3JrKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXI6IEFzYXBTY2hlZHVsZXIsIGlkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUge1xuICAgIC8vIElmIGRlbGF5IGlzIGdyZWF0ZXIgdGhhbiAwLCByZXF1ZXN0IGFzIGFuIGFzeW5jIGFjdGlvbi5cbiAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB7XG4gICAgICByZXR1cm4gc3VwZXIucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgIH1cbiAgICAvLyBQdXNoIHRoZSBhY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgc2NoZWR1bGVyIHF1ZXVlLlxuICAgIHNjaGVkdWxlci5hY3Rpb25zLnB1c2godGhpcyk7XG4gICAgLy8gSWYgYSBtaWNyb3Rhc2sgaGFzIGFscmVhZHkgYmVlbiBzY2hlZHVsZWQsIGRvbid0IHNjaGVkdWxlIGFub3RoZXJcbiAgICAvLyBvbmUuIElmIGEgbWljcm90YXNrIGhhc24ndCBiZWVuIHNjaGVkdWxlZCB5ZXQsIHNjaGVkdWxlIG9uZSBub3cuIFJldHVyblxuICAgIC8vIHRoZSBjdXJyZW50IHNjaGVkdWxlZCBtaWNyb3Rhc2sgaWQuXG4gICAgcmV0dXJuIHNjaGVkdWxlci5fc2NoZWR1bGVkIHx8IChzY2hlZHVsZXIuX3NjaGVkdWxlZCA9IGltbWVkaWF0ZVByb3ZpZGVyLnNldEltbWVkaWF0ZShzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIHVuZGVmaW5lZCkpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXI6IEFzYXBTY2hlZHVsZXIsIGlkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGRlbGF5IGV4aXN0cyBhbmQgaXMgZ3JlYXRlciB0aGFuIDAsIG9yIGlmIHRoZSBkZWxheSBpcyBudWxsICh0aGVcbiAgICAvLyBhY3Rpb24gd2Fzbid0IHJlc2NoZWR1bGVkKSBidXQgd2FzIG9yaWdpbmFsbHkgc2NoZWR1bGVkIGFzIGFuIGFzeW5jXG4gICAgLy8gYWN0aW9uLCB0aGVuIHJlY3ljbGUgYXMgYW4gYXN5bmMgYWN0aW9uLlxuICAgIGlmIChkZWxheSAhPSBudWxsID8gZGVsYXkgPiAwIDogdGhpcy5kZWxheSA+IDApIHtcbiAgICAgIHJldHVybiBzdXBlci5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBzY2hlZHVsZXIgcXVldWUgaGFzIG5vIHJlbWFpbmluZyBhY3Rpb25zIHdpdGggdGhlIHNhbWUgYXN5bmMgaWQsXG4gICAgLy8gY2FuY2VsIHRoZSByZXF1ZXN0ZWQgbWljcm90YXNrIGFuZCBzZXQgdGhlIHNjaGVkdWxlZCBmbGFnIHRvIHVuZGVmaW5lZFxuICAgIC8vIHNvIHRoZSBuZXh0IEFzYXBBY3Rpb24gd2lsbCByZXF1ZXN0IGl0cyBvd24uXG4gICAgY29uc3QgeyBhY3Rpb25zIH0gPSBzY2hlZHVsZXI7XG4gICAgaWYgKGlkICE9IG51bGwgJiYgYWN0aW9uc1thY3Rpb25zLmxlbmd0aCAtIDFdPy5pZCAhPT0gaWQpIHtcbiAgICAgIGltbWVkaWF0ZVByb3ZpZGVyLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICAgIHNjaGVkdWxlci5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBSZXR1cm4gdW5kZWZpbmVkIHNvIHRoZSBhY3Rpb24ga25vd3MgdG8gcmVxdWVzdCBhIG5ldyBhc3luYyBpZCBpZiBpdCdzIHJlc2NoZWR1bGVkLlxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuXG5leHBvcnQgY2xhc3MgQXNhcFNjaGVkdWxlciBleHRlbmRzIEFzeW5jU2NoZWR1bGVyIHtcbiAgcHVibGljIGZsdXNoKGFjdGlvbj86IEFzeW5jQWN0aW9uPGFueT4pOiB2b2lkIHtcbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8vIFRoZSBhc3luYyBpZCB0aGF0IGVmZmVjdHMgYSBjYWxsIHRvIGZsdXNoIGlzIHN0b3JlZCBpbiBfc2NoZWR1bGVkLlxuICAgIC8vIEJlZm9yZSBleGVjdXRpbmcgYW4gYWN0aW9uLCBpdCdzIG5lY2Vzc2FyeSB0byBjaGVjayB0aGUgYWN0aW9uJ3MgYXN5bmNcbiAgICAvLyBpZCB0byBkZXRlcm1pbmUgd2hldGhlciBpdCdzIHN1cHBvc2VkIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjdXJyZW50XG4gICAgLy8gZmx1c2guXG4gICAgLy8gUHJldmlvdXMgaW1wbGVtZW50YXRpb25zIG9mIHRoaXMgbWV0aG9kIHVzZWQgYSBjb3VudCB0byBkZXRlcm1pbmUgdGhpcyxcbiAgICAvLyBidXQgdGhhdCB3YXMgdW5zb3VuZCwgYXMgYWN0aW9ucyB0aGF0IGFyZSB1bnN1YnNjcmliZWQgLSBpLmUuIGNhbmNlbGxlZCAtXG4gICAgLy8gYXJlIHJlbW92ZWQgZnJvbSB0aGUgYWN0aW9ucyBhcnJheSBhbmQgdGhhdCBjYW4gc2hpZnQgYWN0aW9ucyB0aGF0IGFyZVxuICAgIC8vIHNjaGVkdWxlZCB0byBiZSBleGVjdXRlZCBpbiBhIHN1YnNlcXVlbnQgZmx1c2ggaW50byBwb3NpdGlvbnMgYXQgd2hpY2hcbiAgICAvLyB0aGV5IGFyZSBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgZmx1c2guXG4gICAgY29uc3QgZmx1c2hJZCA9IHRoaXMuX3NjaGVkdWxlZDtcbiAgICB0aGlzLl9zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCB7IGFjdGlvbnMgfSA9IHRoaXM7XG4gICAgbGV0IGVycm9yOiBhbnk7XG4gICAgYWN0aW9uID0gYWN0aW9uIHx8IGFjdGlvbnMuc2hpZnQoKSE7XG5cbiAgICBkbyB7XG4gICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmlkID09PSBmbHVzaElkICYmIGFjdGlvbnMuc2hpZnQoKSk7XG5cbiAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zWzBdKSAmJiBhY3Rpb24uaWQgPT09IGZsdXNoSWQgJiYgYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL0FjdGlvbic7XG5pbXBvcnQgeyBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbmltcG9ydCB7IGludGVydmFsUHJvdmlkZXIgfSBmcm9tICcuL2ludGVydmFsUHJvdmlkZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xuaW1wb3J0IHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcblxuZXhwb3J0IGNsYXNzIEFzeW5jQWN0aW9uPFQ+IGV4dGVuZHMgQWN0aW9uPFQ+IHtcbiAgcHVibGljIGlkOiBUaW1lckhhbmRsZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHN0YXRlPzogVDtcbiAgLy8gQHRzLWlnbm9yZTogUHJvcGVydHkgaGFzIG5vIGluaXRpYWxpemVyIGFuZCBpcyBub3QgZGVmaW5pdGVseSBhc3NpZ25lZFxuICBwdWJsaWMgZGVsYXk6IG51bWJlcjtcbiAgcHJvdGVjdGVkIHBlbmRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgc2NoZWR1bGVyOiBBc3luY1NjaGVkdWxlciwgcHJvdGVjdGVkIHdvcms6ICh0aGlzOiBTY2hlZHVsZXJBY3Rpb248VD4sIHN0YXRlPzogVCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKHNjaGVkdWxlciwgd29yayk7XG4gIH1cblxuICBwdWJsaWMgc2NoZWR1bGUoc3RhdGU/OiBULCBkZWxheTogbnVtYmVyID0gMCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgcmVwbGFjZSB0aGUgY3VycmVudCBzdGF0ZSB3aXRoIHRoZSBuZXcgc3RhdGUuXG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuXG4gICAgLy9cbiAgICAvLyBJbXBvcnRhbnQgaW1wbGVtZW50YXRpb24gbm90ZTpcbiAgICAvL1xuICAgIC8vIEFjdGlvbnMgb25seSBleGVjdXRlIG9uY2UgYnkgZGVmYXVsdCwgdW5sZXNzIHJlc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoZVxuICAgIC8vIHNjaGVkdWxlZCBjYWxsYmFjay4gVGhpcyBhbGxvd3MgdXMgdG8gaW1wbGVtZW50IHNpbmdsZSBhbmQgcmVwZWF0XG4gICAgLy8gYWN0aW9ucyB2aWEgdGhlIHNhbWUgY29kZSBwYXRoLCB3aXRob3V0IGFkZGluZyBBUEkgc3VyZmFjZSBhcmVhLCBhcyB3ZWxsXG4gICAgLy8gYXMgbWltaWMgdHJhZGl0aW9uYWwgcmVjdXJzaW9uIGJ1dCBhY3Jvc3MgYXN5bmNocm9ub3VzIGJvdW5kYXJpZXMuXG4gICAgLy9cbiAgICAvLyBIb3dldmVyLCBKUyBydW50aW1lcyBhbmQgdGltZXJzIGRpc3Rpbmd1aXNoIGJldHdlZW4gaW50ZXJ2YWxzIGFjaGlldmVkIGJ5XG4gICAgLy8gc2VyaWFsIGBzZXRUaW1lb3V0YCBjYWxscyB2cy4gYSBzaW5nbGUgYHNldEludGVydmFsYCBjYWxsLiBBbiBpbnRlcnZhbCBvZlxuICAgIC8vIHNlcmlhbCBgc2V0VGltZW91dGAgY2FsbHMgY2FuIGJlIGluZGl2aWR1YWxseSBkZWxheWVkLCB3aGljaCBkZWxheXNcbiAgICAvLyBzY2hlZHVsaW5nIHRoZSBuZXh0IGBzZXRUaW1lb3V0YCwgYW5kIHNvIG9uLiBgc2V0SW50ZXJ2YWxgIGF0dGVtcHRzIHRvXG4gICAgLy8gZ3VhcmFudGVlIHRoZSBpbnRlcnZhbCBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgbW9yZSBwcmVjaXNlbHkgdG8gdGhlXG4gICAgLy8gaW50ZXJ2YWwgcGVyaW9kLCByZWdhcmRsZXNzIG9mIGxvYWQuXG4gICAgLy9cbiAgICAvLyBUaGVyZWZvcmUsIHdlIHVzZSBgc2V0SW50ZXJ2YWxgIHRvIHNjaGVkdWxlIHNpbmdsZSBhbmQgcmVwZWF0IGFjdGlvbnMuXG4gICAgLy8gSWYgdGhlIGFjdGlvbiByZXNjaGVkdWxlcyBpdHNlbGYgd2l0aCB0aGUgc2FtZSBkZWxheSwgdGhlIGludGVydmFsIGlzIG5vdFxuICAgIC8vIGNhbmNlbGVkLiBJZiB0aGUgYWN0aW9uIGRvZXNuJ3QgcmVzY2hlZHVsZSwgb3IgcmVzY2hlZHVsZXMgd2l0aCBhXG4gICAgLy8gZGlmZmVyZW50IGRlbGF5LCB0aGUgaW50ZXJ2YWwgd2lsbCBiZSBjYW5jZWxlZCBhZnRlciBzY2hlZHVsZWQgY2FsbGJhY2tcbiAgICAvLyBleGVjdXRpb24uXG4gICAgLy9cbiAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgcGVuZGluZyBmbGFnIGluZGljYXRpbmcgdGhhdCB0aGlzIGFjdGlvbiBoYXMgYmVlbiBzY2hlZHVsZWQsIG9yXG4gICAgLy8gaGFzIHJlY3Vyc2l2ZWx5IHJlc2NoZWR1bGVkIGl0c2VsZi5cbiAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIC8vIElmIHRoaXMgYWN0aW9uIGhhcyBhbHJlYWR5IGFuIGFzeW5jIElkLCBkb24ndCByZXF1ZXN0IGEgbmV3IG9uZS5cbiAgICB0aGlzLmlkID0gdGhpcy5pZCA/PyB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyOiBBc3luY1NjaGVkdWxlciwgX2lkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUge1xuICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWN5Y2xlQXN5bmNJZChfc2NoZWR1bGVyOiBBc3luY1NjaGVkdWxlciwgaWQ/OiBUaW1lckhhbmRsZSwgZGVsYXk6IG51bWJlciB8IG51bGwgPSAwKTogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIHRoaXMgYWN0aW9uIGlzIHJlc2NoZWR1bGVkIHdpdGggdGhlIHNhbWUgZGVsYXkgdGltZSwgZG9uJ3QgY2xlYXIgdGhlIGludGVydmFsIGlkLlxuICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgYWN0aW9uJ3MgZGVsYXkgdGltZSBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgY3VycmVudCBkZWxheSxcbiAgICAvLyBvciB0aGUgYWN0aW9uIGhhcyBiZWVuIHJlc2NoZWR1bGVkIGJlZm9yZSBpdCdzIGV4ZWN1dGVkLCBjbGVhciB0aGUgaW50ZXJ2YWwgaWRcbiAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEltbWVkaWF0ZWx5IGV4ZWN1dGVzIHRoaXMgYWN0aW9uIGFuZCB0aGUgYHdvcmtgIGl0IGNvbnRhaW5zLlxuICAgKiBAcmV0dXJuIHthbnl9XG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShzdGF0ZTogVCwgZGVsYXk6IG51bWJlcik6IGFueSB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBlbmRpbmcgPT09IGZhbHNlICYmIHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAgLy8gRGVxdWV1ZSBpZiB0aGUgYWN0aW9uIGRpZG4ndCByZXNjaGVkdWxlIGl0c2VsZi4gRG9uJ3QgY2FsbFxuICAgICAgLy8gdW5zdWJzY3JpYmUoKSwgYmVjYXVzZSB0aGUgYWN0aW9uIGNvdWxkIHJlc2NoZWR1bGUgbGF0ZXIuXG4gICAgICAvLyBGb3IgZXhhbXBsZTpcbiAgICAgIC8vIGBgYFxuICAgICAgLy8gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uIGRvV29yayhjb3VudGVyKSB7XG4gICAgICAvLyAgIC8qIC4uLiBJJ20gYSBidXN5IHdvcmtlciBiZWUgLi4uICovXG4gICAgICAvLyAgIHZhciBvcmlnaW5hbEFjdGlvbiA9IHRoaXM7XG4gICAgICAvLyAgIC8qIHdhaXQgMTAwbXMgYmVmb3JlIHJlc2NoZWR1bGluZyB0aGUgYWN0aW9uICovXG4gICAgICAvLyAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICAgIG9yaWdpbmFsQWN0aW9uLnNjaGVkdWxlKGNvdW50ZXIgKyAxKTtcbiAgICAgIC8vICAgfSwgMTAwKTtcbiAgICAgIC8vIH0sIDEwMDApO1xuICAgICAgLy8gYGBgXG4gICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9leGVjdXRlKHN0YXRlOiBULCBfZGVsYXk6IG51bWJlcik6IGFueSB7XG4gICAgbGV0IGVycm9yZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JWYWx1ZTogYW55O1xuICAgIHRyeSB7XG4gICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgLy8gSEFDSzogU2luY2UgY29kZSBlbHNld2hlcmUgaXMgcmVseWluZyBvbiB0aGUgXCJ0cnV0aGluZXNzXCIgb2YgdGhlXG4gICAgICAvLyByZXR1cm4gaGVyZSwgd2UgY2FuJ3QgaGF2ZSBpdCByZXR1cm4gXCJcIiBvciAwIG9yIGZhbHNlLlxuICAgICAgLy8gVE9ETzogQ2xlYW4gdGhpcyB1cCB3aGVuIHdlIHJlZmFjdG9yIHNjaGVkdWxlcnMgbWlkLXZlcnNpb24tOCBvciBzby5cbiAgICAgIGVycm9yVmFsdWUgPSBlID8gZSA6IG5ldyBFcnJvcignU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvcicpO1xuICAgIH1cbiAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgY29uc3QgeyBpZCwgc2NoZWR1bGVyIH0gPSB0aGlzO1xuICAgICAgY29uc3QgeyBhY3Rpb25zIH0gPSBzY2hlZHVsZXI7XG5cbiAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGwhO1xuICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG5cbiAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRlbGF5ID0gbnVsbCE7XG4gICAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi4vU2NoZWR1bGVyJztcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBUaW1lckhhbmRsZSB9IGZyb20gJy4vdGltZXJIYW5kbGUnO1xuXG5leHBvcnQgY2xhc3MgQXN5bmNTY2hlZHVsZXIgZXh0ZW5kcyBTY2hlZHVsZXIge1xuICBwdWJsaWMgYWN0aW9uczogQXJyYXk8QXN5bmNBY3Rpb248YW55Pj4gPSBbXTtcbiAgLyoqXG4gICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBTY2hlZHVsZXIgaXMgY3VycmVudGx5IGV4ZWN1dGluZyBhIGJhdGNoIG9mXG4gICAqIHF1ZXVlZCBhY3Rpb25zLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwdWJsaWMgX2FjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuICAvKipcbiAgICogQW4gaW50ZXJuYWwgSUQgdXNlZCB0byB0cmFjayB0aGUgbGF0ZXN0IGFzeW5jaHJvbm91cyB0YXNrIHN1Y2ggYXMgdGhvc2VcbiAgICogY29taW5nIGZyb20gYHNldFRpbWVvdXRgLCBgc2V0SW50ZXJ2YWxgLCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCwgYW5kXG4gICAqIG90aGVycy5cbiAgICogQHR5cGUge2FueX1cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwdWJsaWMgX3NjaGVkdWxlZDogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoU2NoZWR1bGVyQWN0aW9uOiB0eXBlb2YgQWN0aW9uLCBub3c6ICgpID0+IG51bWJlciA9IFNjaGVkdWxlci5ub3cpIHtcbiAgICBzdXBlcihTY2hlZHVsZXJBY3Rpb24sIG5vdyk7XG4gIH1cblxuICBwdWJsaWMgZmx1c2goYWN0aW9uOiBBc3luY0FjdGlvbjxhbnk+KTogdm9pZCB7XG4gICAgY29uc3QgeyBhY3Rpb25zIH0gPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGVycm9yOiBhbnk7XG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcblxuICAgIGRvIHtcbiAgICAgIGlmICgoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkhKSk7IC8vIGV4aGF1c3QgdGhlIHNjaGVkdWxlciBxdWV1ZVxuXG4gICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpISkpIHtcbiAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgUXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL1F1ZXVlU2NoZWR1bGVyJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBRdWV1ZUFjdGlvbjxUPiBleHRlbmRzIEFzeW5jQWN0aW9uPFQ+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHNjaGVkdWxlcjogUXVldWVTY2hlZHVsZXIsIHByb3RlY3RlZCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQpIHtcbiAgICBzdXBlcihzY2hlZHVsZXIsIHdvcmspO1xuICB9XG5cbiAgcHVibGljIHNjaGVkdWxlKHN0YXRlPzogVCwgZGVsYXk6IG51bWJlciA9IDApOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIHJldHVybiBzdXBlci5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH1cbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIGV4ZWN1dGUoc3RhdGU6IFQsIGRlbGF5OiBudW1iZXIpOiBhbnkge1xuICAgIHJldHVybiBkZWxheSA+IDAgfHwgdGhpcy5jbG9zZWQgPyBzdXBlci5leGVjdXRlKHN0YXRlLCBkZWxheSkgOiB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyOiBRdWV1ZVNjaGVkdWxlciwgaWQ/OiBUaW1lckhhbmRsZSwgZGVsYXk6IG51bWJlciA9IDApOiBUaW1lckhhbmRsZSB7XG4gICAgLy8gSWYgZGVsYXkgZXhpc3RzIGFuZCBpcyBncmVhdGVyIHRoYW4gMCwgb3IgaWYgdGhlIGRlbGF5IGlzIG51bGwgKHRoZVxuICAgIC8vIGFjdGlvbiB3YXNuJ3QgcmVzY2hlZHVsZWQpIGJ1dCB3YXMgb3JpZ2luYWxseSBzY2hlZHVsZWQgYXMgYW4gYXN5bmNcbiAgICAvLyBhY3Rpb24sIHRoZW4gcmVjeWNsZSBhcyBhbiBhc3luYyBhY3Rpb24uXG5cbiAgICBpZiAoKGRlbGF5ICE9IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgIHJldHVybiBzdXBlci5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlIGZsdXNoIHRoZSBzY2hlZHVsZXIgc3RhcnRpbmcgd2l0aCB0aGlzIGFjdGlvbi5cbiAgICBzY2hlZHVsZXIuZmx1c2godGhpcyk7XG5cbiAgICAvLyBIQUNLOiBJbiB0aGUgcGFzdCwgdGhpcyB3YXMgcmV0dXJuaW5nIGB2b2lkYC4gSG93ZXZlciwgYHZvaWRgIGlzbid0IGEgdmFsaWRcbiAgICAvLyBgVGltZXJIYW5kbGVgLCBhbmQgZ2VuZXJhbGx5IHRoZSByZXR1cm4gdmFsdWUgaGVyZSBpc24ndCByZWFsbHkgdXNlZC4gU28gdGhlXG4gICAgLy8gY29tcHJvbWlzZSBpcyB0byByZXR1cm4gYDBgIHdoaWNoIGlzIGJvdGggXCJmYWxzeVwiIGFuZCBhIHZhbGlkIGBUaW1lckhhbmRsZWAsXG4gICAgLy8gYXMgb3Bwb3NlZCB0byByZWZhY3RvcmluZyBldmVyeSBvdGhlciBpbnN0YW5jZW8gb2YgYHJlcXVlc3RBc3luY0lkYC5cbiAgICByZXR1cm4gMDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcblxuZXhwb3J0IGNsYXNzIFF1ZXVlU2NoZWR1bGVyIGV4dGVuZHMgQXN5bmNTY2hlZHVsZXIge1xufVxuIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuaW1wb3J0IHsgU2NoZWR1bGVyQWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxUaW1lU2NoZWR1bGVyIGV4dGVuZHMgQXN5bmNTY2hlZHVsZXIge1xuICAvKiogQGRlcHJlY2F0ZWQgTm90IHVzZWQgaW4gVmlydHVhbFRpbWVTY2hlZHVsZXIgZGlyZWN0bHkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbiAgc3RhdGljIGZyYW1lVGltZUZhY3RvciA9IDEwO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBmcmFtZSBmb3IgdGhlIHN0YXRlIG9mIHRoZSB2aXJ0dWFsIHNjaGVkdWxlciBpbnN0YW5jZS4gVGhlIGRpZmZlcmVuY2VcbiAgICogYmV0d2VlbiB0d28gXCJmcmFtZXNcIiBpcyBzeW5vbnltb3VzIHdpdGggdGhlIHBhc3NhZ2Ugb2YgXCJ2aXJ0dWFsIHRpbWUgdW5pdHNcIi4gU28gaWZcbiAgICogeW91IHJlY29yZCBgc2NoZWR1bGVyLmZyYW1lYCB0byBiZSBgMWAsIHRoZW4gbGF0ZXIsIG9ic2VydmUgYHNjaGVkdWxlci5mcmFtZWAgdG8gYmUgYXQgYDExYCxcbiAgICogdGhhdCBtZWFucyBgMTBgIHZpcnR1YWwgdGltZSB1bml0cyBoYXZlIHBhc3NlZC5cbiAgICovXG4gIHB1YmxpYyBmcmFtZTogbnVtYmVyID0gMDtcblxuICAvKipcbiAgICogVXNlZCBpbnRlcm5hbGx5IHRvIGV4YW1pbmUgdGhlIGN1cnJlbnQgdmlydHVhbCBhY3Rpb24gaW5kZXggYmVpbmcgcHJvY2Vzc2VkLlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICovXG4gIHB1YmxpYyBpbmRleDogbnVtYmVyID0gLTE7XG5cbiAgLyoqXG4gICAqIFRoaXMgY3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIGBWaXJ0dWFsVGltZVNjaGVkdWxlcmAuIEV4cGVydHMgb25seS4gVGhlIHNpZ25hdHVyZSBvZlxuICAgKiB0aGlzIGNvbnN0cnVjdG9yIGlzIGxpa2VseSB0byBjaGFuZ2UgaW4gdGhlIGxvbmcgcnVuLlxuICAgKlxuICAgKiBAcGFyYW0gc2NoZWR1bGVyQWN0aW9uQ3RvciBUaGUgdHlwZSBvZiBBY3Rpb24gdG8gaW5pdGlhbGl6ZSB3aGVuIGluaXRpYWxpemluZyBhY3Rpb25zIGR1cmluZyBzY2hlZHVsaW5nLlxuICAgKiBAcGFyYW0gbWF4RnJhbWVzIFRoZSBtYXhpbXVtIG51bWJlciBvZiBmcmFtZXMgdG8gcHJvY2VzcyBiZWZvcmUgc3RvcHBpbmcuIFVzZWQgdG8gcHJldmVudCBlbmRsZXNzIGZsdXNoIGN5Y2xlcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHNjaGVkdWxlckFjdGlvbkN0b3I6IHR5cGVvZiBBc3luY0FjdGlvbiA9IFZpcnR1YWxBY3Rpb24gYXMgYW55LCBwdWJsaWMgbWF4RnJhbWVzOiBudW1iZXIgPSBJbmZpbml0eSkge1xuICAgIHN1cGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsICgpID0+IHRoaXMuZnJhbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb21wdCB0aGUgU2NoZWR1bGVyIHRvIGV4ZWN1dGUgYWxsIG9mIGl0cyBxdWV1ZWQgYWN0aW9ucywgdGhlcmVmb3JlXG4gICAqIGNsZWFyaW5nIGl0cyBxdWV1ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHB1YmxpYyBmbHVzaCgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGFjdGlvbnMsIG1heEZyYW1lcyB9ID0gdGhpcztcbiAgICBsZXQgZXJyb3I6IGFueTtcbiAgICBsZXQgYWN0aW9uOiBBc3luY0FjdGlvbjxhbnk+IHwgdW5kZWZpbmVkO1xuXG4gICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zWzBdKSAmJiBhY3Rpb24uZGVsYXkgPD0gbWF4RnJhbWVzKSB7XG4gICAgICBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICB0aGlzLmZyYW1lID0gYWN0aW9uLmRlbGF5O1xuXG4gICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlydHVhbEFjdGlvbjxUPiBleHRlbmRzIEFzeW5jQWN0aW9uPFQ+IHtcbiAgcHJvdGVjdGVkIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHNjaGVkdWxlcjogVmlydHVhbFRpbWVTY2hlZHVsZXIsXG4gICAgcHJvdGVjdGVkIHdvcms6ICh0aGlzOiBTY2hlZHVsZXJBY3Rpb248VD4sIHN0YXRlPzogVCkgPT4gdm9pZCxcbiAgICBwcm90ZWN0ZWQgaW5kZXg6IG51bWJlciA9IChzY2hlZHVsZXIuaW5kZXggKz0gMSlcbiAgKSB7XG4gICAgc3VwZXIoc2NoZWR1bGVyLCB3b3JrKTtcbiAgICB0aGlzLmluZGV4ID0gc2NoZWR1bGVyLmluZGV4ID0gaW5kZXg7XG4gIH1cblxuICBwdWJsaWMgc2NoZWR1bGUoc3RhdGU/OiBULCBkZWxheTogbnVtYmVyID0gMCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShkZWxheSkpIHtcbiAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAvLyBJZiBhbiBhY3Rpb24gaXMgcmVzY2hlZHVsZWQsIHdlIHNhdmUgYWxsb2NhdGlvbnMgYnkgbXV0YXRpbmcgaXRzIHN0YXRlLFxuICAgICAgLy8gcHVzaGluZyBpdCB0byB0aGUgZW5kIG9mIHRoZSBzY2hlZHVsZXIgcXVldWUsIGFuZCByZWN5Y2xpbmcgdGhlIGFjdGlvbi5cbiAgICAgIC8vIEJ1dCBzaW5jZSB0aGUgVmlydHVhbFRpbWVTY2hlZHVsZXIgaXMgdXNlZCBmb3IgdGVzdGluZywgVmlydHVhbEFjdGlvbnNcbiAgICAgIC8vIG11c3QgYmUgaW1tdXRhYmxlIHNvIHRoZXkgY2FuIGJlIGluc3BlY3RlZCBsYXRlci5cbiAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBWaXJ0dWFsQWN0aW9uKHRoaXMuc2NoZWR1bGVyLCB0aGlzLndvcmspO1xuICAgICAgdGhpcy5hZGQoYWN0aW9uKTtcbiAgICAgIHJldHVybiBhY3Rpb24uc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgc29tZW9uZSBzY2hlZHVsZXMgc29tZXRoaW5nIHdpdGggSW5maW5pdHksIGl0J2xsIG5ldmVyIGhhcHBlbi4gU28gd2VcbiAgICAgIC8vIGRvbid0IGV2ZW4gc2NoZWR1bGUgaXQuXG4gICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXI6IFZpcnR1YWxUaW1lU2NoZWR1bGVyLCBpZD86IGFueSwgZGVsYXk6IG51bWJlciA9IDApOiBUaW1lckhhbmRsZSB7XG4gICAgdGhpcy5kZWxheSA9IHNjaGVkdWxlci5mcmFtZSArIGRlbGF5O1xuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gc2NoZWR1bGVyO1xuICAgIGFjdGlvbnMucHVzaCh0aGlzKTtcbiAgICAoYWN0aW9ucyBhcyBBcnJheTxWaXJ0dWFsQWN0aW9uPFQ+Pikuc29ydChWaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zKTtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXI6IFZpcnR1YWxUaW1lU2NoZWR1bGVyLCBpZD86IGFueSwgZGVsYXk6IG51bWJlciA9IDApOiBUaW1lckhhbmRsZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZXhlY3V0ZShzdGF0ZTogVCwgZGVsYXk6IG51bWJlcik6IGFueSB7XG4gICAgaWYgKHRoaXMuYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gc3VwZXIuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBzb3J0QWN0aW9uczxUPihhOiBWaXJ0dWFsQWN0aW9uPFQ+LCBiOiBWaXJ0dWFsQWN0aW9uPFQ+KSB7XG4gICAgaWYgKGEuZGVsYXkgPT09IGIuZGVsYXkpIHtcbiAgICAgIGlmIChhLmluZGV4ID09PSBiLmluZGV4KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSBlbHNlIGlmIChhLmluZGV4ID4gYi5pbmRleCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGEuZGVsYXkgPiBiLmRlbGF5KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQW5pbWF0aW9uRnJhbWVBY3Rpb24gfSBmcm9tICcuL0FuaW1hdGlvbkZyYW1lQWN0aW9uJztcbmltcG9ydCB7IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZVNjaGVkdWxlcic7XG5cbi8qKlxuICpcbiAqIEFuaW1hdGlvbiBGcmFtZSBTY2hlZHVsZXJcbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+UGVyZm9ybSB0YXNrIHdoZW4gYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIHdvdWxkIGZpcmU8L3NwYW4+XG4gKlxuICogV2hlbiBgYW5pbWF0aW9uRnJhbWVgIHNjaGVkdWxlciBpcyB1c2VkIHdpdGggZGVsYXksIGl0IHdpbGwgZmFsbCBiYWNrIHRvIHtAbGluayBhc3luY1NjaGVkdWxlcn0gc2NoZWR1bGVyXG4gKiBiZWhhdmlvdXIuXG4gKlxuICogV2l0aG91dCBkZWxheSwgYGFuaW1hdGlvbkZyYW1lYCBzY2hlZHVsZXIgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIHNtb290aCBicm93c2VyIGFuaW1hdGlvbnMuXG4gKiBJdCBtYWtlcyBzdXJlIHNjaGVkdWxlZCB0YXNrIHdpbGwgaGFwcGVuIGp1c3QgYmVmb3JlIG5leHQgYnJvd3NlciBjb250ZW50IHJlcGFpbnQsXG4gKiB0aHVzIHBlcmZvcm1pbmcgYW5pbWF0aW9ucyBhcyBlZmZpY2llbnRseSBhcyBwb3NzaWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKiBTY2hlZHVsZSBkaXYgaGVpZ2h0IGFuaW1hdGlvblxuICogYGBgdHNcbiAqIC8vIGh0bWw6IDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjMGZmO1wiPjwvZGl2PlxuICogaW1wb3J0IHsgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAqXG4gKiBhbmltYXRpb25GcmFtZVNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbihoZWlnaHQpIHtcbiAqICAgZGl2LnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAqXG4gKiAgIHRoaXMuc2NoZWR1bGUoaGVpZ2h0ICsgMSk7ICAvLyBgdGhpc2AgcmVmZXJlbmNlcyBjdXJyZW50bHkgZXhlY3V0aW5nIEFjdGlvbixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdlIHJlc2NoZWR1bGUgd2l0aCBuZXcgc3RhdGVcbiAqIH0sIDAsIDApO1xuICpcbiAqIC8vIFlvdSB3aWxsIHNlZSBhIGRpdiBlbGVtZW50IGdyb3dpbmcgaW4gaGVpZ2h0XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgY29uc3QgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgPSBuZXcgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIoQW5pbWF0aW9uRnJhbWVBY3Rpb24pO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8ge0BsaW5rIGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgY29uc3QgYW5pbWF0aW9uRnJhbWUgPSBhbmltYXRpb25GcmFtZVNjaGVkdWxlcjtcbiIsImltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5cbmludGVyZmFjZSBBbmltYXRpb25GcmFtZVByb3ZpZGVyIHtcbiAgc2NoZWR1bGUoY2FsbGJhY2s6IEZyYW1lUmVxdWVzdENhbGxiYWNrKTogU3Vic2NyaXB0aW9uO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lOiB0eXBlb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gIGRlbGVnYXRlOlxuICAgIHwge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lOiB0eXBlb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBhbmltYXRpb25GcmFtZVByb3ZpZGVyOiBBbmltYXRpb25GcmFtZVByb3ZpZGVyID0ge1xuICAvLyBXaGVuIGFjY2Vzc2luZyB0aGUgZGVsZWdhdGUsIHVzZSB0aGUgdmFyaWFibGUgcmF0aGVyIHRoYW4gYHRoaXNgIHNvIHRoYXRcbiAgLy8gdGhlIGZ1bmN0aW9ucyBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICBzY2hlZHVsZShjYWxsYmFjaykge1xuICAgIGxldCByZXF1ZXN0ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgIGxldCBjYW5jZWw6IHR5cGVvZiBjYW5jZWxBbmltYXRpb25GcmFtZSB8IHVuZGVmaW5lZCA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IGFuaW1hdGlvbkZyYW1lUHJvdmlkZXI7XG4gICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICByZXF1ZXN0ID0gZGVsZWdhdGUucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgICAgY2FuY2VsID0gZGVsZWdhdGUuY2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZSA9IHJlcXVlc3QoKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgLy8gQ2xlYXIgdGhlIGNhbmNlbCBmdW5jdGlvbi4gVGhlIHJlcXVlc3QgaGFzIGJlZW4gZnVsZmlsbGVkLCBzb1xuICAgICAgLy8gYXR0ZW1wdGluZyB0byBjYW5jZWwgdGhlIHJlcXVlc3QgdXBvbiB1bnN1YnNjcmlwdGlvbiB3b3VsZCBiZVxuICAgICAgLy8gcG9pbnRsZXNzLlxuICAgICAgY2FuY2VsID0gdW5kZWZpbmVkO1xuICAgICAgY2FsbGJhY2sodGltZXN0YW1wKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbigoKSA9PiBjYW5jZWw/LihoYW5kbGUpKTtcbiAgfSxcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSBhbmltYXRpb25GcmFtZVByb3ZpZGVyO1xuICAgIHJldHVybiAoZGVsZWdhdGU/LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpKC4uLmFyZ3MpO1xuICB9LFxuICBjYW5jZWxBbmltYXRpb25GcmFtZSguLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gYW5pbWF0aW9uRnJhbWVQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBjYW5jZWxBbmltYXRpb25GcmFtZSkoLi4uYXJncyk7XG4gIH0sXG4gIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuIiwiaW1wb3J0IHsgQXNhcEFjdGlvbiB9IGZyb20gJy4vQXNhcEFjdGlvbic7XG5pbXBvcnQgeyBBc2FwU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc2FwU2NoZWR1bGVyJztcblxuLyoqXG4gKlxuICogQXNhcCBTY2hlZHVsZXJcbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+UGVyZm9ybSB0YXNrIGFzIGZhc3QgYXMgaXQgY2FuIGJlIHBlcmZvcm1lZCBhc3luY2hyb25vdXNseTwvc3Bhbj5cbiAqXG4gKiBgYXNhcGAgc2NoZWR1bGVyIGJlaGF2ZXMgdGhlIHNhbWUgYXMge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBzY2hlZHVsZXIgd2hlbiB5b3UgdXNlIGl0IHRvIGRlbGF5IHRhc2tcbiAqIGluIHRpbWUuIElmIGhvd2V2ZXIgeW91IHNldCBkZWxheSB0byBgMGAsIGBhc2FwYCB3aWxsIHdhaXQgZm9yIGN1cnJlbnQgc3luY2hyb25vdXNseSBleGVjdXRpbmdcbiAqIGNvZGUgdG8gZW5kIGFuZCB0aGVuIGl0IHdpbGwgdHJ5IHRvIGV4ZWN1dGUgZ2l2ZW4gdGFzayBhcyBmYXN0IGFzIHBvc3NpYmxlLlxuICpcbiAqIGBhc2FwYCBzY2hlZHVsZXIgd2lsbCBkbyBpdHMgYmVzdCB0byBtaW5pbWl6ZSB0aW1lIGJldHdlZW4gZW5kIG9mIGN1cnJlbnRseSBleGVjdXRpbmcgY29kZVxuICogYW5kIHN0YXJ0IG9mIHNjaGVkdWxlZCB0YXNrLiBUaGlzIG1ha2VzIGl0IGJlc3QgY2FuZGlkYXRlIGZvciBwZXJmb3JtaW5nIHNvIGNhbGxlZCBcImRlZmVycmluZ1wiLlxuICogVHJhZGl0aW9uYWxseSB0aGlzIHdhcyBhY2hpZXZlZCBieSBjYWxsaW5nIGBzZXRUaW1lb3V0KGRlZmVycmVkVGFzaywgMClgLCBidXQgdGhhdCB0ZWNobmlxdWUgaW52b2x2ZXNcbiAqIHNvbWUgKGFsdGhvdWdoIG1pbmltYWwpIHVud2FudGVkIGRlbGF5LlxuICpcbiAqIE5vdGUgdGhhdCB1c2luZyBgYXNhcGAgc2NoZWR1bGVyIGRvZXMgbm90IG5lY2Vzc2FyaWx5IG1lYW4gdGhhdCB5b3VyIHRhc2sgd2lsbCBiZSBmaXJzdCB0byBwcm9jZXNzXG4gKiBhZnRlciBjdXJyZW50bHkgZXhlY3V0aW5nIGNvZGUuIEluIHBhcnRpY3VsYXIsIGlmIHNvbWUgdGFzayB3YXMgYWxzbyBzY2hlZHVsZWQgd2l0aCBgYXNhcGAgYmVmb3JlLFxuICogdGhhdCB0YXNrIHdpbGwgZXhlY3V0ZSBmaXJzdC4gVGhhdCBiZWluZyBzYWlkLCBpZiB5b3UgbmVlZCB0byBzY2hlZHVsZSB0YXNrIGFzeW5jaHJvbm91c2x5LCBidXRcbiAqIGFzIHNvb24gYXMgcG9zc2libGUsIGBhc2FwYCBzY2hlZHVsZXIgaXMgeW91ciBiZXN0IGJldC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKiBDb21wYXJlIGFzeW5jIGFuZCBhc2FwIHNjaGVkdWxlcjxcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBhc2FwU2NoZWR1bGVyLCBhc3luY1NjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGFzeW5jU2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IGNvbnNvbGUubG9nKCdhc3luYycpKTsgLy8gc2NoZWR1bGluZyAnYXN5bmMnIGZpcnN0Li4uXG4gKiBhc2FwU2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IGNvbnNvbGUubG9nKCdhc2FwJykpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBcImFzYXBcIlxuICogLy8gXCJhc3luY1wiXG4gKiAvLyAuLi4gYnV0ICdhc2FwJyBnb2VzIGZpcnN0IVxuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IGFzYXBTY2hlZHVsZXIgPSBuZXcgQXNhcFNjaGVkdWxlcihBc2FwQWN0aW9uKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZW5hbWVkIHRvIHtAbGluayBhc2FwU2NoZWR1bGVyfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgY29uc3QgYXNhcCA9IGFzYXBTY2hlZHVsZXI7XG4iLCJpbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcblxuLyoqXG4gKlxuICogQXN5bmMgU2NoZWR1bGVyXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlNjaGVkdWxlIHRhc2sgYXMgaWYgeW91IHVzZWQgc2V0VGltZW91dCh0YXNrLCBkdXJhdGlvbik8L3NwYW4+XG4gKlxuICogYGFzeW5jYCBzY2hlZHVsZXIgc2NoZWR1bGVzIHRhc2tzIGFzeW5jaHJvbm91c2x5LCBieSBwdXR0aW5nIHRoZW0gb24gdGhlIEphdmFTY3JpcHRcbiAqIGV2ZW50IGxvb3AgcXVldWUuIEl0IGlzIGJlc3QgdXNlZCB0byBkZWxheSB0YXNrcyBpbiB0aW1lIG9yIHRvIHNjaGVkdWxlIHRhc2tzIHJlcGVhdGluZ1xuICogaW4gaW50ZXJ2YWxzLlxuICpcbiAqIElmIHlvdSBqdXN0IHdhbnQgdG8gXCJkZWZlclwiIHRhc2ssIHRoYXQgaXMgdG8gcGVyZm9ybSBpdCByaWdodCBhZnRlciBjdXJyZW50bHlcbiAqIGV4ZWN1dGluZyBzeW5jaHJvbm91cyBjb2RlIGVuZHMgKGNvbW1vbmx5IGFjaGlldmVkIGJ5IGBzZXRUaW1lb3V0KGRlZmVycmVkVGFzaywgMClgKSxcbiAqIGJldHRlciBjaG9pY2Ugd2lsbCBiZSB0aGUge0BsaW5rIGFzYXBTY2hlZHVsZXJ9IHNjaGVkdWxlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICogVXNlIGFzeW5jIHNjaGVkdWxlciB0byBkZWxheSB0YXNrXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0YXNrID0gKCkgPT4gY29uc29sZS5sb2coJ2l0IHdvcmtzIScpO1xuICpcbiAqIGFzeW5jU2NoZWR1bGVyLnNjaGVkdWxlKHRhc2ssIDIwMDApO1xuICpcbiAqIC8vIEFmdGVyIDIgc2Vjb25kcyBsb2dzOlxuICogLy8gXCJpdCB3b3JrcyFcIlxuICogYGBgXG4gKlxuICogVXNlIGFzeW5jIHNjaGVkdWxlciB0byByZXBlYXQgdGFzayBpbiBpbnRlcnZhbHNcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGZ1bmN0aW9uIHRhc2soc3RhdGUpIHtcbiAqICAgY29uc29sZS5sb2coc3RhdGUpO1xuICogICB0aGlzLnNjaGVkdWxlKHN0YXRlICsgMSwgMTAwMCk7IC8vIGB0aGlzYCByZWZlcmVuY2VzIGN1cnJlbnRseSBleGVjdXRpbmcgQWN0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdlIHJlc2NoZWR1bGUgd2l0aCBuZXcgc3RhdGUgYW5kIGRlbGF5XG4gKiB9XG4gKlxuICogYXN5bmNTY2hlZHVsZXIuc2NoZWR1bGUodGFzaywgMzAwMCwgMCk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDAgYWZ0ZXIgM3NcbiAqIC8vIDEgYWZ0ZXIgNHNcbiAqIC8vIDIgYWZ0ZXIgNXNcbiAqIC8vIDMgYWZ0ZXIgNnNcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBjb25zdCBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZCB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBjb25zdCBhc3luYyA9IGFzeW5jU2NoZWR1bGVyO1xuIiwiaW1wb3J0IHsgVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuLi90eXBlcyc7XG5cbmludGVyZmFjZSBEYXRlVGltZXN0YW1wUHJvdmlkZXIgZXh0ZW5kcyBUaW1lc3RhbXBQcm92aWRlciB7XG4gIGRlbGVnYXRlOiBUaW1lc3RhbXBQcm92aWRlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IGRhdGVUaW1lc3RhbXBQcm92aWRlcjogRGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICBub3coKSB7XG4gICAgLy8gVXNlIHRoZSB2YXJpYWJsZSByYXRoZXIgdGhhbiBgdGhpc2Agc28gdGhhdCB0aGUgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZFxuICAgIC8vIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICAgIHJldHVybiAoZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmRlbGVnYXRlIHx8IERhdGUpLm5vdygpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsImltcG9ydCB7IEltbWVkaWF0ZSB9IGZyb20gJy4uL3V0aWwvSW1tZWRpYXRlJztcbmltcG9ydCB0eXBlIHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcbmNvbnN0IHsgc2V0SW1tZWRpYXRlLCBjbGVhckltbWVkaWF0ZSB9ID0gSW1tZWRpYXRlO1xuXG50eXBlIFNldEltbWVkaWF0ZUZ1bmN0aW9uID0gKGhhbmRsZXI6ICgpID0+IHZvaWQsIC4uLmFyZ3M6IGFueVtdKSA9PiBUaW1lckhhbmRsZTtcbnR5cGUgQ2xlYXJJbW1lZGlhdGVGdW5jdGlvbiA9IChoYW5kbGU6IFRpbWVySGFuZGxlKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgSW1tZWRpYXRlUHJvdmlkZXIge1xuICBzZXRJbW1lZGlhdGU6IFNldEltbWVkaWF0ZUZ1bmN0aW9uO1xuICBjbGVhckltbWVkaWF0ZTogQ2xlYXJJbW1lZGlhdGVGdW5jdGlvbjtcbiAgZGVsZWdhdGU6XG4gICAgfCB7XG4gICAgICAgIHNldEltbWVkaWF0ZTogU2V0SW1tZWRpYXRlRnVuY3Rpb247XG4gICAgICAgIGNsZWFySW1tZWRpYXRlOiBDbGVhckltbWVkaWF0ZUZ1bmN0aW9uO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgaW1tZWRpYXRlUHJvdmlkZXI6IEltbWVkaWF0ZVByb3ZpZGVyID0ge1xuICAvLyBXaGVuIGFjY2Vzc2luZyB0aGUgZGVsZWdhdGUsIHVzZSB0aGUgdmFyaWFibGUgcmF0aGVyIHRoYW4gYHRoaXNgIHNvIHRoYXRcbiAgLy8gdGhlIGZ1bmN0aW9ucyBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICBzZXRJbW1lZGlhdGUoLi4uYXJncykge1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IGltbWVkaWF0ZVByb3ZpZGVyO1xuICAgIHJldHVybiAoZGVsZWdhdGU/LnNldEltbWVkaWF0ZSB8fCBzZXRJbW1lZGlhdGUpKC4uLmFyZ3MpO1xuICB9LFxuICBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSBpbW1lZGlhdGVQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5jbGVhckltbWVkaWF0ZSB8fCBjbGVhckltbWVkaWF0ZSkoaGFuZGxlIGFzIGFueSk7XG4gIH0sXG4gIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuIiwiaW1wb3J0IHR5cGUgeyBUaW1lckhhbmRsZSB9IGZyb20gJy4vdGltZXJIYW5kbGUnO1xudHlwZSBTZXRJbnRlcnZhbEZ1bmN0aW9uID0gKGhhbmRsZXI6ICgpID0+IHZvaWQsIHRpbWVvdXQ/OiBudW1iZXIsIC4uLmFyZ3M6IGFueVtdKSA9PiBUaW1lckhhbmRsZTtcbnR5cGUgQ2xlYXJJbnRlcnZhbEZ1bmN0aW9uID0gKGhhbmRsZTogVGltZXJIYW5kbGUpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBJbnRlcnZhbFByb3ZpZGVyIHtcbiAgc2V0SW50ZXJ2YWw6IFNldEludGVydmFsRnVuY3Rpb247XG4gIGNsZWFySW50ZXJ2YWw6IENsZWFySW50ZXJ2YWxGdW5jdGlvbjtcbiAgZGVsZWdhdGU6XG4gICAgfCB7XG4gICAgICAgIHNldEludGVydmFsOiBTZXRJbnRlcnZhbEZ1bmN0aW9uO1xuICAgICAgICBjbGVhckludGVydmFsOiBDbGVhckludGVydmFsRnVuY3Rpb247XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBpbnRlcnZhbFByb3ZpZGVyOiBJbnRlcnZhbFByb3ZpZGVyID0ge1xuICAvLyBXaGVuIGFjY2Vzc2luZyB0aGUgZGVsZWdhdGUsIHVzZSB0aGUgdmFyaWFibGUgcmF0aGVyIHRoYW4gYHRoaXNgIHNvIHRoYXRcbiAgLy8gdGhlIGZ1bmN0aW9ucyBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICBzZXRJbnRlcnZhbChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gaW50ZXJ2YWxQcm92aWRlcjtcbiAgICBpZiAoZGVsZWdhdGU/LnNldEludGVydmFsKSB7XG4gICAgICByZXR1cm4gZGVsZWdhdGUuc2V0SW50ZXJ2YWwoaGFuZGxlciwgdGltZW91dCwgLi4uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBzZXRJbnRlcnZhbChoYW5kbGVyLCB0aW1lb3V0LCAuLi5hcmdzKTtcbiAgfSxcbiAgY2xlYXJJbnRlcnZhbChoYW5kbGUpIHtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSBpbnRlcnZhbFByb3ZpZGVyO1xuICAgIHJldHVybiAoZGVsZWdhdGU/LmNsZWFySW50ZXJ2YWwgfHwgY2xlYXJJbnRlcnZhbCkoaGFuZGxlIGFzIGFueSk7XG4gIH0sXG4gIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuIiwiaW1wb3J0IHsgVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuLi90eXBlcyc7XG5cbmludGVyZmFjZSBQZXJmb3JtYW5jZVRpbWVzdGFtcFByb3ZpZGVyIGV4dGVuZHMgVGltZXN0YW1wUHJvdmlkZXIge1xuICBkZWxlZ2F0ZTogVGltZXN0YW1wUHJvdmlkZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBwZXJmb3JtYW5jZVRpbWVzdGFtcFByb3ZpZGVyOiBQZXJmb3JtYW5jZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICBub3coKSB7XG4gICAgLy8gVXNlIHRoZSB2YXJpYWJsZSByYXRoZXIgdGhhbiBgdGhpc2Agc28gdGhhdCB0aGUgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZFxuICAgIC8vIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICAgIHJldHVybiAocGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlci5kZWxlZ2F0ZSB8fCBwZXJmb3JtYW5jZSkubm93KCk7XG4gIH0sXG4gIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuIiwiaW1wb3J0IHsgUXVldWVBY3Rpb24gfSBmcm9tICcuL1F1ZXVlQWN0aW9uJztcbmltcG9ydCB7IFF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAnLi9RdWV1ZVNjaGVkdWxlcic7XG5cbi8qKlxuICpcbiAqIFF1ZXVlIFNjaGVkdWxlclxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5QdXQgZXZlcnkgbmV4dCB0YXNrIG9uIGEgcXVldWUsIGluc3RlYWQgb2YgZXhlY3V0aW5nIGl0IGltbWVkaWF0ZWx5PC9zcGFuPlxuICpcbiAqIGBxdWV1ZWAgc2NoZWR1bGVyLCB3aGVuIHVzZWQgd2l0aCBkZWxheSwgYmVoYXZlcyB0aGUgc2FtZSBhcyB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9IHNjaGVkdWxlci5cbiAqXG4gKiBXaGVuIHVzZWQgd2l0aG91dCBkZWxheSwgaXQgc2NoZWR1bGVzIGdpdmVuIHRhc2sgc3luY2hyb25vdXNseSAtIGV4ZWN1dGVzIGl0IHJpZ2h0IHdoZW5cbiAqIGl0IGlzIHNjaGVkdWxlZC4gSG93ZXZlciB3aGVuIGNhbGxlZCByZWN1cnNpdmVseSwgdGhhdCBpcyB3aGVuIGluc2lkZSB0aGUgc2NoZWR1bGVkIHRhc2ssXG4gKiBhbm90aGVyIHRhc2sgaXMgc2NoZWR1bGVkIHdpdGggcXVldWUgc2NoZWR1bGVyLCBpbnN0ZWFkIG9mIGV4ZWN1dGluZyBpbW1lZGlhdGVseSBhcyB3ZWxsLFxuICogdGhhdCB0YXNrIHdpbGwgYmUgcHV0IG9uIGEgcXVldWUgYW5kIHdhaXQgZm9yIGN1cnJlbnQgb25lIHRvIGZpbmlzaC5cbiAqXG4gKiBUaGlzIG1lYW5zIHRoYXQgd2hlbiB5b3UgZXhlY3V0ZSB0YXNrIHdpdGggYHF1ZXVlYCBzY2hlZHVsZXIsIHlvdSBhcmUgc3VyZSBpdCB3aWxsIGVuZFxuICogYmVmb3JlIGFueSBvdGhlciB0YXNrIHNjaGVkdWxlZCB3aXRoIHRoYXQgc2NoZWR1bGVyIHdpbGwgc3RhcnQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqIFNjaGVkdWxlIHJlY3Vyc2l2ZWx5IGZpcnN0LCB0aGVuIGRvIHNvbWV0aGluZ1xuICogYGBgdHNcbiAqIGltcG9ydCB7IHF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogcXVldWVTY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICogICBxdWV1ZVNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBjb25zb2xlLmxvZygnc2Vjb25kJykpOyAvLyB3aWxsIG5vdCBoYXBwZW4gbm93LCBidXQgd2lsbCBiZSBwdXQgb24gYSBxdWV1ZVxuICpcbiAqICAgY29uc29sZS5sb2coJ2ZpcnN0Jyk7XG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gXCJmaXJzdFwiXG4gKiAvLyBcInNlY29uZFwiXG4gKiBgYGBcbiAqXG4gKiBSZXNjaGVkdWxlIGl0c2VsZiByZWN1cnNpdmVseVxuICogYGBgdHNcbiAqIGltcG9ydCB7IHF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogcXVldWVTY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24oc3RhdGUpIHtcbiAqICAgaWYgKHN0YXRlICE9PSAwKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ2JlZm9yZScsIHN0YXRlKTtcbiAqICAgICB0aGlzLnNjaGVkdWxlKHN0YXRlIC0gMSk7IC8vIGB0aGlzYCByZWZlcmVuY2VzIGN1cnJlbnRseSBleGVjdXRpbmcgQWN0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggd2UgcmVzY2hlZHVsZSB3aXRoIG5ldyBzdGF0ZVxuICogICAgIGNvbnNvbGUubG9nKCdhZnRlcicsIHN0YXRlKTtcbiAqICAgfVxuICogfSwgMCwgMyk7XG4gKlxuICogLy8gSW4gc2NoZWR1bGVyIHRoYXQgcnVucyByZWN1cnNpdmVseSwgeW91IHdvdWxkIGV4cGVjdDpcbiAqIC8vIFwiYmVmb3JlXCIsIDNcbiAqIC8vIFwiYmVmb3JlXCIsIDJcbiAqIC8vIFwiYmVmb3JlXCIsIDFcbiAqIC8vIFwiYWZ0ZXJcIiwgMVxuICogLy8gXCJhZnRlclwiLCAyXG4gKiAvLyBcImFmdGVyXCIsIDNcbiAqXG4gKiAvLyBCdXQgd2l0aCBxdWV1ZSBpdCBsb2dzOlxuICogLy8gXCJiZWZvcmVcIiwgM1xuICogLy8gXCJhZnRlclwiLCAzXG4gKiAvLyBcImJlZm9yZVwiLCAyXG4gKiAvLyBcImFmdGVyXCIsIDJcbiAqIC8vIFwiYmVmb3JlXCIsIDFcbiAqIC8vIFwiYWZ0ZXJcIiwgMVxuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IHF1ZXVlU2NoZWR1bGVyID0gbmV3IFF1ZXVlU2NoZWR1bGVyKFF1ZXVlQWN0aW9uKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZW5hbWVkIHRvIHtAbGluayBxdWV1ZVNjaGVkdWxlcn0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IHF1ZXVlID0gcXVldWVTY2hlZHVsZXI7XG4iLCJpbXBvcnQgdHlwZSB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG50eXBlIFNldFRpbWVvdXRGdW5jdGlvbiA9IChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSkgPT4gVGltZXJIYW5kbGU7XG50eXBlIENsZWFyVGltZW91dEZ1bmN0aW9uID0gKGhhbmRsZTogVGltZXJIYW5kbGUpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBUaW1lb3V0UHJvdmlkZXIge1xuICBzZXRUaW1lb3V0OiBTZXRUaW1lb3V0RnVuY3Rpb247XG4gIGNsZWFyVGltZW91dDogQ2xlYXJUaW1lb3V0RnVuY3Rpb247XG4gIGRlbGVnYXRlOlxuICAgIHwge1xuICAgICAgICBzZXRUaW1lb3V0OiBTZXRUaW1lb3V0RnVuY3Rpb247XG4gICAgICAgIGNsZWFyVGltZW91dDogQ2xlYXJUaW1lb3V0RnVuY3Rpb247XG4gICAgICB9XG4gICAgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCB0aW1lb3V0UHJvdmlkZXI6IFRpbWVvdXRQcm92aWRlciA9IHtcbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdGhlIGRlbGVnYXRlLCB1c2UgdGhlIHZhcmlhYmxlIHJhdGhlciB0aGFuIGB0aGlzYCBzbyB0aGF0XG4gIC8vIHRoZSBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgc2V0VGltZW91dChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gdGltZW91dFByb3ZpZGVyO1xuICAgIGlmIChkZWxlZ2F0ZT8uc2V0VGltZW91dCkge1xuICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldFRpbWVvdXQoaGFuZGxlciwgdGltZW91dCwgLi4uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBzZXRUaW1lb3V0KGhhbmRsZXIsIHRpbWVvdXQsIC4uLmFyZ3MpO1xuICB9LFxuICBjbGVhclRpbWVvdXQoaGFuZGxlKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gdGltZW91dFByb3ZpZGVyO1xuICAgIHJldHVybiAoZGVsZWdhdGU/LmNsZWFyVGltZW91dCB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSBhcyBhbnkpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpOiBzeW1ib2wge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgcmV0dXJuICdAQGl0ZXJhdG9yJyBhcyBhbnk7XG4gIH1cblxuICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuXG5leHBvcnQgY29uc3QgaXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuIiwiLyoqXG4gKiBTeW1ib2wub2JzZXJ2YWJsZSBvciBhIHN0cmluZyBcIkBAb2JzZXJ2YWJsZVwiLiBVc2VkIGZvciBpbnRlcm9wXG4gKlxuICogQGRlcHJlY2F0ZWQgV2Ugd2lsbCBubyBsb25nZXIgYmUgZXhwb3J0aW5nIHRoaXMgc3ltYm9sIGluIHVwY29taW5nIHZlcnNpb25zIG9mIFJ4SlMuXG4gKiBJbnN0ZWFkIHBvbHlmaWxsIGFuZCB1c2UgU3ltYm9sLm9ic2VydmFibGUgZGlyZWN0bHkgKm9yKiB1c2UgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvc3ltYm9sLW9ic2VydmFibGVcbiAqL1xuZXhwb3J0IGNvbnN0IG9ic2VydmFibGU6IHN0cmluZyB8IHN5bWJvbCA9ICgoKSA9PiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZScpKCk7XG4iLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JDdG9yIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gRG8gbm90IGNvbnN0cnVjdCBlcnJvciBpbnN0YW5jZXMuXG4gICAqIENhbm5vdCBiZSB0YWdnZWQgYXMgaW50ZXJuYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNjI2OVxuICAgKi9cbiAgbmV3ICgpOiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhbiBlbGVtZW50IHdhcyBxdWVyaWVkIGF0IGEgY2VydGFpbiBpbmRleCBvZiBhblxuICogT2JzZXJ2YWJsZSwgYnV0IG5vIHN1Y2ggaW5kZXggb3IgcG9zaXRpb24gZXhpc3RzIGluIHRoYXQgc2VxdWVuY2UuXG4gKlxuICogQHNlZSB7QGxpbmsgZWxlbWVudEF0fVxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqIEBzZWUge0BsaW5rIHRha2VMYXN0fVxuICpcbiAqIEBjbGFzcyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvclxuICovXG5leHBvcnQgY29uc3QgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3I6IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoXG4gIChfc3VwZXIpID0+XG4gICAgZnVuY3Rpb24gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsKHRoaXM6IGFueSkge1xuICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgIH1cbik7XG4iLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBFbXB0eUVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGludGVyZmFjZSBFbXB0eUVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyAoKTogRW1wdHlFcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhbiBPYnNlcnZhYmxlIG9yIGEgc2VxdWVuY2Ugd2FzIHF1ZXJpZWQgYnV0IGhhcyBub1xuICogZWxlbWVudHMuXG4gKlxuICogQHNlZSB7QGxpbmsgZmlyc3R9XG4gKiBAc2VlIHtAbGluayBsYXN0fVxuICogQHNlZSB7QGxpbmsgc2luZ2xlfVxuICogQHNlZSB7QGxpbmsgZmlyc3RWYWx1ZUZyb219XG4gKiBAc2VlIHtAbGluayBsYXN0VmFsdWVGcm9tfVxuICpcbiAqIEBjbGFzcyBFbXB0eUVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBFbXB0eUVycm9yOiBFbXB0eUVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoKF9zdXBlcikgPT4gZnVuY3Rpb24gRW1wdHlFcnJvckltcGwodGhpczogYW55KSB7XG4gIF9zdXBlcih0aGlzKTtcbiAgdGhpcy5uYW1lID0gJ0VtcHR5RXJyb3InO1xuICB0aGlzLm1lc3NhZ2UgPSAnbm8gZWxlbWVudHMgaW4gc2VxdWVuY2UnO1xufSk7XG4iLCJsZXQgbmV4dEhhbmRsZSA9IDE7XG4vLyBUaGUgcHJvbWlzZSBuZWVkcyB0byBiZSBjcmVhdGVkIGxhemlseSBvdGhlcndpc2UgaXQgd29uJ3QgYmUgcGF0Y2hlZCBieSBab25lc1xubGV0IHJlc29sdmVkOiBQcm9taXNlPGFueT47XG5jb25zdCBhY3RpdmVIYW5kbGVzOiB7IFtrZXk6IG51bWJlcl06IGFueSB9ID0ge307XG5cbi8qKlxuICogRmluZHMgdGhlIGhhbmRsZSBpbiB0aGUgbGlzdCBvZiBhY3RpdmUgaGFuZGxlcywgYW5kIHJlbW92ZXMgaXQuXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBmb3VuZCwgYGZhbHNlYCBvdGhlcndpc2UuIFVzZWQgYm90aCB0byBjbGVhclxuICogSW1tZWRpYXRlIHNjaGVkdWxlZCB0YXNrcywgYW5kIHRvIGlkZW50aWZ5IGlmIGEgdGFzayBzaG91bGQgYmUgc2NoZWR1bGVkLlxuICovXG5mdW5jdGlvbiBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKGhhbmRsZSBpbiBhY3RpdmVIYW5kbGVzKSB7XG4gICAgZGVsZXRlIGFjdGl2ZUhhbmRsZXNbaGFuZGxlXTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9ucyB0byBzY2hlZHVsZSBhbmQgdW5zY2hlZHVsZSBtaWNyb3Rhc2tzLlxuICovXG5leHBvcnQgY29uc3QgSW1tZWRpYXRlID0ge1xuICBzZXRJbW1lZGlhdGUoY2I6ICgpID0+IHZvaWQpOiBudW1iZXIge1xuICAgIGNvbnN0IGhhbmRsZSA9IG5leHRIYW5kbGUrKztcbiAgICBhY3RpdmVIYW5kbGVzW2hhbmRsZV0gPSB0cnVlO1xuICAgIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgIHJlc29sdmVkID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlc29sdmVkLnRoZW4oKCkgPT4gZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZSkgJiYgY2IoKSk7XG4gICAgcmV0dXJuIGhhbmRsZTtcbiAgfSxcblxuICBjbGVhckltbWVkaWF0ZShoYW5kbGU6IG51bWJlcik6IHZvaWQge1xuICAgIGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpO1xuICB9LFxufTtcblxuLyoqXG4gKiBVc2VkIGZvciBpbnRlcm5hbCB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuIERvIG5vdCBleHBvcnQgZnJvbSBsaWJyYXJ5LlxuICovXG5leHBvcnQgY29uc3QgVGVzdFRvb2xzID0ge1xuICBwZW5kaW5nKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhhY3RpdmVIYW5kbGVzKS5sZW5ndGg7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGludGVyZmFjZSBOb3RGb3VuZEVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyAobWVzc2FnZTogc3RyaW5nKTogTm90Rm91bmRFcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhIHZhbHVlIG9yIHZhbHVlcyBhcmUgbWlzc2luZyBmcm9tIGFuXG4gKiBvYnNlcnZhYmxlIHNlcXVlbmNlLlxuICpcbiAqIEBzZWUge0BsaW5rIG9wZXJhdG9ycy9zaW5nbGV9XG4gKlxuICogQGNsYXNzIE5vdEZvdW5kRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IE5vdEZvdW5kRXJyb3I6IE5vdEZvdW5kRXJyb3JDdG9yID0gY3JlYXRlRXJyb3JDbGFzcyhcbiAgKF9zdXBlcikgPT5cbiAgICBmdW5jdGlvbiBOb3RGb3VuZEVycm9ySW1wbCh0aGlzOiBhbnksIG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ05vdEZvdW5kRXJyb3InO1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4pO1xuIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyAoKTogT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I7XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gYW4gYWN0aW9uIGlzIGludmFsaWQgYmVjYXVzZSB0aGUgb2JqZWN0IGhhcyBiZWVuXG4gKiB1bnN1YnNjcmliZWQuXG4gKlxuICogQHNlZSB7QGxpbmsgU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIEJlaGF2aW9yU3ViamVjdH1cbiAqXG4gKiBAY2xhc3MgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yOiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckN0b3IgPSBjcmVhdGVFcnJvckNsYXNzKFxuICAoX3N1cGVyKSA9PlxuICAgIGZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCh0aGlzOiBhbnkpIHtcbiAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSAnb2JqZWN0IHVuc3Vic2NyaWJlZCc7XG4gICAgfVxuKTtcbiIsImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcXVlbmNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlcXVlbmNlRXJyb3JDdG9yIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gRG8gbm90IGNvbnN0cnVjdCBlcnJvciBpbnN0YW5jZXMuXG4gICAqIENhbm5vdCBiZSB0YWdnZWQgYXMgaW50ZXJuYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNjI2OVxuICAgKi9cbiAgbmV3IChtZXNzYWdlOiBzdHJpbmcpOiBTZXF1ZW5jZUVycm9yO1xufVxuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIHNvbWV0aGluZyBpcyB3cm9uZyB3aXRoIHRoZSBzZXF1ZW5jZSBvZlxuICogdmFsdWVzIGFycml2aW5nIG9uIHRoZSBvYnNlcnZhYmxlLlxuICpcbiAqIEBzZWUge0BsaW5rIG9wZXJhdG9ycy9zaW5nbGV9XG4gKlxuICogQGNsYXNzIFNlcXVlbmNlRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IFNlcXVlbmNlRXJyb3I6IFNlcXVlbmNlRXJyb3JDdG9yID0gY3JlYXRlRXJyb3JDbGFzcyhcbiAgKF9zdXBlcikgPT5cbiAgICBmdW5jdGlvbiBTZXF1ZW5jZUVycm9ySW1wbCh0aGlzOiBhbnksIG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ1NlcXVlbmNlRXJyb3InO1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4pO1xuIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5zdWJzY3JpcHRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVhZG9ubHkgZXJyb3JzOiBhbnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbnN1YnNjcmlwdGlvbkVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyAoZXJyb3JzOiBhbnlbXSk6IFVuc3Vic2NyaXB0aW9uRXJyb3I7XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gb25lIG9yIG1vcmUgZXJyb3JzIGhhdmUgb2NjdXJyZWQgZHVyaW5nIHRoZVxuICogYHVuc3Vic2NyaWJlYCBvZiBhIHtAbGluayBTdWJzY3JpcHRpb259LlxuICovXG5leHBvcnQgY29uc3QgVW5zdWJzY3JpcHRpb25FcnJvcjogVW5zdWJzY3JpcHRpb25FcnJvckN0b3IgPSBjcmVhdGVFcnJvckNsYXNzKFxuICAoX3N1cGVyKSA9PlxuICAgIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKHRoaXM6IGFueSwgZXJyb3JzOiAoRXJyb3IgfCBzdHJpbmcpW10pIHtcbiAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yc1xuICAgICAgICA/IGAke2Vycm9ycy5sZW5ndGh9IGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XG4ke2Vycm9ycy5tYXAoKGVyciwgaSkgPT4gYCR7aSArIDF9KSAke2Vyci50b1N0cmluZygpfWApLmpvaW4oJ1xcbiAgJyl9YFxuICAgICAgICA6ICcnO1xuICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuKTtcbiIsImltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi9pc1NjaGVkdWxlcic7XG5cbmZ1bmN0aW9uIGxhc3Q8VD4oYXJyOiBUW10pOiBUIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3BSZXN1bHRTZWxlY3RvcihhcmdzOiBhbnlbXSk6ICgoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duKSB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcFNjaGVkdWxlcihhcmdzOiBhbnlbXSk6IFNjaGVkdWxlckxpa2UgfCB1bmRlZmluZWQge1xuICByZXR1cm4gaXNTY2hlZHVsZXIobGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9wTnVtYmVyKGFyZ3M6IGFueVtdLCBkZWZhdWx0VmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB0eXBlb2YgbGFzdChhcmdzKSA9PT0gJ251bWJlcicgPyBhcmdzLnBvcCgpISA6IGRlZmF1bHRWYWx1ZTtcbn1cbiIsImNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5jb25zdCB7IGdldFByb3RvdHlwZU9mLCBwcm90b3R5cGU6IG9iamVjdFByb3RvLCBrZXlzOiBnZXRLZXlzIH0gPSBPYmplY3Q7XG5cbi8qKlxuICogVXNlZCBpbiBmdW5jdGlvbnMgd2hlcmUgZWl0aGVyIGEgbGlzdCBvZiBhcmd1bWVudHMsIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cywgb3IgYVxuICogZGljdGlvbmFyeSBvZiBhcmd1bWVudHMgY2FuIGJlIHJldHVybmVkLiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGFuIGBhcmdzYCBwcm9wZXJ0eSB3aXRoXG4gKiB0aGUgYXJndW1lbnRzIGluIGFuIGFycmF5LCBpZiBpdCBpcyBhIGRpY3Rpb25hcnksIGl0IHdpbGwgYWxzbyByZXR1cm4gdGhlIGBrZXlzYCBpbiBhbm90aGVyXG4gKiBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ3NBcmdBcnJheU9yT2JqZWN0PFQsIE8gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBUPj4oYXJnczogVFtdIHwgW09dIHwgW1RbXV0pOiB7IGFyZ3M6IFRbXTsga2V5czogc3RyaW5nW10gfCBudWxsIH0ge1xuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBmaXJzdCA9IGFyZ3NbMF07XG4gICAgaWYgKGlzQXJyYXkoZmlyc3QpKSB7XG4gICAgICByZXR1cm4geyBhcmdzOiBmaXJzdCwga2V5czogbnVsbCB9O1xuICAgIH1cbiAgICBpZiAoaXNQT0pPKGZpcnN0KSkge1xuICAgICAgY29uc3Qga2V5cyA9IGdldEtleXMoZmlyc3QpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXJnczoga2V5cy5tYXAoKGtleSkgPT4gZmlyc3Rba2V5XSksXG4gICAgICAgIGtleXMsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IGFyZ3M6IGFyZ3MgYXMgVFtdLCBrZXlzOiBudWxsIH07XG59XG5cbmZ1bmN0aW9uIGlzUE9KTyhvYmo6IGFueSk6IG9iaiBpcyBvYmplY3Qge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIGdldFByb3RvdHlwZU9mKG9iaikgPT09IG9iamVjdFByb3RvO1xufVxuIiwiY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcblxuLyoqXG4gKiBVc2VkIGluIG9wZXJhdG9ycyBhbmQgZnVuY3Rpb25zIHRoYXQgYWNjZXB0IGVpdGhlciBhIGxpc3Qgb2YgYXJndW1lbnRzLCBvciBhbiBhcnJheSBvZiBhcmd1bWVudHNcbiAqIGFzIGEgc2luZ2xlIGFyZ3VtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJnc09yQXJnQXJyYXk8VD4oYXJnczogKFQgfCBUW10pW10pOiBUW10ge1xuICByZXR1cm4gYXJncy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiAoYXJncyBhcyBUW10pO1xufVxuIiwiLyoqXG4gKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBhcnJheSwgbXV0YXRpbmcgaXQuXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSB0byByZW1vdmUgdGhlIGl0ZW0gZnJvbVxuICogQHBhcmFtIGl0ZW0gVGhlIGl0ZW0gdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJSZW1vdmU8VD4oYXJyOiBUW10gfCB1bmRlZmluZWQgfCBudWxsLCBpdGVtOiBUKSB7XG4gIGlmIChhcnIpIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cbiIsIi8qKlxuICogVXNlZCB0byBjcmVhdGUgRXJyb3Igc3ViY2xhc3NlcyB1bnRpbCB0aGUgY29tbXVuaXR5IG1vdmVzIGF3YXkgZnJvbSBFUzUuXG4gKlxuICogVGhpcyBpcyBiZWNhdXNlIGNvbXBpbGluZyBmcm9tIFR5cGVTY3JpcHQgZG93biB0byBFUzUgaGFzIGlzc3VlcyB3aXRoIHN1YmNsYXNzaW5nIEVycm9yc1xuICogYXMgd2VsbCBhcyBvdGhlciBidWlsdC1pbiB0eXBlczogaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMjEyM1xuICpcbiAqIEBwYXJhbSBjcmVhdGVJbXBsIEEgZmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGFjdHVhbCBjb25zdHJ1Y3RvciBpbXBsZW1lbnRhdGlvbi4gVGhlIHJldHVybmVkXG4gKiBmdW5jdGlvbiBzaG91bGQgYmUgYSBuYW1lZCBmdW5jdGlvbiB0aGF0IGNhbGxzIGBfc3VwZXJgIGludGVybmFsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFcnJvckNsYXNzPFQ+KGNyZWF0ZUltcGw6IChfc3VwZXI6IGFueSkgPT4gYW55KTogVCB7XG4gIGNvbnN0IF9zdXBlciA9IChpbnN0YW5jZTogYW55KSA9PiB7XG4gICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgfTtcblxuICBjb25zdCBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICBjdG9yRnVuYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yRnVuYztcbiAgcmV0dXJuIGN0b3JGdW5jO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChrZXlzOiBzdHJpbmdbXSwgdmFsdWVzOiBhbnlbXSkge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKHJlc3VsdCwga2V5LCBpKSA9PiAoKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldKSwgcmVzdWx0KSwge30gYXMgYW55KTtcbn1cbiIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5cbmxldCBjb250ZXh0OiB7IGVycm9yVGhyb3duOiBib29sZWFuOyBlcnJvcjogYW55IH0gfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBIYW5kbGVzIGRlYWxpbmcgd2l0aCBlcnJvcnMgZm9yIHN1cGVyLWdyb3NzIG1vZGUuIENyZWF0ZXMgYSBjb250ZXh0LCBpbiB3aGljaFxuICogYW55IHN5bmNocm9ub3VzbHkgdGhyb3duIGVycm9ycyB3aWxsIGJlIHBhc3NlZCB0byB7QGxpbmsgY2FwdHVyZUVycm9yfS4gV2hpY2hcbiAqIHdpbGwgcmVjb3JkIHRoZSBlcnJvciBzdWNoIHRoYXQgaXQgd2lsbCBiZSByZXRocm93biBhZnRlciB0aGUgY2FsbCBiYWNrIGlzIGNvbXBsZXRlLlxuICogVE9ETzogUmVtb3ZlIGluIHY4XG4gKiBAcGFyYW0gY2IgQW4gaW1tZWRpYXRlbHkgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvckNvbnRleHQoY2I6ICgpID0+IHZvaWQpIHtcbiAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgY29uc3QgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgaWYgKGlzUm9vdCkge1xuICAgICAgY29udGV4dCA9IHsgZXJyb3JUaHJvd246IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICAgIH1cbiAgICBjYigpO1xuICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgIGNvbnN0IHsgZXJyb3JUaHJvd24sIGVycm9yIH0gPSBjb250ZXh0ITtcbiAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBnZW5lcmFsIG5vbi1kZXByZWNhdGVkIHBhdGggZm9yIGV2ZXJ5b25lIHRoYXRcbiAgICAvLyBpc24ndCBjcmF6eSBlbm91Z2ggdG8gdXNlIHN1cGVyLWdyb3NzIG1vZGUgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpXG4gICAgY2IoKTtcbiAgfVxufVxuXG4vKipcbiAqIENhcHR1cmVzIGVycm9ycyBvbmx5IGluIHN1cGVyLWdyb3NzIG1vZGUuXG4gKiBAcGFyYW0gZXJyIHRoZSBlcnJvciB0byBjYXB0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyOiBhbnkpIHtcbiAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LmVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICBjb250ZXh0LmVycm9yID0gZXJyO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgU2NoZWR1bGVyQWN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKFxuICBwYXJlbnRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbixcbiAgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlLFxuICB3b3JrOiAoKSA9PiB2b2lkLFxuICBkZWxheTogbnVtYmVyLFxuICByZXBlYXQ6IHRydWVcbik6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKFxuICBwYXJlbnRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbixcbiAgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlLFxuICB3b3JrOiAoKSA9PiB2b2lkLFxuICBkZWxheT86IG51bWJlcixcbiAgcmVwZWF0PzogZmFsc2Vcbik6IFN1YnNjcmlwdGlvbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShcbiAgcGFyZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24sXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSxcbiAgd29yazogKCkgPT4gdm9pZCxcbiAgZGVsYXkgPSAwLFxuICByZXBlYXQgPSBmYWxzZVxuKTogU3Vic2NyaXB0aW9uIHwgdm9pZCB7XG4gIGNvbnN0IHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICh0aGlzOiBTY2hlZHVsZXJBY3Rpb248YW55Pikge1xuICAgIHdvcmsoKTtcbiAgICBpZiAocmVwZWF0KSB7XG4gICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfSwgZGVsYXkpO1xuXG4gIHBhcmVudFN1YnNjcmlwdGlvbi5hZGQoc2NoZWR1bGVTdWJzY3JpcHRpb24pO1xuXG4gIGlmICghcmVwZWF0KSB7XG4gICAgLy8gQmVjYXVzZSB1c2VyLWxhbmQgc2NoZWR1bGVyIGltcGxlbWVudGF0aW9ucyBhcmUgdW5saWtlbHkgdG8gcHJvcGVybHkgcmV1c2VcbiAgICAvLyBBY3Rpb25zIGZvciByZXBlYXQgc2NoZWR1bGluZywgd2UgY2FuJ3QgdHJ1c3QgdGhhdCB0aGUgcmV0dXJuZWQgc3Vic2NyaXB0aW9uXG4gICAgLy8gd2lsbCBjb250cm9sIHJlcGVhdCBzdWJzY3JpcHRpb24gc2NlbmFyaW9zLiBTbyB3ZSdyZSB0cnlpbmcgdG8gYXZvaWQgdXNpbmcgdGhlbVxuICAgIC8vIGluY29ycmVjdGx5IHdpdGhpbiB0aGlzIGxpYnJhcnkuXG4gICAgcmV0dXJuIHNjaGVkdWxlU3Vic2NyaXB0aW9uO1xuICB9XG59XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgb25lIHBhcmFtZXRlciBhbmQganVzdCByZXR1cm5zIGl0LiBTaW1wbHkgcHV0LFxuICogdGhpcyBpcyBsaWtlIGA8VD4oeDogVCk6IFQgPT4geGAuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBpbiBzb21lIGNhc2VzIHdoZW4gdXNpbmcgdGhpbmdzIGxpa2UgYG1lcmdlTWFwYFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgbWFwLCByYW5nZSwgbWVyZ2VNYXAsIGlkZW50aXR5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlJCA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg1KSk7XG4gKlxuICogY29uc3QgcmVzdWx0JCA9IHNvdXJjZSQucGlwZShcbiAqICAgbWFwKGkgPT4gcmFuZ2UoaSkpLFxuICogICBtZXJnZU1hcChpZGVudGl0eSkgLy8gc2FtZSBhcyBtZXJnZU1hcCh4ID0+IHgpXG4gKiApO1xuICpcbiAqIHJlc3VsdCQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2dcbiAqIH0pO1xuICogYGBgXG4gKlxuICogT3Igd2hlbiB5b3Ugd2FudCB0byBzZWxlY3RpdmVseSBhcHBseSBhbiBvcGVyYXRvclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgaWRlbnRpdHkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzaG91bGRMaW1pdCA9ICgpID0+IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gKlxuICogY29uc3Qgc291cmNlJCA9IGludGVydmFsKDEwMDApO1xuICpcbiAqIGNvbnN0IHJlc3VsdCQgPSBzb3VyY2UkLnBpcGUoc2hvdWxkTGltaXQoKSA/IHRha2UoNSkgOiBpZGVudGl0eSk7XG4gKlxuICogcmVzdWx0JC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiBjb25zb2xlLmxvZ1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBBbnkgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBUaGUgdmFsdWUgcGFzc2VkIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIgdG8gdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHk8VD4oeDogVCk6IFQge1xuICByZXR1cm4geDtcbn1cbiIsImV4cG9ydCBjb25zdCBpc0FycmF5TGlrZSA9ICg8VD4oeDogYW55KTogeCBpcyBBcnJheUxpa2U8VD4gPT4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nKTsiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZTxUPihvYmo6IGFueSk6IG9iaiBpcyBBc3luY0l0ZXJhYmxlPFQ+IHtcbiAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yICYmIGlzRnVuY3Rpb24ob2JqPy5bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKTtcbn1cbiIsIi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiBhIHZhbHVlIGlzIG5vdCBvbmx5IGEgYERhdGVgIG9iamVjdCxcbiAqIGJ1dCBhICp2YWxpZCogYERhdGVgIG9iamVjdCB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYVxuICogbnVtYmVyLiBGb3IgZXhhbXBsZSwgYG5ldyBEYXRlKCdibGFoJylgIGlzIGluZGVlZCBhblxuICogYGluc3RhbmNlb2YgRGF0ZWAsIGhvd2V2ZXIgaXQgY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhXG4gKiBudW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgRGF0ZSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbHVlIGFzIGFueSk7XG59XG4iLCIvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgZnVuY3Rpb24uXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyAoLi4uYXJnczogYW55W10pID0+IGFueSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4iLCJpbXBvcnQgeyBJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuLyoqIElkZW50aWZpZXMgYW4gaW5wdXQgYXMgYmVpbmcgT2JzZXJ2YWJsZSAoYnV0IG5vdCBuZWNlc3NhcnkgYW4gUnggT2JzZXJ2YWJsZSkgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0OiBhbnkpOiBpbnB1dCBpcyBJbnRlcm9wT2JzZXJ2YWJsZTxhbnk+IHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbiIsImltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuLyoqIElkZW50aWZpZXMgYW4gaW5wdXQgYXMgYmVpbmcgYW4gSXRlcmFibGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0OiBhbnkpOiBpbnB1dCBpcyBJdGVyYWJsZTxhbnk+IHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXQ/LltTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbiIsIi8qKiBwcmV0dGllciAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbi8qKlxuICogVGVzdHMgdG8gc2VlIGlmIHRoZSBvYmplY3QgaXMgYW4gUnhKUyB7QGxpbmsgT2JzZXJ2YWJsZX1cbiAqIEBwYXJhbSBvYmogdGhlIG9iamVjdCB0byB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09ic2VydmFibGUob2JqOiBhbnkpOiBvYmogaXMgT2JzZXJ2YWJsZTx1bmtub3duPiB7XG4gIC8vIFRoZSAhISBpcyB0byBlbnN1cmUgdGhhdCB0aGlzIHB1YmxpY2x5IGV4cG9zZWQgZnVuY3Rpb24gcmV0dXJuc1xuICAvLyBgZmFsc2VgIGlmIHNvbWV0aGluZyBsaWtlIGBudWxsYCBvciBgMGAgaXMgcGFzc2VkLlxuICByZXR1cm4gISFvYmogJiYgKG9iaiBpbnN0YW5jZW9mIE9ic2VydmFibGUgfHwgKGlzRnVuY3Rpb24ob2JqLmxpZnQpICYmIGlzRnVuY3Rpb24ob2JqLnN1YnNjcmliZSkpKTtcbn1cbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi9pc0Z1bmN0aW9uXCI7XG5cbi8qKlxuICogVGVzdHMgdG8gc2VlIGlmIHRoZSBvYmplY3QgaXMgXCJ0aGVubmFibGVcIi5cbiAqIEBwYXJhbSB2YWx1ZSB0aGUgb2JqZWN0IHRvIHRlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55PiB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlPy50aGVuKTtcbn1cbiIsImltcG9ydCB7IFJlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24qIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3I8VD4ocmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtTGlrZTxUPik6IEFzeW5jR2VuZXJhdG9yPFQ+IHtcbiAgY29uc3QgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB5aWVsZCB2YWx1ZSE7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZTxUPihvYmo6IGFueSk6IG9iaiBpcyBSZWFkYWJsZVN0cmVhbUxpa2U8VD4ge1xuICAvLyBXZSBkb24ndCB3YW50IHRvIHVzZSBpbnN0YW5jZW9mIGNoZWNrcyBiZWNhdXNlIHRoZXkgd291bGQgcmV0dXJuXG4gIC8vIGZhbHNlIGZvciBpbnN0YW5jZXMgZnJvbSBhbm90aGVyIFJlYWxtLCBsaWtlIGFuIDxpZnJhbWU+LlxuICByZXR1cm4gaXNGdW5jdGlvbihvYmo/LmdldFJlYWRlcik7XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZTogYW55KTogdmFsdWUgaXMgU2NoZWR1bGVyTGlrZSB7XG4gIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnNjaGVkdWxlKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuLyoqXG4gKiBVc2VkIHRvIGRldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYW4gT2JzZXJ2YWJsZSB3aXRoIGEgbGlmdCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlOiBhbnkpOiBzb3VyY2UgaXMgeyBsaWZ0OiBJbnN0YW5jZVR5cGU8dHlwZW9mIE9ic2VydmFibGU+WydsaWZ0J10gfSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZT8ubGlmdCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBgT3BlcmF0b3JGdW5jdGlvbmAuIFVzZWQgdG8gZGVmaW5lIG9wZXJhdG9ycyB0aHJvdWdob3V0IHRoZSBsaWJyYXJ5IGluIGEgY29uY2lzZSB3YXkuXG4gKiBAcGFyYW0gaW5pdCBUaGUgbG9naWMgdG8gY29ubmVjdCB0aGUgbGlmdGVkU291cmNlIHRvIHRoZSBzdWJzY3JpYmVyIGF0IHRoZSBtb21lbnQgb2Ygc3Vic2NyaXB0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3BlcmF0ZTxULCBSPihcbiAgaW5pdDogKGxpZnRlZFNvdXJjZTogT2JzZXJ2YWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxSPikgPT4gKCgpID0+IHZvaWQpIHwgdm9pZFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiB7XG4gICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uICh0aGlzOiBTdWJzY3JpYmVyPFI+LCBsaWZ0ZWRTb3VyY2U6IE9ic2VydmFibGU8VD4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcblxuY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcblxuZnVuY3Rpb24gY2FsbE9yQXBwbHk8VCwgUj4oZm46ICgoLi4udmFsdWVzOiBUW10pID0+IFIpLCBhcmdzOiBUfFRbXSk6IFIge1xuICAgIHJldHVybiBpc0FycmF5KGFyZ3MpID8gZm4oLi4uYXJncykgOiBmbihhcmdzKTtcbn1cblxuLyoqXG4gKiBVc2VkIGluIHNldmVyYWwgLS0gbW9zdGx5IGRlcHJlY2F0ZWQgLS0gc2l0dWF0aW9ucyB3aGVyZSB3ZSBuZWVkIHRvIFxuICogYXBwbHkgYSBsaXN0IG9mIGFyZ3VtZW50cyBvciBhIHNpbmdsZSBhcmd1bWVudCB0byBhIHJlc3VsdCBzZWxlY3Rvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcE9uZU9yTWFueUFyZ3M8VCwgUj4oZm46ICgoLi4udmFsdWVzOiBUW10pID0+IFIpKTogT3BlcmF0b3JGdW5jdGlvbjxUfFRbXSwgUj4ge1xuICAgIHJldHVybiBtYXAoYXJncyA9PiBjYWxsT3JBcHBseShmbiwgYXJncykpXG59IiwiLyogdHNsaW50OmRpc2FibGU6bm8tZW1wdHkgKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4iLCJleHBvcnQgZnVuY3Rpb24gbm90PFQ+KHByZWQ6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZzogYW55KTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuIHtcbiAgcmV0dXJuICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gIXByZWQuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgpOyBcbn0iLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuaW1wb3J0IHsgVW5hcnlGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKTogdHlwZW9mIGlkZW50aXR5O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQT4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+KTogVW5hcnlGdW5jdGlvbjxULCBBPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEI+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+KTogVW5hcnlGdW5jdGlvbjxULCBCPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEM+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4pOiBVbmFyeUZ1bmN0aW9uPFQsIEM+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRD4oXG4gIGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPixcbiAgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LFxuICBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sXG4gIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPlxuKTogVW5hcnlGdW5jdGlvbjxULCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEU+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPlxuKTogVW5hcnlGdW5jdGlvbjxULCBFPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEY+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+XG4pOiBVbmFyeUZ1bmN0aW9uPFQsIEY+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRz4oXG4gIGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPixcbiAgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LFxuICBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sXG4gIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPixcbiAgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LFxuICBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sXG4gIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPlxuKTogVW5hcnlGdW5jdGlvbjxULCBHPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEg+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sXG4gIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPlxuKTogVW5hcnlGdW5jdGlvbjxULCBIPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sXG4gIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPixcbiAgZm45OiBVbmFyeUZ1bmN0aW9uPEgsIEk+XG4pOiBVbmFyeUZ1bmN0aW9uPFQsIEk+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4oXG4gIGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPixcbiAgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LFxuICBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sXG4gIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPixcbiAgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LFxuICBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sXG4gIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPixcbiAgZm44OiBVbmFyeUZ1bmN0aW9uPEcsIEg+LFxuICBmbjk6IFVuYXJ5RnVuY3Rpb248SCwgST4sXG4gIC4uLmZuczogVW5hcnlGdW5jdGlvbjxhbnksIGFueT5bXVxuKTogVW5hcnlGdW5jdGlvbjxULCB1bmtub3duPjtcblxuLyoqXG4gKiBwaXBlKCkgY2FuIGJlIGNhbGxlZCBvbiBvbmUgb3IgbW9yZSBmdW5jdGlvbnMsIGVhY2ggb2Ygd2hpY2ggY2FuIHRha2Ugb25lIGFyZ3VtZW50IChcIlVuYXJ5RnVuY3Rpb25cIilcbiAqIGFuZCB1c2VzIGl0IHRvIHJldHVybiBhIHZhbHVlLlxuICogSXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgb25lIGFyZ3VtZW50LCBwYXNzZXMgaXQgdG8gdGhlIGZpcnN0IFVuYXJ5RnVuY3Rpb24sIGFuZCB0aGVuXG4gKiBwYXNzZXMgdGhlIHJlc3VsdCB0byB0aGUgbmV4dCBvbmUsIHBhc3NlcyB0aGF0IHJlc3VsdCB0byB0aGUgbmV4dCBvbmUsIGFuZCBzbyBvbi4gIFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGlwZSguLi5mbnM6IEFycmF5PFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+Pik6IFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+IHtcbiAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXk8VCwgUj4oZm5zOiBBcnJheTxVbmFyeUZ1bmN0aW9uPFQsIFI+Pik6IFVuYXJ5RnVuY3Rpb248VCwgUj4ge1xuICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpZGVudGl0eSBhcyBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PjtcbiAgfVxuXG4gIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZuc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dDogVCk6IFIge1xuICAgIHJldHVybiBmbnMucmVkdWNlKChwcmV2OiBhbnksIGZuOiBVbmFyeUZ1bmN0aW9uPFQsIFI+KSA9PiBmbihwcmV2KSwgaW5wdXQgYXMgYW55KTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcblxuLyoqXG4gKiBIYW5kbGVzIGFuIGVycm9yIG9uIGFub3RoZXIgam9iIGVpdGhlciB3aXRoIHRoZSB1c2VyLWNvbmZpZ3VyZWQge0BsaW5rIG9uVW5oYW5kbGVkRXJyb3J9LFxuICogb3IgYnkgdGhyb3dpbmcgaXQgb24gdGhhdCBuZXcgam9iIHNvIGl0IGNhbiBiZSBwaWNrZWQgdXAgYnkgYHdpbmRvdy5vbmVycm9yYCwgYHByb2Nlc3Mub24oJ2Vycm9yJylgLCBldGMuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZXJlIGlzIGFuIGVycm9yIHRoYXQgaXMgb3V0LW9mLWJhbmQgd2l0aCB0aGUgc3Vic2NyaXB0aW9uXG4gKiBvciB3aGVuIGFuIGVycm9yIGhpdHMgYSB0ZXJtaW5hbCBib3VuZGFyeSBvZiB0aGUgc3Vic2NyaXB0aW9uIGFuZCBubyBlcnJvciBoYW5kbGVyIHdhcyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0gZXJyIHRoZSBlcnJvciB0byByZXBvcnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycjogYW55KSB7XG4gIHRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zdCB7IG9uVW5oYW5kbGVkRXJyb3IgfSA9IGNvbmZpZztcbiAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xuICAgICAgLy8gRXhlY3V0ZSB0aGUgdXNlci1jb25maWd1cmVkIGVycm9yIGhhbmRsZXIuXG4gICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRocm93IHNvIGl0IGlzIHBpY2tlZCB1cCBieSB0aGUgcnVudGltZSdzIHVuY2F1Z2h0IGVycm9yIG1lY2hhbmlzbS5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBDcmVhdGVzIHRoZSBUeXBlRXJyb3IgdG8gdGhyb3cgaWYgYW4gaW52YWxpZCBvYmplY3QgaXMgcGFzc2VkIHRvIGBmcm9tYCBvciBgc2NoZWR1bGVkYC5cbiAqIEBwYXJhbSBpbnB1dCBUaGUgb2JqZWN0IHRoYXQgd2FzIHBhc3NlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0OiBhbnkpIHtcbiAgLy8gVE9ETzogV2Ugc2hvdWxkIGNyZWF0ZSBlcnJvciBjb2RlcyB0aGF0IGNhbiBiZSBsb29rZWQgdXAsIHNvIHRoaXMgY2FuIGJlIGxlc3MgdmVyYm9zZS5cbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFlvdSBwcm92aWRlZCAke1xuICAgICAgaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBgJyR7aW5wdXR9J2BcbiAgICB9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuYFxuICApO1xufVxuIiwiZXhwb3J0IGNvbnN0IGVudmlyb25tZW50ID0ge1xuICAgIC8vIGFwaUJhc2VVcmw6ICdodHRwOi8vbG9jYWxob3N0OjgwODQnXG4gICAgYXBpQmFzZVVybDogJ2h0dHA6Ly8wLjAuMC4wOjgwODQnXG59O1xuIiwiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBlbnZpcm9ubWVudCB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50JztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuY29uc3QgaHR0cCA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogZW52aXJvbm1lbnQuYXBpQmFzZVVybCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiLFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBodHRwR2V0KHVybDogc3RyaW5nLCBwYXJhbXM6IG9iamVjdCA9IG51bGwpOiBPYnNlcnZhYmxlPEF4aW9zUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZnJvbShodHRwLmdldCh1cmwsIHsgcGFyYW1zIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaHR0cDtcbiIsImltcG9ydCB7IGh0dHBHZXQgfSBmcm9tICcuL2h0dHAnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBjb25zdCBnZXRTcGVudFRvZGF5ID0gKCkgPT4ge1xuICAgIHJldHVybiBodHRwR2V0KCcvbWVhc3VyZW1lbnQvbW9udGgnKS5waXBlKFxuICAgICAgICBtYXAocmVzID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgKTtcbn07XG4iLCIvLyBBeGlvcyB2MS4yLjIgQ29weXJpZ2h0IChjKSAyMDIyIE1hdHQgWmFicmlza2llIGFuZCBjb250cmlidXRvcnNcbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxuY29uc3Qge3RvU3RyaW5nfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCB7Z2V0UHJvdG90eXBlT2Z9ID0gT2JqZWN0O1xuXG5jb25zdCBraW5kT2YgPSAoY2FjaGUgPT4gdGhpbmcgPT4ge1xuICAgIGNvbnN0IHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpbmcpO1xuICAgIHJldHVybiBjYWNoZVtzdHJdIHx8IChjYWNoZVtzdHJdID0gc3RyLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpKTtcbn0pKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG5jb25zdCBraW5kT2ZUZXN0ID0gKHR5cGUpID0+IHtcbiAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuICh0aGluZykgPT4ga2luZE9mKHRoaW5nKSA9PT0gdHlwZVxufTtcblxuY29uc3QgdHlwZU9mVGVzdCA9IHR5cGUgPT4gdGhpbmcgPT4gdHlwZW9mIHRoaW5nID09PSB0eXBlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSB0eXBlT2ZUZXN0KCd1bmRlZmluZWQnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcikgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyaW5nID0gdHlwZU9mVGVzdCgnc3RyaW5nJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGdW5jdGlvbiA9IHR5cGVPZlRlc3QoJ2Z1bmN0aW9uJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNOdW1iZXIgPSB0eXBlT2ZUZXN0KCdudW1iZXInKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodGhpbmcpID0+IHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCb29sZWFuXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCb29sZWFuLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCb29sZWFuID0gdGhpbmcgPT4gdGhpbmcgPT09IHRydWUgfHwgdGhpbmcgPT09IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gKHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSkgPT09IG51bGwpICYmICEoU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0RhdGUgPSBraW5kT2ZUZXN0KCdEYXRlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGUgPSBraW5kT2ZUZXN0KCdGaWxlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jsb2IgPSBraW5kT2ZUZXN0KCdCbG9iJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlTGlzdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlTGlzdCA9IGtpbmRPZlRlc3QoJ0ZpbGVMaXN0Jyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJlYW0gPSAodmFsKSA9PiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Zvcm1EYXRhID0gKHRoaW5nKSA9PiB7XG4gIGNvbnN0IHBhdHRlcm4gPSAnW29iamVjdCBGb3JtRGF0YV0nO1xuICByZXR1cm4gdGhpbmcgJiYgKFxuICAgICh0eXBlb2YgRm9ybURhdGEgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcgaW5zdGFuY2VvZiBGb3JtRGF0YSkgfHxcbiAgICB0b1N0cmluZy5jYWxsKHRoaW5nKSA9PT0gcGF0dGVybiB8fFxuICAgIChpc0Z1bmN0aW9uKHRoaW5nLnRvU3RyaW5nKSAmJiB0aGluZy50b1N0cmluZygpID09PSBwYXR0ZXJuKVxuICApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVVJMU2VhcmNoUGFyYW1zID0ga2luZE9mVGVzdCgnVVJMU2VhcmNoUGFyYW1zJyk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmNvbnN0IHRyaW0gPSAoc3RyKSA9PiBzdHIudHJpbSA/XG4gIHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXMgPSBmYWxzZV1cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbiwge2FsbE93bktleXMgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpO1xuICBsZXQgbDtcblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAoaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsO1xuICAgIH1cbiAgfTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufTtcblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW3Byb3BzXVxuICogQHBhcmFtIHtvYmplY3R9IFtkZXNjcmlwdG9yc11cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgaW5oZXJpdHMgPSAoY29uc3RydWN0b3IsIHN1cGVyQ29uc3RydWN0b3IsIHByb3BzLCBkZXNjcmlwdG9ycykgPT4ge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlLCBkZXNjcmlwdG9ycyk7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsICdzdXBlcicsIHtcbiAgICB2YWx1ZTogc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGVcbiAgfSk7XG4gIHByb3BzICYmIE9iamVjdC5hc3NpZ24oY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wcyk7XG59O1xuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgbmV3IGFycmF5IGZyb20gYXJyYXkgbGlrZSBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqXG4gKiBAcGFyYW0geyp9IFt0aGluZ11cbiAqXG4gKiBAcmV0dXJucyB7P0FycmF5fVxuICovXG5jb25zdCB0b0FycmF5ID0gKHRoaW5nKSA9PiB7XG4gIGlmICghdGhpbmcpIHJldHVybiBudWxsO1xuICBpZiAoaXNBcnJheSh0aGluZykpIHJldHVybiB0aGluZztcbiAgbGV0IGkgPSB0aGluZy5sZW5ndGg7XG4gIGlmICghaXNOdW1iZXIoaSkpIHJldHVybiBudWxsO1xuICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgYXJyW2ldID0gdGhpbmdbaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW1N5bWJvbC5pdGVyYXRvcl07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkge1xuICAgIGNvbnN0IHBhaXIgPSByZXN1bHQudmFsdWU7XG4gICAgZm4uY2FsbChvYmosIHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9XG59O1xuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1tfLVxcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBpZiAocmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopICE9PSBmYWxzZSkge1xuICAgICAgcmVkdWNlZERlc2NyaXB0b3JzW25hbWVdID0gZGVzY3JpcHRvcjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcmVkdWNlZERlc2NyaXB0b3JzKTtcbn07XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgdG9PYmplY3RTZXQgPSAoYXJyYXlPclN0cmluZywgZGVsaW1pdGVyKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuXG4gIGNvbnN0IGRlZmluZSA9IChhcnIpID0+IHtcbiAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBpc0FycmF5KGFycmF5T3JTdHJpbmcpID8gZGVmaW5lKGFycmF5T3JTdHJpbmcpIDogZGVmaW5lKFN0cmluZyhhcnJheU9yU3RyaW5nKS5zcGxpdChkZWxpbWl0ZXIpKTtcblxuICByZXR1cm4gb2JqO1xufTtcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG5jb25zdCB0b0Zpbml0ZU51bWJlciA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHZhbHVlID0gK3ZhbHVlO1xuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufTtcblxuY29uc3QgdG9KU09OT2JqZWN0ID0gKG9iaikgPT4ge1xuICBjb25zdCBzdGFjayA9IG5ldyBBcnJheSgxMCk7XG5cbiAgY29uc3QgdmlzaXQgPSAoc291cmNlLCBpKSA9PiB7XG5cbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2Yoc291cmNlKSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYoISgndG9KU09OJyBpbiBzb3VyY2UpKSB7XG4gICAgICAgIHN0YWNrW2ldID0gc291cmNlO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBpc0FycmF5KHNvdXJjZSkgPyBbXSA6IHt9O1xuXG4gICAgICAgIGZvckVhY2goc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlZHVjZWRWYWx1ZSA9IHZpc2l0KHZhbHVlLCBpICsgMSk7XG4gICAgICAgICAgIWlzVW5kZWZpbmVkKHJlZHVjZWRWYWx1ZSkgJiYgKHRhcmdldFtrZXldID0gcmVkdWNlZFZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RhY2tbaV0gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc291cmNlO1xuICB9O1xuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufTtcblxudmFyIHV0aWxzID0ge1xuICBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nLFxuICBpc051bWJlcixcbiAgaXNCb29sZWFuLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgdG9KU09OT2JqZWN0XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIHJlc3BvbnNlICYmICh0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2UpO1xufVxuXG51dGlscy5pbmhlcml0cyhBeGlvc0Vycm9yLCBFcnJvciwge1xuICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB1dGlscy50b0pTT05PYmplY3QodGhpcy5jb25maWcpLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc3RhdHVzID8gdGhpcy5yZXNwb25zZS5zdGF0dXMgOiBudWxsXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSQxID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSQxLCAnaXNBeGlvc0Vycm9yJywge3ZhbHVlOiB0cnVlfSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5BeGlvc0Vycm9yLmZyb20gPSAoZXJyb3IsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UsIGN1c3RvbVByb3BzKSA9PiB7XG4gIGNvbnN0IGF4aW9zRXJyb3IgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSQxKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIGVycm9yLm1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpO1xuXG4gIGF4aW9zRXJyb3IuY2F1c2UgPSBlcnJvcjtcblxuICBheGlvc0Vycm9yLm5hbWUgPSBlcnJvci5uYW1lO1xuXG4gIGN1c3RvbVByb3BzICYmIE9iamVjdC5hc3NpZ24oYXhpb3NFcnJvciwgY3VzdG9tUHJvcHMpO1xuXG4gIHJldHVybiBheGlvc0Vycm9yO1xufTtcblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG52YXIgYnJvd3NlciA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnID8gc2VsZi5Gb3JtRGF0YSA6IHdpbmRvdy5Gb3JtRGF0YTtcblxudmFyIEZvcm1EYXRhJDIgPSBicm93c2VyO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzLmlzUGxhaW5PYmplY3QodGhpbmcpIHx8IHV0aWxzLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscy5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkoYXJyKSAmJiAhYXJyLnNvbWUoaXNWaXNpdGFibGUpO1xufVxuXG5jb25zdCBwcmVkaWNhdGVzID0gdXRpbHMudG9GbGF0T2JqZWN0KHV0aWxzLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50KHRoaW5nKSB7XG4gIHJldHVybiB0aGluZyAmJiB1dGlscy5pc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgdGhpbmdbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0Zvcm1EYXRhJyAmJiB0aGluZ1tTeW1ib2wuaXRlcmF0b3JdO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChGb3JtRGF0YSQyIHx8IEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscy5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIGlzU3BlY0NvbXBsaWFudChmb3JtRGF0YSk7XG5cbiAgaWYgKCF1dGlscy5pc0Z1bmN0aW9uKHZpc2l0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICghdXNlQmxvYiAmJiB1dGlscy5pc0Jsb2IodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMuaXNUeXBlZEFycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVzZUJsb2IgJiYgdHlwZW9mIEJsb2IgPT09ICdmdW5jdGlvbicgPyBuZXcgQmxvYihbdmFsdWVdKSA6IEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCB2aXNpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5XG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfE51bWJlcj59IHBhdGhcbiAgICogQHRoaXMge0Zvcm1EYXRhfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgdG8gdmlzaXQgdGhlIGVhY2ggcHJvcCBvZiB0aGUgdmFsdWUgcmVjdXJzaXZlbHlcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmF1bHRWaXNpdG9yKHZhbHVlLCBrZXksIHBhdGgpIHtcbiAgICBsZXQgYXJyID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUgJiYgIXBhdGggJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHV0aWxzLmVuZHNXaXRoKGtleSwgJ3t9JykpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IG1ldGFUb2tlbnMgPyBrZXkgOiBrZXkuc2xpY2UoMCwgLTIpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAodXRpbHMuaXNBcnJheSh2YWx1ZSkgJiYgaXNGbGF0QXJyYXkodmFsdWUpKSB8fFxuICAgICAgICAodXRpbHMuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSAmJiAoYXJyID0gdXRpbHMudG9BcnJheSh2YWx1ZSkpXG4gICAgICAgICkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IHJlbW92ZUJyYWNrZXRzKGtleSk7XG5cbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gZWFjaChlbCwgaW5kZXgpIHtcbiAgICAgICAgICAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICBpbmRleGVzID09PSB0cnVlID8gcmVuZGVyS2V5KFtrZXldLCBpbmRleCwgZG90cykgOiAoaW5kZXhlcyA9PT0gbnVsbCA/IGtleSA6IGtleSArICdbXScpLFxuICAgICAgICAgICAgY29udmVydFZhbHVlKGVsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVmlzaXRhYmxlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9ybURhdGEuYXBwZW5kKHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpLCBjb252ZXJ0VmFsdWUodmFsdWUpKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0YWNrID0gW107XG5cbiAgY29uc3QgZXhwb3NlZEhlbHBlcnMgPSBPYmplY3QuYXNzaWduKHByZWRpY2F0ZXMsIHtcbiAgICBkZWZhdWx0VmlzaXRvcixcbiAgICBjb252ZXJ0VmFsdWUsXG4gICAgaXNWaXNpdGFibGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYnVpbGQodmFsdWUsIHBhdGgpIHtcbiAgICBpZiAodXRpbHMuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiBlYWNoKGVsLCBrZXkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9ICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiB2aXNpdG9yLmNhbGwoXG4gICAgICAgIGZvcm1EYXRhLCBlbCwgdXRpbHMuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0YSBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbi8qKlxuICogSXQgZW5jb2RlcyBhIHN0cmluZyBieSByZXBsYWNpbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IGluIHRoZSB1bnJlc2VydmVkIHNldCB3aXRoXG4gKiB0aGVpciBwZXJjZW50LWVuY29kZWQgZXF1aXZhbGVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGUkMShzdHIpIHtcbiAgY29uc3QgY2hhck1hcCA9IHtcbiAgICAnISc6ICclMjEnLFxuICAgIFwiJ1wiOiAnJTI3JyxcbiAgICAnKCc6ICclMjgnLFxuICAgICcpJzogJyUyOScsXG4gICAgJ34nOiAnJTdFJyxcbiAgICAnJTIwJzogJysnLFxuICAgICclMDAnOiAnXFx4MDAnXG4gIH07XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC9bIScoKX5dfCUyMHwlMDAvZywgZnVuY3Rpb24gcmVwbGFjZXIobWF0Y2gpIHtcbiAgICByZXR1cm4gY2hhck1hcFttYXRjaF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGFyYW1zIG9iamVjdCBhbmQgY29udmVydHMgaXQgdG8gYSBGb3JtRGF0YSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIHRvIGJlIGNvbnZlcnRlZCB0byBhIEZvcm1EYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIG9iamVjdCBwYXNzZWQgdG8gdGhlIEF4aW9zIGNvbnN0cnVjdG9yLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgdGhpcy5fcGFpcnMgPSBbXTtcblxuICBwYXJhbXMgJiYgdG9Gb3JtRGF0YShwYXJhbXMsIHRoaXMsIG9wdGlvbnMpO1xufVxuXG5jb25zdCBwcm90b3R5cGUgPSBBeGlvc1VSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGU7XG5cbnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQobmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5fcGFpcnMucHVzaChbbmFtZSwgdmFsdWVdKTtcbn07XG5cbnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKGVuY29kZXIpIHtcbiAgY29uc3QgX2VuY29kZSA9IGVuY29kZXIgPyBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBlbmNvZGVyLmNhbGwodGhpcywgdmFsdWUsIGVuY29kZSQxKTtcbiAgfSA6IGVuY29kZSQxO1xuXG4gIHJldHVybiB0aGlzLl9wYWlycy5tYXAoZnVuY3Rpb24gZWFjaChwYWlyKSB7XG4gICAgcmV0dXJuIF9lbmNvZGUocGFpclswXSkgKyAnPScgKyBfZW5jb2RlKHBhaXJbMV0pO1xuICB9LCAnJykuam9pbignJicpO1xufTtcblxuLyoqXG4gKiBJdCByZXBsYWNlcyBhbGwgaW5zdGFuY2VzIG9mIHRoZSBjaGFyYWN0ZXJzIGA6YCwgYCRgLCBgLGAsIGArYCwgYFtgLCBhbmQgYF1gIHdpdGggdGhlaXJcbiAqIFVSSSBlbmNvZGVkIGNvdW50ZXJwYXJ0c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWwgVGhlIHZhbHVlIHRvIGJlIGVuY29kZWQuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gez9vYmplY3R9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5mdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgb3B0aW9ucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIFxuICBjb25zdCBfZW5jb2RlID0gb3B0aW9ucyAmJiBvcHRpb25zLmVuY29kZSB8fCBlbmNvZGU7XG5cbiAgY29uc3Qgc2VyaWFsaXplRm4gPSBvcHRpb25zICYmIG9wdGlvbnMuc2VyaWFsaXplO1xuXG4gIGxldCBzZXJpYWxpemVkUGFyYW1zO1xuXG4gIGlmIChzZXJpYWxpemVGbikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBzZXJpYWxpemVGbihwYXJhbXMsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSB1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpID9cbiAgICAgIHBhcmFtcy50b1N0cmluZygpIDpcbiAgICAgIG5ldyBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpLnRvU3RyaW5nKF9lbmNvZGUpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICBjb25zdCBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuXG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyJDEgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG5cbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcblxudmFyIFVSTFNlYXJjaFBhcmFtcyQxID0gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcblxudmFyIEZvcm1EYXRhJDEgPSBGb3JtRGF0YTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGlzU3RhbmRhcmRCcm93c2VyRW52ID0gKCgpID0+IHtcbiAgbGV0IHByb2R1Y3Q7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gICAgKHByb2R1Y3QgPSBuYXZpZ2F0b3IucHJvZHVjdCkgPT09ICdSZWFjdE5hdGl2ZScgfHxcbiAgICBwcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgIHByb2R1Y3QgPT09ICdOUycpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xufSkoKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuIGNvbnN0IGlzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuXG52YXIgcGxhdGZvcm0gPSB7XG4gIGlzQnJvd3NlcjogdHJ1ZSxcbiAgY2xhc3Nlczoge1xuICAgIFVSTFNlYXJjaFBhcmFtczogVVJMU2VhcmNoUGFyYW1zJDEsXG4gICAgRm9ybURhdGE6IEZvcm1EYXRhJDEsXG4gICAgQmxvYlxuICB9LFxuICBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgaXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYsXG4gIHByb3RvY29sczogWydodHRwJywgJ2h0dHBzJywgJ2ZpbGUnLCAnYmxvYicsICd1cmwnLCAnZGF0YSddXG59O1xuXG5mdW5jdGlvbiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRm9ybURhdGEoZGF0YSwgbmV3IHBsYXRmb3JtLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zKCksIE9iamVjdC5hc3NpZ24oe1xuICAgIHZpc2l0b3I6IGZ1bmN0aW9uKHZhbHVlLCBrZXksIHBhdGgsIGhlbHBlcnMpIHtcbiAgICAgIGlmIChwbGF0Zm9ybS5pc05vZGUgJiYgdXRpbHMuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGVscGVycy5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwgb3B0aW9ucykpO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nIGxpa2UgYGZvb1t4XVt5XVt6XWAgYW5kIHJldHVybnMgYW4gYXJyYXkgbGlrZSBgWydmb28nLCAneCcsICd5JywgJ3onXVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBzdHJpbmdzLlxuICovXG5mdW5jdGlvbiBwYXJzZVByb3BQYXRoKG5hbWUpIHtcbiAgLy8gZm9vW3hdW3ldW3pdXG4gIC8vIGZvby54LnkuelxuICAvLyBmb28teC15LXpcbiAgLy8gZm9vIHggeSB6XG4gIHJldHVybiB1dGlscy5tYXRjaEFsbCgvXFx3K3xcXFsoXFx3KildL2csIG5hbWUpLm1hcChtYXRjaCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoWzBdID09PSAnW10nID8gJycgOiBtYXRjaFsxXSB8fCBtYXRjaFswXTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBhcnJheSB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY29udmVydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhbmQgdmFsdWVzIGFzIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnIpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBsZXQgaTtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gIGxldCBrZXk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgb2JqW2tleV0gPSBhcnJba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgRm9ybURhdGEgb2JqZWN0IGFuZCByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgVGhlIEZvcm1EYXRhIG9iamVjdCB0byBjb252ZXJ0IHRvIEpTT04uXG4gKlxuICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGFueT4gfCBudWxsfSBUaGUgY29udmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZm9ybURhdGFUb0pTT04oZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgbGV0IG5hbWUgPSBwYXRoW2luZGV4KytdO1xuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IE51bWJlci5pc0Zpbml0ZSgrbmFtZSk7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPj0gcGF0aC5sZW5ndGg7XG4gICAgbmFtZSA9ICFuYW1lICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldC5sZW5ndGggOiBuYW1lO1xuXG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgaWYgKHV0aWxzLmhhc093blByb3AodGFyZ2V0LCBuYW1lKSkge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBbdGFyZ2V0W25hbWVdLCB2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRbbmFtZV0gfHwgIXV0aWxzLmlzT2JqZWN0KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0W25hbWVdLCBpbmRleCk7XG5cbiAgICBpZiAocmVzdWx0ICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gYXJyYXlUb09iamVjdCh0YXJnZXRbbmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZm9ybURhdGEpICYmIHV0aWxzLmlzRnVuY3Rpb24oZm9ybURhdGEuZW50cmllcykpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2hFbnRyeShmb3JtRGF0YSwgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBidWlsZFBhdGgocGFyc2VQcm9wUGF0aChuYW1lKSwgdmFsdWUsIG9iaiwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG59O1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nLCB0cmllcyB0byBwYXJzZSBpdCwgYW5kIGlmIGl0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBzdHJpbmdpZmllZCB2ZXJzaW9uXG4gKiBvZiB0aGUgaW5wdXRcbiAqXG4gKiBAcGFyYW0ge2FueX0gcmF3VmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgc3RyaW5naWZpZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXJzZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcGFyc2VzIGEgc3RyaW5nIGludG8gYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuY29kZXIgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIHJhd1ZhbHVlLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgdHJhbnNpdGlvbmFsOiB0cmFuc2l0aW9uYWxEZWZhdWx0cyxcblxuICBhZGFwdGVyOiBbJ3hocicsICdodHRwJ10sXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpIHx8ICcnO1xuICAgIGNvbnN0IGhhc0pTT05Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSA+IC0xO1xuICAgIGNvbnN0IGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzLmlzT2JqZWN0KGRhdGEpO1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCAmJiB1dGlscy5pc0hUTUxGb3JtKGRhdGEpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzRm9ybURhdGEgPSB1dGlscy5pc0Zvcm1EYXRhKGRhdGEpO1xuXG4gICAgaWYgKGlzRm9ybURhdGEpIHtcbiAgICAgIGlmICghaGFzSlNPTkNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0pTT05Db250ZW50VHlwZSA/IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhVG9KU09OKGRhdGEpKSA6IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcsIGZhbHNlKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgbGV0IGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkKSB7XG4gICAgICBpZiAoY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCB0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscy5pc0ZpbGVMaXN0KGRhdGEpKSB8fCBjb250ZW50VHlwZS5pbmRleE9mKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykgPiAtMSkge1xuICAgICAgICBjb25zdCBfRm9ybURhdGEgPSB0aGlzLmVudiAmJiB0aGlzLmVudi5Gb3JtRGF0YTtcblxuICAgICAgICByZXR1cm4gdG9Gb3JtRGF0YShcbiAgICAgICAgICBpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLFxuICAgICAgICAgIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCksXG4gICAgICAgICAgdGhpcy5mb3JtU2VyaWFsaXplclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgfHwgaGFzSlNPTkNvbnRlbnRUeXBlICkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicsIGZhbHNlKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICBjb25zdCBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgY29uc3QgSlNPTlJlcXVlc3RlZCA9IHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAoZGF0YSAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiAoKGZvcmNlZEpTT05QYXJzaW5nICYmICF0aGlzLnJlc3BvbnNlVHlwZSkgfHwgSlNPTlJlcXVlc3RlZCkpIHtcbiAgICAgIGNvbnN0IHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICAgIGNvbnN0IHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIEpTT05SZXF1ZXN0ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbnZhciBkZWZhdWx0cyQxID0gZGVmYXVsdHM7XG5cbi8vIFJhd0F4aW9zSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbmNvbnN0IGlnbm9yZUR1cGxpY2F0ZU9mID0gdXRpbHMudG9PYmplY3RTZXQoW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl0pO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKlxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xudmFyIHBhcnNlSGVhZGVycyA9IHJhd0hlYWRlcnMgPT4ge1xuICBjb25zdCBwYXJzZWQgPSB7fTtcbiAgbGV0IGtleTtcbiAgbGV0IHZhbDtcbiAgbGV0IGk7XG5cbiAgcmF3SGVhZGVycyAmJiByYXdIZWFkZXJzLnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG5cbiAgICBpZiAoIWtleSB8fCAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2Zba2V5XSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSkge1xuICAgICAgICBwYXJzZWRba2V5XS5wdXNoKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IFt2YWxdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkSGVhZGVyTmFtZShzdHIpIHtcbiAgcmV0dXJuIC9eWy1fYS16QS1aXSskLy50ZXN0KHN0ci50cmltKCkpO1xufVxuXG5mdW5jdGlvbiBtYXRjaEhlYWRlclZhbHVlKGNvbnRleHQsIHZhbHVlLCBoZWFkZXIsIGZpbHRlcikge1xuICBpZiAodXRpbHMuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKHRoaXMuZGVsZXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgIHJldHVybiAnQXhpb3NIZWFkZXJzJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgdGhpcyA/IHRoaW5nIDogbmV3IHRoaXModGhpbmcpO1xuICB9XG5cbiAgc3RhdGljIGNvbmNhdChmaXJzdCwgLi4udGFyZ2V0cykge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IHRoaXMoZmlyc3QpO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IGNvbXB1dGVkLnNldCh0YXJnZXQpKTtcblxuICAgIHJldHVybiBjb21wdXRlZDtcbiAgfVxuXG4gIHN0YXRpYyBhY2Nlc3NvcihoZWFkZXIpIHtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB0aGlzWyRpbnRlcm5hbHNdID0gKHRoaXNbJGludGVybmFsc10gPSB7XG4gICAgICBhY2Nlc3NvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBpbnRlcm5hbHMuYWNjZXNzb3JzO1xuICAgIGNvbnN0IHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3IoX2hlYWRlcikge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFhY2Nlc3NvcnNbbEhlYWRlcl0pIHtcbiAgICAgICAgYnVpbGRBY2Nlc3NvcnMocHJvdG90eXBlLCBfaGVhZGVyKTtcbiAgICAgICAgYWNjZXNzb3JzW2xIZWFkZXJdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlscy5pc0FycmF5KGhlYWRlcikgPyBoZWFkZXIuZm9yRWFjaChkZWZpbmVBY2Nlc3NvcikgOiBkZWZpbmVBY2Nlc3NvcihoZWFkZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuQXhpb3NIZWFkZXJzLmFjY2Vzc29yKFsnQ29udGVudC1UeXBlJywgJ0NvbnRlbnQtTGVuZ3RoJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnLCAnVXNlci1BZ2VudCddKTtcblxudXRpbHMuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMucHJvdG90eXBlKTtcbnV0aWxzLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzKTtcblxudmFyIEF4aW9zSGVhZGVycyQxID0gQXhpb3NIZWFkZXJzO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzJDE7XG4gIGNvbnN0IGNvbnRleHQgPSByZXNwb25zZSB8fCBjb25maWc7XG4gIGNvbnN0IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKGNvbnRleHQuaGVhZGVycyk7XG4gIGxldCBkYXRhID0gY29udGV4dC5kYXRhO1xuXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4uY2FsbChjb25maWcsIGRhdGEsIGhlYWRlcnMubm9ybWFsaXplKCksIHJlc3BvbnNlID8gcmVzcG9uc2Uuc3RhdHVzIDogdW5kZWZpbmVkKTtcbiAgfSk7XG5cbiAgaGVhZGVycy5ub3JtYWxpemUoKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufVxuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHN0cmljdFxudmFyIGh0dHBBZGFwdGVyID0gbnVsbDtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuXG52YXIgY29va2llcyA9IHBsYXRmb3JtLmlzU3RhbmRhcmRCcm93c2VyRW52ID9cblxuLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgY29uc3QgY29va2llID0gW107XG4gICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICB9LFxuXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4vLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfSkoKTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5mdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuXG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcGxhdGZvcm0uaXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4vLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3Rcbi8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIGNvbnN0IG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGNvbnN0IHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxldCBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgbGV0IGhyZWYgPSB1cmw7XG5cbiAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgfVxuXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBkYXRhIG1heFJhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2FtcGxlc0NvdW50PSAxMF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbWluPSAxMDAwXVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBzcGVlZG9tZXRlcihzYW1wbGVzQ291bnQsIG1pbikge1xuICBzYW1wbGVzQ291bnQgPSBzYW1wbGVzQ291bnQgfHwgMTA7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgbGV0IGhlYWQgPSAwO1xuICBsZXQgdGFpbCA9IDA7XG4gIGxldCBmaXJzdFNhbXBsZVRTO1xuXG4gIG1pbiA9IG1pbiAhPT0gdW5kZWZpbmVkID8gbWluIDogMTAwMDtcblxuICByZXR1cm4gZnVuY3Rpb24gcHVzaChjaHVua0xlbmd0aCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBjb25zdCBzdGFydGVkQXQgPSB0aW1lc3RhbXBzW3RhaWxdO1xuXG4gICAgaWYgKCFmaXJzdFNhbXBsZVRTKSB7XG4gICAgICBmaXJzdFNhbXBsZVRTID0gbm93O1xuICAgIH1cblxuICAgIGJ5dGVzW2hlYWRdID0gY2h1bmtMZW5ndGg7XG4gICAgdGltZXN0YW1wc1toZWFkXSA9IG5vdztcblxuICAgIGxldCBpID0gdGFpbDtcbiAgICBsZXQgYnl0ZXNDb3VudCA9IDA7XG5cbiAgICB3aGlsZSAoaSAhPT0gaGVhZCkge1xuICAgICAgYnl0ZXNDb3VudCArPSBieXRlc1tpKytdO1xuICAgICAgaSA9IGkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaGVhZCA9IChoZWFkICsgMSkgJSBzYW1wbGVzQ291bnQ7XG5cbiAgICBpZiAoaGVhZCA9PT0gdGFpbCkge1xuICAgICAgdGFpbCA9ICh0YWlsICsgMSkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaWYgKG5vdyAtIGZpcnN0U2FtcGxlVFMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXNzZWQgPSBzdGFydGVkQXQgJiYgbm93IC0gc3RhcnRlZEF0O1xuXG4gICAgcmV0dXJuIHBhc3NlZCA/IE1hdGgucm91bmQoYnl0ZXNDb3VudCAqIDEwMDAgLyBwYXNzZWQpIDogdW5kZWZpbmVkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9ncmVzc0V2ZW50UmVkdWNlcihsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSkge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiBlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlXG4gICAgfTtcblxuICAgIGRhdGFbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ10gPSB0cnVlO1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH07XG59XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbnZhciB4aHJBZGFwdGVyID0gaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBsZXQgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oY29uZmlnLmhlYWRlcnMpLm5vcm1hbGl6ZSgpO1xuICAgIGNvbnN0IHJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgbGV0IG9uQ2FuY2VsZWQ7XG4gICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpICYmIChwbGF0Zm9ybS5pc1N0YW5kYXJkQnJvd3NlckVudiB8fCBwbGF0Zm9ybS5pc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudikpIHtcbiAgICAgIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKGZhbHNlKTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjb25maWcuYXV0aC5wYXNzd29yZCkpIDogJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oXG4gICAgICAgICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgJiYgcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9ICFyZXNwb25zZVR5cGUgfHwgcmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgcmVzcG9uc2VUeXBlID09PSAnanNvbicgP1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUoZnVuY3Rpb24gX3Jlc29sdmUodmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIGZ1bmN0aW9uIF9yZWplY3QoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICgnb25sb2FkZW5kJyBpbiByZXF1ZXN0KSB7XG4gICAgICAvLyBVc2Ugb25sb2FkZW5kIGlmIGF2YWlsYWJsZVxuICAgICAgcmVxdWVzdC5vbmxvYWRlbmQgPSBvbmxvYWRlbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGUgdG8gZW11bGF0ZSBvbmxvYWRlbmRcbiAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWFkeXN0YXRlIGhhbmRsZXIgaXMgY2FsbGluZyBiZWZvcmUgb25lcnJvciBvciBvbnRpbWVvdXQgaGFuZGxlcnMsXG4gICAgICAgIC8vIHNvIHdlIHNob3VsZCBjYWxsIG9ubG9hZGVuZCBvbiB0aGUgbmV4dCAndGljaydcbiAgICAgICAgc2V0VGltZW91dChvbmxvYWRlbmQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYnJvd3NlciByZXF1ZXN0IGNhbmNlbGxhdGlvbiAoYXMgb3Bwb3NlZCB0byBhIG1hbnVhbCBjYW5jZWxsYXRpb24pXG4gICAgcmVxdWVzdC5vbmFib3J0ID0gZnVuY3Rpb24gaGFuZGxlQWJvcnQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1JlcXVlc3QgYWJvcnRlZCcsIEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELCBjb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgbGV0IHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBjb25maWcudGltZW91dCA/ICd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcgOiAndGltZW91dCBleGNlZWRlZCc7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSBjb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBjb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyBBeGlvc0Vycm9yLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHBsYXRmb3JtLmlzU3RhbmRhcmRCcm93c2VyRW52KSB7XG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIGNvbnN0IHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihmdWxsUGF0aCkpXG4gICAgICAgICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKTtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVycy5zZXQoY29uZmlnLnhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMudG9KU09OKCksIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBwcm9ncmVzc0V2ZW50UmVkdWNlcihjb25maWcub25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbiB8fCBjb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGNhbmNlbCA9PiB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCBjYW5jZWwudHlwZSA/IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZywgcmVxdWVzdCkgOiBjYW5jZWwpO1xuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuICYmIGNvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBjb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKGZ1bGxQYXRoKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59O1xuXG5jb25zdCBrbm93bkFkYXB0ZXJzID0ge1xuICBodHRwOiBodHRwQWRhcHRlcixcbiAgeGhyOiB4aHJBZGFwdGVyXG59O1xuXG51dGlscy5mb3JFYWNoKGtub3duQWRhcHRlcnMsIChmbiwgdmFsdWUpID0+IHtcbiAgaWYoZm4pIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICdhZGFwdGVyTmFtZScsIHt2YWx1ZX0pO1xuICB9XG59KTtcblxudmFyIGFkYXB0ZXJzID0ge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIG5hbWVPckFkYXB0ZXIgPSBhZGFwdGVyc1tpXTtcbiAgICAgIGlmKChhZGFwdGVyID0gdXRpbHMuaXNTdHJpbmcobmFtZU9yQWRhcHRlcikgPyBrbm93bkFkYXB0ZXJzW25hbWVPckFkYXB0ZXIudG9Mb3dlckNhc2UoKV0gOiBuYW1lT3JBZGFwdGVyKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgIGlmIChhZGFwdGVyID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgICBgQWRhcHRlciAke25hbWVPckFkYXB0ZXJ9IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50YCxcbiAgICAgICAgICAnRVJSX05PVF9TVVBQT1JUJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIHV0aWxzLmhhc093blByb3Aoa25vd25BZGFwdGVycywgbmFtZU9yQWRhcHRlcikgP1xuICAgICAgICAgIGBBZGFwdGVyICcke25hbWVPckFkYXB0ZXJ9JyBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZGAgOlxuICAgICAgICAgIGBVbmtub3duIGFkYXB0ZXIgJyR7bmFtZU9yQWRhcHRlcn0nYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FkYXB0ZXIgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRhcHRlcjtcbiAgfSxcbiAgYWRhcHRlcnM6IGtub3duQWRhcHRlcnNcbn07XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKGNvbmZpZy5oZWFkZXJzKTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgIGNvbmZpZyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIGlmIChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10uaW5kZXhPZihjb25maWcubWV0aG9kKSAhPT0gLTEpIHtcbiAgICBjb25maWcuaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgYWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXIoY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMkMS5hZGFwdGVyKTtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG4gICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZVxuICAgICAgICApO1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20ocmVhc29uLnJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn1cblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyQxID8gdGhpbmcudG9KU09OKCkgOiB0aGluZztcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5mdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgY29uc3QgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UsIGNhc2VsZXNzKSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZS5jYWxsKHtjYXNlbGVzc30sIHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHt9LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhhLCBiLCBjYXNlbGVzcykge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEsIGNhc2VsZXNzKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEaXJlY3RLZXlzKGEsIGIsIHByb3ApIHtcbiAgICBpZiAocHJvcCBpbiBjb25maWcyKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIGNvbmZpZzEpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1lcmdlTWFwID0ge1xuICAgIHVybDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBtZXRob2Q6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgZGF0YTogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBiYXNlVVJMOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVzcG9uc2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcGFyYW1zU2VyaWFsaXplcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXRNZXNzYWdlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhDcmVkZW50aWFsczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIpID0+IG1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGEpLCBoZWFkZXJzVG9PYmplY3QoYiksIHRydWUpXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhjb25maWcxKS5jb25jYXQoT2JqZWN0LmtleXMoY29uZmlnMikpLCBmdW5jdGlvbiBjb21wdXRlQ29uZmlnVmFsdWUocHJvcCkge1xuICAgIGNvbnN0IG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICBjb25zdCBjb25maWdWYWx1ZSA9IG1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0sIHByb3ApO1xuICAgICh1dGlscy5pc1VuZGVmaW5lZChjb25maWdWYWx1ZSkgJiYgbWVyZ2UgIT09IG1lcmdlRGlyZWN0S2V5cykgfHwgKGNvbmZpZ1twcm9wXSA9IGNvbmZpZ1ZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn1cblxuY29uc3QgVkVSU0lPTiA9IFwiMS4yLjJcIjtcblxuY29uc3QgdmFsaWRhdG9ycyQxID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzJDFbdHlwZV0gPSBmdW5jdGlvbiB2YWxpZGF0b3IodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSB0eXBlIHx8ICdhJyArIChpIDwgMSA/ICduICcgOiAnICcpICsgdHlwZTtcbiAgfTtcbn0pO1xuXG5jb25zdCBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbj99IHZhbGlkYXRvciAtIHNldCB0byBmYWxzZSBpZiB0aGUgdHJhbnNpdGlvbmFsIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkXG4gKiBAcGFyYW0ge3N0cmluZz99IHZlcnNpb24gLSBkZXByZWNhdGVkIHZlcnNpb24gLyByZW1vdmVkIHNpbmNlIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gbWVzc2FnZSAtIHNvbWUgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgaW5mb1xuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xudmFsaWRhdG9ycyQxLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuICh2YWx1ZSwgb3B0LCBvcHRzKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogQXNzZXJ0IG9iamVjdCdzIHByb3BlcnRpZXMgdHlwZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBhbGxvd1Vua25vd25cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGFzc2VydE9wdGlvbnMob3B0aW9ucywgc2NoZW1hLCBhbGxvd1Vua25vd24pIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0JywgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGNvbnN0IG9wdCA9IGtleXNbaV07XG4gICAgY29uc3QgdmFsaWRhdG9yID0gc2NoZW1hW29wdF07XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbiAnICsgb3B0ICsgJyBtdXN0IGJlICcgKyByZXN1bHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChhbGxvd1Vua25vd24gIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdVbmtub3duIG9wdGlvbiAnICsgb3B0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHZhbGlkYXRvciA9IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yczogdmFsaWRhdG9ycyQxXG59O1xuXG5jb25zdCB2YWxpZGF0b3JzID0gdmFsaWRhdG9yLnZhbGlkYXRvcnM7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmNsYXNzIEF4aW9zIHtcbiAgY29uc3RydWN0b3IoaW5zdGFuY2VDb25maWcpIHtcbiAgICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyJDEoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyJDEoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gY29uZmlnT3JVcmwgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICAgKiBAcGFyYW0gez9PYmplY3R9IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gICAqL1xuICByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gICAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgIGNvbmZpZy51cmwgPSBjb25maWdPclVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnID0gY29uZmlnT3JVcmwgfHwge307XG4gICAgfVxuXG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGNvbnN0IHt0cmFuc2l0aW9uYWwsIHBhcmFtc1NlcmlhbGl6ZXIsIGhlYWRlcnN9ID0gY29uZmlnO1xuXG4gICAgaWYgKHRyYW5zaXRpb25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGZvcmNlZEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICBlbmNvZGU6IHZhbGlkYXRvcnMuZnVuY3Rpb24sXG4gICAgICAgIHNlcmlhbGl6ZTogdmFsaWRhdG9ycy5mdW5jdGlvblxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBsZXQgY29udGV4dEhlYWRlcnM7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgY29udGV4dEhlYWRlcnMgJiYgdXRpbHMuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBjaGFpbi5wdXNoLmFwcGx5KGNoYWluLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgbGVuID0gY2hhaW4ubGVuZ3RoO1xuXG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW5baSsrXSwgY2hhaW5baSsrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGxlbiA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIGxldCBuZXdDb25maWcgPSBjb25maWc7XG5cbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBjb25zdCBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICBjb25zdCBvblJlamVjdGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBvblJlamVjdGVkLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsIG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgaSA9IDA7XG4gICAgbGVuID0gcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVcmkoY29uZmlnKSB7XG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbnZhciBBeGlvcyQxID0gQXhpb3M7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge0NhbmNlbFRva2VufVxuICovXG5jbGFzcyBDYW5jZWxUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcblxuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuKGNhbmNlbCA9PiB7XG4gICAgICBpZiAoIXRva2VuLl9saXN0ZW5lcnMpIHJldHVybjtcblxuICAgICAgbGV0IGkgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgdG9rZW4uX2xpc3RlbmVyc1tpXShjYW5jZWwpO1xuICAgICAgfVxuICAgICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuID0gb25mdWxmaWxsZWQgPT4ge1xuICAgICAgbGV0IF9yZXNvbHZlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHJlc29sdmUpO1xuICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgICAgcHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgIHRva2VuLnVuc3Vic2NyaWJlKF9yZXNvbHZlKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gICAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCk7XG4gICAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICAgKi9cbiAgdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIHRocm93IHRoaXMucmVhc29uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICBsaXN0ZW5lcih0aGlzLnJlYXNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycykge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbbGlzdGVuZXJdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHVuc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAgICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAgICovXG4gIHN0YXRpYyBzb3VyY2UoKSB7XG4gICAgbGV0IGNhbmNlbDtcbiAgICBjb25zdCB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgICBjYW5jZWwgPSBjO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbixcbiAgICAgIGNhbmNlbFxuICAgIH07XG4gIH1cbn1cblxudmFyIENhbmNlbFRva2VuJDEgPSBDYW5jZWxUb2tlbjtcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXhpb3NFcnJvcihwYXlsb2FkKSB7XG4gIHJldHVybiB1dGlscy5pc09iamVjdChwYXlsb2FkKSAmJiAocGF5bG9hZC5pc0F4aW9zRXJyb3IgPT09IHRydWUpO1xufVxuXG5jb25zdCBIdHRwU3RhdHVzQ29kZSA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgU3dpdGNoaW5nUHJvdG9jb2xzOiAxMDEsXG4gIFByb2Nlc3Npbmc6IDEwMixcbiAgRWFybHlIaW50czogMTAzLFxuICBPazogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjogMjAzLFxuICBOb0NvbnRlbnQ6IDIwNCxcbiAgUmVzZXRDb250ZW50OiAyMDUsXG4gIFBhcnRpYWxDb250ZW50OiAyMDYsXG4gIE11bHRpU3RhdHVzOiAyMDcsXG4gIEFscmVhZHlSZXBvcnRlZDogMjA4LFxuICBJbVVzZWQ6IDIyNixcbiAgTXVsdGlwbGVDaG9pY2VzOiAzMDAsXG4gIE1vdmVkUGVybWFuZW50bHk6IDMwMSxcbiAgRm91bmQ6IDMwMixcbiAgU2VlT3RoZXI6IDMwMyxcbiAgTm90TW9kaWZpZWQ6IDMwNCxcbiAgVXNlUHJveHk6IDMwNSxcbiAgVW51c2VkOiAzMDYsXG4gIFRlbXBvcmFyeVJlZGlyZWN0OiAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0OiAzMDgsXG4gIEJhZFJlcXVlc3Q6IDQwMCxcbiAgVW5hdXRob3JpemVkOiA0MDEsXG4gIFBheW1lbnRSZXF1aXJlZDogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgTm90Rm91bmQ6IDQwNCxcbiAgTWV0aG9kTm90QWxsb3dlZDogNDA1LFxuICBOb3RBY2NlcHRhYmxlOiA0MDYsXG4gIFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDogNDA3LFxuICBSZXF1ZXN0VGltZW91dDogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIExlbmd0aFJlcXVpcmVkOiA0MTEsXG4gIFByZWNvbmRpdGlvbkZhaWxlZDogNDEyLFxuICBQYXlsb2FkVG9vTGFyZ2U6IDQxMyxcbiAgVXJpVG9vTG9uZzogNDE0LFxuICBVbnN1cHBvcnRlZE1lZGlhVHlwZTogNDE1LFxuICBSYW5nZU5vdFNhdGlzZmlhYmxlOiA0MTYsXG4gIEV4cGVjdGF0aW9uRmFpbGVkOiA0MTcsXG4gIEltQVRlYXBvdDogNDE4LFxuICBNaXNkaXJlY3RlZFJlcXVlc3Q6IDQyMSxcbiAgVW5wcm9jZXNzYWJsZUVudGl0eTogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgRmFpbGVkRGVwZW5kZW5jeTogNDI0LFxuICBUb29FYXJseTogNDI1LFxuICBVcGdyYWRlUmVxdWlyZWQ6IDQyNixcbiAgUHJlY29uZGl0aW9uUmVxdWlyZWQ6IDQyOCxcbiAgVG9vTWFueVJlcXVlc3RzOiA0MjksXG4gIFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTogNDMxLFxuICBVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczogNDUxLFxuICBJbnRlcm5hbFNlcnZlckVycm9yOiA1MDAsXG4gIE5vdEltcGxlbWVudGVkOiA1MDEsXG4gIEJhZEdhdGV3YXk6IDUwMixcbiAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gIEdhdGV3YXlUaW1lb3V0OiA1MDQsXG4gIEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOiA1MDUsXG4gIFZhcmlhbnRBbHNvTmVnb3RpYXRlczogNTA2LFxuICBJbnN1ZmZpY2llbnRTdG9yYWdlOiA1MDcsXG4gIExvb3BEZXRlY3RlZDogNTA4LFxuICBOb3RFeHRlbmRlZDogNTEwLFxuICBOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDogNTExLFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxudmFyIEh0dHBTdGF0dXNDb2RlJDEgPSBIdHRwU3RhdHVzQ29kZTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm5zIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICBjb25zdCBjb250ZXh0ID0gbmV3IEF4aW9zJDEoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcyQxLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zJDEucHJvdG90eXBlLCBjb250ZXh0LCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQsIG51bGwsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuICBpbnN0YW5jZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoZGVmYXVsdENvbmZpZywgaW5zdGFuY2VDb25maWcpKTtcbiAgfTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxuY29uc3QgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyQxKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zJDE7XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsZWRFcnJvciA9IENhbmNlbGVkRXJyb3I7XG5heGlvcy5DYW5jZWxUb2tlbiA9IENhbmNlbFRva2VuJDE7XG5heGlvcy5pc0NhbmNlbCA9IGlzQ2FuY2VsO1xuYXhpb3MuVkVSU0lPTiA9IFZFUlNJT047XG5heGlvcy50b0Zvcm1EYXRhID0gdG9Gb3JtRGF0YTtcblxuLy8gRXhwb3NlIEF4aW9zRXJyb3IgY2xhc3NcbmF4aW9zLkF4aW9zRXJyb3IgPSBBeGlvc0Vycm9yO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuYXhpb3Muc3ByZWFkID0gc3ByZWFkO1xuXG4vLyBFeHBvc2UgaXNBeGlvc0Vycm9yXG5heGlvcy5pc0F4aW9zRXJyb3IgPSBpc0F4aW9zRXJyb3I7XG5cbi8vIEV4cG9zZSBtZXJnZUNvbmZpZ1xuYXhpb3MubWVyZ2VDb25maWcgPSBtZXJnZUNvbmZpZztcblxuYXhpb3MuQXhpb3NIZWFkZXJzID0gQXhpb3NIZWFkZXJzJDE7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLkh0dHBTdGF0dXNDb2RlID0gSHR0cFN0YXR1c0NvZGUkMTtcblxuYXhpb3MuZGVmYXVsdCA9IGF4aW9zO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXhpb3MuY2pzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIEltcG9ydHMgcmVxdWlyZWQgZm9yIHdlYnBhY2sgdG8gZGV0ZWN0IGNoYW5nZXMgYW5kIGdlbmVyYXRlIGh0bWwvY3NzIGZpbGVzXG5pbXBvcnQgJy4uL3N0eWxlcy9zdHlsZXMuc2Nzcyc7IGltcG9ydCAnLi4vaW5kZXguaHRtbCc7XG5cbmltcG9ydCB7IGdldFNwZW50VG9kYXkgfSBmcm9tICcuL3NlcnZpY2UvbWVhc3VyZW1lbnQuc2VydmljZSc7XG5cbmNvbnN0IHN0YXRlID0ge1xuICAgIHRvZGF5OiBudWxsXG59O1xuXG5mdW5jdGlvbiBmZXRjaERhdGEoKSB7XG4gICAgZ2V0U3BlbnRUb2RheSgpLnN1YnNjcmliZShtZWFzdXJlbWVudCA9PiB1cGRhdGVTdGF0ZShtZWFzdXJlbWVudCkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZShtZWFzdXJlbWVudCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlbnQtdG9kYXknKTtcblxuICAgIHN0YXRlLnRvZGF5ID0gbWVhc3VyZW1lbnQucG93ZXJDb25zdW1lZFswXTtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHN0YXRlLnRvZGF5LmNvc3Q7XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gZmlyc3RUaW1lU2V0dGluZ3MoKSB7XG4gICAgY29uc3QgbmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibmFtZVwiKTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhuYW1lKVxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkaW5nLXRpdGxlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRpdGxlLmlubmVySFRNTCA9IGBIaSAke25hbWV9YDtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgfVxuXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ3MtbW9kYWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoZWFkaW5nJylbMF0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgaGVhZGluZy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG5cbiAgICBmb3IgKGNvbnN0IGVsIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkJykpIHtcbiAgICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgfVxuXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWJ1dHRvbicpO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IG5hbWUgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LW5hbWUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgaWYgKG5hbWUgJiYgbmFtZSAhPT0gJycpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmFtZVwiLCBuYW1lKTtcblxuICAgICAgICBjb25zdCBkYXkgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LWRheScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICBpZiAoZGF5ICYmIGRheSAhPT0gJycpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZGF5XCIsIGRheSk7XG5cbiAgICAgICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hlYWRpbmcnKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaGVhZGluZy5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuXG4gICAgICAgIGZvciAoY29uc3QgZWwgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKSkge1xuICAgICAgICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ3MtbW9kYWwnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcblxufVxuXG5maXJzdFRpbWVTZXR0aW5ncygpO1xuXG5mZXRjaERhdGEoKTtcbnNldEludGVydmFsKGZldGNoRGF0YSwgNjAwMDApO1xuIl0sIm5hbWVzIjpbIk9ic2VydmFibGUiLCJDb25uZWN0YWJsZU9ic2VydmFibGUiLCJvYnNlcnZhYmxlIiwiYW5pbWF0aW9uRnJhbWVzIiwiU3ViamVjdCIsIkJlaGF2aW9yU3ViamVjdCIsIlJlcGxheVN1YmplY3QiLCJBc3luY1N1YmplY3QiLCJhc2FwIiwiYXNhcFNjaGVkdWxlciIsImFzeW5jIiwiYXN5bmNTY2hlZHVsZXIiLCJxdWV1ZSIsInF1ZXVlU2NoZWR1bGVyIiwiYW5pbWF0aW9uRnJhbWUiLCJhbmltYXRpb25GcmFtZVNjaGVkdWxlciIsIlZpcnR1YWxUaW1lU2NoZWR1bGVyIiwiVmlydHVhbEFjdGlvbiIsIlNjaGVkdWxlciIsIlN1YnNjcmlwdGlvbiIsIlN1YnNjcmliZXIiLCJOb3RpZmljYXRpb24iLCJOb3RpZmljYXRpb25LaW5kIiwicGlwZSIsIm5vb3AiLCJpZGVudGl0eSIsImlzT2JzZXJ2YWJsZSIsImxhc3RWYWx1ZUZyb20iLCJmaXJzdFZhbHVlRnJvbSIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIiwiRW1wdHlFcnJvciIsIk5vdEZvdW5kRXJyb3IiLCJPYmplY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlNlcXVlbmNlRXJyb3IiLCJUaW1lb3V0RXJyb3IiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiYmluZENhbGxiYWNrIiwiYmluZE5vZGVDYWxsYmFjayIsImNvbWJpbmVMYXRlc3QiLCJjb25jYXQiLCJjb25uZWN0YWJsZSIsImRlZmVyIiwiZW1wdHkiLCJmb3JrSm9pbiIsImZyb20iLCJmcm9tRXZlbnQiLCJmcm9tRXZlbnRQYXR0ZXJuIiwiZ2VuZXJhdGUiLCJpaWYiLCJpbnRlcnZhbCIsIm1lcmdlIiwibmV2ZXIiLCJvZiIsIm9uRXJyb3JSZXN1bWVOZXh0IiwicGFpcnMiLCJwYXJ0aXRpb24iLCJyYWNlIiwicmFuZ2UiLCJ0aHJvd0Vycm9yIiwidGltZXIiLCJ1c2luZyIsInppcCIsInNjaGVkdWxlZCIsIkVNUFRZIiwiTkVWRVIiLCJjb25maWciLCJhdWRpdCIsImF1ZGl0VGltZSIsImJ1ZmZlciIsImJ1ZmZlckNvdW50IiwiYnVmZmVyVGltZSIsImJ1ZmZlclRvZ2dsZSIsImJ1ZmZlcldoZW4iLCJjYXRjaEVycm9yIiwiY29tYmluZUFsbCIsImNvbWJpbmVMYXRlc3RBbGwiLCJjb21iaW5lTGF0ZXN0V2l0aCIsImNvbmNhdEFsbCIsImNvbmNhdE1hcCIsImNvbmNhdE1hcFRvIiwiY29uY2F0V2l0aCIsImNvbm5lY3QiLCJjb3VudCIsImRlYm91bmNlIiwiZGVib3VuY2VUaW1lIiwiZGVmYXVsdElmRW1wdHkiLCJkZWxheSIsImRlbGF5V2hlbiIsImRlbWF0ZXJpYWxpemUiLCJkaXN0aW5jdCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwiZGlzdGluY3RVbnRpbEtleUNoYW5nZWQiLCJlbGVtZW50QXQiLCJlbmRXaXRoIiwiZXZlcnkiLCJleGhhdXN0IiwiZXhoYXVzdEFsbCIsImV4aGF1c3RNYXAiLCJleHBhbmQiLCJmaWx0ZXIiLCJmaW5hbGl6ZSIsImZpbmQiLCJmaW5kSW5kZXgiLCJmaXJzdCIsImdyb3VwQnkiLCJpZ25vcmVFbGVtZW50cyIsImlzRW1wdHkiLCJsYXN0IiwibWFwIiwibWFwVG8iLCJtYXRlcmlhbGl6ZSIsIm1heCIsIm1lcmdlQWxsIiwiZmxhdE1hcCIsIm1lcmdlTWFwIiwibWVyZ2VNYXBUbyIsIm1lcmdlU2NhbiIsIm1lcmdlV2l0aCIsIm1pbiIsIm11bHRpY2FzdCIsIm9ic2VydmVPbiIsIm9uRXJyb3JSZXN1bWVOZXh0V2l0aCIsInBhaXJ3aXNlIiwicGx1Y2siLCJwdWJsaXNoIiwicHVibGlzaEJlaGF2aW9yIiwicHVibGlzaExhc3QiLCJwdWJsaXNoUmVwbGF5IiwicmFjZVdpdGgiLCJyZWR1Y2UiLCJyZXBlYXQiLCJyZXBlYXRXaGVuIiwicmV0cnkiLCJyZXRyeVdoZW4iLCJyZWZDb3VudCIsInNhbXBsZSIsInNhbXBsZVRpbWUiLCJzY2FuIiwic2VxdWVuY2VFcXVhbCIsInNoYXJlIiwic2hhcmVSZXBsYXkiLCJzaW5nbGUiLCJza2lwIiwic2tpcExhc3QiLCJza2lwVW50aWwiLCJza2lwV2hpbGUiLCJzdGFydFdpdGgiLCJzdWJzY3JpYmVPbiIsInN3aXRjaEFsbCIsInN3aXRjaE1hcCIsInN3aXRjaE1hcFRvIiwic3dpdGNoU2NhbiIsInRha2UiLCJ0YWtlTGFzdCIsInRha2VVbnRpbCIsInRha2VXaGlsZSIsInRhcCIsInRocm90dGxlIiwidGhyb3R0bGVUaW1lIiwidGhyb3dJZkVtcHR5IiwidGltZUludGVydmFsIiwidGltZW91dCIsInRpbWVvdXRXaXRoIiwidGltZXN0YW1wIiwidG9BcnJheSIsIndpbmRvdyIsIndpbmRvd0NvdW50Iiwid2luZG93VGltZSIsIndpbmRvd1RvZ2dsZSIsIndpbmRvd1doZW4iLCJ3aXRoTGF0ZXN0RnJvbSIsInppcEFsbCIsInppcFdpdGgiLCJfdmFsdWUiLCJfaGFzVmFsdWUiLCJfaXNDb21wbGV0ZSIsIl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzIiwic3Vic2NyaWJlciIsInRoaXMiLCJoYXNFcnJvciIsInRocm93bkVycm9yIiwiaXNTdG9wcGVkIiwiZXJyb3IiLCJuZXh0IiwiY29tcGxldGUiLCJ2YWx1ZSIsImdldFZhbHVlIiwiX3N1YnNjcmliZSIsInN1YnNjcmlwdGlvbiIsImNsb3NlZCIsIl90aHJvd0lmQ2xvc2VkIiwia2luZCIsImhhc1ZhbHVlIiwib2JzZXJ2ZSIsIm9ic2VydmVyIiwib2JzZXJ2ZU5vdGlmaWNhdGlvbiIsImRvIiwibmV4dEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJjb21wbGV0ZUhhbmRsZXIiLCJhY2NlcHQiLCJuZXh0T3JPYnNlcnZlciIsImlzRnVuY3Rpb24iLCJ0b09ic2VydmFibGUiLCJyZXN1bHQiLCJUeXBlRXJyb3IiLCJjcmVhdGVOZXh0IiwiY3JlYXRlRXJyb3IiLCJlcnIiLCJ1bmRlZmluZWQiLCJjcmVhdGVDb21wbGV0ZSIsImNvbXBsZXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwic3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwib2JzZXJ2ZXJPck5leHQiLCJpc09ic2VydmVyIiwiaXNTdWJzY3JpcHRpb24iLCJTYWZlU3Vic2NyaWJlciIsImVycm9yQ29udGV4dCIsImFkZCIsImNhbGwiLCJfdHJ5U3Vic2NyaWJlIiwic2luayIsImZvckVhY2giLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicmVzb2x2ZSIsInJlamVjdCIsInVuc3Vic2NyaWJlIiwicGlwZUZyb21BcnJheSIsIm9wZXJhdGlvbnMiLCJ0b1Byb21pc2UiLCJ4IiwiY3JlYXRlIiwiUHJvbWlzZSIsIl9idWZmZXJTaXplIiwiX3dpbmRvd1RpbWUiLCJfdGltZXN0YW1wUHJvdmlkZXIiLCJkYXRlVGltZXN0YW1wUHJvdmlkZXIiLCJfYnVmZmVyIiwiX2luZmluaXRlVGltZVdpbmRvdyIsIkluZmluaXR5IiwiTWF0aCIsInB1c2giLCJub3ciLCJfdHJpbUJ1ZmZlciIsIl9pbm5lclN1YnNjcmliZSIsImNvcHkiLCJzbGljZSIsImkiLCJsZW5ndGgiLCJhZGp1c3RlZEJ1ZmZlclNpemUiLCJzcGxpY2UiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwic2NoZWR1bGUiLCJ3b3JrIiwic3RhdGUiLCJjdXJyZW50T2JzZXJ2ZXJzIiwib2JzZXJ2ZXJzIiwic3ViamVjdCIsIkFub255bW91c1N1YmplY3QiLCJBcnJheSIsInNoaWZ0IiwiRU1QVFlfU1VCU0NSSVBUSU9OIiwiYXJyUmVtb3ZlIiwiYXNPYnNlcnZhYmxlIiwiZGVzdGluYXRpb24iLCJFTVBUWV9PQlNFUlZFUiIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJuZXh0Tm90aWZpY2F0aW9uIiwiX25leHQiLCJlcnJvck5vdGlmaWNhdGlvbiIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwiZm4iLCJ0aGlzQXJnIiwicGFydGlhbE9ic2VydmVyIiwiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCJ1c2VEZXByZWNhdGVkTmV4dENvbnRleHQiLCJDb25zdW1lck9ic2VydmVyIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsImNhcHR1cmVFcnJvciIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwidGltZW91dFByb3ZpZGVyIiwic2V0VGltZW91dCIsImluaXRpYWxUZWFyZG93biIsIl9wYXJlbnRhZ2UiLCJfZmluYWxpemVycyIsImVycm9ycyIsImlzQXJyYXkiLCJyZW1vdmUiLCJpbml0aWFsRmluYWxpemVyIiwiZSIsImZpbmFsaXplciIsImV4ZWNGaW5hbGl6ZXIiLCJ0ZWFyZG93biIsIl9oYXNQYXJlbnQiLCJfYWRkUGFyZW50IiwicGFyZW50IiwiaW5jbHVkZXMiLCJfcmVtb3ZlUGFyZW50Iiwib25VbmhhbmRsZWRFcnJvciIsImhhc0NvbmZpZyIsImRlZmF1bHRWYWx1ZSIsInN1YmplY3RGYWN0b3J5IiwiX3N1YmplY3QiLCJfcmVmQ291bnQiLCJfY29ubmVjdGlvbiIsImhhc0xpZnQiLCJnZXRTdWJqZWN0IiwiX3RlYXJkb3duIiwiY29ubmVjdGlvbiIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsImNhbGxiYWNrRnVuYyIsInJlc3VsdFNlbGVjdG9yIiwic2NoZWR1bGVyIiwiYmluZENhbGxiYWNrSW50ZXJuYWxzIiwiaXNOb2RlU3R5bGUiLCJpc1NjaGVkdWxlciIsImFwcGx5IiwiYXJncyIsIm1hcE9uZU9yTWFueUFyZ3MiLCJ1bmluaXRpYWxpemVkIiwic3VicyIsInJlc3VsdHMiLCJjb21iaW5lTGF0ZXN0SW5pdCIsIm9ic2VydmFibGVzIiwidmFsdWVUcmFuc2Zvcm0iLCJtYXliZVNjaGVkdWxlIiwidmFsdWVzIiwiYWN0aXZlIiwicmVtYWluaW5nRmlyc3RWYWx1ZXMiLCJoYXNGaXJzdFZhbHVlIiwiZXhlY3V0ZSIsImV4ZWN1dGVTY2hlZHVsZSIsInBvcFNjaGVkdWxlciIsInBvcFJlc3VsdFNlbGVjdG9yIiwiYXJnc0FyZ0FycmF5T3JPYmplY3QiLCJrZXlzIiwiY3JlYXRlT2JqZWN0IiwiREVGQVVMVF9DT05GSUciLCJjb25uZWN0b3IiLCJyZXNldE9uRGlzY29ubmVjdCIsIm9ic2VydmFibGVGYWN0b3J5IiwiaW5uZXJGcm9tIiwiYW5pbWF0aW9uRnJhbWVzRmFjdG9yeSIsInRpbWVzdGFtcFByb3ZpZGVyIiwicHJvdmlkZXIiLCJwZXJmb3JtYW5jZVRpbWVzdGFtcFByb3ZpZGVyIiwic3RhcnQiLCJpZCIsInJ1biIsImFuaW1hdGlvbkZyYW1lUHJvdmlkZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbGFwc2VkIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJERUZBVUxUX0FOSU1BVElPTl9GUkFNRVMiLCJlbXB0eVNjaGVkdWxlZCIsInNvdXJjZXMiLCJyZW1haW5pbmdDb21wbGV0aW9ucyIsInJlbWFpbmluZ0VtaXNzaW9ucyIsInNvdXJjZUluZGV4IiwiaW5wdXQiLCJub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyIsImV2ZW50VGFyZ2V0TWV0aG9kcyIsImpxdWVyeU1ldGhvZHMiLCJ0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSIsInRhcmdldCIsImV2ZW50TmFtZSIsIm1ldGhvZE5hbWUiLCJoYW5kbGVyIiwib3B0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNFdmVudFRhcmdldCIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsImlzQXJyYXlMaWtlIiwic3ViVGFyZ2V0IiwiYWRkSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJyZXRWYWx1ZSIsInN1YnNjcmliYWJsZSIsImluaXRpYWxTdGF0ZU9yT3B0aW9ucyIsImNvbmRpdGlvbiIsIml0ZXJhdGUiLCJyZXN1bHRTZWxlY3Rvck9yU2NoZWR1bGVyIiwiaW5pdGlhbFN0YXRlIiwiZ2VuIiwiYXJndW1lbnRzIiwic2NoZWR1bGVJdGVyYWJsZSIsInRydWVSZXN1bHQiLCJmYWxzZVJlc3VsdCIsImZyb21JbnRlcm9wT2JzZXJ2YWJsZSIsIm9iaiIsIm9icyIsImZyb21BcnJheUxpa2UiLCJhcnJheSIsImZyb21Qcm9taXNlIiwicHJvbWlzZSIsInRoZW4iLCJmcm9tSXRlcmFibGUiLCJpdGVyYWJsZSIsImZyb21Bc3luY0l0ZXJhYmxlIiwiYXN5bmNJdGVyYWJsZSIsInByb2Nlc3MiLCJjYXRjaCIsImZyb21SZWFkYWJsZVN0cmVhbUxpa2UiLCJyZWFkYWJsZVN0cmVhbSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNQcm9taXNlIiwiaXNBc3luY0l0ZXJhYmxlIiwiaXNJdGVyYWJsZSIsImlzUmVhZGFibGVTdHJlYW1MaWtlIiwiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCJwZXJpb2QiLCJjb25jdXJyZW50IiwicG9wTnVtYmVyIiwibmV4dFNvdXJjZXMiLCJhcmdzT3JBcmdBcnJheSIsInN1YnNjcmliZU5leHQiLCJuZXh0U291cmNlIiwiaW5uZXJTdWJzY3JpYmVyIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwiZW50cmllcyIsInByZWRpY2F0ZSIsIm5vdCIsInJhY2VJbml0Iiwic3Vic2NyaXB0aW9ucyIsInMiLCJlbmQiLCJuIiwiZXJyb3JPckVycm9yRmFjdG9yeSIsImVycm9yRmFjdG9yeSIsImluaXQiLCJkdWVUaW1lIiwiaW50ZXJ2YWxPclNjaGVkdWxlciIsImludGVydmFsRHVyYXRpb24iLCJkdWUiLCJpc1ZhbGlkRGF0ZSIsInJlc291cmNlRmFjdG9yeSIsInJlc291cmNlIiwiYnVmZmVycyIsImNvbXBsZXRlZCIsInNvbWUiLCJvbk5leHQiLCJvbkNvbXBsZXRlIiwib25FcnJvciIsIm9uRmluYWxpemUiLCJzaG91bGRVbnN1YnNjcmliZSIsImR1cmF0aW9uU2VsZWN0b3IiLCJvcGVyYXRlIiwibGFzdFZhbHVlIiwiZHVyYXRpb25TdWJzY3JpYmVyIiwiaXNDb21wbGV0ZSIsImVuZER1cmF0aW9uIiwiY2xlYW51cER1cmF0aW9uIiwiZHVyYXRpb24iLCJjbG9zaW5nTm90aWZpZXIiLCJjdXJyZW50QnVmZmVyIiwiYiIsImJ1ZmZlclNpemUiLCJzdGFydEJ1ZmZlckV2ZXJ5IiwidG9FbWl0IiwiYnVmZmVyVGltZVNwYW4iLCJvdGhlckFyZ3MiLCJidWZmZXJDcmVhdGlvbkludGVydmFsIiwibWF4QnVmZmVyU2l6ZSIsImJ1ZmZlclJlY29yZHMiLCJyZXN0YXJ0T25FbWl0IiwiZW1pdCIsInJlY29yZCIsInN0YXJ0QnVmZmVyIiwiYnVmZmVyVGltZVN1YnNjcmliZXIiLCJyZWNvcmRzQ29weSIsIm9wZW5pbmdzIiwiY2xvc2luZ1NlbGVjdG9yIiwib3BlblZhbHVlIiwiY2xvc2luZ1N1YnNjcmlwdGlvbiIsImNsb3NpbmdTdWJzY3JpYmVyIiwib3BlbkJ1ZmZlciIsInNlbGVjdG9yIiwiaGFuZGxlZFJlc3VsdCIsImlubmVyU3ViIiwic3luY1Vuc3ViIiwicHJvamVjdCIsImpvaW5BbGxJbnRlcm5hbHMiLCJvdGhlclNvdXJjZXMiLCJpbm5lck9ic2VydmFibGUiLCJmcm9tU3Vic2NyaWJhYmxlIiwidG90YWwiLCJhY3RpdmVUYXNrIiwibGFzdFRpbWUiLCJlbWl0V2hlbklkbGUiLCJ0YXJnZXRUaW1lIiwiZGVsYXlEdXJhdGlvblNlbGVjdG9yIiwic3Vic2NyaXB0aW9uRGVsYXkiLCJpbmRleCIsImtleVNlbGVjdG9yIiwiZmx1c2hlcyIsImRpc3RpbmN0S2V5cyIsIlNldCIsImtleSIsImhhcyIsImNsZWFyIiwiZGVmYXVsdENvbXBhcmUiLCJhIiwiY29tcGFyYXRvciIsInByZXZpb3VzS2V5IiwiY3VycmVudEtleSIsImNvbXBhcmUiLCJ5IiwiaGFzRGVmYXVsdFZhbHVlIiwidiIsImlpIiwib3V0ZXJWYWx1ZSIsIm1lcmdlSW50ZXJuYWxzIiwiY2FsbGJhY2siLCJjcmVhdGVGaW5kIiwiZWxlbWVudE9yT3B0aW9ucyIsImVsZW1lbnQiLCJncm91cHMiLCJNYXAiLCJub3RpZnkiLCJjYiIsImhhbmRsZUVycm9yIiwiY29uc3VtZXIiLCJhY3RpdmVHcm91cHMiLCJ0ZWFyZG93bkF0dGVtcHRlZCIsImdyb3VwQnlTb3VyY2VTdWJzY3JpYmVyIiwiZ2V0Iiwic2V0IiwiZ3JvdXBlZCIsImdyb3VwU3ViamVjdCIsImdyb3VwU3Vic2NyaWJlciIsImRlbGV0ZSIsImpvaW5GbiIsImNvbXBhcmVyIiwib25CZWZvcmVOZXh0IiwiaW5uZXJTdWJTY2hlZHVsZXIiLCJhZGRpdGlvbmFsRmluYWxpemVyIiwiY2hlY2tDb21wbGV0ZSIsIm91dGVyTmV4dCIsImRvSW5uZXJTdWIiLCJpbm5lckNvbXBsZXRlIiwiaW5uZXJWYWx1ZSIsImJ1ZmZlcmVkVmFsdWUiLCJhY2N1bXVsYXRvciIsInNlZWQiLCJzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSIsInByZXYiLCJoYXNQcmV2IiwicCIsInByb3BlcnRpZXMiLCJFcnJvciIsImN1cnJlbnRQcm9wIiwiaW5pdGlhbFZhbHVlIiwic2VsZWN0b3JPclNjaGVkdWxlciIsInNjYW5JbnRlcm5hbHMiLCJyZWZDb3VudGVyIiwic2hhcmVkQ29ubmVjdGlvbiIsImNvbm4iLCJjb3VudE9yQ29uZmlnIiwic291cmNlU3ViIiwic29GYXIiLCJyZXN1YnNjcmliZSIsIm5vdGlmaWVyIiwic3Vic2NyaWJlVG9Tb3VyY2UiLCJjb21wbGV0aW9ucyQiLCJzeW5jUmVzdWIiLCJpc05vdGlmaWVyQ29tcGxldGUiLCJpc01haW5Db21wbGV0ZSIsInN1YnNjcmliZUZvclJlcGVhdFdoZW4iLCJjb25maWdPckNvdW50IiwicmVzZXRPblN1Y2Nlc3MiLCJzdWJzY3JpYmVGb3JSZXRyeSIsImVycm9ycyQiLCJzdWJzY3JpYmVGb3JSZXRyeVdoZW4iLCJoYXNTZWVkIiwiZW1pdE9uTmV4dCIsImVtaXRCZWZvcmVDb21wbGV0ZSIsImhhc1N0YXRlIiwiY29tcGFyZVRvIiwiYVN0YXRlIiwiYlN0YXRlIiwiaXNFcXVhbCIsImNyZWF0ZVN1YnNjcmliZXIiLCJzZWxmU3RhdGUiLCJvdGhlclN0YXRlIiwic2VxdWVuY2VFcXVhbFN1YnNjcmliZXIiLCJoYW5kbGVSZXNldCIsInJlc2V0Iiwib25TdWJzY3JpYmVyIiwicmVzZXRPbkVycm9yIiwicmVzZXRPbkNvbXBsZXRlIiwicmVzZXRPblJlZkNvdW50WmVybyIsIndyYXBwZXJTb3VyY2UiLCJyZXNldENvbm5lY3Rpb24iLCJoYXNDb21wbGV0ZWQiLCJoYXNFcnJvcmVkIiwiY2FuY2VsUmVzZXQiLCJyZXNldEFuZFVuc3Vic2NyaWJlIiwiZGVzdCIsImNvbmZpZ09yQnVmZmVyU2l6ZSIsInNpbmdsZVZhbHVlIiwic2VlblZhbHVlIiwiXyIsInNraXBDb3VudCIsInJpbmciLCJzZWVuIiwidmFsdWVJbmRleCIsIm9sZFZhbHVlIiwidGFraW5nIiwic2tpcFN1YnNjcmliZXIiLCJpbm5lckluZGV4Iiwib3V0ZXJJbmRleCIsImluY2x1c2l2ZSIsInRhcE9ic2VydmVyIiwiaXNVbnN1YiIsImRlZmF1bHRUaHJvdHRsZUNvbmZpZyIsImxlYWRpbmciLCJ0cmFpbGluZyIsInNlbmRWYWx1ZSIsInRocm90dGxlZCIsImVuZFRocm90dGxpbmciLCJzZW5kIiwiY2xlYW51cFRocm90dGxpbmciLCJzdGFydFRocm90dGxlIiwiZHVyYXRpb24kIiwiZGVmYXVsdEVycm9yRmFjdG9yeSIsIlRpbWVJbnRlcnZhbCIsInRpbWVvdXRFcnJvckZhY3RvcnkiLCJpbmZvIiwiY3JlYXRlRXJyb3JDbGFzcyIsIl9zdXBlciIsIm1lc3NhZ2UiLCJuYW1lIiwic2NoZWR1bGVyQXJnIiwiZWFjaCIsIndpdGgiLCJfd2l0aCIsIm1ldGEiLCJvcmlnaW5hbFNvdXJjZVN1YnNjcmlwdGlvbiIsInRpbWVyU3Vic2NyaXB0aW9uIiwic3RhcnRUaW1lciIsIndpdGhPYnNlcnZhYmxlIiwiYXJyUmVkdWNlciIsImFyciIsIndpbmRvd0JvdW5kYXJpZXMiLCJ3aW5kb3dTdWJqZWN0Iiwid2luZG93U2l6ZSIsInN0YXJ0V2luZG93RXZlcnkiLCJzdGFydEV2ZXJ5Iiwid2luZG93cyIsImMiLCJ3aW5kb3dUaW1lU3BhbiIsIndpbmRvd0NyZWF0aW9uSW50ZXJ2YWwiLCJtYXhXaW5kb3dTaXplIiwid2luZG93UmVjb3JkcyIsInJlc3RhcnRPbkNsb3NlIiwiY2xvc2VXaW5kb3ciLCJzdGFydFdpbmRvdyIsImxvb3AiLCJ0ZXJtaW5hdGUiLCJ3aW5kb3dzQ29weSIsIm9wZW5XaW5kb3ciLCJpbnB1dHMiLCJsZW4iLCJvdGhlclZhbHVlcyIsInJlYWR5Iiwib3RoZXJJbnB1dHMiLCJpdGVyYXRvciIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJkb25lIiwicmV0dXJuIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIiwiQWN0aW9uIiwicmVxdWVzdEFzeW5jSWQiLCJhY3Rpb25zIiwiX3NjaGVkdWxlZCIsImZsdXNoIiwicmVjeWNsZUFzeW5jSWQiLCJBc3luY0FjdGlvbiIsIkFuaW1hdGlvbkZyYW1lQWN0aW9uIiwiYWN0aW9uIiwiX2FjdGl2ZSIsImZsdXNoSWQiLCJBc3luY1NjaGVkdWxlciIsIkFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIiwiaW1tZWRpYXRlUHJvdmlkZXIiLCJzZXRJbW1lZGlhdGUiLCJjbGVhckltbWVkaWF0ZSIsIkFzYXBBY3Rpb24iLCJBc2FwU2NoZWR1bGVyIiwicGVuZGluZyIsIl9pZCIsImludGVydmFsUHJvdmlkZXIiLCJzZXRJbnRlcnZhbCIsIl9zY2hlZHVsZXIiLCJjbGVhckludGVydmFsIiwiX2V4ZWN1dGUiLCJfZGVsYXkiLCJlcnJvclZhbHVlIiwiZXJyb3JlZCIsIlNjaGVkdWxlckFjdGlvbiIsIlF1ZXVlQWN0aW9uIiwiUXVldWVTY2hlZHVsZXIiLCJtYXhGcmFtZXMiLCJmcmFtZSIsImZyYW1lVGltZUZhY3RvciIsIk51bWJlciIsImlzRmluaXRlIiwic29ydCIsInNvcnRBY3Rpb25zIiwicmVxdWVzdCIsImNhbmNlbCIsImRlbGVnYXRlIiwiaGFuZGxlIiwiRGF0ZSIsIkltbWVkaWF0ZSIsInBlcmZvcm1hbmNlIiwiY2xlYXJUaW1lb3V0IiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJyZXNvbHZlZCIsIm5leHRIYW5kbGUiLCJhY3RpdmVIYW5kbGVzIiwiZmluZEFuZENsZWFySGFuZGxlIiwiVGVzdFRvb2xzIiwidG9TdHJpbmciLCJqb2luIiwicG9wIiwiZ2V0UHJvdG90eXBlT2YiLCJvYmplY3RQcm90byIsImdldEtleXMiLCJpdGVtIiwiaW5kZXhPZiIsImNyZWF0ZUltcGwiLCJjdG9yRnVuYyIsImluc3RhbmNlIiwic3RhY2siLCJjb25zdHJ1Y3RvciIsImNvbnRleHQiLCJpc1Jvb3QiLCJlcnJvclRocm93biIsInBhcmVudFN1YnNjcmlwdGlvbiIsInNjaGVkdWxlU3Vic2NyaXB0aW9uIiwiaXNOYU4iLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJsaWZ0ZWRTb3VyY2UiLCJjYWxsT3JBcHBseSIsInByZWQiLCJmbnMiLCJlbnZpcm9ubWVudCIsImFwaUJhc2VVcmwiLCJodHRwIiwiYmFzZVVSTCIsInVybCIsInBhcmFtcyIsImdldFNwZW50VG9kYXkiLCJodHRwR2V0IiwicmVzIiwic3RhdHVzIiwiZGF0YSIsImtpbmRPZiIsImNhY2hlIiwidGhpbmciLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsImtpbmRPZlRlc3QiLCJ0eXBlIiwidHlwZU9mVGVzdCIsImlzVW5kZWZpbmVkIiwiaXNBcnJheUJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc09iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ2YWwiLCJ0b1N0cmluZ1RhZyIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzRmlsZUxpc3QiLCJpc1VSTFNlYXJjaFBhcmFtcyIsImFsbE93bktleXMiLCJsIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZpbmRLZXkiLCJfa2V5IiwiX2dsb2JhbCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiZyIsImlzQ29udGV4dERlZmluZWQiLCJpc1R5cGVkQXJyYXkiLCJUeXBlZEFycmF5IiwiVWludDhBcnJheSIsImlzSFRNTEZvcm0iLCJoYXNPd25Qcm9wZXJ0eSIsInByb3AiLCJpc1JlZ0V4cCIsInJlZHVjZURlc2NyaXB0b3JzIiwicmVkdWNlciIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsInJlZHVjZWREZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidXRpbHMiLCJpc0J1ZmZlciIsImlzRm9ybURhdGEiLCJwYXR0ZXJuIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiaXNCb29sZWFuIiwiaXNTdHJlYW0iLCJjYXNlbGVzcyIsImFzc2lnblZhbHVlIiwidGFyZ2V0S2V5IiwiZXh0ZW5kIiwidHJpbSIsInJlcGxhY2UiLCJzdHJpcEJPTSIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiaW5oZXJpdHMiLCJzdXBlckNvbnN0cnVjdG9yIiwicHJvcHMiLCJkZWZpbmVQcm9wZXJ0eSIsImFzc2lnbiIsInRvRmxhdE9iamVjdCIsInNvdXJjZU9iaiIsImRlc3RPYmoiLCJwcm9wRmlsdGVyIiwibWVyZ2VkIiwiZW5kc1dpdGgiLCJzZWFyY2hTdHJpbmciLCJwb3NpdGlvbiIsIlN0cmluZyIsImxhc3RJbmRleCIsImZvckVhY2hFbnRyeSIsInBhaXIiLCJtYXRjaEFsbCIsInJlZ0V4cCIsIm1hdGNoZXMiLCJleGVjIiwiaGFzT3duUHJvcCIsImZyZWV6ZU1ldGhvZHMiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJ0b09iamVjdFNldCIsImFycmF5T3JTdHJpbmciLCJkZWxpbWl0ZXIiLCJkZWZpbmUiLCJzcGxpdCIsInRvQ2FtZWxDYXNlIiwibSIsInAxIiwicDIiLCJ0b1VwcGVyQ2FzZSIsInRvRmluaXRlTnVtYmVyIiwiZ2xvYmFsIiwidG9KU09OT2JqZWN0IiwidmlzaXQiLCJyZWR1Y2VkVmFsdWUiLCJBeGlvc0Vycm9yIiwiY29kZSIsInJlc3BvbnNlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInByb3RvdHlwZSQxIiwiY3VzdG9tUHJvcHMiLCJheGlvc0Vycm9yIiwiY2F1c2UiLCJGb3JtRGF0YSQyIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsInBhdGgiLCJkb3RzIiwidG9rZW4iLCJwcmVkaWNhdGVzIiwidGVzdCIsInRvRm9ybURhdGEiLCJmb3JtRGF0YSIsIm1ldGFUb2tlbnMiLCJpbmRleGVzIiwib3B0aW9uIiwidmlzaXRvciIsImRlZmF1bHRWaXNpdG9yIiwidXNlQmxvYiIsIkJsb2IiLCJhcHBlbmQiLCJjb252ZXJ0VmFsdWUiLCJ0b0lTT1N0cmluZyIsIkJ1ZmZlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc0ZsYXRBcnJheSIsImVsIiwiZXhwb3NlZEhlbHBlcnMiLCJidWlsZCIsImVuY29kZSQxIiwiY2hhck1hcCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1hdGNoIiwiQXhpb3NVUkxTZWFyY2hQYXJhbXMiLCJfcGFpcnMiLCJlbmNvZGUiLCJidWlsZFVSTCIsIl9lbmNvZGUiLCJzZXJpYWxpemVGbiIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZWRQYXJhbXMiLCJoYXNobWFya0luZGV4IiwiZW5jb2RlciIsIkludGVyY2VwdG9yTWFuYWdlciQxIiwiaGFuZGxlcnMiLCJ1c2UiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInN5bmNocm9ub3VzIiwicnVuV2hlbiIsImVqZWN0IiwiaCIsInRyYW5zaXRpb25hbERlZmF1bHRzIiwic2lsZW50SlNPTlBhcnNpbmciLCJmb3JjZWRKU09OUGFyc2luZyIsImNsYXJpZnlUaW1lb3V0RXJyb3IiLCJVUkxTZWFyY2hQYXJhbXMkMSIsIlVSTFNlYXJjaFBhcmFtcyIsIkZvcm1EYXRhJDEiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsInByb2R1Y3QiLCJuYXZpZ2F0b3IiLCJkb2N1bWVudCIsImlzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52IiwiV29ya2VyR2xvYmFsU2NvcGUiLCJpbXBvcnRTY3JpcHRzIiwicGxhdGZvcm0iLCJpc0Jyb3dzZXIiLCJjbGFzc2VzIiwicHJvdG9jb2xzIiwiZm9ybURhdGFUb0pTT04iLCJidWlsZFBhdGgiLCJpc051bWVyaWNLZXkiLCJpc0xhc3QiLCJhcnJheVRvT2JqZWN0IiwicGFyc2VQcm9wUGF0aCIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwiZGVmYXVsdHMiLCJ0cmFuc2l0aW9uYWwiLCJhZGFwdGVyIiwidHJhbnNmb3JtUmVxdWVzdCIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsImdldENvbnRlbnRUeXBlIiwiaGFzSlNPTkNvbnRlbnRUeXBlIiwiaXNPYmplY3RQYXlsb2FkIiwic2V0Q29udGVudFR5cGUiLCJoZWxwZXJzIiwiaXNOb2RlIiwidG9VUkxFbmNvZGVkRm9ybSIsImZvcm1TZXJpYWxpemVyIiwiX0Zvcm1EYXRhIiwiZW52IiwicmF3VmFsdWUiLCJwYXJzZXIiLCJwYXJzZSIsInN0cmluZ2lmeVNhZmVseSIsInRyYW5zZm9ybVJlc3BvbnNlIiwiSlNPTlJlcXVlc3RlZCIsInJlc3BvbnNlVHlwZSIsInN0cmljdEpTT05QYXJzaW5nIiwiRVJSX0JBRF9SRVNQT05TRSIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwibWF4Qm9keUxlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwiY29tbW9uIiwibWV0aG9kIiwiZGVmYXVsdHMkMSIsImlnbm9yZUR1cGxpY2F0ZU9mIiwiJGludGVybmFscyIsIm5vcm1hbGl6ZUhlYWRlciIsImhlYWRlciIsIm5vcm1hbGl6ZVZhbHVlIiwibWF0Y2hIZWFkZXJWYWx1ZSIsIkF4aW9zSGVhZGVycyIsInZhbHVlT3JSZXdyaXRlIiwicmV3cml0ZSIsInNldEhlYWRlciIsIl9oZWFkZXIiLCJfcmV3cml0ZSIsImxIZWFkZXIiLCJzZXRIZWFkZXJzIiwicmF3SGVhZGVycyIsInBhcnNlZCIsImxpbmUiLCJzdWJzdHJpbmciLCJwYXJzZUhlYWRlcnMiLCJ0b2tlbnMiLCJ0b2tlbnNSRSIsInBhcnNlVG9rZW5zIiwibWF0Y2hlciIsImRlbGV0ZWQiLCJkZWxldGVIZWFkZXIiLCJub3JtYWxpemUiLCJmb3JtYXQiLCJub3JtYWxpemVkIiwidyIsImNoYXIiLCJmb3JtYXRIZWFkZXIiLCJ0YXJnZXRzIiwiYXNTdHJpbmdzIiwic3RhdGljIiwiY29tcHV0ZWQiLCJhY2Nlc3NvcnMiLCJkZWZpbmVBY2Nlc3NvciIsImFjY2Vzc29yTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImNvbmZpZ3VyYWJsZSIsImJ1aWxkQWNjZXNzb3JzIiwiYWNjZXNzb3IiLCJBeGlvc0hlYWRlcnMkMSIsInRyYW5zZm9ybURhdGEiLCJpc0NhbmNlbCIsIl9fQ0FOQ0VMX18iLCJDYW5jZWxlZEVycm9yIiwiRVJSX0NBTkNFTEVEIiwiY29va2llcyIsIndyaXRlIiwiZXhwaXJlcyIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsInRvR01UU3RyaW5nIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYnVpbGRGdWxsUGF0aCIsInJlcXVlc3RlZFVSTCIsInJlbGF0aXZlVVJMIiwiY29tYmluZVVSTHMiLCJpc1VSTFNhbWVPcmlnaW4iLCJtc2llIiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJjcmVhdGVFbGVtZW50Iiwib3JpZ2luVVJMIiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJjaGFyQXQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsImxpc3RlbmVyIiwiaXNEb3dubG9hZFN0cmVhbSIsImJ5dGVzTm90aWZpZWQiLCJfc3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJieXRlcyIsInRpbWVzdGFtcHMiLCJmaXJzdFNhbXBsZVRTIiwiaGVhZCIsInRhaWwiLCJjaHVua0xlbmd0aCIsInN0YXJ0ZWRBdCIsImJ5dGVzQ291bnQiLCJwYXNzZWQiLCJyb3VuZCIsInNwZWVkb21ldGVyIiwibG9hZGVkIiwibGVuZ3RoQ29tcHV0YWJsZSIsInByb2dyZXNzQnl0ZXMiLCJyYXRlIiwicHJvZ3Jlc3MiLCJlc3RpbWF0ZWQiLCJldmVudCIsImtub3duQWRhcHRlcnMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJvbkNhbmNlbGVkIiwiY2FuY2VsVG9rZW4iLCJzaWduYWwiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVuZXNjYXBlIiwiYnRvYSIsImZ1bGxQYXRoIiwib25sb2FkZW5kIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiRVJSX0JBRF9SRVFVRVNUIiwiZmxvb3IiLCJzZXR0bGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib3BlbiIsInBhcmFtc1NlcmlhbGl6ZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJvbmFib3J0IiwiRUNPTk5BQk9SVEVEIiwib25lcnJvciIsIkVSUl9ORVRXT1JLIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsIkVUSU1FRE9VVCIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiYWJvcnQiLCJhYm9ydGVkIiwicGFyc2VQcm90b2NvbCIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiYWRhcHRlcnMiLCJuYW1lT3JBZGFwdGVyIiwicmVhc29uIiwiaGVhZGVyc1RvT2JqZWN0IiwibWVyZ2VDb25maWciLCJjb25maWcxIiwiY29uZmlnMiIsImdldE1lcmdlZFZhbHVlIiwibWVyZ2VEZWVwUHJvcGVydGllcyIsInZhbHVlRnJvbUNvbmZpZzIiLCJkZWZhdWx0VG9Db25maWcyIiwibWVyZ2VEaXJlY3RLZXlzIiwidGltZW91dE1lc3NhZ2UiLCJkZWNvbXByZXNzIiwiYmVmb3JlUmVkaXJlY3QiLCJ0cmFuc3BvcnQiLCJodHRwQWdlbnQiLCJodHRwc0FnZW50Iiwic29ja2V0UGF0aCIsInJlc3BvbnNlRW5jb2RpbmciLCJjb25maWdWYWx1ZSIsInZhbGlkYXRvcnMkMSIsImRlcHJlY2F0ZWRXYXJuaW5ncyIsInZhbGlkYXRvciIsInZlcnNpb24iLCJmb3JtYXRNZXNzYWdlIiwib3B0IiwiZGVzYyIsIm9wdHMiLCJFUlJfREVQUkVDQVRFRCIsImNvbnNvbGUiLCJ3YXJuIiwiYXNzZXJ0T3B0aW9ucyIsInNjaGVtYSIsImFsbG93VW5rbm93biIsIkVSUl9CQURfT1BUSU9OX1ZBTFVFIiwiRVJSX0JBRF9PUFRJT04iLCJ2YWxpZGF0b3JzIiwiQXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsImludGVyY2VwdG9ycyIsImNvbmZpZ09yVXJsIiwiY29udGV4dEhlYWRlcnMiLCJib29sZWFuIiwiZnVuY3Rpb24iLCJyZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiIsInN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyIsImludGVyY2VwdG9yIiwidW5zaGlmdCIsInJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiIsImNoYWluIiwibmV3Q29uZmlnIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiZ2V0VXJpIiwiZ2VuZXJhdGVIVFRQTWV0aG9kIiwiaXNGb3JtIiwiQXhpb3MkMSIsIkNhbmNlbFRva2VuIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsIl9saXN0ZW5lcnMiLCJvbmZ1bGZpbGxlZCIsIl9yZXNvbHZlIiwiQ2FuY2VsVG9rZW4kMSIsIkh0dHBTdGF0dXNDb2RlIiwiQ29udGludWUiLCJTd2l0Y2hpbmdQcm90b2NvbHMiLCJQcm9jZXNzaW5nIiwiRWFybHlIaW50cyIsIk9rIiwiQ3JlYXRlZCIsIkFjY2VwdGVkIiwiTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uIiwiTm9Db250ZW50IiwiUmVzZXRDb250ZW50IiwiUGFydGlhbENvbnRlbnQiLCJNdWx0aVN0YXR1cyIsIkFscmVhZHlSZXBvcnRlZCIsIkltVXNlZCIsIk11bHRpcGxlQ2hvaWNlcyIsIk1vdmVkUGVybWFuZW50bHkiLCJGb3VuZCIsIlNlZU90aGVyIiwiTm90TW9kaWZpZWQiLCJVc2VQcm94eSIsIlVudXNlZCIsIlRlbXBvcmFyeVJlZGlyZWN0IiwiUGVybWFuZW50UmVkaXJlY3QiLCJCYWRSZXF1ZXN0IiwiVW5hdXRob3JpemVkIiwiUGF5bWVudFJlcXVpcmVkIiwiRm9yYmlkZGVuIiwiTm90Rm91bmQiLCJNZXRob2ROb3RBbGxvd2VkIiwiTm90QWNjZXB0YWJsZSIsIlByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZCIsIlJlcXVlc3RUaW1lb3V0IiwiQ29uZmxpY3QiLCJHb25lIiwiTGVuZ3RoUmVxdWlyZWQiLCJQcmVjb25kaXRpb25GYWlsZWQiLCJQYXlsb2FkVG9vTGFyZ2UiLCJVcmlUb29Mb25nIiwiVW5zdXBwb3J0ZWRNZWRpYVR5cGUiLCJSYW5nZU5vdFNhdGlzZmlhYmxlIiwiRXhwZWN0YXRpb25GYWlsZWQiLCJJbUFUZWFwb3QiLCJNaXNkaXJlY3RlZFJlcXVlc3QiLCJVbnByb2Nlc3NhYmxlRW50aXR5IiwiTG9ja2VkIiwiRmFpbGVkRGVwZW5kZW5jeSIsIlRvb0Vhcmx5IiwiVXBncmFkZVJlcXVpcmVkIiwiUHJlY29uZGl0aW9uUmVxdWlyZWQiLCJUb29NYW55UmVxdWVzdHMiLCJSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2UiLCJVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29ucyIsIkludGVybmFsU2VydmVyRXJyb3IiLCJOb3RJbXBsZW1lbnRlZCIsIkJhZEdhdGV3YXkiLCJTZXJ2aWNlVW5hdmFpbGFibGUiLCJHYXRld2F5VGltZW91dCIsIkh0dHBWZXJzaW9uTm90U3VwcG9ydGVkIiwiVmFyaWFudEFsc29OZWdvdGlhdGVzIiwiSW5zdWZmaWNpZW50U3RvcmFnZSIsIkxvb3BEZXRlY3RlZCIsIk5vdEV4dGVuZGVkIiwiTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQiLCJIdHRwU3RhdHVzQ29kZSQxIiwiYXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJWRVJTSU9OIiwiQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJzcHJlYWQiLCJpc0F4aW9zRXJyb3IiLCJwYXlsb2FkIiwiZm9ybVRvSlNPTiIsImRlZmF1bHQiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwibyIsInIiLCJ0b2RheSIsImZldGNoRGF0YSIsIm1lYXN1cmVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3dlckNvbnN1bWVkIiwiaW5uZXJIVE1MIiwiY29zdCIsInVwZGF0ZVN0YXRlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxvZyIsInN0eWxlIiwiZGlzcGxheSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ2aXNpYmlsaXR5IiwicXVlcnlTZWxlY3RvckFsbCIsInNldEl0ZW0iLCJkYXkiLCJmaXJzdFRpbWVTZXR0aW5ncyJdLCJzb3VyY2VSb290IjoiIn0=