(()=>{"use strict";var e={3287:(e,r,t)=>{t.r(r)},5691:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});const n='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>IOT APP</title>\n    <link rel="preconnect" href="https://fonts.googleapis.com">\n    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n    <link href="https://fonts.googleapis.com/css2?family=Arvo&family=Itim&family=Lora&family=Rammetto+One&display=swap" rel="stylesheet">\n</head>\n<body>\n    <div id="container" class="container">\n        <header class="row">\n            <img class="socket-image" src="images/socket.png" alt="socket">\n            <div class="col-12">\n                <div class="heading">\n                    <span id="heading-title" class="heading-title">Hi Stranger</span>\n                    <span class="heading-subtitle">\n                        You\'re losing money every second\n                    </span>\n                </div>\n            </div>\n        </header>\n\n        <div class="row">\n            <div class="col-6">\n                <div class="card">\n                    <div class="card-title">Spent today</div>\n                    <div id="spent-today" class="card-value">0.27<span class="card-value-unit">€</span></div>\n                </div>\n            </div>\n            <div class="col-6">\n                <div class="card">\n                    <div class="card-title">Spent this month</div>\n                    <div id="spent-month" class="card-value">131<span class="card-value-unit">€</span></div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    <div id="settings-modal" class="settings-modal">\n        <span class="modal-title">Settings</span>\n        <span class="modal-question">What should I call you?</span>\n        <div class="inputContainer">\n            <input id="input-name" />\n        </div>\n        <span class="modal-question">What\'s your electricity bill starting day?</span>\n        <div class="inputContainer">\n            <input id="input-day" />\n        </div>\n        <button id="modal-button" class="modal-button">\n            Done\n        </button>\n    </div>\n\n    <script type="application/javascript" src="./main.js"><\/script>\n</body>\n</html>\n'},3147:function(e,r,t){var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),o=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),r.interval=r.iif=r.generate=r.fromEventPattern=r.fromEvent=r.from=r.forkJoin=r.empty=r.defer=r.connectable=r.concat=r.combineLatest=r.bindNodeCallback=r.bindCallback=r.UnsubscriptionError=r.TimeoutError=r.SequenceError=r.ObjectUnsubscribedError=r.NotFoundError=r.EmptyError=r.ArgumentOutOfRangeError=r.firstValueFrom=r.lastValueFrom=r.isObservable=r.identity=r.noop=r.pipe=r.NotificationKind=r.Notification=r.Subscriber=r.Subscription=r.Scheduler=r.VirtualAction=r.VirtualTimeScheduler=r.animationFrameScheduler=r.animationFrame=r.queueScheduler=r.queue=r.asyncScheduler=r.async=r.asapScheduler=r.asap=r.AsyncSubject=r.ReplaySubject=r.BehaviorSubject=r.Subject=r.animationFrames=r.observable=r.ConnectableObservable=r.Observable=void 0,r.filter=r.expand=r.exhaustMap=r.exhaustAll=r.exhaust=r.every=r.endWith=r.elementAt=r.distinctUntilKeyChanged=r.distinctUntilChanged=r.distinct=r.dematerialize=r.delayWhen=r.delay=r.defaultIfEmpty=r.debounceTime=r.debounce=r.count=r.connect=r.concatWith=r.concatMapTo=r.concatMap=r.concatAll=r.combineLatestWith=r.combineLatestAll=r.combineAll=r.catchError=r.bufferWhen=r.bufferToggle=r.bufferTime=r.bufferCount=r.buffer=r.auditTime=r.audit=r.config=r.NEVER=r.EMPTY=r.scheduled=r.zip=r.using=r.timer=r.throwError=r.range=r.race=r.partition=r.pairs=r.onErrorResumeNext=r.of=r.never=r.merge=void 0,r.switchMap=r.switchAll=r.subscribeOn=r.startWith=r.skipWhile=r.skipUntil=r.skipLast=r.skip=r.single=r.shareReplay=r.share=r.sequenceEqual=r.scan=r.sampleTime=r.sample=r.refCount=r.retryWhen=r.retry=r.repeatWhen=r.repeat=r.reduce=r.raceWith=r.publishReplay=r.publishLast=r.publishBehavior=r.publish=r.pluck=r.pairwise=r.onErrorResumeNextWith=r.observeOn=r.multicast=r.min=r.mergeWith=r.mergeScan=r.mergeMapTo=r.mergeMap=r.flatMap=r.mergeAll=r.max=r.materialize=r.mapTo=r.map=r.last=r.isEmpty=r.ignoreElements=r.groupBy=r.first=r.findIndex=r.find=r.finalize=void 0,r.zipWith=r.zipAll=r.withLatestFrom=r.windowWhen=r.windowToggle=r.windowTime=r.windowCount=r.window=r.toArray=r.timestamp=r.timeoutWith=r.timeout=r.timeInterval=r.throwIfEmpty=r.throttleTime=r.throttle=r.tap=r.takeWhile=r.takeUntil=r.takeLast=r.take=r.switchScan=r.switchMapTo=void 0;var i=t(2334);Object.defineProperty(r,"Observable",{enumerable:!0,get:function(){return i.Observable}});var u=t(3986);Object.defineProperty(r,"ConnectableObservable",{enumerable:!0,get:function(){return u.ConnectableObservable}});var a=t(5310);Object.defineProperty(r,"observable",{enumerable:!0,get:function(){return a.observable}});var c=t(1834);Object.defineProperty(r,"animationFrames",{enumerable:!0,get:function(){return c.animationFrames}});var s=t(5683);Object.defineProperty(r,"Subject",{enumerable:!0,get:function(){return s.Subject}});var l=t(8825);Object.defineProperty(r,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var f=t(40);Object.defineProperty(r,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=t(6674);Object.defineProperty(r,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var p=t(115);Object.defineProperty(r,"asap",{enumerable:!0,get:function(){return p.asap}}),Object.defineProperty(r,"asapScheduler",{enumerable:!0,get:function(){return p.asapScheduler}});var b=t(4721);Object.defineProperty(r,"async",{enumerable:!0,get:function(){return b.async}}),Object.defineProperty(r,"asyncScheduler",{enumerable:!0,get:function(){return b.asyncScheduler}});var v=t(1690);Object.defineProperty(r,"queue",{enumerable:!0,get:function(){return v.queue}}),Object.defineProperty(r,"queueScheduler",{enumerable:!0,get:function(){return v.queueScheduler}});var h=t(3738);Object.defineProperty(r,"animationFrame",{enumerable:!0,get:function(){return h.animationFrame}}),Object.defineProperty(r,"animationFrameScheduler",{enumerable:!0,get:function(){return h.animationFrameScheduler}});var y=t(7458);Object.defineProperty(r,"VirtualTimeScheduler",{enumerable:!0,get:function(){return y.VirtualTimeScheduler}}),Object.defineProperty(r,"VirtualAction",{enumerable:!0,get:function(){return y.VirtualAction}});var m=t(5297);Object.defineProperty(r,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var _=t(4794);Object.defineProperty(r,"Subscription",{enumerable:!0,get:function(){return _.Subscription}});var O=t(3351);Object.defineProperty(r,"Subscriber",{enumerable:!0,get:function(){return O.Subscriber}});var g=t(762);Object.defineProperty(r,"Notification",{enumerable:!0,get:function(){return g.Notification}}),Object.defineProperty(r,"NotificationKind",{enumerable:!0,get:function(){return g.NotificationKind}});var w=t(3348);Object.defineProperty(r,"pipe",{enumerable:!0,get:function(){return w.pipe}});var j=t(1123);Object.defineProperty(r,"noop",{enumerable:!0,get:function(){return j.noop}});var P=t(742);Object.defineProperty(r,"identity",{enumerable:!0,get:function(){return P.identity}});var S=t(570);Object.defineProperty(r,"isObservable",{enumerable:!0,get:function(){return S.isObservable}});var E=t(1429);Object.defineProperty(r,"lastValueFrom",{enumerable:!0,get:function(){return E.lastValueFrom}});var x=t(5939);Object.defineProperty(r,"firstValueFrom",{enumerable:!0,get:function(){return x.firstValueFrom}});var A=t(9904);Object.defineProperty(r,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return A.ArgumentOutOfRangeError}});var M=t(1486);Object.defineProperty(r,"EmptyError",{enumerable:!0,get:function(){return M.EmptyError}});var T=t(8909);Object.defineProperty(r,"NotFoundError",{enumerable:!0,get:function(){return T.NotFoundError}});var F=t(6965);Object.defineProperty(r,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return F.ObjectUnsubscribedError}});var R=t(8010);Object.defineProperty(r,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var C=t(9802);Object.defineProperty(r,"TimeoutError",{enumerable:!0,get:function(){return C.TimeoutError}});var I=t(6235);Object.defineProperty(r,"UnsubscriptionError",{enumerable:!0,get:function(){return I.UnsubscriptionError}});var k=t(1703);Object.defineProperty(r,"bindCallback",{enumerable:!0,get:function(){return k.bindCallback}});var N=t(7854);Object.defineProperty(r,"bindNodeCallback",{enumerable:!0,get:function(){return N.bindNodeCallback}});var L=t(6691);Object.defineProperty(r,"combineLatest",{enumerable:!0,get:function(){return L.combineLatest}});var U=t(3592);Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return U.concat}});var W=t(5314);Object.defineProperty(r,"connectable",{enumerable:!0,get:function(){return W.connectable}});var B=t(3171);Object.defineProperty(r,"defer",{enumerable:!0,get:function(){return B.defer}});var q=t(7711);Object.defineProperty(r,"empty",{enumerable:!0,get:function(){return q.empty}});var z=t(4392);Object.defineProperty(r,"forkJoin",{enumerable:!0,get:function(){return z.forkJoin}});var D=t(4206);Object.defineProperty(r,"from",{enumerable:!0,get:function(){return D.from}});var V=t(6631);Object.defineProperty(r,"fromEvent",{enumerable:!0,get:function(){return V.fromEvent}});var Y=t(8960);Object.defineProperty(r,"fromEventPattern",{enumerable:!0,get:function(){return Y.fromEventPattern}});var H=t(8116);Object.defineProperty(r,"generate",{enumerable:!0,get:function(){return H.generate}});var J=t(6490);Object.defineProperty(r,"iif",{enumerable:!0,get:function(){return J.iif}});var K=t(4091);Object.defineProperty(r,"interval",{enumerable:!0,get:function(){return K.interval}});var G=t(9087);Object.defineProperty(r,"merge",{enumerable:!0,get:function(){return G.merge}});var Q=t(4709);Object.defineProperty(r,"never",{enumerable:!0,get:function(){return Q.never}});var $=t(3115);Object.defineProperty(r,"of",{enumerable:!0,get:function(){return $.of}});var X=t(1833);Object.defineProperty(r,"onErrorResumeNext",{enumerable:!0,get:function(){return X.onErrorResumeNext}});var Z=t(1641);Object.defineProperty(r,"pairs",{enumerable:!0,get:function(){return Z.pairs}});var ee=t(2995);Object.defineProperty(r,"partition",{enumerable:!0,get:function(){return ee.partition}});var re=t(2851);Object.defineProperty(r,"race",{enumerable:!0,get:function(){return re.race}});var te=t(8933);Object.defineProperty(r,"range",{enumerable:!0,get:function(){return te.range}});var ne=t(6363);Object.defineProperty(r,"throwError",{enumerable:!0,get:function(){return ne.throwError}});var oe=t(2033);Object.defineProperty(r,"timer",{enumerable:!0,get:function(){return oe.timer}});var ie=t(9992);Object.defineProperty(r,"using",{enumerable:!0,get:function(){return ie.using}});var ue=t(9049);Object.defineProperty(r,"zip",{enumerable:!0,get:function(){return ue.zip}});var ae=t(4560);Object.defineProperty(r,"scheduled",{enumerable:!0,get:function(){return ae.scheduled}});var ce=t(7711);Object.defineProperty(r,"EMPTY",{enumerable:!0,get:function(){return ce.EMPTY}});var se=t(4709);Object.defineProperty(r,"NEVER",{enumerable:!0,get:function(){return se.NEVER}}),o(t(1862),r);var le=t(9666);Object.defineProperty(r,"config",{enumerable:!0,get:function(){return le.config}});var fe=t(5055);Object.defineProperty(r,"audit",{enumerable:!0,get:function(){return fe.audit}});var de=t(3960);Object.defineProperty(r,"auditTime",{enumerable:!0,get:function(){return de.auditTime}});var pe=t(7203);Object.defineProperty(r,"buffer",{enumerable:!0,get:function(){return pe.buffer}});var be=t(1673);Object.defineProperty(r,"bufferCount",{enumerable:!0,get:function(){return be.bufferCount}});var ve=t(8082);Object.defineProperty(r,"bufferTime",{enumerable:!0,get:function(){return ve.bufferTime}});var he=t(3430);Object.defineProperty(r,"bufferToggle",{enumerable:!0,get:function(){return he.bufferToggle}});var ye=t(2922);Object.defineProperty(r,"bufferWhen",{enumerable:!0,get:function(){return ye.bufferWhen}});var me=t(550);Object.defineProperty(r,"catchError",{enumerable:!0,get:function(){return me.catchError}});var _e=t(699);Object.defineProperty(r,"combineAll",{enumerable:!0,get:function(){return _e.combineAll}});var Oe=t(3758);Object.defineProperty(r,"combineLatestAll",{enumerable:!0,get:function(){return Oe.combineLatestAll}});var ge=t(5295);Object.defineProperty(r,"combineLatestWith",{enumerable:!0,get:function(){return ge.combineLatestWith}});var we=t(8834);Object.defineProperty(r,"concatAll",{enumerable:!0,get:function(){return we.concatAll}});var je=t(5078);Object.defineProperty(r,"concatMap",{enumerable:!0,get:function(){return je.concatMap}});var Pe=t(1383);Object.defineProperty(r,"concatMapTo",{enumerable:!0,get:function(){return Pe.concatMapTo}});var Se=t(5195);Object.defineProperty(r,"concatWith",{enumerable:!0,get:function(){return Se.concatWith}});var Ee=t(2753);Object.defineProperty(r,"connect",{enumerable:!0,get:function(){return Ee.connect}});var xe=t(9715);Object.defineProperty(r,"count",{enumerable:!0,get:function(){return xe.count}});var Ae=t(7076);Object.defineProperty(r,"debounce",{enumerable:!0,get:function(){return Ae.debounce}});var Me=t(681);Object.defineProperty(r,"debounceTime",{enumerable:!0,get:function(){return Me.debounceTime}});var Te=t(3450);Object.defineProperty(r,"defaultIfEmpty",{enumerable:!0,get:function(){return Te.defaultIfEmpty}});var Fe=t(9195);Object.defineProperty(r,"delay",{enumerable:!0,get:function(){return Fe.delay}});var Re=t(7603);Object.defineProperty(r,"delayWhen",{enumerable:!0,get:function(){return Re.delayWhen}});var Ce=t(3589);Object.defineProperty(r,"dematerialize",{enumerable:!0,get:function(){return Ce.dematerialize}});var Ie=t(3439);Object.defineProperty(r,"distinct",{enumerable:!0,get:function(){return Ie.distinct}});var ke=t(4117);Object.defineProperty(r,"distinctUntilChanged",{enumerable:!0,get:function(){return ke.distinctUntilChanged}});var Ne=t(6618);Object.defineProperty(r,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return Ne.distinctUntilKeyChanged}});var Le=t(1335);Object.defineProperty(r,"elementAt",{enumerable:!0,get:function(){return Le.elementAt}});var Ue=t(768);Object.defineProperty(r,"endWith",{enumerable:!0,get:function(){return Ue.endWith}});var We=t(5327);Object.defineProperty(r,"every",{enumerable:!0,get:function(){return We.every}});var Be=t(7145);Object.defineProperty(r,"exhaust",{enumerable:!0,get:function(){return Be.exhaust}});var qe=t(4223);Object.defineProperty(r,"exhaustAll",{enumerable:!0,get:function(){return qe.exhaustAll}});var ze=t(8008);Object.defineProperty(r,"exhaustMap",{enumerable:!0,get:function(){return ze.exhaustMap}});var De=t(4216);Object.defineProperty(r,"expand",{enumerable:!0,get:function(){return De.expand}});var Ve=t(4716);Object.defineProperty(r,"filter",{enumerable:!0,get:function(){return Ve.filter}});var Ye=t(8765);Object.defineProperty(r,"finalize",{enumerable:!0,get:function(){return Ye.finalize}});var He=t(2687);Object.defineProperty(r,"find",{enumerable:!0,get:function(){return He.find}});var Je=t(9511);Object.defineProperty(r,"findIndex",{enumerable:!0,get:function(){return Je.findIndex}});var Ke=t(1605);Object.defineProperty(r,"first",{enumerable:!0,get:function(){return Ke.first}});var Ge=t(1308);Object.defineProperty(r,"groupBy",{enumerable:!0,get:function(){return Ge.groupBy}});var Qe=t(2353);Object.defineProperty(r,"ignoreElements",{enumerable:!0,get:function(){return Qe.ignoreElements}});var $e=t(9629);Object.defineProperty(r,"isEmpty",{enumerable:!0,get:function(){return $e.isEmpty}});var Xe=t(2045);Object.defineProperty(r,"last",{enumerable:!0,get:function(){return Xe.last}});var Ze=t(7468);Object.defineProperty(r,"map",{enumerable:!0,get:function(){return Ze.map}});var er=t(2648);Object.defineProperty(r,"mapTo",{enumerable:!0,get:function(){return er.mapTo}});var rr=t(54);Object.defineProperty(r,"materialize",{enumerable:!0,get:function(){return rr.materialize}});var tr=t(809);Object.defineProperty(r,"max",{enumerable:!0,get:function(){return tr.max}});var nr=t(3302);Object.defineProperty(r,"mergeAll",{enumerable:!0,get:function(){return nr.mergeAll}});var or=t(77);Object.defineProperty(r,"flatMap",{enumerable:!0,get:function(){return or.flatMap}});var ir=t(6573);Object.defineProperty(r,"mergeMap",{enumerable:!0,get:function(){return ir.mergeMap}});var ur=t(6406);Object.defineProperty(r,"mergeMapTo",{enumerable:!0,get:function(){return ur.mergeMapTo}});var ar=t(9963);Object.defineProperty(r,"mergeScan",{enumerable:!0,get:function(){return ar.mergeScan}});var cr=t(7205);Object.defineProperty(r,"mergeWith",{enumerable:!0,get:function(){return cr.mergeWith}});var sr=t(3540);Object.defineProperty(r,"min",{enumerable:!0,get:function(){return sr.min}});var lr=t(1976);Object.defineProperty(r,"multicast",{enumerable:!0,get:function(){return lr.multicast}});var fr=t(4732);Object.defineProperty(r,"observeOn",{enumerable:!0,get:function(){return fr.observeOn}});var dr=t(4804);Object.defineProperty(r,"onErrorResumeNextWith",{enumerable:!0,get:function(){return dr.onErrorResumeNextWith}});var pr=t(3357);Object.defineProperty(r,"pairwise",{enumerable:!0,get:function(){return pr.pairwise}});var br=t(8497);Object.defineProperty(r,"pluck",{enumerable:!0,get:function(){return br.pluck}});var vr=t(6143);Object.defineProperty(r,"publish",{enumerable:!0,get:function(){return vr.publish}});var hr=t(9365);Object.defineProperty(r,"publishBehavior",{enumerable:!0,get:function(){return hr.publishBehavior}});var yr=t(8850);Object.defineProperty(r,"publishLast",{enumerable:!0,get:function(){return yr.publishLast}});var mr=t(9042);Object.defineProperty(r,"publishReplay",{enumerable:!0,get:function(){return mr.publishReplay}});var _r=t(7945);Object.defineProperty(r,"raceWith",{enumerable:!0,get:function(){return _r.raceWith}});var Or=t(5159);Object.defineProperty(r,"reduce",{enumerable:!0,get:function(){return Or.reduce}});var gr=t(354);Object.defineProperty(r,"repeat",{enumerable:!0,get:function(){return gr.repeat}});var wr=t(980);Object.defineProperty(r,"repeatWhen",{enumerable:!0,get:function(){return wr.repeatWhen}});var jr=t(6946);Object.defineProperty(r,"retry",{enumerable:!0,get:function(){return jr.retry}});var Pr=t(8654);Object.defineProperty(r,"retryWhen",{enumerable:!0,get:function(){return Pr.retryWhen}});var Sr=t(4438);Object.defineProperty(r,"refCount",{enumerable:!0,get:function(){return Sr.refCount}});var Er=t(4423);Object.defineProperty(r,"sample",{enumerable:!0,get:function(){return Er.sample}});var xr=t(6215);Object.defineProperty(r,"sampleTime",{enumerable:!0,get:function(){return xr.sampleTime}});var Ar=t(6669);Object.defineProperty(r,"scan",{enumerable:!0,get:function(){return Ar.scan}});var Mr=t(4162);Object.defineProperty(r,"sequenceEqual",{enumerable:!0,get:function(){return Mr.sequenceEqual}});var Tr=t(4125);Object.defineProperty(r,"share",{enumerable:!0,get:function(){return Tr.share}});var Fr=t(1957);Object.defineProperty(r,"shareReplay",{enumerable:!0,get:function(){return Fr.shareReplay}});var Rr=t(7916);Object.defineProperty(r,"single",{enumerable:!0,get:function(){return Rr.single}});var Cr=t(3746);Object.defineProperty(r,"skip",{enumerable:!0,get:function(){return Cr.skip}});var Ir=t(6811);Object.defineProperty(r,"skipLast",{enumerable:!0,get:function(){return Ir.skipLast}});var kr=t(3021);Object.defineProperty(r,"skipUntil",{enumerable:!0,get:function(){return kr.skipUntil}});var Nr=t(3598);Object.defineProperty(r,"skipWhile",{enumerable:!0,get:function(){return Nr.skipWhile}});var Lr=t(537);Object.defineProperty(r,"startWith",{enumerable:!0,get:function(){return Lr.startWith}});var Ur=t(4021);Object.defineProperty(r,"subscribeOn",{enumerable:!0,get:function(){return Ur.subscribeOn}});var Wr=t(5070);Object.defineProperty(r,"switchAll",{enumerable:!0,get:function(){return Wr.switchAll}});var Br=t(615);Object.defineProperty(r,"switchMap",{enumerable:!0,get:function(){return Br.switchMap}});var qr=t(9920);Object.defineProperty(r,"switchMapTo",{enumerable:!0,get:function(){return qr.switchMapTo}});var zr=t(539);Object.defineProperty(r,"switchScan",{enumerable:!0,get:function(){return zr.switchScan}});var Dr=t(4484);Object.defineProperty(r,"take",{enumerable:!0,get:function(){return Dr.take}});var Vr=t(538);Object.defineProperty(r,"takeLast",{enumerable:!0,get:function(){return Vr.takeLast}});var Yr=t(5565);Object.defineProperty(r,"takeUntil",{enumerable:!0,get:function(){return Yr.takeUntil}});var Hr=t(7321);Object.defineProperty(r,"takeWhile",{enumerable:!0,get:function(){return Hr.takeWhile}});var Jr=t(8179);Object.defineProperty(r,"tap",{enumerable:!0,get:function(){return Jr.tap}});var Kr=t(2295);Object.defineProperty(r,"throttle",{enumerable:!0,get:function(){return Kr.throttle}});var Gr=t(7282);Object.defineProperty(r,"throttleTime",{enumerable:!0,get:function(){return Gr.throttleTime}});var Qr=t(3907);Object.defineProperty(r,"throwIfEmpty",{enumerable:!0,get:function(){return Qr.throwIfEmpty}});var $r=t(6642);Object.defineProperty(r,"timeInterval",{enumerable:!0,get:function(){return $r.timeInterval}});var Xr=t(9802);Object.defineProperty(r,"timeout",{enumerable:!0,get:function(){return Xr.timeout}});var Zr=t(8445);Object.defineProperty(r,"timeoutWith",{enumerable:!0,get:function(){return Zr.timeoutWith}});var et=t(6525);Object.defineProperty(r,"timestamp",{enumerable:!0,get:function(){return et.timestamp}});var rt=t(8524);Object.defineProperty(r,"toArray",{enumerable:!0,get:function(){return rt.toArray}});var tt=t(7236);Object.defineProperty(r,"window",{enumerable:!0,get:function(){return tt.window}});var nt=t(36);Object.defineProperty(r,"windowCount",{enumerable:!0,get:function(){return nt.windowCount}});var ot=t(7073);Object.defineProperty(r,"windowTime",{enumerable:!0,get:function(){return ot.windowTime}});var it=t(4101);Object.defineProperty(r,"windowToggle",{enumerable:!0,get:function(){return it.windowToggle}});var ut=t(9092);Object.defineProperty(r,"windowWhen",{enumerable:!0,get:function(){return ut.windowWhen}});var at=t(3112);Object.defineProperty(r,"withLatestFrom",{enumerable:!0,get:function(){return at.withLatestFrom}});var ct=t(6882);Object.defineProperty(r,"zipAll",{enumerable:!0,get:function(){return ct.zipAll}});var st=t(2787);Object.defineProperty(r,"zipWith",{enumerable:!0,get:function(){return st.zipWith}})},6674:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncSubject=void 0;var i=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return o(r,e),r.prototype._checkFinalizedStatuses=function(e){var r=this,t=r.hasError,n=r._hasValue,o=r._value,i=r.thrownError,u=r.isStopped,a=r._isComplete;t?e.error(i):(u||a)&&(n&&e.next(o),e.complete())},r.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},r.prototype.complete=function(){var r=this,t=r._hasValue,n=r._value;r._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},r}(t(5683).Subject);r.AsyncSubject=i},8825:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.BehaviorSubject=void 0;var i=function(e){function r(r){var t=e.call(this)||this;return t._value=r,t}return o(r,e),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(r){var t=e.prototype._subscribe.call(this,r);return!t.closed&&r.next(this._value),t},r.prototype.getValue=function(){var e=this,r=e.hasError,t=e.thrownError,n=e._value;if(r)throw t;return this._throwIfClosed(),n},r.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},r}(t(5683).Subject);r.BehaviorSubject=i},762:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.observeNotification=r.Notification=r.NotificationKind=void 0;var n,o=t(7711),i=t(3115),u=t(6363),a=t(7117);(n=r.NotificationKind||(r.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var c=function(){function e(e,r,t){this.kind=e,this.value=r,this.error=t,this.hasValue="N"===e}return e.prototype.observe=function(e){return s(this,e)},e.prototype.do=function(e,r,t){var n=this,o=n.kind,i=n.value,u=n.error;return"N"===o?null==e?void 0:e(i):"E"===o?null==r?void 0:r(u):null==t?void 0:t()},e.prototype.accept=function(e,r,t){var n;return a.isFunction(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,r,t)},e.prototype.toObservable=function(){var e=this,r=e.kind,t=e.value,n=e.error,a="N"===r?i.of(t):"E"===r?u.throwError((function(){return n})):"C"===r?o.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+r);return a},e.createNext=function(r){return new e("N",r)},e.createError=function(r){return new e("E",void 0,r)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function s(e,r){var t,n,o,i=e,u=i.kind,a=i.value,c=i.error;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(t=r.next)||void 0===t||t.call(r,a):"E"===u?null===(n=r.error)||void 0===n||n.call(r,c):null===(o=r.complete)||void 0===o||o.call(r)}r.Notification=c,r.observeNotification=s},6599:(e,r)=>{function t(e,r,t){return{kind:e,value:r,error:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.createNotification=r.nextNotification=r.errorNotification=r.COMPLETE_NOTIFICATION=void 0,r.COMPLETE_NOTIFICATION=t("C",void 0,void 0),r.errorNotification=function(e){return t("E",void 0,e)},r.nextNotification=function(e){return t("N",e,void 0)},r.createNotification=t},2334:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Observable=void 0;var n=t(3351),o=t(4794),i=t(5310),u=t(3348),a=t(9666),c=t(7117),s=t(5477),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(e,r,t){var i,u=this,a=(i=e)&&i instanceof n.Subscriber||function(e){return e&&c.isFunction(e.next)&&c.isFunction(e.error)&&c.isFunction(e.complete)}(i)&&o.isSubscription(i)?e:new n.SafeSubscriber(e,r,t);return s.errorContext((function(){var e=u,r=e.operator,t=e.source;a.add(r?r.call(a,t):t?u._subscribe(a):u._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},e.prototype.forEach=function(e,r){var t=this;return new(r=f(r))((function(r,o){var i=new n.SafeSubscriber({next:function(r){try{e(r)}catch(e){o(e),i.unsubscribe()}},error:o,complete:r});t.subscribe(i)}))},e.prototype._subscribe=function(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var r=this;return new(e=f(e))((function(e,t){var n;r.subscribe((function(e){return n=e}),(function(e){return t(e)}),(function(){return e(n)}))}))},e.create=function(r){return new e(r)},e}();function f(e){var r;return null!==(r=null!=e?e:a.config.Promise)&&void 0!==r?r:Promise}r.Observable=l},40:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReplaySubject=void 0;var i=t(5683),u=t(9614),a=function(e){function r(r,t,n){void 0===r&&(r=1/0),void 0===t&&(t=1/0),void 0===n&&(n=u.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=t,o._timestampProvider=n,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=t===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,t),o}return o(r,e),r.prototype.next=function(r){var t=this,n=t.isStopped,o=t._buffer,i=t._infiniteTimeWindow,u=t._timestampProvider,a=t._windowTime;n||(o.push(r),!i&&o.push(u.now()+a)),this._trimBuffer(),e.prototype.next.call(this,r)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(e),t=this._infiniteTimeWindow,n=this._buffer.slice(),o=0;o<n.length&&!e.closed;o+=t?1:2)e.next(n[o]);return this._checkFinalizedStatuses(e),r},r.prototype._trimBuffer=function(){var e=this,r=e._bufferSize,t=e._timestampProvider,n=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*r;if(r<1/0&&i<n.length&&n.splice(0,n.length-i),!o){for(var u=t.now(),a=0,c=1;c<n.length&&n[c]<=u;c+=2)a=c;a&&n.splice(0,a+1)}},r}(i.Subject);r.ReplaySubject=a},5297:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Scheduler=void 0;var n=t(9614),o=function(){function e(r,t){void 0===t&&(t=e.now),this.schedulerActionCtor=r,this.now=t}return e.prototype.schedule=function(e,r,t){return void 0===r&&(r=0),new this.schedulerActionCtor(this,e).schedule(t,r)},e.now=n.dateTimestampProvider.now,e}();r.Scheduler=o},5683:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),i=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.AnonymousSubject=r.Subject=void 0;var u=t(2334),a=t(4794),c=t(6965),s=t(6006),l=t(5477),f=function(e){function r(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return o(r,e),r.prototype.lift=function(e){var r=new d(this,this);return r.operator=e,r},r.prototype._throwIfClosed=function(){if(this.closed)throw new c.ObjectUnsubscribedError},r.prototype.next=function(e){var r=this;l.errorContext((function(){var t,n;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=i(r.currentObservers),u=o.next();!u.done;u=o.next())u.value.next(e)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}))},r.prototype.error=function(e){var r=this;l.errorContext((function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=e;for(var t=r.observers;t.length;)t.shift().error(e)}}))},r.prototype.complete=function(){var e=this;l.errorContext((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var r=e.observers;r.length;)r.shift().complete()}}))},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var r=this,t=this,n=t.hasError,o=t.isStopped,i=t.observers;return n||o?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new a.Subscription((function(){r.currentObservers=null,s.arrRemove(i,e)})))},r.prototype._checkFinalizedStatuses=function(e){var r=this,t=r.hasError,n=r.thrownError,o=r.isStopped;t?e.error(n):o&&e.complete()},r.prototype.asObservable=function(){var e=new u.Observable;return e.source=this,e},r.create=function(e,r){return new d(e,r)},r}(u.Observable);r.Subject=f;var d=function(e){function r(r,t){var n=e.call(this)||this;return n.destination=r,n.source=t,n}return o(r,e),r.prototype.next=function(e){var r,t;null===(t=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===t||t.call(r,e)},r.prototype.error=function(e){var r,t;null===(t=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===t||t.call(r,e)},r.prototype.complete=function(){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===r||r.call(e)},r.prototype._subscribe=function(e){var r,t;return null!==(t=null===(r=this.source)||void 0===r?void 0:r.subscribe(e))&&void 0!==t?t:a.EMPTY_SUBSCRIPTION},r}(f);r.AnonymousSubject=d},3351:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.EMPTY_OBSERVER=r.SafeSubscriber=r.Subscriber=void 0;var i=t(7117),u=t(4794),a=t(9666),c=t(3783),s=t(1123),l=t(6599),f=t(9234),d=t(5477),p=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,u.isSubscription(t)&&t.add(n)):n.destination=r.EMPTY_OBSERVER,n}return o(t,e),t.create=function(e,r,t){return new y(e,r,t)},t.prototype.next=function(e){this.isStopped?_(l.nextNotification(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(u.Subscription);r.Subscriber=p;var b=Function.prototype.bind;function v(e,r){return b.call(e,r)}var h=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),y=function(e){function r(r,t,n){var o,u,c=e.call(this)||this;return i.isFunction(r)||!r?o={next:null!=r?r:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0}:c&&a.config.useDeprecatedNextContext?((u=Object.create(r)).unsubscribe=function(){return c.unsubscribe()},o={next:r.next&&v(r.next,u),error:r.error&&v(r.error,u),complete:r.complete&&v(r.complete,u)}):o=r,c.destination=new h(o),c}return o(r,e),r}(p);function m(e){a.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):c.reportUnhandledError(e)}function _(e,r){var t=a.config.onStoppedNotification;t&&f.timeoutProvider.setTimeout((function(){return t(e,r)}))}r.SafeSubscriber=y,r.EMPTY_OBSERVER={closed:!0,next:s.noop,error:function(e){throw e},complete:s.noop}},4794:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},i=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.isSubscription=r.EMPTY_SUBSCRIPTION=r.Subscription=void 0;var u=t(7117),a=t(6235),c=t(6006),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var r;return e.prototype.unsubscribe=function(){var e,r,t,c,s;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=n(f),p=d.next();!p.done;p=d.next())p.value.remove(this)}catch(r){e={error:r}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}else f.remove(this);var b=this.initialTeardown;if(u.isFunction(b))try{b()}catch(e){s=e instanceof a.UnsubscriptionError?e.errors:[e]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var h=n(v),y=h.next();!y.done;y=h.next()){var m=y.value;try{l(m)}catch(e){s=null!=s?s:[],e instanceof a.UnsubscriptionError?s=i(i([],o(s)),o(e.errors)):s.push(e)}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(t)throw t.error}}}if(s)throw new a.UnsubscriptionError(s)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)l(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(r)}},e.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},e.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},e.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&c.arrRemove(r,e)},e.prototype.remove=function(r){var t=this._finalizers;t&&c.arrRemove(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=((r=new e).closed=!0,r),e}();function l(e){u.isFunction(e)?e():e.unsubscribe()}r.Subscription=s,r.EMPTY_SUBSCRIPTION=s.EMPTY,r.isSubscription=function(e){return e instanceof s||e&&"closed"in e&&u.isFunction(e.remove)&&u.isFunction(e.add)&&u.isFunction(e.unsubscribe)}},9666:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0,r.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5939:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.firstValueFrom=void 0;var n=t(1486),o=t(3351);r.firstValueFrom=function(e,r){var t="object"==typeof r;return new Promise((function(i,u){var a=new o.SafeSubscriber({next:function(e){i(e),a.unsubscribe()},error:u,complete:function(){t?i(r.defaultValue):u(new n.EmptyError)}});e.subscribe(a)}))}},1429:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.lastValueFrom=void 0;var n=t(1486);r.lastValueFrom=function(e,r){var t="object"==typeof r;return new Promise((function(o,i){var u,a=!1;e.subscribe({next:function(e){u=e,a=!0},error:i,complete:function(){a?o(u):t?o(r.defaultValue):i(new n.EmptyError)}})}))}},3986:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectableObservable=void 0;var i=t(2334),u=t(4794),a=t(4438),c=t(1252),s=t(7041),l=function(e){function r(r,t){var n=e.call(this)||this;return n.source=r,n.subjectFactory=t,n._subject=null,n._refCount=0,n._connection=null,s.hasLift(r)&&(n.lift=r.lift),n}return o(r,e),r.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},r.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},r.prototype.connect=function(){var e=this,r=this._connection;if(!r){r=this._connection=new u.Subscription;var t=this.getSubject();r.add(this.source.subscribe(c.createOperatorSubscriber(t,void 0,(function(){e._teardown(),t.complete()}),(function(r){e._teardown(),t.error(r)}),(function(){return e._teardown()})))),r.closed&&(this._connection=null,r=u.Subscription.EMPTY)}return r},r.prototype.refCount=function(){return a.refCount()(this)},r}(i.Observable);r.ConnectableObservable=l},1703:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.bindCallback=void 0;var n=t(9786);r.bindCallback=function(e,r,t){return n.bindCallbackInternals(!1,e,r,t)}},9786:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.bindCallbackInternals=void 0;var i=t(6476),u=t(2334),a=t(4021),c=t(2667),s=t(4732),l=t(6674);r.bindCallbackInternals=function e(r,t,f,d){if(f){if(!i.isScheduler(f))return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(r,t,d).apply(this,n).pipe(c.mapOneOrManyArgs(f))};d=f}return d?function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e(r,t).apply(this,n).pipe(a.subscribeOn(d),s.observeOn(d))}:function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=new l.AsyncSubject,s=!0;return new u.Observable((function(u){var a=c.subscribe(u);if(s){s=!1;var l=!1,f=!1;t.apply(e,o(o([],n(i)),[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(r){var n=e.shift();if(null!=n)return void c.error(n)}c.next(1<e.length?e:e[0]),f=!0,l&&c.complete()}])),f&&c.complete(),l=!0}return a}))}}},7854:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.bindNodeCallback=void 0;var n=t(9786);r.bindNodeCallback=function(e,r,t){return n.bindCallbackInternals(!0,e,r,t)}},6691:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestInit=r.combineLatest=void 0;var n=t(2334),o=t(8242),i=t(4206),u=t(742),a=t(2667),c=t(1239),s=t(3170),l=t(1252),f=t(2296);function d(e,r,t){return void 0===t&&(t=u.identity),function(n){p(r,(function(){for(var o=e.length,u=new Array(o),a=o,c=o,s=function(o){p(r,(function(){var s=i.from(e[o],r),f=!1;s.subscribe(l.createOperatorSubscriber(n,(function(e){u[o]=e,f||(f=!0,c--),c||n.next(t(u.slice()))}),(function(){--a||n.complete()})))}),n)},f=0;f<o;f++)s(f)}),n)}}function p(e,r,t){e?f.executeSchedule(t,e,r):r()}r.combineLatest=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=c.popScheduler(e),l=c.popResultSelector(e),f=o.argsArgArrayOrObject(e),p=f.args,b=f.keys;if(0===p.length)return i.from([],t);var v=new n.Observable(d(p,t,b?function(e){return s.createObject(b,e)}:u.identity));return l?v.pipe(a.mapOneOrManyArgs(l)):v},r.combineLatestInit=d},3592:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concat=void 0;var n=t(8834),o=t(1239),i=t(4206);r.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.concatAll()(i.from(e,o.popScheduler(e)))}},5314:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.connectable=void 0;var n=t(5683),o=t(2334),i=t(3171),u={connector:function(){return new n.Subject},resetOnDisconnect:!0};r.connectable=function(e,r){void 0===r&&(r=u);var t=null,n=r.connector,a=r.resetOnDisconnect,c=void 0===a||a,s=n(),l=new o.Observable((function(e){return s.subscribe(e)}));return l.connect=function(){return t&&!t.closed||(t=i.defer((function(){return e})).subscribe(s),c&&t.add((function(){return s=n()}))),t},l}},3171:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.defer=void 0;var n=t(2334),o=t(4310);r.defer=function(e){return new n.Observable((function(r){o.innerFrom(e()).subscribe(r)}))}},1834:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrames=void 0;var n=t(2334),o=t(476),i=t(6763);function u(e){return new n.Observable((function(r){var t=e||o.performanceTimestampProvider,n=t.now(),u=0,a=function(){r.closed||(u=i.animationFrameProvider.requestAnimationFrame((function(o){u=0;var i=t.now();r.next({timestamp:e?i:o,elapsed:i-n}),a()})))};return a(),function(){u&&i.animationFrameProvider.cancelAnimationFrame(u)}}))}r.animationFrames=function(e){return e?u(e):a};var a=u()},7711:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.empty=r.EMPTY=void 0;var n=t(2334);r.EMPTY=new n.Observable((function(e){return e.complete()})),r.empty=function(e){return e?function(e){return new n.Observable((function(r){return e.schedule((function(){return r.complete()}))}))}(e):r.EMPTY}},4392:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.forkJoin=void 0;var n=t(2334),o=t(8242),i=t(4310),u=t(1239),a=t(1252),c=t(2667),s=t(3170);r.forkJoin=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=u.popResultSelector(e),l=o.argsArgArrayOrObject(e),f=l.args,d=l.keys,p=new n.Observable((function(e){var r=f.length;if(r)for(var t=new Array(r),n=r,o=r,u=function(r){var u=!1;i.innerFrom(f[r]).subscribe(a.createOperatorSubscriber(e,(function(e){u||(u=!0,o--),t[r]=e}),(function(){return n--}),void 0,(function(){n&&u||(o||e.next(d?s.createObject(d,t):t),e.complete())})))},c=0;c<r;c++)u(c);else e.complete()}));return t?p.pipe(c.mapOneOrManyArgs(t)):p}},4206:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.from=void 0;var n=t(4560),o=t(4310);r.from=function(e,r){return r?n.scheduled(e,r):o.innerFrom(e)}},6631:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u};Object.defineProperty(r,"__esModule",{value:!0}),r.fromEvent=void 0;var o=t(4310),i=t(2334),u=t(6573),a=t(4324),c=t(7117),s=t(2667),l=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function p(e,r){return function(t){return function(n){return e[t](r,n)}}}r.fromEvent=function e(r,t,b,v){if(c.isFunction(b)&&(v=b,b=void 0),v)return e(r,t,b).pipe(s.mapOneOrManyArgs(v));var h=n(function(e){return c.isFunction(e.addEventListener)&&c.isFunction(e.removeEventListener)}(r)?f.map((function(e){return function(n){return r[e](t,n,b)}})):function(e){return c.isFunction(e.addListener)&&c.isFunction(e.removeListener)}(r)?l.map(p(r,t)):function(e){return c.isFunction(e.on)&&c.isFunction(e.off)}(r)?d.map(p(r,t)):[],2),y=h[0],m=h[1];if(!y&&a.isArrayLike(r))return u.mergeMap((function(r){return e(r,t,b)}))(o.innerFrom(r));if(!y)throw new TypeError("Invalid event target");return new i.Observable((function(e){var r=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e.next(1<r.length?r:r[0])};return y(r),function(){return m(r)}}))}},8960:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fromEventPattern=void 0;var n=t(2334),o=t(7117),i=t(2667);r.fromEventPattern=function e(r,t,u){return u?e(r,t).pipe(i.mapOneOrManyArgs(u)):new n.Observable((function(e){var n=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return e.next(1===r.length?r[0]:r)},i=r(n);return o.isFunction(t)?function(){return t(n,i)}:void 0}))}},5017:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fromSubscribable=void 0;var n=t(2334);r.fromSubscribable=function(e){return new n.Observable((function(r){return e.subscribe(r)}))}},8116:function(e,r,t){var n=this&&this.__generator||function(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.generate=void 0;var o=t(742),i=t(6476),u=t(3171),a=t(8321);r.generate=function(e,r,t,c,s){var l,f,d,p;function b(){var e;return n(this,(function(n){switch(n.label){case 0:e=p,n.label=1;case 1:return r&&!r(e)?[3,4]:[4,d(e)];case 2:n.sent(),n.label=3;case 3:return e=t(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(p=(l=e).initialState,r=l.condition,t=l.iterate,f=l.resultSelector,d=void 0===f?o.identity:f,s=l.scheduler):(p=e,!c||i.isScheduler(c)?(d=o.identity,s=c):d=c),u.defer(s?function(){return a.scheduleIterable(b(),s)}:b)}},6490:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.iif=void 0;var n=t(3171);r.iif=function(e,r,t){return n.defer((function(){return e()?r:t}))}},4310:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function u(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,a)}c((n=n.apply(e,r||[])).next())}))},o=this&&this.__generator||function(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof u?u(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){!function(e,r,t,n){Promise.resolve(n).then((function(r){e({value:r,done:t})}),r)}(n,o,(r=e[t](r)).done,r.value)}))}}},u=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.fromReadableStreamLike=r.fromAsyncIterable=r.fromIterable=r.fromPromise=r.fromArrayLike=r.fromInteropObservable=r.innerFrom=void 0;var a=t(4324),c=t(6809),s=t(2334),l=t(7851),f=t(3749),d=t(3325),p=t(6013),b=t(474),v=t(7117),h=t(3783),y=t(5310);function m(e){return new s.Observable((function(r){var t=e[y.observable]();if(v.isFunction(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function _(e){return new s.Observable((function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()}))}function O(e){return new s.Observable((function(r){e.then((function(e){r.closed||(r.next(e),r.complete())}),(function(e){return r.error(e)})).then(null,h.reportUnhandledError)}))}function g(e){return new s.Observable((function(r){var t,n;try{for(var o=u(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(r.next(a),r.closed)return}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.complete()}))}function w(e){return new s.Observable((function(r){(function(e,r){var t,u,a,c;return n(this,void 0,void 0,(function(){var n,s;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),t=i(e),o.label=1;case 1:return[4,t.next()];case 2:if((u=o.sent()).done)return[3,4];if(n=u.value,r.next(n),r.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=o.sent(),a={error:s},[3,11];case 6:return o.trys.push([6,,9,10]),u&&!u.done&&(c=t.return)?[4,c.call(t)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}}))}))})(e,r).catch((function(e){return r.error(e)}))}))}function j(e){return w(b.readableStreamLikeToAsyncGenerator(e))}r.innerFrom=function(e){if(e instanceof s.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return m(e);if(a.isArrayLike(e))return _(e);if(c.isPromise(e))return O(e);if(f.isAsyncIterable(e))return w(e);if(p.isIterable(e))return g(e);if(b.isReadableStreamLike(e))return j(e)}throw d.createInvalidObservableTypeError(e)},r.fromInteropObservable=m,r.fromArrayLike=_,r.fromPromise=O,r.fromIterable=g,r.fromAsyncIterable=w,r.fromReadableStreamLike=j},4091:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.interval=void 0;var n=t(4721),o=t(2033);r.interval=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=n.asyncScheduler),e<0&&(e=0),o.timer(e,e,r)}},9087:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var n=t(3302),o=t(4310),i=t(7711),u=t(1239),a=t(4206);r.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=u.popScheduler(e),c=u.popNumber(e,1/0),s=e;return s.length?1===s.length?o.innerFrom(s[0]):n.mergeAll(c)(a.from(s,t)):i.EMPTY}},4709:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.never=r.NEVER=void 0;var n=t(2334),o=t(1123);r.NEVER=new n.Observable(o.noop),r.never=function(){return r.NEVER}},3115:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.of=void 0;var n=t(1239),o=t(4206);r.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=n.popScheduler(e);return o.from(e,t)}},1833:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.onErrorResumeNext=void 0;var n=t(2334),o=t(2546),i=t(1252),u=t(1123),a=t(4310);r.onErrorResumeNext=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=o.argsOrArgArray(e);return new n.Observable((function(e){var r=0,n=function(){if(r<t.length){var o=void 0;try{o=a.innerFrom(t[r++])}catch(e){return void n()}var c=new i.OperatorSubscriber(e,void 0,u.noop,u.noop);o.subscribe(c),c.add(n)}else e.complete()};n()}))}},1641:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pairs=void 0;var n=t(4206);r.pairs=function(e,r){return n.from(Object.entries(e),r)}},2995:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.partition=void 0;var n=t(3074),o=t(4716),i=t(4310);r.partition=function(e,r,t){return[o.filter(r,t)(i.innerFrom(e)),o.filter(n.not(r,t))(i.innerFrom(e))]}},2851:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.raceInit=r.race=void 0;var n=t(2334),o=t(4310),i=t(2546),u=t(1252);function a(e){return function(r){for(var t=[],n=function(n){t.push(o.innerFrom(e[n]).subscribe(u.createOperatorSubscriber(r,(function(e){if(t){for(var o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}r.next(e)}))))},i=0;t&&!r.closed&&i<e.length;i++)n(i)}}r.race=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===(e=i.argsOrArgArray(e)).length?o.innerFrom(e[0]):new n.Observable(a(e))},r.raceInit=a},8933:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.range=void 0;var n=t(2334),o=t(7711);r.range=function(e,r,t){if(null==r&&(r=e,e=0),r<=0)return o.EMPTY;var i=r+e;return new n.Observable(t?function(r){var n=e;return t.schedule((function(){n<i?(r.next(n++),this.schedule()):r.complete()}))}:function(r){for(var t=e;t<i&&!r.closed;)r.next(t++);r.complete()})}},6363:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwError=void 0;var n=t(2334),o=t(7117);r.throwError=function(e,r){var t=o.isFunction(e)?e:function(){return e},i=function(e){return e.error(t())};return new n.Observable(r?function(e){return r.schedule(i,0,e)}:i)}},2033:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timer=void 0;var n=t(2334),o=t(4721),i=t(6476),u=t(5253);r.timer=function(e,r,t){void 0===e&&(e=0),void 0===t&&(t=o.async);var a=-1;return null!=r&&(i.isScheduler(r)?t=r:a=r),new n.Observable((function(r){var n=u.isValidDate(e)?+e-t.now():e;n<0&&(n=0);var o=0;return t.schedule((function(){r.closed||(r.next(o++),0<=a?this.schedule(void 0,a):r.complete())}),n)}))}},9992:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.using=void 0;var n=t(2334),o=t(4310),i=t(7711);r.using=function(e,r){return new n.Observable((function(t){var n=e(),u=r(n);return(u?o.innerFrom(u):i.EMPTY).subscribe(t),function(){n&&n.unsubscribe()}}))}},9049:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zip=void 0;var i=t(2334),u=t(4310),a=t(2546),c=t(7711),s=t(1252),l=t(1239);r.zip=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=l.popResultSelector(e),f=a.argsOrArgArray(e);return f.length?new i.Observable((function(e){var r=f.map((function(){return[]})),i=f.map((function(){return!1}));e.add((function(){r=i=null}));for(var a=function(a){u.innerFrom(f[a]).subscribe(s.createOperatorSubscriber(e,(function(u){if(r[a].push(u),r.every((function(e){return e.length}))){var c=r.map((function(e){return e.shift()}));e.next(t?t.apply(void 0,o([],n(c))):c),r.some((function(e,r){return!e.length&&i[r]}))&&e.complete()}}),(function(){i[a]=!0,!r[a].length&&e.complete()})))},c=0;!e.closed&&c<f.length;c++)a(c);return function(){r=i=null}})):c.EMPTY}},1252:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.OperatorSubscriber=r.createOperatorSubscriber=void 0;var i=t(3351);r.createOperatorSubscriber=function(e,r,t,n,o){return new u(e,r,t,n,o)};var u=function(e){function r(r,t,n,o,i,u){var a=e.call(this,r)||this;return a.onFinalize=i,a.shouldUnsubscribe=u,a._next=t?function(e){try{t(e)}catch(e){r.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return o(r,e),r.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;e.prototype.unsubscribe.call(this),!t&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}},r}(i.Subscriber);r.OperatorSubscriber=u},5055:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.audit=void 0;var n=t(7041),o=t(4310),i=t(1252);r.audit=function(e){return n.operate((function(r,t){var n=!1,u=null,a=null,c=!1,s=function(){if(null==a||a.unsubscribe(),a=null,n){n=!1;var e=u;u=null,t.next(e)}c&&t.complete()},l=function(){a=null,c&&t.complete()};r.subscribe(i.createOperatorSubscriber(t,(function(r){n=!0,u=r,a||o.innerFrom(e(r)).subscribe(a=i.createOperatorSubscriber(t,s,l))}),(function(){c=!0,(!n||!a||a.closed)&&t.complete()})))}))}},3960:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.auditTime=void 0;var n=t(4721),o=t(5055),i=t(2033);r.auditTime=function(e,r){return void 0===r&&(r=n.asyncScheduler),o.audit((function(){return i.timer(e,r)}))}},7203:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.buffer=void 0;var n=t(7041),o=t(1123),i=t(1252),u=t(4310);r.buffer=function(e){return n.operate((function(r,t){var n=[];return r.subscribe(i.createOperatorSubscriber(t,(function(e){return n.push(e)}),(function(){t.next(n),t.complete()}))),u.innerFrom(e).subscribe(i.createOperatorSubscriber(t,(function(){var e=n;n=[],t.next(e)}),o.noop)),function(){n=null}}))}},1673:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferCount=void 0;var o=t(7041),i=t(1252),u=t(6006);r.bufferCount=function(e,r){return void 0===r&&(r=null),r=null!=r?r:e,o.operate((function(t,o){var a=[],c=0;t.subscribe(i.createOperatorSubscriber(o,(function(t){var i,s,l,f,d=null;c++%r==0&&a.push([]);try{for(var p=n(a),b=p.next();!b.done;b=p.next())(y=b.value).push(t),e<=y.length&&(d=null!=d?d:[]).push(y)}catch(e){i={error:e}}finally{try{b&&!b.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}if(d)try{for(var v=n(d),h=v.next();!h.done;h=v.next()){var y=h.value;u.arrRemove(a,y),o.next(y)}}catch(e){l={error:e}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(l)throw l.error}}}),(function(){var e,r;try{for(var t=n(a),i=t.next();!i.done;i=t.next()){var u=i.value;o.next(u)}}catch(r){e={error:r}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}o.complete()}),void 0,(function(){a=null})))}))}},8082:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferTime=void 0;var o=t(4794),i=t(7041),u=t(1252),a=t(6006),c=t(4721),s=t(1239),l=t(2296);r.bufferTime=function(e){for(var r,t,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(r=s.popScheduler(f))&&void 0!==r?r:c.asyncScheduler,b=null!==(t=f[0])&&void 0!==t?t:null,v=f[1]||1/0;return i.operate((function(r,t){var i=[],c=!1,s=function(e){var r=e.buffer;e.subs.unsubscribe(),a.arrRemove(i,e),t.next(r),c&&f()},f=function(){if(i){var r=new o.Subscription;t.add(r);var n={buffer:[],subs:r};i.push(n),l.executeSchedule(r,p,(function(){return s(n)}),e)}};null!==b&&b>=0?l.executeSchedule(t,p,f,b,!0):c=!0,f();var d=u.createOperatorSubscriber(t,(function(e){var r,t,o=i.slice();try{for(var u=n(o),a=u.next();!a.done;a=u.next()){var c=a.value,l=c.buffer;l.push(e),v<=l.length&&s(c)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}}),(function(){for(;null==i?void 0:i.length;)t.next(i.shift().buffer);null==d||d.unsubscribe(),t.complete(),t.unsubscribe()}),void 0,(function(){return i=null}));r.subscribe(d)}))}},3430:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferToggle=void 0;var o=t(4794),i=t(7041),u=t(4310),a=t(1252),c=t(1123),s=t(6006);r.bufferToggle=function(e,r){return i.operate((function(t,i){var l=[];u.innerFrom(e).subscribe(a.createOperatorSubscriber(i,(function(e){var t=[];l.push(t);var n=new o.Subscription;n.add(u.innerFrom(r(e)).subscribe(a.createOperatorSubscriber(i,(function(){s.arrRemove(l,t),i.next(t),n.unsubscribe()}),c.noop)))}),c.noop)),t.subscribe(a.createOperatorSubscriber(i,(function(e){var r,t;try{for(var o=n(l),i=o.next();!i.done;i=o.next())i.value.push(e)}catch(e){r={error:e}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}}),(function(){for(;l.length>0;)i.next(l.shift());i.complete()})))}))}},2922:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.bufferWhen=void 0;var n=t(7041),o=t(1123),i=t(1252),u=t(4310);r.bufferWhen=function(e){return n.operate((function(r,t){var n=null,a=null,c=function(){null==a||a.unsubscribe();var r=n;n=[],r&&t.next(r),u.innerFrom(e()).subscribe(a=i.createOperatorSubscriber(t,c,o.noop))};c(),r.subscribe(i.createOperatorSubscriber(t,(function(e){return null==n?void 0:n.push(e)}),(function(){n&&t.next(n),t.complete()}),void 0,(function(){return n=a=null})))}))}},550:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.catchError=void 0;var n=t(4310),o=t(1252),i=t(7041);r.catchError=function e(r){return i.operate((function(t,i){var u,a=null,c=!1;a=t.subscribe(o.createOperatorSubscriber(i,void 0,void 0,(function(o){u=n.innerFrom(r(o,e(r)(t))),a?(a.unsubscribe(),a=null,u.subscribe(i)):c=!0}))),c&&(a.unsubscribe(),a=null,u.subscribe(i))}))}},699:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.combineAll=void 0;var n=t(3758);r.combineAll=n.combineLatestAll},2272:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatest=void 0;var i=t(6691),u=t(7041),a=t(2546),c=t(2667),s=t(3348),l=t(1239);r.combineLatest=function e(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var f=l.popResultSelector(r);return f?s.pipe(e.apply(void 0,o([],n(r))),c.mapOneOrManyArgs(f)):u.operate((function(e,t){i.combineLatestInit(o([e],n(a.argsOrArgArray(r))))(t)}))}},3758:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestAll=void 0;var n=t(6691),o=t(8254);r.combineLatestAll=function(e){return o.joinAllInternals(n.combineLatest,e)}},5295:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestWith=void 0;var i=t(2272);r.combineLatestWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.combineLatest.apply(void 0,o([],n(e)))}},6127:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.concat=void 0;var i=t(7041),u=t(8834),a=t(1239),c=t(4206);r.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=a.popScheduler(e);return i.operate((function(r,i){u.concatAll()(c.from(o([r],n(e)),t)).subscribe(i)}))}},8834:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concatAll=void 0;var n=t(3302);r.concatAll=function(){return n.mergeAll(1)}},5078:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concatMap=void 0;var n=t(6573),o=t(7117);r.concatMap=function(e,r){return o.isFunction(r)?n.mergeMap(e,r,1):n.mergeMap(e,1)}},1383:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.concatMapTo=void 0;var n=t(5078),o=t(7117);r.concatMapTo=function(e,r){return o.isFunction(r)?n.concatMap((function(){return e}),r):n.concatMap((function(){return e}))}},5195:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.concatWith=void 0;var i=t(6127);r.concatWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.concat.apply(void 0,o([],n(e)))}},2753:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.connect=void 0;var n=t(5683),o=t(4310),i=t(7041),u=t(5017),a={connector:function(){return new n.Subject}};r.connect=function(e,r){void 0===r&&(r=a);var t=r.connector;return i.operate((function(r,n){var i=t();o.innerFrom(e(u.fromSubscribable(i))).subscribe(n),n.add(r.subscribe(i))}))}},9715:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.count=void 0;var n=t(5159);r.count=function(e){return n.reduce((function(r,t,n){return!e||e(t,n)?r+1:r}),0)}},7076:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.debounce=void 0;var n=t(7041),o=t(1123),i=t(1252),u=t(4310);r.debounce=function(e){return n.operate((function(r,t){var n=!1,a=null,c=null,s=function(){if(null==c||c.unsubscribe(),c=null,n){n=!1;var e=a;a=null,t.next(e)}};r.subscribe(i.createOperatorSubscriber(t,(function(r){null==c||c.unsubscribe(),n=!0,a=r,c=i.createOperatorSubscriber(t,s,o.noop),u.innerFrom(e(r)).subscribe(c)}),(function(){s(),t.complete()}),void 0,(function(){a=c=null})))}))}},681:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.debounceTime=void 0;var n=t(4721),o=t(7041),i=t(1252);r.debounceTime=function(e,r){return void 0===r&&(r=n.asyncScheduler),o.operate((function(t,n){var o=null,u=null,a=null,c=function(){if(o){o.unsubscribe(),o=null;var e=u;u=null,n.next(e)}};function s(){var t=a+e,i=r.now();if(i<t)return o=this.schedule(void 0,t-i),void n.add(o);c()}t.subscribe(i.createOperatorSubscriber(n,(function(t){u=t,a=r.now(),o||(o=r.schedule(s,e),n.add(o))}),(function(){c(),n.complete()}),void 0,(function(){u=o=null})))}))}},3450:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.defaultIfEmpty=void 0;var n=t(7041),o=t(1252);r.defaultIfEmpty=function(e){return n.operate((function(r,t){var n=!1;r.subscribe(o.createOperatorSubscriber(t,(function(e){n=!0,t.next(e)}),(function(){n||t.next(e),t.complete()})))}))}},9195:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.delay=void 0;var n=t(4721),o=t(7603),i=t(2033);r.delay=function(e,r){void 0===r&&(r=n.asyncScheduler);var t=i.timer(e,r);return o.delayWhen((function(){return t}))}},7603:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.delayWhen=void 0;var n=t(3592),o=t(4484),i=t(2353),u=t(2648),a=t(6573),c=t(4310);r.delayWhen=function e(r,t){return t?function(u){return n.concat(t.pipe(o.take(1),i.ignoreElements()),u.pipe(e(r)))}:a.mergeMap((function(e,t){return c.innerFrom(r(e,t)).pipe(o.take(1),u.mapTo(e))}))}},3589:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.dematerialize=void 0;var n=t(762),o=t(7041),i=t(1252);r.dematerialize=function(){return o.operate((function(e,r){e.subscribe(i.createOperatorSubscriber(r,(function(e){return n.observeNotification(e,r)})))}))}},3439:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.distinct=void 0;var n=t(7041),o=t(1252),i=t(1123),u=t(4310);r.distinct=function(e,r){return n.operate((function(t,n){var a=new Set;t.subscribe(o.createOperatorSubscriber(n,(function(r){var t=e?e(r):r;a.has(t)||(a.add(t),n.next(r))}))),r&&u.innerFrom(r).subscribe(o.createOperatorSubscriber(n,(function(){return a.clear()}),i.noop))}))}},4117:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.distinctUntilChanged=void 0;var n=t(742),o=t(7041),i=t(1252);function u(e,r){return e===r}r.distinctUntilChanged=function(e,r){return void 0===r&&(r=n.identity),e=null!=e?e:u,o.operate((function(t,n){var o,u=!0;t.subscribe(i.createOperatorSubscriber(n,(function(t){var i=r(t);!u&&e(o,i)||(u=!1,o=i,n.next(t))})))}))}},6618:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.distinctUntilKeyChanged=void 0;var n=t(4117);r.distinctUntilKeyChanged=function(e,r){return n.distinctUntilChanged((function(t,n){return r?r(t[e],n[e]):t[e]===n[e]}))}},1335:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.elementAt=void 0;var n=t(9904),o=t(4716),i=t(3907),u=t(3450),a=t(4484);r.elementAt=function(e,r){if(e<0)throw new n.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(c){return c.pipe(o.filter((function(r,t){return t===e})),a.take(1),t?u.defaultIfEmpty(r):i.throwIfEmpty((function(){return new n.ArgumentOutOfRangeError})))}}},768:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.endWith=void 0;var i=t(3592),u=t(3115);r.endWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(r){return i.concat(r,u.of.apply(void 0,o([],n(e))))}}},5327:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.every=void 0;var n=t(7041),o=t(1252);r.every=function(e,r){return n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(o){e.call(r,o,i++,t)||(n.next(!1),n.complete())}),(function(){n.next(!0),n.complete()})))}))}},7145:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exhaust=void 0;var n=t(4223);r.exhaust=n.exhaustAll},4223:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exhaustAll=void 0;var n=t(8008),o=t(742);r.exhaustAll=function(){return n.exhaustMap(o.identity)}},8008:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.exhaustMap=void 0;var n=t(7468),o=t(4310),i=t(7041),u=t(1252);r.exhaustMap=function e(r,t){return t?function(i){return i.pipe(e((function(e,i){return o.innerFrom(r(e,i)).pipe(n.map((function(r,n){return t(e,r,i,n)})))})))}:i.operate((function(e,t){var n=0,i=null,a=!1;e.subscribe(u.createOperatorSubscriber(t,(function(e){i||(i=u.createOperatorSubscriber(t,void 0,(function(){i=null,a&&t.complete()})),o.innerFrom(r(e,n++)).subscribe(i))}),(function(){a=!0,!i&&t.complete()})))}))}},4216:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.expand=void 0;var n=t(7041),o=t(7912);r.expand=function(e,r,t){return void 0===r&&(r=1/0),r=(r||0)<1?1/0:r,n.operate((function(n,i){return o.mergeInternals(n,i,e,r,void 0,!0,t)}))}},4716:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.filter=void 0;var n=t(7041),o=t(1252);r.filter=function(e,r){return n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){return e.call(r,t,i++)&&n.next(t)})))}))}},8765:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.finalize=void 0;var n=t(7041);r.finalize=function(e){return n.operate((function(r,t){try{r.subscribe(t)}finally{t.add(e)}}))}},2687:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createFind=r.find=void 0;var n=t(7041),o=t(1252);function i(e,r,t){var n="index"===t;return function(t,i){var u=0;t.subscribe(o.createOperatorSubscriber(i,(function(o){var a=u++;e.call(r,o,a,t)&&(i.next(n?a:o),i.complete())}),(function(){i.next(n?-1:void 0),i.complete()})))}}r.find=function(e,r){return n.operate(i(e,r,"value"))},r.createFind=i},9511:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.findIndex=void 0;var n=t(7041),o=t(2687);r.findIndex=function(e,r){return n.operate(o.createFind(e,r,"index"))}},1605:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.first=void 0;var n=t(1486),o=t(4716),i=t(4484),u=t(3450),a=t(3907),c=t(742);r.first=function(e,r){var t=arguments.length>=2;return function(s){return s.pipe(e?o.filter((function(r,t){return e(r,t,s)})):c.identity,i.take(1),t?u.defaultIfEmpty(r):a.throwIfEmpty((function(){return new n.EmptyError})))}}},77:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.flatMap=void 0;var n=t(6573);r.flatMap=n.mergeMap},1308:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.groupBy=void 0;var n=t(2334),o=t(4310),i=t(5683),u=t(7041),a=t(1252);r.groupBy=function(e,r,t,c){return u.operate((function(u,s){var l;r&&"function"!=typeof r?(t=r.duration,l=r.element,c=r.connector):l=r;var f=new Map,d=function(e){f.forEach(e),e(s)},p=function(e){return d((function(r){return r.error(e)}))},b=0,v=!1,h=new a.OperatorSubscriber(s,(function(r){try{var u=e(r),d=f.get(u);if(!d){f.set(u,d=c?c():new i.Subject);var y=(_=u,O=d,(g=new n.Observable((function(e){b++;var r=O.subscribe(e);return function(){r.unsubscribe(),0==--b&&v&&h.unsubscribe()}}))).key=_,g);if(s.next(y),t){var m=a.createOperatorSubscriber(d,(function(){d.complete(),null==m||m.unsubscribe()}),void 0,void 0,(function(){return f.delete(u)}));h.add(o.innerFrom(t(y)).subscribe(m))}}d.next(l?l(r):r)}catch(e){p(e)}var _,O,g}),(function(){return d((function(e){return e.complete()}))}),p,(function(){return f.clear()}),(function(){return v=!0,0===b}));u.subscribe(h)}))}},2353:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ignoreElements=void 0;var n=t(7041),o=t(1252),i=t(1123);r.ignoreElements=function(){return n.operate((function(e,r){e.subscribe(o.createOperatorSubscriber(r,i.noop))}))}},9629:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isEmpty=void 0;var n=t(7041),o=t(1252);r.isEmpty=function(){return n.operate((function(e,r){e.subscribe(o.createOperatorSubscriber(r,(function(){r.next(!1),r.complete()}),(function(){r.next(!0),r.complete()})))}))}},8254:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.joinAllInternals=void 0;var n=t(742),o=t(2667),i=t(3348),u=t(6573),a=t(8524);r.joinAllInternals=function(e,r){return i.pipe(a.toArray(),u.mergeMap((function(r){return e(r)})),r?o.mapOneOrManyArgs(r):n.identity)}},2045:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.last=void 0;var n=t(1486),o=t(4716),i=t(538),u=t(3907),a=t(3450),c=t(742);r.last=function(e,r){var t=arguments.length>=2;return function(s){return s.pipe(e?o.filter((function(r,t){return e(r,t,s)})):c.identity,i.takeLast(1),t?a.defaultIfEmpty(r):u.throwIfEmpty((function(){return new n.EmptyError})))}}},7468:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.map=void 0;var n=t(7041),o=t(1252);r.map=function(e,r){return n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){n.next(e.call(r,t,i++))})))}))}},2648:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mapTo=void 0;var n=t(7468);r.mapTo=function(e){return n.map((function(){return e}))}},54:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.materialize=void 0;var n=t(762),o=t(7041),i=t(1252);r.materialize=function(){return o.operate((function(e,r){e.subscribe(i.createOperatorSubscriber(r,(function(e){r.next(n.Notification.createNext(e))}),(function(){r.next(n.Notification.createComplete()),r.complete()}),(function(e){r.next(n.Notification.createError(e)),r.complete()})))}))}},809:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.max=void 0;var n=t(5159),o=t(7117);r.max=function(e){return n.reduce(o.isFunction(e)?function(r,t){return e(r,t)>0?r:t}:function(e,r){return e>r?e:r})}},9596:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var i=t(7041),u=t(2546),a=t(3302),c=t(1239),s=t(4206);r.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=c.popScheduler(e),l=c.popNumber(e,1/0);return e=u.argsOrArgArray(e),i.operate((function(r,i){a.mergeAll(l)(s.from(o([r],n(e)),t)).subscribe(i)}))}},3302:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeAll=void 0;var n=t(6573),o=t(742);r.mergeAll=function(e){return void 0===e&&(e=1/0),n.mergeMap(o.identity,e)}},7912:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeInternals=void 0;var n=t(4310),o=t(2296),i=t(1252);r.mergeInternals=function(e,r,t,u,a,c,s,l){var f=[],d=0,p=0,b=!1,v=function(){!b||f.length||d||r.complete()},h=function(e){return d<u?y(e):f.push(e)},y=function(e){c&&r.next(e),d++;var l=!1;n.innerFrom(t(e,p++)).subscribe(i.createOperatorSubscriber(r,(function(e){null==a||a(e),c?h(e):r.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{d--;for(var e=function(){var e=f.shift();s?o.executeSchedule(r,s,(function(){return y(e)})):y(e)};f.length&&d<u;)e();v()}catch(e){r.error(e)}})))};return e.subscribe(i.createOperatorSubscriber(r,h,(function(){b=!0,v()}))),function(){null==l||l()}}},6573:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMap=void 0;var n=t(7468),o=t(4310),i=t(7041),u=t(7912),a=t(7117);r.mergeMap=function e(r,t,c){return void 0===c&&(c=1/0),a.isFunction(t)?e((function(e,i){return n.map((function(r,n){return t(e,r,i,n)}))(o.innerFrom(r(e,i)))}),c):("number"==typeof t&&(c=t),i.operate((function(e,t){return u.mergeInternals(e,t,r,c)})))}},6406:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMapTo=void 0;var n=t(6573),o=t(7117);r.mergeMapTo=function(e,r,t){return void 0===t&&(t=1/0),o.isFunction(r)?n.mergeMap((function(){return e}),r,t):("number"==typeof r&&(t=r),n.mergeMap((function(){return e}),t))}},9963:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mergeScan=void 0;var n=t(7041),o=t(7912);r.mergeScan=function(e,r,t){return void 0===t&&(t=1/0),n.operate((function(n,i){var u=r;return o.mergeInternals(n,i,(function(r,t){return e(u,r,t)}),t,(function(e){u=e}),!1,void 0,(function(){return u=null}))}))}},7205:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.mergeWith=void 0;var i=t(9596);r.mergeWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.merge.apply(void 0,o([],n(e)))}},3540:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.min=void 0;var n=t(5159),o=t(7117);r.min=function(e){return n.reduce(o.isFunction(e)?function(r,t){return e(r,t)<0?r:t}:function(e,r){return e<r?e:r})}},1976:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.multicast=void 0;var n=t(3986),o=t(7117),i=t(2753);r.multicast=function(e,r){var t=o.isFunction(e)?e:function(){return e};return o.isFunction(r)?i.connect(r,{connector:t}):function(e){return new n.ConnectableObservable(e,t)}}},4732:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.observeOn=void 0;var n=t(2296),o=t(7041),i=t(1252);r.observeOn=function(e,r){return void 0===r&&(r=0),o.operate((function(t,o){t.subscribe(i.createOperatorSubscriber(o,(function(t){return n.executeSchedule(o,e,(function(){return o.next(t)}),r)}),(function(){return n.executeSchedule(o,e,(function(){return o.complete()}),r)}),(function(t){return n.executeSchedule(o,e,(function(){return o.error(t)}),r)})))}))}},4804:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.onErrorResumeNext=r.onErrorResumeNextWith=void 0;var i=t(2546),u=t(1833);function a(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=i.argsOrArgArray(e);return function(e){return u.onErrorResumeNext.apply(void 0,o([e],n(t)))}}r.onErrorResumeNextWith=a,r.onErrorResumeNext=a},3357:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pairwise=void 0;var n=t(7041),o=t(1252);r.pairwise=function(){return n.operate((function(e,r){var t,n=!1;e.subscribe(o.createOperatorSubscriber(r,(function(e){var o=t;t=e,n&&r.next([o,e]),n=!0})))}))}},8497:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pluck=void 0;var n=t(7468);r.pluck=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n.map((function(r){for(var n=r,o=0;o<t;o++){var i=null==n?void 0:n[e[o]];if(void 0===i)return;n=i}return n}))}},6143:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publish=void 0;var n=t(5683),o=t(1976),i=t(2753);r.publish=function(e){return e?function(r){return i.connect(e)(r)}:function(e){return o.multicast(new n.Subject)(e)}}},9365:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publishBehavior=void 0;var n=t(8825),o=t(3986);r.publishBehavior=function(e){return function(r){var t=new n.BehaviorSubject(e);return new o.ConnectableObservable(r,(function(){return t}))}}},8850:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publishLast=void 0;var n=t(6674),o=t(3986);r.publishLast=function(){return function(e){var r=new n.AsyncSubject;return new o.ConnectableObservable(e,(function(){return r}))}}},9042:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.publishReplay=void 0;var n=t(40),o=t(1976),i=t(7117);r.publishReplay=function(e,r,t,u){t&&!i.isFunction(t)&&(u=t);var a=i.isFunction(t)?t:void 0;return function(t){return o.multicast(new n.ReplaySubject(e,r,u),a)(t)}}},7945:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.raceWith=void 0;var i=t(2851),u=t(7041),a=t(742);r.raceWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?u.operate((function(r,t){i.raceInit(o([r],n(e)))(t)})):a.identity}},5159:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.reduce=void 0;var n=t(5711),o=t(7041);r.reduce=function(e,r){return o.operate(n.scanInternals(e,r,arguments.length>=2,!1,!0))}},4438:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.refCount=void 0;var n=t(7041),o=t(1252);r.refCount=function(){return n.operate((function(e,r){var t=null;e._refCount++;var n=o.createOperatorSubscriber(r,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)t=null;else{var n=e._connection,o=t;t=null,!n||o&&n!==o||n.unsubscribe(),r.unsubscribe()}}));e.subscribe(n),n.closed||(t=e.connect())}))}},354:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.repeat=void 0;var n=t(7711),o=t(7041),i=t(1252),u=t(4310),a=t(2033);r.repeat=function(e){var r,t,c=1/0;return null!=e&&("object"==typeof e?(r=e.count,c=void 0===r?1/0:r,t=e.delay):c=e),c<=0?function(){return n.EMPTY}:o.operate((function(e,r){var n,o=0,s=function(){if(null==n||n.unsubscribe(),n=null,null!=t){var e="number"==typeof t?a.timer(t):u.innerFrom(t(o)),c=i.createOperatorSubscriber(r,(function(){c.unsubscribe(),l()}));e.subscribe(c)}else l()},l=function(){var t=!1;n=e.subscribe(i.createOperatorSubscriber(r,void 0,(function(){++o<c?n?s():t=!0:r.complete()}))),t&&s()};l()}))}},980:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.repeatWhen=void 0;var n=t(4310),o=t(5683),i=t(7041),u=t(1252);r.repeatWhen=function(e){return i.operate((function(r,t){var i,a,c=!1,s=!1,l=!1,f=function(){return l&&s&&(t.complete(),!0)},d=function(){l=!1,i=r.subscribe(u.createOperatorSubscriber(t,void 0,(function(){l=!0,!f()&&(a||(a=new o.Subject,n.innerFrom(e(a)).subscribe(u.createOperatorSubscriber(t,(function(){i?d():c=!0}),(function(){s=!0,f()})))),a).next()}))),c&&(i.unsubscribe(),i=null,c=!1,d())};d()}))}},6946:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.retry=void 0;var n=t(7041),o=t(1252),i=t(742),u=t(2033),a=t(4310);r.retry=function(e){var r;void 0===e&&(e=1/0);var t=(r=e&&"object"==typeof e?e:{count:e}).count,c=void 0===t?1/0:t,s=r.delay,l=r.resetOnSuccess,f=void 0!==l&&l;return c<=0?i.identity:n.operate((function(e,r){var t,n=0,i=function(){var l=!1;t=e.subscribe(o.createOperatorSubscriber(r,(function(e){f&&(n=0),r.next(e)}),void 0,(function(e){if(n++<c){var f=function(){t?(t.unsubscribe(),t=null,i()):l=!0};if(null!=s){var d="number"==typeof s?u.timer(s):a.innerFrom(s(e,n)),p=o.createOperatorSubscriber(r,(function(){p.unsubscribe(),f()}),(function(){r.complete()}));d.subscribe(p)}else f()}else r.error(e)}))),l&&(t.unsubscribe(),t=null,i())};i()}))}},8654:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.retryWhen=void 0;var n=t(4310),o=t(5683),i=t(7041),u=t(1252);r.retryWhen=function(e){return i.operate((function(r,t){var i,a,c=!1,s=function(){i=r.subscribe(u.createOperatorSubscriber(t,void 0,void 0,(function(r){a||(a=new o.Subject,n.innerFrom(e(a)).subscribe(u.createOperatorSubscriber(t,(function(){return i?s():c=!0})))),a&&a.next(r)}))),c&&(i.unsubscribe(),i=null,c=!1,s())};s()}))}},4423:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.sample=void 0;var n=t(4310),o=t(7041),i=t(1123),u=t(1252);r.sample=function(e){return o.operate((function(r,t){var o=!1,a=null;r.subscribe(u.createOperatorSubscriber(t,(function(e){o=!0,a=e}))),n.innerFrom(e).subscribe(u.createOperatorSubscriber(t,(function(){if(o){o=!1;var e=a;a=null,t.next(e)}}),i.noop))}))}},6215:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.sampleTime=void 0;var n=t(4721),o=t(4423),i=t(4091);r.sampleTime=function(e,r){return void 0===r&&(r=n.asyncScheduler),o.sample(i.interval(e,r))}},6669:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scan=void 0;var n=t(7041),o=t(5711);r.scan=function(e,r){return n.operate(o.scanInternals(e,r,arguments.length>=2,!0))}},5711:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scanInternals=void 0;var n=t(1252);r.scanInternals=function(e,r,t,o,i){return function(u,a){var c=t,s=r,l=0;u.subscribe(n.createOperatorSubscriber(a,(function(r){var t=l++;s=c?e(s,r,t):(c=!0,r),o&&a.next(s)}),i&&function(){c&&a.next(s),a.complete()}))}}},4162:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.sequenceEqual=void 0;var n=t(7041),o=t(1252),i=t(4310);r.sequenceEqual=function(e,r){return void 0===r&&(r=function(e,r){return e===r}),n.operate((function(t,n){var u={buffer:[],complete:!1},a={buffer:[],complete:!1},c=function(e){n.next(e),n.complete()},s=function(e,t){var i=o.createOperatorSubscriber(n,(function(n){var o=t.buffer,i=t.complete;0===o.length?i?c(!1):e.buffer.push(n):!r(n,o.shift())&&c(!1)}),(function(){e.complete=!0;var r=t.complete,n=t.buffer;r&&c(0===n.length),null==i||i.unsubscribe()}));return i};t.subscribe(s(u,a)),i.innerFrom(e).subscribe(s(a,u))}))}},4125:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.share=void 0;var i=t(4310),u=t(5683),a=t(3351),c=t(7041);function s(e,r){for(var t=[],u=2;u<arguments.length;u++)t[u-2]=arguments[u];if(!0!==r){if(!1!==r){var c=new a.SafeSubscriber({next:function(){c.unsubscribe(),e()}});return i.innerFrom(r.apply(void 0,o([],n(t)))).subscribe(c)}}else e()}r.share=function(e){void 0===e&&(e={});var r=e.connector,t=void 0===r?function(){return new u.Subject}:r,n=e.resetOnError,o=void 0===n||n,l=e.resetOnComplete,f=void 0===l||l,d=e.resetOnRefCountZero,p=void 0===d||d;return function(e){var r,n,u,l=0,d=!1,b=!1,v=function(){null==n||n.unsubscribe(),n=void 0},h=function(){v(),r=u=void 0,d=b=!1},y=function(){var e=r;h(),null==e||e.unsubscribe()};return c.operate((function(e,c){l++,b||d||v();var m=u=null!=u?u:t();c.add((function(){0!=--l||b||d||(n=s(y,p))})),m.subscribe(c),!r&&l>0&&(r=new a.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){b=!0,v(),n=s(h,o,e),m.error(e)},complete:function(){d=!0,v(),n=s(h,f),m.complete()}}),i.innerFrom(e).subscribe(r))}))(e)}}},1957:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.shareReplay=void 0;var n=t(40),o=t(4125);r.shareReplay=function(e,r,t){var i,u,a,c,s=!1;return e&&"object"==typeof e?(i=e.bufferSize,c=void 0===i?1/0:i,u=e.windowTime,r=void 0===u?1/0:u,s=void 0!==(a=e.refCount)&&a,t=e.scheduler):c=null!=e?e:1/0,o.share({connector:function(){return new n.ReplaySubject(c,r,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}},7916:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.single=void 0;var n=t(1486),o=t(8010),i=t(8909),u=t(7041),a=t(1252);r.single=function(e){return u.operate((function(r,t){var u,c=!1,s=!1,l=0;r.subscribe(a.createOperatorSubscriber(t,(function(n){s=!0,e&&!e(n,l++,r)||(c&&t.error(new o.SequenceError("Too many matching values")),c=!0,u=n)}),(function(){c?(t.next(u),t.complete()):t.error(s?new i.NotFoundError("No matching values"):new n.EmptyError)})))}))}},3746:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skip=void 0;var n=t(4716);r.skip=function(e){return n.filter((function(r,t){return e<=t}))}},6811:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skipLast=void 0;var n=t(742),o=t(7041),i=t(1252);r.skipLast=function(e){return e<=0?n.identity:o.operate((function(r,t){var n=new Array(e),o=0;return r.subscribe(i.createOperatorSubscriber(t,(function(r){var i=o++;if(i<e)n[i]=r;else{var u=i%e,a=n[u];n[u]=r,t.next(a)}}))),function(){n=null}}))}},3021:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skipUntil=void 0;var n=t(7041),o=t(1252),i=t(4310),u=t(1123);r.skipUntil=function(e){return n.operate((function(r,t){var n=!1,a=o.createOperatorSubscriber(t,(function(){null==a||a.unsubscribe(),n=!0}),u.noop);i.innerFrom(e).subscribe(a),r.subscribe(o.createOperatorSubscriber(t,(function(e){return n&&t.next(e)})))}))}},3598:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.skipWhile=void 0;var n=t(7041),o=t(1252);r.skipWhile=function(e){return n.operate((function(r,t){var n=!1,i=0;r.subscribe(o.createOperatorSubscriber(t,(function(r){return(n||(n=!e(r,i++)))&&t.next(r)})))}))}},537:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.startWith=void 0;var n=t(3592),o=t(1239),i=t(7041);r.startWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=o.popScheduler(e);return i.operate((function(r,o){(t?n.concat(e,r,t):n.concat(e,r)).subscribe(o)}))}},4021:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeOn=void 0;var n=t(7041);r.subscribeOn=function(e,r){return void 0===r&&(r=0),n.operate((function(t,n){n.add(e.schedule((function(){return t.subscribe(n)}),r))}))}},5070:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchAll=void 0;var n=t(615),o=t(742);r.switchAll=function(){return n.switchMap(o.identity)}},615:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchMap=void 0;var n=t(4310),o=t(7041),i=t(1252);r.switchMap=function(e,r){return o.operate((function(t,o){var u=null,a=0,c=!1,s=function(){return c&&!u&&o.complete()};t.subscribe(i.createOperatorSubscriber(o,(function(t){null==u||u.unsubscribe();var c=0,l=a++;n.innerFrom(e(t,l)).subscribe(u=i.createOperatorSubscriber(o,(function(e){return o.next(r?r(t,e,l,c++):e)}),(function(){u=null,s()})))}),(function(){c=!0,s()})))}))}},9920:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchMapTo=void 0;var n=t(615),o=t(7117);r.switchMapTo=function(e,r){return o.isFunction(r)?n.switchMap((function(){return e}),r):n.switchMap((function(){return e}))}},539:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.switchScan=void 0;var n=t(615),o=t(7041);r.switchScan=function(e,r){return o.operate((function(t,o){var i=r;return n.switchMap((function(r,t){return e(i,r,t)}),(function(e,r){return i=r,r}))(t).subscribe(o),function(){i=null}}))}},4484:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.take=void 0;var n=t(7711),o=t(7041),i=t(1252);r.take=function(e){return e<=0?function(){return n.EMPTY}:o.operate((function(r,t){var n=0;r.subscribe(i.createOperatorSubscriber(t,(function(r){++n<=e&&(t.next(r),e<=n&&t.complete())})))}))}},538:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.takeLast=void 0;var o=t(7711),i=t(7041),u=t(1252);r.takeLast=function(e){return e<=0?function(){return o.EMPTY}:i.operate((function(r,t){var o=[];r.subscribe(u.createOperatorSubscriber(t,(function(r){o.push(r),e<o.length&&o.shift()}),(function(){var e,r;try{for(var i=n(o),u=i.next();!u.done;u=i.next()){var a=u.value;t.next(a)}}catch(r){e={error:r}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}t.complete()}),void 0,(function(){o=null})))}))}},5565:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.takeUntil=void 0;var n=t(7041),o=t(1252),i=t(4310),u=t(1123);r.takeUntil=function(e){return n.operate((function(r,t){i.innerFrom(e).subscribe(o.createOperatorSubscriber(t,(function(){return t.complete()}),u.noop)),!t.closed&&r.subscribe(t)}))}},7321:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.takeWhile=void 0;var n=t(7041),o=t(1252);r.takeWhile=function(e,r){return void 0===r&&(r=!1),n.operate((function(t,n){var i=0;t.subscribe(o.createOperatorSubscriber(n,(function(t){var o=e(t,i++);(o||r)&&n.next(t),!o&&n.complete()})))}))}},8179:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.tap=void 0;var n=t(7117),o=t(7041),i=t(1252),u=t(742);r.tap=function(e,r,t){var a=n.isFunction(e)||r||t?{next:e,error:r,complete:t}:e;return a?o.operate((function(e,r){var t;null===(t=a.subscribe)||void 0===t||t.call(a);var n=!0;e.subscribe(i.createOperatorSubscriber(r,(function(e){var t;null===(t=a.next)||void 0===t||t.call(a,e),r.next(e)}),(function(){var e;n=!1,null===(e=a.complete)||void 0===e||e.call(a),r.complete()}),(function(e){var t;n=!1,null===(t=a.error)||void 0===t||t.call(a,e),r.error(e)}),(function(){var e,r;n&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(r=a.finalize)||void 0===r||r.call(a)})))})):u.identity}},2295:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throttle=r.defaultThrottleConfig=void 0;var n=t(7041),o=t(1252),i=t(4310);r.defaultThrottleConfig={leading:!0,trailing:!1},r.throttle=function(e,t){return void 0===t&&(t=r.defaultThrottleConfig),n.operate((function(r,n){var u=t.leading,a=t.trailing,c=!1,s=null,l=null,f=!1,d=function(){null==l||l.unsubscribe(),l=null,a&&(v(),f&&n.complete())},p=function(){l=null,f&&n.complete()},b=function(r){return l=i.innerFrom(e(r)).subscribe(o.createOperatorSubscriber(n,d,p))},v=function(){if(c){c=!1;var e=s;s=null,n.next(e),!f&&b(e)}};r.subscribe(o.createOperatorSubscriber(n,(function(e){c=!0,s=e,(!l||l.closed)&&(u?v():b(e))}),(function(){f=!0,(!(a&&c&&l)||l.closed)&&n.complete()})))}))}},7282:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throttleTime=void 0;var n=t(4721),o=t(2295),i=t(2033);r.throttleTime=function(e,r,t){void 0===r&&(r=n.asyncScheduler),void 0===t&&(t=o.defaultThrottleConfig);var u=i.timer(e,r);return o.throttle((function(){return u}),t)}},3907:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.throwIfEmpty=void 0;var n=t(1486),o=t(7041),i=t(1252);function u(){return new n.EmptyError}r.throwIfEmpty=function(e){return void 0===e&&(e=u),o.operate((function(r,t){var n=!1;r.subscribe(i.createOperatorSubscriber(t,(function(e){n=!0,t.next(e)}),(function(){return n?t.complete():t.error(e())})))}))}},6642:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TimeInterval=r.timeInterval=void 0;var n=t(4721),o=t(7041),i=t(1252);r.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),o.operate((function(r,t){var n=e.now();r.subscribe(i.createOperatorSubscriber(t,(function(r){var o=e.now(),i=o-n;n=o,t.next(new u(r,i))})))}))};var u=function(e,r){this.value=e,this.interval=r};r.TimeInterval=u},9802:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=r.TimeoutError=void 0;var n=t(4721),o=t(5253),i=t(7041),u=t(4310),a=t(6445),c=t(1252),s=t(2296);function l(e){throw new r.TimeoutError(e)}r.TimeoutError=a.createErrorClass((function(e){return function(r){void 0===r&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}})),r.timeout=function(e,r){var t=o.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,a=t.first,f=t.each,d=t.with,p=void 0===d?l:d,b=t.scheduler,v=void 0===b?null!=r?r:n.asyncScheduler:b,h=t.meta,y=void 0===h?null:h;if(null==a&&null==f)throw new TypeError("No timeout provided.");return i.operate((function(e,r){var t,n,o=null,i=0,l=function(e){n=s.executeSchedule(r,v,(function(){try{t.unsubscribe(),u.innerFrom(p({meta:y,lastValue:o,seen:i})).subscribe(r)}catch(e){r.error(e)}}),e)};t=e.subscribe(c.createOperatorSubscriber(r,(function(e){null==n||n.unsubscribe(),i++,r.next(o=e),f>0&&l(f)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),o=null}))),!i&&l(null!=a?"number"==typeof a?a:+a-v.now():f)}))}},8445:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timeoutWith=void 0;var n=t(4721),o=t(5253),i=t(9802);r.timeoutWith=function(e,r,t){var u,a,c;if(t=null!=t?t:n.async,o.isValidDate(e)?u=e:"number"==typeof e&&(a=e),!r)throw new TypeError("No observable provided to switch to");if(c=function(){return r},null==u&&null==a)throw new TypeError("No timeout provided.");return i.timeout({first:u,each:a,scheduler:t,with:c})}},6525:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.timestamp=void 0;var n=t(9614),o=t(7468);r.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),o.map((function(r){return{value:r,timestamp:e.now()}}))}},8524:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toArray=void 0;var n=t(5159),o=t(7041),i=function(e,r){return e.push(r),e};r.toArray=function(){return o.operate((function(e,r){n.reduce(i,[])(e).subscribe(r)}))}},7236:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.window=void 0;var n=t(5683),o=t(7041),i=t(1252),u=t(1123),a=t(4310);r.window=function(e){return o.operate((function(r,t){var o=new n.Subject;t.next(o.asObservable());var c=function(e){o.error(e),t.error(e)};return r.subscribe(i.createOperatorSubscriber(t,(function(e){return null==o?void 0:o.next(e)}),(function(){o.complete(),t.complete()}),c)),a.innerFrom(e).subscribe(i.createOperatorSubscriber(t,(function(){o.complete(),t.next(o=new n.Subject)}),u.noop,c)),function(){null==o||o.unsubscribe(),o=null}}))}},36:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.windowCount=void 0;var o=t(5683),i=t(7041),u=t(1252);r.windowCount=function(e,r){void 0===r&&(r=0);var t=r>0?r:e;return i.operate((function(r,i){var a=[new o.Subject],c=0;i.next(a[0].asObservable()),r.subscribe(u.createOperatorSubscriber(i,(function(r){var u,s;try{for(var l=n(a),f=l.next();!f.done;f=l.next())f.value.next(r)}catch(e){u={error:e}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}var d=c-e+1;if(d>=0&&d%t==0&&a.shift().complete(),++c%t==0){var p=new o.Subject;a.push(p),i.next(p.asObservable())}}),(function(){for(;a.length>0;)a.shift().complete();i.complete()}),(function(e){for(;a.length>0;)a.shift().error(e);i.error(e)}),(function(){a=null})))}))}},7073:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.windowTime=void 0;var n=t(5683),o=t(4721),i=t(4794),u=t(7041),a=t(1252),c=t(6006),s=t(1239),l=t(2296);r.windowTime=function(e){for(var r,t,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(r=s.popScheduler(f))&&void 0!==r?r:o.asyncScheduler,b=null!==(t=f[0])&&void 0!==t?t:null,v=f[1]||1/0;return u.operate((function(r,t){var o=[],u=!1,s=function(e){var r=e.window,t=e.subs;r.complete(),t.unsubscribe(),c.arrRemove(o,e),u&&f()},f=function(){if(o){var r=new i.Subscription;t.add(r);var u=new n.Subject,a={window:u,subs:r,seen:0};o.push(a),t.next(u.asObservable()),l.executeSchedule(r,p,(function(){return s(a)}),e)}};null!==b&&b>=0?l.executeSchedule(t,p,f,b,!0):u=!0,f();var d=function(e){return o.slice().forEach(e)},h=function(e){d((function(r){var t=r.window;return e(t)})),e(t),t.unsubscribe()};return r.subscribe(a.createOperatorSubscriber(t,(function(e){d((function(r){r.window.next(e),v<=++r.seen&&s(r)}))}),(function(){return h((function(e){return e.complete()}))}),(function(e){return h((function(r){return r.error(e)}))}))),function(){o=null}}))}},4101:function(e,r,t){var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.windowToggle=void 0;var o=t(5683),i=t(4794),u=t(7041),a=t(4310),c=t(1252),s=t(1123),l=t(6006);r.windowToggle=function(e,r){return u.operate((function(t,u){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);u.error(e)};a.innerFrom(e).subscribe(c.createOperatorSubscriber(u,(function(e){var t=new o.Subject;f.push(t);var n,p=new i.Subscription;try{n=a.innerFrom(r(e))}catch(e){return void d(e)}u.next(t.asObservable()),p.add(n.subscribe(c.createOperatorSubscriber(u,(function(){l.arrRemove(f,t),t.complete(),p.unsubscribe()}),s.noop,d)))}),s.noop)),t.subscribe(c.createOperatorSubscriber(u,(function(e){var r,t,o=f.slice();try{for(var i=n(o),u=i.next();!u.done;u=i.next())u.value.next(e)}catch(e){r={error:e}}finally{try{u&&!u.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}}),(function(){for(;0<f.length;)f.shift().complete();u.complete()}),d,(function(){for(;0<f.length;)f.shift().unsubscribe()})))}))}},9092:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.windowWhen=void 0;var n=t(5683),o=t(7041),i=t(1252),u=t(4310);r.windowWhen=function(e){return o.operate((function(r,t){var o,a,c=function(e){o.error(e),t.error(e)},s=function(){var r;null==a||a.unsubscribe(),null==o||o.complete(),o=new n.Subject,t.next(o.asObservable());try{r=u.innerFrom(e())}catch(e){return void c(e)}r.subscribe(a=i.createOperatorSubscriber(t,s,s,c))};s(),r.subscribe(i.createOperatorSubscriber(t,(function(e){return o.next(e)}),(function(){o.complete(),t.complete()}),c,(function(){null==a||a.unsubscribe(),o=null})))}))}},3112:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.withLatestFrom=void 0;var i=t(7041),u=t(1252),a=t(4310),c=t(742),s=t(1123),l=t(1239);r.withLatestFrom=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=l.popResultSelector(e);return i.operate((function(r,i){for(var l=e.length,f=new Array(l),d=e.map((function(){return!1})),p=!1,b=function(r){a.innerFrom(e[r]).subscribe(u.createOperatorSubscriber(i,(function(e){f[r]=e,p||d[r]||(d[r]=!0,(p=d.every(c.identity))&&(d=null))}),s.noop))},v=0;v<l;v++)b(v);r.subscribe(u.createOperatorSubscriber(i,(function(e){if(p){var r=o([e],n(f));i.next(t?t.apply(void 0,o([],n(r))):r)}})))}))}},8668:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zip=void 0;var i=t(9049),u=t(7041);r.zip=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u.operate((function(r,t){i.zip.apply(void 0,o([r],n(e))).subscribe(t)}))}},6882:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.zipAll=void 0;var n=t(9049),o=t(8254);r.zipAll=function(e){return o.joinAllInternals(n.zip,e)}},2787:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zipWith=void 0;var i=t(8668);r.zipWith=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.zip.apply(void 0,o([],n(e)))}},2907:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleArray=void 0;var n=t(2334);r.scheduleArray=function(e,r){return new n.Observable((function(t){var n=0;return r.schedule((function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())}))}))}},9777:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleAsyncIterable=void 0;var n=t(2334),o=t(2296);r.scheduleAsyncIterable=function(e,r){if(!e)throw new Error("Iterable cannot be null");return new n.Observable((function(t){o.executeSchedule(t,r,(function(){var n=e[Symbol.asyncIterator]();o.executeSchedule(t,r,(function(){n.next().then((function(e){e.done?t.complete():t.next(e.value)}))}),0,!0)}))}))}},8321:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleIterable=void 0;var n=t(2334),o=t(1502),i=t(7117),u=t(2296);r.scheduleIterable=function(e,r){return new n.Observable((function(t){var n;return u.executeSchedule(t,r,(function(){n=e[o.iterator](),u.executeSchedule(t,r,(function(){var e,r,o;try{r=(e=n.next()).value,o=e.done}catch(e){return void t.error(e)}o?t.complete():t.next(r)}),0,!0)})),function(){return i.isFunction(null==n?void 0:n.return)&&n.return()}}))}},1248:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleObservable=void 0;var n=t(4310),o=t(4732),i=t(4021);r.scheduleObservable=function(e,r){return n.innerFrom(e).pipe(i.subscribeOn(r),o.observeOn(r))}},4017:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.schedulePromise=void 0;var n=t(4310),o=t(4732),i=t(4021);r.schedulePromise=function(e,r){return n.innerFrom(e).pipe(i.subscribeOn(r),o.observeOn(r))}},3167:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleReadableStreamLike=void 0;var n=t(9777),o=t(474);r.scheduleReadableStreamLike=function(e,r){return n.scheduleAsyncIterable(o.readableStreamLikeToAsyncGenerator(e),r)}},4560:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.scheduled=void 0;var n=t(1248),o=t(4017),i=t(2907),u=t(8321),a=t(9777),c=t(7851),s=t(6809),l=t(4324),f=t(6013),d=t(3749),p=t(3325),b=t(474),v=t(3167);r.scheduled=function(e,r){if(null!=e){if(c.isInteropObservable(e))return n.scheduleObservable(e,r);if(l.isArrayLike(e))return i.scheduleArray(e,r);if(s.isPromise(e))return o.schedulePromise(e,r);if(d.isAsyncIterable(e))return a.scheduleAsyncIterable(e,r);if(f.isIterable(e))return u.scheduleIterable(e,r);if(b.isReadableStreamLike(e))return v.scheduleReadableStreamLike(e,r)}throw p.createInvalidObservableTypeError(e)}},1744:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.Action=void 0;var i=function(e){function r(r,t){return e.call(this)||this}return o(r,e),r.prototype.schedule=function(e,r){return void 0===r&&(r=0),this},r}(t(4794).Subscription);r.Action=i},6632:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationFrameAction=void 0;var i=t(804),u=t(6763),a=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n}return o(r,e),r.prototype.requestAsyncId=function(r,t,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=u.animationFrameProvider.requestAnimationFrame((function(){return r.flush(void 0)}))))},r.prototype.recycleAsyncId=function(r,t,n){var o;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,t,n);var i=r.actions;null!=t&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==t&&(u.animationFrameProvider.cancelAnimationFrame(t),r._scheduled=void 0)},r}(i.AsyncAction);r.AnimationFrameAction=a},4543:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationFrameScheduler=void 0;var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return o(r,e),r.prototype.flush=function(e){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var t,n=this.actions;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},r}(t(7109).AsyncScheduler);r.AnimationFrameScheduler=i},6491:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsapAction=void 0;var i=t(804),u=t(2723),a=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n}return o(r,e),r.prototype.requestAsyncId=function(r,t,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=u.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},r.prototype.recycleAsyncId=function(r,t,n){var o;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,t,n);var i=r.actions;null!=t&&(null===(o=i[i.length-1])||void 0===o?void 0:o.id)!==t&&(u.immediateProvider.clearImmediate(t),r._scheduled=void 0)},r}(i.AsyncAction);r.AsapAction=a},3050:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsapScheduler=void 0;var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return o(r,e),r.prototype.flush=function(e){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var t,n=this.actions;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},r}(t(7109).AsyncScheduler);r.AsapScheduler=i},804:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncAction=void 0;var i=t(1744),u=t(9571),a=t(6006),c=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n.pending=!1,n}return o(r,e),r.prototype.schedule=function(e,r){var t;if(void 0===r&&(r=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,r)),this.pending=!0,this.delay=r,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(o,this.id,r),this},r.prototype.requestAsyncId=function(e,r,t){return void 0===t&&(t=0),u.intervalProvider.setInterval(e.flush.bind(e,this),t)},r.prototype.recycleAsyncId=function(e,r,t){if(void 0===t&&(t=0),null!=t&&this.delay===t&&!1===this.pending)return r;null!=r&&u.intervalProvider.clearInterval(r)},r.prototype.execute=function(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var t=this._execute(e,r);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,r){var t,n=!1;try{this.work(e)}catch(e){n=!0,t=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),t},r.prototype.unsubscribe=function(){if(!this.closed){var r=this.id,t=this.scheduler,n=t.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(n,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},r}(i.Action);r.AsyncAction=c},7109:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncScheduler=void 0;var i=t(5297),u=function(e){function r(r,t){void 0===t&&(t=i.Scheduler.now);var n=e.call(this,r,t)||this;return n.actions=[],n._active=!1,n}return o(r,e),r.prototype.flush=function(e){var r=this.actions;if(this._active)r.push(e);else{var t;this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}}},r}(i.Scheduler);r.AsyncScheduler=u},4684:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.QueueAction=void 0;var i=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n.scheduler=r,n.work=t,n}return o(r,e),r.prototype.schedule=function(r,t){return void 0===t&&(t=0),t>0?e.prototype.schedule.call(this,r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)},r.prototype.execute=function(r,t){return t>0||this.closed?e.prototype.execute.call(this,r,t):this._execute(r,t)},r.prototype.requestAsyncId=function(r,t,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,r,t,n):(r.flush(this),0)},r}(t(804).AsyncAction);r.QueueAction=i},6313:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.QueueScheduler=void 0;var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return o(r,e),r}(t(7109).AsyncScheduler);r.QueueScheduler=i},7458:function(e,r,t){var n,o=this&&this.__extends||(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0}),r.VirtualAction=r.VirtualTimeScheduler=void 0;var i=t(804),u=t(4794),a=function(e){function r(r,t){void 0===r&&(r=c),void 0===t&&(t=1/0);var n=e.call(this,r,(function(){return n.frame}))||this;return n.maxFrames=t,n.frame=0,n.index=-1,n}return o(r,e),r.prototype.flush=function(){for(var e,r,t=this.actions,n=this.maxFrames;(r=t[0])&&r.delay<=n&&(t.shift(),this.frame=r.delay,!(e=r.execute(r.state,r.delay))););if(e){for(;r=t.shift();)r.unsubscribe();throw e}},r.frameTimeFactor=10,r}(t(7109).AsyncScheduler);r.VirtualTimeScheduler=a;var c=function(e){function r(r,t,n){void 0===n&&(n=r.index+=1);var o=e.call(this,r,t)||this;return o.scheduler=r,o.work=t,o.index=n,o.active=!0,o.index=r.index=n,o}return o(r,e),r.prototype.schedule=function(t,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,t,n);this.active=!1;var o=new r(this.scheduler,this.work);return this.add(o),o.schedule(t,n)}return u.Subscription.EMPTY},r.prototype.requestAsyncId=function(e,t,n){void 0===n&&(n=0),this.delay=e.frame+n;var o=e.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(e,r,t){void 0===t&&(t=0)},r.prototype._execute=function(r,t){if(!0===this.active)return e.prototype._execute.call(this,r,t)},r.sortActions=function(e,r){return e.delay===r.delay?e.index===r.index?0:e.index>r.index?1:-1:e.delay>r.delay?1:-1},r}(i.AsyncAction);r.VirtualAction=c},3738:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrame=r.animationFrameScheduler=void 0;var n=t(6632),o=t(4543);r.animationFrameScheduler=new o.AnimationFrameScheduler(n.AnimationFrameAction),r.animationFrame=r.animationFrameScheduler},6763:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrameProvider=void 0;var i=t(4794);r.animationFrameProvider={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,o=r.animationFrameProvider.delegate;o&&(t=o.requestAnimationFrame,n=o.cancelAnimationFrame);var u=t((function(r){n=void 0,e(r)}));return new i.Subscription((function(){return null==n?void 0:n(u)}))},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r.animationFrameProvider.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,o([],n(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r.animationFrameProvider.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,o([],n(e)))},delegate:void 0}},115:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.asap=r.asapScheduler=void 0;var n=t(6491),o=t(3050);r.asapScheduler=new o.AsapScheduler(n.AsapAction),r.asap=r.asapScheduler},4721:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.async=r.asyncScheduler=void 0;var n=t(804),o=t(7109);r.asyncScheduler=new o.AsyncScheduler(n.AsyncAction),r.async=r.asyncScheduler},9614:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.dateTimestampProvider=void 0,r.dateTimestampProvider={now:function(){return(r.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},2723:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.immediateProvider=void 0;var i=t(4003),u=i.Immediate.setImmediate,a=i.Immediate.clearImmediate;r.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r.immediateProvider.delegate;return((null==i?void 0:i.setImmediate)||u).apply(void 0,o([],n(e)))},clearImmediate:function(e){var t=r.immediateProvider.delegate;return((null==t?void 0:t.clearImmediate)||a)(e)},delegate:void 0}},9571:function(e,r){var t=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},n=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.intervalProvider=void 0,r.intervalProvider={setInterval:function(e,o){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];var a=r.intervalProvider.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,n([e,o],t(i))):setInterval.apply(void 0,n([e,o],t(i)))},clearInterval:function(e){var t=r.intervalProvider.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0}},476:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.performanceTimestampProvider=void 0,r.performanceTimestampProvider={now:function(){return(r.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},1690:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.queue=r.queueScheduler=void 0;var n=t(4684),o=t(6313);r.queueScheduler=new o.QueueScheduler(n.QueueAction),r.queue=r.queueScheduler},9234:function(e,r){var t=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},n=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.timeoutProvider=void 0,r.timeoutProvider={setTimeout:function(e,o){for(var i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];var a=r.timeoutProvider.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,n([e,o],t(i))):setTimeout.apply(void 0,n([e,o],t(i)))},clearTimeout:function(e){var t=r.timeoutProvider.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},1502:(e,r)=>{function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.iterator=r.getSymbolIterator=void 0,r.getSymbolIterator=t,r.iterator=t()},5310:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.observable=void 0,r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1862:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},9904:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ArgumentOutOfRangeError=void 0;var n=t(6445);r.ArgumentOutOfRangeError=n.createErrorClass((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}))},1486:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.EmptyError=void 0;var n=t(6445);r.EmptyError=n.createErrorClass((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},4003:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TestTools=r.Immediate=void 0;var t,n=1,o={};function i(e){return e in o&&(delete o[e],!0)}r.Immediate={setImmediate:function(e){var r=n++;return o[r]=!0,t||(t=Promise.resolve()),t.then((function(){return i(r)&&e()})),r},clearImmediate:function(e){i(e)}},r.TestTools={pending:function(){return Object.keys(o).length}}},8909:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NotFoundError=void 0;var n=t(6445);r.NotFoundError=n.createErrorClass((function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}}))},6965:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ObjectUnsubscribedError=void 0;var n=t(6445);r.ObjectUnsubscribedError=n.createErrorClass((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},8010:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SequenceError=void 0;var n=t(6445);r.SequenceError=n.createErrorClass((function(e){return function(r){e(this),this.name="SequenceError",this.message=r}}))},6235:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.UnsubscriptionError=void 0;var n=t(6445);r.UnsubscriptionError=n.createErrorClass((function(e){return function(r){e(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map((function(e,r){return r+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r}}))},1239:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.popNumber=r.popScheduler=r.popResultSelector=void 0;var n=t(7117),o=t(6476);function i(e){return e[e.length-1]}r.popResultSelector=function(e){return n.isFunction(i(e))?e.pop():void 0},r.popScheduler=function(e){return o.isScheduler(i(e))?e.pop():void 0},r.popNumber=function(e,r){return"number"==typeof i(e)?e.pop():r}},8242:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.argsArgArrayOrObject=void 0;var t=Array.isArray,n=Object.getPrototypeOf,o=Object.prototype,i=Object.keys;r.argsArgArrayOrObject=function(e){if(1===e.length){var r=e[0];if(t(r))return{args:r,keys:null};if((a=r)&&"object"==typeof a&&n(a)===o){var u=i(r);return{args:u.map((function(e){return r[e]})),keys:u}}}var a;return{args:e,keys:null}}},2546:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.argsOrArgArray=void 0;var t=Array.isArray;r.argsOrArgArray=function(e){return 1===e.length&&t(e[0])?e[0]:e}},6006:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.arrRemove=void 0,r.arrRemove=function(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}},6445:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createErrorClass=void 0,r.createErrorClass=function(e){var r=e((function(e){Error.call(e),e.stack=(new Error).stack}));return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}},3170:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createObject=void 0,r.createObject=function(e,r){return e.reduce((function(e,t,n){return e[t]=r[n],e}),{})}},5477:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.captureError=r.errorContext=void 0;var n=t(9666),o=null;r.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var r=!o;if(r&&(o={errorThrown:!1,error:null}),e(),r){var t=o,i=t.errorThrown,u=t.error;if(o=null,i)throw u}}else e()},r.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},2296:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.executeSchedule=void 0,r.executeSchedule=function(e,r,t,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=r.schedule((function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}},742:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.identity=void 0,r.identity=function(e){return e}},4324:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=void 0,r.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},3749:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isAsyncIterable=void 0;var n=t(7117);r.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},5253:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isValidDate=void 0,r.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},7117:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=void 0,r.isFunction=function(e){return"function"==typeof e}},7851:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isInteropObservable=void 0;var n=t(5310),o=t(7117);r.isInteropObservable=function(e){return o.isFunction(e[n.observable])}},6013:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isIterable=void 0;var n=t(1502),o=t(7117);r.isIterable=function(e){return o.isFunction(null==e?void 0:e[n.iterator])}},570:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isObservable=void 0;var n=t(2334),o=t(7117);r.isObservable=function(e){return!!e&&(e instanceof n.Observable||o.isFunction(e.lift)&&o.isFunction(e.subscribe))}},6809:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=void 0;var n=t(7117);r.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}},474:function(e,r,t){var n=this&&this.__generator||function(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__await||function(e){return this instanceof o?(this.v=e,this):new o(e)},i=this&&this.__asyncGenerator||function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=t.apply(e,r||[]),u=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(r){return new Promise((function(t,n){u.push([e,r,t,n])>1||c(e,r)}))})}function c(e,r){try{(t=i[e](r)).value instanceof o?Promise.resolve(t.value.v).then(s,l):f(u[0][2],t)}catch(e){f(u[0][3],e)}var t}function s(e){c("next",e)}function l(e){c("throw",e)}function f(e,r){e(r),u.shift(),u.length&&c(u[0][0],u[0][1])}};Object.defineProperty(r,"__esModule",{value:!0}),r.isReadableStreamLike=r.readableStreamLikeToAsyncGenerator=void 0;var u=t(7117);r.readableStreamLikeToAsyncGenerator=function(e){return i(this,arguments,(function(){var r,t,i;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,o(r.read())];case 3:return t=n.sent(),i=t.value,t.done?[4,o(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,o(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}}))}))},r.isReadableStreamLike=function(e){return u.isFunction(null==e?void 0:e.getReader)}},6476:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=void 0;var n=t(7117);r.isScheduler=function(e){return e&&n.isFunction(e.schedule)}},7041:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.operate=r.hasLift=void 0;var n=t(7117);function o(e){return n.isFunction(null==e?void 0:e.lift)}r.hasLift=o,r.operate=function(e){return function(r){if(o(r))return r.lift((function(r){try{return e(r,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},2667:function(e,r,t){var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u},o=this&&this.__spreadArray||function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.mapOneOrManyArgs=void 0;var i=t(7468),u=Array.isArray;r.mapOneOrManyArgs=function(e){return i.map((function(r){return function(e,r){return u(r)?e.apply(void 0,o([],n(r))):e(r)}(e,r)}))}},1123:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.noop=void 0,r.noop=function(){}},3074:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.not=void 0,r.not=function(e,r){return function(t,n){return!e.call(r,t,n)}}},3348:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.pipeFromArray=r.pipe=void 0;var n=t(742);function o(e){return 0===e.length?n.identity:1===e.length?e[0]:function(r){return e.reduce((function(e,r){return r(e)}),r)}}r.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return o(e)},r.pipeFromArray=o},3783:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.reportUnhandledError=void 0;var n=t(9666),o=t(9234);r.reportUnhandledError=function(e){o.timeoutProvider.setTimeout((function(){var r=n.config.onUnhandledError;if(!r)throw e;r(e)}))}},3325:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createInvalidObservableTypeError=void 0,r.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},2722:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.environment=void 0,r.environment={apiBaseUrl:"http://localhost:8084"}},5888:function(e,r,t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.httpGet=void 0;const o=n(t(7218)),i=t(2722),u=t(3147),a=o.default.create({baseURL:i.environment.apiBaseUrl||"http://localhost:8085"});r.httpGet=function(e,r=null){return a.get(e,{params:r}).then((e=>console.log(e))).catch((e=>console.log(e))),(0,u.from)(a.get(e,{params:r}))},r.default=a},4112:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getSpentToday=void 0;const n=t(5888),o=t(3147);r.getSpentToday=()=>(console.log("Tu nombre es bebe"),(0,n.httpGet)("/measurement/month").pipe((0,o.map)((e=>{if(200===e.status)return e.data;console.log(e)})),(0,o.catchError)((e=>(console.log(e),e)))))},7218:(e,r,t)=>{function n(e,r){return function(){return e.apply(r,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,u=(a=Object.create(null),e=>{const r=o.call(e);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())});var a;const c=e=>(e=e.toLowerCase(),r=>u(r)===e),s=e=>r=>typeof r===e,{isArray:l}=Array,f=s("undefined"),d=c("ArrayBuffer"),p=s("string"),b=s("function"),v=s("number"),h=e=>null!==e&&"object"==typeof e,y=e=>{if("object"!==u(e))return!1;const r=i(e);return!(null!==r&&r!==Object.prototype&&null!==Object.getPrototypeOf(r)||Symbol.toStringTag in e||Symbol.iterator in e)},m=c("Date"),_=c("File"),O=c("Blob"),g=c("FileList"),w=c("URLSearchParams");function j(e,r,{allOwnKeys:t=!1}={}){if(null==e)return;let n,o;if("object"!=typeof e&&(e=[e]),l(e))for(n=0,o=e.length;n<o;n++)r.call(null,e[n],n,e);else{const o=t?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let u;for(n=0;n<i;n++)u=o[n],r.call(null,e[u],u,e)}}function P(e,r){r=r.toLowerCase();const t=Object.keys(e);let n,o=t.length;for(;o-- >0;)if(n=t[o],r===n.toLowerCase())return n;return null}const S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t.g,E=e=>!f(e)&&e!==S,x=(A="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>A&&e instanceof A);var A;const M=c("HTMLFormElement"),T=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),F=c("RegExp"),R=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),n={};j(t,((t,o)=>{!1!==r(t,o,e)&&(n[o]=t)})),Object.defineProperties(e,n)};var C={isArray:l,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const r="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===r||b(e.toString)&&e.toString()===r)},isArrayBufferView:function(e){let r;return r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer),r},isString:p,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:h,isPlainObject:y,isUndefined:f,isDate:m,isFile:_,isBlob:O,isRegExp:F,isFunction:b,isStream:e=>h(e)&&b(e.pipe),isURLSearchParams:w,isTypedArray:x,isFileList:g,forEach:j,merge:function e(){const{caseless:r}=E(this)&&this||{},t={},n=(n,o)=>{const i=r&&P(t,o)||o;y(t[i])&&y(n)?t[i]=e(t[i],n):y(n)?t[i]=e({},n):l(n)?t[i]=n.slice():t[i]=n};for(let e=0,r=arguments.length;e<r;e++)arguments[e]&&j(arguments[e],n);return t},extend:(e,r,t,{allOwnKeys:o}={})=>(j(r,((r,o)=>{t&&b(r)?e[o]=n(r,t):e[o]=r}),{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,r,t,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,r,t,n)=>{let o,u,a;const c={};if(r=r||{},null==e)return r;do{for(o=Object.getOwnPropertyNames(e),u=o.length;u-- >0;)a=o[u],n&&!n(a,e,r)||c[a]||(r[a]=e[a],c[a]=!0);e=!1!==t&&i(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},kindOf:u,kindOfTest:c,endsWith:(e,r,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=r.length;const n=e.indexOf(r,t);return-1!==n&&n===t},toArray:e=>{if(!e)return null;if(l(e))return e;let r=e.length;if(!v(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},forEachEntry:(e,r)=>{const t=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=t.next())&&!n.done;){const t=n.value;r.call(e,t[0],t[1])}},matchAll:(e,r)=>{let t;const n=[];for(;null!==(t=e.exec(r));)n.push(t);return n},isHTMLForm:M,hasOwnProperty:T,hasOwnProp:T,reduceDescriptors:R,freezeMethods:e=>{R(e,((r,t)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const n=e[t];b(n)&&(r.enumerable=!1,"writable"in r?r.writable=!1:r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,r)=>{const t={},n=e=>{e.forEach((e=>{t[e]=!0}))};return l(e)?n(e):n(String(e).split(r)),t},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,r,t){return r.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,r)=>(e=+e,Number.isFinite(e)?e:r),findKey:P,global:S,isContextDefined:E,toJSONObject:e=>{const r=new Array(10),t=(e,n)=>{if(h(e)){if(r.indexOf(e)>=0)return;if(!("toJSON"in e)){r[n]=e;const o=l(e)?[]:{};return j(e,((e,r)=>{const i=t(e,n+1);!f(i)&&(o[r]=i)})),r[n]=void 0,o}}return e};return t(e,0)}};function I(e,r,t,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),n&&(this.request=n),o&&(this.response=o)}C.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const k=I.prototype,N={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{N[e]={value:e}})),Object.defineProperties(I,N),Object.defineProperty(k,"isAxiosError",{value:!0}),I.from=(e,r,t,n,o,i)=>{const u=Object.create(k);return C.toFlatObject(e,u,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),I.call(u,e.message,r,t,n,o),u.cause=e,u.name=e.name,i&&Object.assign(u,i),u};var L="object"==typeof self?self.FormData:window.FormData;function U(e){return C.isPlainObject(e)||C.isArray(e)}function W(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function B(e,r,t){return e?e.concat(r).map((function(e,r){return e=W(e),!t&&r?"["+e+"]":e})).join(t?".":""):r}const q=C.toFlatObject(C,{},null,(function(e){return/^is[A-Z]/.test(e)}));function z(e,r,t){if(!C.isObject(e))throw new TypeError("target must be an object");r=r||new(L||FormData);const n=(t=C.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,r){return!C.isUndefined(r[e])}))).metaTokens,o=t.visitor||l,i=t.dots,u=t.indexes,a=(t.Blob||"undefined"!=typeof Blob&&Blob)&&(c=r)&&C.isFunction(c.append)&&"FormData"===c[Symbol.toStringTag]&&c[Symbol.iterator];var c;if(!C.isFunction(o))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(C.isDate(e))return e.toISOString();if(!a&&C.isBlob(e))throw new I("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(e)||C.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,t,o){let a=e;if(e&&!o&&"object"==typeof e)if(C.endsWith(t,"{}"))t=n?t:t.slice(0,-2),e=JSON.stringify(e);else if(C.isArray(e)&&function(e){return C.isArray(e)&&!e.some(U)}(e)||C.isFileList(e)||C.endsWith(t,"[]")&&(a=C.toArray(e)))return t=W(t),a.forEach((function(e,n){!C.isUndefined(e)&&null!==e&&r.append(!0===u?B([t],n,i):null===u?t:t+"[]",s(e))})),!1;return!!U(e)||(r.append(B(o,t,i),s(e)),!1)}const f=[],d=Object.assign(q,{defaultVisitor:l,convertValue:s,isVisitable:U});if(!C.isObject(e))throw new TypeError("data must be an object");return function e(t,n){if(!C.isUndefined(t)){if(-1!==f.indexOf(t))throw Error("Circular reference detected in "+n.join("."));f.push(t),C.forEach(t,(function(t,i){!0===(!(C.isUndefined(t)||null===t)&&o.call(r,t,C.isString(i)?i.trim():i,n,d))&&e(t,n?n.concat(i):[i])})),f.pop()}}(e),r}function D(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return r[e]}))}function V(e,r){this._pairs=[],e&&z(e,this,r)}const Y=V.prototype;function H(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J(e,r,t){if(!r)return e;const n=t&&t.encode||H,o=t&&t.serialize;let i;if(i=o?o(r,t):C.isURLSearchParams(r)?r.toString():new V(r,t).toString(n),i){const r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}Y.append=function(e,r){this._pairs.push([e,r])},Y.toString=function(e){const r=e?function(r){return e.call(this,r,D)}:D;return this._pairs.map((function(e){return r(e[0])+"="+r(e[1])}),"").join("&")};var K=class{constructor(){this.handlers=[]}use(e,r,t){return this.handlers.push({fulfilled:e,rejected:r,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,(function(r){null!==r&&e(r)}))}},G={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q="undefined"!=typeof URLSearchParams?URLSearchParams:V,$=FormData;const X=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),Z="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ee={isBrowser:!0,classes:{URLSearchParams:Q,FormData:$,Blob},isStandardBrowserEnv:X,isStandardBrowserWebWorkerEnv:Z,protocols:["http","https","file","blob","url","data"]};function re(e){function r(e,t,n,o){let i=e[o++];const u=Number.isFinite(+i),a=o>=e.length;return i=!i&&C.isArray(n)?n.length:i,a?(C.hasOwnProp(n,i)?n[i]=[n[i],t]:n[i]=t,!u):(n[i]&&C.isObject(n[i])||(n[i]=[]),r(e,t,n[i],o)&&C.isArray(n[i])&&(n[i]=function(e){const r={},t=Object.keys(e);let n;const o=t.length;let i;for(n=0;n<o;n++)i=t[n],r[i]=e[i];return r}(n[i])),!u)}if(C.isFormData(e)&&C.isFunction(e.entries)){const t={};return C.forEachEntry(e,((e,n)=>{r(function(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,t,0)})),t}return null}const te={"Content-Type":void 0},ne={transitional:G,adapter:["xhr","http"],transformRequest:[function(e,r){const t=r.getContentType()||"",n=t.indexOf("application/json")>-1,o=C.isObject(e);if(o&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return n&&n?JSON.stringify(re(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,r){return z(e,new ee.classes.URLSearchParams,Object.assign({visitor:function(e,r,t,n){return ee.isNode&&C.isBuffer(e)?(this.append(r,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},r))}(e,this.formSerializer).toString();if((i=C.isFileList(e))||t.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return z(i?{"files[]":e}:e,r&&new r,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),function(e,r,t){if(C.isString(e))try{return(0,JSON.parse)(e),C.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const r=this.transitional||ne.transitional,t=r&&r.forcedJSONParsing,n="json"===this.responseType;if(e&&C.isString(e)&&(t&&!this.responseType||n)){const t=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw I.from(e,I.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ee.classes.FormData,Blob:ee.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};C.forEach(["delete","get","head"],(function(e){ne.headers[e]={}})),C.forEach(["post","put","patch"],(function(e){ne.headers[e]=C.merge(te)}));var oe=ne;const ie=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ue=Symbol("internals");function ae(e){return e&&String(e).trim().toLowerCase()}function ce(e){return!1===e||null==e?e:C.isArray(e)?e.map(ce):String(e)}function se(e,r,t,n){return C.isFunction(n)?n.call(this,r,t):C.isString(r)?C.isString(n)?-1!==r.indexOf(n):C.isRegExp(n)?n.test(r):void 0:void 0}class le{constructor(e){e&&this.set(e)}set(e,r,t){const n=this;function o(e,r,t){const o=ae(r);if(!o)throw new Error("header name must be a non-empty string");const i=C.findKey(n,o);(!i||void 0===n[i]||!0===t||void 0===t&&!1!==n[i])&&(n[i||r]=ce(e))}const i=(e,r)=>C.forEach(e,((e,t)=>o(e,t,r)));return C.isPlainObject(e)||e instanceof this.constructor?i(e,r):C.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?i((e=>{const r={};let t,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),t=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!t||r[t]&&ie[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r})(e),r):null!=e&&o(r,e,t),this}get(e,r){if(e=ae(e)){const t=C.findKey(this,e);if(t){const e=this[t];if(!r)return e;if(!0===r)return function(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(e);)r[n[1]]=n[2];return r}(e);if(C.isFunction(r))return r.call(this,e,t);if(C.isRegExp(r))return r.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ae(e)){const t=C.findKey(this,e);return!(!t||r&&!se(0,this[t],t,r))}return!1}delete(e,r){const t=this;let n=!1;function o(e){if(e=ae(e)){const o=C.findKey(t,e);!o||r&&!se(0,t[o],o,r)||(delete t[o],n=!0)}}return C.isArray(e)?e.forEach(o):o(e),n}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const r=this,t={};return C.forEach(this,((n,o)=>{const i=C.findKey(t,o);if(i)return r[i]=ce(n),void delete r[o];const u=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,r,t)=>r.toUpperCase()+t))}(o):String(o).trim();u!==o&&delete r[o],r[u]=ce(n),t[u]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return C.forEach(this,((t,n)=>{null!=t&&!1!==t&&(r[n]=e&&C.isArray(t)?t.join(", "):t)})),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,r])=>e+": "+r)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const t=new this(e);return r.forEach((e=>t.set(e))),t}static accessor(e){const r=(this[ue]=this[ue]={accessors:{}}).accessors,t=this.prototype;function n(e){const n=ae(e);r[n]||(function(e,r){const t=C.toCamelCase(" "+r);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+t,{value:function(e,t,o){return this[n].call(this,r,e,t,o)},configurable:!0})}))}(t,e),r[n]=!0)}return C.isArray(e)?e.forEach(n):n(e),this}}le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),C.freezeMethods(le.prototype),C.freezeMethods(le);var fe=le;function de(e,r){const t=this||oe,n=r||t,o=fe.from(n.headers);let i=n.data;return C.forEach(e,(function(e){i=e.call(t,i,o.normalize(),r?r.status:void 0)})),o.normalize(),i}function pe(e){return!(!e||!e.__CANCEL__)}function be(e,r,t){I.call(this,null==e?"canceled":e,I.ERR_CANCELED,r,t),this.name="CanceledError"}C.inherits(be,I,{__CANCEL__:!0});var ve=ee.isStandardBrowserEnv?{write:function(e,r,t,n,o,i){const u=[];u.push(e+"="+encodeURIComponent(r)),C.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),C.isString(n)&&u.push("path="+n),C.isString(o)&&u.push("domain="+o),!0===i&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function he(e,r){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)?function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}(e,r):r}var ye=ee.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let t;function n(t){let n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){const r=C.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function me(e,r){let t=0;const n=function(e,r){e=e||10;const t=new Array(e),n=new Array(e);let o,i=0,u=0;return r=void 0!==r?r:1e3,function(a){const c=Date.now(),s=n[u];o||(o=c),t[i]=a,n[i]=c;let l=u,f=0;for(;l!==i;)f+=t[l++],l%=e;if(i=(i+1)%e,i===u&&(u=(u+1)%e),c-o<r)return;const d=s&&c-s;return d?Math.round(1e3*f/d):void 0}}(50,250);return o=>{const i=o.loaded,u=o.lengthComputable?o.total:void 0,a=i-t,c=n(a);t=i;const s={loaded:i,total:u,progress:u?i/u:void 0,bytes:a,rate:c||void 0,estimated:c&&u&&i<=u?(u-i)/c:void 0,event:o};s[r?"download":"upload"]=!0,e(s)}}const _e={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(r,t){let n=e.data;const o=fe.from(e.headers).normalize(),i=e.responseType;let u;function a(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}C.isFormData(n)&&(ee.isStandardBrowserEnv||ee.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const r=e.auth.username||"",t=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(r+":"+t))}const s=he(e.baseURL,e.url);function l(){if(!c)return;const n=fe.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,r,t){const n=t.config.validateStatus;t.status&&n&&!n(t.status)?r(new I("Request failed with status code "+t.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}((function(e){r(e),a()}),(function(e){t(e),a()}),{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),J(s,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(t(new I("Request aborted",I.ECONNABORTED,e,c)),c=null)},c.onerror=function(){t(new I("Network Error",I.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let r=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||G;e.timeoutErrorMessage&&(r=e.timeoutErrorMessage),t(new I(r,n.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,e,c)),c=null},ee.isStandardBrowserEnv){const r=(e.withCredentials||ye(s))&&e.xsrfCookieName&&ve.read(e.xsrfCookieName);r&&o.set(e.xsrfHeaderName,r)}void 0===n&&o.setContentType(null),"setRequestHeader"in c&&C.forEach(o.toJSON(),(function(e,r){c.setRequestHeader(r,e)})),C.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",me(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",me(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=r=>{c&&(t(!r||r.type?new be(null,e,c):r),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const f=function(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}(s);f&&-1===ee.protocols.indexOf(f)?t(new I("Unsupported protocol "+f+":",I.ERR_BAD_REQUEST,e)):c.send(n||null)}))}};C.forEach(_e,((e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch(e){}Object.defineProperty(e,"adapterName",{value:r})}}));function Oe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new be(null,e)}function ge(e){return Oe(e),e.headers=fe.from(e.headers),e.data=de.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),(e=>{e=C.isArray(e)?e:[e];const{length:r}=e;let t,n;for(let o=0;o<r&&(t=e[o],!(n=C.isString(t)?_e[t.toLowerCase()]:t));o++);if(!n){if(!1===n)throw new I(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(C.hasOwnProp(_e,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`)}if(!C.isFunction(n))throw new TypeError("adapter is not a function");return n})(e.adapter||oe.adapter)(e).then((function(r){return Oe(e),r.data=de.call(e,e.transformResponse,r),r.headers=fe.from(r.headers),r}),(function(r){return pe(r)||(Oe(e),r&&r.response&&(r.response.data=de.call(e,e.transformResponse,r.response),r.response.headers=fe.from(r.response.headers))),Promise.reject(r)}))}const we=e=>e instanceof fe?e.toJSON():e;function je(e,r){r=r||{};const t={};function n(e,r,t){return C.isPlainObject(e)&&C.isPlainObject(r)?C.merge.call({caseless:t},e,r):C.isPlainObject(r)?C.merge({},r):C.isArray(r)?r.slice():r}function o(e,r,t){return C.isUndefined(r)?C.isUndefined(e)?void 0:n(void 0,e,t):n(e,r,t)}function i(e,r){if(!C.isUndefined(r))return n(void 0,r)}function u(e,r){return C.isUndefined(r)?C.isUndefined(e)?void 0:n(void 0,e):n(void 0,r)}function a(t,o,i){return i in r?n(t,o):i in e?n(void 0,t):void 0}const c={url:i,method:i,data:i,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:a,headers:(e,r)=>o(we(e),we(r),!0)};return C.forEach(Object.keys(e).concat(Object.keys(r)),(function(n){const i=c[n]||o,u=i(e[n],r[n],n);C.isUndefined(u)&&i!==a||(t[n]=u)})),t}const Pe={};["object","boolean","number","function","string","symbol"].forEach(((e,r)=>{Pe[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}}));const Se={};Pe.transitional=function(e,r,t){function n(e,r){return"[Axios v1.2.2] Transitional option '"+e+"'"+r+(t?". "+t:"")}return(t,o,i)=>{if(!1===e)throw new I(n(o," has been removed"+(r?" in "+r:"")),I.ERR_DEPRECATED);return r&&!Se[o]&&(Se[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),!e||e(t,o,i)}};var Ee={assertOptions:function(e,r,t){if("object"!=typeof e)throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],u=r[i];if(u){const r=e[i],t=void 0===r||u(r,i,e);if(!0!==t)throw new I("option "+i+" must be "+t,I.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new I("Unknown option "+i,I.ERR_BAD_OPTION)}},validators:Pe};const xe=Ee.validators;class Ae{constructor(e){this.defaults=e,this.interceptors={request:new K,response:new K}}request(e,r){"string"==typeof e?(r=r||{}).url=e:r=e||{},r=je(this.defaults,r);const{transitional:t,paramsSerializer:n,headers:o}=r;let i;void 0!==t&&Ee.assertOptions(t,{silentJSONParsing:xe.transitional(xe.boolean),forcedJSONParsing:xe.transitional(xe.boolean),clarifyTimeoutError:xe.transitional(xe.boolean)},!1),void 0!==n&&Ee.assertOptions(n,{encode:xe.function,serialize:xe.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase(),i=o&&C.merge(o.common,o[r.method]),i&&C.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),r.headers=fe.concat(i,o);const u=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(r)||(a=a&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));const c=[];let s;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,f=0;if(!a){const e=[ge.bind(this),void 0];for(e.unshift.apply(e,u),e.push.apply(e,c),l=e.length,s=Promise.resolve(r);f<l;)s=s.then(e[f++],e[f++]);return s}l=u.length;let d=r;for(f=0;f<l;){const e=u[f++],r=u[f++];try{d=e(d)}catch(e){r.call(this,e);break}}try{s=ge.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)s=s.then(c[f++],c[f++]);return s}getUri(e){return J(he((e=je(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],(function(e){Ae.prototype[e]=function(r,t){return this.request(je(t||{},{method:e,url:r,data:(t||{}).data}))}})),C.forEach(["post","put","patch"],(function(e){function r(r){return function(t,n,o){return this.request(je(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:t,data:n}))}}Ae.prototype[e]=r(),Ae.prototype[e+"Form"]=r(!0)}));var Me=Ae;class Te{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let r;this.promise=new Promise((function(e){r=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let r=t._listeners.length;for(;r-- >0;)t._listeners[r](e);t._listeners=null})),this.promise.then=e=>{let r;const n=new Promise((e=>{t.subscribe(e),r=e})).then(e);return n.cancel=function(){t.unsubscribe(r)},n},e((function(e,n,o){t.reason||(t.reason=new be(e,n,o),r(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);-1!==r&&this._listeners.splice(r,1)}static source(){let e;return{token:new Te((function(r){e=r})),cancel:e}}}var Fe=Te;const Re={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Re).forEach((([e,r])=>{Re[r]=e}));var Ce=Re;const Ie=function e(r){const t=new Me(r),o=n(Me.prototype.request,t);return C.extend(o,Me.prototype,t,{allOwnKeys:!0}),C.extend(o,t,null,{allOwnKeys:!0}),o.create=function(t){return e(je(r,t))},o}(oe);Ie.Axios=Me,Ie.CanceledError=be,Ie.CancelToken=Fe,Ie.isCancel=pe,Ie.VERSION="1.2.2",Ie.toFormData=z,Ie.AxiosError=I,Ie.Cancel=Ie.CanceledError,Ie.all=function(e){return Promise.all(e)},Ie.spread=function(e){return function(r){return e.apply(null,r)}},Ie.isAxiosError=function(e){return C.isObject(e)&&!0===e.isAxiosError},Ie.mergeConfig=je,Ie.AxiosHeaders=fe,Ie.formToJSON=e=>re(C.isHTMLForm(e)?new FormData(e):e),Ie.HttpStatusCode=Ce,Ie.default=Ie,e.exports=Ie}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{t(3287),t(5691);const e=t(4112),r={today:null};function n(){(0,e.getSpentToday)().subscribe((e=>function(e){const t=document.getElementById("spent-today");return r.today=e.powerConsumed[0],t.innerHTML=r.today.cost,t}(e)))}!function(){const e=localStorage.getItem("name");if(e)return console.log(e),void(document.getElementById("heading-title").innerHTML=`Hi ${e}`);document.getElementById("settings-modal").style.display="block",document.getElementsByClassName("heading")[0].style.visibility="hidden";for(const e of document.querySelectorAll(".card"))e.style.visibility="hidden";document.getElementById("modal-button").addEventListener("click",(e=>{const r=document.getElementById("input-name").value;r&&""!==r&&localStorage.setItem("name",r);const t=document.getElementById("input-day").value;t&&""!==t&&localStorage.setItem("day",t),document.getElementsByClassName("heading")[0].style.visibility="visible";for(const e of document.querySelectorAll(".card"))e.style.visibility="visible";document.getElementById("settings-modal").style.display="none"}))}(),n(),setInterval(n,6e4)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixZQUFZMmxCLEVBQVcsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9pbmRleC5odG1sIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9Bc3luY1N1YmplY3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9PYnNlcnZhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvUmVwbGF5U3ViamVjdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1NjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YmplY3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9TdWJzY3JpYmVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvY29uZmlnLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvZmlyc3RWYWx1ZUZyb20udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9sYXN0VmFsdWVGcm9tLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmRDYWxsYmFjay50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvYmluZENhbGxiYWNrSW50ZXJuYWxzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9iaW5kTm9kZUNhbGxiYWNrLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Nvbm5lY3RhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9kZWZlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvZG9tL2FuaW1hdGlvbkZyYW1lcy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvZW1wdHkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2ZvcmtKb2luLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudFBhdHRlcm4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21TdWJzY3JpYmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9paWYudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2lubmVyRnJvbS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL21lcmdlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9uZXZlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvb2YudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL29uRXJyb3JSZXN1bWVOZXh0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYWlycy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYWNlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYW5nZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvdGhyb3dFcnJvci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29ic2VydmFibGUvdGltZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL3VzaW5nLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0VGltZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyQ291bnQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVGltZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUb2dnbGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyV2hlbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jYXRjaEVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVBbGwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29tYmluZUxhdGVzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0QWxsLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RXaXRoLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcFRvLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdFdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvY29ubmVjdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9jb3VudC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVmYXVsdElmRW1wdHkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXlXaGVuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2RlbWF0ZXJpYWxpemUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbENoYW5nZWQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3RVbnRpbEtleUNoYW5nZWQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZWxlbWVudEF0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2VuZFdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZXZlcnkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhoYXVzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0QWxsLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2V4aGF1c3RNYXAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZXhwYW5kLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9maW5hbGl6ZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9maW5kLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbmRJbmRleC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9maXJzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9mbGF0TWFwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvaWdub3JlRWxlbWVudHMudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvaXNFbXB0eS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9qb2luQWxsSW50ZXJuYWxzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2xhc3QudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21hcFRvLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21hdGVyaWFsaXplLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21heC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUFsbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUludGVybmFscy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcFRvLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlU2Nhbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWluLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL211bHRpY2FzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvb25FcnJvclJlc3VtZU5leHRXaXRoLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3BhaXJ3aXNlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3BsdWNrLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2gudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaEJlaGF2aW9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hMYXN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmFjZVdpdGgudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmVkdWNlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZkNvdW50LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXRXaGVuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3JldHJ5V2hlbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlVGltZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zY2FuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW5JbnRlcm5hbHMudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc2VxdWVuY2VFcXVhbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zaGFyZVJlcGxheS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zaW5nbGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9za2lwTGFzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9za2lwVW50aWwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcFdoaWxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3N0YXJ0V2l0aC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zdWJzY3JpYmVPbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hBbGwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFRvLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaFNjYW4udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90YWtlTGFzdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVdoaWxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3RhcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZVRpbWUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3dJZkVtcHR5LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVJbnRlcnZhbC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90aW1lb3V0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXRXaXRoLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVzdGFtcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy90b0FycmF5LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvdy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dDb3VudC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dUaW1lLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RvZ2dsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dXaGVuLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpdGhMYXRlc3RGcm9tLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3ppcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy96aXBBbGwudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvemlwV2l0aC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9BbmltYXRpb25GcmFtZUFjdGlvbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9BbmltYXRpb25GcmFtZVNjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9Bc2FwQWN0aW9uLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FzYXBTY2hlZHVsZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvUXVldWVBY3Rpb24udHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvUXVldWVTY2hlZHVsZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvYW5pbWF0aW9uRnJhbWUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvYW5pbWF0aW9uRnJhbWVQcm92aWRlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9hc2FwLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9pbW1lZGlhdGVQcm92aWRlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9pbnRlcnZhbFByb3ZpZGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL3BlcmZvcm1hbmNlVGltZXN0YW1wUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvcXVldWUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9FbXB0eUVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9JbW1lZGlhdGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL05vdEZvdW5kRXJyb3IudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9TZXF1ZW5jZUVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9hcmdzLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9hcmdzQXJnQXJyYXlPck9iamVjdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvYXJnc09yQXJnQXJyYXkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2FyclJlbW92ZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvY3JlYXRlT2JqZWN0LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9lcnJvckNvbnRleHQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2V4ZWN1dGVTY2hlZHVsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc0FzeW5jSXRlcmFibGUudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzRGF0ZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNPYnNlcnZhYmxlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvbGlmdC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvbWFwT25lT3JNYW55QXJncy50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvbm9vcC50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvbm90LnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9waXBlLnRzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvci50cyIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwLy4vZW52aXJvbm1lbnQudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL3NyYy9zZXJ2aWNlL2h0dHAudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL3NyYy9zZXJ2aWNlL21lYXN1cmVtZW50LnNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9kaXN0L2Jyb3dzZXIvYXhpb3MuY2pzIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2lvdC1wb3dlci1tZXRlci1hcHAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9pb3QtcG93ZXItbWV0ZXItYXBwL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vaW90LXBvd2VyLW1ldGVyLWFwcC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sIGxhbmc9XFxcImVuXFxcIj5cXG48aGVhZD5cXG4gICAgPG1ldGEgY2hhcnNldD1cXFwiVVRGLThcXFwiPlxcbiAgICA8dGl0bGU+SU9UIEFQUDwvdGl0bGU+XFxuICAgIDxsaW5rIHJlbD1cXFwicHJlY29ubmVjdFxcXCIgaHJlZj1cXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbVxcXCI+XFxuICAgIDxsaW5rIHJlbD1cXFwicHJlY29ubmVjdFxcXCIgaHJlZj1cXFwiaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbVxcXCIgY3Jvc3NvcmlnaW4+XFxuICAgIDxsaW5rIGhyZWY9XFxcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9QXJ2byZmYW1pbHk9SXRpbSZmYW1pbHk9TG9yYSZmYW1pbHk9UmFtbWV0dG8rT25lJmRpc3BsYXk9c3dhcFxcXCIgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIj5cXG48L2hlYWQ+XFxuPGJvZHk+XFxuICAgIDxkaXYgaWQ9XFxcImNvbnRhaW5lclxcXCIgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxuICAgICAgICA8aGVhZGVyIGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcInNvY2tldC1pbWFnZVxcXCIgc3JjPVxcXCJpbWFnZXMvc29ja2V0LnBuZ1xcXCIgYWx0PVxcXCJzb2NrZXRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC0xMlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWRpbmdcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XFxcImhlYWRpbmctdGl0bGVcXFwiIGNsYXNzPVxcXCJoZWFkaW5nLXRpdGxlXFxcIj5IaSBTdHJhbmdlcjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoZWFkaW5nLXN1YnRpdGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICBZb3UncmUgbG9zaW5nIG1vbmV5IGV2ZXJ5IHNlY29uZFxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvaGVhZGVyPlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtNlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC10aXRsZVxcXCI+U3BlbnQgdG9kYXk8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcInNwZW50LXRvZGF5XFxcIiBjbGFzcz1cXFwiY2FyZC12YWx1ZVxcXCI+MC4yNzxzcGFuIGNsYXNzPVxcXCJjYXJkLXZhbHVlLXVuaXRcXFwiPuKCrDwvc3Bhbj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQtdGl0bGVcXFwiPlNwZW50IHRoaXMgbW9udGg8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcInNwZW50LW1vbnRoXFxcIiBjbGFzcz1cXFwiY2FyZC12YWx1ZVxcXCI+MTMxPHNwYW4gY2xhc3M9XFxcImNhcmQtdmFsdWUtdW5pdFxcXCI+4oKsPC9zcGFuPjwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBpZD1cXFwic2V0dGluZ3MtbW9kYWxcXFwiIGNsYXNzPVxcXCJzZXR0aW5ncy1tb2RhbFxcXCI+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPlNldHRpbmdzPC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XFxcIm1vZGFsLXF1ZXN0aW9uXFxcIj5XaGF0IHNob3VsZCBJIGNhbGwgeW91Pzwvc3Bhbj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0Q29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XFxcImlucHV0LW5hbWVcXFwiIC8+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtb2RhbC1xdWVzdGlvblxcXCI+V2hhdCdzIHlvdXIgZWxlY3RyaWNpdHkgYmlsbCBzdGFydGluZyBkYXk/PC9zcGFuPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXRDb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwiaW5wdXQtZGF5XFxcIiAvPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8YnV0dG9uIGlkPVxcXCJtb2RhbC1idXR0b25cXFwiIGNsYXNzPVxcXCJtb2RhbC1idXR0b25cXFwiPlxcbiAgICAgICAgICAgIERvbmVcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPHNjcmlwdCB0eXBlPVxcXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XFxcIiBzcmM9XFxcIi4vbWFpbi5qc1xcXCI+PC9zY3JpcHQ+XFxuPC9ib2R5PlxcbjwvaHRtbD5cXG5cIjsiLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBIZXJlIHdlIG5lZWQgdG8gcmVmZXJlbmNlIG91ciBvdGhlciBkZWVwIGltcG9ydHNcbi8vIHNvIFZTIGNvZGUgd2lsbCBmaWd1cmUgb3V0IHdoZXJlIHRoZXkgYXJlXG4vLyBzZWUgY29udmVyc2F0aW9uIGhlcmU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzQzMDM0XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHRzbGludDpkaXNhYmxlOiBuby1yZWZlcmVuY2Vcbi8vIEl0J3MgdGVtcHRpbmcgdG8gYWRkIHJlZmVyZW5jZXMgdG8gYWxsIG9mIHRoZSBkZWVwLWltcG9ydCBsb2NhdGlvbnMsIGJ1dFxuLy8gYWRkaW5nIHJlZmVyZW5jZXMgdG8gdGhvc2UgdGhhdCByZXF1aXJlIERPTSB0eXBlcyBicmVha3MgTm9kZSBwcm9qZWN0cy5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL29wZXJhdG9ycy9pbmRleC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi90ZXN0aW5nL2luZGV4LnRzXCIgLz5cbi8vIHRzbGludDplbmFibGU6IG5vLXJlZmVyZW5jZVxuXG4vKiBPYnNlcnZhYmxlICovXG5leHBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZhYmxlJztcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUnO1xuZXhwb3J0IHsgR3JvdXBlZE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5JztcbmV4cG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9pbnRlcm5hbC9PcGVyYXRvcic7XG5leHBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBhbmltYXRpb25GcmFtZXMgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZG9tL2FuaW1hdGlvbkZyYW1lcyc7XG5cbi8qIFN1YmplY3RzICovXG5leHBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9TdWJqZWN0JztcbmV4cG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0JztcbmV4cG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL1JlcGxheVN1YmplY3QnO1xuZXhwb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9Bc3luY1N1YmplY3QnO1xuXG4vKiBTY2hlZHVsZXJzICovXG5leHBvcnQgeyBhc2FwLCBhc2FwU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvYXNhcCc7XG5leHBvcnQgeyBhc3luYywgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hc3luYyc7XG5leHBvcnQgeyBxdWV1ZSwgcXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9xdWV1ZSc7XG5leHBvcnQgeyBhbmltYXRpb25GcmFtZSwgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZSc7XG5leHBvcnQgeyBWaXJ0dWFsVGltZVNjaGVkdWxlciwgVmlydHVhbEFjdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL1ZpcnR1YWxUaW1lU2NoZWR1bGVyJztcbmV4cG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvU2NoZWR1bGVyJztcblxuLyogU3Vic2NyaXB0aW9uICovXG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL2ludGVybmFsL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9pbnRlcm5hbC9TdWJzY3JpYmVyJztcblxuLyogTm90aWZpY2F0aW9uICovXG5leHBvcnQgeyBOb3RpZmljYXRpb24sIE5vdGlmaWNhdGlvbktpbmQgfSBmcm9tICcuL2ludGVybmFsL05vdGlmaWNhdGlvbic7XG5cbi8qIFV0aWxzICovXG5leHBvcnQgeyBwaXBlIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL3BpcGUnO1xuZXhwb3J0IHsgbm9vcCB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9ub29wJztcbmV4cG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL2lkZW50aXR5JztcbmV4cG9ydCB7IGlzT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9pc09ic2VydmFibGUnO1xuXG4vKiBQcm9taXNlIENvbnZlcnNpb24gKi9cbmV4cG9ydCB7IGxhc3RWYWx1ZUZyb20gfSBmcm9tICcuL2ludGVybmFsL2xhc3RWYWx1ZUZyb20nO1xuZXhwb3J0IHsgZmlyc3RWYWx1ZUZyb20gfSBmcm9tICcuL2ludGVybmFsL2ZpcnN0VmFsdWVGcm9tJztcblxuLyogRXJyb3IgdHlwZXMgKi9cbmV4cG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yJztcbmV4cG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvRW1wdHlFcnJvcic7XG5leHBvcnQgeyBOb3RGb3VuZEVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL05vdEZvdW5kRXJyb3InO1xuZXhwb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuZXhwb3J0IHsgU2VxdWVuY2VFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9TZXF1ZW5jZUVycm9yJztcbmV4cG9ydCB7IFRpbWVvdXRFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3RpbWVvdXQnO1xuZXhwb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcblxuLyogU3RhdGljIG9ic2VydmFibGUgY3JlYXRpb24gZXhwb3J0cyAqL1xuZXhwb3J0IHsgYmluZENhbGxiYWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmRDYWxsYmFjayc7XG5leHBvcnQgeyBiaW5kTm9kZUNhbGxiYWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmROb2RlQ2FsbGJhY2snO1xuZXhwb3J0IHsgY29tYmluZUxhdGVzdCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0JztcbmV4cG9ydCB7IGNvbmNhdCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQnO1xuZXhwb3J0IHsgY29ubmVjdGFibGUgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvY29ubmVjdGFibGUnO1xuZXhwb3J0IHsgZGVmZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZGVmZXInO1xuZXhwb3J0IHsgZW1wdHkgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IHsgZm9ya0pvaW4gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4nO1xuZXhwb3J0IHsgZnJvbSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tJztcbmV4cG9ydCB7IGZyb21FdmVudCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQnO1xuZXhwb3J0IHsgZnJvbUV2ZW50UGF0dGVybiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnRQYXR0ZXJuJztcbmV4cG9ydCB7IGdlbmVyYXRlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlJztcbmV4cG9ydCB7IGlpZiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9paWYnO1xuZXhwb3J0IHsgaW50ZXJ2YWwgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwnO1xuZXhwb3J0IHsgbWVyZ2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbWVyZ2UnO1xuZXhwb3J0IHsgbmV2ZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbmV2ZXInO1xuZXhwb3J0IHsgb2YgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvb2YnO1xuZXhwb3J0IHsgb25FcnJvclJlc3VtZU5leHQgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvb25FcnJvclJlc3VtZU5leHQnO1xuZXhwb3J0IHsgcGFpcnMgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcGFpcnMnO1xuZXhwb3J0IHsgcGFydGl0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhcnRpdGlvbic7XG5leHBvcnQgeyByYWNlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UnO1xuZXhwb3J0IHsgcmFuZ2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcmFuZ2UnO1xuZXhwb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCB7IHRpbWVyIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyJztcbmV4cG9ydCB7IHVzaW5nIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3VzaW5nJztcbmV4cG9ydCB7IHppcCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAnO1xuZXhwb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkJztcblxuLyogQ29uc3RhbnRzICovXG5leHBvcnQgeyBFTVBUWSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eSc7XG5leHBvcnQgeyBORVZFUiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9uZXZlcic7XG5cbi8qIFR5cGVzICovXG5leHBvcnQgKiBmcm9tICcuL2ludGVybmFsL3R5cGVzJztcblxuLyogQ29uZmlnICovXG5leHBvcnQgeyBjb25maWcsIEdsb2JhbENvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvY29uZmlnJztcblxuLyogT3BlcmF0b3JzICovXG5leHBvcnQgeyBhdWRpdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0JztcbmV4cG9ydCB7IGF1ZGl0VGltZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2F1ZGl0VGltZSc7XG5leHBvcnQgeyBidWZmZXIgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXInO1xuZXhwb3J0IHsgYnVmZmVyQ291bnQgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJDb3VudCc7XG5leHBvcnQgeyBidWZmZXJUaW1lIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvYnVmZmVyVGltZSc7XG5leHBvcnQgeyBidWZmZXJUb2dnbGUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9idWZmZXJUb2dnbGUnO1xuZXhwb3J0IHsgYnVmZmVyV2hlbiB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2J1ZmZlcldoZW4nO1xuZXhwb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3InO1xuZXhwb3J0IHsgY29tYmluZUFsbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVBbGwnO1xuZXhwb3J0IHsgY29tYmluZUxhdGVzdEFsbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbWJpbmVMYXRlc3RBbGwnO1xuZXhwb3J0IHsgY29tYmluZUxhdGVzdFdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9jb21iaW5lTGF0ZXN0V2l0aCc7XG5leHBvcnQgeyBjb25jYXRBbGwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwnO1xuZXhwb3J0IHsgY29uY2F0TWFwIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwJztcbmV4cG9ydCB7IGNvbmNhdE1hcFRvIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0TWFwVG8nO1xuZXhwb3J0IHsgY29uY2F0V2l0aCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdFdpdGgnO1xuZXhwb3J0IHsgY29ubmVjdCwgQ29ubmVjdENvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2Nvbm5lY3QnO1xuZXhwb3J0IHsgY291bnQgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9jb3VudCc7XG5leHBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlJztcbmV4cG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlYm91bmNlVGltZSc7XG5leHBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2RlZmF1bHRJZkVtcHR5JztcbmV4cG9ydCB7IGRlbGF5IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXknO1xuZXhwb3J0IHsgZGVsYXlXaGVuIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXlXaGVuJztcbmV4cG9ydCB7IGRlbWF0ZXJpYWxpemUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9kZW1hdGVyaWFsaXplJztcbmV4cG9ydCB7IGRpc3RpbmN0IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZGlzdGluY3QnO1xuZXhwb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsQ2hhbmdlZCc7XG5leHBvcnQgeyBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2Rpc3RpbmN0VW50aWxLZXlDaGFuZ2VkJztcbmV4cG9ydCB7IGVsZW1lbnRBdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2VsZW1lbnRBdCc7XG5leHBvcnQgeyBlbmRXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZW5kV2l0aCc7XG5leHBvcnQgeyBldmVyeSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2V2ZXJ5JztcbmV4cG9ydCB7IGV4aGF1c3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0JztcbmV4cG9ydCB7IGV4aGF1c3RBbGwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0QWxsJztcbmV4cG9ydCB7IGV4aGF1c3RNYXAgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9leGhhdXN0TWFwJztcbmV4cG9ydCB7IGV4cGFuZCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2V4cGFuZCc7XG5leHBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXInO1xuZXhwb3J0IHsgZmluYWxpemUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9maW5hbGl6ZSc7XG5leHBvcnQgeyBmaW5kIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZmluZCc7XG5leHBvcnQgeyBmaW5kSW5kZXggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9maW5kSW5kZXgnO1xuZXhwb3J0IHsgZmlyc3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9maXJzdCc7XG5leHBvcnQgeyBncm91cEJ5LCBCYXNpY0dyb3VwQnlPcHRpb25zLCBHcm91cEJ5T3B0aW9uc1dpdGhFbGVtZW50IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvZ3JvdXBCeSc7XG5leHBvcnQgeyBpZ25vcmVFbGVtZW50cyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2lnbm9yZUVsZW1lbnRzJztcbmV4cG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9pc0VtcHR5JztcbmV4cG9ydCB7IGxhc3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9sYXN0JztcbmV4cG9ydCB7IG1hcCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL21hcCc7XG5leHBvcnQgeyBtYXBUbyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL21hcFRvJztcbmV4cG9ydCB7IG1hdGVyaWFsaXplIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWF0ZXJpYWxpemUnO1xuZXhwb3J0IHsgbWF4IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWF4JztcbmV4cG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwnO1xuZXhwb3J0IHsgZmxhdE1hcCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2ZsYXRNYXAnO1xuZXhwb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcCc7XG5leHBvcnQgeyBtZXJnZU1hcFRvIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXBUbyc7XG5leHBvcnQgeyBtZXJnZVNjYW4gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZVNjYW4nO1xuZXhwb3J0IHsgbWVyZ2VXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VXaXRoJztcbmV4cG9ydCB7IG1pbiB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL21pbic7XG5leHBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9tdWx0aWNhc3QnO1xuZXhwb3J0IHsgb2JzZXJ2ZU9uIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmV4cG9ydCB7IG9uRXJyb3JSZXN1bWVOZXh0V2l0aCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL29uRXJyb3JSZXN1bWVOZXh0V2l0aCc7XG5leHBvcnQgeyBwYWlyd2lzZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3BhaXJ3aXNlJztcbmV4cG9ydCB7IHBsdWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2snO1xuZXhwb3J0IHsgcHVibGlzaCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2gnO1xuZXhwb3J0IHsgcHVibGlzaEJlaGF2aW9yIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaEJlaGF2aW9yJztcbmV4cG9ydCB7IHB1Ymxpc2hMYXN0IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcHVibGlzaExhc3QnO1xuZXhwb3J0IHsgcHVibGlzaFJlcGxheSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3B1Ymxpc2hSZXBsYXknO1xuZXhwb3J0IHsgcmFjZVdpdGggfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9yYWNlV2l0aCc7XG5leHBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9yZWR1Y2UnO1xuZXhwb3J0IHsgcmVwZWF0LCBSZXBlYXRDb25maWcgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9yZXBlYXQnO1xuZXhwb3J0IHsgcmVwZWF0V2hlbiB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3JlcGVhdFdoZW4nO1xuZXhwb3J0IHsgcmV0cnksIFJldHJ5Q29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnknO1xuZXhwb3J0IHsgcmV0cnlXaGVuIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnlXaGVuJztcbmV4cG9ydCB7IHJlZkNvdW50IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQnO1xuZXhwb3J0IHsgc2FtcGxlIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2FtcGxlJztcbmV4cG9ydCB7IHNhbXBsZVRpbWUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zYW1wbGVUaW1lJztcbmV4cG9ydCB7IHNjYW4gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zY2FuJztcbmV4cG9ydCB7IHNlcXVlbmNlRXF1YWwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zZXF1ZW5jZUVxdWFsJztcbmV4cG9ydCB7IHNoYXJlLCBTaGFyZUNvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlJztcbmV4cG9ydCB7IHNoYXJlUmVwbGF5LCBTaGFyZVJlcGxheUNvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlUmVwbGF5JztcbmV4cG9ydCB7IHNpbmdsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZSc7XG5leHBvcnQgeyBza2lwIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc2tpcCc7XG5leHBvcnQgeyBza2lwTGFzdCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBMYXN0JztcbmV4cG9ydCB7IHNraXBVbnRpbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3NraXBVbnRpbCc7XG5leHBvcnQgeyBza2lwV2hpbGUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9za2lwV2hpbGUnO1xuZXhwb3J0IHsgc3RhcnRXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoJztcbmV4cG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IHsgc3dpdGNoQWxsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoQWxsJztcbmV4cG9ydCB7IHN3aXRjaE1hcCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcCc7XG5leHBvcnQgeyBzd2l0Y2hNYXBUbyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcFRvJztcbmV4cG9ydCB7IHN3aXRjaFNjYW4gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hTY2FuJztcbmV4cG9ydCB7IHRha2UgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90YWtlJztcbmV4cG9ydCB7IHRha2VMYXN0IH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZUxhc3QnO1xuZXhwb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGFrZVVudGlsJztcbmV4cG9ydCB7IHRha2VXaGlsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZSc7XG5leHBvcnQgeyB0YXAgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90YXAnO1xuZXhwb3J0IHsgdGhyb3R0bGUsIFRocm90dGxlQ29uZmlnIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGUnO1xuZXhwb3J0IHsgdGhyb3R0bGVUaW1lIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGhyb3R0bGVUaW1lJztcbmV4cG9ydCB7IHRocm93SWZFbXB0eSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm93SWZFbXB0eSc7XG5leHBvcnQgeyB0aW1lSW50ZXJ2YWwgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90aW1lSW50ZXJ2YWwnO1xuZXhwb3J0IHsgdGltZW91dCwgVGltZW91dENvbmZpZywgVGltZW91dEluZm8gfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90aW1lb3V0JztcbmV4cG9ydCB7IHRpbWVvdXRXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZW91dFdpdGgnO1xuZXhwb3J0IHsgdGltZXN0YW1wIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvdGltZXN0YW1wJztcbmV4cG9ydCB7IHRvQXJyYXkgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy90b0FycmF5JztcbmV4cG9ydCB7IHdpbmRvdyB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvdyc7XG5leHBvcnQgeyB3aW5kb3dDb3VudCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd0NvdW50JztcbmV4cG9ydCB7IHdpbmRvd1RpbWUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy93aW5kb3dUaW1lJztcbmV4cG9ydCB7IHdpbmRvd1RvZ2dsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpbmRvd1RvZ2dsZSc7XG5leHBvcnQgeyB3aW5kb3dXaGVuIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93V2hlbic7XG5leHBvcnQgeyB3aXRoTGF0ZXN0RnJvbSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3dpdGhMYXRlc3RGcm9tJztcbmV4cG9ydCB7IHppcEFsbCB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL3ppcEFsbCc7XG5leHBvcnQgeyB6aXBXaXRoIH0gZnJvbSAnLi9pbnRlcm5hbC9vcGVyYXRvcnMvemlwV2l0aCc7XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuXG4vKipcbiAqIEEgdmFyaWFudCBvZiBTdWJqZWN0IHRoYXQgb25seSBlbWl0cyBhIHZhbHVlIHdoZW4gaXQgY29tcGxldGVzLiBJdCB3aWxsIGVtaXRcbiAqIGl0cyBsYXRlc3QgdmFsdWUgdG8gYWxsIGl0cyBvYnNlcnZlcnMgb24gY29tcGxldGlvbi5cbiAqXG4gKiBAY2xhc3MgQXN5bmNTdWJqZWN0PFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBBc3luY1N1YmplY3Q8VD4gZXh0ZW5kcyBTdWJqZWN0PFQ+IHtcbiAgcHJpdmF0ZSBfdmFsdWU6IFQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfaGFzVmFsdWUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9jaGVja0ZpbmFsaXplZFN0YXR1c2VzKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pIHtcbiAgICBjb25zdCB7IGhhc0Vycm9yLCBfaGFzVmFsdWUsIF92YWx1ZSwgdGhyb3duRXJyb3IsIGlzU3RvcHBlZCwgX2lzQ29tcGxldGUgfSA9IHRoaXM7XG4gICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICBzdWJzY3JpYmVyLmVycm9yKHRocm93bkVycm9yKTtcbiAgICB9IGVsc2UgaWYgKGlzU3RvcHBlZCB8fCBfaXNDb21wbGV0ZSkge1xuICAgICAgX2hhc1ZhbHVlICYmIHN1YnNjcmliZXIubmV4dChfdmFsdWUhKTtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KHZhbHVlOiBUKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IF9oYXNWYWx1ZSwgX3ZhbHVlLCBfaXNDb21wbGV0ZSB9ID0gdGhpcztcbiAgICBpZiAoIV9pc0NvbXBsZXRlKSB7XG4gICAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIF9oYXNWYWx1ZSAmJiBzdXBlci5uZXh0KF92YWx1ZSEpO1xuICAgICAgc3VwZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5cbi8qKlxuICogQSB2YXJpYW50IG9mIFN1YmplY3QgdGhhdCByZXF1aXJlcyBhbiBpbml0aWFsIHZhbHVlIGFuZCBlbWl0cyBpdHMgY3VycmVudFxuICogdmFsdWUgd2hlbmV2ZXIgaXQgaXMgc3Vic2NyaWJlZCB0by5cbiAqXG4gKiBAY2xhc3MgQmVoYXZpb3JTdWJqZWN0PFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBCZWhhdmlvclN1YmplY3Q8VD4gZXh0ZW5kcyBTdWJqZWN0PFQ+IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdmFsdWU6IFQpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCk6IFQge1xuICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfc3Vic2NyaWJlKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pOiBTdWJzY3JpcHRpb24ge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHN1cGVyLl9zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgIXN1YnNjcmlwdGlvbi5jbG9zZWQgJiYgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgZ2V0VmFsdWUoKTogVCB7XG4gICAgY29uc3QgeyBoYXNFcnJvciwgdGhyb3duRXJyb3IsIF92YWx1ZSB9ID0gdGhpcztcbiAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgIHRocm93IHRocm93bkVycm9yO1xuICAgIH1cbiAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgcmV0dXJuIF92YWx1ZTtcbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICBzdXBlci5uZXh0KCh0aGlzLl92YWx1ZSA9IHZhbHVlKSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBhcnRpYWxPYnNlcnZlciwgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbiwgQ29tcGxldGVOb3RpZmljYXRpb24sIE5leHROb3RpZmljYXRpb24sIEVycm9yTm90aWZpY2F0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9vYnNlcnZhYmxlL2VtcHR5JztcbmltcG9ydCB7IG9mIH0gZnJvbSAnLi9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vLyBUT0RPOiBXaGVuIHRoaXMgZW51bSBpcyByZW1vdmVkLCByZXBsYWNlIGl0IHdpdGggYSB0eXBlIGFsaWFzLiBTZWUgIzQ1NTYuXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBhIHN0cmluZyBsaXRlcmFsIGluc3RlYWQuIGBOb3RpZmljYXRpb25LaW5kYCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSB0eXBlIGFsaWFzIGluIHY4LlxuICogSXQgd2lsbCBub3QgYmUgcmVwbGFjZWQgd2l0aCBhIGNvbnN0IGVudW0gYXMgdGhvc2UgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggaXNvbGF0ZWQgbW9kdWxlcy5cbiAqL1xuZXhwb3J0IGVudW0gTm90aWZpY2F0aW9uS2luZCB7XG4gIE5FWFQgPSAnTicsXG4gIEVSUk9SID0gJ0UnLFxuICBDT01QTEVURSA9ICdDJyxcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcHVzaC1iYXNlZCBldmVudCBvciB2YWx1ZSB0aGF0IGFuIHtAbGluayBPYnNlcnZhYmxlfSBjYW4gZW1pdC5cbiAqIFRoaXMgY2xhc3MgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igb3BlcmF0b3JzIHRoYXQgbWFuYWdlIG5vdGlmaWNhdGlvbnMsXG4gKiBsaWtlIHtAbGluayBtYXRlcmlhbGl6ZX0sIHtAbGluayBkZW1hdGVyaWFsaXplfSwge0BsaW5rIG9ic2VydmVPbn0sIGFuZFxuICogb3RoZXJzLiBCZXNpZGVzIHdyYXBwaW5nIHRoZSBhY3R1YWwgZGVsaXZlcmVkIHZhbHVlLCBpdCBhbHNvIGFubm90YXRlcyBpdFxuICogd2l0aCBtZXRhZGF0YSBvZiwgZm9yIGluc3RhbmNlLCB3aGF0IHR5cGUgb2YgcHVzaCBtZXNzYWdlIGl0IGlzIChgbmV4dGAsXG4gKiBgZXJyb3JgLCBvciBgY29tcGxldGVgKS5cbiAqXG4gKiBAc2VlIHtAbGluayBtYXRlcmlhbGl6ZX1cbiAqIEBzZWUge0BsaW5rIGRlbWF0ZXJpYWxpemV9XG4gKiBAc2VlIHtAbGluayBvYnNlcnZlT259XG4gKiBAZGVwcmVjYXRlZCBJdCBpcyBOT1QgcmVjb21tZW5kZWQgdG8gY3JlYXRlIGluc3RhbmNlcyBvZiBgTm90aWZpY2F0aW9uYCBkaXJlY3RseS5cbiAqIFJhdGhlciwgdHJ5IHRvIGNyZWF0ZSBQT0pPcyBtYXRjaGluZyB0aGUgc2lnbmF0dXJlIG91dGxpbmVkIGluIHtAbGluayBPYnNlcnZhYmxlTm90aWZpY2F0aW9ufS5cbiAqIEZvciBleGFtcGxlOiBgeyBraW5kOiAnTicsIHZhbHVlOiAxIH1gLCBgeyBraW5kOiAnRScsIGVycm9yOiBuZXcgRXJyb3IoJ2JhZCcpIH1gLCBvciBgeyBraW5kOiAnQycgfWAuXG4gKiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb248VD4ge1xuICAvKipcbiAgICogQSB2YWx1ZSBzaWduaWZ5aW5nIHRoYXQgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIFwibmV4dFwiIGlmIG9ic2VydmVkLiBJbiB0cnV0aCxcbiAgICogVGhpcyBpcyByZWFsbHkgc3lub255bW91cyB3aXRoIGp1c3QgY2hlY2tpbmcgYGtpbmQgPT09IFwiTlwiYC5cbiAgICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBJbnN0ZWFkLCBqdXN0IGNoZWNrIHRvIHNlZSBpZiB0aGUgdmFsdWUgb2YgYGtpbmRgIGlzIGBcIk5cImAuXG4gICAqL1xuICByZWFkb25seSBoYXNWYWx1ZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwiTmV4dFwiIG5vdGlmaWNhdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSBraW5kIEFsd2F5cyBgJ04nYFxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIG5vdGlmeSB3aXRoIGlmIG9ic2VydmVkLlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIFVzZSB7QGxpbmsgTm90aWZpY2F0aW9uI2NyZWF0ZU5leHQgY3JlYXRlTmV4dH0gaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGtpbmQ6ICdOJywgdmFsdWU/OiBUKTtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gXCJFcnJvclwiIG5vdGlmaWNhdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSBraW5kIEFsd2F5cyBgJ0UnYFxuICAgKiBAcGFyYW0gdmFsdWUgQWx3YXlzIGB1bmRlZmluZWRgXG4gICAqIEBwYXJhbSBlcnJvciBUaGUgZXJyb3IgdG8gbm90aWZ5IHdpdGggaWYgb2JzZXJ2ZWQuXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gVXNlIHtAbGluayBOb3RpZmljYXRpb24jY3JlYXRlRXJyb3IgY3JlYXRlRXJyb3J9IGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihraW5kOiAnRScsIHZhbHVlOiB1bmRlZmluZWQsIGVycm9yOiBhbnkpO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFwiY29tcGxldGlvblwiIG5vdGlmaWNhdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSBraW5kIEFsd2F5cyBgJ0MnYFxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIFVzZSB7QGxpbmsgTm90aWZpY2F0aW9uI2NyZWF0ZUNvbXBsZXRlIGNyZWF0ZUNvbXBsZXRlfSBpbnN0ZWFkLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioa2luZDogJ0MnKTtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGtpbmQ6ICdOJyB8ICdFJyB8ICdDJywgcHVibGljIHJlYWRvbmx5IHZhbHVlPzogVCwgcHVibGljIHJlYWRvbmx5IGVycm9yPzogYW55KSB7XG4gICAgdGhpcy5oYXNWYWx1ZSA9IGtpbmQgPT09ICdOJztcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBvbiBhIHBhc3NlZCBgb2JzZXJ2ZXJgIGdpdmVuIHRoZSBga2luZGAgb2Ygbm90aWZpY2F0aW9uLlxuICAgKiBJZiB0aGUgaGFuZGxlciBpcyBtaXNzaW5nIGl0IHdpbGwgZG8gbm90aGluZy4gRXZlbiBpZiB0aGUgbm90aWZpY2F0aW9uIGlzIGFuIGVycm9yLCBpZlxuICAgKiB0aGVyZSBpcyBubyBlcnJvciBoYW5kbGVyIG9uIHRoZSBvYnNlcnZlciwgYW4gZXJyb3Igd2lsbCBub3QgYmUgdGhyb3duLCBpdCB3aWxsIG5vb3AuXG4gICAqIEBwYXJhbSBvYnNlcnZlciBUaGUgb2JzZXJ2ZXIgdG8gbm90aWZ5LlxuICAgKi9cbiAgb2JzZXJ2ZShvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+KTogdm9pZCB7XG4gICAgcmV0dXJuIG9ic2VydmVOb3RpZmljYXRpb24odGhpcyBhcyBPYnNlcnZhYmxlTm90aWZpY2F0aW9uPFQ+LCBvYnNlcnZlcik7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBub3RpZmljYXRpb24gb24gdGhlIGFwcHJvcHJpYXRlIGhhbmRsZXIgZnJvbSBhIGxpc3QgcHJvdmlkZWQuXG4gICAqIElmIGEgaGFuZGxlciBpcyBtaXNzaW5nIGZvciB0aGUga2luZCBvZiBub3RpZmljYXRpb24sIG5vdGhpbmcgaXMgY2FsbGVkXG4gICAqIGFuZCBubyBlcnJvciBpcyB0aHJvd24sIGl0IHdpbGwgYmUgYSBub29wLlxuICAgKiBAcGFyYW0gbmV4dCBBIG5leHQgaGFuZGxlclxuICAgKiBAcGFyYW0gZXJyb3IgQW4gZXJyb3IgaGFuZGxlclxuICAgKiBAcGFyYW0gY29tcGxldGUgQSBjb21wbGV0ZSBoYW5kbGVyXG4gICAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIE5vdGlmaWNhdGlvbiNvYnNlcnZlIG9ic2VydmV9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBkbyhuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQsIGVycm9yOiAoZXJyOiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGEgbm90aWZpY2F0aW9uIG9uIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIGZyb20gYSBsaXN0IHByb3ZpZGVkLlxuICAgKiBJZiBhIGhhbmRsZXIgaXMgbWlzc2luZyBmb3IgdGhlIGtpbmQgb2Ygbm90aWZpY2F0aW9uLCBub3RoaW5nIGlzIGNhbGxlZFxuICAgKiBhbmQgbm8gZXJyb3IgaXMgdGhyb3duLCBpdCB3aWxsIGJlIGEgbm9vcC5cbiAgICogQHBhcmFtIG5leHQgQSBuZXh0IGhhbmRsZXJcbiAgICogQHBhcmFtIGVycm9yIEFuIGVycm9yIGhhbmRsZXJcbiAgICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgTm90aWZpY2F0aW9uI29ic2VydmUgb2JzZXJ2ZX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIGRvKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgZXJyb3I6IChlcnI6IGFueSkgPT4gdm9pZCk6IHZvaWQ7XG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgbmV4dCBoYW5kbGVyIGlmIHRoZSBOb3RpZmljYXRpb24gaXMgb2YgYGtpbmRgIGBcIk5cImAuIE90aGVyd2lzZVxuICAgKiB0aGlzIHdpbGwgbm90IGVycm9yLCBhbmQgaXQgd2lsbCBiZSBhIG5vb3AuXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBuZXh0IGhhbmRsZXJcbiAgICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgTm90aWZpY2F0aW9uI29ic2VydmUgb2JzZXJ2ZX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIGRvKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCk6IHZvaWQ7XG4gIGRvKG5leHRIYW5kbGVyOiAodmFsdWU6IFQpID0+IHZvaWQsIGVycm9ySGFuZGxlcj86IChlcnI6IGFueSkgPT4gdm9pZCwgY29tcGxldGVIYW5kbGVyPzogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IHsga2luZCwgdmFsdWUsIGVycm9yIH0gPSB0aGlzO1xuICAgIHJldHVybiBraW5kID09PSAnTicgPyBuZXh0SGFuZGxlcj8uKHZhbHVlISkgOiBraW5kID09PSAnRScgPyBlcnJvckhhbmRsZXI/LihlcnJvcikgOiBjb21wbGV0ZUhhbmRsZXI/LigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGEgbm90aWZpY2F0aW9uIG9uIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIGZyb20gYSBsaXN0IHByb3ZpZGVkLlxuICAgKiBJZiBhIGhhbmRsZXIgaXMgbWlzc2luZyBmb3IgdGhlIGtpbmQgb2Ygbm90aWZpY2F0aW9uLCBub3RoaW5nIGlzIGNhbGxlZFxuICAgKiBhbmQgbm8gZXJyb3IgaXMgdGhyb3duLCBpdCB3aWxsIGJlIGEgbm9vcC5cbiAgICogQHBhcmFtIG5leHQgQSBuZXh0IGhhbmRsZXJcbiAgICogQHBhcmFtIGVycm9yIEFuIGVycm9yIGhhbmRsZXJcbiAgICogQHBhcmFtIGNvbXBsZXRlIEEgY29tcGxldGUgaGFuZGxlclxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBOb3RpZmljYXRpb24jb2JzZXJ2ZSBvYnNlcnZlfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgYWNjZXB0KG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgZXJyb3I6IChlcnI6IGFueSkgPT4gdm9pZCwgY29tcGxldGU6ICgpID0+IHZvaWQpOiB2b2lkO1xuICAvKipcbiAgICogRXhlY3V0ZXMgYSBub3RpZmljYXRpb24gb24gdGhlIGFwcHJvcHJpYXRlIGhhbmRsZXIgZnJvbSBhIGxpc3QgcHJvdmlkZWQuXG4gICAqIElmIGEgaGFuZGxlciBpcyBtaXNzaW5nIGZvciB0aGUga2luZCBvZiBub3RpZmljYXRpb24sIG5vdGhpbmcgaXMgY2FsbGVkXG4gICAqIGFuZCBubyBlcnJvciBpcyB0aHJvd24sIGl0IHdpbGwgYmUgYSBub29wLlxuICAgKiBAcGFyYW0gbmV4dCBBIG5leHQgaGFuZGxlclxuICAgKiBAcGFyYW0gZXJyb3IgQW4gZXJyb3IgaGFuZGxlclxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBOb3RpZmljYXRpb24jb2JzZXJ2ZSBvYnNlcnZlfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgYWNjZXB0KG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgZXJyb3I6IChlcnI6IGFueSkgPT4gdm9pZCk6IHZvaWQ7XG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgbmV4dCBoYW5kbGVyIGlmIHRoZSBOb3RpZmljYXRpb24gaXMgb2YgYGtpbmRgIGBcIk5cImAuIE90aGVyd2lzZVxuICAgKiB0aGlzIHdpbGwgbm90IGVycm9yLCBhbmQgaXQgd2lsbCBiZSBhIG5vb3AuXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBuZXh0IGhhbmRsZXJcbiAgICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgTm90aWZpY2F0aW9uI29ic2VydmUgb2JzZXJ2ZX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIGFjY2VwdChuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBvbiBhIHBhc3NlZCBgb2JzZXJ2ZXJgIGdpdmVuIHRoZSBga2luZGAgb2Ygbm90aWZpY2F0aW9uLlxuICAgKiBJZiB0aGUgaGFuZGxlciBpcyBtaXNzaW5nIGl0IHdpbGwgZG8gbm90aGluZy4gRXZlbiBpZiB0aGUgbm90aWZpY2F0aW9uIGlzIGFuIGVycm9yLCBpZlxuICAgKiB0aGVyZSBpcyBubyBlcnJvciBoYW5kbGVyIG9uIHRoZSBvYnNlcnZlciwgYW4gZXJyb3Igd2lsbCBub3QgYmUgdGhyb3duLCBpdCB3aWxsIG5vb3AuXG4gICAqIEBwYXJhbSBvYnNlcnZlciBUaGUgb2JzZXJ2ZXIgdG8gbm90aWZ5LlxuICAgKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBOb3RpZmljYXRpb24jb2JzZXJ2ZSBvYnNlcnZlfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgYWNjZXB0KG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VD4pOiB2b2lkO1xuICBhY2NlcHQobmV4dE9yT2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUPiB8ICgodmFsdWU6IFQpID0+IHZvaWQpLCBlcnJvcj86IChlcnI6IGFueSkgPT4gdm9pZCwgY29tcGxldGU/OiAoKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oKG5leHRPck9ic2VydmVyIGFzIGFueSk/Lm5leHQpXG4gICAgICA/IHRoaXMub2JzZXJ2ZShuZXh0T3JPYnNlcnZlciBhcyBQYXJ0aWFsT2JzZXJ2ZXI8VD4pXG4gICAgICA6IHRoaXMuZG8obmV4dE9yT2JzZXJ2ZXIgYXMgKHZhbHVlOiBUKSA9PiB2b2lkLCBlcnJvciBhcyBhbnksIGNvbXBsZXRlIGFzIGFueSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQganVzdCBkZWxpdmVycyB0aGUgbm90aWZpY2F0aW9uIHJlcHJlc2VudGVkXG4gICAqIGJ5IHRoaXMgTm90aWZpY2F0aW9uIGluc3RhbmNlLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRvIGNvbnZlcnQgYSBgTm90aWZpY2F0aW9uYCB0byBhbiB7QGxpbmsgT2JzZXJ2YWJsZX0sXG4gICAqIHVzZSB7QGxpbmsgb2Z9IGFuZCB7QGxpbmsgZGVtYXRlcmlhbGl6ZX06IGBvZihub3RpZmljYXRpb24pLnBpcGUoZGVtYXRlcmlhbGl6ZSgpKWAuXG4gICAqL1xuICB0b09ic2VydmFibGUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3QgeyBraW5kLCB2YWx1ZSwgZXJyb3IgfSA9IHRoaXM7XG4gICAgLy8gU2VsZWN0IHRoZSBvYnNlcnZhYmxlIHRvIHJldHVybiBieSBga2luZGBcbiAgICBjb25zdCByZXN1bHQgPVxuICAgICAga2luZCA9PT0gJ04nXG4gICAgICAgID8gLy8gTmV4dCBraW5kLiBSZXR1cm4gYW4gb2JzZXJ2YWJsZSBvZiB0aGF0IHZhbHVlLlxuICAgICAgICAgIG9mKHZhbHVlISlcbiAgICAgICAgOiAvL1xuICAgICAgICBraW5kID09PSAnRSdcbiAgICAgICAgPyAvLyBFcnJvciBraW5kLiBSZXR1cm4gYW4gb2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBlcnJvci5cbiAgICAgICAgICB0aHJvd0Vycm9yKCgpID0+IGVycm9yKVxuICAgICAgICA6IC8vXG4gICAgICAgIGtpbmQgPT09ICdDJ1xuICAgICAgICA/IC8vIENvbXBsZXRpb24ga2luZC4gS2luZCBpcyBcIkNcIiwgcmV0dXJuIGFuIG9ic2VydmFibGUgdGhhdCBqdXN0IGNvbXBsZXRlcy5cbiAgICAgICAgICBFTVBUWVxuICAgICAgICA6IC8vIFVua25vd24ga2luZCwgcmV0dXJuIGZhbHN5LCBzbyB3ZSBlcnJvciBiZWxvdy5cbiAgICAgICAgICAwO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAvLyBUT0RPOiBjb25zaWRlciByZW1vdmluZyB0aGlzIGNoZWNrLiBUaGUgb25seSB3YXkgdG8gY2F1c2UgdGhpcyB3b3VsZCBiZSB0b1xuICAgICAgLy8gdXNlIHRoZSBOb3RpZmljYXRpb24gY29uc3RydWN0b3IgZGlyZWN0bHkgaW4gYSB3YXkgdGhhdCBpcyBub3QgdHlwZS1zYWZlLlxuICAgICAgLy8gYW5kIGRpcmVjdCB1c2Ugb2YgdGhlIE5vdGlmaWNhdGlvbiBjb25zdHJ1Y3RvciBpcyBkZXByZWNhdGVkLlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCAke2tpbmR9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjb21wbGV0ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ0MnKSBhcyBOb3RpZmljYXRpb248bmV2ZXI+ICYgQ29tcGxldGVOb3RpZmljYXRpb247XG4gIC8qKlxuICAgKiBBIHNob3J0Y3V0IHRvIGNyZWF0ZSBhIE5vdGlmaWNhdGlvbiBpbnN0YW5jZSBvZiB0aGUgdHlwZSBgbmV4dGAgZnJvbSBhXG4gICAqIGdpdmVuIHZhbHVlLlxuICAgKiBAcGFyYW0ge1R9IHZhbHVlIFRoZSBgbmV4dGAgdmFsdWUuXG4gICAqIEByZXR1cm4ge05vdGlmaWNhdGlvbjxUPn0gVGhlIFwibmV4dFwiIE5vdGlmaWNhdGlvbiByZXByZXNlbnRpbmcgdGhlXG4gICAqIGFyZ3VtZW50LlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBJdCBpcyBOT1QgcmVjb21tZW5kZWQgdG8gY3JlYXRlIGluc3RhbmNlcyBvZiBgTm90aWZpY2F0aW9uYCBkaXJlY3RseS5cbiAgICogUmF0aGVyLCB0cnkgdG8gY3JlYXRlIFBPSk9zIG1hdGNoaW5nIHRoZSBzaWduYXR1cmUgb3V0bGluZWQgaW4ge0BsaW5rIE9ic2VydmFibGVOb3RpZmljYXRpb259LlxuICAgKiBGb3IgZXhhbXBsZTogYHsga2luZDogJ04nLCB2YWx1ZTogMSB9YCwgYHsga2luZDogJ0UnLCBlcnJvcjogbmV3IEVycm9yKCdiYWQnKSB9YCwgb3IgYHsga2luZDogJ0MnIH1gLlxuICAgKiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlTmV4dDxUPih2YWx1ZTogVCkge1xuICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdOJywgdmFsdWUpIGFzIE5vdGlmaWNhdGlvbjxUPiAmIE5leHROb3RpZmljYXRpb248VD47XG4gIH1cblxuICAvKipcbiAgICogQSBzaG9ydGN1dCB0byBjcmVhdGUgYSBOb3RpZmljYXRpb24gaW5zdGFuY2Ugb2YgdGhlIHR5cGUgYGVycm9yYCBmcm9tIGFcbiAgICogZ2l2ZW4gZXJyb3IuXG4gICAqIEBwYXJhbSB7YW55fSBbZXJyXSBUaGUgYGVycm9yYCBlcnJvci5cbiAgICogQHJldHVybiB7Tm90aWZpY2F0aW9uPFQ+fSBUaGUgXCJlcnJvclwiIE5vdGlmaWNhdGlvbiByZXByZXNlbnRpbmcgdGhlXG4gICAqIGFyZ3VtZW50LlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZGVwcmVjYXRlZCBJdCBpcyBOT1QgcmVjb21tZW5kZWQgdG8gY3JlYXRlIGluc3RhbmNlcyBvZiBgTm90aWZpY2F0aW9uYCBkaXJlY3RseS5cbiAgICogUmF0aGVyLCB0cnkgdG8gY3JlYXRlIFBPSk9zIG1hdGNoaW5nIHRoZSBzaWduYXR1cmUgb3V0bGluZWQgaW4ge0BsaW5rIE9ic2VydmFibGVOb3RpZmljYXRpb259LlxuICAgKiBGb3IgZXhhbXBsZTogYHsga2luZDogJ04nLCB2YWx1ZTogMSB9YCwgYHsga2luZDogJ0UnLCBlcnJvcjogbmV3IEVycm9yKCdiYWQnKSB9YCwgb3IgYHsga2luZDogJ0MnIH1gLlxuICAgKiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlRXJyb3IoZXJyPzogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycikgYXMgTm90aWZpY2F0aW9uPG5ldmVyPiAmIEVycm9yTm90aWZpY2F0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgdG8gY3JlYXRlIGEgTm90aWZpY2F0aW9uIGluc3RhbmNlIG9mIHRoZSB0eXBlIGBjb21wbGV0ZWAuXG4gICAqIEByZXR1cm4ge05vdGlmaWNhdGlvbjxhbnk+fSBUaGUgdmFsdWVsZXNzIFwiY29tcGxldGVcIiBOb3RpZmljYXRpb24uXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGBOb3RpZmljYXRpb25gIGRpcmVjdGx5LlxuICAgKiBSYXRoZXIsIHRyeSB0byBjcmVhdGUgUE9KT3MgbWF0Y2hpbmcgdGhlIHNpZ25hdHVyZSBvdXRsaW5lZCBpbiB7QGxpbmsgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbn0uXG4gICAqIEZvciBleGFtcGxlOiBgeyBraW5kOiAnTicsIHZhbHVlOiAxIH1gLCBgeyBraW5kOiAnRScsIGVycm9yOiBuZXcgRXJyb3IoJ2JhZCcpIH1gLCBvciBgeyBraW5kOiAnQycgfWAuXG4gICAqIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVDb21wbGV0ZSgpOiBOb3RpZmljYXRpb248bmV2ZXI+ICYgQ29tcGxldGVOb3RpZmljYXRpb24ge1xuICAgIHJldHVybiBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb247XG4gIH1cbn1cblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBvbiBhIHBhc3NlZCBgb2JzZXJ2ZXJgIGdpdmVuIHRoZSBga2luZGAgb2Ygbm90aWZpY2F0aW9uLlxuICogSWYgdGhlIGhhbmRsZXIgaXMgbWlzc2luZyBpdCB3aWxsIGRvIG5vdGhpbmcuIEV2ZW4gaWYgdGhlIG5vdGlmaWNhdGlvbiBpcyBhbiBlcnJvciwgaWZcbiAqIHRoZXJlIGlzIG5vIGVycm9yIGhhbmRsZXIgb24gdGhlIG9ic2VydmVyLCBhbiBlcnJvciB3aWxsIG5vdCBiZSB0aHJvd24sIGl0IHdpbGwgbm9vcC5cbiAqIEBwYXJhbSBub3RpZmljYXRpb24gVGhlIG5vdGlmaWNhdGlvbiBvYmplY3QgdG8gb2JzZXJ2ZS5cbiAqIEBwYXJhbSBvYnNlcnZlciBUaGUgb2JzZXJ2ZXIgdG8gbm90aWZ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZU5vdGlmaWNhdGlvbjxUPihub3RpZmljYXRpb246IE9ic2VydmFibGVOb3RpZmljYXRpb248VD4sIG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VD4pIHtcbiAgY29uc3QgeyBraW5kLCB2YWx1ZSwgZXJyb3IgfSA9IG5vdGlmaWNhdGlvbiBhcyBhbnk7XG4gIGlmICh0eXBlb2Yga2luZCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vdGlmaWNhdGlvbiwgbWlzc2luZyBcImtpbmRcIicpO1xuICB9XG4gIGtpbmQgPT09ICdOJyA/IG9ic2VydmVyLm5leHQ/Lih2YWx1ZSEpIDoga2luZCA9PT0gJ0UnID8gb2JzZXJ2ZXIuZXJyb3I/LihlcnJvcikgOiBvYnNlcnZlci5jb21wbGV0ZT8uKCk7XG59XG4iLCJpbXBvcnQgeyBDb21wbGV0ZU5vdGlmaWNhdGlvbiwgTmV4dE5vdGlmaWNhdGlvbiwgRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBBIGNvbXBsZXRpb24gb2JqZWN0IG9wdGltaXplZCBmb3IgbWVtb3J5IHVzZSBhbmQgY3JlYXRlZCB0byBiZSB0aGVcbiAqIHNhbWUgXCJzaGFwZVwiIGFzIG90aGVyIG5vdGlmaWNhdGlvbnMgaW4gdjguXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENPTVBMRVRFX05PVElGSUNBVElPTiA9ICgoKSA9PiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCkgYXMgQ29tcGxldGVOb3RpZmljYXRpb24pKCk7XG5cbi8qKlxuICogSW50ZXJuYWwgdXNlIG9ubHkuIENyZWF0ZXMgYW4gb3B0aW1pemVkIGVycm9yIG5vdGlmaWNhdGlvbiB0aGF0IGlzIHRoZSBzYW1lIFwic2hhcGVcIlxuICogYXMgb3RoZXIgbm90aWZpY2F0aW9ucy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3I6IGFueSk6IEVycm9yTm90aWZpY2F0aW9uIHtcbiAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyb3IpIGFzIGFueTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCB1c2Ugb25seS4gQ3JlYXRlcyBhbiBvcHRpbWl6ZWQgbmV4dCBub3RpZmljYXRpb24gdGhhdCBpcyB0aGUgc2FtZSBcInNoYXBlXCJcbiAqIGFzIG90aGVyIG5vdGlmaWNhdGlvbnMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5leHROb3RpZmljYXRpb248VD4odmFsdWU6IFQpIHtcbiAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpIGFzIE5leHROb3RpZmljYXRpb248VD47XG59XG5cbi8qKlxuICogRW5zdXJlcyB0aGF0IGFsbCBub3RpZmljYXRpb25zIGNyZWF0ZWQgaW50ZXJuYWxseSBoYXZlIHRoZSBzYW1lIFwic2hhcGVcIiBpbiB2OC5cbiAqXG4gKiBUT0RPOiBUaGlzIGlzIG9ubHkgZXhwb3J0ZWQgdG8gc3VwcG9ydCBhIGNyYXp5IGxlZ2FjeSB0ZXN0IGluIGBncm91cEJ5YC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGtpbmQ6ICdOJyB8ICdFJyB8ICdDJywgdmFsdWU6IGFueSwgZXJyb3I6IGFueSkge1xuICByZXR1cm4ge1xuICAgIGtpbmQsXG4gICAgdmFsdWUsXG4gICAgZXJyb3IsXG4gIH07XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4vT3BlcmF0b3InO1xuaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24sIFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFRlYXJkb3duTG9naWMsIE9wZXJhdG9yRnVuY3Rpb24sIFN1YnNjcmliYWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXJyb3JDb250ZXh0IH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhbnkgc2V0IG9mIHZhbHVlcyBvdmVyIGFueSBhbW91bnQgb2YgdGltZS4gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBidWlsZGluZyBibG9ja1xuICogb2YgUnhKUy5cbiAqXG4gKiBAY2xhc3MgT2JzZXJ2YWJsZTxUPlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZTxUPiBpbXBsZW1lbnRzIFN1YnNjcmliYWJsZTxUPiB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICovXG4gIHNvdXJjZTogT2JzZXJ2YWJsZTxhbnk+IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICovXG4gIG9wZXJhdG9yOiBPcGVyYXRvcjxhbnksIFQ+IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBPYnNlcnZhYmxlIGlzXG4gICAqIGluaXRpYWxseSBzdWJzY3JpYmVkIHRvLiBUaGlzIGZ1bmN0aW9uIGlzIGdpdmVuIGEgU3Vic2NyaWJlciwgdG8gd2hpY2ggbmV3IHZhbHVlc1xuICAgKiBjYW4gYmUgYG5leHRgZWQsIG9yIGFuIGBlcnJvcmAgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmFpc2UgYW4gZXJyb3IsIG9yXG4gICAqIGBjb21wbGV0ZWAgY2FuIGJlIGNhbGxlZCB0byBub3RpZnkgb2YgYSBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpYmU/OiAodGhpczogT2JzZXJ2YWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4gVGVhcmRvd25Mb2dpYykge1xuICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICB9XG4gIH1cblxuICAvLyBIQUNLOiBTaW5jZSBUeXBlU2NyaXB0IGluaGVyaXRzIHN0YXRpYyBwcm9wZXJ0aWVzIHRvbywgd2UgaGF2ZSB0b1xuICAvLyBmaWdodCBhZ2FpbnN0IFR5cGVTY3JpcHQgaGVyZSBzbyBTdWJqZWN0IGNhbiBoYXZlIGEgZGlmZmVyZW50IHN0YXRpYyBjcmVhdGUgc2lnbmF0dXJlXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IE9ic2VydmFibGUgYnkgY2FsbGluZyB0aGUgT2JzZXJ2YWJsZSBjb25zdHJ1Y3RvclxuICAgKiBAb3duZXIgT2JzZXJ2YWJsZVxuICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJzY3JpYmU/IHRoZSBzdWJzY3JpYmVyIGZ1bmN0aW9uIHRvIGJlIHBhc3NlZCB0byB0aGUgT2JzZXJ2YWJsZSBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhIG5ldyBvYnNlcnZhYmxlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgbmV3IE9ic2VydmFibGUoKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPSA8VD4oc3Vic2NyaWJlPzogKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IFRlYXJkb3duTG9naWMpID0+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oc3Vic2NyaWJlKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlLCB3aXRoIHRoaXMgT2JzZXJ2YWJsZSBpbnN0YW5jZSBhcyB0aGUgc291cmNlLCBhbmQgdGhlIHBhc3NlZFxuICAgKiBvcGVyYXRvciBkZWZpbmVkIGFzIHRoZSBuZXcgb2JzZXJ2YWJsZSdzIG9wZXJhdG9yLlxuICAgKiBAbWV0aG9kIGxpZnRcbiAgICogQHBhcmFtIG9wZXJhdG9yIHRoZSBvcGVyYXRvciBkZWZpbmluZyB0aGUgb3BlcmF0aW9uIHRvIHRha2Ugb24gdGhlIG9ic2VydmFibGVcbiAgICogQHJldHVybiBhIG5ldyBvYnNlcnZhYmxlIHdpdGggdGhlIE9wZXJhdG9yIGFwcGxpZWRcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gICAqIElmIHlvdSBoYXZlIGltcGxlbWVudGVkIGFuIG9wZXJhdG9yIHVzaW5nIGBsaWZ0YCwgaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgY3JlYXRlIGFuXG4gICAqIG9wZXJhdG9yIGJ5IHNpbXBseSByZXR1cm5pbmcgYG5ldyBPYnNlcnZhYmxlKClgIGRpcmVjdGx5LiBTZWUgXCJDcmVhdGluZyBuZXcgb3BlcmF0b3JzIGZyb21cbiAgICogc2NyYXRjaFwiIHNlY3Rpb24gaGVyZTogaHR0cHM6Ly9yeGpzLmRldi9ndWlkZS9vcGVyYXRvcnNcbiAgICovXG4gIGxpZnQ8Uj4ob3BlcmF0b3I/OiBPcGVyYXRvcjxULCBSPik6IE9ic2VydmFibGU8Uj4ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxSPigpO1xuICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cblxuICBzdWJzY3JpYmUob2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsPE9ic2VydmVyPFQ+PiB8ICgodmFsdWU6IFQpID0+IHZvaWQpKTogU3Vic2NyaXB0aW9uO1xuICAvKiogQGRlcHJlY2F0ZWQgSW5zdGVhZCBvZiBwYXNzaW5nIHNlcGFyYXRlIGNhbGxiYWNrIGFyZ3VtZW50cywgdXNlIGFuIG9ic2VydmVyIGFyZ3VtZW50LiBTaWduYXR1cmVzIHRha2luZyBzZXBhcmF0ZSBjYWxsYmFjayBhcmd1bWVudHMgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zdWJzY3JpYmUtYXJndW1lbnRzICovXG4gIHN1YnNjcmliZShuZXh0PzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLCBlcnJvcj86ICgoZXJyb3I6IGFueSkgPT4gdm9pZCkgfCBudWxsLCBjb21wbGV0ZT86ICgoKSA9PiB2b2lkKSB8IG51bGwpOiBTdWJzY3JpcHRpb247XG4gIC8qKlxuICAgKiBJbnZva2VzIGFuIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlIGFuZCByZWdpc3RlcnMgT2JzZXJ2ZXIgaGFuZGxlcnMgZm9yIG5vdGlmaWNhdGlvbnMgaXQgd2lsbCBlbWl0LlxuICAgKlxuICAgKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlIGl0IHdoZW4geW91IGhhdmUgYWxsIHRoZXNlIE9ic2VydmFibGVzLCBidXQgc3RpbGwgbm90aGluZyBpcyBoYXBwZW5pbmcuPC9zcGFuPlxuICAgKlxuICAgKiBgc3Vic2NyaWJlYCBpcyBub3QgYSByZWd1bGFyIG9wZXJhdG9yLCBidXQgYSBtZXRob2QgdGhhdCBjYWxscyBPYnNlcnZhYmxlJ3MgaW50ZXJuYWwgYHN1YnNjcmliZWAgZnVuY3Rpb24uIEl0XG4gICAqIG1pZ2h0IGJlIGZvciBleGFtcGxlIGEgZnVuY3Rpb24gdGhhdCB5b3UgcGFzc2VkIHRvIE9ic2VydmFibGUncyBjb25zdHJ1Y3RvciwgYnV0IG1vc3Qgb2YgdGhlIHRpbWUgaXQgaXNcbiAgICogYSBsaWJyYXJ5IGltcGxlbWVudGF0aW9uLCB3aGljaCBkZWZpbmVzIHdoYXQgd2lsbCBiZSBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUsIGFuZCB3aGVuIGl0IGJlIHdpbGwgZW1pdHRlZC4gVGhpcyBtZWFuc1xuICAgKiB0aGF0IGNhbGxpbmcgYHN1YnNjcmliZWAgaXMgYWN0dWFsbHkgdGhlIG1vbWVudCB3aGVuIE9ic2VydmFibGUgc3RhcnRzIGl0cyB3b3JrLCBub3Qgd2hlbiBpdCBpcyBjcmVhdGVkLCBhcyBpdCBpcyBvZnRlblxuICAgKiB0aGUgdGhvdWdodC5cbiAgICpcbiAgICogQXBhcnQgZnJvbSBzdGFydGluZyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUsIHRoaXMgbWV0aG9kIGFsbG93cyB5b3UgdG8gbGlzdGVuIGZvciB2YWx1ZXNcbiAgICogdGhhdCBhbiBPYnNlcnZhYmxlIGVtaXRzLCBhcyB3ZWxsIGFzIGZvciB3aGVuIGl0IGNvbXBsZXRlcyBvciBlcnJvcnMuIFlvdSBjYW4gYWNoaWV2ZSB0aGlzIGluIHR3b1xuICAgKiBvZiB0aGUgZm9sbG93aW5nIHdheXMuXG4gICAqXG4gICAqIFRoZSBmaXJzdCB3YXkgaXMgY3JlYXRpbmcgYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZS4gSXQgc2hvdWxkIGhhdmUgbWV0aG9kc1xuICAgKiBkZWZpbmVkIGJ5IHRoYXQgaW50ZXJmYWNlLCBidXQgbm90ZSB0aGF0IGl0IHNob3VsZCBiZSBqdXN0IGEgcmVndWxhciBKYXZhU2NyaXB0IG9iamVjdCwgd2hpY2ggeW91IGNhbiBjcmVhdGVcbiAgICogeW91cnNlbGYgaW4gYW55IHdheSB5b3Ugd2FudCAoRVM2IGNsYXNzLCBjbGFzc2ljIGZ1bmN0aW9uIGNvbnN0cnVjdG9yLCBvYmplY3QgbGl0ZXJhbCBldGMuKS4gSW4gcGFydGljdWxhciwgZG9cbiAgICogbm90IGF0dGVtcHQgdG8gdXNlIGFueSBSeEpTIGltcGxlbWVudGF0aW9uIGRldGFpbHMgdG8gY3JlYXRlIE9ic2VydmVycyAtIHlvdSBkb24ndCBuZWVkIHRoZW0uIFJlbWVtYmVyIGFsc29cbiAgICogdGhhdCB5b3VyIG9iamVjdCBkb2VzIG5vdCBoYXZlIHRvIGltcGxlbWVudCBhbGwgbWV0aG9kcy4gSWYgeW91IGZpbmQgeW91cnNlbGYgY3JlYXRpbmcgYSBtZXRob2QgdGhhdCBkb2Vzbid0XG4gICAqIGRvIGFueXRoaW5nLCB5b3UgY2FuIHNpbXBseSBvbWl0IGl0LiBOb3RlIGhvd2V2ZXIsIGlmIHRoZSBgZXJyb3JgIG1ldGhvZCBpcyBub3QgcHJvdmlkZWQgYW5kIGFuIGVycm9yIGhhcHBlbnMsXG4gICAqIGl0IHdpbGwgYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5LiBFcnJvcnMgdGhyb3duIGFzeW5jaHJvbm91c2x5IGNhbm5vdCBiZSBjYXVnaHQgdXNpbmcgYHRyeWAvYGNhdGNoYC4gSW5zdGVhZCxcbiAgICogdXNlIHRoZSB7QGxpbmsgb25VbmhhbmRsZWRFcnJvcn0gY29uZmlndXJhdGlvbiBvcHRpb24gb3IgdXNlIGEgcnVudGltZSBoYW5kbGVyIChsaWtlIGB3aW5kb3cub25lcnJvcmAgb3JcbiAgICogYHByb2Nlc3Mub24oJ2Vycm9yKWApIHRvIGJlIG5vdGlmaWVkIG9mIHVuaGFuZGxlZCBlcnJvcnMuIEJlY2F1c2Ugb2YgdGhpcywgaXQncyByZWNvbW1lbmRlZCB0aGF0IHlvdSBwcm92aWRlXG4gICAqIGFuIGBlcnJvcmAgbWV0aG9kIHRvIGF2b2lkIG1pc3NpbmcgdGhyb3duIGVycm9ycy5cbiAgICpcbiAgICogVGhlIHNlY29uZCB3YXkgaXMgdG8gZ2l2ZSB1cCBvbiBPYnNlcnZlciBvYmplY3QgYWx0b2dldGhlciBhbmQgc2ltcGx5IHByb3ZpZGUgY2FsbGJhY2sgZnVuY3Rpb25zIGluIHBsYWNlIG9mIGl0cyBtZXRob2RzLlxuICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gcHJvdmlkZSB0aHJlZSBmdW5jdGlvbnMgYXMgYXJndW1lbnRzIHRvIGBzdWJzY3JpYmVgLCB3aGVyZSB0aGUgZmlyc3QgZnVuY3Rpb24gaXMgZXF1aXZhbGVudFxuICAgKiBvZiBhIGBuZXh0YCBtZXRob2QsIHRoZSBzZWNvbmQgb2YgYW4gYGVycm9yYCBtZXRob2QgYW5kIHRoZSB0aGlyZCBvZiBhIGBjb21wbGV0ZWAgbWV0aG9kLiBKdXN0IGFzIGluIGNhc2Ugb2YgYW4gT2JzZXJ2ZXIsXG4gICAqIGlmIHlvdSBkbyBub3QgbmVlZCB0byBsaXN0ZW4gZm9yIHNvbWV0aGluZywgeW91IGNhbiBvbWl0IGEgZnVuY3Rpb24gYnkgcGFzc2luZyBgdW5kZWZpbmVkYCBvciBgbnVsbGAsXG4gICAqIHNpbmNlIGBzdWJzY3JpYmVgIHJlY29nbml6ZXMgdGhlc2UgZnVuY3Rpb25zIGJ5IHdoZXJlIHRoZXkgd2VyZSBwbGFjZWQgaW4gZnVuY3Rpb24gY2FsbC4gV2hlbiBpdCBjb21lc1xuICAgKiB0byB0aGUgYGVycm9yYCBmdW5jdGlvbiwgYXMgd2l0aCBhbiBPYnNlcnZlciwgaWYgbm90IHByb3ZpZGVkLCBlcnJvcnMgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlIHdpbGwgYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5LlxuICAgKlxuICAgKiBZb3UgY2FuLCBob3dldmVyLCBzdWJzY3JpYmUgd2l0aCBubyBwYXJhbWV0ZXJzIGF0IGFsbC4gVGhpcyBtYXkgYmUgdGhlIGNhc2Ugd2hlcmUgeW91J3JlIG5vdCBpbnRlcmVzdGVkIGluIHRlcm1pbmFsIGV2ZW50c1xuICAgKiBhbmQgeW91IGFsc28gaGFuZGxlZCBlbWlzc2lvbnMgaW50ZXJuYWxseSBieSB1c2luZyBvcGVyYXRvcnMgKGUuZy4gdXNpbmcgYHRhcGApLlxuICAgKlxuICAgKiBXaGljaGV2ZXIgc3R5bGUgb2YgY2FsbGluZyBgc3Vic2NyaWJlYCB5b3UgdXNlLCBpbiBib3RoIGNhc2VzIGl0IHJldHVybnMgYSBTdWJzY3JpcHRpb24gb2JqZWN0LlxuICAgKiBUaGlzIG9iamVjdCBhbGxvd3MgeW91IHRvIGNhbGwgYHVuc3Vic2NyaWJlYCBvbiBpdCwgd2hpY2ggaW4gdHVybiB3aWxsIHN0b3AgdGhlIHdvcmsgdGhhdCBhbiBPYnNlcnZhYmxlIGRvZXMgYW5kIHdpbGwgY2xlYW5cbiAgICogdXAgYWxsIHJlc291cmNlcyB0aGF0IGFuIE9ic2VydmFibGUgdXNlZC4gTm90ZSB0aGF0IGNhbmNlbGxpbmcgYSBzdWJzY3JpcHRpb24gd2lsbCBub3QgY2FsbCBgY29tcGxldGVgIGNhbGxiYWNrXG4gICAqIHByb3ZpZGVkIHRvIGBzdWJzY3JpYmVgIGZ1bmN0aW9uLCB3aGljaCBpcyByZXNlcnZlZCBmb3IgYSByZWd1bGFyIGNvbXBsZXRpb24gc2lnbmFsIHRoYXQgY29tZXMgZnJvbSBhbiBPYnNlcnZhYmxlLlxuICAgKlxuICAgKiBSZW1lbWJlciB0aGF0IGNhbGxiYWNrcyBwcm92aWRlZCB0byBgc3Vic2NyaWJlYCBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LlxuICAgKiBJdCBpcyBhbiBPYnNlcnZhYmxlIGl0c2VsZiB0aGF0IGRlY2lkZXMgd2hlbiB0aGVzZSBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQuIEZvciBleGFtcGxlIHtAbGluayBvZn1cbiAgICogYnkgZGVmYXVsdCBlbWl0cyBhbGwgaXRzIHZhbHVlcyBzeW5jaHJvbm91c2x5LiBBbHdheXMgY2hlY2sgZG9jdW1lbnRhdGlvbiBmb3IgaG93IGdpdmVuIE9ic2VydmFibGVcbiAgICogd2lsbCBiZWhhdmUgd2hlbiBzdWJzY3JpYmVkIGFuZCBpZiBpdHMgZGVmYXVsdCBiZWhhdmlvciBjYW4gYmUgbW9kaWZpZWQgd2l0aCBhIGBzY2hlZHVsZXJgLlxuICAgKlxuICAgKiAjIyMjIEV4YW1wbGVzXG4gICAqXG4gICAqIFN1YnNjcmliZSB3aXRoIGFuIHtAbGluayBndWlkZS9vYnNlcnZlciBPYnNlcnZlcn1cbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogY29uc3Qgc3VtT2JzZXJ2ZXIgPSB7XG4gICAqICAgc3VtOiAwLFxuICAgKiAgIG5leHQodmFsdWUpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAqICAgICB0aGlzLnN1bSA9IHRoaXMuc3VtICsgdmFsdWU7XG4gICAqICAgfSxcbiAgICogICBlcnJvcigpIHtcbiAgICogICAgIC8vIFdlIGFjdHVhbGx5IGNvdWxkIGp1c3QgcmVtb3ZlIHRoaXMgbWV0aG9kLFxuICAgKiAgICAgLy8gc2luY2Ugd2UgZG8gbm90IHJlYWxseSBjYXJlIGFib3V0IGVycm9ycyByaWdodCBub3cuXG4gICAqICAgfSxcbiAgICogICBjb21wbGV0ZSgpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdTdW0gZXF1YWxzOiAnICsgdGhpcy5zdW0pO1xuICAgKiAgIH1cbiAgICogfTtcbiAgICpcbiAgICogb2YoMSwgMiwgMykgLy8gU3luY2hyb25vdXNseSBlbWl0cyAxLCAyLCAzIGFuZCB0aGVuIGNvbXBsZXRlcy5cbiAgICogICAuc3Vic2NyaWJlKHN1bU9ic2VydmVyKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gJ0FkZGluZzogMSdcbiAgICogLy8gJ0FkZGluZzogMidcbiAgICogLy8gJ0FkZGluZzogMydcbiAgICogLy8gJ1N1bSBlcXVhbHM6IDYnXG4gICAqIGBgYFxuICAgKlxuICAgKiBTdWJzY3JpYmUgd2l0aCBmdW5jdGlvbnMgKHtAbGluayBkZXByZWNhdGlvbnMvc3Vic2NyaWJlLWFyZ3VtZW50cyBkZXByZWNhdGVkfSlcbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJ1xuICAgKlxuICAgKiBsZXQgc3VtID0gMDtcbiAgICpcbiAgICogb2YoMSwgMiwgMykuc3Vic2NyaWJlKFxuICAgKiAgIHZhbHVlID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAqICAgICBzdW0gPSBzdW0gKyB2YWx1ZTtcbiAgICogICB9LFxuICAgKiAgIHVuZGVmaW5lZCxcbiAgICogICAoKSA9PiBjb25zb2xlLmxvZygnU3VtIGVxdWFsczogJyArIHN1bSlcbiAgICogKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gJ0FkZGluZzogMSdcbiAgICogLy8gJ0FkZGluZzogMidcbiAgICogLy8gJ0FkZGluZzogMydcbiAgICogLy8gJ1N1bSBlcXVhbHM6IDYnXG4gICAqIGBgYFxuICAgKlxuICAgKiBDYW5jZWwgYSBzdWJzY3JpcHRpb25cbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogY29uc3Qgc3Vic2NyaXB0aW9uID0gaW50ZXJ2YWwoMTAwMCkuc3Vic2NyaWJlKHtcbiAgICogICBuZXh0KG51bSkge1xuICAgKiAgICAgY29uc29sZS5sb2cobnVtKVxuICAgKiAgIH0sXG4gICAqICAgY29tcGxldGUoKSB7XG4gICAqICAgICAvLyBXaWxsIG5vdCBiZSBjYWxsZWQsIGV2ZW4gd2hlbiBjYW5jZWxsaW5nIHN1YnNjcmlwdGlvbi5cbiAgICogICAgIGNvbnNvbGUubG9nKCdjb21wbGV0ZWQhJyk7XG4gICAqICAgfVxuICAgKiB9KTtcbiAgICpcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XG4gICAqICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAqICAgY29uc29sZS5sb2coJ3Vuc3Vic2NyaWJlZCEnKTtcbiAgICogfSwgMjUwMCk7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vIDAgYWZ0ZXIgMXNcbiAgICogLy8gMSBhZnRlciAyc1xuICAgKiAvLyAndW5zdWJzY3JpYmVkIScgYWZ0ZXIgMi41c1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtPYnNlcnZlcnxGdW5jdGlvbn0gb2JzZXJ2ZXJPck5leHQgKG9wdGlvbmFsKSBFaXRoZXIgYW4gb2JzZXJ2ZXIgd2l0aCBtZXRob2RzIHRvIGJlIGNhbGxlZCxcbiAgICogb3IgdGhlIGZpcnN0IG9mIHRocmVlIHBvc3NpYmxlIGhhbmRsZXJzLCB3aGljaCBpcyB0aGUgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGZyb20gdGhlIHN1YnNjcmliZWRcbiAgICogT2JzZXJ2YWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gYW4gZXJyb3IuIElmIG5vIGVycm9yIGhhbmRsZXIgaXMgcHJvdmlkZWQsXG4gICAqIHRoZSBlcnJvciB3aWxsIGJlIHRocm93biBhc3luY2hyb25vdXNseSBhcyB1bmhhbmRsZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBsZXRlIChvcHRpb25hbCkgQSBoYW5kbGVyIGZvciBhIHRlcm1pbmFsIGV2ZW50IHJlc3VsdGluZyBmcm9tIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICogQHJldHVybiB7U3Vic2NyaXB0aW9ufSBhIHN1YnNjcmlwdGlvbiByZWZlcmVuY2UgdG8gdGhlIHJlZ2lzdGVyZWQgaGFuZGxlcnNcbiAgICogQG1ldGhvZCBzdWJzY3JpYmVcbiAgICovXG4gIHN1YnNjcmliZShcbiAgICBvYnNlcnZlck9yTmV4dD86IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLFxuICAgIGVycm9yPzogKChlcnJvcjogYW55KSA9PiB2b2lkKSB8IG51bGwsXG4gICAgY29tcGxldGU/OiAoKCkgPT4gdm9pZCkgfCBudWxsXG4gICk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IGlzU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCkgPyBvYnNlcnZlck9yTmV4dCA6IG5ldyBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcblxuICAgIGVycm9yQ29udGV4dCgoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdG9yLCBzb3VyY2UgfSA9IHRoaXM7XG4gICAgICBzdWJzY3JpYmVyLmFkZChcbiAgICAgICAgb3BlcmF0b3JcbiAgICAgICAgICA/IC8vIFdlJ3JlIGRlYWxpbmcgd2l0aCBhIHN1YnNjcmlwdGlvbiBpbiB0aGVcbiAgICAgICAgICAgIC8vIG9wZXJhdG9yIGNoYWluIHRvIG9uZSBvZiBvdXIgbGlmdGVkIG9wZXJhdG9ycy5cbiAgICAgICAgICAgIG9wZXJhdG9yLmNhbGwoc3Vic2NyaWJlciwgc291cmNlKVxuICAgICAgICAgIDogc291cmNlXG4gICAgICAgICAgPyAvLyBJZiBgc291cmNlYCBoYXMgYSB2YWx1ZSwgYnV0IGBvcGVyYXRvcmAgZG9lcyBub3QsIHNvbWV0aGluZyB0aGF0XG4gICAgICAgICAgICAvLyBoYWQgaW50aW1hdGUga25vd2xlZGdlIG9mIG91ciBBUEksIGxpa2Ugb3VyIGBTdWJqZWN0YCwgbXVzdCBoYXZlXG4gICAgICAgICAgICAvLyBzZXQgaXQuIFdlJ3JlIGdvaW5nIHRvIGp1c3QgY2FsbCBgX3N1YnNjcmliZWAgZGlyZWN0bHkuXG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICA6IC8vIEluIGFsbCBvdGhlciBjYXNlcywgd2UncmUgbGlrZWx5IHdyYXBwaW5nIGEgdXNlci1wcm92aWRlZCBpbml0aWFsaXplclxuICAgICAgICAgICAgLy8gZnVuY3Rpb24sIHNvIHdlIG5lZWQgdG8gY2F0Y2ggZXJyb3JzIGFuZCBoYW5kbGUgdGhlbSBhcHByb3ByaWF0ZWx5LlxuICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfdHJ5U3Vic2NyaWJlKHNpbms6IFN1YnNjcmliZXI8VD4pOiBUZWFyZG93bkxvZ2ljIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gcmV0dXJuIGFueXRoaW5nIGluIHRoaXMgY2FzZSxcbiAgICAgIC8vIGJlY2F1c2UgaXQncyBqdXN0IGdvaW5nIHRvIHRyeSB0byBgYWRkKClgIHRvIGEgc3Vic2NyaXB0aW9uXG4gICAgICAvLyBhYm92ZS5cbiAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBhcyBhIE5PTi1DQU5DRUxMQUJMRSBtZWFucyBvZiBzdWJzY3JpYmluZyB0byBhbiBvYnNlcnZhYmxlLCBmb3IgdXNlIHdpdGhcbiAgICogQVBJcyB0aGF0IGV4cGVjdCBwcm9taXNlcywgbGlrZSBgYXN5bmMvYXdhaXRgLiBZb3UgY2Fubm90IHVuc3Vic2NyaWJlIGZyb20gdGhpcy5cbiAgICpcbiAgICogKipXQVJOSU5HKio6IE9ubHkgdXNlIHRoaXMgd2l0aCBvYnNlcnZhYmxlcyB5b3UgKmtub3cqIHdpbGwgY29tcGxldGUuIElmIHRoZSBzb3VyY2VcbiAgICogb2JzZXJ2YWJsZSBkb2VzIG5vdCBjb21wbGV0ZSwgeW91IHdpbGwgZW5kIHVwIHdpdGggYSBwcm9taXNlIHRoYXQgaXMgaHVuZyB1cCwgYW5kXG4gICAqIHBvdGVudGlhbGx5IGFsbCBvZiB0aGUgc3RhdGUgb2YgYW4gYXN5bmMgZnVuY3Rpb24gaGFuZ2luZyBvdXQgaW4gbWVtb3J5LiBUbyBhdm9pZFxuICAgKiB0aGlzIHNpdHVhdGlvbiwgbG9vayBpbnRvIGFkZGluZyBzb21ldGhpbmcgbGlrZSB7QGxpbmsgdGltZW91dH0sIHtAbGluayB0YWtlfSxcbiAgICoge0BsaW5rIHRha2VXaGlsZX0sIG9yIHtAbGluayB0YWtlVW50aWx9IGFtb25nc3Qgb3RoZXJzLlxuICAgKlxuICAgKiAjIyMjIEV4YW1wbGVcbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UgfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogY29uc3Qgc291cmNlJCA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg0KSk7XG4gICAqXG4gICAqIGFzeW5jIGZ1bmN0aW9uIGdldFRvdGFsKCkge1xuICAgKiAgIGxldCB0b3RhbCA9IDA7XG4gICAqXG4gICAqICAgYXdhaXQgc291cmNlJC5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICogICAgIHRvdGFsICs9IHZhbHVlO1xuICAgKiAgICAgY29uc29sZS5sb2coJ29ic2VydmFibGUgLT4gJyArIHZhbHVlKTtcbiAgICogICB9KTtcbiAgICpcbiAgICogICByZXR1cm4gdG90YWw7XG4gICAqIH1cbiAgICpcbiAgICogZ2V0VG90YWwoKS50aGVuKFxuICAgKiAgIHRvdGFsID0+IGNvbnNvbGUubG9nKCdUb3RhbDogJyArIHRvdGFsKVxuICAgKiApO1xuICAgKlxuICAgKiAvLyBFeHBlY3RlZDpcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMCdcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMSdcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMidcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMydcbiAgICogLy8gJ1RvdGFsOiA2J1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIG5leHQgYSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIG9ic2VydmFibGVcbiAgICogQHJldHVybiBhIHByb21pc2UgdGhhdCBlaXRoZXIgcmVzb2x2ZXMgb24gb2JzZXJ2YWJsZSBjb21wbGV0aW9uIG9yXG4gICAqICByZWplY3RzIHdpdGggdGhlIGhhbmRsZWQgZXJyb3JcbiAgICovXG4gIGZvckVhY2gobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogQHBhcmFtIG5leHQgYSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIG9ic2VydmFibGVcbiAgICogQHBhcmFtIHByb21pc2VDdG9yIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdXNlZCB0byBpbnN0YW50aWF0ZSB0aGUgUHJvbWlzZVxuICAgKiBAcmV0dXJuIGEgcHJvbWlzZSB0aGF0IGVpdGhlciByZXNvbHZlcyBvbiBvYnNlcnZhYmxlIGNvbXBsZXRpb24gb3JcbiAgICogIHJlamVjdHMgd2l0aCB0aGUgaGFuZGxlZCBlcnJvclxuICAgKiBAZGVwcmVjYXRlZCBQYXNzaW5nIGEgUHJvbWlzZSBjb25zdHJ1Y3RvciB3aWxsIG5vIGxvbmdlciBiZSBhdmFpbGFibGVcbiAgICogaW4gdXBjb21pbmcgdmVyc2lvbnMgb2YgUnhKUy4gVGhpcyBpcyBiZWNhdXNlIGl0IGFkZHMgd2VpZ2h0IHRvIHRoZSBsaWJyYXJ5LCBmb3IgdmVyeVxuICAgKiBsaXR0bGUgYmVuZWZpdC4gSWYgeW91IG5lZWQgdGhpcyBmdW5jdGlvbmFsaXR5LCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBlaXRoZXJcbiAgICogcG9seWZpbGwgUHJvbWlzZSwgb3IgeW91IGNyZWF0ZSBhbiBhZGFwdGVyIHRvIGNvbnZlcnQgdGhlIHJldHVybmVkIG5hdGl2ZSBwcm9taXNlXG4gICAqIHRvIHdoYXRldmVyIHByb21pc2UgaW1wbGVtZW50YXRpb24geW91IHdhbnRlZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgZm9yRWFjaChuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQsIHByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTx2b2lkPjtcblxuICBmb3JFYWNoKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgcHJvbWlzZUN0b3I/OiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG5cbiAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXI8VD4oe1xuICAgICAgICBuZXh0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgIGNvbXBsZXRlOiByZXNvbHZlLFxuICAgICAgfSk7XG4gICAgICB0aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KSBhcyBQcm9taXNlPHZvaWQ+O1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pOiBUZWFyZG93bkxvZ2ljIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2U/LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBpbnRlcm9wIHBvaW50IGRlZmluZWQgYnkgdGhlIGVzNy1vYnNlcnZhYmxlIHNwZWMgaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKiBAbWV0aG9kIFN5bWJvbC5vYnNlcnZhYmxlXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IHRoaXMgaW5zdGFuY2Ugb2YgdGhlIG9ic2VydmFibGVcbiAgICovXG4gIFtTeW1ib2xfb2JzZXJ2YWJsZV0oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgcGlwZSgpOiBPYnNlcnZhYmxlPFQ+O1xuICBwaXBlPEE+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPik6IE9ic2VydmFibGU8QT47XG4gIHBpcGU8QSwgQj4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4pOiBPYnNlcnZhYmxlPEI+O1xuICBwaXBlPEEsIEIsIEM+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4pOiBPYnNlcnZhYmxlPEM+O1xuICBwaXBlPEEsIEIsIEMsIEQ+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPlxuICApOiBPYnNlcnZhYmxlPEQ+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEU+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT5cbiAgKTogT2JzZXJ2YWJsZTxFPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPlxuICApOiBPYnNlcnZhYmxlPEY+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEc+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPlxuICApOiBPYnNlcnZhYmxlPEc+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEg+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPixcbiAgICBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD5cbiAgKTogT2JzZXJ2YWJsZTxIPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPixcbiAgICBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sXG4gICAgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+LFxuICAgIG9wOTogT3BlcmF0b3JGdW5jdGlvbjxILCBJPlxuICApOiBPYnNlcnZhYmxlPEk+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPixcbiAgICBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD4sXG4gICAgb3A5OiBPcGVyYXRvckZ1bmN0aW9uPEgsIEk+LFxuICAgIC4uLm9wZXJhdGlvbnM6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBhbnk+W11cbiAgKTogT2JzZXJ2YWJsZTx1bmtub3duPjtcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuICAvKipcbiAgICogVXNlZCB0byBzdGl0Y2ggdG9nZXRoZXIgZnVuY3Rpb25hbCBvcGVyYXRvcnMgaW50byBhIGNoYWluLlxuICAgKiBAbWV0aG9kIHBpcGVcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gdGhlIE9ic2VydmFibGUgcmVzdWx0IG9mIGFsbCBvZiB0aGUgb3BlcmF0b3JzIGhhdmluZ1xuICAgKiBiZWVuIGNhbGxlZCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHBhc3NlZCBpbi5cbiAgICpcbiAgICogIyMgRXhhbXBsZVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBpbnRlcnZhbCwgZmlsdGVyLCBtYXAsIHNjYW4gfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogaW50ZXJ2YWwoMTAwMClcbiAgICogICAucGlwZShcbiAgICogICAgIGZpbHRlcih4ID0+IHggJSAyID09PSAwKSxcbiAgICogICAgIG1hcCh4ID0+IHggKyB4KSxcbiAgICogICAgIHNjYW4oKGFjYywgeCkgPT4gYWNjICsgeClcbiAgICogICApXG4gICAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAgICogYGBgXG4gICAqL1xuICBwaXBlKC4uLm9wZXJhdGlvbnM6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBhbnk+W10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4gIC8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBmaXJzdFZhbHVlRnJvbX0gYW5kIHtAbGluayBsYXN0VmFsdWVGcm9tfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy90by1wcm9taXNlICovXG4gIHRvUHJvbWlzZSgpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+O1xuICAvKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgZmlyc3RWYWx1ZUZyb219IGFuZCB7QGxpbmsgbGFzdFZhbHVlRnJvbX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvdG8tcHJvbWlzZSAqL1xuICB0b1Byb21pc2UoUHJvbWlzZUN0b3I6IHR5cGVvZiBQcm9taXNlKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGZpcnN0VmFsdWVGcm9tfSBhbmQge0BsaW5rIGxhc3RWYWx1ZUZyb219LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3RvLXByb21pc2UgKi9cbiAgdG9Qcm9taXNlKFByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoaXMgT2JzZXJ2YWJsZSBhbmQgZ2V0IGEgUHJvbWlzZSByZXNvbHZpbmcgb25cbiAgICogYGNvbXBsZXRlYCB3aXRoIHRoZSBsYXN0IGVtaXNzaW9uIChpZiBhbnkpLlxuICAgKlxuICAgKiAqKldBUk5JTkcqKjogT25seSB1c2UgdGhpcyB3aXRoIG9ic2VydmFibGVzIHlvdSAqa25vdyogd2lsbCBjb21wbGV0ZS4gSWYgdGhlIHNvdXJjZVxuICAgKiBvYnNlcnZhYmxlIGRvZXMgbm90IGNvbXBsZXRlLCB5b3Ugd2lsbCBlbmQgdXAgd2l0aCBhIHByb21pc2UgdGhhdCBpcyBodW5nIHVwLCBhbmRcbiAgICogcG90ZW50aWFsbHkgYWxsIG9mIHRoZSBzdGF0ZSBvZiBhbiBhc3luYyBmdW5jdGlvbiBoYW5naW5nIG91dCBpbiBtZW1vcnkuIFRvIGF2b2lkXG4gICAqIHRoaXMgc2l0dWF0aW9uLCBsb29rIGludG8gYWRkaW5nIHNvbWV0aGluZyBsaWtlIHtAbGluayB0aW1lb3V0fSwge0BsaW5rIHRha2V9LFxuICAgKiB7QGxpbmsgdGFrZVdoaWxlfSwgb3Ige0BsaW5rIHRha2VVbnRpbH0gYW1vbmdzdCBvdGhlcnMuXG4gICAqXG4gICAqIEBtZXRob2QgdG9Qcm9taXNlXG4gICAqIEBwYXJhbSBbcHJvbWlzZUN0b3JdIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdXNlZCB0byBpbnN0YW50aWF0ZVxuICAgKiB0aGUgUHJvbWlzZVxuICAgKiBAcmV0dXJuIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGxhc3QgdmFsdWUgZW1pdCwgb3JcbiAgICogcmVqZWN0cyBvbiBhbiBlcnJvci4gSWYgdGhlcmUgd2VyZSBubyBlbWlzc2lvbnMsIFByb21pc2VcbiAgICogcmVzb2x2ZXMgd2l0aCB1bmRlZmluZWQuXG4gICAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGZpcnN0VmFsdWVGcm9tfSBhbmQge0BsaW5rIGxhc3RWYWx1ZUZyb219LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3RvLXByb21pc2VcbiAgICovXG4gIHRvUHJvbWlzZShwcm9taXNlQ3Rvcj86IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+IHtcbiAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcblxuICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHZhbHVlOiBUIHwgdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdWJzY3JpYmUoXG4gICAgICAgICh4OiBUKSA9PiAodmFsdWUgPSB4KSxcbiAgICAgICAgKGVycjogYW55KSA9PiByZWplY3QoZXJyKSxcbiAgICAgICAgKCkgPT4gcmVzb2x2ZSh2YWx1ZSlcbiAgICAgICk7XG4gICAgfSkgYXMgUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgfVxufVxuXG4vKipcbiAqIERlY2lkZXMgYmV0d2VlbiBhIHBhc3NlZCBwcm9taXNlIGNvbnN0cnVjdG9yIGZyb20gY29uc3VtaW5nIGNvZGUsXG4gKiBBIGRlZmF1bHQgY29uZmlndXJlZCBwcm9taXNlIGNvbnN0cnVjdG9yLCBhbmQgdGhlIG5hdGl2ZSBwcm9taXNlXG4gKiBjb25zdHJ1Y3RvciBhbmQgcmV0dXJucyBpdC4gSWYgbm90aGluZyBjYW4gYmUgZm91bmQsIGl0IHdpbGwgdGhyb3dcbiAqIGFuIGVycm9yLlxuICogQHBhcmFtIHByb21pc2VDdG9yIFRoZSBvcHRpb25hbCBwcm9taXNlIGNvbnN0cnVjdG9yIHRvIHBhc3NlZCBieSBjb25zdW1pbmcgY29kZVxuICovXG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3RvcjogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSB8IHVuZGVmaW5lZCkge1xuICByZXR1cm4gcHJvbWlzZUN0b3IgPz8gY29uZmlnLlByb21pc2UgPz8gUHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZlcjxUPih2YWx1ZTogYW55KTogdmFsdWUgaXMgT2JzZXJ2ZXI8VD4ge1xuICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cblxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyPFQ+KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBTdWJzY3JpYmVyPFQ+IHtcbiAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHx8IChpc09ic2VydmVyKHZhbHVlKSAmJiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xuXG4vKipcbiAqIEEgdmFyaWFudCBvZiB7QGxpbmsgU3ViamVjdH0gdGhhdCBcInJlcGxheXNcIiBvbGQgdmFsdWVzIHRvIG5ldyBzdWJzY3JpYmVycyBieSBlbWl0dGluZyB0aGVtIHdoZW4gdGhleSBmaXJzdCBzdWJzY3JpYmUuXG4gKlxuICogYFJlcGxheVN1YmplY3RgIGhhcyBhbiBpbnRlcm5hbCBidWZmZXIgdGhhdCB3aWxsIHN0b3JlIGEgc3BlY2lmaWVkIG51bWJlciBvZiB2YWx1ZXMgdGhhdCBpdCBoYXMgb2JzZXJ2ZWQuIExpa2UgYFN1YmplY3RgLFxuICogYFJlcGxheVN1YmplY3RgIFwib2JzZXJ2ZXNcIiB2YWx1ZXMgYnkgaGF2aW5nIHRoZW0gcGFzc2VkIHRvIGl0cyBgbmV4dGAgbWV0aG9kLiBXaGVuIGl0IG9ic2VydmVzIGEgdmFsdWUsIGl0IHdpbGwgc3RvcmUgdGhhdFxuICogdmFsdWUgZm9yIGEgdGltZSBkZXRlcm1pbmVkIGJ5IHRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBgUmVwbGF5U3ViamVjdGAsIGFzIHBhc3NlZCB0byBpdHMgY29uc3RydWN0b3IuXG4gKlxuICogV2hlbiBhIG5ldyBzdWJzY3JpYmVyIHN1YnNjcmliZXMgdG8gdGhlIGBSZXBsYXlTdWJqZWN0YCBpbnN0YW5jZSwgaXQgd2lsbCBzeW5jaHJvbm91c2x5IGVtaXQgYWxsIHZhbHVlcyBpbiBpdHMgYnVmZmVyIGluXG4gKiBhIEZpcnN0LUluLUZpcnN0LU91dCAoRklGTykgbWFubmVyLiBUaGUgYFJlcGxheVN1YmplY3RgIHdpbGwgYWxzbyBjb21wbGV0ZSwgaWYgaXQgaGFzIG9ic2VydmVkIGNvbXBsZXRpb247IGFuZCBpdCB3aWxsXG4gKiBlcnJvciBpZiBpdCBoYXMgb2JzZXJ2ZWQgYW4gZXJyb3IuXG4gKlxuICogVGhlcmUgYXJlIHR3byBtYWluIGNvbmZpZ3VyYXRpb24gaXRlbXMgdG8gYmUgY29uY2VybmVkIHdpdGg6XG4gKlxuICogMS4gYGJ1ZmZlclNpemVgIC0gVGhpcyB3aWxsIGRldGVybWluZSBob3cgbWFueSBpdGVtcyBhcmUgc3RvcmVkIGluIHRoZSBidWZmZXIsIGRlZmF1bHRzIHRvIGluZmluaXRlLlxuICogMi4gYHdpbmRvd1RpbWVgIC0gVGhlIGFtb3VudCBvZiB0aW1lIHRvIGhvbGQgYSB2YWx1ZSBpbiB0aGUgYnVmZmVyIGJlZm9yZSByZW1vdmluZyBpdCBmcm9tIHRoZSBidWZmZXIuXG4gKlxuICogQm90aCBjb25maWd1cmF0aW9ucyBtYXkgZXhpc3Qgc2ltdWx0YW5lb3VzbHkuIFNvIGlmIHlvdSB3b3VsZCBsaWtlIHRvIGJ1ZmZlciBhIG1heGltdW0gb2YgMyB2YWx1ZXMsIGFzIGxvbmcgYXMgdGhlIHZhbHVlc1xuICogYXJlIGxlc3MgdGhhbiAyIHNlY29uZHMgb2xkLCB5b3UgY291bGQgZG8gc28gd2l0aCBhIGBuZXcgUmVwbGF5U3ViamVjdCgzLCAyMDAwKWAuXG4gKlxuICogIyMjIERpZmZlcmVuY2VzIHdpdGggQmVoYXZpb3JTdWJqZWN0XG4gKlxuICogYEJlaGF2aW9yU3ViamVjdGAgaXMgc2ltaWxhciB0byBgbmV3IFJlcGxheVN1YmplY3QoMSlgLCB3aXRoIGEgY291cGxlIG9mIGV4Y2VwdGlvbnM6XG4gKlxuICogMS4gYEJlaGF2aW9yU3ViamVjdGAgY29tZXMgXCJwcmltZWRcIiB3aXRoIGEgc2luZ2xlIHZhbHVlIHVwb24gY29uc3RydWN0aW9uLlxuICogMi4gYFJlcGxheVN1YmplY3RgIHdpbGwgcmVwbGF5IHZhbHVlcywgZXZlbiBhZnRlciBvYnNlcnZpbmcgYW4gZXJyb3IsIHdoZXJlIGBCZWhhdmlvclN1YmplY3RgIHdpbGwgbm90LlxuICpcbiAqIEBzZWUge0BsaW5rIFN1YmplY3R9XG4gKiBAc2VlIHtAbGluayBCZWhhdmlvclN1YmplY3R9XG4gKiBAc2VlIHtAbGluayBzaGFyZVJlcGxheX1cbiAqL1xuZXhwb3J0IGNsYXNzIFJlcGxheVN1YmplY3Q8VD4gZXh0ZW5kcyBTdWJqZWN0PFQ+IHtcbiAgcHJpdmF0ZSBfYnVmZmVyOiAoVCB8IG51bWJlcilbXSA9IFtdO1xuICBwcml2YXRlIF9pbmZpbml0ZVRpbWVXaW5kb3cgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gYnVmZmVyU2l6ZSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIHRvIHJlcGxheSBvbiBzdWJzY3JpcHRpb25cbiAgICogQHBhcmFtIHdpbmRvd1RpbWUgVGhlIGFtb3VudCBvZiB0aW1lIHRoZSBidWZmZXJlZCBpdGVtcyB3aWxsIHN0YXkgYnVmZmVyZWRcbiAgICogQHBhcmFtIHRpbWVzdGFtcFByb3ZpZGVyIEFuIG9iamVjdCB3aXRoIGEgYG5vdygpYCBtZXRob2QgdGhhdCBwcm92aWRlcyB0aGUgY3VycmVudCB0aW1lc3RhbXAuIFRoaXMgaXMgdXNlZCB0b1xuICAgKiBjYWxjdWxhdGUgdGhlIGFtb3VudCBvZiB0aW1lIHNvbWV0aGluZyBoYXMgYmVlbiBidWZmZXJlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgX2J1ZmZlclNpemUgPSBJbmZpbml0eSxcbiAgICBwcml2YXRlIF93aW5kb3dUaW1lID0gSW5maW5pdHksXG4gICAgcHJpdmF0ZSBfdGltZXN0YW1wUHJvdmlkZXI6IFRpbWVzdGFtcFByb3ZpZGVyID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gX3dpbmRvd1RpbWUgPT09IEluZmluaXR5O1xuICAgIHRoaXMuX2J1ZmZlclNpemUgPSBNYXRoLm1heCgxLCBfYnVmZmVyU2l6ZSk7XG4gICAgdGhpcy5fd2luZG93VGltZSA9IE1hdGgubWF4KDEsIF93aW5kb3dUaW1lKTtcbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGlzU3RvcHBlZCwgX2J1ZmZlciwgX2luZmluaXRlVGltZVdpbmRvdywgX3RpbWVzdGFtcFByb3ZpZGVyLCBfd2luZG93VGltZSB9ID0gdGhpcztcbiAgICBpZiAoIWlzU3RvcHBlZCkge1xuICAgICAgX2J1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICFfaW5maW5pdGVUaW1lV2luZG93ICYmIF9idWZmZXIucHVzaChfdGltZXN0YW1wUHJvdmlkZXIubm93KCkgKyBfd2luZG93VGltZSk7XG4gICAgfVxuICAgIHRoaXMuX3RyaW1CdWZmZXIoKTtcbiAgICBzdXBlci5uZXh0KHZhbHVlKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgIHRoaXMuX3RyaW1CdWZmZXIoKTtcblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRoaXMuX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuXG4gICAgY29uc3QgeyBfaW5maW5pdGVUaW1lV2luZG93LCBfYnVmZmVyIH0gPSB0aGlzO1xuICAgIC8vIFdlIHVzZSBhIGNvcHkgaGVyZSwgc28gcmVlbnRyYW50IGNvZGUgZG9lcyBub3QgbXV0YXRlIG91ciBhcnJheSB3aGlsZSB3ZSdyZVxuICAgIC8vIGVtaXR0aW5nIGl0IHRvIGEgbmV3IHN1YnNjcmliZXIuXG4gICAgY29uc3QgY29weSA9IF9idWZmZXIuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvcHkubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSArPSBfaW5maW5pdGVUaW1lV2luZG93ID8gMSA6IDIpIHtcbiAgICAgIHN1YnNjcmliZXIubmV4dChjb3B5W2ldIGFzIFQpO1xuICAgIH1cblxuICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG5cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBfdHJpbUJ1ZmZlcigpIHtcbiAgICBjb25zdCB7IF9idWZmZXJTaXplLCBfdGltZXN0YW1wUHJvdmlkZXIsIF9idWZmZXIsIF9pbmZpbml0ZVRpbWVXaW5kb3cgfSA9IHRoaXM7XG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBpbmZpbml0ZSBidWZmZXIgc2l6ZSwgYW5kIHdlJ3JlIG92ZXIgdGhlIGxlbmd0aCxcbiAgICAvLyB1c2Ugc3BsaWNlIHRvIHRydW5jYXRlIHRoZSBvbGQgYnVmZmVyIHZhbHVlcyBvZmYuIE5vdGUgdGhhdCB3ZSBoYXZlIHRvXG4gICAgLy8gZG91YmxlIHRoZSBzaXplIGZvciBpbnN0YW5jZXMgd2hlcmUgd2UncmUgbm90IHVzaW5nIGFuIGluZmluaXRlIHRpbWUgd2luZG93XG4gICAgLy8gYmVjYXVzZSB3ZSdyZSBzdG9yaW5nIHRoZSB2YWx1ZXMgYW5kIHRoZSB0aW1lc3RhbXBzIGluIHRoZSBzYW1lIGFycmF5LlxuICAgIGNvbnN0IGFkanVzdGVkQnVmZmVyU2l6ZSA9IChfaW5maW5pdGVUaW1lV2luZG93ID8gMSA6IDIpICogX2J1ZmZlclNpemU7XG4gICAgX2J1ZmZlclNpemUgPCBJbmZpbml0eSAmJiBhZGp1c3RlZEJ1ZmZlclNpemUgPCBfYnVmZmVyLmxlbmd0aCAmJiBfYnVmZmVyLnNwbGljZSgwLCBfYnVmZmVyLmxlbmd0aCAtIGFkanVzdGVkQnVmZmVyU2l6ZSk7XG5cbiAgICAvLyBOb3csIGlmIHdlJ3JlIG5vdCBpbiBhbiBpbmZpbml0ZSB0aW1lIHdpbmRvdywgcmVtb3ZlIGFsbCB2YWx1ZXMgd2hlcmUgdGhlIHRpbWUgaXNcbiAgICAvLyBvbGRlciB0aGFuIHdoYXQgaXMgYWxsb3dlZC5cbiAgICBpZiAoIV9pbmZpbml0ZVRpbWVXaW5kb3cpIHtcbiAgICAgIGNvbnN0IG5vdyA9IF90aW1lc3RhbXBQcm92aWRlci5ub3coKTtcbiAgICAgIGxldCBsYXN0ID0gMDtcbiAgICAgIC8vIFNlYXJjaCB0aGUgYXJyYXkgZm9yIHRoZSBmaXJzdCB0aW1lc3RhbXAgdGhhdCBpc24ndCBleHBpcmVkIGFuZFxuICAgICAgLy8gdHJ1bmNhdGUgdGhlIGJ1ZmZlciB1cCB0byB0aGF0IHBvaW50LlxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBfYnVmZmVyLmxlbmd0aCAmJiAoX2J1ZmZlcltpXSBhcyBudW1iZXIpIDw9IG5vdzsgaSArPSAyKSB7XG4gICAgICAgIGxhc3QgPSBpO1xuICAgICAgfVxuICAgICAgbGFzdCAmJiBfYnVmZmVyLnNwbGljZSgwLCBsYXN0ICsgMSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL3NjaGVkdWxlci9BY3Rpb24nO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSwgU2NoZWR1bGVyQWN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xuXG4vKipcbiAqIEFuIGV4ZWN1dGlvbiBjb250ZXh0IGFuZCBhIGRhdGEgc3RydWN0dXJlIHRvIG9yZGVyIHRhc2tzIGFuZCBzY2hlZHVsZSB0aGVpclxuICogZXhlY3V0aW9uLiBQcm92aWRlcyBhIG5vdGlvbiBvZiAocG90ZW50aWFsbHkgdmlydHVhbCkgdGltZSwgdGhyb3VnaCB0aGVcbiAqIGBub3coKWAgZ2V0dGVyIG1ldGhvZC5cbiAqXG4gKiBFYWNoIHVuaXQgb2Ygd29yayBpbiBhIFNjaGVkdWxlciBpcyBjYWxsZWQgYW4gYEFjdGlvbmAuXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIFNjaGVkdWxlciB7XG4gKiAgIG5vdygpOiBudW1iZXI7XG4gKiAgIHNjaGVkdWxlKHdvcmssIGRlbGF5Pywgc3RhdGU/KTogU3Vic2NyaXB0aW9uO1xuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzIFNjaGVkdWxlclxuICogQGRlcHJlY2F0ZWQgU2NoZWR1bGVyIGlzIGFuIGludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCBvZiBSeEpTLCBhbmRcbiAqIHNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseS4gUmF0aGVyLCBjcmVhdGUgeW91ciBvd24gY2xhc3MgYW5kIGltcGxlbWVudFxuICoge0BsaW5rIFNjaGVkdWxlckxpa2V9LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gKi9cbmV4cG9ydCBjbGFzcyBTY2hlZHVsZXIgaW1wbGVtZW50cyBTY2hlZHVsZXJMaWtlIHtcbiAgcHVibGljIHN0YXRpYyBub3c6ICgpID0+IG51bWJlciA9IGRhdGVUaW1lc3RhbXBQcm92aWRlci5ub3c7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzY2hlZHVsZXJBY3Rpb25DdG9yOiB0eXBlb2YgQWN0aW9uLCBub3c6ICgpID0+IG51bWJlciA9IFNjaGVkdWxlci5ub3cpIHtcbiAgICB0aGlzLm5vdyA9IG5vdztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGdldHRlciBtZXRob2QgdGhhdCByZXR1cm5zIGEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCB0aW1lXG4gICAqIChhdCB0aGUgdGltZSB0aGlzIGZ1bmN0aW9uIHdhcyBjYWxsZWQpIGFjY29yZGluZyB0byB0aGUgc2NoZWR1bGVyJ3Mgb3duXG4gICAqIGludGVybmFsIGNsb2NrLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCB0aW1lLiBNYXkgb3IgbWF5IG5vdFxuICAgKiBoYXZlIGEgcmVsYXRpb24gdG8gd2FsbC1jbG9jayB0aW1lLiBNYXkgb3IgbWF5IG5vdCByZWZlciB0byBhIHRpbWUgdW5pdFxuICAgKiAoZS5nLiBtaWxsaXNlY29uZHMpLlxuICAgKi9cbiAgcHVibGljIG5vdzogKCkgPT4gbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYSBmdW5jdGlvbiwgYHdvcmtgLCBmb3IgZXhlY3V0aW9uLiBNYXkgaGFwcGVuIGF0IHNvbWUgcG9pbnQgaW5cbiAgICogdGhlIGZ1dHVyZSwgYWNjb3JkaW5nIHRvIHRoZSBgZGVsYXlgIHBhcmFtZXRlciwgaWYgc3BlY2lmaWVkLiBNYXkgYmUgcGFzc2VkXG4gICAqIHNvbWUgY29udGV4dCBvYmplY3QsIGBzdGF0ZWAsIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBgd29ya2AgZnVuY3Rpb24uXG4gICAqXG4gICAqIFRoZSBnaXZlbiBhcmd1bWVudHMgd2lsbCBiZSBwcm9jZXNzZWQgYW4gc3RvcmVkIGFzIGFuIEFjdGlvbiBvYmplY3QgaW4gYVxuICAgKiBxdWV1ZSBvZiBhY3Rpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0YXRlOiA/VCk6ID9TdWJzY3JpcHRpb259IHdvcmsgQSBmdW5jdGlvbiByZXByZXNlbnRpbmcgYVxuICAgKiB0YXNrLCBvciBzb21lIHVuaXQgb2Ygd29yayB0byBiZSBleGVjdXRlZCBieSB0aGUgU2NoZWR1bGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbGF5XSBUaW1lIHRvIHdhaXQgYmVmb3JlIGV4ZWN1dGluZyB0aGUgd29yaywgd2hlcmUgdGhlXG4gICAqIHRpbWUgdW5pdCBpcyBpbXBsaWNpdCBhbmQgZGVmaW5lZCBieSB0aGUgU2NoZWR1bGVyIGl0c2VsZi5cbiAgICogQHBhcmFtIHtUfSBbc3RhdGVdIFNvbWUgY29udGV4dHVhbCBkYXRhIHRoYXQgdGhlIGB3b3JrYCBmdW5jdGlvbiB1c2VzIHdoZW5cbiAgICogY2FsbGVkIGJ5IHRoZSBTY2hlZHVsZXIuXG4gICAqIEByZXR1cm4ge1N1YnNjcmlwdGlvbn0gQSBzdWJzY3JpcHRpb24gaW4gb3JkZXIgdG8gYmUgYWJsZSB0byB1bnN1YnNjcmliZVxuICAgKiB0aGUgc2NoZWR1bGVkIHdvcmsuXG4gICAqL1xuICBwdWJsaWMgc2NoZWR1bGU8VD4od29yazogKHRoaXM6IFNjaGVkdWxlckFjdGlvbjxUPiwgc3RhdGU/OiBUKSA9PiB2b2lkLCBkZWxheTogbnVtYmVyID0gMCwgc3RhdGU/OiBUKTogU3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuc2NoZWR1bGVyQWN0aW9uQ3RvcjxUPih0aGlzLCB3b3JrKS5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4vT3BlcmF0b3InO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgRU1QVFlfU1VCU0NSSVBUSU9OIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2ZXIsIFN1YnNjcmlwdGlvbkxpa2UsIFRlYXJkb3duTG9naWMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xuaW1wb3J0IHsgZXJyb3JDb250ZXh0IH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG5cbi8qKlxuICogQSBTdWJqZWN0IGlzIGEgc3BlY2lhbCB0eXBlIG9mIE9ic2VydmFibGUgdGhhdCBhbGxvd3MgdmFsdWVzIHRvIGJlXG4gKiBtdWx0aWNhc3RlZCB0byBtYW55IE9ic2VydmVycy4gU3ViamVjdHMgYXJlIGxpa2UgRXZlbnRFbWl0dGVycy5cbiAqXG4gKiBFdmVyeSBTdWJqZWN0IGlzIGFuIE9ic2VydmFibGUgYW5kIGFuIE9ic2VydmVyLiBZb3UgY2FuIHN1YnNjcmliZSB0byBhXG4gKiBTdWJqZWN0LCBhbmQgeW91IGNhbiBjYWxsIG5leHQgdG8gZmVlZCB2YWx1ZXMgYXMgd2VsbCBhcyBlcnJvciBhbmQgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJqZWN0PFQ+IGV4dGVuZHMgT2JzZXJ2YWJsZTxUPiBpbXBsZW1lbnRzIFN1YnNjcmlwdGlvbkxpa2Uge1xuICBjbG9zZWQgPSBmYWxzZTtcblxuICBwcml2YXRlIGN1cnJlbnRPYnNlcnZlcnM6IE9ic2VydmVyPFQ+W10gfCBudWxsID0gbnVsbDtcblxuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIG9ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSA9IFtdO1xuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIGlzU3RvcHBlZCA9IGZhbHNlO1xuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIGhhc0Vycm9yID0gZmFsc2U7XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgdGhyb3duRXJyb3I6IGFueSA9IG51bGw7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBcInN1YmplY3RcIiBieSBiYXNpY2FsbHkgZ2x1aW5nIGFuIG9ic2VydmVyIHRvIGFuIG9ic2VydmFibGUuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIFJlY29tbWVuZGVkIHlvdSBkbyBub3QgdXNlLiBXaWxsIGJlIHJlbW92ZWQgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLiBQbGFucyBmb3IgcmVwbGFjZW1lbnQgc3RpbGwgdW5kZXIgZGlzY3Vzc2lvbi5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGU6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55ID0gPFQ+KGRlc3RpbmF0aW9uOiBPYnNlcnZlcjxUPiwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogQW5vbnltb3VzU3ViamVjdDxUPiA9PiB7XG4gICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0PFQ+KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIE5PVEU6IFRoaXMgbXVzdCBiZSBoZXJlIHRvIG9ic2N1cmUgT2JzZXJ2YWJsZSdzIGNvbnN0cnVjdG9yLlxuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIGxpZnQ8Uj4ob3BlcmF0b3I6IE9wZXJhdG9yPFQsIFI+KTogT2JzZXJ2YWJsZTxSPiB7XG4gICAgY29uc3Qgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvciBhcyBhbnk7XG4gICAgcmV0dXJuIHN1YmplY3QgYXMgYW55O1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3Rocm93SWZDbG9zZWQoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KHZhbHVlOiBUKSB7XG4gICAgZXJyb3JDb250ZXh0KCgpID0+IHtcbiAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRPYnNlcnZlcnMpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBBcnJheS5mcm9tKHRoaXMub2JzZXJ2ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMuY3VycmVudE9ic2VydmVycykge1xuICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSkge1xuICAgIGVycm9yQ29udGV4dCgoKSA9PiB7XG4gICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgIGNvbnN0IHsgb2JzZXJ2ZXJzIH0gPSB0aGlzO1xuICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgIG9ic2VydmVycy5zaGlmdCgpIS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb21wbGV0ZSgpIHtcbiAgICBlcnJvckNvbnRleHQoKCkgPT4ge1xuICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHsgb2JzZXJ2ZXJzIH0gPSB0aGlzO1xuICAgICAgICB3aGlsZSAob2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgIG9ic2VydmVycy5zaGlmdCgpIS5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICB0aGlzLmlzU3RvcHBlZCA9IHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICB0aGlzLm9ic2VydmVycyA9IHRoaXMuY3VycmVudE9ic2VydmVycyA9IG51bGwhO1xuICB9XG5cbiAgZ2V0IG9ic2VydmVkKCkge1xuICAgIHJldHVybiB0aGlzLm9ic2VydmVycz8ubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFRlYXJkb3duTG9naWMge1xuICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICByZXR1cm4gc3VwZXIuX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG4gICAgcmV0dXJuIHRoaXMuX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX2lubmVyU3Vic2NyaWJlKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55Pikge1xuICAgIGNvbnN0IHsgaGFzRXJyb3IsIGlzU3RvcHBlZCwgb2JzZXJ2ZXJzIH0gPSB0aGlzO1xuICAgIGlmIChoYXNFcnJvciB8fCBpc1N0b3BwZWQpIHtcbiAgICAgIHJldHVybiBFTVBUWV9TVUJTQ1JJUFRJT047XG4gICAgfVxuICAgIHRoaXMuY3VycmVudE9ic2VydmVycyA9IG51bGw7XG4gICAgb2JzZXJ2ZXJzLnB1c2goc3Vic2NyaWJlcik7XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24oKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgICAgIGFyclJlbW92ZShvYnNlcnZlcnMsIHN1YnNjcmliZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSB7XG4gICAgY29uc3QgeyBoYXNFcnJvciwgdGhyb3duRXJyb3IsIGlzU3RvcHBlZCB9ID0gdGhpcztcbiAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhyb3duRXJyb3IpO1xuICAgIH0gZWxzZSBpZiAoaXNTdG9wcGVkKSB7XG4gICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgT2JzZXJ2YWJsZSB3aXRoIHRoaXMgU3ViamVjdCBhcyB0aGUgc291cmNlLiBZb3UgY2FuIGRvIHRoaXNcbiAgICogdG8gY3JlYXRlIGN1c3RvbSBPYnNlcnZlci1zaWRlIGxvZ2ljIG9mIHRoZSBTdWJqZWN0IGFuZCBjb25jZWFsIGl0IGZyb21cbiAgICogY29kZSB0aGF0IHVzZXMgdGhlIE9ic2VydmFibGUuXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IE9ic2VydmFibGUgdGhhdCB0aGUgU3ViamVjdCBjYXN0cyB0b1xuICAgKi9cbiAgYXNPYnNlcnZhYmxlKCk6IE9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IG9ic2VydmFibGU6IGFueSA9IG5ldyBPYnNlcnZhYmxlPFQ+KCk7XG4gICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICB9XG59XG5cbi8qKlxuICogQGNsYXNzIEFub255bW91c1N1YmplY3Q8VD5cbiAqL1xuZXhwb3J0IGNsYXNzIEFub255bW91c1N1YmplY3Q8VD4gZXh0ZW5kcyBTdWJqZWN0PFQ+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICAgIHB1YmxpYyBkZXN0aW5hdGlvbj86IE9ic2VydmVyPFQ+LFxuICAgIHNvdXJjZT86IE9ic2VydmFibGU8VD5cbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uPy5uZXh0Py4odmFsdWUpO1xuICB9XG5cbiAgZXJyb3IoZXJyOiBhbnkpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uPy5lcnJvcj8uKGVycik7XG4gIH1cblxuICBjb21wbGV0ZSgpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uPy5jb21wbGV0ZT8uKCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfc3Vic2NyaWJlKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pOiBTdWJzY3JpcHRpb24ge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZT8uc3Vic2NyaWJlKHN1YnNjcmliZXIpID8/IEVNUFRZX1NVQlNDUklQVElPTjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IE9ic2VydmVyLCBPYnNlcnZhYmxlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7IG5leHROb3RpZmljYXRpb24sIGVycm9yTm90aWZpY2F0aW9uLCBDT01QTEVURV9OT1RJRklDQVRJT04gfSBmcm9tICcuL05vdGlmaWNhdGlvbkZhY3Rvcmllcyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xuaW1wb3J0IHsgY2FwdHVyZUVycm9yIH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIE9ic2VydmVyfSBpbnRlcmZhY2UgYW5kIGV4dGVuZHMgdGhlXG4gKiB7QGxpbmsgU3Vic2NyaXB0aW9ufSBjbGFzcy4gV2hpbGUgdGhlIHtAbGluayBPYnNlcnZlcn0gaXMgdGhlIHB1YmxpYyBBUEkgZm9yXG4gKiBjb25zdW1pbmcgdGhlIHZhbHVlcyBvZiBhbiB7QGxpbmsgT2JzZXJ2YWJsZX0sIGFsbCBPYnNlcnZlcnMgZ2V0IGNvbnZlcnRlZCB0b1xuICogYSBTdWJzY3JpYmVyLCBpbiBvcmRlciB0byBwcm92aWRlIFN1YnNjcmlwdGlvbi1saWtlIGNhcGFiaWxpdGllcyBzdWNoIGFzXG4gKiBgdW5zdWJzY3JpYmVgLiBTdWJzY3JpYmVyIGlzIGEgY29tbW9uIHR5cGUgaW4gUnhKUywgYW5kIGNydWNpYWwgZm9yXG4gKiBpbXBsZW1lbnRpbmcgb3BlcmF0b3JzLCBidXQgaXQgaXMgcmFyZWx5IHVzZWQgYXMgYSBwdWJsaWMgQVBJLlxuICpcbiAqIEBjbGFzcyBTdWJzY3JpYmVyPFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaXB0aW9uIGltcGxlbWVudHMgT2JzZXJ2ZXI8VD4ge1xuICAvKipcbiAgICogQSBzdGF0aWMgZmFjdG9yeSBmb3IgYSBTdWJzY3JpYmVyLCBnaXZlbiBhIChwb3RlbnRpYWxseSBwYXJ0aWFsKSBkZWZpbml0aW9uXG4gICAqIG9mIGFuIE9ic2VydmVyLlxuICAgKiBAcGFyYW0gbmV4dCBUaGUgYG5leHRgIGNhbGxiYWNrIG9mIGFuIE9ic2VydmVyLlxuICAgKiBAcGFyYW0gZXJyb3IgVGhlIGBlcnJvcmAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqIEBwYXJhbSBjb21wbGV0ZSBUaGUgYGNvbXBsZXRlYCBjYWxsYmFjayBvZiBhblxuICAgKiBPYnNlcnZlci5cbiAgICogQHJldHVybiBBIFN1YnNjcmliZXIgd3JhcHBpbmcgdGhlIChwYXJ0aWFsbHkgZGVmaW5lZClcbiAgICogT2JzZXJ2ZXIgcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIGFyZ3VtZW50cy5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgRG8gbm90IHVzZS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiBUaGVyZSBpcyBubyByZXBsYWNlbWVudCBmb3IgdGhpc1xuICAgKiBtZXRob2QsIGFuZCB0aGVyZSBpcyBubyByZWFzb24gdG8gYmUgY3JlYXRpbmcgaW5zdGFuY2VzIG9mIGBTdWJzY3JpYmVyYCBkaXJlY3RseS5cbiAgICogSWYgeW91IGhhdmUgYSBzcGVjaWZpYyB1c2UgY2FzZSwgcGxlYXNlIGZpbGUgYW4gaXNzdWUuXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlPFQ+KG5leHQ/OiAoeD86IFQpID0+IHZvaWQsIGVycm9yPzogKGU/OiBhbnkpID0+IHZvaWQsIGNvbXBsZXRlPzogKCkgPT4gdm9pZCk6IFN1YnNjcmliZXI8VD4ge1xuICAgIHJldHVybiBuZXcgU2FmZVN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgcHJvdGVjdGVkIGlzU3RvcHBlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIHByb3RlY3RlZCBkZXN0aW5hdGlvbjogU3Vic2NyaWJlcjxhbnk+IHwgT2JzZXJ2ZXI8YW55PjsgLy8gdGhpcyBgYW55YCBpcyB0aGUgZXNjYXBlIGhhdGNoIHRvIGVyYXNlIGV4dHJhIHR5cGUgcGFyYW0gKGUuZy4gUilcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gICAqIFRoZXJlIGlzIG5vIHJlYXNvbiB0byBkaXJlY3RseSBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgU3Vic2NyaWJlci4gVGhpcyB0eXBlIGlzIGV4cG9ydGVkIGZvciB0eXBpbmdzIHJlYXNvbnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXN0aW5hdGlvbj86IFN1YnNjcmliZXI8YW55PiB8IE9ic2VydmVyPGFueT4pIHtcbiAgICBzdXBlcigpO1xuICAgIGlmIChkZXN0aW5hdGlvbikge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgLy8gQXV0b21hdGljYWxseSBjaGFpbiBzdWJzY3JpcHRpb25zIHRvZ2V0aGVyIGhlcmUuXG4gICAgICAvLyBpZiBkZXN0aW5hdGlvbiBpcyBhIFN1YnNjcmlwdGlvbiwgdGhlbiBpdCBpcyBhIFN1YnNjcmliZXIuXG4gICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IEVNUFRZX09CU0VSVkVSO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMgb2YgdHlwZSBgbmV4dGAgZnJvbVxuICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhIHZhbHVlLiBUaGUgT2JzZXJ2YWJsZSBtYXkgY2FsbCB0aGlzIG1ldGhvZCAwIG9yIG1vcmVcbiAgICogdGltZXMuXG4gICAqIEBwYXJhbSB7VH0gW3ZhbHVlXSBUaGUgYG5leHRgIHZhbHVlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbmV4dCh2YWx1ZT86IFQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9uZXh0KHZhbHVlISk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBvZiB0eXBlIGBlcnJvcmAgZnJvbVxuICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhbiBhdHRhY2hlZCBgRXJyb3JgLiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdFxuICAgKiB0aGUgT2JzZXJ2YWJsZSBoYXMgZXhwZXJpZW5jZWQgYW4gZXJyb3IgY29uZGl0aW9uLlxuICAgKiBAcGFyYW0ge2FueX0gW2Vycl0gVGhlIGBlcnJvcmAgZXhjZXB0aW9uLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZXJyb3IoZXJyPzogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKGVycm9yTm90aWZpY2F0aW9uKGVyciksIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIGEgdmFsdWVsZXNzIG5vdGlmaWNhdGlvbiBvZiB0eXBlXG4gICAqIGBjb21wbGV0ZWAgZnJvbSB0aGUgT2JzZXJ2YWJsZS4gTm90aWZpZXMgdGhlIE9ic2VydmVyIHRoYXQgdGhlIE9ic2VydmFibGVcbiAgICogaGFzIGZpbmlzaGVkIHNlbmRpbmcgcHVzaC1iYXNlZCBub3RpZmljYXRpb25zLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgc3VwZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsITtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX25leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9lcnJvcihlcnI6IGFueSk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX2NvbXBsZXRlKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGJpbmQgaXMgY2FwdHVyZWQgaGVyZSBiZWNhdXNlIHdlIHdhbnQgdG8gYmUgYWJsZSB0byBoYXZlXG4gKiBjb21wYXRpYmlsaXR5IHdpdGggbW9ub2lkIGxpYnJhcmllcyB0aGF0IHRlbmQgdG8gdXNlIGEgbWV0aG9kIG5hbWVkXG4gKiBgYmluZGAuIEluIHBhcnRpY3VsYXIsIGEgbGlicmFyeSBjYWxsZWQgTW9uaW8gcmVxdWlyZXMgdGhpcy5cbiAqL1xuY29uc3QgX2JpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcblxuZnVuY3Rpb24gYmluZDxGbiBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihmbjogRm4sIHRoaXNBcmc6IGFueSk6IEZuIHtcbiAgcmV0dXJuIF9iaW5kLmNhbGwoZm4sIHRoaXNBcmcpO1xufVxuXG4vKipcbiAqIEludGVybmFsIG9wdGltaXphdGlvbiBvbmx5LCBETyBOT1QgRVhQT1NFLlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIENvbnN1bWVyT2JzZXJ2ZXI8VD4gaW1wbGVtZW50cyBPYnNlcnZlcjxUPiB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFydGlhbE9ic2VydmVyOiBQYXJ0aWFsPE9ic2VydmVyPFQ+Pikge31cblxuICBuZXh0KHZhbHVlOiBUKTogdm9pZCB7XG4gICAgY29uc3QgeyBwYXJ0aWFsT2JzZXJ2ZXIgfSA9IHRoaXM7XG4gICAgaWYgKHBhcnRpYWxPYnNlcnZlci5uZXh0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoZXJyOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCB7IHBhcnRpYWxPYnNlcnZlciB9ID0gdGhpcztcbiAgICBpZiAocGFydGlhbE9ic2VydmVyLmVycm9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IHBhcnRpYWxPYnNlcnZlciB9ID0gdGhpcztcbiAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNhZmVTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaWJlcjxUPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsXG4gICAgZXJyb3I/OiAoKGU/OiBhbnkpID0+IHZvaWQpIHwgbnVsbCxcbiAgICBjb21wbGV0ZT86ICgoKSA9PiB2b2lkKSB8IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGxldCBwYXJ0aWFsT2JzZXJ2ZXI6IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+O1xuICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCAhb2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgIC8vIFRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBub3QgYW4gb2JzZXJ2ZXIuIFRoZSBuZXh0XG4gICAgICAvLyB0d28gYXJndW1lbnRzICpjb3VsZCogYmUgb2JzZXJ2ZXJzLCBvciB0aGV5IGNvdWxkIGJlIGVtcHR5LlxuICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICBuZXh0OiAob2JzZXJ2ZXJPck5leHQgPz8gdW5kZWZpbmVkKSBhcyAoKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCB1bmRlZmluZWQpLFxuICAgICAgICBlcnJvcjogZXJyb3IgPz8gdW5kZWZpbmVkLFxuICAgICAgICBjb21wbGV0ZTogY29tcGxldGUgPz8gdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgcGFydGlhbCBvYnNlcnZlci5cbiAgICAgIGxldCBjb250ZXh0OiBhbnk7XG4gICAgICBpZiAodGhpcyAmJiBjb25maWcudXNlRGVwcmVjYXRlZE5leHRDb250ZXh0KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBkZXByZWNhdGVkIHBhdGggdGhhdCBtYWRlIGB0aGlzLnVuc3Vic2NyaWJlKClgIGF2YWlsYWJsZSBpblxuICAgICAgICAvLyBuZXh0IGhhbmRsZXIgZnVuY3Rpb25zIHBhc3NlZCB0byBzdWJzY3JpYmUuIFRoaXMgb25seSBleGlzdHMgYmVoaW5kIGEgZmxhZ1xuICAgICAgICAvLyBub3csIGFzIGl0IGlzICp2ZXJ5KiBzbG93LlxuICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSAoKSA9PiB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICBuZXh0OiBvYnNlcnZlck9yTmV4dC5uZXh0ICYmIGJpbmQob2JzZXJ2ZXJPck5leHQubmV4dCwgY29udGV4dCksXG4gICAgICAgICAgZXJyb3I6IG9ic2VydmVyT3JOZXh0LmVycm9yICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuZXJyb3IsIGNvbnRleHQpLFxuICAgICAgICAgIGNvbXBsZXRlOiBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlLCBjb250ZXh0KSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoZSBcIm5vcm1hbFwiIHBhdGguIEp1c3QgdXNlIHRoZSBwYXJ0aWFsIG9ic2VydmVyIGRpcmVjdGx5LlxuICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXcmFwIHRoZSBwYXJ0aWFsIG9ic2VydmVyIHRvIGVuc3VyZSBpdCdzIGEgZnVsbCBvYnNlcnZlciwgYW5kXG4gICAgLy8gbWFrZSBzdXJlIHByb3BlciBlcnJvciBoYW5kbGluZyBpcyBhY2NvdW50ZWQgZm9yLlxuICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yOiBhbnkpIHtcbiAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgY2FwdHVyZUVycm9yKGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZGVhbCBwYXRoLCB3ZSByZXBvcnQgdGhpcyBhcyBhbiB1bmhhbmRsZWQgZXJyb3IsXG4gICAgLy8gd2hpY2ggaXMgdGhyb3duIG9uIGEgbmV3IGNhbGwgc3RhY2suXG4gICAgcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogQW4gZXJyb3IgaGFuZGxlciB1c2VkIHdoZW4gbm8gZXJyb3IgaGFuZGxlciB3YXMgc3VwcGxpZWRcbiAqIHRvIHRoZSBTYWZlU3Vic2NyaWJlciAtLSBtZWFuaW5nIG5vIGVycm9yIGhhbmRsZXIgd2FzIHN1cHBsaWVkXG4gKiBkbyB0aGUgYHN1YnNjcmliZWAgY2FsbCBvbiBvdXIgb2JzZXJ2YWJsZS5cbiAqIEBwYXJhbSBlcnIgVGhlIGVycm9yIHRvIGhhbmRsZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JIYW5kbGVyKGVycjogYW55KSB7XG4gIHRocm93IGVycjtcbn1cblxuLyoqXG4gKiBBIGhhbmRsZXIgZm9yIG5vdGlmaWNhdGlvbnMgdGhhdCBjYW5ub3QgYmUgc2VudCB0byBhIHN0b3BwZWQgc3Vic2NyaWJlci5cbiAqIEBwYXJhbSBub3RpZmljYXRpb24gVGhlIG5vdGlmaWNhdGlvbiBiZWluZyBzZW50XG4gKiBAcGFyYW0gc3Vic2NyaWJlciBUaGUgc3RvcHBlZCBzdWJzY3JpYmVyXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBPYnNlcnZhYmxlTm90aWZpY2F0aW9uPGFueT4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55Pikge1xuICBjb25zdCB7IG9uU3RvcHBlZE5vdGlmaWNhdGlvbiB9ID0gY29uZmlnO1xuICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoKCkgPT4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikpO1xufVxuXG4vKipcbiAqIFRoZSBvYnNlcnZlciB1c2VkIGFzIGEgc3R1YiBmb3Igc3Vic2NyaXB0aW9ucyB3aGVyZSB0aGUgdXNlciBkaWQgbm90XG4gKiBwYXNzIGFueSBhcmd1bWVudHMgdG8gYHN1YnNjcmliZWAuIENvbWVzIHdpdGggdGhlIGRlZmF1bHQgZXJyb3IgaGFuZGxpbmdcbiAqIGJlaGF2aW9yLlxuICovXG5leHBvcnQgY29uc3QgRU1QVFlfT0JTRVJWRVI6IFJlYWRvbmx5PE9ic2VydmVyPGFueT4+ICYgeyBjbG9zZWQ6IHRydWUgfSA9IHtcbiAgY2xvc2VkOiB0cnVlLFxuICBuZXh0OiBub29wLFxuICBlcnJvcjogZGVmYXVsdEVycm9ySGFuZGxlcixcbiAgY29tcGxldGU6IG5vb3AsXG59O1xuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25MaWtlLCBUZWFyZG93bkxvZ2ljLCBVbnN1YnNjcmliYWJsZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGRpc3Bvc2FibGUgcmVzb3VyY2UsIHN1Y2ggYXMgdGhlIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlLiBBXG4gKiBTdWJzY3JpcHRpb24gaGFzIG9uZSBpbXBvcnRhbnQgbWV0aG9kLCBgdW5zdWJzY3JpYmVgLCB0aGF0IHRha2VzIG5vIGFyZ3VtZW50XG4gKiBhbmQganVzdCBkaXNwb3NlcyB0aGUgcmVzb3VyY2UgaGVsZCBieSB0aGUgc3Vic2NyaXB0aW9uLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgc3Vic2NyaXB0aW9ucyBtYXkgYmUgZ3JvdXBlZCB0b2dldGhlciB0aHJvdWdoIHRoZSBgYWRkKClgXG4gKiBtZXRob2QsIHdoaWNoIHdpbGwgYXR0YWNoIGEgY2hpbGQgU3Vic2NyaXB0aW9uIHRvIHRoZSBjdXJyZW50IFN1YnNjcmlwdGlvbi5cbiAqIFdoZW4gYSBTdWJzY3JpcHRpb24gaXMgdW5zdWJzY3JpYmVkLCBhbGwgaXRzIGNoaWxkcmVuIChhbmQgaXRzIGdyYW5kY2hpbGRyZW4pXG4gKiB3aWxsIGJlIHVuc3Vic2NyaWJlZCBhcyB3ZWxsLlxuICpcbiAqIEBjbGFzcyBTdWJzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvbiBpbXBsZW1lbnRzIFN1YnNjcmlwdGlvbkxpa2Uge1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHVibGljIHN0YXRpYyBFTVBUWSA9ICgoKSA9PiB7XG4gICAgY29uc3QgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gZW1wdHk7XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgU3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLlxuICAgKi9cbiAgcHVibGljIGNsb3NlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX3BhcmVudGFnZTogU3Vic2NyaXB0aW9uW10gfCBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcmVnaXN0ZXJlZCBmaW5hbGl6ZXJzIHRvIGV4ZWN1dGUgdXBvbiB1bnN1YnNjcmlwdGlvbi4gQWRkaW5nIGFuZCByZW1vdmluZyBmcm9tIHRoaXNcbiAgICogbGlzdCBvY2N1cnMgaW4gdGhlIHtAbGluayAjYWRkfSBhbmQge0BsaW5rICNyZW1vdmV9IG1ldGhvZHMuXG4gICAqL1xuICBwcml2YXRlIF9maW5hbGl6ZXJzOiBFeGNsdWRlPFRlYXJkb3duTG9naWMsIHZvaWQ+W10gfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIGluaXRpYWxUZWFyZG93biBBIGZ1bmN0aW9uIGV4ZWN1dGVkIGZpcnN0IGFzIHBhcnQgb2YgdGhlIGZpbmFsaXphdGlvblxuICAgKiBwcm9jZXNzIHRoYXQgaXMga2lja2VkIG9mZiB3aGVuIHtAbGluayAjdW5zdWJzY3JpYmV9IGlzIGNhbGxlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5pdGlhbFRlYXJkb3duPzogKCkgPT4gdm9pZCkge31cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uIE1heSwgZm9yIGluc3RhbmNlLCBjYW5jZWxcbiAgICogYW4gb25nb2luZyBPYnNlcnZhYmxlIGV4ZWN1dGlvbiBvciBjYW5jZWwgYW55IG90aGVyIHR5cGUgb2Ygd29yayB0aGF0XG4gICAqIHN0YXJ0ZWQgd2hlbiB0aGUgU3Vic2NyaXB0aW9uIHdhcyBjcmVhdGVkLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdW5zdWJzY3JpYmUoKTogdm9pZCB7XG4gICAgbGV0IGVycm9yczogYW55W10gfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGlzIGZyb20gaXQncyBwYXJlbnRzLlxuICAgICAgY29uc3QgeyBfcGFyZW50YWdlIH0gPSB0aGlzO1xuICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcmVudCBvZiBfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfcGFyZW50YWdlLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGluaXRpYWxUZWFyZG93bjogaW5pdGlhbEZpbmFsaXplciB9ID0gdGhpcztcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaW5pdGlhbEZpbmFsaXplcigpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IF9maW5hbGl6ZXJzIH0gPSB0aGlzO1xuICAgICAgaWYgKF9maW5hbGl6ZXJzKSB7XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplcnMgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbmFsaXplciBvZiBfZmluYWxpemVycykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleGVjRmluYWxpemVyKGZpbmFsaXplcik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgPz8gW107XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICBlcnJvcnMgPSBbLi4uZXJyb3JzLCAuLi5lcnIuZXJyb3JzXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGZpbmFsaXplciB0byB0aGlzIHN1YnNjcmlwdGlvbiwgc28gdGhhdCBmaW5hbGl6YXRpb24gd2lsbCBiZSB1bnN1YnNjcmliZWQvY2FsbGVkXG4gICAqIHdoZW4gdGhpcyBzdWJzY3JpcHRpb24gaXMgdW5zdWJzY3JpYmVkLiBJZiB0aGlzIHN1YnNjcmlwdGlvbiBpcyBhbHJlYWR5IHtAbGluayAjY2xvc2VkfSxcbiAgICogYmVjYXVzZSBpdCBoYXMgYWxyZWFkeSBiZWVuIHVuc3Vic2NyaWJlZCwgdGhlbiB3aGF0ZXZlciBmaW5hbGl6ZXIgaXMgcGFzc2VkIHRvIGl0XG4gICAqIHdpbGwgYXV0b21hdGljYWxseSBiZSBleGVjdXRlZCAodW5sZXNzIHRoZSBmaW5hbGl6ZXIgaXRzZWxmIGlzIGFsc28gYSBjbG9zZWQgc3Vic2NyaXB0aW9uKS5cbiAgICpcbiAgICogQ2xvc2VkIFN1YnNjcmlwdGlvbnMgY2Fubm90IGJlIGFkZGVkIGFzIGZpbmFsaXplcnMgdG8gYW55IHN1YnNjcmlwdGlvbi4gQWRkaW5nIGEgY2xvc2VkXG4gICAqIHN1YnNjcmlwdGlvbiB0byBhIGFueSBzdWJzY3JpcHRpb24gd2lsbCByZXN1bHQgaW4gbm8gb3BlcmF0aW9uLiAoQSBub29wKS5cbiAgICpcbiAgICogQWRkaW5nIGEgc3Vic2NyaXB0aW9uIHRvIGl0c2VsZiwgb3IgYWRkaW5nIGBudWxsYCBvciBgdW5kZWZpbmVkYCB3aWxsIG5vdCBwZXJmb3JtIGFueVxuICAgKiBvcGVyYXRpb24gYXQgYWxsLiAoQSBub29wKS5cbiAgICpcbiAgICogYFN1YnNjcmlwdGlvbmAgaW5zdGFuY2VzIHRoYXQgYXJlIGFkZGVkIHRvIHRoaXMgaW5zdGFuY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGVtc2VsdmVzXG4gICAqIGlmIHRoZXkgYXJlIHVuc3Vic2NyaWJlZC4gRnVuY3Rpb25zIGFuZCB7QGxpbmsgVW5zdWJzY3JpYmFibGV9IG9iamVjdHMgdGhhdCB5b3Ugd2lzaCB0byByZW1vdmVcbiAgICogd2lsbCBuZWVkIHRvIGJlIHJlbW92ZWQgbWFudWFsbHkgd2l0aCB7QGxpbmsgI3JlbW92ZX1cbiAgICpcbiAgICogQHBhcmFtIHRlYXJkb3duIFRoZSBmaW5hbGl6YXRpb24gbG9naWMgdG8gYWRkIHRvIHRoaXMgc3Vic2NyaXB0aW9uLlxuICAgKi9cbiAgYWRkKHRlYXJkb3duOiBUZWFyZG93bkxvZ2ljKTogdm9pZCB7XG4gICAgLy8gT25seSBhZGQgdGhlIGZpbmFsaXplciBpZiBpdCdzIG5vdCB1bmRlZmluZWRcbiAgICAvLyBhbmQgZG9uJ3QgYWRkIGEgc3Vic2NyaXB0aW9uIHRvIGl0c2VsZi5cbiAgICBpZiAodGVhcmRvd24gJiYgdGVhcmRvd24gIT09IHRoaXMpIHtcbiAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAvLyBJZiB0aGlzIHN1YnNjcmlwdGlvbiBpcyBhbHJlYWR5IGNsb3NlZCxcbiAgICAgICAgLy8gZXhlY3V0ZSB3aGF0ZXZlciBmaW5hbGl6ZXIgaXMgaGFuZGVkIHRvIGl0IGF1dG9tYXRpY2FsbHkuXG4gICAgICAgIGV4ZWNGaW5hbGl6ZXIodGVhcmRvd24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgLy8gV2UgZG9uJ3QgYWRkIGNsb3NlZCBzdWJzY3JpcHRpb25zLCBhbmQgd2UgZG9uJ3QgYWRkIHRoZSBzYW1lIHN1YnNjcmlwdGlvblxuICAgICAgICAgIC8vIHR3aWNlLiBTdWJzY3JpcHRpb24gdW5zdWJzY3JpYmUgaXMgaWRlbXBvdGVudC5cbiAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnMgPz8gW10pLnB1c2godGVhcmRvd24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIGEgdGhpcyBzdWJzY3JpcHRpb24gYWxyZWFkeSBoYXMgYSBwYXJ0aWN1bGFyIHBhcmVudC5cbiAgICogVGhpcyB3aWxsIHNpZ25hbCB0aGF0IHRoaXMgc3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhlIHBhcmVudCBpbiBxdWVzdGlvbi5cbiAgICogQHBhcmFtIHBhcmVudCB0aGUgcGFyZW50IHRvIGNoZWNrIGZvclxuICAgKi9cbiAgcHJpdmF0ZSBfaGFzUGFyZW50KHBhcmVudDogU3Vic2NyaXB0aW9uKSB7XG4gICAgY29uc3QgeyBfcGFyZW50YWdlIH0gPSB0aGlzO1xuICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgcGFyZW50IHRvIHRoaXMgc3Vic2NyaXB0aW9uIHNvIGl0IGNhbiBiZSByZW1vdmVkIGZyb20gdGhlIHBhcmVudCBpZiBpdFxuICAgKiB1bnN1YnNjcmliZXMgb24gaXQncyBvd24uXG4gICAqXG4gICAqIE5PVEU6IFRISVMgQVNTVU1FUyBUSEFUIHtAbGluayBfaGFzUGFyZW50fSBIQVMgQUxSRUFEWSBCRUVOIENIRUNLRUQuXG4gICAqIEBwYXJhbSBwYXJlbnQgVGhlIHBhcmVudCBzdWJzY3JpcHRpb24gdG8gYWRkXG4gICAqL1xuICBwcml2YXRlIF9hZGRQYXJlbnQocGFyZW50OiBTdWJzY3JpcHRpb24pIHtcbiAgICBjb25zdCB7IF9wYXJlbnRhZ2UgfSA9IHRoaXM7XG4gICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIG9uIGEgY2hpbGQgd2hlbiBpdCBpcyByZW1vdmVkIHZpYSB7QGxpbmsgI3JlbW92ZX0uXG4gICAqIEBwYXJhbSBwYXJlbnQgVGhlIHBhcmVudCB0byByZW1vdmVcbiAgICovXG4gIHByaXZhdGUgX3JlbW92ZVBhcmVudChwYXJlbnQ6IFN1YnNjcmlwdGlvbikge1xuICAgIGNvbnN0IHsgX3BhcmVudGFnZSB9ID0gdGhpcztcbiAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgYXJyUmVtb3ZlKF9wYXJlbnRhZ2UsIHBhcmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBmaW5hbGl6ZXIgZnJvbSB0aGlzIHN1YnNjcmlwdGlvbiB0aGF0IHdhcyBwcmV2aW91c2x5IGFkZGVkIHdpdGggdGhlIHtAbGluayAjYWRkfSBtZXRob2QuXG4gICAqXG4gICAqIE5vdGUgdGhhdCBgU3Vic2NyaXB0aW9uYCBpbnN0YW5jZXMsIHdoZW4gdW5zdWJzY3JpYmVkLCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZW1zZWx2ZXNcbiAgICogZnJvbSBldmVyeSBvdGhlciBgU3Vic2NyaXB0aW9uYCB0aGV5IGhhdmUgYmVlbiBhZGRlZCB0by4gVGhpcyBtZWFucyB0aGF0IHVzaW5nIHRoZSBgcmVtb3ZlYCBtZXRob2RcbiAgICogaXMgbm90IGEgY29tbW9uIHRoaW5nIGFuZCBzaG91bGQgYmUgdXNlZCB0aG91Z2h0ZnVsbHkuXG4gICAqXG4gICAqIElmIHlvdSBhZGQgdGhlIHNhbWUgZmluYWxpemVyIGluc3RhbmNlIG9mIGEgZnVuY3Rpb24gb3IgYW4gdW5zdWJzY3JpYmFibGUgb2JqZWN0IHRvIGEgYFN1YnNjcmlwdGlvbmAgaW5zdGFuY2VcbiAgICogbW9yZSB0aGFuIG9uY2UsIHlvdSB3aWxsIG5lZWQgdG8gY2FsbCBgcmVtb3ZlYCB0aGUgc2FtZSBudW1iZXIgb2YgdGltZXMgdG8gcmVtb3ZlIGFsbCBpbnN0YW5jZXMuXG4gICAqXG4gICAqIEFsbCBmaW5hbGl6ZXIgaW5zdGFuY2VzIGFyZSByZW1vdmVkIHRvIGZyZWUgdXAgbWVtb3J5IHVwb24gdW5zdWJzY3JpcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB0ZWFyZG93biBUaGUgZmluYWxpemVyIHRvIHJlbW92ZSBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uXG4gICAqL1xuICByZW1vdmUodGVhcmRvd246IEV4Y2x1ZGU8VGVhcmRvd25Mb2dpYywgdm9pZD4pOiB2b2lkIHtcbiAgICBjb25zdCB7IF9maW5hbGl6ZXJzIH0gPSB0aGlzO1xuICAgIF9maW5hbGl6ZXJzICYmIGFyclJlbW92ZShfZmluYWxpemVycywgdGVhcmRvd24pO1xuXG4gICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRU1QVFlfU1VCU0NSSVBUSU9OID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTdWJzY3JpcHRpb24odmFsdWU6IGFueSk6IHZhbHVlIGlzIFN1YnNjcmlwdGlvbiB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAodmFsdWUgJiYgJ2Nsb3NlZCcgaW4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5yZW1vdmUpICYmIGlzRnVuY3Rpb24odmFsdWUuYWRkKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnVuc3Vic2NyaWJlKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXI6IFVuc3Vic2NyaWJhYmxlIHwgKCgpID0+IHZvaWQpKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZpbmFsaXplcikpIHtcbiAgICBmaW5hbGl6ZXIoKTtcbiAgfSBlbHNlIHtcbiAgICBmaW5hbGl6ZXIudW5zdWJzY3JpYmUoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVGhlIHtAbGluayBHbG9iYWxDb25maWd9IG9iamVjdCBmb3IgUnhKUy4gSXQgaXMgdXNlZCB0byBjb25maWd1cmUgdGhpbmdzXG4gKiBsaWtlIGhvdyB0byByZWFjdCBvbiB1bmhhbmRsZWQgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgY29uZmlnOiBHbG9iYWxDb25maWcgPSB7XG4gIG9uVW5oYW5kbGVkRXJyb3I6IG51bGwsXG4gIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nOiBmYWxzZSxcbiAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG5cbi8qKlxuICogVGhlIGdsb2JhbCBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgUnhKUywgdXNlZCB0byBjb25maWd1cmUgdGhpbmdzXG4gKiBsaWtlIGhvdyB0byByZWFjdCBvbiB1bmhhbmRsZWQgZXJyb3JzLiBBY2Nlc3NpYmxlIHZpYSB7QGxpbmsgY29uZmlnfVxuICogb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdsb2JhbENvbmZpZyB7XG4gIC8qKlxuICAgKiBBIHJlZ2lzdHJhdGlvbiBwb2ludCBmb3IgdW5oYW5kbGVkIGVycm9ycyBmcm9tIFJ4SlMuIFRoZXNlIGFyZSBlcnJvcnMgdGhhdFxuICAgKiBjYW5ub3Qgd2VyZSBub3QgaGFuZGxlZCBieSBjb25zdW1pbmcgY29kZSBpbiB0aGUgdXN1YWwgc3Vic2NyaXB0aW9uIHBhdGguIEZvclxuICAgKiBleGFtcGxlLCBpZiB5b3UgaGF2ZSB0aGlzIGNvbmZpZ3VyZWQsIGFuZCB5b3Ugc3Vic2NyaWJlIHRvIGFuIG9ic2VydmFibGUgd2l0aG91dFxuICAgKiBwcm92aWRpbmcgYW4gZXJyb3IgaGFuZGxlciwgZXJyb3JzIGZyb20gdGhhdCBzdWJzY3JpcHRpb24gd2lsbCBlbmQgdXAgaGVyZS4gVGhpc1xuICAgKiB3aWxsIF9hbHdheXNfIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSBvbiBhbm90aGVyIGpvYiBpbiB0aGUgcnVudGltZS4gVGhpcyBpcyBiZWNhdXNlXG4gICAqIHdlIGRvIG5vdCB3YW50IGVycm9ycyB0aHJvd24gaW4gdGhpcyB1c2VyLWNvbmZpZ3VyZWQgaGFuZGxlciB0byBpbnRlcmZlcmUgd2l0aCB0aGVcbiAgICogYmVoYXZpb3Igb2YgdGhlIGxpYnJhcnkuXG4gICAqL1xuICBvblVuaGFuZGxlZEVycm9yOiAoKGVycjogYW55KSA9PiB2b2lkKSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgcmVnaXN0cmF0aW9uIHBvaW50IGZvciBub3RpZmljYXRpb25zIHRoYXQgY2Fubm90IGJlIHNlbnQgdG8gc3Vic2NyaWJlcnMgYmVjYXVzZSB0aGV5XG4gICAqIGhhdmUgY29tcGxldGVkLCBlcnJvcmVkIG9yIGhhdmUgYmVlbiBleHBsaWNpdGx5IHVuc3Vic2NyaWJlZC4gQnkgZGVmYXVsdCwgbmV4dCwgY29tcGxldGVcbiAgICogYW5kIGVycm9yIG5vdGlmaWNhdGlvbnMgc2VudCB0byBzdG9wcGVkIHN1YnNjcmliZXJzIGFyZSBub29wcy4gSG93ZXZlciwgc29tZXRpbWVzIGNhbGxlcnNcbiAgICogbWlnaHQgd2FudCBhIGRpZmZlcmVudCBiZWhhdmlvci4gRm9yIGV4YW1wbGUsIHdpdGggc291cmNlcyB0aGF0IGF0dGVtcHQgdG8gcmVwb3J0IGVycm9yc1xuICAgKiB0byBzdG9wcGVkIHN1YnNjcmliZXJzLCBhIGNhbGxlciBjYW4gY29uZmlndXJlIFJ4SlMgdG8gdGhyb3cgYW4gdW5oYW5kbGVkIGVycm9yIGluc3RlYWQuXG4gICAqIFRoaXMgd2lsbCBfYWx3YXlzXyBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgb24gYW5vdGhlciBqb2IgaW4gdGhlIHJ1bnRpbWUuIFRoaXMgaXMgYmVjYXVzZVxuICAgKiB3ZSBkbyBub3Qgd2FudCBlcnJvcnMgdGhyb3duIGluIHRoaXMgdXNlci1jb25maWd1cmVkIGhhbmRsZXIgdG8gaW50ZXJmZXJlIHdpdGggdGhlXG4gICAqIGJlaGF2aW9yIG9mIHRoZSBsaWJyYXJ5LlxuICAgKi9cbiAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiAoKG5vdGlmaWNhdGlvbjogT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbjxhbnk+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pID0+IHZvaWQpIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHByb21pc2UgY29uc3RydWN0b3IgdXNlZCBieSBkZWZhdWx0IGZvciB7QGxpbmsgT2JzZXJ2YWJsZSN0b1Byb21pc2UgdG9Qcm9taXNlfSBhbmQge0BsaW5rIE9ic2VydmFibGUjZm9yRWFjaCBmb3JFYWNofVxuICAgKiBtZXRob2RzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBBcyBvZiB2ZXJzaW9uIDgsIFJ4SlMgd2lsbCBubyBsb25nZXIgc3VwcG9ydCB0aGlzIHNvcnQgb2YgaW5qZWN0aW9uIG9mIGFcbiAgICogUHJvbWlzZSBjb25zdHJ1Y3Rvci4gSWYgeW91IG5lZWQgYSBQcm9taXNlIGltcGxlbWVudGF0aW9uIG90aGVyIHRoYW4gbmF0aXZlIHByb21pc2VzLFxuICAgKiBwbGVhc2UgcG9seWZpbGwvcGF0Y2ggUHJvbWlzZSBhcyB5b3Ugc2VlIGFwcHJvcHJpYXRlLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBQcm9taXNlPzogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZTtcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgdHVybnMgb24gc3luY2hyb25vdXMgZXJyb3IgcmV0aHJvd2luZywgd2hpY2ggaXMgYSBkZXByZWNhdGVkIGJlaGF2aW9yXG4gICAqIGluIHY2IGFuZCBoaWdoZXIuIFRoaXMgYmVoYXZpb3IgZW5hYmxlcyBiYWQgcGF0dGVybnMgbGlrZSB3cmFwcGluZyBhIHN1YnNjcmliZVxuICAgKiBjYWxsIGluIGEgdHJ5L2NhdGNoIGJsb2NrLiBJdCBhbHNvIGVuYWJsZXMgcHJvZHVjZXIgaW50ZXJmZXJlbmNlLCBhIG5hc3R5IGJ1Z1xuICAgKiB3aGVyZSBhIG11bHRpY2FzdCBjYW4gYmUgYnJva2VuIGZvciBhbGwgb2JzZXJ2ZXJzIGJ5IGEgZG93bnN0cmVhbSBjb25zdW1lciB3aXRoXG4gICAqIGFuIHVuaGFuZGxlZCBlcnJvci4gRE8gTk9UIFVTRSBUSElTIEZMQUcgVU5MRVNTIElUJ1MgTkVFREVEIFRPIEJVWSBUSU1FXG4gICAqIEZPUiBNSUdSQVRJT04gUkVBU09OUy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgQXMgb2YgdmVyc2lvbiA4LCBSeEpTIHdpbGwgbm8gbG9uZ2VyIHN1cHBvcnQgc3luY2hyb25vdXMgdGhyb3dpbmdcbiAgICogb2YgdW5oYW5kbGVkIGVycm9ycy4gQWxsIGVycm9ycyB3aWxsIGJlIHRocm93biBvbiBhIHNlcGFyYXRlIGNhbGwgc3RhY2sgdG8gcHJldmVudCBiYWRcbiAgICogYmVoYXZpb3JzIGRlc2NyaWJlZCBhYm92ZS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgZW5hYmxlcyBhbiBhcy1vZi15ZXQgdW5kb2N1bWVudGVkIGZlYXR1cmUgZnJvbSB2NTogVGhlIGFiaWxpdHkgdG8gYWNjZXNzXG4gICAqIGB1bnN1YnNjcmliZSgpYCB2aWEgYHRoaXNgIGNvbnRleHQgaW4gYG5leHRgIGZ1bmN0aW9ucyBjcmVhdGVkIGluIG9ic2VydmVycyBwYXNzZWRcbiAgICogdG8gYHN1YnNjcmliZWAuXG4gICAqXG4gICAqIFRoaXMgaXMgYmVpbmcgcmVtb3ZlZCBiZWNhdXNlIHRoZSBwZXJmb3JtYW5jZSB3YXMgc2V2ZXJlbHkgcHJvYmxlbWF0aWMsIGFuZCBpdCBjb3VsZCBhbHNvIGNhdXNlXG4gICAqIGlzc3VlcyB3aGVuIHR5cGVzIG90aGVyIHRoYW4gUE9KT3MgYXJlIHBhc3NlZCB0byBzdWJzY3JpYmUgYXMgc3Vic2NyaWJlcnMsIGFzIHRoZXkgd2lsbCBsaWtlbHkgaGF2ZVxuICAgKiB0aGVpciBgdGhpc2AgY29udGV4dCBvdmVyd3JpdHRlbi5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgQXMgb2YgdmVyc2lvbiA4LCBSeEpTIHdpbGwgbm8gbG9uZ2VyIHN1cHBvcnQgYWx0ZXJpbmcgdGhlXG4gICAqIGNvbnRleHQgb2YgbmV4dCBmdW5jdGlvbnMgcHJvdmlkZWQgYXMgcGFydCBvZiBhbiBvYnNlcnZlciB0byBTdWJzY3JpYmUuIEluc3RlYWQsXG4gICAqIHlvdSB3aWxsIGhhdmUgYWNjZXNzIHRvIGEgc3Vic2NyaXB0aW9uIG9yIGEgc2lnbmFsIG9yIHRva2VuIHRoYXQgd2lsbCBhbGxvdyB5b3UgdG8gZG8gdGhpbmdzIGxpa2VcbiAgICogdW5zdWJzY3JpYmUgYW5kIHRlc3QgY2xvc2VkIHN0YXR1cy4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpcnN0VmFsdWVGcm9tQ29uZmlnPFQ+IHtcbiAgZGVmYXVsdFZhbHVlOiBUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RWYWx1ZUZyb208VCwgRD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+LCBjb25maWc6IEZpcnN0VmFsdWVGcm9tQ29uZmlnPEQ+KTogUHJvbWlzZTxUIHwgRD47XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RWYWx1ZUZyb208VD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBvYnNlcnZhYmxlIHRvIGEgcHJvbWlzZSBieSBzdWJzY3JpYmluZyB0byB0aGUgb2JzZXJ2YWJsZSxcbiAqIGFuZCByZXR1cm5pbmcgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIGFzIHNvb24gYXMgdGhlIGZpcnN0IHZhbHVlXG4gKiBhcnJpdmVzIGZyb20gdGhlIG9ic2VydmFibGUuIFRoZSBzdWJzY3JpcHRpb24gd2lsbCB0aGVuIGJlIGNsb3NlZC5cbiAqXG4gKiBJZiB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gY29tcGxldGVzIGJlZm9yZSBhbnkgdmFsdWVzIHdlcmUgZW1pdHRlZCwgdGhlXG4gKiByZXR1cm5lZCBwcm9taXNlIHdpbGwgcmVqZWN0IHdpdGgge0BsaW5rIEVtcHR5RXJyb3J9IG9yIHdpbGwgcmVzb2x2ZVxuICogd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBpZiBhIGRlZmF1bHQgd2FzIHNwZWNpZmllZC5cbiAqXG4gKiBJZiB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gZW1pdHMgYW4gZXJyb3IsIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgcmVqZWN0XG4gKiB3aXRoIHRoYXQgZXJyb3IuXG4gKlxuICogKipXQVJOSU5HKio6IE9ubHkgdXNlIHRoaXMgd2l0aCBvYnNlcnZhYmxlcyB5b3UgKmtub3cqIHdpbGwgZW1pdCBhdCBsZWFzdCBvbmUgdmFsdWUsXG4gKiAqT1IqIGNvbXBsZXRlLiBJZiB0aGUgc291cmNlIG9ic2VydmFibGUgZG9lcyBub3QgZW1pdCBvbmUgdmFsdWUgb3IgY29tcGxldGUsIHlvdSB3aWxsXG4gKiBlbmQgdXAgd2l0aCBhIHByb21pc2UgdGhhdCBpcyBodW5nIHVwLCBhbmQgcG90ZW50aWFsbHkgYWxsIG9mIHRoZSBzdGF0ZSBvZiBhblxuICogYXN5bmMgZnVuY3Rpb24gaGFuZ2luZyBvdXQgaW4gbWVtb3J5LiBUbyBhdm9pZCB0aGlzIHNpdHVhdGlvbiwgbG9vayBpbnRvIGFkZGluZ1xuICogc29tZXRoaW5nIGxpa2Uge0BsaW5rIHRpbWVvdXR9LCB7QGxpbmsgdGFrZX0sIHtAbGluayB0YWtlV2hpbGV9LCBvciB7QGxpbmsgdGFrZVVudGlsfVxuICogYW1vbmdzdCBvdGhlcnMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFdhaXQgZm9yIHRoZSBmaXJzdCB2YWx1ZSBmcm9tIGEgc3RyZWFtIGFuZCBlbWl0IGl0IGZyb20gYSBwcm9taXNlIGluXG4gKiBhbiBhc3luYyBmdW5jdGlvblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgZmlyc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBhc3luYyBmdW5jdGlvbiBleGVjdXRlKCkge1xuICogICBjb25zdCBzb3VyY2UkID0gaW50ZXJ2YWwoMjAwMCk7XG4gKiAgIGNvbnN0IGZpcnN0TnVtYmVyID0gYXdhaXQgZmlyc3RWYWx1ZUZyb20oc291cmNlJCk7XG4gKiAgIGNvbnNvbGUubG9nKGBUaGUgZmlyc3QgbnVtYmVyIGlzICR7IGZpcnN0TnVtYmVyIH1gKTtcbiAqIH1cbiAqXG4gKiBleGVjdXRlKCk7XG4gKlxuICogLy8gRXhwZWN0ZWQgb3V0cHV0OlxuICogLy8gJ1RoZSBmaXJzdCBudW1iZXIgaXMgMCdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGxhc3RWYWx1ZUZyb219XG4gKlxuICogQHBhcmFtIHNvdXJjZSB0aGUgb2JzZXJ2YWJsZSB0byBjb252ZXJ0IHRvIGEgcHJvbWlzZVxuICogQHBhcmFtIGNvbmZpZyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGRlZmluZSB0aGUgYGRlZmF1bHRWYWx1ZWAgdG8gdXNlIGlmIHRoZSBzb3VyY2UgY29tcGxldGVzIHdpdGhvdXQgZW1pdHRpbmcgYSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RWYWx1ZUZyb208VCwgRD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+LCBjb25maWc/OiBGaXJzdFZhbHVlRnJvbUNvbmZpZzxEPik6IFByb21pc2U8VCB8IEQ+IHtcbiAgY29uc3QgaGFzQ29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCc7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxUIHwgRD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXI8VD4oe1xuICAgICAgbmV4dDogKHZhbHVlKSA9PiB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIGlmIChoYXNDb25maWcpIHtcbiAgICAgICAgICByZXNvbHZlKGNvbmZpZyEuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVtcHR5RXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gICAgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuL3V0aWwvRW1wdHlFcnJvcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGFzdFZhbHVlRnJvbUNvbmZpZzxUPiB7XG4gIGRlZmF1bHRWYWx1ZTogVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3RWYWx1ZUZyb208VCwgRD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+LCBjb25maWc6IExhc3RWYWx1ZUZyb21Db25maWc8RD4pOiBQcm9taXNlPFQgfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBsYXN0VmFsdWVGcm9tPFQ+KHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IFByb21pc2U8VD47XG5cbi8qKlxuICogQ29udmVydHMgYW4gb2JzZXJ2YWJsZSB0byBhIHByb21pc2UgYnkgc3Vic2NyaWJpbmcgdG8gdGhlIG9ic2VydmFibGUsXG4gKiB3YWl0aW5nIGZvciBpdCB0byBjb21wbGV0ZSwgYW5kIHJlc29sdmluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aXRoIHRoZVxuICogbGFzdCB2YWx1ZSBmcm9tIHRoZSBvYnNlcnZlZCBzdHJlYW0uXG4gKlxuICogSWYgdGhlIG9ic2VydmFibGUgc3RyZWFtIGNvbXBsZXRlcyBiZWZvcmUgYW55IHZhbHVlcyB3ZXJlIGVtaXR0ZWQsIHRoZVxuICogcmV0dXJuZWQgcHJvbWlzZSB3aWxsIHJlamVjdCB3aXRoIHtAbGluayBFbXB0eUVycm9yfSBvciB3aWxsIHJlc29sdmVcbiAqIHdpdGggdGhlIGRlZmF1bHQgdmFsdWUgaWYgYSBkZWZhdWx0IHdhcyBzcGVjaWZpZWQuXG4gKlxuICogSWYgdGhlIG9ic2VydmFibGUgc3RyZWFtIGVtaXRzIGFuIGVycm9yLCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIHJlamVjdFxuICogd2l0aCB0aGF0IGVycm9yLlxuICpcbiAqICoqV0FSTklORyoqOiBPbmx5IHVzZSB0aGlzIHdpdGggb2JzZXJ2YWJsZXMgeW91ICprbm93KiB3aWxsIGNvbXBsZXRlLiBJZiB0aGUgc291cmNlXG4gKiBvYnNlcnZhYmxlIGRvZXMgbm90IGNvbXBsZXRlLCB5b3Ugd2lsbCBlbmQgdXAgd2l0aCBhIHByb21pc2UgdGhhdCBpcyBodW5nIHVwLCBhbmRcbiAqIHBvdGVudGlhbGx5IGFsbCBvZiB0aGUgc3RhdGUgb2YgYW4gYXN5bmMgZnVuY3Rpb24gaGFuZ2luZyBvdXQgaW4gbWVtb3J5LiBUbyBhdm9pZFxuICogdGhpcyBzaXR1YXRpb24sIGxvb2sgaW50byBhZGRpbmcgc29tZXRoaW5nIGxpa2Uge0BsaW5rIHRpbWVvdXR9LCB7QGxpbmsgdGFrZX0sXG4gKiB7QGxpbmsgdGFrZVdoaWxlfSwgb3Ige0BsaW5rIHRha2VVbnRpbH0gYW1vbmdzdCBvdGhlcnMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFdhaXQgZm9yIHRoZSBsYXN0IHZhbHVlIGZyb20gYSBzdHJlYW0gYW5kIGVtaXQgaXQgZnJvbSBhIHByb21pc2UgaW5cbiAqIGFuIGFzeW5jIGZ1bmN0aW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCBsYXN0VmFsdWVGcm9tIH0gZnJvbSAncnhqcyc7XG4gKlxuICogYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAqICAgY29uc3Qgc291cmNlJCA9IGludGVydmFsKDIwMDApLnBpcGUodGFrZSgxMCkpO1xuICogICBjb25zdCBmaW5hbE51bWJlciA9IGF3YWl0IGxhc3RWYWx1ZUZyb20oc291cmNlJCk7XG4gKiAgIGNvbnNvbGUubG9nKGBUaGUgZmluYWwgbnVtYmVyIGlzICR7IGZpbmFsTnVtYmVyIH1gKTtcbiAqIH1cbiAqXG4gKiBleGVjdXRlKCk7XG4gKlxuICogLy8gRXhwZWN0ZWQgb3V0cHV0OlxuICogLy8gJ1RoZSBmaW5hbCBudW1iZXIgaXMgOSdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZpcnN0VmFsdWVGcm9tfVxuICpcbiAqIEBwYXJhbSBzb3VyY2UgdGhlIG9ic2VydmFibGUgdG8gY29udmVydCB0byBhIHByb21pc2VcbiAqIEBwYXJhbSBjb25maWcgYSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBkZWZpbmUgdGhlIGBkZWZhdWx0VmFsdWVgIHRvIHVzZSBpZiB0aGUgc291cmNlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGEgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RWYWx1ZUZyb208VCwgRD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+LCBjb25maWc/OiBMYXN0VmFsdWVGcm9tQ29uZmlnPEQ+KTogUHJvbWlzZTxUIHwgRD4ge1xuICBjb25zdCBoYXNDb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JztcbiAgcmV0dXJuIG5ldyBQcm9taXNlPFQgfCBEPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IF9oYXNWYWx1ZSA9IGZhbHNlO1xuICAgIGxldCBfdmFsdWU6IFQ7XG4gICAgc291cmNlLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAodmFsdWUpID0+IHtcbiAgICAgICAgX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIF9oYXNWYWx1ZSA9IHRydWU7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIGlmIChfaGFzVmFsdWUpIHtcbiAgICAgICAgICByZXNvbHZlKF92YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ29uZmlnKSB7XG4gICAgICAgICAgcmVzb2x2ZShjb25maWchLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFbXB0eUVycm9yKCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByZWZDb3VudCBhcyBoaWdoZXJPcmRlclJlZkNvdW50IH0gZnJvbSAnLi4vb3BlcmF0b3JzL3JlZkNvdW50JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaGFzTGlmdCB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbi8qKlxuICogQGNsYXNzIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxUPlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2Uge0BsaW5rIGNvbm5lY3RhYmxlfSB0byBjcmVhdGUgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlLlxuICogSWYgeW91IGFyZSB1c2luZyB0aGUgYHJlZkNvdW50YCBtZXRob2Qgb2YgYENvbm5lY3RhYmxlT2JzZXJ2YWJsZWAsIHVzZSB0aGUge0BsaW5rIHNoYXJlfSBvcGVyYXRvclxuICogaW5zdGVhZC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+IGV4dGVuZHMgT2JzZXJ2YWJsZTxUPiB7XG4gIHByb3RlY3RlZCBfc3ViamVjdDogU3ViamVjdDxUPiB8IG51bGwgPSBudWxsO1xuICBwcm90ZWN0ZWQgX3JlZkNvdW50OiBudW1iZXIgPSAwO1xuICBwcm90ZWN0ZWQgX2Nvbm5lY3Rpb246IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JzZXJ2YWJsZVxuICAgKiBAcGFyYW0gc3ViamVjdEZhY3RvcnkgVGhlIGZhY3RvcnkgdGhhdCBjcmVhdGVzIHRoZSBzdWJqZWN0IHVzZWQgaW50ZXJuYWxseS5cbiAgICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2Uge0BsaW5rIGNvbm5lY3RhYmxlfSB0byBjcmVhdGUgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlLlxuICAgKiBgbmV3IENvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIGZhY3RvcnkpYCBpcyBlcXVpdmFsZW50IHRvXG4gICAqIGBjb25uZWN0YWJsZShzb3VyY2UsIHsgY29ubmVjdG9yOiBmYWN0b3J5IH0pYC5cbiAgICogV2hlbiB0aGUgYHJlZkNvdW50KClgIG1ldGhvZCBpcyBuZWVkZWQsIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIHNob3VsZCBiZSB1c2VkIGluc3RlYWQ6XG4gICAqIGBuZXcgQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgZmFjdG9yeSkucmVmQ291bnQoKWAgaXMgZXF1aXZhbGVudCB0b1xuICAgKiBgc291cmNlLnBpcGUoc2hhcmUoeyBjb25uZWN0b3I6IGZhY3RvcnkgfSkpYC5cbiAgICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgc291cmNlOiBPYnNlcnZhYmxlPFQ+LCBwcm90ZWN0ZWQgc3ViamVjdEZhY3Rvcnk6ICgpID0+IFN1YmplY3Q8VD4pIHtcbiAgICBzdXBlcigpO1xuICAgIC8vIElmIHdlIGhhdmUgbGlmdCwgbW9ua2V5IHBhdGNoIHRoYXQgaGVyZS4gVGhpcyBpcyBkb25lIHNvIGN1c3RvbSBvYnNlcnZhYmxlXG4gICAgLy8gdHlwZXMgd2lsbCBjb21wb3NlIHRocm91Z2ggbXVsdGljYXN0LiBPdGhlcndpc2UgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdvdWxkXG4gICAgLy8gc2ltcGx5IGJlIGFuIGluc3RhbmNlIG9mIGBDb25uZWN0YWJsZU9ic2VydmFibGVgLlxuICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgIHRoaXMubGlmdCA9IHNvdXJjZS5saWZ0O1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikge1xuICAgIHJldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3ViamVjdCgpOiBTdWJqZWN0PFQ+IHtcbiAgICBjb25zdCBzdWJqZWN0ID0gdGhpcy5fc3ViamVjdDtcbiAgICBpZiAoIXN1YmplY3QgfHwgc3ViamVjdC5pc1N0b3BwZWQpIHtcbiAgICAgIHRoaXMuX3N1YmplY3QgPSB0aGlzLnN1YmplY3RGYWN0b3J5KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zdWJqZWN0ITtcbiAgfVxuXG4gIHByb3RlY3RlZCBfdGVhcmRvd24oKSB7XG4gICAgdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgIGNvbnN0IHsgX2Nvbm5lY3Rpb24gfSA9IHRoaXM7XG4gICAgdGhpcy5fc3ViamVjdCA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIF9jb25uZWN0aW9uPy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9IHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHtAbGluayBjb25uZWN0YWJsZX0gaW5zdGVhZC5cbiAgICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gICAqL1xuICBjb25uZWN0KCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgbGV0IGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICBjb25zdCBzdWJqZWN0ID0gdGhpcy5nZXRTdWJqZWN0KCk7XG4gICAgICBjb25uZWN0aW9uLmFkZChcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICAgIHN1YmplY3QgYXMgYW55LFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl90ZWFyZG93bigpO1xuICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl90ZWFyZG93bigpO1xuICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5fdGVhcmRvd24oKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgaWYgKGNvbm5lY3Rpb24uY2xvc2VkKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBjb25uZWN0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfSB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLlxuICAgKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAgICovXG4gIHJlZkNvdW50KCk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBoaWdoZXJPcmRlclJlZkNvdW50KCkodGhpcykgYXMgT2JzZXJ2YWJsZTxUPjtcbiAgfVxufVxuIiwiLyogQHByZXR0aWVyICovXG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYmluZENhbGxiYWNrSW50ZXJuYWxzIH0gZnJvbSAnLi9iaW5kQ2FsbGJhY2tJbnRlcm5hbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZENhbGxiYWNrKFxuICBjYWxsYmFja0Z1bmM6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbiAgcmVzdWx0U2VsZWN0b3I6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55LFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiAoLi4uYXJnczogYW55W10pID0+IE9ic2VydmFibGU8YW55PjtcblxuLy8gYXJncyBpcyB0aGUgYXJndW1lbnRzIGFycmF5IGFuZCB3ZSBwdXNoIHRoZSBjYWxsYmFjayBvbiB0aGUgcmVzdCB0dXBsZSBzaW5jZSB0aGUgcmVzdCBwYXJhbWV0ZXIgbXVzdCBiZSBsYXN0IChvbmx5IGl0ZW0pIGluIGEgcGFyYW1ldGVyIGxpc3RcbmV4cG9ydCBmdW5jdGlvbiBiaW5kQ2FsbGJhY2s8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUiBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIGNhbGxiYWNrRnVuYzogKC4uLmFyZ3M6IFsuLi5BLCAoLi4ucmVzOiBSKSA9PiB2b2lkXSkgPT4gdm9pZCxcbiAgc2NoZWR1bGVyTGlrZT86IFNjaGVkdWxlckxpa2Vcbik6ICguLi5hcmc6IEEpID0+IE9ic2VydmFibGU8UiBleHRlbmRzIFtdID8gdm9pZCA6IFIgZXh0ZW5kcyBbYW55XSA/IFJbMF0gOiBSPjtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNhbGxiYWNrIEFQSSB0byBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5HaXZlIGl0IGEgZnVuY3Rpb24gYGZgIG9mIHR5cGUgYGYoeCwgY2FsbGJhY2spYCBhbmRcbiAqIGl0IHdpbGwgcmV0dXJuIGEgZnVuY3Rpb24gYGdgIHRoYXQgd2hlbiBjYWxsZWQgYXMgYGcoeClgIHdpbGwgb3V0cHV0IGFuXG4gKiBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiBgYmluZENhbGxiYWNrYCBpcyBub3QgYW4gb3BlcmF0b3IgYmVjYXVzZSBpdHMgaW5wdXQgYW5kIG91dHB1dCBhcmUgbm90XG4gKiBPYnNlcnZhYmxlcy4gVGhlIGlucHV0IGlzIGEgZnVuY3Rpb24gYGZ1bmNgIHdpdGggc29tZSBwYXJhbWV0ZXJzLiBUaGVcbiAqIGxhc3QgcGFyYW1ldGVyIG11c3QgYmUgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGBmdW5jYCBjYWxscyB3aGVuIGl0IGlzXG4gKiBkb25lLlxuICpcbiAqIFRoZSBvdXRwdXQgb2YgYGJpbmRDYWxsYmFja2AgaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIHRoZSBzYW1lIHBhcmFtZXRlcnNcbiAqIGFzIGBmdW5jYCwgZXhjZXB0IHRoZSBsYXN0IG9uZSAodGhlIGNhbGxiYWNrKS4gV2hlbiB0aGUgb3V0cHV0IGZ1bmN0aW9uXG4gKiBpcyBjYWxsZWQgd2l0aCBhcmd1bWVudHMgaXQgd2lsbCByZXR1cm4gYW4gT2JzZXJ2YWJsZS4gSWYgZnVuY3Rpb24gYGZ1bmNgXG4gKiBjYWxscyBpdHMgY2FsbGJhY2sgd2l0aCBvbmUgYXJndW1lbnQsIHRoZSBPYnNlcnZhYmxlIHdpbGwgZW1pdCB0aGF0IHZhbHVlLlxuICogSWYgb24gdGhlIG90aGVyIGhhbmQgdGhlIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG11bHRpcGxlIHZhbHVlcyB0aGUgcmVzdWx0aW5nXG4gKiBPYnNlcnZhYmxlIHdpbGwgZW1pdCBhbiBhcnJheSB3aXRoIHNhaWQgdmFsdWVzIGFzIGFyZ3VtZW50cy5cbiAqXG4gKiBJdCBpcyAqKnZlcnkgaW1wb3J0YW50KiogdG8gcmVtZW1iZXIgdGhhdCBpbnB1dCBmdW5jdGlvbiBgZnVuY2AgaXMgbm90IGNhbGxlZFxuICogd2hlbiB0aGUgb3V0cHV0IGZ1bmN0aW9uIGlzLCBidXQgcmF0aGVyIHdoZW4gdGhlIE9ic2VydmFibGUgcmV0dXJuZWQgYnkgdGhlIG91dHB1dFxuICogZnVuY3Rpb24gaXMgc3Vic2NyaWJlZC4gVGhpcyBtZWFucyBpZiBgZnVuY2AgbWFrZXMgYW4gQUpBWCByZXF1ZXN0LCB0aGF0IHJlcXVlc3RcbiAqIHdpbGwgYmUgbWFkZSBldmVyeSB0aW1lIHNvbWVvbmUgc3Vic2NyaWJlcyB0byB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUsIGJ1dCBub3QgYmVmb3JlLlxuICpcbiAqIFRoZSBsYXN0IG9wdGlvbmFsIHBhcmFtZXRlciAtIGBzY2hlZHVsZXJgIC0gY2FuIGJlIHVzZWQgdG8gY29udHJvbCB3aGVuIHRoZSBjYWxsXG4gKiB0byBgZnVuY2AgaGFwcGVucyBhZnRlciBzb21lb25lIHN1YnNjcmliZXMgdG8gT2JzZXJ2YWJsZSwgYXMgd2VsbCBhcyB3aGVuIHJlc3VsdHNcbiAqIHBhc3NlZCB0byBjYWxsYmFjayB3aWxsIGJlIGVtaXR0ZWQuIEJ5IGRlZmF1bHQsIHRoZSBzdWJzY3JpcHRpb24gdG8gYW4gT2JzZXJ2YWJsZSBjYWxscyBgZnVuY2BcbiAqIHN5bmNocm9ub3VzbHksIGJ1dCB1c2luZyB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9IGFzIHRoZSBsYXN0IHBhcmFtZXRlciB3aWxsIGRlZmVyIHRoZSBjYWxsIHRvIGBmdW5jYCxcbiAqIGp1c3QgbGlrZSB3cmFwcGluZyB0aGUgY2FsbCBpbiBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgIHdvdWxkLiBJZiB5b3Ugd2VyZSB0byB1c2UgdGhlIGFzeW5jIFNjaGVkdWxlclxuICogYW5kIGNhbGwgYHN1YnNjcmliZWAgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLCBhbGwgZnVuY3Rpb24gY2FsbHMgdGhhdCBhcmUgY3VycmVudGx5IGV4ZWN1dGluZ1xuICogd2lsbCBlbmQgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHJlc3VsdHMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjayBhcmUgZW1pdHRlZCBpbW1lZGlhdGVseSBhZnRlciBgZnVuY2AgaW52b2tlcyB0aGUgY2FsbGJhY2suXG4gKiBJbiBwYXJ0aWN1bGFyLCBpZiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHksIHRoZW4gdGhlIHN1YnNjcmlwdGlvbiBvZiB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGVcbiAqIHdpbGwgY2FsbCB0aGUgYG5leHRgIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgYXMgd2VsbC4gIElmIHlvdSB3YW50IHRvIGRlZmVyIHRoYXQgY2FsbCxcbiAqIHlvdSBtYXkgdXNlIHtAbGluayBhc3luY1NjaGVkdWxlcn0ganVzdCBhcyBiZWZvcmUuICBUaGlzIG1lYW5zIHRoYXQgYnkgdXNpbmcgYFNjaGVkdWxlci5hc3luY2AgeW91IGNhblxuICogZW5zdXJlIHRoYXQgYGZ1bmNgIGFsd2F5cyBjYWxscyBpdHMgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHksIHRodXMgYXZvaWRpbmcgdGVycmlmeWluZyBaYWxnby5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIE9ic2VydmFibGUgY3JlYXRlZCBieSB0aGUgb3V0cHV0IGZ1bmN0aW9uIHdpbGwgYWx3YXlzIGVtaXQgYSBzaW5nbGUgdmFsdWVcbiAqIGFuZCB0aGVuIGNvbXBsZXRlIGltbWVkaWF0ZWx5LiBJZiBgZnVuY2AgY2FsbHMgdGhlIGNhbGxiYWNrIG11bHRpcGxlIHRpbWVzLCB2YWx1ZXMgZnJvbSBzdWJzZXF1ZW50XG4gKiBjYWxscyB3aWxsIG5vdCBhcHBlYXIgaW4gdGhlIHN0cmVhbS4gSWYgeW91IG5lZWQgdG8gbGlzdGVuIGZvciBtdWx0aXBsZSBjYWxscyxcbiAqICB5b3UgcHJvYmFibHkgd2FudCB0byB1c2Uge0BsaW5rIGZyb21FdmVudH0gb3Ige0BsaW5rIGZyb21FdmVudFBhdHRlcm59IGluc3RlYWQuXG4gKlxuICogSWYgYGZ1bmNgIGRlcGVuZHMgb24gc29tZSBjb250ZXh0IChgdGhpc2AgcHJvcGVydHkpIGFuZCBpcyBub3QgYWxyZWFkeSBib3VuZCwgdGhlIGNvbnRleHQgb2YgYGZ1bmNgXG4gKiB3aWxsIGJlIHRoZSBjb250ZXh0IHRoYXQgdGhlIG91dHB1dCBmdW5jdGlvbiBoYXMgYXQgY2FsbCB0aW1lLiBJbiBwYXJ0aWN1bGFyLCBpZiBgZnVuY2BcbiAqIGlzIGNhbGxlZCBhcyBhIG1ldGhvZCBvZiBzb21lIG9iamVjdCBhbmQgaWYgYGZ1bmNgIGlzIG5vdCBhbHJlYWR5IGJvdW5kLCBpbiBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgY29udGV4dFxuICogaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGUgY29udGV4dCBvZiB0aGUgb3V0cHV0IGZ1bmN0aW9uIGlzIHNldCB0byB0aGF0IG9iamVjdCBhcyB3ZWxsLlxuICpcbiAqIElmIHRoZSBpbnB1dCBmdW5jdGlvbiBjYWxscyBpdHMgY2FsbGJhY2sgaW4gdGhlIFwibm9kZSBzdHlsZVwiIChpLmUuIGZpcnN0IGFyZ3VtZW50IHRvIGNhbGxiYWNrIGlzXG4gKiBvcHRpb25hbCBlcnJvciBwYXJhbWV0ZXIgc2lnbmFsaW5nIHdoZXRoZXIgdGhlIGNhbGwgZmFpbGVkIG9yIG5vdCksIHtAbGluayBiaW5kTm9kZUNhbGxiYWNrfVxuICogcHJvdmlkZXMgY29udmVuaWVudCBlcnJvciBoYW5kbGluZyBhbmQgcHJvYmFibHkgaXMgYSBiZXR0ZXIgY2hvaWNlLlxuICogYGJpbmRDYWxsYmFja2Agd2lsbCB0cmVhdCBzdWNoIGZ1bmN0aW9ucyB0aGUgc2FtZSBhcyBhbnkgb3RoZXIgYW5kIGVycm9yIHBhcmFtZXRlcnNcbiAqICh3aGV0aGVyIHBhc3NlZCBvciBub3QpIHdpbGwgYWx3YXlzIGJlIGludGVycHJldGVkIGFzIHJlZ3VsYXIgY2FsbGJhY2sgYXJndW1lbnQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiAjIyMgQ29udmVydCBqUXVlcnkncyBnZXRKU09OIHRvIGFuIE9ic2VydmFibGUgQVBJXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYmluZENhbGxiYWNrIH0gZnJvbSAncnhqcyc7XG4gKiBpbXBvcnQgKiBhcyBqUXVlcnkgZnJvbSAnanF1ZXJ5JztcbiAqXG4gKiAvLyBTdXBwb3NlIHdlIGhhdmUgalF1ZXJ5LmdldEpTT04oJy9teS91cmwnLCBjYWxsYmFjaylcbiAqIGNvbnN0IGdldEpTT05Bc09ic2VydmFibGUgPSBiaW5kQ2FsbGJhY2soalF1ZXJ5LmdldEpTT04pO1xuICogY29uc3QgcmVzdWx0ID0gZ2V0SlNPTkFzT2JzZXJ2YWJsZSgnL215L3VybCcpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpLCBlID0+IGNvbnNvbGUuZXJyb3IoZSkpO1xuICogYGBgXG4gKlxuICogIyMjIFJlY2VpdmUgYW4gYXJyYXkgb2YgYXJndW1lbnRzIHBhc3NlZCB0byBhIGNhbGxiYWNrXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYmluZENhbGxiYWNrIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc29tZUZ1bmN0aW9uID0gKGNiKSA9PiB7XG4gKiAgIGNiKDUsICdzb21lIHN0cmluZycsIHtzb21lUHJvcGVydHk6ICdzb21lVmFsdWUnfSlcbiAqIH07XG4gKlxuICogY29uc3QgYm91bmRTb21lRnVuY3Rpb24gPSBiaW5kQ2FsbGJhY2soc29tZUZ1bmN0aW9uKTtcbiAqIGJvdW5kU29tZUZ1bmN0aW9uKDEyLCAxMCkuc3Vic2NyaWJlKHZhbHVlcyA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKHZhbHVlcyk7IC8vIFsyMiwgMl1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogIyMjIENvbXBhcmUgYmVoYXZpb3VyIHdpdGggYW5kIHdpdGhvdXQgYXN5bmMgU2NoZWR1bGVyXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYmluZENhbGxiYWNrLCBhc3luY1NjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGZ1bmN0aW9uIGlDYWxsTXlDYWxsYmFja1N5bmNocm9ub3VzbHkoY2IpIHtcbiAqICAgY2IoKTtcbiAqIH1cbiAqXG4gKiBjb25zdCBib3VuZFN5bmNGbiA9IGJpbmRDYWxsYmFjayhpQ2FsbE15Q2FsbGJhY2tTeW5jaHJvbm91c2x5KTtcbiAqIGNvbnN0IGJvdW5kQXN5bmNGbiA9IGJpbmRDYWxsYmFjayhpQ2FsbE15Q2FsbGJhY2tTeW5jaHJvbm91c2x5LCBudWxsLCBhc3luY1NjaGVkdWxlcik7XG4gKlxuICogYm91bmRTeW5jRm4oKS5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ0kgd2FzIHN5bmMhJykpO1xuICogYm91bmRBc3luY0ZuKCkuc3Vic2NyaWJlKCgpID0+IGNvbnNvbGUubG9nKCdJIHdhcyBhc3luYyEnKSk7XG4gKiBjb25zb2xlLmxvZygnVGhpcyBoYXBwZW5lZC4uLicpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBJIHdhcyBzeW5jIVxuICogLy8gVGhpcyBoYXBwZW5lZC4uLlxuICogLy8gSSB3YXMgYXN5bmMhXG4gKiBgYGBcbiAqXG4gKiAjIyMgVXNlIGJpbmRDYWxsYmFjayBvbiBhbiBvYmplY3QgbWV0aG9kXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYmluZENhbGxiYWNrIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYm91bmRNZXRob2QgPSBiaW5kQ2FsbGJhY2soc29tZU9iamVjdC5tZXRob2RXaXRoQ2FsbGJhY2spO1xuICogYm91bmRNZXRob2RcbiAqICAgLmNhbGwoc29tZU9iamVjdCkgLy8gbWFrZSBzdXJlIG1ldGhvZFdpdGhDYWxsYmFjayBoYXMgYWNjZXNzIHRvIHNvbWVPYmplY3RcbiAqICAgLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJpbmROb2RlQ2FsbGJhY2t9XG4gKiBAc2VlIHtAbGluayBmcm9tfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgQSBmdW5jdGlvbiB3aXRoIGEgY2FsbGJhY2sgYXMgdGhlIGxhc3QgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyXSBUaGUgc2NoZWR1bGVyIG9uIHdoaWNoIHRvIHNjaGVkdWxlIHRoZVxuICogY2FsbGJhY2tzLlxuICogQHJldHVybiB7ZnVuY3Rpb24oLi4ucGFyYW1zOiAqKTogT2JzZXJ2YWJsZX0gQSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoZVxuICogT2JzZXJ2YWJsZSB0aGF0IGRlbGl2ZXJzIHRoZSBzYW1lIHZhbHVlcyB0aGUgY2FsbGJhY2sgd291bGQgZGVsaXZlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRDYWxsYmFjayhcbiAgY2FsbGJhY2tGdW5jOiAoLi4uYXJnczogWy4uLmFueVtdLCAoLi4ucmVzOiBhbnkpID0+IHZvaWRdKSA9PiB2b2lkLFxuICByZXN1bHRTZWxlY3Rvcj86ICgoLi4uYXJnczogYW55W10pID0+IGFueSkgfCBTY2hlZHVsZXJMaWtlLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiAoLi4uYXJnczogYW55W10pID0+IE9ic2VydmFibGU8dW5rbm93bj4ge1xuICByZXR1cm4gYmluZENhbGxiYWNrSW50ZXJuYWxzKGZhbHNlLCBjYWxsYmFja0Z1bmMsIHJlc3VsdFNlbGVjdG9yLCBzY2hlZHVsZXIpO1xufVxuIiwiaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9zdWJzY3JpYmVPbic7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgQXN5bmNTdWJqZWN0IH0gZnJvbSAnLi4vQXN5bmNTdWJqZWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRDYWxsYmFja0ludGVybmFscyhcbiAgaXNOb2RlU3R5bGU6IGJvb2xlYW4sXG4gIGNhbGxiYWNrRnVuYzogYW55LFxuICByZXN1bHRTZWxlY3Rvcj86IGFueSxcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogKC4uLmFyZ3M6IGFueVtdKSA9PiBPYnNlcnZhYmxlPHVua25vd24+IHtcbiAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSB1c2VyIHByb3ZpZGVkIGEgcmVzdWx0IHNlbGVjdG9yLlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIHJldHVybiAoYmluZENhbGxiYWNrSW50ZXJuYWxzKGlzTm9kZVN0eWxlLCBjYWxsYmFja0Z1bmMsIHNjaGVkdWxlcikgYXMgYW55KVxuICAgICAgICAgIC5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgICAgIC5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IgYXMgYW55KSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGEgc2NoZWR1bGVyIHdhcyBwYXNzZWQsIHVzZSBvdXIgYHN1YnNjcmliZU9uYCBhbmQgYG9ic2VydmVPbmAgb3BlcmF0b3JzXG4gIC8vIHRvIGNvbXBvc2UgdGhhdCBiZWhhdmlvciBmb3IgdGhlIHVzZXIuXG4gIGlmIChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pIHtcbiAgICAgIHJldHVybiAoYmluZENhbGxiYWNrSW50ZXJuYWxzKGlzTm9kZVN0eWxlLCBjYWxsYmFja0Z1bmMpIGFzIGFueSlcbiAgICAgICAgLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgIC5waXBlKHN1YnNjcmliZU9uKHNjaGVkdWxlciEpLCBvYnNlcnZlT24oc2NoZWR1bGVyISkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIC8vIFdlJ3JlIHVzaW5nIEFzeW5jU3ViamVjdCwgYmVjYXVzZSBpdCBlbWl0cyB3aGVuIGl0IGNvbXBsZXRlcyxcbiAgICAvLyBhbmQgaXQgd2lsbCBwbGF5IHRoZSB2YWx1ZSB0byBhbGwgbGF0ZS1hcnJpdmluZyBzdWJzY3JpYmVycy5cbiAgICBjb25zdCBzdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdDxhbnk+KCk7XG5cbiAgICAvLyBJZiB0aGlzIGlzIHRydWUsIHRoZW4gd2UgaGF2ZW4ndCBjYWxsZWQgb3VyIGZ1bmN0aW9uIHlldC5cbiAgICBsZXQgdW5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAvLyBBZGQgb3VyIHN1YnNjcmliZXIgdG8gdGhlIHN1YmplY3QuXG4gICAgICBjb25zdCBzdWJzID0gc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG5cbiAgICAgIGlmICh1bmluaXRpYWxpemVkKSB7XG4gICAgICAgIHVuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gV2UncmUgZ29pbmcgdG8gZXhlY3V0ZSB0aGUgYm91bmQgZnVuY3Rpb25cbiAgICAgICAgLy8gVGhpcyBiaXQgaXMgdG8gc2lnbmFsIHRoYXQgd2UgYXJlIGhpdHRpbmcgdGhlIGNhbGxiYWNrIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAvLyBCZWNhdXNlIHdlIGRvbid0IGhhdmUgYW55IGFudGktXCJaYWxnb1wiIGd1YXJhbnRlZXMgd2l0aCB3aGF0ZXZlclxuICAgICAgICAvLyBmdW5jdGlvbiB3ZSBhcmUgaGFuZGVkLCB3ZSB1c2UgdGhpcyBiaXQgdG8gZmlndXJlIG91dCB3aGV0aGVyIG9yIG5vdFxuICAgICAgICAvLyB3ZSBhcmUgZ2V0dGluZyBoaXQgaW4gYSBjYWxsYmFjayBzeW5jaHJvbm91c2x5IGR1cmluZyBvdXIgY2FsbC5cbiAgICAgICAgbGV0IGlzQXN5bmMgPSBmYWxzZTtcblxuICAgICAgICAvLyBUaGlzIGlzIHVzZWQgdG8gc2lnbmFsIHRoYXQgdGhlIGNhbGxiYWNrIGNvbXBsZXRlZCBzeW5jaHJvbm91c2x5LlxuICAgICAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIENhbGwgb3VyIGZ1bmN0aW9uIHRoYXQgaGFzIGEgY2FsbGJhY2suIElmIGF0IGFueSB0aW1lIGR1cmluZyB0aGlzXG4gICAgICAgIC8vIGNhbGwsIGFuIGVycm9yIGlzIHRocm93biwgaXQgd2lsbCBiZSBjYXVnaHQgYnkgdGhlIE9ic2VydmFibGVcbiAgICAgICAgLy8gc3Vic2NyaXB0aW9uIHByb2Nlc3MgYW5kIHNlbnQgdG8gdGhlIGNvbnN1bWVyLlxuICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoXG4gICAgICAgICAgLy8gUGFzcyB0aGUgYXBwcm9wcmlhdGUgYHRoaXNgIGNvbnRleHQuXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBbXG4gICAgICAgICAgICAvLyBQYXNzIHRoZSBhcmd1bWVudHMuXG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgLy8gQW5kIG91ciBjYWxsYmFjayBoYW5kbGVyLlxuICAgICAgICAgICAgKC4uLnJlc3VsdHM6IGFueVtdKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpc05vZGVTdHlsZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBub2RlIGNhbGxiYWNrLCBzaGlmdCB0aGUgZmlyc3QgdmFsdWUgb2ZmIG9mIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlc3VsdHMgYW5kIGNoZWNrIGl0LCBhcyBpdCBpcyB0aGUgZXJyb3IgYXJndW1lbnQuIEJ5IHNoaWZ0aW5nLFxuICAgICAgICAgICAgICAgIC8vIHdlIGxlYXZlIG9ubHkgdGhlIGFyZ3VtZW50KHMpIHdlIHdhbnQgdG8gcGFzcyB0byB0aGUgY29uc3VtZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gcmVzdWx0cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGlmIChlcnIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgZXJyb3JlZCwgd2UgY2FuIHN0b3AgcHJvY2Vzc2luZyB0aGlzIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAvLyBhcyB0aGVyZSdzIG5vdGhpbmcgZWxzZSB0byBkby4gSnVzdCByZXR1cm4gdG8gZXNjYXBlLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG9uZSBhcmd1bWVudCwgbm90aWZ5IHRoZSBjb25zdW1lclxuICAgICAgICAgICAgICAvLyBvZiBpdCBhcyBhIHNpbmdsZSB2YWx1ZSwgb3RoZXJ3aXNlLCBpZiB0aGVyZSdzIG1vcmUgdGhhbiBvbmUsIHBhc3NcbiAgICAgICAgICAgICAgLy8gdGhlbSBhcyBhbiBhcnJheS4gTm90ZSB0aGF0IGlmIHRoZXJlIGFyZSBubyBhcmd1bWVudHMsIGB1bmRlZmluZWRgXG4gICAgICAgICAgICAgIC8vIHdpbGwgYmUgZW1pdHRlZC5cbiAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KDEgPCByZXN1bHRzLmxlbmd0aCA/IHJlc3VsdHMgOiByZXN1bHRzWzBdKTtcbiAgICAgICAgICAgICAgLy8gRmxpcCB0aGlzIGZsYWcsIHNvIHdlIGtub3cgd2UgY2FuIGNvbXBsZXRlIGl0IGluIHRoZSBzeW5jaHJvbm91c1xuICAgICAgICAgICAgICAvLyBjYXNlIGJlbG93LlxuICAgICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IGFzeW5jaHJvbm91cywgd2UgbmVlZCB0byBkZWZlciB0aGUgYGNvbXBsZXRlYCBjYWxsXG4gICAgICAgICAgICAgIC8vIHVudGlsIGFmdGVyIHRoZSBjYWxsIHRvIHRoZSBmdW5jdGlvbiBpcyBvdmVyLiBUaGlzIGlzIGJlY2F1c2UgYW5cbiAgICAgICAgICAgICAgLy8gZXJyb3IgY291bGQgYmUgdGhyb3duIGluIHRoZSBmdW5jdGlvbiBhZnRlciBpdCBjYWxscyBvdXIgY2FsbGJhY2ssXG4gICAgICAgICAgICAgIC8vIGFuZCBpZiB0aGF0IGlzIHRoZSBjYXNlLCBpZiB3ZSBjb21wbGV0ZSBoZXJlLCB3ZSBhcmUgdW5hYmxlIHRvIG5vdGlmeVxuICAgICAgICAgICAgICAvLyB0aGUgY29uc3VtZXIgdGhhbiBhbiBlcnJvciBvY2N1cnJlZC5cbiAgICAgICAgICAgICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgICAvLyBJZiB3ZSBmbGlwcGVkIGBpc0NvbXBsZXRlYCBkdXJpbmcgdGhlIGNhbGwsIHdlIHJlc29sdmVkIHN5bmNocm9ub3VzbHksXG4gICAgICAgIC8vIG5vdGlmeSBjb21wbGV0ZSwgYmVjYXVzZSB3ZSBza2lwcGVkIGl0IGluIHRoZSBjYWxsYmFjayB0byB3YWl0XG4gICAgICAgIC8vIHRvIG1ha2Ugc3VyZSB0aGVyZSB3ZXJlIG5vIGVycm9ycyBkdXJpbmcgdGhlIGNhbGwuXG4gICAgICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UncmUgbm8gbG9uZ2VyIHN5bmNocm9ub3VzLiBJZiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgLy8gd2UgY2FuIG5vdGlmeSBjb21wbGV0ZSBvbiB0aGUgc3BvdC5cbiAgICAgICAgaXNBc3luYyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiB0aGUgc3Vic2NyaXB0aW9uIGZyb20gYWRkaW5nIG91ciBzdWJzY3JpYmVyIHRvIHRoZSBzdWJqZWN0LlxuICAgICAgcmV0dXJuIHN1YnM7XG4gICAgfSk7XG4gIH07XG59XG4iLCIvKiBAcHJldHRpZXIgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBiaW5kQ2FsbGJhY2tJbnRlcm5hbHMgfSBmcm9tICcuL2JpbmRDYWxsYmFja0ludGVybmFscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kTm9kZUNhbGxiYWNrKFxuICBjYWxsYmFja0Z1bmM6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbiAgcmVzdWx0U2VsZWN0b3I6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55LFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiAoLi4uYXJnczogYW55W10pID0+IE9ic2VydmFibGU8YW55PjtcblxuLy8gYXJncyBpcyB0aGUgYXJndW1lbnRzIGFycmF5IGFuZCB3ZSBwdXNoIHRoZSBjYWxsYmFjayBvbiB0aGUgcmVzdCB0dXBsZSBzaW5jZSB0aGUgcmVzdCBwYXJhbWV0ZXIgbXVzdCBiZSBsYXN0IChvbmx5IGl0ZW0pIGluIGEgcGFyYW1ldGVyIGxpc3RcbmV4cG9ydCBmdW5jdGlvbiBiaW5kTm9kZUNhbGxiYWNrPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFIgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICBjYWxsYmFja0Z1bmM6ICguLi5hcmdzOiBbLi4uQSwgKGVycjogYW55LCAuLi5yZXM6IFIpID0+IHZvaWRdKSA9PiB2b2lkLFxuICBzY2hlZHVsZXJMaWtlPzogU2NoZWR1bGVyTGlrZVxuKTogKC4uLmFyZzogQSkgPT4gT2JzZXJ2YWJsZTxSIGV4dGVuZHMgW10gPyB2b2lkIDogUiBleHRlbmRzIFthbnldID8gUlswXSA6IFI+O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgTm9kZS5qcy1zdHlsZSBjYWxsYmFjayBBUEkgdG8gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW5cbiAqIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MganVzdCBsaWtlIHtAbGluayBiaW5kQ2FsbGJhY2t9LCBidXQgdGhlXG4gKiBjYWxsYmFjayBpcyBleHBlY3RlZCB0byBiZSBvZiB0eXBlIGBjYWxsYmFjayhlcnJvciwgcmVzdWx0KWAuPC9zcGFuPlxuICpcbiAqIGBiaW5kTm9kZUNhbGxiYWNrYCBpcyBub3QgYW4gb3BlcmF0b3IgYmVjYXVzZSBpdHMgaW5wdXQgYW5kIG91dHB1dCBhcmUgbm90XG4gKiBPYnNlcnZhYmxlcy4gVGhlIGlucHV0IGlzIGEgZnVuY3Rpb24gYGZ1bmNgIHdpdGggc29tZSBwYXJhbWV0ZXJzLCBidXQgdGhlXG4gKiBsYXN0IHBhcmFtZXRlciBtdXN0IGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBgZnVuY2AgY2FsbHMgd2hlbiBpdCBpc1xuICogZG9uZS4gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIGZvbGxvdyBOb2RlLmpzIGNvbnZlbnRpb25zLFxuICogd2hlcmUgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBjYWxsYmFjayBpcyBhbiBlcnJvciBvYmplY3QsIHNpZ25hbGluZ1xuICogd2hldGhlciBjYWxsIHdhcyBzdWNjZXNzZnVsLiBJZiB0aGF0IG9iamVjdCBpcyBwYXNzZWQgdG8gY2FsbGJhY2ssIGl0IG1lYW5zXG4gKiBzb21ldGhpbmcgd2VudCB3cm9uZy5cbiAqXG4gKiBUaGUgb3V0cHV0IG9mIGBiaW5kTm9kZUNhbGxiYWNrYCBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHNhbWVcbiAqIHBhcmFtZXRlcnMgYXMgYGZ1bmNgLCBleGNlcHQgdGhlIGxhc3Qgb25lICh0aGUgY2FsbGJhY2spLiBXaGVuIHRoZSBvdXRwdXRcbiAqIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFyZ3VtZW50cywgaXQgd2lsbCByZXR1cm4gYW4gT2JzZXJ2YWJsZS5cbiAqIElmIGBmdW5jYCBjYWxscyBpdHMgY2FsbGJhY2sgd2l0aCBlcnJvciBwYXJhbWV0ZXIgcHJlc2VudCwgT2JzZXJ2YWJsZSB3aWxsXG4gKiBlcnJvciB3aXRoIHRoYXQgdmFsdWUgYXMgd2VsbC4gSWYgZXJyb3IgcGFyYW1ldGVyIGlzIG5vdCBwYXNzZWQsIE9ic2VydmFibGUgd2lsbCBlbWl0XG4gKiBzZWNvbmQgcGFyYW1ldGVyLiBJZiB0aGVyZSBhcmUgbW9yZSBwYXJhbWV0ZXJzICh0aGlyZCBhbmQgc28gb24pLFxuICogT2JzZXJ2YWJsZSB3aWxsIGVtaXQgYW4gYXJyYXkgd2l0aCBhbGwgYXJndW1lbnRzLCBleGNlcHQgZmlyc3QgZXJyb3IgYXJndW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IGBmdW5jYCB3aWxsIG5vdCBiZSBjYWxsZWQgYXQgdGhlIHNhbWUgdGltZSBvdXRwdXQgZnVuY3Rpb24gaXMsXG4gKiBidXQgcmF0aGVyIHdoZW5ldmVyIHJlc3VsdGluZyBPYnNlcnZhYmxlIGlzIHN1YnNjcmliZWQuIEJ5IGRlZmF1bHQgY2FsbCB0b1xuICogYGZ1bmNgIHdpbGwgaGFwcGVuIHN5bmNocm9ub3VzbHkgYWZ0ZXIgc3Vic2NyaXB0aW9uLCBidXQgdGhhdCBjYW4gYmUgY2hhbmdlZFxuICogd2l0aCBwcm9wZXIgYHNjaGVkdWxlcmAgcHJvdmlkZWQgYXMgb3B0aW9uYWwgdGhpcmQgcGFyYW1ldGVyLiB7QGxpbmsgU2NoZWR1bGVyTGlrZX1cbiAqIGNhbiBhbHNvIGNvbnRyb2wgd2hlbiB2YWx1ZXMgZnJvbSBjYWxsYmFjayB3aWxsIGJlIGVtaXR0ZWQgYnkgT2JzZXJ2YWJsZS5cbiAqIFRvIGZpbmQgb3V0IG1vcmUsIGNoZWNrIG91dCBkb2N1bWVudGF0aW9uIGZvciB7QGxpbmsgYmluZENhbGxiYWNrfSwgd2hlcmVcbiAqIHtAbGluayBTY2hlZHVsZXJMaWtlfSB3b3JrcyBleGFjdGx5IHRoZSBzYW1lLlxuICpcbiAqIEFzIGluIHtAbGluayBiaW5kQ2FsbGJhY2t9LCBjb250ZXh0IChgdGhpc2AgcHJvcGVydHkpIG9mIGlucHV0IGZ1bmN0aW9uIHdpbGwgYmUgc2V0IHRvIGNvbnRleHRcbiAqIG9mIHJldHVybmVkIGZ1bmN0aW9uLCB3aGVuIGl0IGlzIGNhbGxlZC5cbiAqXG4gKiBBZnRlciBPYnNlcnZhYmxlIGVtaXRzIHZhbHVlLCBpdCB3aWxsIGNvbXBsZXRlIGltbWVkaWF0ZWx5LiBUaGlzIG1lYW5zXG4gKiBldmVuIGlmIGBmdW5jYCBjYWxscyBjYWxsYmFjayBhZ2FpbiwgdmFsdWVzIGZyb20gc2Vjb25kIGFuZCBjb25zZWN1dGl2ZVxuICogY2FsbHMgd2lsbCBuZXZlciBhcHBlYXIgb24gdGhlIHN0cmVhbS4gSWYgeW91IG5lZWQgdG8gaGFuZGxlIGZ1bmN0aW9uc1xuICogdGhhdCBjYWxsIGNhbGxiYWNrcyBtdWx0aXBsZSB0aW1lcywgY2hlY2sgb3V0IHtAbGluayBmcm9tRXZlbnR9IG9yXG4gKiB7QGxpbmsgZnJvbUV2ZW50UGF0dGVybn0gaW5zdGVhZC5cbiAqXG4gKiBOb3RlIHRoYXQgYGJpbmROb2RlQ2FsbGJhY2tgIGNhbiBiZSB1c2VkIGluIG5vbi1Ob2RlLmpzIGVudmlyb25tZW50cyBhcyB3ZWxsLlxuICogXCJOb2RlLmpzLXN0eWxlXCIgY2FsbGJhY2tzIGFyZSBqdXN0IGEgY29udmVudGlvbiwgc28gaWYgeW91IHdyaXRlIGZvclxuICogYnJvd3NlcnMgb3IgYW55IG90aGVyIGVudmlyb25tZW50IGFuZCBBUEkgeW91IHVzZSBpbXBsZW1lbnRzIHRoYXQgY2FsbGJhY2sgc3R5bGUsXG4gKiBgYmluZE5vZGVDYWxsYmFja2AgY2FuIGJlIHNhZmVseSB1c2VkIG9uIHRoYXQgQVBJIGZ1bmN0aW9ucyBhcyB3ZWxsLlxuICpcbiAqIFJlbWVtYmVyIHRoYXQgRXJyb3Igb2JqZWN0IHBhc3NlZCB0byBjYWxsYmFjayBkb2VzIG5vdCBoYXZlIHRvIGJlIGFuIGluc3RhbmNlXG4gKiBvZiBKYXZhU2NyaXB0IGJ1aWx0LWluIGBFcnJvcmAgb2JqZWN0LiBJbiBmYWN0LCBpdCBkb2VzIG5vdCBldmVuIGhhdmUgdG8gYW4gb2JqZWN0LlxuICogRXJyb3IgcGFyYW1ldGVyIG9mIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludGVycHJldGVkIGFzIFwicHJlc2VudFwiLCB3aGVuIHZhbHVlXG4gKiBvZiB0aGF0IHBhcmFtZXRlciBpcyB0cnV0aHkuIEl0IGNvdWxkIGJlLCBmb3IgZXhhbXBsZSwgbm9uLXplcm8gbnVtYmVyLCBub24tZW1wdHlcbiAqIHN0cmluZyBvciBib29sZWFuIGB0cnVlYC4gSW4gYWxsIG9mIHRoZXNlIGNhc2VzIHJlc3VsdGluZyBPYnNlcnZhYmxlIHdvdWxkIGVycm9yXG4gKiB3aXRoIHRoYXQgdmFsdWUuIFRoaXMgbWVhbnMgdXN1YWxseSByZWd1bGFyIHN0eWxlIGNhbGxiYWNrcyB3aWxsIGZhaWwgdmVyeSBvZnRlbiB3aGVuXG4gKiBgYmluZE5vZGVDYWxsYmFja2AgaXMgdXNlZC4gSWYgeW91ciBPYnNlcnZhYmxlIGVycm9ycyBtdWNoIG1vcmUgb2Z0ZW4gdGhlbiB5b3VcbiAqIHdvdWxkIGV4cGVjdCwgY2hlY2sgaWYgY2FsbGJhY2sgcmVhbGx5IGlzIGNhbGxlZCBpbiBOb2RlLmpzLXN0eWxlIGFuZCwgaWYgbm90LFxuICogc3dpdGNoIHRvIHtAbGluayBiaW5kQ2FsbGJhY2t9IGluc3RlYWQuXG4gKlxuICogTm90ZSB0aGF0IGV2ZW4gaWYgZXJyb3IgcGFyYW1ldGVyIGlzIHRlY2huaWNhbGx5IHByZXNlbnQgaW4gY2FsbGJhY2ssIGJ1dCBpdHMgdmFsdWVcbiAqIGlzIGZhbHN5LCBpdCBzdGlsbCB3b24ndCBhcHBlYXIgaW4gYXJyYXkgZW1pdHRlZCBieSBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKiAjIyMgIFJlYWQgYSBmaWxlIGZyb20gdGhlIGZpbGVzeXN0ZW0gYW5kIGdldCB0aGUgZGF0YSBhcyBhbiBPYnNlcnZhYmxlXG4gKiBgYGB0c1xuICogaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuICogY29uc3QgcmVhZEZpbGVBc09ic2VydmFibGUgPSBiaW5kTm9kZUNhbGxiYWNrKGZzLnJlYWRGaWxlKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHJlYWRGaWxlQXNPYnNlcnZhYmxlKCcuL3JvYWROYW1lcy50eHQnLCAndXRmOCcpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpLCBlID0+IGNvbnNvbGUuZXJyb3IoZSkpO1xuICogYGBgXG4gKlxuICogIyMjIFVzZSBvbiBmdW5jdGlvbiBjYWxsaW5nIGNhbGxiYWNrIHdpdGggbXVsdGlwbGUgYXJndW1lbnRzXG4gKiBgYGB0c1xuICogc29tZUZ1bmN0aW9uKChlcnIsIGEsIGIpID0+IHtcbiAqICAgY29uc29sZS5sb2coZXJyKTsgLy8gbnVsbFxuICogICBjb25zb2xlLmxvZyhhKTsgLy8gNVxuICogICBjb25zb2xlLmxvZyhiKTsgLy8gXCJzb21lIHN0cmluZ1wiXG4gKiB9KTtcbiAqIGNvbnN0IGJvdW5kU29tZUZ1bmN0aW9uID0gYmluZE5vZGVDYWxsYmFjayhzb21lRnVuY3Rpb24pO1xuICogYm91bmRTb21lRnVuY3Rpb24oKVxuICogLnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8gWzUsIFwic29tZSBzdHJpbmdcIl1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogIyMjIFVzZSBvbiBmdW5jdGlvbiBjYWxsaW5nIGNhbGxiYWNrIGluIHJlZ3VsYXIgc3R5bGVcbiAqIGBgYHRzXG4gKiBzb21lRnVuY3Rpb24oYSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKGEpOyAvLyA1XG4gKiB9KTtcbiAqIGNvbnN0IGJvdW5kU29tZUZ1bmN0aW9uID0gYmluZE5vZGVDYWxsYmFjayhzb21lRnVuY3Rpb24pO1xuICogYm91bmRTb21lRnVuY3Rpb24oKVxuICogLnN1YnNjcmliZShcbiAqICAgdmFsdWUgPT4ge30gICAgICAgICAgICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWRcbiAqICAgZXJyID0+IGNvbnNvbGUubG9nKGVycikgLy8gNVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJpbmRDYWxsYmFja31cbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBGdW5jdGlvbiB3aXRoIGEgTm9kZS5qcy1zdHlsZSBjYWxsYmFjayBhcyB0aGUgbGFzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXJdIFRoZSBzY2hlZHVsZXIgb24gd2hpY2ggdG8gc2NoZWR1bGUgdGhlXG4gKiBjYWxsYmFja3MuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbiguLi5wYXJhbXM6ICopOiBPYnNlcnZhYmxlfSBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlXG4gKiBPYnNlcnZhYmxlIHRoYXQgZGVsaXZlcnMgdGhlIHNhbWUgdmFsdWVzIHRoZSBOb2RlLmpzIGNhbGxiYWNrIHdvdWxkXG4gKiBkZWxpdmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZE5vZGVDYWxsYmFjayhcbiAgY2FsbGJhY2tGdW5jOiAoLi4uYXJnczogWy4uLmFueVtdLCAoZXJyOiBhbnksIC4uLnJlczogYW55KSA9PiB2b2lkXSkgPT4gdm9pZCxcbiAgcmVzdWx0U2VsZWN0b3I/OiAoKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpIHwgU2NoZWR1bGVyTGlrZSxcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogKC4uLmFyZ3M6IGFueVtdKSA9PiBPYnNlcnZhYmxlPGFueT4ge1xuICByZXR1cm4gYmluZENhbGxiYWNrSW50ZXJuYWxzKHRydWUsIGNhbGxiYWNrRnVuYywgcmVzdWx0U2VsZWN0b3IsIHNjaGVkdWxlcik7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIFNjaGVkdWxlckxpa2UsIE9ic2VydmVkVmFsdWVPZiwgT2JzZXJ2YWJsZUlucHV0VHVwbGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhcmdzQXJnQXJyYXlPck9iamVjdCB9IGZyb20gJy4uL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuaW1wb3J0IHsgcG9wUmVzdWx0U2VsZWN0b3IsIHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBjcmVhdGVPYmplY3QgfSBmcm9tICcuLi91dGlsL2NyZWF0ZU9iamVjdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IEFueUNhdGNoZXIgfSBmcm9tICcuLi9BbnlDYXRjaGVyJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcblxuLy8gY29tYmluZUxhdGVzdChhbnkpXG4vLyBXZSBwdXQgdGhpcyBmaXJzdCBiZWNhdXNlIHdlIG5lZWQgdG8gY2F0Y2ggY2FzZXMgd2hlcmUgdGhlIHVzZXIgaGFzIHN1cHBsaWVkXG4vLyBfZXhhY3RseSBgYW55YF8gYXMgdGhlIGFyZ3VtZW50LiBTaW5jZSBgYW55YCBsaXRlcmFsbHkgbWF0Y2hlcyBfYW55dGhpbmdfLFxuLy8gd2UgZG9uJ3Qgd2FudCBpdCB0byByYW5kb21seSBoaXQgb25lIG9mIHRoZSBvdGhlciB0eXBlIHNpZ25hdHVyZXMgYmVsb3csXG4vLyBhcyB3ZSBoYXZlIG5vIGlkZWEgYXQgYnVpbGQtdGltZSB3aGF0IHR5cGUgd2Ugc2hvdWxkIGJlIHJldHVybmluZyB3aGVuIGdpdmVuIGFuIGFueS5cblxuLyoqXG4gKiBZb3UgaGF2ZSBwYXNzZWQgYGFueWAgaGVyZSwgd2UgY2FuJ3QgZmlndXJlIG91dCBpZiBpdCBpc1xuICogYW4gYXJyYXkgb3IgYW4gb2JqZWN0LCBzbyB5b3UncmUgZ2V0dGluZyBgdW5rbm93bmAuIFVzZSBiZXR0ZXIgdHlwZXMuXG4gKiBAcGFyYW0gYXJnIFNvbWV0aGluZyB0eXBlZCBhcyBgYW55YFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxUIGV4dGVuZHMgQW55Q2F0Y2hlcj4oYXJnOiBUKTogT2JzZXJ2YWJsZTx1bmtub3duPjtcblxuLy8gY29tYmluZUxhdGVzdChbYSwgYiwgY10pXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdChzb3VyY2VzOiBbXSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oc291cmNlczogcmVhZG9ubHkgWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QT47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYGNvbWJpbmVMYXRlc3RBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICBzb3VyY2VzOiByZWFkb25seSBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dLFxuICByZXN1bHRTZWxlY3RvcjogKC4uLnZhbHVlczogQSkgPT4gUixcbiAgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlXG4pOiBPYnNlcnZhYmxlPFI+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIHNvdXJjZXM6IHJlYWRvbmx5IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0sXG4gIHJlc3VsdFNlbGVjdG9yOiAoLi4udmFsdWVzOiBBKSA9PiBSXG4pOiBPYnNlcnZhYmxlPFI+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHNjaGVkdWxlZGAgYW5kIGBjb21iaW5lTGF0ZXN0QWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgc291cmNlczogcmVhZG9ubHkgWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSxcbiAgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlXG4pOiBPYnNlcnZhYmxlPEE+O1xuXG4vLyBjb21iaW5lTGF0ZXN0KGEsIGIsIGMpXG4vKiogQGRlcHJlY2F0ZWQgUGFzcyBhbiBhcnJheSBvZiBzb3VyY2VzIGluc3RlYWQuIFRoZSByZXN0LXBhcmFtZXRlcnMgc2lnbmF0dXJlIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvYXJyYXktYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLnNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPYnNlcnZhYmxlPEE+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHNjaGVkdWxlZGAgYW5kIGBjb21iaW5lTGF0ZXN0QWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgLi4uc291cmNlc0FuZFJlc3VsdFNlbGVjdG9yQW5kU2NoZWR1bGVyOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sICguLi52YWx1ZXM6IEEpID0+IFIsIFNjaGVkdWxlckxpa2VdXG4pOiBPYnNlcnZhYmxlPFI+O1xuLyoqIEBkZXByZWNhdGVkIFBhc3MgYW4gYXJyYXkgb2Ygc291cmNlcyBpbnN0ZWFkLiBUaGUgcmVzdC1wYXJhbWV0ZXJzIHNpZ25hdHVyZSB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL2FycmF5LWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgLi4uc291cmNlc0FuZFJlc3VsdFNlbGVjdG9yOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sICguLi52YWx1ZXM6IEEpID0+IFJdXG4pOiBPYnNlcnZhYmxlPFI+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHNjaGVkdWxlZGAgYW5kIGBjb21iaW5lTGF0ZXN0QWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBTY2hlZHVsZXJMaWtlXVxuKTogT2JzZXJ2YWJsZTxBPjtcblxuLy8gY29tYmluZUxhdGVzdCh7YSwgYiwgY30pXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdChzb3VyY2VzT2JqZWN0OiB7IFtLIGluIGFueV06IG5ldmVyIH0pOiBPYnNlcnZhYmxlPG5ldmVyPjtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4+KFxuICBzb3VyY2VzT2JqZWN0OiBUXG4pOiBPYnNlcnZhYmxlPHsgW0sgaW4ga2V5b2YgVF06IE9ic2VydmVkVmFsdWVPZjxUW0tdPiB9PjtcblxuLyoqXG4gKiBDb21iaW5lcyBtdWx0aXBsZSBPYnNlcnZhYmxlcyB0byBjcmVhdGUgYW4gT2JzZXJ2YWJsZSB3aG9zZSB2YWx1ZXMgYXJlXG4gKiBjYWxjdWxhdGVkIGZyb20gdGhlIGxhdGVzdCB2YWx1ZXMgb2YgZWFjaCBvZiBpdHMgaW5wdXQgT2JzZXJ2YWJsZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPldoZW5ldmVyIGFueSBpbnB1dCBPYnNlcnZhYmxlIGVtaXRzIGEgdmFsdWUsIGl0XG4gKiBjb21wdXRlcyBhIGZvcm11bGEgdXNpbmcgdGhlIGxhdGVzdCB2YWx1ZXMgZnJvbSBhbGwgdGhlIGlucHV0cywgdGhlbiBlbWl0c1xuICogdGhlIG91dHB1dCBvZiB0aGF0IGZvcm11bGEuPC9zcGFuPlxuICpcbiAqICFbXShjb21iaW5lTGF0ZXN0LnBuZylcbiAqXG4gKiBgY29tYmluZUxhdGVzdGAgY29tYmluZXMgdGhlIHZhbHVlcyBmcm9tIGFsbCB0aGUgT2JzZXJ2YWJsZXMgcGFzc2VkIGluIHRoZVxuICogb2JzZXJ2YWJsZXMgYXJyYXkuIFRoaXMgaXMgZG9uZSBieSBzdWJzY3JpYmluZyB0byBlYWNoIE9ic2VydmFibGUgaW4gb3JkZXIgYW5kLFxuICogd2hlbmV2ZXIgYW55IE9ic2VydmFibGUgZW1pdHMsIGNvbGxlY3RpbmcgYW4gYXJyYXkgb2YgdGhlIG1vc3QgcmVjZW50XG4gKiB2YWx1ZXMgZnJvbSBlYWNoIE9ic2VydmFibGUuIFNvIGlmIHlvdSBwYXNzIGBuYCBPYnNlcnZhYmxlcyB0byB0aGlzIG9wZXJhdG9yLFxuICogdGhlIHJldHVybmVkIE9ic2VydmFibGUgd2lsbCBhbHdheXMgZW1pdCBhbiBhcnJheSBvZiBgbmAgdmFsdWVzLCBpbiBhbiBvcmRlclxuICogY29ycmVzcG9uZGluZyB0byB0aGUgb3JkZXIgb2YgdGhlIHBhc3NlZCBPYnNlcnZhYmxlcyAodGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IE9ic2VydmFibGVcbiAqIHdpbGwgYmUgYXQgaW5kZXggMCBvZiB0aGUgYXJyYXkgYW5kIHNvIG9uKS5cbiAqXG4gKiBTdGF0aWMgdmVyc2lvbiBvZiBgY29tYmluZUxhdGVzdGAgYWNjZXB0cyBhbiBhcnJheSBvZiBPYnNlcnZhYmxlcy4gTm90ZSB0aGF0IGFuIGFycmF5IG9mXG4gKiBPYnNlcnZhYmxlcyBpcyBhIGdvb2QgY2hvaWNlLCBpZiB5b3UgZG9uJ3Qga25vdyBiZWZvcmVoYW5kIGhvdyBtYW55IE9ic2VydmFibGVzXG4gKiB5b3Ugd2lsbCBjb21iaW5lLiBQYXNzaW5nIGFuIGVtcHR5IGFycmF5IHdpbGwgcmVzdWx0IGluIGFuIE9ic2VydmFibGUgdGhhdFxuICogY29tcGxldGVzIGltbWVkaWF0ZWx5LlxuICpcbiAqIFRvIGVuc3VyZSB0aGUgb3V0cHV0IGFycmF5IGFsd2F5cyBoYXMgdGhlIHNhbWUgbGVuZ3RoLCBgY29tYmluZUxhdGVzdGAgd2lsbFxuICogYWN0dWFsbHkgd2FpdCBmb3IgYWxsIGlucHV0IE9ic2VydmFibGVzIHRvIGVtaXQgYXQgbGVhc3Qgb25jZSxcbiAqIGJlZm9yZSBpdCBzdGFydHMgZW1pdHRpbmcgcmVzdWx0cy4gVGhpcyBtZWFucyBpZiBzb21lIE9ic2VydmFibGUgZW1pdHNcbiAqIHZhbHVlcyBiZWZvcmUgb3RoZXIgT2JzZXJ2YWJsZXMgc3RhcnRlZCBlbWl0dGluZywgYWxsIHRoZXNlIHZhbHVlcyBidXQgdGhlIGxhc3RcbiAqIHdpbGwgYmUgbG9zdC4gT24gdGhlIG90aGVyIGhhbmQsIGlmIHNvbWUgT2JzZXJ2YWJsZSBkb2VzIG5vdCBlbWl0IGEgdmFsdWUgYnV0XG4gKiBjb21wbGV0ZXMsIHJlc3VsdGluZyBPYnNlcnZhYmxlIHdpbGwgY29tcGxldGUgYXQgdGhlIHNhbWUgbW9tZW50IHdpdGhvdXRcbiAqIGVtaXR0aW5nIGFueXRoaW5nLCBzaW5jZSBpdCB3aWxsIG5vdyBiZSBpbXBvc3NpYmxlIHRvIGluY2x1ZGUgYSB2YWx1ZSBmcm9tIHRoZVxuICogY29tcGxldGVkIE9ic2VydmFibGUgaW4gdGhlIHJlc3VsdGluZyBhcnJheS4gQWxzbywgaWYgc29tZSBpbnB1dCBPYnNlcnZhYmxlIGRvZXNcbiAqIG5vdCBlbWl0IGFueSB2YWx1ZSBhbmQgbmV2ZXIgY29tcGxldGVzLCBgY29tYmluZUxhdGVzdGAgd2lsbCBhbHNvIG5ldmVyIGVtaXRcbiAqIGFuZCBuZXZlciBjb21wbGV0ZSwgc2luY2UsIGFnYWluLCBpdCB3aWxsIHdhaXQgZm9yIGFsbCBzdHJlYW1zIHRvIGVtaXQgc29tZVxuICogdmFsdWUuXG4gKlxuICogSWYgYXQgbGVhc3Qgb25lIE9ic2VydmFibGUgd2FzIHBhc3NlZCB0byBgY29tYmluZUxhdGVzdGAgYW5kIGFsbCBwYXNzZWQgT2JzZXJ2YWJsZXNcbiAqIGVtaXR0ZWQgc29tZXRoaW5nLCB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUgd2lsbCBjb21wbGV0ZSB3aGVuIGFsbCBjb21iaW5lZFxuICogc3RyZWFtcyBjb21wbGV0ZS4gU28gZXZlbiBpZiBzb21lIE9ic2VydmFibGUgY29tcGxldGVzLCB0aGUgcmVzdWx0IG9mXG4gKiBgY29tYmluZUxhdGVzdGAgd2lsbCBzdGlsbCBlbWl0IHZhbHVlcyB3aGVuIG90aGVyIE9ic2VydmFibGVzIGRvLiBJbiBjYXNlXG4gKiBvZiBhIGNvbXBsZXRlZCBPYnNlcnZhYmxlLCBpdHMgdmFsdWUgZnJvbSBub3cgb24gd2lsbCBhbHdheXMgYmUgdGhlIGxhc3RcbiAqIGVtaXR0ZWQgdmFsdWUuIE9uIHRoZSBvdGhlciBoYW5kLCBpZiBhbnkgT2JzZXJ2YWJsZSBlcnJvcnMsIGBjb21iaW5lTGF0ZXN0YFxuICogd2lsbCBlcnJvciBpbW1lZGlhdGVseSBhcyB3ZWxsLCBhbmQgYWxsIG90aGVyIE9ic2VydmFibGVzIHdpbGwgYmUgdW5zdWJzY3JpYmVkLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ29tYmluZSB0d28gdGltZXIgT2JzZXJ2YWJsZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdGltZXIsIGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBmaXJzdFRpbWVyID0gdGltZXIoMCwgMTAwMCk7IC8vIGVtaXQgMCwgMSwgMi4uLiBhZnRlciBldmVyeSBzZWNvbmQsIHN0YXJ0aW5nIGZyb20gbm93XG4gKiBjb25zdCBzZWNvbmRUaW1lciA9IHRpbWVyKDUwMCwgMTAwMCk7IC8vIGVtaXQgMCwgMSwgMi4uLiBhZnRlciBldmVyeSBzZWNvbmQsIHN0YXJ0aW5nIDAsNXMgZnJvbSBub3dcbiAqIGNvbnN0IGNvbWJpbmVkVGltZXJzID0gY29tYmluZUxhdGVzdChbZmlyc3RUaW1lciwgc2Vjb25kVGltZXJdKTtcbiAqIGNvbWJpbmVkVGltZXJzLnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICogLy8gTG9nc1xuICogLy8gWzAsIDBdIGFmdGVyIDAuNXNcbiAqIC8vIFsxLCAwXSBhZnRlciAxc1xuICogLy8gWzEsIDFdIGFmdGVyIDEuNXNcbiAqIC8vIFsyLCAxXSBhZnRlciAyc1xuICogYGBgXG4gKlxuICogQ29tYmluZSBhIGRpY3Rpb25hcnkgb2YgT2JzZXJ2YWJsZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGRlbGF5LCBzdGFydFdpdGgsIGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBvYnNlcnZhYmxlcyA9IHtcbiAqICAgYTogb2YoMSkucGlwZShkZWxheSgxMDAwKSwgc3RhcnRXaXRoKDApKSxcbiAqICAgYjogb2YoNSkucGlwZShkZWxheSg1MDAwKSwgc3RhcnRXaXRoKDApKSxcbiAqICAgYzogb2YoMTApLnBpcGUoZGVsYXkoMTAwMDApLCBzdGFydFdpdGgoMCkpXG4gKiB9O1xuICogY29uc3QgY29tYmluZWQgPSBjb21iaW5lTGF0ZXN0KG9ic2VydmFibGVzKTtcbiAqIGNvbWJpbmVkLnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICogLy8gTG9nc1xuICogLy8geyBhOiAwLCBiOiAwLCBjOiAwIH0gaW1tZWRpYXRlbHlcbiAqIC8vIHsgYTogMSwgYjogMCwgYzogMCB9IGFmdGVyIDFzXG4gKiAvLyB7IGE6IDEsIGI6IDUsIGM6IDAgfSBhZnRlciA1c1xuICogLy8geyBhOiAxLCBiOiA1LCBjOiAxMCB9IGFmdGVyIDEwc1xuICogYGBgXG4gKlxuICogQ29tYmluZSBhbiBhcnJheSBvZiBPYnNlcnZhYmxlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGVsYXksIHN0YXJ0V2l0aCwgY29tYmluZUxhdGVzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9ic2VydmFibGVzID0gWzEsIDUsIDEwXS5tYXAoXG4gKiAgIG4gPT4gb2YobikucGlwZShcbiAqICAgICBkZWxheShuICogMTAwMCksIC8vIGVtaXQgMCBhbmQgdGhlbiBlbWl0IG4gYWZ0ZXIgbiBzZWNvbmRzXG4gKiAgICAgc3RhcnRXaXRoKDApXG4gKiAgIClcbiAqICk7XG4gKiBjb25zdCBjb21iaW5lZCA9IGNvbWJpbmVMYXRlc3Qob2JzZXJ2YWJsZXMpO1xuICogY29tYmluZWQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKiAvLyBMb2dzXG4gKiAvLyBbMCwgMCwgMF0gaW1tZWRpYXRlbHlcbiAqIC8vIFsxLCAwLCAwXSBhZnRlciAxc1xuICogLy8gWzEsIDUsIDBdIGFmdGVyIDVzXG4gKiAvLyBbMSwgNSwgMTBdIGFmdGVyIDEwc1xuICogYGBgXG4gKlxuICogVXNlIG1hcCBvcGVyYXRvciB0byBkeW5hbWljYWxseSBjYWxjdWxhdGUgdGhlIEJvZHktTWFzcyBJbmRleFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgY29tYmluZUxhdGVzdCwgbWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgd2VpZ2h0ID0gb2YoNzAsIDcyLCA3NiwgNzksIDc1KTtcbiAqIGNvbnN0IGhlaWdodCA9IG9mKDEuNzYsIDEuNzcsIDEuNzgpO1xuICogY29uc3QgYm1pID0gY29tYmluZUxhdGVzdChbd2VpZ2h0LCBoZWlnaHRdKS5waXBlKFxuICogICBtYXAoKFt3LCBoXSkgPT4gdyAvIChoICogaCkpLFxuICogKTtcbiAqIGJtaS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnQk1JIGlzICcgKyB4KSk7XG4gKlxuICogLy8gV2l0aCBvdXRwdXQgdG8gY29uc29sZTpcbiAqIC8vIEJNSSBpcyAyNC4yMTIyOTMzODg0Mjk3NTNcbiAqIC8vIEJNSSBpcyAyMy45Mzk0ODA5OTIwNTIwOVxuICogLy8gQk1JIGlzIDIzLjY3MTI1MzYyOTU5MjIyMlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlfVxuICogQHNlZSB7QGxpbmsgd2l0aExhdGVzdEZyb219XG4gKlxuICogQHBhcmFtIHtPYnNlcnZhYmxlSW5wdXR9IFtvYnNlcnZhYmxlc10gQW4gYXJyYXkgb2YgaW5wdXQgT2JzZXJ2YWJsZXMgdG8gY29tYmluZSB3aXRoIGVhY2ggb3RoZXIuXG4gKiBBbiBhcnJheSBvZiBPYnNlcnZhYmxlcyBtdXN0IGJlIGdpdmVuIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtwcm9qZWN0XSBBbiBvcHRpb25hbCBmdW5jdGlvbiB0byBwcm9qZWN0IHRoZSB2YWx1ZXMgZnJvbVxuICogdGhlIGNvbWJpbmVkIGxhdGVzdCB2YWx1ZXMgaW50byBhIG5ldyB2YWx1ZSBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9bnVsbF0gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIHN1YnNjcmliaW5nIHRvXG4gKiBlYWNoIGlucHV0IE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIG9mIHByb2plY3RlZCB2YWx1ZXMgZnJvbSB0aGUgbW9zdCByZWNlbnRcbiAqIHZhbHVlcyBmcm9tIGVhY2ggaW5wdXQgT2JzZXJ2YWJsZSwgb3IgYW4gYXJyYXkgb2YgdGhlIG1vc3QgcmVjZW50IHZhbHVlcyBmcm9tXG4gKiBlYWNoIGlucHV0IE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0PE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55PiwgUj4oLi4uYXJnczogYW55W10pOiBPYnNlcnZhYmxlPFI+IHwgT2JzZXJ2YWJsZTxPYnNlcnZlZFZhbHVlT2Y8Tz5bXT4ge1xuICBjb25zdCBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIoYXJncyk7XG4gIGNvbnN0IHJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG5cbiAgY29uc3QgeyBhcmdzOiBvYnNlcnZhYmxlcywga2V5cyB9ID0gYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncyk7XG5cbiAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIG5vIG9ic2VydmFibGVzIGFyZSBwYXNzZWQsIG9yIHNvbWVvbmUgaGFzIHBhc3NlZCBhbiBlbXB0eSBhcnJheVxuICAgIC8vIG9mIG9ic2VydmFibGVzLCBvciBldmVuIGFuIGVtcHR5IG9iamVjdCBQT0pPLCB3ZSBuZWVkIHRvIGp1c3RcbiAgICAvLyBjb21wbGV0ZSAoRU1QVFkpLCBidXQgd2UgaGF2ZSB0byBob25vciB0aGUgc2NoZWR1bGVyIHByb3ZpZGVkIGlmIGFueS5cbiAgICByZXR1cm4gZnJvbShbXSwgc2NoZWR1bGVyIGFzIGFueSk7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZTxPYnNlcnZlZFZhbHVlT2Y8Tz5bXT4oXG4gICAgY29tYmluZUxhdGVzdEluaXQoXG4gICAgICBvYnNlcnZhYmxlcyBhcyBPYnNlcnZhYmxlSW5wdXQ8T2JzZXJ2ZWRWYWx1ZU9mPE8+PltdLFxuICAgICAgc2NoZWR1bGVyLFxuICAgICAga2V5c1xuICAgICAgICA/IC8vIEEgaGFuZGxlciBmb3Igc2NydWJiaW5nIHRoZSBhcnJheSBvZiBhcmdzIGludG8gYSBkaWN0aW9uYXJ5LlxuICAgICAgICAgICh2YWx1ZXMpID0+IGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpXG4gICAgICAgIDogLy8gQSBwYXNzdGhyb3VnaCB0byBqdXN0IHJldHVybiB0aGUgYXJyYXlcbiAgICAgICAgICBpZGVudGl0eVxuICAgIClcbiAgKTtcblxuICByZXR1cm4gcmVzdWx0U2VsZWN0b3IgPyAocmVzdWx0LnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpIGFzIE9ic2VydmFibGU8Uj4pIDogcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdEluaXQoXG4gIG9ic2VydmFibGVzOiBPYnNlcnZhYmxlSW5wdXQ8YW55PltdLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlLFxuICB2YWx1ZVRyYW5zZm9ybTogKHZhbHVlczogYW55W10pID0+IGFueSA9IGlkZW50aXR5XG4pIHtcbiAgcmV0dXJuIChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pID0+IHtcbiAgICAvLyBUaGUgb3V0ZXIgc3Vic2NyaXB0aW9uLiBXZSdyZSBjYXB0dXJpbmcgdGhpcyBpbiBhIGZ1bmN0aW9uXG4gICAgLy8gYmVjYXVzZSB3ZSBtYXkgaGF2ZSB0byBzY2hlZHVsZSBpdC5cbiAgICBtYXliZVNjaGVkdWxlKFxuICAgICAgc2NoZWR1bGVyLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gb2JzZXJ2YWJsZXM7XG4gICAgICAgIC8vIEEgc3RvcmUgZm9yIHRoZSB2YWx1ZXMgZWFjaCBvYnNlcnZhYmxlIGhhcyBlbWl0dGVkIHNvIGZhci4gV2UgbWF0Y2ggb2JzZXJ2YWJsZSB0byB2YWx1ZSBvbiBpbmRleC5cbiAgICAgICAgY29uc3QgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgY3VycmVudGx5IGFjdGl2ZSBzdWJzY3JpcHRpb25zLCBhcyB0aGV5IGNvbXBsZXRlLCB3ZSBkZWNyZW1lbnQgdGhpcyBudW1iZXIgdG8gc2VlIGlmXG4gICAgICAgIC8vIHdlIGFyZSBhbGwgZG9uZSBjb21iaW5pbmcgdmFsdWVzLCBzbyB3ZSBjYW4gY29tcGxldGUgdGhlIHJlc3VsdC5cbiAgICAgICAgbGV0IGFjdGl2ZSA9IGxlbmd0aDtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBpbm5lciBzb3VyY2VzIHRoYXQgc3RpbGwgaGF2ZW4ndCBlbWl0dGVkIHRoZSBmaXJzdCB2YWx1ZVxuICAgICAgICAvLyBXZSBuZWVkIHRvIHRyYWNrIHRoaXMgYmVjYXVzZSBhbGwgc291cmNlcyBuZWVkIHRvIGVtaXQgb25lIHZhbHVlIGluIG9yZGVyXG4gICAgICAgIC8vIHRvIHN0YXJ0IGVtaXR0aW5nIHZhbHVlcy5cbiAgICAgICAgbGV0IHJlbWFpbmluZ0ZpcnN0VmFsdWVzID0gbGVuZ3RoO1xuICAgICAgICAvLyBUaGUgbG9vcCB0byBraWNrIG9mZiBzdWJzY3JpcHRpb24uIFdlJ3JlIGtleWluZyBldmVyeXRoaW5nIG9uIGluZGV4IGBpYCB0byByZWxhdGUgdGhlIG9ic2VydmFibGVzIHBhc3NlZFxuICAgICAgICAvLyBpbiB0byB0aGUgc2xvdCBpbiB0aGUgb3V0cHV0IGFycmF5IG9yIHRoZSBrZXkgaW4gdGhlIGFycmF5IG9mIGtleXMgaW4gdGhlIG91dHB1dCBkaWN0aW9uYXJ5LlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWF5YmVTY2hlZHVsZShcbiAgICAgICAgICAgIHNjaGVkdWxlcixcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gZnJvbShvYnNlcnZhYmxlc1tpXSwgc2NoZWR1bGVyIGFzIGFueSk7XG4gICAgICAgICAgICAgIGxldCBoYXNGaXJzdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGdldCBhIHZhbHVlLCByZWNvcmQgaXQgaW4gb3VyIHNldCBvZiB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0ZpcnN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCB2YWx1ZSwgcmVjb3JkIHRoYXQuXG4gICAgICAgICAgICAgICAgICAgICAgaGFzRmlyc3RWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nRmlyc3RWYWx1ZXMtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbWFpbmluZ0ZpcnN0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gV2UncmUgbm90IHdhaXRpbmcgZm9yIGFueSBtb3JlXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgdmFsdWVzLCBzbyB3ZSBjYW4gZW1pdCFcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWVUcmFuc2Zvcm0odmFsdWVzLnNsaWNlKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgY29tcGxldGUgdGhlIHJlc3VsdCBpZiB3ZSBoYXZlIG5vIG1vcmUgYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaW5uZXIgb2JzZXJ2YWJsZXMuXG4gICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1YnNjcmliZXJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3Vic2NyaWJlclxuICAgICk7XG4gIH07XG59XG5cbi8qKlxuICogQSBzbWFsbCB1dGlsaXR5IHRvIGhhbmRsZSB0aGUgY291cGxlIG9mIGxvY2F0aW9ucyB3aGVyZSB3ZSB3YW50IHRvIHNjaGVkdWxlIGlmIGEgc2NoZWR1bGVyIHdhcyBwcm92aWRlZCxcbiAqIGJ1dCB3ZSBkb24ndCBpZiB0aGVyZSB3YXMgbm8gc2NoZWR1bGVyLlxuICovXG5mdW5jdGlvbiBtYXliZVNjaGVkdWxlKHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSB8IHVuZGVmaW5lZCwgZXhlY3V0ZTogKCkgPT4gdm9pZCwgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pIHtcbiAgaWYgKHNjaGVkdWxlcikge1xuICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpcHRpb24sIHNjaGVkdWxlciwgZXhlY3V0ZSk7XG4gIH0gZWxzZSB7XG4gICAgZXhlY3V0ZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbmNhdEFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9jb25jYXRBbGwnO1xuaW1wb3J0IHsgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0PFQgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLmlucHV0czogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPFQ+XSk6IE9ic2VydmFibGU8VFtudW1iZXJdPjtcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQ8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLmlucHV0c0FuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPFQ+LCBTY2hlZHVsZXJMaWtlXVxuKTogT2JzZXJ2YWJsZTxUW251bWJlcl0+O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb3V0cHV0IE9ic2VydmFibGUgd2hpY2ggc2VxdWVudGlhbGx5IGVtaXRzIGFsbCB2YWx1ZXMgZnJvbSB0aGUgZmlyc3QgZ2l2ZW5cbiAqIE9ic2VydmFibGUgYW5kIHRoZW4gbW92ZXMgb24gdG8gdGhlIG5leHQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNvbmNhdGVuYXRlcyBtdWx0aXBsZSBPYnNlcnZhYmxlcyB0b2dldGhlciBieVxuICogc2VxdWVudGlhbGx5IGVtaXR0aW5nIHRoZWlyIHZhbHVlcywgb25lIE9ic2VydmFibGUgYWZ0ZXIgdGhlIG90aGVyLjwvc3Bhbj5cbiAqXG4gKiAhW10oY29uY2F0LnBuZylcbiAqXG4gKiBgY29uY2F0YCBqb2lucyBtdWx0aXBsZSBPYnNlcnZhYmxlcyB0b2dldGhlciwgYnkgc3Vic2NyaWJpbmcgdG8gdGhlbSBvbmUgYXQgYSB0aW1lIGFuZFxuICogbWVyZ2luZyB0aGVpciByZXN1bHRzIGludG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBZb3UgY2FuIHBhc3MgZWl0aGVyIGFuIGFycmF5IG9mXG4gKiBPYnNlcnZhYmxlcywgb3IgcHV0IHRoZW0gZGlyZWN0bHkgYXMgYXJndW1lbnRzLiBQYXNzaW5nIGFuIGVtcHR5IGFycmF5IHdpbGwgcmVzdWx0XG4gKiBpbiBPYnNlcnZhYmxlIHRoYXQgY29tcGxldGVzIGltbWVkaWF0ZWx5LlxuICpcbiAqIGBjb25jYXRgIHdpbGwgc3Vic2NyaWJlIHRvIGZpcnN0IGlucHV0IE9ic2VydmFibGUgYW5kIGVtaXQgYWxsIGl0cyB2YWx1ZXMsIHdpdGhvdXRcbiAqIGNoYW5naW5nIG9yIGFmZmVjdGluZyB0aGVtIGluIGFueSB3YXkuIFdoZW4gdGhhdCBPYnNlcnZhYmxlIGNvbXBsZXRlcywgaXQgd2lsbFxuICogc3Vic2NyaWJlIHRvIHRoZW4gbmV4dCBPYnNlcnZhYmxlIHBhc3NlZCBhbmQsIGFnYWluLCBlbWl0IGl0cyB2YWx1ZXMuIFRoaXMgd2lsbCBiZVxuICogcmVwZWF0ZWQsIHVudGlsIHRoZSBvcGVyYXRvciBydW5zIG91dCBvZiBPYnNlcnZhYmxlcy4gV2hlbiBsYXN0IGlucHV0IE9ic2VydmFibGUgY29tcGxldGVzLFxuICogYGNvbmNhdGAgd2lsbCBjb21wbGV0ZSBhcyB3ZWxsLiBBdCBhbnkgZ2l2ZW4gbW9tZW50IG9ubHkgb25lIE9ic2VydmFibGUgcGFzc2VkIHRvIG9wZXJhdG9yXG4gKiBlbWl0cyB2YWx1ZXMuIElmIHlvdSB3b3VsZCBsaWtlIHRvIGVtaXQgdmFsdWVzIGZyb20gcGFzc2VkIE9ic2VydmFibGVzIGNvbmN1cnJlbnRseSwgY2hlY2sgb3V0XG4gKiB7QGxpbmsgbWVyZ2V9IGluc3RlYWQsIGVzcGVjaWFsbHkgd2l0aCBvcHRpb25hbCBgY29uY3VycmVudGAgcGFyYW1ldGVyLiBBcyBhIG1hdHRlciBvZiBmYWN0LFxuICogYGNvbmNhdGAgaXMgYW4gZXF1aXZhbGVudCBvZiBgbWVyZ2VgIG9wZXJhdG9yIHdpdGggYGNvbmN1cnJlbnRgIHBhcmFtZXRlciBzZXQgdG8gYDFgLlxuICpcbiAqIE5vdGUgdGhhdCBpZiBzb21lIGlucHV0IE9ic2VydmFibGUgbmV2ZXIgY29tcGxldGVzLCBgY29uY2F0YCB3aWxsIGFsc28gbmV2ZXIgY29tcGxldGVcbiAqIGFuZCBPYnNlcnZhYmxlcyBmb2xsb3dpbmcgdGhlIG9uZSB0aGF0IGRpZCBub3QgY29tcGxldGUgd2lsbCBuZXZlciBiZSBzdWJzY3JpYmVkLiBPbiB0aGUgb3RoZXJcbiAqIGhhbmQsIGlmIHNvbWUgT2JzZXJ2YWJsZSBzaW1wbHkgY29tcGxldGVzIGltbWVkaWF0ZWx5IGFmdGVyIGl0IGlzIHN1YnNjcmliZWQsIGl0IHdpbGwgYmVcbiAqIGludmlzaWJsZSBmb3IgYGNvbmNhdGAsIHdoaWNoIHdpbGwganVzdCBtb3ZlIG9uIHRvIHRoZSBuZXh0IE9ic2VydmFibGUuXG4gKlxuICogSWYgYW55IE9ic2VydmFibGUgaW4gY2hhaW4gZXJyb3JzLCBpbnN0ZWFkIG9mIHBhc3NpbmcgY29udHJvbCB0byB0aGUgbmV4dCBPYnNlcnZhYmxlLFxuICogYGNvbmNhdGAgd2lsbCBlcnJvciBpbW1lZGlhdGVseSBhcyB3ZWxsLiBPYnNlcnZhYmxlcyB0aGF0IHdvdWxkIGJlIHN1YnNjcmliZWQgYWZ0ZXJcbiAqIHRoZSBvbmUgdGhhdCBlbWl0dGVkIGVycm9yLCBuZXZlciB3aWxsLlxuICpcbiAqIElmIHlvdSBwYXNzIHRvIGBjb25jYXRgIHRoZSBzYW1lIE9ic2VydmFibGUgbWFueSB0aW1lcywgaXRzIHN0cmVhbSBvZiB2YWx1ZXNcbiAqIHdpbGwgYmUgXCJyZXBsYXllZFwiIG9uIGV2ZXJ5IHN1YnNjcmlwdGlvbiwgd2hpY2ggbWVhbnMgeW91IGNhbiByZXBlYXQgZ2l2ZW4gT2JzZXJ2YWJsZVxuICogYXMgbWFueSB0aW1lcyBhcyB5b3UgbGlrZS4gSWYgcGFzc2luZyB0aGUgc2FtZSBPYnNlcnZhYmxlIHRvIGBjb25jYXRgIDEwMDAgdGltZXMgYmVjb21lcyB0ZWRpb3VzLFxuICogeW91IGNhbiBhbHdheXMgdXNlIHtAbGluayByZXBlYXR9LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ29uY2F0ZW5hdGUgYSB0aW1lciBjb3VudGluZyBmcm9tIDAgdG8gMyB3aXRoIGEgc3luY2hyb25vdXMgc2VxdWVuY2UgZnJvbSAxIHRvIDEwXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCByYW5nZSwgY29uY2F0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgdGltZXIgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNCkpO1xuICogY29uc3Qgc2VxdWVuY2UgPSByYW5nZSgxLCAxMCk7XG4gKiBjb25zdCByZXN1bHQgPSBjb25jYXQodGltZXIsIHNlcXVlbmNlKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gcmVzdWx0cyBpbjpcbiAqIC8vIDAgLTEwMDBtcy0+IDEgLTEwMDBtcy0+IDIgLTEwMDBtcy0+IDMgLWltbWVkaWF0ZS0+IDEgLi4uIDEwXG4gKiBgYGBcbiAqXG4gKiBDb25jYXRlbmF0ZSAzIE9ic2VydmFibGVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCBjb25jYXQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0aW1lcjEgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoMTApKTtcbiAqIGNvbnN0IHRpbWVyMiA9IGludGVydmFsKDIwMDApLnBpcGUodGFrZSg2KSk7XG4gKiBjb25zdCB0aW1lcjMgPSBpbnRlcnZhbCg1MDApLnBpcGUodGFrZSgxMCkpO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGNvbmNhdCh0aW1lcjEsIHRpbWVyMiwgdGltZXIzKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gcmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gKFByaW50cyB0byBjb25zb2xlIHNlcXVlbnRpYWxseSlcbiAqIC8vIC0xMDAwbXMtPiAwIC0xMDAwbXMtPiAxIC0xMDAwbXMtPiAuLi4gOVxuICogLy8gLTIwMDBtcy0+IDAgLTIwMDBtcy0+IDEgLTIwMDBtcy0+IC4uLiA1XG4gKiAvLyAtNTAwbXMtPiAwIC01MDBtcy0+IDEgLTUwMG1zLT4gLi4uIDlcbiAqIGBgYFxuICpcbiAqIENvbmNhdGVuYXRlIHRoZSBzYW1lIE9ic2VydmFibGUgdG8gcmVwZWF0IGl0XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCBjb25jYXQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0aW1lciA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSgyKSk7XG4gKlxuICogY29uY2F0KHRpbWVyLCB0aW1lcikgLy8gY29uY2F0ZW5hdGluZyB0aGUgc2FtZSBPYnNlcnZhYmxlIVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCcuLi5hbmQgaXQgaXMgZG9uZSEnKVxuICogICB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMCBhZnRlciAxc1xuICogLy8gMSBhZnRlciAyc1xuICogLy8gMCBhZnRlciAzc1xuICogLy8gMSBhZnRlciA0c1xuICogLy8gJy4uLmFuZCBpdCBpcyBkb25lIScgYWxzbyBhZnRlciA0c1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0QWxsfVxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwfVxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwVG99XG4gKiBAc2VlIHtAbGluayBzdGFydFdpdGh9XG4gKiBAc2VlIHtAbGluayBlbmRXaXRofVxuICpcbiAqIEBwYXJhbSBhcmdzIElucHV0IE9ic2VydmFibGVzIHRvIGNvbmNhdGVuYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KC4uLmFyZ3M6IGFueVtdKTogT2JzZXJ2YWJsZTx1bmtub3duPiB7XG4gIHJldHVybiBjb25jYXRBbGwoKShmcm9tKGFyZ3MsIHBvcFNjaGVkdWxlcihhcmdzKSkpO1xufVxuIiwiaW1wb3J0IHsgQ29ubmVjdGFibGUsIE9ic2VydmFibGVJbnB1dCwgU3ViamVjdExpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZGVmZXIgfSBmcm9tICcuL2RlZmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0YWJsZUNvbmZpZzxUPiB7XG4gIC8qKlxuICAgKiBBIGZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgdGhlIFN1YmplY3QgdGhyb3VnaCB3aGljaCB0aGUgc291cmNlXG4gICAqIGlzIG11bHRpY2FzdC4gQnkgZGVmYXVsdCB0aGlzIGNyZWF0ZXMgYSB7QGxpbmsgU3ViamVjdH0uXG4gICAqL1xuICBjb25uZWN0b3I6ICgpID0+IFN1YmplY3RMaWtlPFQ+O1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgcmVzZXQgaW50ZXJuYWwgc3RhdGUgdXBvbiBkaXNjb25uZWN0aW9uXG4gICAqIGFuZCByZXR1cm4gdG8gYSBcImNvbGRcIiBzdGF0ZS4gVGhpcyBhbGxvd3MgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHRvIGJlXG4gICAqIHJlY29ubmVjdGVkLlxuICAgKiBJZiBmYWxzZSwgdXBvbiBkaXNjb25uZWN0aW9uLCB0aGUgY29ubmVjdGluZyBzdWJqZWN0IHdpbGwgcmVtYWluIHRoZVxuICAgKiBjb25uZWN0aW5nIHN1YmplY3QsIG1lYW5pbmcgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgbm90IGdvIFwiY29sZFwiIGFnYWluLFxuICAgKiBhbmQgc3Vic2VxdWVudCByZXBlYXRzIG9yIHJlc3Vic2NyaXB0aW9ucyB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoYXQgc2FtZSBzdWJqZWN0LlxuICAgKi9cbiAgcmVzZXRPbkRpc2Nvbm5lY3Q/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIGBjb25uZWN0YWJsZWAuXG4gKi9cbmNvbnN0IERFRkFVTFRfQ09ORklHOiBDb25uZWN0YWJsZUNvbmZpZzx1bmtub3duPiA9IHtcbiAgY29ubmVjdG9yOiAoKSA9PiBuZXcgU3ViamVjdDx1bmtub3duPigpLFxuICByZXNldE9uRGlzY29ubmVjdDogdHJ1ZSxcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlIHRoYXQgbXVsdGljYXN0cyBvbmNlIGBjb25uZWN0KClgIGlzIGNhbGxlZCBvbiBpdC5cbiAqXG4gKiBAcGFyYW0gc291cmNlIFRoZSBvYnNlcnZhYmxlIHNvdXJjZSB0byBtYWtlIGNvbm5lY3RhYmxlLlxuICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGBjb25uZWN0YWJsZWAuXG4gKiBAcmV0dXJucyBBIFwiY29ubmVjdGFibGVcIiBvYnNlcnZhYmxlLCB0aGF0IGhhcyBhIGBjb25uZWN0KClgIG1ldGhvZCwgdGhhdCB5b3UgbXVzdCBjYWxsIHRvXG4gKiBjb25uZWN0IHRoZSBzb3VyY2UgdG8gYWxsIGNvbnN1bWVycyB0aHJvdWdoIHRoZSBzdWJqZWN0IHByb3ZpZGVkIGFzIHRoZSBjb25uZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0YWJsZTxUPihzb3VyY2U6IE9ic2VydmFibGVJbnB1dDxUPiwgY29uZmlnOiBDb25uZWN0YWJsZUNvbmZpZzxUPiA9IERFRkFVTFRfQ09ORklHKTogQ29ubmVjdGFibGU8VD4ge1xuICAvLyBUaGUgc3Vic2NyaXB0aW9uIHJlcHJlc2VudGluZyB0aGUgY29ubmVjdGlvbi5cbiAgbGV0IGNvbm5lY3Rpb246IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuICBjb25zdCB7IGNvbm5lY3RvciwgcmVzZXRPbkRpc2Nvbm5lY3QgPSB0cnVlIH0gPSBjb25maWc7XG4gIGxldCBzdWJqZWN0ID0gY29ubmVjdG9yKCk7XG5cbiAgY29uc3QgcmVzdWx0OiBhbnkgPSBuZXcgT2JzZXJ2YWJsZTxUPigoc3Vic2NyaWJlcikgPT4ge1xuICAgIHJldHVybiBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIHRoZSBgY29ubmVjdGAgZnVuY3Rpb24uIFRoaXMgaXMgd2hhdCB1c2VycyBtdXN0IGNhbGxcbiAgLy8gaW4gb3JkZXIgdG8gXCJjb25uZWN0XCIgdGhlIHNvdXJjZSB0byB0aGUgc3ViamVjdCB0aGF0IGlzXG4gIC8vIG11bHRpY2FzdGluZyBpdC5cbiAgcmVzdWx0LmNvbm5lY3QgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25uZWN0aW9uIHx8IGNvbm5lY3Rpb24uY2xvc2VkKSB7XG4gICAgICBjb25uZWN0aW9uID0gZGVmZXIoKCkgPT4gc291cmNlKS5zdWJzY3JpYmUoc3ViamVjdCk7XG4gICAgICBpZiAocmVzZXRPbkRpc2Nvbm5lY3QpIHtcbiAgICAgICAgY29ubmVjdGlvbi5hZGQoKCkgPT4gKHN1YmplY3QgPSBjb25uZWN0b3IoKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT2JzZXJ2ZWRWYWx1ZU9mLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIHRoYXQsIG9uIHN1YnNjcmliZSwgY2FsbHMgYW4gT2JzZXJ2YWJsZSBmYWN0b3J5IHRvXG4gKiBtYWtlIGFuIE9ic2VydmFibGUgZm9yIGVhY2ggbmV3IE9ic2VydmVyLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5DcmVhdGVzIHRoZSBPYnNlcnZhYmxlIGxhemlseSwgdGhhdCBpcywgb25seSB3aGVuIGl0XG4gKiBpcyBzdWJzY3JpYmVkLlxuICogPC9zcGFuPlxuICpcbiAqICFbXShkZWZlci5wbmcpXG4gKlxuICogYGRlZmVyYCBhbGxvd3MgeW91IHRvIGNyZWF0ZSBhbiBPYnNlcnZhYmxlIG9ubHkgd2hlbiB0aGUgT2JzZXJ2ZXJcbiAqIHN1YnNjcmliZXMuIEl0IHdhaXRzIHVudGlsIGFuIE9ic2VydmVyIHN1YnNjcmliZXMgdG8gaXQsIGNhbGxzIHRoZSBnaXZlblxuICogZmFjdG9yeSBmdW5jdGlvbiB0byBnZXQgYW4gT2JzZXJ2YWJsZSAtLSB3aGVyZSBhIGZhY3RvcnkgZnVuY3Rpb24gdHlwaWNhbGx5XG4gKiBnZW5lcmF0ZXMgYSBuZXcgT2JzZXJ2YWJsZSAtLSBhbmQgc3Vic2NyaWJlcyB0aGUgT2JzZXJ2ZXIgdG8gdGhpcyBPYnNlcnZhYmxlLlxuICogSW4gY2FzZSB0aGUgZmFjdG9yeSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIHRoZW4gRU1QVFkgaXMgdXNlZCBhc1xuICogT2JzZXJ2YWJsZSBpbnN0ZWFkLiBMYXN0IGJ1dCBub3QgbGVhc3QsIGFuIGV4Y2VwdGlvbiBkdXJpbmcgdGhlIGZhY3RvcnlcbiAqIGZ1bmN0aW9uIGNhbGwgaXMgdHJhbnNmZXJyZWQgdG8gdGhlIE9ic2VydmVyIGJ5IGNhbGxpbmcgYGVycm9yYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU3Vic2NyaWJlIHRvIGVpdGhlciBhbiBPYnNlcnZhYmxlIG9mIGNsaWNrcyBvciBhbiBPYnNlcnZhYmxlIG9mIGludGVydmFsLCBhdCByYW5kb21cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZGVmZXIsIGZyb21FdmVudCwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3NPckludGVydmFsID0gZGVmZXIoKCkgPT4ge1xuICogICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNVxuICogICAgID8gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKVxuICogICAgIDogaW50ZXJ2YWwoMTAwMCk7XG4gKiB9KTtcbiAqIGNsaWNrc09ySW50ZXJ2YWwuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZyBiZWhhdmlvcjpcbiAqIC8vIElmIHRoZSByZXN1bHQgb2YgTWF0aC5yYW5kb20oKSBpcyBncmVhdGVyIHRoYW4gMC41IGl0IHdpbGwgbGlzdGVuXG4gKiAvLyBmb3IgY2xpY2tzIGFueXdoZXJlIG9uIHRoZSBcImRvY3VtZW50XCI7IHdoZW4gZG9jdW1lbnQgaXMgY2xpY2tlZCBpdFxuICogLy8gd2lsbCBsb2cgYSBNb3VzZUV2ZW50IG9iamVjdCB0byB0aGUgY29uc29sZS4gSWYgdGhlIHJlc3VsdCBpcyBsZXNzXG4gKiAvLyB0aGFuIDAuNSBpdCB3aWxsIGVtaXQgYXNjZW5kaW5nIG51bWJlcnMsIG9uZSBldmVyeSBzZWNvbmQoMTAwMG1zKS5cbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGV9XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbigpOiBPYnNlcnZhYmxlSW5wdXR9IG9ic2VydmFibGVGYWN0b3J5IFRoZSBPYnNlcnZhYmxlXG4gKiBmYWN0b3J5IGZ1bmN0aW9uIHRvIGludm9rZSBmb3IgZWFjaCBPYnNlcnZlciB0aGF0IHN1YnNjcmliZXMgdG8gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS4gTWF5IGFsc28gcmV0dXJuIGEgUHJvbWlzZSwgd2hpY2ggd2lsbCBiZSBjb252ZXJ0ZWQgb24gdGhlIGZseVxuICogdG8gYW4gT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgd2hvc2UgT2JzZXJ2ZXJzJyBzdWJzY3JpcHRpb25zIHRyaWdnZXJcbiAqIGFuIGludm9jYXRpb24gb2YgdGhlIGdpdmVuIE9ic2VydmFibGUgZmFjdG9yeSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVyPFIgZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4ob2JzZXJ2YWJsZUZhY3Rvcnk6ICgpID0+IFIpOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxSPj4ge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPFI+Pigoc3Vic2NyaWJlcikgPT4ge1xuICAgIGlubmVyRnJvbShvYnNlcnZhYmxlRmFjdG9yeSgpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBwZXJmb3JtYW5jZVRpbWVzdGFtcFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vc2NoZWR1bGVyL3BlcmZvcm1hbmNlVGltZXN0YW1wUHJvdmlkZXInO1xuaW1wb3J0IHsgYW5pbWF0aW9uRnJhbWVQcm92aWRlciB9IGZyb20gJy4uLy4uL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZVByb3ZpZGVyJztcblxuLyoqXG4gKiBBbiBvYnNlcnZhYmxlIG9mIGFuaW1hdGlvbiBmcmFtZXNcbiAqXG4gKiBFbWl0cyB0aGUgYW1vdW50IG9mIHRpbWUgZWxhcHNlZCBzaW5jZSBzdWJzY3JpcHRpb24gYW5kIHRoZSB0aW1lc3RhbXAgb24gZWFjaCBhbmltYXRpb24gZnJhbWUuXG4gKiBEZWZhdWx0cyB0byBtaWxsaXNlY29uZHMgcHJvdmlkZWQgdG8gdGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSdzIGNhbGxiYWNrLiBEb2VzIG5vdCBlbmQgb24gaXRzIG93bi5cbiAqXG4gKiBFdmVyeSBzdWJzY3JpcHRpb24gd2lsbCBzdGFydCBhIHNlcGFyYXRlIGFuaW1hdGlvbiBsb29wLiBTaW5jZSBhbmltYXRpb24gZnJhbWVzIGFyZSBhbHdheXMgc2NoZWR1bGVkXG4gKiBieSB0aGUgYnJvd3NlciB0byBvY2N1ciBkaXJlY3RseSBiZWZvcmUgYSByZXBhaW50LCBzY2hlZHVsaW5nIG1vcmUgdGhhbiBvbmUgYW5pbWF0aW9uIGZyYW1lIHN5bmNocm9ub3VzbHlcbiAqIHNob3VsZCBub3QgYmUgbXVjaCBkaWZmZXJlbnQgb3IgaGF2ZSBtb3JlIG92ZXJoZWFkIHRoYW4gbG9vcGluZyBvdmVyIGFuIGFycmF5IG9mIGV2ZW50cyBkdXJpbmdcbiAqIGEgc2luZ2xlIGFuaW1hdGlvbiBmcmFtZS4gSG93ZXZlciwgaWYgZm9yIHNvbWUgcmVhc29uIHRoZSBkZXZlbG9wZXIgd291bGQgbGlrZSB0byBlbnN1cmUgdGhlXG4gKiBleGVjdXRpb24gb2YgYW5pbWF0aW9uLXJlbGF0ZWQgaGFuZGxlcnMgYXJlIGFsbCBleGVjdXRlZCBkdXJpbmcgdGhlIHNhbWUgdGFzayBieSB0aGUgZW5naW5lLFxuICogdGhlIGBzaGFyZWAgb3BlcmF0b3IgY2FuIGJlIHVzZWQuXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdXAgYW5pbWF0aW9ucyB3aXRoIFJ4SlMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBUd2VlbmluZyBhIGRpdiB0byBtb3ZlIGl0IG9uIHRoZSBzY3JlZW5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYW5pbWF0aW9uRnJhbWVzLCBtYXAsIHRha2VXaGlsZSwgZW5kV2l0aCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGZ1bmN0aW9uIHR3ZWVuKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKSB7XG4gKiAgIGNvbnN0IGRpZmYgPSBlbmQgLSBzdGFydDtcbiAqICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lcygpLnBpcGUoXG4gKiAgICAgLy8gRmlndXJlIG91dCB3aGF0IHBlcmNlbnRhZ2Ugb2YgdGltZSBoYXMgcGFzc2VkXG4gKiAgICAgbWFwKCh7IGVsYXBzZWQgfSkgPT4gZWxhcHNlZCAvIGR1cmF0aW9uKSxcbiAqICAgICAvLyBUYWtlIHRoZSB2ZWN0b3Igd2hpbGUgbGVzcyB0aGFuIDEwMCVcbiAqICAgICB0YWtlV2hpbGUodiA9PiB2IDwgMSksXG4gKiAgICAgLy8gRmluaXNoIHdpdGggMTAwJVxuICogICAgIGVuZFdpdGgoMSksXG4gKiAgICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSB0cmF2ZWxlZCBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAqICAgICBtYXAodiA9PiB2ICogZGlmZiArIHN0YXJ0KVxuICogICApO1xuICogfVxuICpcbiAqIC8vIFNldHVwIGEgZGl2IGZvciB1cyB0byBtb3ZlIGFyb3VuZFxuICogY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gKiBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICogZGl2LnN0eWxlLndpZHRoID0gJzQwcHgnO1xuICogZGl2LnN0eWxlLmhlaWdodCA9ICc0MHB4JztcbiAqIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnbGltZSc7XG4gKiBkaXYuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDEwcHgsIDAsIDApJztcbiAqXG4gKiB0d2VlbigxMCwgMjAwLCA0MDAwKS5zdWJzY3JpYmUoeCA9PiB7XG4gKiAgIGRpdi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHsgeCB9cHgsIDAsIDApYDtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogUHJvdmlkaW5nIGEgY3VzdG9tIHRpbWVzdGFtcCBwcm92aWRlclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBhbmltYXRpb25GcmFtZXMsIFRpbWVzdGFtcFByb3ZpZGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gQSBjdXN0b20gdGltZXN0YW1wIHByb3ZpZGVyXG4gKiBsZXQgbm93ID0gMDtcbiAqIGNvbnN0IGN1c3RvbVRTUHJvdmlkZXI6IFRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICogICBub3coKSB7IHJldHVybiBub3crKzsgfVxuICogfTtcbiAqXG4gKiBjb25zdCBzb3VyY2UkID0gYW5pbWF0aW9uRnJhbWVzKGN1c3RvbVRTUHJvdmlkZXIpO1xuICpcbiAqIC8vIExvZyBpbmNyZWFzaW5nIG51bWJlcnMgMC4uLjEuLi4yLi4uIG9uIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZS5cbiAqIHNvdXJjZSQuc3Vic2NyaWJlKCh7IGVsYXBzZWQgfSkgPT4gY29uc29sZS5sb2coZWxhcHNlZCkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHRpbWVzdGFtcFByb3ZpZGVyIEFuIG9iamVjdCB3aXRoIGEgYG5vd2AgbWV0aG9kIHRoYXQgcHJvdmlkZXMgYSBudW1lcmljIHRpbWVzdGFtcFxuICovXG5leHBvcnQgZnVuY3Rpb24gYW5pbWF0aW9uRnJhbWVzKHRpbWVzdGFtcFByb3ZpZGVyPzogVGltZXN0YW1wUHJvdmlkZXIpIHtcbiAgcmV0dXJuIHRpbWVzdGFtcFByb3ZpZGVyID8gYW5pbWF0aW9uRnJhbWVzRmFjdG9yeSh0aW1lc3RhbXBQcm92aWRlcikgOiBERUZBVUxUX0FOSU1BVElPTl9GUkFNRVM7XG59XG5cbi8qKlxuICogRG9lcyB0aGUgd29yayBvZiBjcmVhdGluZyB0aGUgb2JzZXJ2YWJsZSBmb3IgYGFuaW1hdGlvbkZyYW1lc2AuXG4gKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgVGhlIHRpbWVzdGFtcCBwcm92aWRlciB0byB1c2UgdG8gY3JlYXRlIHRoZSBvYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGlvbkZyYW1lc0ZhY3RvcnkodGltZXN0YW1wUHJvdmlkZXI/OiBUaW1lc3RhbXBQcm92aWRlcikge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8eyB0aW1lc3RhbXA6IG51bWJlcjsgZWxhcHNlZDogbnVtYmVyIH0+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gSWYgbm8gdGltZXN0YW1wIHByb3ZpZGVyIGlzIHNwZWNpZmllZCwgdXNlIHBlcmZvcm1hbmNlLm5vdygpIC0gYXMgaXRcbiAgICAvLyB3aWxsIHJldHVybiB0aW1lc3RhbXBzICdjb21wYXRpYmxlJyB3aXRoIHRob3NlIHBhc3NlZCB0byB0aGUgcnVuXG4gICAgLy8gY2FsbGJhY2sgYW5kIHdvbid0IGJlIGFmZmVjdGVkIGJ5IE5UUCBhZGp1c3RtZW50cywgZXRjLlxuICAgIGNvbnN0IHByb3ZpZGVyID0gdGltZXN0YW1wUHJvdmlkZXIgfHwgcGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlcjtcblxuICAgIC8vIENhcHR1cmUgdGhlIHN0YXJ0IHRpbWUgdXBvbiBzdWJzY3JpcHRpb24sIGFzIHRoZSBydW4gY2FsbGJhY2sgY2FuIHJlbWFpblxuICAgIC8vIHF1ZXVlZCBmb3IgYSBjb25zaWRlcmFibGUgcGVyaW9kIG9mIHRpbWUgYW5kIHRoZSBlbGFwc2VkIHRpbWUgc2hvdWxkXG4gICAgLy8gcmVwcmVzZW50IHRoZSB0aW1lIGVsYXBzZWQgc2luY2Ugc3Vic2NyaXB0aW9uIC0gbm90IHRoZSB0aW1lIHNpbmNlIHRoZVxuICAgIC8vIGZpcnN0IHJlbmRlcmVkIGFuaW1hdGlvbiBmcmFtZS5cbiAgICBjb25zdCBzdGFydCA9IHByb3ZpZGVyLm5vdygpO1xuXG4gICAgbGV0IGlkID0gMDtcbiAgICBjb25zdCBydW4gPSAoKSA9PiB7XG4gICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIGlkID0gYW5pbWF0aW9uRnJhbWVQcm92aWRlci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWVzdGFtcDogRE9NSGlnaFJlc1RpbWVTdGFtcCB8IG51bWJlcikgPT4ge1xuICAgICAgICAgIGlkID0gMDtcbiAgICAgICAgICAvLyBVc2UgdGhlIHByb3ZpZGVyJ3MgdGltZXN0YW1wIHRvIGNhbGN1bGF0ZSB0aGUgZWxhcHNlZCB0aW1lLiBOb3RlIHRoYXRcbiAgICAgICAgICAvLyB0aGlzIG1lYW5zIC0gaWYgdGhlIGNhbGxlciBoYXNuJ3QgcGFzc2VkIGEgcHJvdmlkZXIgLSB0aGF0XG4gICAgICAgICAgLy8gcGVyZm9ybWFuY2Uubm93KCkgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHRpbWVzdGFtcCB0aGF0IHdhc1xuICAgICAgICAgIC8vIHBhc3NlZCB0byB0aGUgcnVuIGNhbGxiYWNrLiBUaGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhlIHRpbWVzdGFtcFxuICAgICAgICAgIC8vIHBhc3NlZCB0byB0aGUgY2FsbGJhY2sgY2FuIGJlIGVhcmxpZXIgdGhhbiB0aGUgc3RhcnQgdGltZSwgYXMgaXRcbiAgICAgICAgICAvLyByZXByZXNlbnRzIHRoZSB0aW1lIGF0IHdoaWNoIHRoZSBicm93c2VyIGRlY2lkZWQgaXQgd291bGQgcmVuZGVyIGFueVxuICAgICAgICAgIC8vIHF1ZXVlZCBmcmFtZXMgLSBhbmQgdGhhdCB0aW1lIGNhbiBiZSBlYXJsaWVyIHRoZSBjYXB0dXJlZCBzdGFydCB0aW1lLlxuICAgICAgICAgIGNvbnN0IG5vdyA9IHByb3ZpZGVyLm5vdygpO1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcFByb3ZpZGVyID8gbm93IDogdGltZXN0YW1wLFxuICAgICAgICAgICAgZWxhcHNlZDogbm93IC0gc3RhcnQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcnVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBydW4oKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWVQcm92aWRlci5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbi8qKlxuICogSW4gdGhlIGNvbW1vbiBjYXNlLCB3aGVyZSB0aGUgdGltZXN0YW1wIHByb3ZpZGVkIGJ5IHRoZSByQUYgQVBJIGlzIHVzZWQsXG4gKiB3ZSB1c2UgdGhpcyBzaGFyZWQgb2JzZXJ2YWJsZSB0byByZWR1Y2Ugb3ZlcmhlYWQuXG4gKi9cbmNvbnN0IERFRkFVTFRfQU5JTUFUSU9OX0ZSQU1FUyA9IGFuaW1hdGlvbkZyYW1lc0ZhY3RvcnkoKTtcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQSBzaW1wbGUgT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG5vIGl0ZW1zIHRvIHRoZSBPYnNlcnZlciBhbmQgaW1tZWRpYXRlbHlcbiAqIGVtaXRzIGEgY29tcGxldGUgbm90aWZpY2F0aW9uLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5KdXN0IGVtaXRzICdjb21wbGV0ZScsIGFuZCBub3RoaW5nIGVsc2UuPC9zcGFuPlxuICpcbiAqICFbXShlbXB0eS5wbmcpXG4gKlxuICogQSBzaW1wbGUgT2JzZXJ2YWJsZSB0aGF0IG9ubHkgZW1pdHMgdGhlIGNvbXBsZXRlIG5vdGlmaWNhdGlvbi4gSXQgY2FuIGJlIHVzZWRcbiAqIGZvciBjb21wb3Npbmcgd2l0aCBvdGhlciBPYnNlcnZhYmxlcywgc3VjaCBhcyBpbiBhIHtAbGluayBtZXJnZU1hcH0uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBMb2cgY29tcGxldGUgbm90aWZpY2F0aW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IEVNUFRZIH0gZnJvbSAncnhqcyc7XG4gKlxuICogRU1QVFkuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogKCkgPT4gY29uc29sZS5sb2coJ05leHQnKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdDb21wbGV0ZSEnKVxuICogfSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gQ29tcGxldGUhXG4gKiBgYGBcbiAqXG4gKiBFbWl0IHRoZSBudW1iZXIgNywgdGhlbiBjb21wbGV0ZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBFTVBUWSwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gRU1QVFkucGlwZShzdGFydFdpdGgoNykpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyA3XG4gKiBgYGBcbiAqXG4gKiBNYXAgYW5kIGZsYXR0ZW4gb25seSBvZGQgbnVtYmVycyB0byB0aGUgc2VxdWVuY2UgYCdhJ2AsIGAnYidgLCBgJ2MnYFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWVyZ2VNYXAsIG9mLCBFTVBUWSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGludGVydmFsJCA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgcmVzdWx0ID0gaW50ZXJ2YWwkLnBpcGUoXG4gKiAgIG1lcmdlTWFwKHggPT4geCAlIDIgPT09IDEgPyBvZignYScsICdiJywgJ2MnKSA6IEVNUFRZKSxcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZyB0byB0aGUgY29uc29sZTpcbiAqIC8vIHggaXMgZXF1YWwgdG8gdGhlIGNvdW50IG9uIHRoZSBpbnRlcnZhbCwgZS5nLiAoMCwgMSwgMiwgMywgLi4uKVxuICogLy8geCB3aWxsIG9jY3VyIGV2ZXJ5IDEwMDBtc1xuICogLy8gaWYgeCAlIDIgaXMgZXF1YWwgdG8gMSwgcHJpbnQgYSwgYiwgYyAoZWFjaCBvbiBpdHMgb3duKVxuICogLy8gaWYgeCAlIDIgaXMgbm90IGVxdWFsIHRvIDEsIG5vdGhpbmcgd2lsbCBiZSBvdXRwdXRcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGV9XG4gKiBAc2VlIHtAbGluayBORVZFUn1cbiAqIEBzZWUge0BsaW5rIG9mfVxuICogQHNlZSB7QGxpbmsgdGhyb3dFcnJvcn1cbiAqL1xuZXhwb3J0IGNvbnN0IEVNUFRZID0gbmV3IE9ic2VydmFibGU8bmV2ZXI+KChzdWJzY3JpYmVyKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCkpO1xuXG4vKipcbiAqIEBwYXJhbSBzY2hlZHVsZXIgQSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvciBzY2hlZHVsaW5nXG4gKiB0aGUgZW1pc3Npb24gb2YgdGhlIGNvbXBsZXRlIG5vdGlmaWNhdGlvbi5cbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGggdGhlIHtAbGluayBFTVBUWX0gY29uc3RhbnQgb3Ige0BsaW5rIHNjaGVkdWxlZH0gKGUuZy4gYHNjaGVkdWxlZChbXSwgc2NoZWR1bGVyKWApLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogRU1QVFk7XG59XG5cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSkge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGU8bmV2ZXI+KChzdWJzY3JpYmVyKSA9PiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4gc3Vic2NyaWJlci5jb21wbGV0ZSgpKSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZlZFZhbHVlT2YsIE9ic2VydmFibGVJbnB1dFR1cGxlLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhcmdzQXJnQXJyYXlPck9iamVjdCB9IGZyb20gJy4uL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xuaW1wb3J0IHsgcG9wUmVzdWx0U2VsZWN0b3IgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IGNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL3V0aWwvY3JlYXRlT2JqZWN0JztcbmltcG9ydCB7IEFueUNhdGNoZXIgfSBmcm9tICcuLi9BbnlDYXRjaGVyJztcblxuLy8gZm9ya0pvaW4oYW55KVxuLy8gV2UgcHV0IHRoaXMgZmlyc3QgYmVjYXVzZSB3ZSBuZWVkIHRvIGNhdGNoIGNhc2VzIHdoZXJlIHRoZSB1c2VyIGhhcyBzdXBwbGllZFxuLy8gX2V4YWN0bHkgYGFueWBfIGFzIHRoZSBhcmd1bWVudC4gU2luY2UgYGFueWAgbGl0ZXJhbGx5IG1hdGNoZXMgX2FueXRoaW5nXyxcbi8vIHdlIGRvbid0IHdhbnQgaXQgdG8gcmFuZG9tbHkgaGl0IG9uZSBvZiB0aGUgb3RoZXIgdHlwZSBzaWduYXR1cmVzIGJlbG93LFxuLy8gYXMgd2UgaGF2ZSBubyBpZGVhIGF0IGJ1aWxkLXRpbWUgd2hhdCB0eXBlIHdlIHNob3VsZCBiZSByZXR1cm5pbmcgd2hlbiBnaXZlbiBhbiBhbnkuXG5cbi8qKlxuICogWW91IGhhdmUgcGFzc2VkIGBhbnlgIGhlcmUsIHdlIGNhbid0IGZpZ3VyZSBvdXQgaWYgaXQgaXNcbiAqIGFuIGFycmF5IG9yIGFuIG9iamVjdCwgc28geW91J3JlIGdldHRpbmcgYHVua25vd25gLiBVc2UgYmV0dGVyIHR5cGVzLlxuICogQHBhcmFtIGFyZyBTb21ldGhpbmcgdHlwZWQgYXMgYGFueWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luPFQgZXh0ZW5kcyBBbnlDYXRjaGVyPihhcmc6IFQpOiBPYnNlcnZhYmxlPHVua25vd24+O1xuXG4vLyBmb3JrSm9pbihudWxsIHwgdW5kZWZpbmVkKVxuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luKHNjaGVkdWxlcjogbnVsbCB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8bmV2ZXI+O1xuXG4vLyBmb3JrSm9pbihbYSwgYiwgY10pXG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oc291cmNlczogcmVhZG9ubHkgW10pOiBPYnNlcnZhYmxlPG5ldmVyPjtcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbjxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihzb3VyY2VzOiByZWFkb25seSBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBPjtcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbjxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgc291cmNlczogcmVhZG9ubHkgWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSxcbiAgcmVzdWx0U2VsZWN0b3I6ICguLi52YWx1ZXM6IEEpID0+IFJcbik6IE9ic2VydmFibGU8Uj47XG5cbi8vIGZvcmtKb2luKGEsIGIsIGMpXG4vKiogQGRlcHJlY2F0ZWQgUGFzcyBhbiBhcnJheSBvZiBzb3VyY2VzIGluc3RlYWQuIFRoZSByZXN0LXBhcmFtZXRlcnMgc2lnbmF0dXJlIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvYXJyYXktYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbjxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBPjtcbi8qKiBAZGVwcmVjYXRlZCBQYXNzIGFuIGFycmF5IG9mIHNvdXJjZXMgaW5zdGVhZC4gVGhlIHJlc3QtcGFyYW1ldGVycyBzaWduYXR1cmUgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9hcnJheS1hcmd1bWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICAuLi5zb3VyY2VzQW5kUmVzdWx0U2VsZWN0b3I6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgKC4uLnZhbHVlczogQSkgPT4gUl1cbik6IE9ic2VydmFibGU8Uj47XG5cbi8vIGZvcmtKb2luKHthLCBiLCBjfSlcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbihzb3VyY2VzT2JqZWN0OiB7IFtLIGluIGFueV06IG5ldmVyIH0pOiBPYnNlcnZhYmxlPG5ldmVyPjtcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbjxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgT2JzZXJ2YWJsZUlucHV0PGFueT4+PihcbiAgc291cmNlc09iamVjdDogVFxuKTogT2JzZXJ2YWJsZTx7IFtLIGluIGtleW9mIFRdOiBPYnNlcnZlZFZhbHVlT2Y8VFtLXT4gfT47XG5cbi8qKlxuICogQWNjZXB0cyBhbiBgQXJyYXlgIG9mIHtAbGluayBPYnNlcnZhYmxlSW5wdXR9IG9yIGEgZGljdGlvbmFyeSBgT2JqZWN0YCBvZiB7QGxpbmsgT2JzZXJ2YWJsZUlucHV0fSBhbmQgcmV0dXJuc1xuICogYW4ge0BsaW5rIE9ic2VydmFibGV9IHRoYXQgZW1pdHMgZWl0aGVyIGFuIGFycmF5IG9mIHZhbHVlcyBpbiB0aGUgZXhhY3Qgc2FtZSBvcmRlciBhcyB0aGUgcGFzc2VkIGFycmF5LFxuICogb3IgYSBkaWN0aW9uYXJ5IG9mIHZhbHVlcyBpbiB0aGUgc2FtZSBzaGFwZSBhcyB0aGUgcGFzc2VkIGRpY3Rpb25hcnkuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPldhaXQgZm9yIE9ic2VydmFibGVzIHRvIGNvbXBsZXRlIGFuZCB0aGVuIGNvbWJpbmUgbGFzdCB2YWx1ZXMgdGhleSBlbWl0dGVkO1xuICogY29tcGxldGUgaW1tZWRpYXRlbHkgaWYgYW4gZW1wdHkgYXJyYXkgaXMgcGFzc2VkLjwvc3Bhbj5cbiAqXG4gKiAhW10oZm9ya0pvaW4ucG5nKVxuICpcbiAqIGBmb3JrSm9pbmAgaXMgYW4gb3BlcmF0b3IgdGhhdCB0YWtlcyBhbnkgbnVtYmVyIG9mIGlucHV0IG9ic2VydmFibGVzIHdoaWNoIGNhbiBiZSBwYXNzZWQgZWl0aGVyIGFzIGFuIGFycmF5XG4gKiBvciBhIGRpY3Rpb25hcnkgb2YgaW5wdXQgb2JzZXJ2YWJsZXMuIElmIG5vIGlucHV0IG9ic2VydmFibGVzIGFyZSBwcm92aWRlZCAoZS5nLiBhbiBlbXB0eSBhcnJheSBpcyBwYXNzZWQpLFxuICogdGhlbiB0aGUgcmVzdWx0aW5nIHN0cmVhbSB3aWxsIGNvbXBsZXRlIGltbWVkaWF0ZWx5LlxuICpcbiAqIGBmb3JrSm9pbmAgd2lsbCB3YWl0IGZvciBhbGwgcGFzc2VkIG9ic2VydmFibGVzIHRvIGVtaXQgYW5kIGNvbXBsZXRlIGFuZCB0aGVuIGl0IHdpbGwgZW1pdCBhbiBhcnJheSBvciBhbiBvYmplY3Qgd2l0aCBsYXN0XG4gKiB2YWx1ZXMgZnJvbSBjb3JyZXNwb25kaW5nIG9ic2VydmFibGVzLlxuICpcbiAqIElmIHlvdSBwYXNzIGFuIGFycmF5IG9mIGBuYCBvYnNlcnZhYmxlcyB0byB0aGUgb3BlcmF0b3IsIHRoZW4gdGhlIHJlc3VsdGluZ1xuICogYXJyYXkgd2lsbCBoYXZlIGBuYCB2YWx1ZXMsIHdoZXJlIHRoZSBmaXJzdCB2YWx1ZSBpcyB0aGUgbGFzdCBvbmUgZW1pdHRlZCBieSB0aGUgZmlyc3Qgb2JzZXJ2YWJsZSxcbiAqIHNlY29uZCB2YWx1ZSBpcyB0aGUgbGFzdCBvbmUgZW1pdHRlZCBieSB0aGUgc2Vjb25kIG9ic2VydmFibGUgYW5kIHNvIG9uLlxuICpcbiAqIElmIHlvdSBwYXNzIGEgZGljdGlvbmFyeSBvZiBvYnNlcnZhYmxlcyB0byB0aGUgb3BlcmF0b3IsIHRoZW4gdGhlIHJlc3VsdGluZ1xuICogb2JqZWN0cyB3aWxsIGhhdmUgdGhlIHNhbWUga2V5cyBhcyB0aGUgZGljdGlvbmFyeSBwYXNzZWQsIHdpdGggdGhlaXIgbGFzdCB2YWx1ZXMgdGhleSBoYXZlIGVtaXR0ZWRcbiAqIGxvY2F0ZWQgYXQgdGhlIGNvcnJlc3BvbmRpbmcga2V5LlxuICpcbiAqIFRoYXQgbWVhbnMgYGZvcmtKb2luYCB3aWxsIG5vdCBlbWl0IG1vcmUgdGhhbiBvbmNlIGFuZCBpdCB3aWxsIGNvbXBsZXRlIGFmdGVyIHRoYXQuIElmIHlvdSBuZWVkIHRvIGVtaXQgY29tYmluZWRcbiAqIHZhbHVlcyBub3Qgb25seSBhdCB0aGUgZW5kIG9mIHRoZSBsaWZlY3ljbGUgb2YgcGFzc2VkIG9ic2VydmFibGVzLCBidXQgYWxzbyB0aHJvdWdob3V0IGl0LCB0cnkgb3V0IHtAbGluayBjb21iaW5lTGF0ZXN0fVxuICogb3Ige0BsaW5rIHppcH0gaW5zdGVhZC5cbiAqXG4gKiBJbiBvcmRlciBmb3IgdGhlIHJlc3VsdGluZyBhcnJheSB0byBoYXZlIHRoZSBzYW1lIGxlbmd0aCBhcyB0aGUgbnVtYmVyIG9mIGlucHV0IG9ic2VydmFibGVzLCB3aGVuZXZlciBhbnkgb2ZcbiAqIHRoZSBnaXZlbiBvYnNlcnZhYmxlcyBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhbnkgdmFsdWUsIGBmb3JrSm9pbmAgd2lsbCBjb21wbGV0ZSBhdCB0aGF0IG1vbWVudCBhcyB3ZWxsXG4gKiBhbmQgaXQgd2lsbCBub3QgZW1pdCBhbnl0aGluZyBlaXRoZXIsIGV2ZW4gaWYgaXQgYWxyZWFkeSBoYXMgc29tZSBsYXN0IHZhbHVlcyBmcm9tIG90aGVyIG9ic2VydmFibGVzLlxuICogQ29udmVyc2VseSwgaWYgdGhlcmUgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IG5ldmVyIGNvbXBsZXRlcywgYGZvcmtKb2luYCB3aWxsIG5ldmVyIGNvbXBsZXRlIGVpdGhlcixcbiAqIHVubGVzcyBhdCBhbnkgcG9pbnQgc29tZSBvdGhlciBvYnNlcnZhYmxlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGEgdmFsdWUsIHdoaWNoIGJyaW5ncyB1cyBiYWNrIHRvXG4gKiB0aGUgcHJldmlvdXMgY2FzZS4gT3ZlcmFsbCwgaW4gb3JkZXIgZm9yIGBmb3JrSm9pbmAgdG8gZW1pdCBhIHZhbHVlLCBhbGwgZ2l2ZW4gb2JzZXJ2YWJsZXNcbiAqIGhhdmUgdG8gZW1pdCBzb21ldGhpbmcgYXQgbGVhc3Qgb25jZSBhbmQgY29tcGxldGUuXG4gKlxuICogSWYgYW55IGdpdmVuIG9ic2VydmFibGUgZXJyb3JzIGF0IHNvbWUgcG9pbnQsIGBmb3JrSm9pbmAgd2lsbCBlcnJvciBhcyB3ZWxsIGFuZCBpbW1lZGlhdGVseSB1bnN1YnNjcmliZVxuICogZnJvbSB0aGUgb3RoZXIgb2JzZXJ2YWJsZXMuXG4gKlxuICogT3B0aW9uYWxseSBgZm9ya0pvaW5gIGFjY2VwdHMgYSBgcmVzdWx0U2VsZWN0b3JgIGZ1bmN0aW9uLCB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggdmFsdWVzIHdoaWNoIG5vcm1hbGx5XG4gKiB3b3VsZCBsYW5kIGluIHRoZSBlbWl0dGVkIGFycmF5LiBXaGF0ZXZlciBpcyByZXR1cm5lZCBieSB0aGUgYHJlc3VsdFNlbGVjdG9yYCwgd2lsbCBhcHBlYXIgaW4gdGhlIG91dHB1dFxuICogb2JzZXJ2YWJsZSBpbnN0ZWFkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIGRlZmF1bHQgYHJlc3VsdFNlbGVjdG9yYCBjYW4gYmUgdGhvdWdodCBvZiBhcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXNcbiAqIGFsbCBpdHMgYXJndW1lbnRzIGFuZCBwdXRzIHRoZW0gaW50byBhbiBhcnJheS4gTm90ZSB0aGF0IHRoZSBgcmVzdWx0U2VsZWN0b3JgIHdpbGwgYmUgY2FsbGVkIG9ubHlcbiAqIHdoZW4gYGZvcmtKb2luYCBpcyBzdXBwb3NlZCB0byBlbWl0IGEgcmVzdWx0LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogVXNlIGBmb3JrSm9pbmAgd2l0aCBhIGRpY3Rpb25hcnkgb2Ygb2JzZXJ2YWJsZSBpbnB1dHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZm9ya0pvaW4sIG9mLCB0aW1lciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9ic2VydmFibGUgPSBmb3JrSm9pbih7XG4gKiAgIGZvbzogb2YoMSwgMiwgMywgNCksXG4gKiAgIGJhcjogUHJvbWlzZS5yZXNvbHZlKDgpLFxuICogICBiYXo6IHRpbWVyKDQwMDApXG4gKiB9KTtcbiAqIG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAqICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdUaGlzIGlzIGhvdyBpdCBlbmRzIScpLFxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIHsgZm9vOiA0LCBiYXI6IDgsIGJhejogMCB9IGFmdGVyIDQgc2Vjb25kc1xuICogLy8gJ1RoaXMgaXMgaG93IGl0IGVuZHMhJyBpbW1lZGlhdGVseSBhZnRlclxuICogYGBgXG4gKlxuICogVXNlIGBmb3JrSm9pbmAgd2l0aCBhbiBhcnJheSBvZiBvYnNlcnZhYmxlIGlucHV0c1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmb3JrSm9pbiwgb2YsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgb2JzZXJ2YWJsZSA9IGZvcmtKb2luKFtcbiAqICAgb2YoMSwgMiwgMywgNCksXG4gKiAgIFByb21pc2UucmVzb2x2ZSg4KSxcbiAqICAgdGltZXIoNDAwMClcbiAqIF0pO1xuICogb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICogIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ1RoaXMgaXMgaG93IGl0IGVuZHMhJyksXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gWzQsIDgsIDBdIGFmdGVyIDQgc2Vjb25kc1xuICogLy8gJ1RoaXMgaXMgaG93IGl0IGVuZHMhJyBpbW1lZGlhdGVseSBhZnRlclxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdH1cbiAqIEBzZWUge0BsaW5rIHppcH1cbiAqXG4gKiBAcGFyYW0gey4uLk9ic2VydmFibGVJbnB1dH0gYXJncyBBbnkgbnVtYmVyIG9mIE9ic2VydmFibGVzIHByb3ZpZGVkIGVpdGhlciBhcyBhbiBhcnJheSBvciBhcyBhbiBhcmd1bWVudHNcbiAqIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgb3BlcmF0b3IuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcHJvamVjdF0gRnVuY3Rpb24gdGhhdCB0YWtlcyB2YWx1ZXMgZW1pdHRlZCBieSBpbnB1dCBPYnNlcnZhYmxlcyBhbmQgcmV0dXJucyB2YWx1ZVxuICogdGhhdCB3aWxsIGFwcGVhciBpbiByZXN1bHRpbmcgT2JzZXJ2YWJsZSBpbnN0ZWFkIG9mIGRlZmF1bHQgYXJyYXkuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBPYnNlcnZhYmxlIGVtaXR0aW5nIGVpdGhlciBhbiBhcnJheSBvZiBsYXN0IHZhbHVlcyBlbWl0dGVkIGJ5IHBhc3NlZCBPYnNlcnZhYmxlc1xuICogb3IgdmFsdWUgZnJvbSBwcm9qZWN0IGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oLi4uYXJnczogYW55W10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICBjb25zdCByZXN1bHRTZWxlY3RvciA9IHBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICBjb25zdCB7IGFyZ3M6IHNvdXJjZXMsIGtleXMgfSA9IGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpO1xuICBjb25zdCByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcikgPT4ge1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBzb3VyY2VzO1xuICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGxldCByZW1haW5pbmdDb21wbGV0aW9ucyA9IGxlbmd0aDtcbiAgICBsZXQgcmVtYWluaW5nRW1pc3Npb25zID0gbGVuZ3RoO1xuICAgIGZvciAobGV0IHNvdXJjZUluZGV4ID0gMDsgc291cmNlSW5kZXggPCBsZW5ndGg7IHNvdXJjZUluZGV4KyspIHtcbiAgICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUoXG4gICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgIHJlbWFpbmluZ0VtaXNzaW9ucy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzW3NvdXJjZUluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKCkgPT4gcmVtYWluaW5nQ29tcGxldGlvbnMtLSxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdDb21wbGV0aW9ucyB8fCAhaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdFbWlzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoa2V5cyA/IGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpIDogdmFsdWVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRTZWxlY3RvciA/IHJlc3VsdC5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKSA6IHJlc3VsdDtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgU2NoZWR1bGVyTGlrZSwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oaW5wdXQ6IE8pOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbTxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KGlucHV0OiBPLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPj47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIGZyb20gYW4gQXJyYXksIGFuIGFycmF5LWxpa2Ugb2JqZWN0LCBhIFByb21pc2UsIGFuIGl0ZXJhYmxlIG9iamVjdCwgb3IgYW4gT2JzZXJ2YWJsZS1saWtlIG9iamVjdC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29udmVydHMgYWxtb3N0IGFueXRoaW5nIHRvIGFuIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShmcm9tLnBuZylcbiAqXG4gKiBgZnJvbWAgY29udmVydHMgdmFyaW91cyBvdGhlciBvYmplY3RzIGFuZCBkYXRhIHR5cGVzIGludG8gT2JzZXJ2YWJsZXMuIEl0IGFsc28gY29udmVydHMgYSBQcm9taXNlLCBhbiBhcnJheS1saWtlLCBvciBhblxuICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmFibGVcIiB0YXJnZXQ9XCJfYmxhbmtcIj5pdGVyYWJsZTwvYT5cbiAqIG9iamVjdCBpbnRvIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgaXRlbXMgaW4gdGhhdCBwcm9taXNlLCBhcnJheSwgb3IgaXRlcmFibGUuIEEgU3RyaW5nLCBpbiB0aGlzIGNvbnRleHQsIGlzIHRyZWF0ZWRcbiAqIGFzIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMuIE9ic2VydmFibGUtbGlrZSBvYmplY3RzIChjb250YWlucyBhIGZ1bmN0aW9uIG5hbWVkIHdpdGggdGhlIEVTMjAxNSBTeW1ib2wgZm9yIE9ic2VydmFibGUpIGNhbiBhbHNvIGJlXG4gKiBjb252ZXJ0ZWQgdGhyb3VnaCB0aGlzIG9wZXJhdG9yLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ29udmVydHMgYW4gYXJyYXkgdG8gYW4gT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYXJyYXkgPSBbMTAsIDIwLCAzMF07XG4gKiBjb25zdCByZXN1bHQgPSBmcm9tKGFycmF5KTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAxMFxuICogLy8gMjBcbiAqIC8vIDMwXG4gKiBgYGBcbiAqXG4gKiBDb252ZXJ0IGFuIGluZmluaXRlIGl0ZXJhYmxlIChmcm9tIGEgZ2VuZXJhdG9yKSB0byBhbiBPYnNlcnZhYmxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBmdW5jdGlvbiogZ2VuZXJhdGVEb3VibGVzKHNlZWQpIHtcbiAqICAgIGxldCBpID0gc2VlZDtcbiAqICAgIHdoaWxlICh0cnVlKSB7XG4gKiAgICAgIHlpZWxkIGk7XG4gKiAgICAgIGkgPSAyICogaTsgLy8gZG91YmxlIGl0XG4gKiAgICB9XG4gKiB9XG4gKlxuICogY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0ZURvdWJsZXMoMyk7XG4gKiBjb25zdCByZXN1bHQgPSBmcm9tKGl0ZXJhdG9yKS5waXBlKHRha2UoMTApKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAzXG4gKiAvLyA2XG4gKiAvLyAxMlxuICogLy8gMjRcbiAqIC8vIDQ4XG4gKiAvLyA5NlxuICogLy8gMTkyXG4gKiAvLyAzODRcbiAqIC8vIDc2OFxuICogLy8gMTUzNlxuICogYGBgXG4gKlxuICogV2l0aCBgYXN5bmNTY2hlZHVsZXJgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc29sZS5sb2coJ3N0YXJ0Jyk7XG4gKlxuICogY29uc3QgYXJyYXkgPSBbMTAsIDIwLCAzMF07XG4gKiBjb25zdCByZXN1bHQgPSBmcm9tKGFycmF5LCBhc3luY1NjaGVkdWxlcik7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiBjb25zb2xlLmxvZygnZW5kJyk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vICdzdGFydCdcbiAqIC8vICdlbmQnXG4gKiAvLyAxMFxuICogLy8gMjBcbiAqIC8vIDMwXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmcm9tRXZlbnR9XG4gKiBAc2VlIHtAbGluayBmcm9tRXZlbnRQYXR0ZXJufVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2YWJsZUlucHV0PFQ+fSBBIHN1YnNjcmlwdGlvbiBvYmplY3QsIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZS1saWtlLFxuICogYW4gQXJyYXksIGFuIGl0ZXJhYmxlLCBvciBhbiBhcnJheS1saWtlIG9iamVjdCB0byBiZSBjb252ZXJ0ZWQuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IEFuIG9wdGlvbmFsIHtAbGluayBTY2hlZHVsZXJMaWtlfSBvbiB3aGljaCB0byBzY2hlZHVsZSB0aGUgZW1pc3Npb24gb2YgdmFsdWVzLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb208VD4oaW5wdXQ6IE9ic2VydmFibGVJbnB1dDxUPiwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8VD4ge1xuICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbiIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlTWFwJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xuXG4vLyBUaGVzZSBjb25zdGFudHMgYXJlIHVzZWQgdG8gY3JlYXRlIGhhbmRsZXIgcmVnaXN0cnkgZnVuY3Rpb25zIHVzaW5nIGFycmF5IG1hcHBpbmcgYmVsb3cuXG5jb25zdCBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyA9IFsnYWRkTGlzdGVuZXInLCAncmVtb3ZlTGlzdGVuZXInXSBhcyBjb25zdDtcbmNvbnN0IGV2ZW50VGFyZ2V0TWV0aG9kcyA9IFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ10gYXMgY29uc3Q7XG5jb25zdCBqcXVlcnlNZXRob2RzID0gWydvbicsICdvZmYnXSBhcyBjb25zdDtcblxuZXhwb3J0IGludGVyZmFjZSBOb2RlU3R5bGVFdmVudEVtaXR0ZXIge1xuICBhZGRMaXN0ZW5lcihldmVudE5hbWU6IHN0cmluZyB8IHN5bWJvbCwgaGFuZGxlcjogTm9kZUV2ZW50SGFuZGxlcik6IHRoaXM7XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nIHwgc3ltYm9sLCBoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyKTogdGhpcztcbn1cblxuZXhwb3J0IHR5cGUgTm9kZUV2ZW50SGFuZGxlciA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuLy8gRm9yIEFQSXMgdGhhdCBpbXBsZW1lbnQgYGFkZExpc3RlbmVyYCBhbmQgYHJlbW92ZUxpc3RlbmVyYCBtZXRob2RzIHRoYXQgbWF5XG4vLyBub3QgdXNlIHRoZSBzYW1lIGFyZ3VtZW50cyBvciByZXR1cm4gRXZlbnRFbWl0dGVyIHZhbHVlc1xuLy8gc3VjaCBhcyBSZWFjdCBOYXRpdmVcbmV4cG9ydCBpbnRlcmZhY2UgTm9kZUNvbXBhdGlibGVFdmVudEVtaXR0ZXIge1xuICBhZGRMaXN0ZW5lcihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogTm9kZUV2ZW50SGFuZGxlcik6IHZvaWQgfCB7fTtcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIpOiB2b2lkIHwge307XG59XG5cbi8vIFVzZSBoYW5kbGVyIHR5cGVzIGxpa2UgdGhvc2UgaW4gQHR5cGVzL2pxdWVyeS4gU2VlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0RlZmluaXRlbHlUeXBlZC9EZWZpbml0ZWx5VHlwZWQvYmxvYi84NDc3MzFiYTFkN2ZhNmRiNmI5MTFjMGU0M2FhMGFmZTU5NmU3NzIzL3R5cGVzL2pxdWVyeS9taXNjLmQudHMjTDYzOTVcbmV4cG9ydCBpbnRlcmZhY2UgSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXI8VENvbnRleHQsIFQ+IHtcbiAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6ICh0aGlzOiBUQ29udGV4dCwgdDogVCwgLi4uYXJnczogYW55W10pID0+IGFueSk6IHZvaWQ7XG4gIG9mZihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogKHRoaXM6IFRDb250ZXh0LCB0OiBULCAuLi5hcmdzOiBhbnlbXSkgPT4gYW55KTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudExpc3RlbmVyT2JqZWN0PEU+IHtcbiAgaGFuZGxlRXZlbnQoZXZ0OiBFKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxFPiB7XG4gIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyOiAoKGV2dDogRSkgPT4gdm9pZCkgfCBFdmVudExpc3RlbmVyT2JqZWN0PEU+IHwgbnVsbCxcbiAgICBvcHRpb25zPzogYm9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zXG4gICk6IHZvaWQ7XG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyOiAoKGV2dDogRSkgPT4gdm9pZCkgfCBFdmVudExpc3RlbmVyT2JqZWN0PEU+IHwgbnVsbCxcbiAgICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMgfCBib29sZWFuXG4gICk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRMaXN0ZW5lck9wdGlvbnMge1xuICBjYXB0dXJlPzogYm9vbGVhbjtcbiAgcGFzc2l2ZT86IGJvb2xlYW47XG4gIG9uY2U/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zIGV4dGVuZHMgRXZlbnRMaXN0ZW5lck9wdGlvbnMge1xuICBvbmNlPzogYm9vbGVhbjtcbiAgcGFzc2l2ZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VD4odGFyZ2V0OiBIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxUPiB8IEFycmF5TGlrZTxIYXNFdmVudFRhcmdldEFkZFJlbW92ZTxUPj4sIGV2ZW50TmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VCwgUj4oXG4gIHRhcmdldDogSGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8VD4gfCBBcnJheUxpa2U8SGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8VD4+LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgcmVzdWx0U2VsZWN0b3I6IChldmVudDogVCkgPT4gUlxuKTogT2JzZXJ2YWJsZTxSPjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VD4oXG4gIHRhcmdldDogSGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8VD4gfCBBcnJheUxpa2U8SGFzRXZlbnRUYXJnZXRBZGRSZW1vdmU8VD4+LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgb3B0aW9uczogRXZlbnRMaXN0ZW5lck9wdGlvbnNcbik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFQsIFI+KFxuICB0YXJnZXQ6IEhhc0V2ZW50VGFyZ2V0QWRkUmVtb3ZlPFQ+IHwgQXJyYXlMaWtlPEhhc0V2ZW50VGFyZ2V0QWRkUmVtb3ZlPFQ+PixcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM6IEV2ZW50TGlzdGVuZXJPcHRpb25zLFxuICByZXN1bHRTZWxlY3RvcjogKGV2ZW50OiBUKSA9PiBSXG4pOiBPYnNlcnZhYmxlPFI+O1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldDogTm9kZVN0eWxlRXZlbnRFbWl0dGVyIHwgQXJyYXlMaWtlPE5vZGVTdHlsZUV2ZW50RW1pdHRlcj4sIGV2ZW50TmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTx1bmtub3duPjtcbi8qKiBAZGVwcmVjYXRlZCBEbyBub3Qgc3BlY2lmeSBleHBsaWNpdCB0eXBlIHBhcmFtZXRlcnMuIFNpZ25hdHVyZXMgd2l0aCB0eXBlIHBhcmFtZXRlcnMgdGhhdCBjYW5ub3QgYmUgaW5mZXJyZWQgd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxUPih0YXJnZXQ6IE5vZGVTdHlsZUV2ZW50RW1pdHRlciB8IEFycmF5TGlrZTxOb2RlU3R5bGVFdmVudEVtaXR0ZXI+LCBldmVudE5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFI+KFxuICB0YXJnZXQ6IE5vZGVTdHlsZUV2ZW50RW1pdHRlciB8IEFycmF5TGlrZTxOb2RlU3R5bGVFdmVudEVtaXR0ZXI+LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgcmVzdWx0U2VsZWN0b3I6ICguLi5hcmdzOiBhbnlbXSkgPT4gUlxuKTogT2JzZXJ2YWJsZTxSPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudChcbiAgdGFyZ2V0OiBOb2RlQ29tcGF0aWJsZUV2ZW50RW1pdHRlciB8IEFycmF5TGlrZTxOb2RlQ29tcGF0aWJsZUV2ZW50RW1pdHRlcj4sXG4gIGV2ZW50TmFtZTogc3RyaW5nXG4pOiBPYnNlcnZhYmxlPHVua25vd24+O1xuLyoqIEBkZXByZWNhdGVkIERvIG5vdCBzcGVjaWZ5IGV4cGxpY2l0IHR5cGUgcGFyYW1ldGVycy4gU2lnbmF0dXJlcyB3aXRoIHR5cGUgcGFyYW1ldGVycyB0aGF0IGNhbm5vdCBiZSBpbmZlcnJlZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFQ+KHRhcmdldDogTm9kZUNvbXBhdGlibGVFdmVudEVtaXR0ZXIgfCBBcnJheUxpa2U8Tm9kZUNvbXBhdGlibGVFdmVudEVtaXR0ZXI+LCBldmVudE5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFI+KFxuICB0YXJnZXQ6IE5vZGVDb21wYXRpYmxlRXZlbnRFbWl0dGVyIHwgQXJyYXlMaWtlPE5vZGVDb21wYXRpYmxlRXZlbnRFbWl0dGVyPixcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIHJlc3VsdFNlbGVjdG9yOiAoLi4uYXJnczogYW55W10pID0+IFJcbik6IE9ic2VydmFibGU8Uj47XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQ8VD4oXG4gIHRhcmdldDogSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXI8YW55LCBUPiB8IEFycmF5TGlrZTxKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcjxhbnksIFQ+PixcbiAgZXZlbnROYW1lOiBzdHJpbmdcbik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50PFQsIFI+KFxuICB0YXJnZXQ6IEpRdWVyeVN0eWxlRXZlbnRFbWl0dGVyPGFueSwgVD4gfCBBcnJheUxpa2U8SlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXI8YW55LCBUPj4sXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICByZXN1bHRTZWxlY3RvcjogKHZhbHVlOiBULCAuLi5hcmdzOiBhbnlbXSkgPT4gUlxuKTogT2JzZXJ2YWJsZTxSPjtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBldmVudHMgb2YgYSBzcGVjaWZpYyB0eXBlIGNvbWluZyBmcm9tIHRoZVxuICogZ2l2ZW4gZXZlbnQgdGFyZ2V0LlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5DcmVhdGVzIGFuIE9ic2VydmFibGUgZnJvbSBET00gZXZlbnRzLCBvciBOb2RlLmpzXG4gKiBFdmVudEVtaXR0ZXIgZXZlbnRzIG9yIG90aGVycy48L3NwYW4+XG4gKlxuICogIVtdKGZyb21FdmVudC5wbmcpXG4gKlxuICogYGZyb21FdmVudGAgYWNjZXB0cyBhcyBhIGZpcnN0IGFyZ3VtZW50IGV2ZW50IHRhcmdldCwgd2hpY2ggaXMgYW4gb2JqZWN0IHdpdGggbWV0aG9kc1xuICogZm9yIHJlZ2lzdGVyaW5nIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zLiBBcyBhIHNlY29uZCBhcmd1bWVudCBpdCB0YWtlcyBzdHJpbmcgdGhhdCBpbmRpY2F0ZXNcbiAqIHR5cGUgb2YgZXZlbnQgd2Ugd2FudCB0byBsaXN0ZW4gZm9yLiBgZnJvbUV2ZW50YCBzdXBwb3J0cyBzZWxlY3RlZCB0eXBlcyBvZiBldmVudCB0YXJnZXRzLFxuICogd2hpY2ggYXJlIGRlc2NyaWJlZCBpbiBkZXRhaWwgYmVsb3cuIElmIHlvdXIgZXZlbnQgdGFyZ2V0IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb25lcyBsaXN0ZWQsXG4gKiB5b3Ugc2hvdWxkIHVzZSB7QGxpbmsgZnJvbUV2ZW50UGF0dGVybn0sIHdoaWNoIGNhbiBiZSB1c2VkIG9uIGFyYml0cmFyeSBBUElzLlxuICogV2hlbiBpdCBjb21lcyB0byBBUElzIHN1cHBvcnRlZCBieSBgZnJvbUV2ZW50YCwgdGhlaXIgbWV0aG9kcyBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyBldmVudFxuICogaGFuZGxlciBmdW5jdGlvbnMgaGF2ZSBkaWZmZXJlbnQgbmFtZXMsIGJ1dCB0aGV5IGFsbCBhY2NlcHQgYSBzdHJpbmcgZGVzY3JpYmluZyBldmVudCB0eXBlXG4gKiBhbmQgZnVuY3Rpb24gaXRzZWxmLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBzYWlkIGV2ZW50IGhhcHBlbnMuXG4gKlxuICogRXZlcnkgdGltZSByZXN1bHRpbmcgT2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkLCBldmVudCBoYW5kbGVyIGZ1bmN0aW9uIHdpbGwgYmUgcmVnaXN0ZXJlZFxuICogdG8gZXZlbnQgdGFyZ2V0IG9uIGdpdmVuIGV2ZW50IHR5cGUuIFdoZW4gdGhhdCBldmVudCBmaXJlcywgdmFsdWVcbiAqIHBhc3NlZCBhcyBhIGZpcnN0IGFyZ3VtZW50IHRvIHJlZ2lzdGVyZWQgZnVuY3Rpb24gd2lsbCBiZSBlbWl0dGVkIGJ5IG91dHB1dCBPYnNlcnZhYmxlLlxuICogV2hlbiBPYnNlcnZhYmxlIGlzIHVuc3Vic2NyaWJlZCwgZnVuY3Rpb24gd2lsbCBiZSB1bnJlZ2lzdGVyZWQgZnJvbSBldmVudCB0YXJnZXQuXG4gKlxuICogTm90ZSB0aGF0IGlmIGV2ZW50IHRhcmdldCBjYWxscyByZWdpc3RlcmVkIGZ1bmN0aW9uIHdpdGggbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgc2Vjb25kXG4gKiBhbmQgZm9sbG93aW5nIGFyZ3VtZW50cyB3aWxsIG5vdCBhcHBlYXIgaW4gcmVzdWx0aW5nIHN0cmVhbS4gSW4gb3JkZXIgdG8gZ2V0IGFjY2VzcyB0byB0aGVtLFxuICogeW91IGNhbiBwYXNzIHRvIGBmcm9tRXZlbnRgIG9wdGlvbmFsIHByb2plY3QgZnVuY3Rpb24sIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIGFyZ3VtZW50c1xuICogcGFzc2VkIHRvIGV2ZW50IGhhbmRsZXIuIE91dHB1dCBPYnNlcnZhYmxlIHdpbGwgdGhlbiBlbWl0IHZhbHVlIHJldHVybmVkIGJ5IHByb2plY3QgZnVuY3Rpb24sXG4gKiBpbnN0ZWFkIG9mIHRoZSB1c3VhbCB2YWx1ZS5cbiAqXG4gKiBSZW1lbWJlciB0aGF0IGV2ZW50IHRhcmdldHMgbGlzdGVkIGJlbG93IGFyZSBjaGVja2VkIHZpYSBkdWNrIHR5cGluZy4gSXQgbWVhbnMgdGhhdFxuICogbm8gbWF0dGVyIHdoYXQga2luZCBvZiBvYmplY3QgeW91IGhhdmUgYW5kIG5vIG1hdHRlciB3aGF0IGVudmlyb25tZW50IHlvdSB3b3JrIGluLFxuICogeW91IGNhbiBzYWZlbHkgdXNlIGBmcm9tRXZlbnRgIG9uIHRoYXQgb2JqZWN0IGlmIGl0IGV4cG9zZXMgZGVzY3JpYmVkIG1ldGhvZHMgKHByb3ZpZGVkXG4gKiBvZiBjb3Vyc2UgdGhleSBiZWhhdmUgYXMgd2FzIGRlc2NyaWJlZCBhYm92ZSkuIFNvIGZvciBleGFtcGxlIGlmIE5vZGUuanMgbGlicmFyeSBleHBvc2VzXG4gKiBldmVudCB0YXJnZXQgd2hpY2ggaGFzIHRoZSBzYW1lIG1ldGhvZCBuYW1lcyBhcyBET00gRXZlbnRUYXJnZXQsIGBmcm9tRXZlbnRgIGlzIHN0aWxsXG4gKiBhIGdvb2QgY2hvaWNlLlxuICpcbiAqIElmIHRoZSBBUEkgeW91IHVzZSBpcyBtb3JlIGNhbGxiYWNrIHRoZW4gZXZlbnQgaGFuZGxlciBvcmllbnRlZCAoc3Vic2NyaWJlZFxuICogY2FsbGJhY2sgZnVuY3Rpb24gZmlyZXMgb25seSBvbmNlIGFuZCB0aHVzIHRoZXJlIGlzIG5vIG5lZWQgdG8gbWFudWFsbHlcbiAqIHVucmVnaXN0ZXIgaXQpLCB5b3Ugc2hvdWxkIHVzZSB7QGxpbmsgYmluZENhbGxiYWNrfSBvciB7QGxpbmsgYmluZE5vZGVDYWxsYmFja31cbiAqIGluc3RlYWQuXG4gKlxuICogYGZyb21FdmVudGAgc3VwcG9ydHMgZm9sbG93aW5nIHR5cGVzIG9mIGV2ZW50IHRhcmdldHM6XG4gKlxuICogKipET00gRXZlbnRUYXJnZXQqKlxuICpcbiAqIFRoaXMgaXMgYW4gb2JqZWN0IHdpdGggYGFkZEV2ZW50TGlzdGVuZXJgIGFuZCBgcmVtb3ZlRXZlbnRMaXN0ZW5lcmAgbWV0aG9kcy5cbiAqXG4gKiBJbiB0aGUgYnJvd3NlciwgYGFkZEV2ZW50TGlzdGVuZXJgIGFjY2VwdHMgLSBhcGFydCBmcm9tIGV2ZW50IHR5cGUgc3RyaW5nIGFuZCBldmVudFxuICogaGFuZGxlciBmdW5jdGlvbiBhcmd1bWVudHMgLSBvcHRpb25hbCB0aGlyZCBwYXJhbWV0ZXIsIHdoaWNoIGlzIGVpdGhlciBhbiBvYmplY3Qgb3IgYm9vbGVhbixcbiAqIGJvdGggdXNlZCBmb3IgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGhvdyBhbmQgd2hlbiBwYXNzZWQgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQuIFdoZW5cbiAqIGBmcm9tRXZlbnRgIGlzIHVzZWQgd2l0aCBldmVudCB0YXJnZXQgb2YgdGhhdCB0eXBlLCB5b3UgY2FuIHByb3ZpZGUgdGhpcyB2YWx1ZXNcbiAqIGFzIHRoaXJkIHBhcmFtZXRlciBhcyB3ZWxsLlxuICpcbiAqICoqTm9kZS5qcyBFdmVudEVtaXR0ZXIqKlxuICpcbiAqIEFuIG9iamVjdCB3aXRoIGBhZGRMaXN0ZW5lcmAgYW5kIGByZW1vdmVMaXN0ZW5lcmAgbWV0aG9kcy5cbiAqXG4gKiAqKkpRdWVyeS1zdHlsZSBldmVudCB0YXJnZXQqKlxuICpcbiAqIEFuIG9iamVjdCB3aXRoIGBvbmAgYW5kIGBvZmZgIG1ldGhvZHNcbiAqXG4gKiAqKkRPTSBOb2RlTGlzdCoqXG4gKlxuICogTGlzdCBvZiBET00gTm9kZXMsIHJldHVybmVkIGZvciBleGFtcGxlIGJ5IGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsYCBvciBgTm9kZS5jaGlsZE5vZGVzYC5cbiAqXG4gKiBBbHRob3VnaCB0aGlzIGNvbGxlY3Rpb24gaXMgbm90IGV2ZW50IHRhcmdldCBpbiBpdHNlbGYsIGBmcm9tRXZlbnRgIHdpbGwgaXRlcmF0ZSBvdmVyIGFsbCBOb2Rlc1xuICogaXQgY29udGFpbnMgYW5kIGluc3RhbGwgZXZlbnQgaGFuZGxlciBmdW5jdGlvbiBpbiBldmVyeSBvZiB0aGVtLiBXaGVuIHJldHVybmVkIE9ic2VydmFibGVcbiAqIGlzIHVuc3Vic2NyaWJlZCwgZnVuY3Rpb24gd2lsbCBiZSByZW1vdmVkIGZyb20gYWxsIE5vZGVzLlxuICpcbiAqICoqRE9NIEh0bWxDb2xsZWN0aW9uKipcbiAqXG4gKiBKdXN0IGFzIGluIGNhc2Ugb2YgTm9kZUxpc3QgaXQgaXMgYSBjb2xsZWN0aW9uIG9mIERPTSBub2Rlcy4gSGVyZSBhcyB3ZWxsIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb24gaXNcbiAqIGluc3RhbGxlZCBhbmQgcmVtb3ZlZCBpbiBlYWNoIG9mIGVsZW1lbnRzLlxuICpcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgY2xpY2tzIGhhcHBlbmluZyBvbiB0aGUgRE9NIGRvY3VtZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjbGlja3Muc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW46XG4gKiAvLyBNb3VzZUV2ZW50IG9iamVjdCBsb2dnZWQgdG8gY29uc29sZSBldmVyeSB0aW1lIGEgY2xpY2tcbiAqIC8vIG9jY3VycyBvbiB0aGUgZG9jdW1lbnQuXG4gKiBgYGBcbiAqXG4gKiBVc2UgYGFkZEV2ZW50TGlzdGVuZXJgIHdpdGggY2FwdHVyZSBvcHRpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzSW5Eb2N1bWVudCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgdHJ1ZSk7IC8vIG5vdGUgb3B0aW9uYWwgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byBhZGRFdmVudExpc3RlbmVyXG4gKiBjb25zdCBjbGlja3NJbkRpdiA9IGZyb21FdmVudChzb21lRGl2SW5Eb2N1bWVudCwgJ2NsaWNrJyk7XG4gKlxuICogY2xpY2tzSW5Eb2N1bWVudC5zdWJzY3JpYmUoKCkgPT4gY29uc29sZS5sb2coJ2RvY3VtZW50JykpO1xuICogY2xpY2tzSW5EaXYuc3Vic2NyaWJlKCgpID0+IGNvbnNvbGUubG9nKCdkaXYnKSk7XG4gKlxuICogLy8gQnkgZGVmYXVsdCBldmVudHMgYnViYmxlIFVQIGluIERPTSB0cmVlLCBzbyBub3JtYWxseVxuICogLy8gd2hlbiB3ZSB3b3VsZCBjbGljayBvbiBkaXYgaW4gZG9jdW1lbnRcbiAqIC8vIFwiZGl2XCIgd291bGQgYmUgbG9nZ2VkIGZpcnN0IGFuZCB0aGVuIFwiZG9jdW1lbnRcIi5cbiAqIC8vIFNpbmNlIHdlIHNwZWNpZmllZCBvcHRpb25hbCBgY2FwdHVyZWAgb3B0aW9uLCBkb2N1bWVudFxuICogLy8gd2lsbCBjYXRjaCBldmVudCB3aGVuIGl0IGdvZXMgRE9XTiBET00gdHJlZSwgc28gY29uc29sZVxuICogLy8gd2lsbCBsb2cgXCJkb2N1bWVudFwiIGFuZCB0aGVuIFwiZGl2XCIuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBiaW5kQ2FsbGJhY2t9XG4gKiBAc2VlIHtAbGluayBiaW5kTm9kZUNhbGxiYWNrfVxuICogQHNlZSB7QGxpbmsgZnJvbUV2ZW50UGF0dGVybn1cbiAqXG4gKiBAcGFyYW0ge0Zyb21FdmVudFRhcmdldDxUPn0gdGFyZ2V0IFRoZSBET00gRXZlbnRUYXJnZXQsIE5vZGUuanNcbiAqIEV2ZW50RW1pdHRlciwgSlF1ZXJ5LWxpa2UgZXZlbnQgdGFyZ2V0LCBOb2RlTGlzdCBvciBIVE1MQ29sbGVjdGlvbiB0byBhdHRhY2ggdGhlIGV2ZW50IGhhbmRsZXIgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lIG9mIGludGVyZXN0LCBiZWluZyBlbWl0dGVkIGJ5IHRoZVxuICogYHRhcmdldGAuXG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyB0byBwYXNzIHRocm91Z2ggdG8gYWRkRXZlbnRMaXN0ZW5lclxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxUPihcbiAgdGFyZ2V0OiBhbnksXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMgfCAoKC4uLmFyZ3M6IGFueVtdKSA9PiBUKSxcbiAgcmVzdWx0U2VsZWN0b3I/OiAoLi4uYXJnczogYW55W10pID0+IFRcbik6IE9ic2VydmFibGU8VD4ge1xuICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBmcm9tRXZlbnQ8VD4odGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMgYXMgRXZlbnRMaXN0ZW5lck9wdGlvbnMpLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpO1xuICB9XG5cbiAgLy8gRmlndXJlIG91dCBvdXIgYWRkIGFuZCByZW1vdmUgbWV0aG9kcy4gSW4gb3JkZXIgdG8gZG8gdGhpcyxcbiAgLy8gd2UgYXJlIGdvaW5nIHRvIGFuYWx5emUgdGhlIHRhcmdldCBpbiBhIHByZWZlcnJlZCBvcmRlciwgaWZcbiAgLy8gdGhlIHRhcmdldCBtYXRjaGVzIGEgZ2l2ZW4gc2lnbmF0dXJlLCB3ZSB0YWtlIHRoZSB0d28gXCJhZGRcIiBhbmQgXCJyZW1vdmVcIlxuICAvLyBtZXRob2QgbmFtZXMgYW5kIGFwcGx5IHRoZW0gdG8gYSBtYXAgdG8gY3JlYXRlIG9wcG9zaXRlIHZlcnNpb25zIG9mIHRoZVxuICAvLyBzYW1lIGZ1bmN0aW9uLiBUaGlzIGlzIGJlY2F1c2UgdGhleSBhbGwgb3BlcmF0ZSBpbiBkdXBsaWNhdGUgcGFpcnMsXG4gIC8vIGBhZGRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKWAsIGByZW1vdmVMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKWAsIGZvciBleGFtcGxlLlxuICAvLyBUaGUgY2FsbCBvbmx5IGRpZmZlcnMgYnkgbWV0aG9kIG5hbWUsIGFzIHRvIHdoZXRoZXIgb3Igbm90IHlvdSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcuXG4gIGNvbnN0IFthZGQsIHJlbW92ZV0gPVxuICAgIC8vIElmIGl0IGlzIGFuIEV2ZW50VGFyZ2V0LCB3ZSBuZWVkIHRvIHVzZSBhIHNsaWdodGx5IGRpZmZlcmVudCBtZXRob2QgdGhhbiB0aGUgb3RoZXIgdHdvIHBhdHRlcm5zLlxuICAgIGlzRXZlbnRUYXJnZXQodGFyZ2V0KVxuICAgICAgPyBldmVudFRhcmdldE1ldGhvZHMubWFwKChtZXRob2ROYW1lKSA9PiAoaGFuZGxlcjogYW55KSA9PiB0YXJnZXRbbWV0aG9kTmFtZV0oZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zIGFzIEV2ZW50TGlzdGVuZXJPcHRpb25zKSlcbiAgICAgIDogLy8gSW4gYWxsIG90aGVyIGNhc2VzLCB0aGUgY2FsbCBwYXR0ZXJuIGlzIGlkZW50aWNhbCB3aXRoIHRoZSBleGNlcHRpb24gb2YgdGhlIG1ldGhvZCBuYW1lcy5cbiAgICAgIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgID8gbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcbiAgICAgIDogaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICA/IGpxdWVyeU1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcbiAgICAgIDogW107XG5cbiAgLy8gSWYgYWRkIGlzIGZhbHN5LCBpdCdzIGJlY2F1c2Ugd2UgZGlkbid0IG1hdGNoIGEgcGF0dGVybiBhYm92ZS5cbiAgLy8gQ2hlY2sgdG8gc2VlIGlmIGl0IGlzIGFuIEFycmF5TGlrZSwgYmVjYXVzZSBpZiBpdCBpcywgd2Ugd2FudCB0b1xuICAvLyB0cnkgdG8gYXBwbHkgZnJvbUV2ZW50IHRvIGFsbCBvZiBpdCdzIGl0ZW1zLiBXZSBkbyB0aGlzIGNoZWNrIGxhc3QsXG4gIC8vIGJlY2F1c2UgdGhlcmUgYXJlIG1heSBiZSBzb21lIHR5cGVzIHRoYXQgYXJlIGJvdGggQXJyYXlMaWtlICphbmQqIGltcGxlbWVudFxuICAvLyBldmVudCByZWdpc3RyeSBwb2ludHMsIGFuZCB3ZSdkIHJhdGhlciBkZWxlZ2F0ZSB0byB0aGF0IHdoZW4gcG9zc2libGUuXG4gIGlmICghYWRkKSB7XG4gICAgaWYgKGlzQXJyYXlMaWtlKHRhcmdldCkpIHtcbiAgICAgIHJldHVybiBtZXJnZU1hcCgoc3ViVGFyZ2V0OiBhbnkpID0+IGZyb21FdmVudChzdWJUYXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucyBhcyBFdmVudExpc3RlbmVyT3B0aW9ucykpKFxuICAgICAgICBpbm5lckZyb20odGFyZ2V0KVxuICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGFkZCBpcyBmYWxzeSBhbmQgd2UgbWFkZSBpdCBoZXJlLCBpdCdzIGJlY2F1c2Ugd2UgZGlkbid0XG4gIC8vIG1hdGNoIGFueSB2YWxpZCB0YXJnZXQgb2JqZWN0cyBhYm92ZS5cbiAgaWYgKCFhZGQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGV2ZW50IHRhcmdldCcpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGhhbmRsZXIgd2UgYXJlIGdvaW5nIHRvIHJlZ2lzdGVyLiBGb3J3YXJkcyB0aGUgZXZlbnQgb2JqZWN0LCBieSBpdHNlbGYsIG9yXG4gICAgLy8gYW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIHRoZSBldmVudCBoYW5kbGVyLCBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LFxuICAgIC8vIHRvIHRoZSBjb25zdW1lci5cbiAgICBjb25zdCBoYW5kbGVyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBzdWJzY3JpYmVyLm5leHQoMSA8IGFyZ3MubGVuZ3RoID8gYXJncyA6IGFyZ3NbMF0pO1xuICAgIC8vIERvIHRoZSB3b3JrIG9mIGFkZGluZyB0aGUgaGFuZGxlciB0byB0aGUgdGFyZ2V0LlxuICAgIGFkZChoYW5kbGVyKTtcbiAgICAvLyBXaGVuIHdlIGZpbmFsaXplLCB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgaGFuZGxlciBhbmQgZnJlZSB1cCBtZW1vcnkuXG4gICAgcmV0dXJuICgpID0+IHJlbW92ZSEoaGFuZGxlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGBhZGRgIGFuZCBgcmVtb3ZlYCBmdW5jdGlvbnMgdG8gcmVnaXN0ZXIgYW5kIHVucmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcbiAqIGZyb20gYSB0YXJnZXQgaW4gdGhlIG1vc3QgY29tbW9uIGhhbmRsZXIgcGF0dGVybiwgd2hlcmUgdGhlcmUgYXJlIG9ubHkgdHdvIGFyZ3VtZW50cy5cbiAqIChlLmcuICBgb24obmFtZSwgZm4pYCwgYG9mZihuYW1lLCBmbilgLCBgYWRkTGlzdGVuZXIobmFtZSwgZm4pYCwgb3IgYHJlbW92ZUxpc3RlbmVyKG5hbWUsIGZuKWApXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgd2UncmUgY2FsbGluZyBtZXRob2RzIG9uXG4gKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lIGZvciB0aGUgZXZlbnQgd2UncmUgY3JlYXRpbmcgcmVnaXN0ZXIgb3IgdW5yZWdpc3RlciBmdW5jdGlvbnMgZm9yXG4gKi9cbmZ1bmN0aW9uIHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldDogYW55LCBldmVudE5hbWU6IHN0cmluZykge1xuICByZXR1cm4gKG1ldGhvZE5hbWU6IHN0cmluZykgPT4gKGhhbmRsZXI6IGFueSkgPT4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiB0aGUgdGFyZ2V0IGltcGxlbWVudHMgdGhlIHJlcXVpcmVkIG5vZGUtc3R5bGUgRXZlbnRFbWl0dGVyIG1ldGhvZHNcbiAqIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGV2ZW50IGhhbmRsZXJzLlxuICogQHBhcmFtIHRhcmdldCB0aGUgb2JqZWN0IHRvIGNoZWNrXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIE5vZGVTdHlsZUV2ZW50RW1pdHRlciB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5hZGRMaXN0ZW5lcikgJiYgaXNGdW5jdGlvbih0YXJnZXQucmVtb3ZlTGlzdGVuZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgdGhlIHRhcmdldCBpbXBsZW1lbnRzIHRoZSByZXF1aXJlZCBqUXVlcnktc3R5bGUgRXZlbnRFbWl0dGVyIG1ldGhvZHNcbiAqIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGV2ZW50IGhhbmRsZXJzLlxuICogQHBhcmFtIHRhcmdldCB0aGUgb2JqZWN0IHRvIGNoZWNrXG4gKi9cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXI8YW55LCBhbnk+IHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0Lm9uKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5vZmYpO1xufVxuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgdGhlIHRhcmdldCBpbXBsZW1lbnRzIHRoZSByZXF1aXJlZCBFdmVudFRhcmdldCBtZXRob2RzXG4gKiBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyBldmVudCBoYW5kbGVycy5cbiAqIEBwYXJhbSB0YXJnZXQgdGhlIG9iamVjdCB0byBjaGVja1xuICovXG5mdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEhhc0V2ZW50VGFyZ2V0QWRkUmVtb3ZlPGFueT4ge1xuICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgJiYgaXNGdW5jdGlvbih0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IE5vZGVFdmVudEhhbmRsZXIgfSBmcm9tICcuL2Zyb21FdmVudCc7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50UGF0dGVybjxUPihcbiAgYWRkSGFuZGxlcjogKGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIpID0+IGFueSxcbiAgcmVtb3ZlSGFuZGxlcj86IChoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyLCBzaWduYWw/OiBhbnkpID0+IHZvaWRcbik6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50UGF0dGVybjxUPihcbiAgYWRkSGFuZGxlcjogKGhhbmRsZXI6IE5vZGVFdmVudEhhbmRsZXIpID0+IGFueSxcbiAgcmVtb3ZlSGFuZGxlcj86IChoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyLCBzaWduYWw/OiBhbnkpID0+IHZvaWQsXG4gIHJlc3VsdFNlbGVjdG9yPzogKC4uLmFyZ3M6IGFueVtdKSA9PiBUXG4pOiBPYnNlcnZhYmxlPFQ+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgZnJvbSBhbiBhcmJpdHJhcnkgQVBJIGZvciByZWdpc3RlcmluZyBldmVudCBoYW5kbGVycy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+V2hlbiB0aGF0IG1ldGhvZCBmb3IgYWRkaW5nIGV2ZW50IGhhbmRsZXIgd2FzIHNvbWV0aGluZyB7QGxpbmsgZnJvbUV2ZW50fVxuICogd2FzIG5vdCBwcmVwYXJlZCBmb3IuPC9zcGFuPlxuICpcbiAqICFbXShmcm9tRXZlbnRQYXR0ZXJuLnBuZylcbiAqXG4gKiBgZnJvbUV2ZW50UGF0dGVybmAgYWxsb3dzIHlvdSB0byBjb252ZXJ0IGludG8gYW4gT2JzZXJ2YWJsZSBhbnkgQVBJIHRoYXQgc3VwcG9ydHMgcmVnaXN0ZXJpbmcgaGFuZGxlciBmdW5jdGlvbnNcbiAqIGZvciBldmVudHMuIEl0IGlzIHNpbWlsYXIgdG8ge0BsaW5rIGZyb21FdmVudH0sIGJ1dCBmYXJcbiAqIG1vcmUgZmxleGlibGUuIEluIGZhY3QsIGFsbCB1c2UgY2FzZXMgb2Yge0BsaW5rIGZyb21FdmVudH0gY291bGQgYmUgZWFzaWx5IGhhbmRsZWQgYnlcbiAqIGBmcm9tRXZlbnRQYXR0ZXJuYCAoYWx0aG91Z2ggaW4gc2xpZ2h0bHkgbW9yZSB2ZXJib3NlIHdheSkuXG4gKlxuICogVGhpcyBvcGVyYXRvciBhY2NlcHRzIGFzIGEgZmlyc3QgYXJndW1lbnQgYW4gYGFkZEhhbmRsZXJgIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGJlIGluamVjdGVkIHdpdGhcbiAqIGhhbmRsZXIgcGFyYW1ldGVyLiBUaGF0IGhhbmRsZXIgaXMgYWN0dWFsbHkgYW4gZXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IHlvdSBub3cgY2FuIHBhc3NcbiAqIHRvIEFQSSBleHBlY3RpbmcgaXQuIGBhZGRIYW5kbGVyYCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBPYnNlcnZhYmxlXG4gKiByZXR1cm5lZCBieSB0aGUgb3BlcmF0b3IgaXMgc3Vic2NyaWJlZCwgc28gcmVnaXN0ZXJpbmcgaGFuZGxlciBpbiBBUEkgd2lsbCBub3RcbiAqIG5lY2Vzc2FyaWx5IGhhcHBlbiB3aGVuIGBmcm9tRXZlbnRQYXR0ZXJuYCBpcyBjYWxsZWQuXG4gKlxuICogQWZ0ZXIgcmVnaXN0cmF0aW9uLCBldmVyeSB0aW1lIGFuIGV2ZW50IHRoYXQgd2UgbGlzdGVuIHRvIGhhcHBlbnMsXG4gKiBPYnNlcnZhYmxlIHJldHVybmVkIGJ5IGBmcm9tRXZlbnRQYXR0ZXJuYCB3aWxsIGVtaXQgdmFsdWUgdGhhdCBldmVudCBoYW5kbGVyXG4gKiBmdW5jdGlvbiB3YXMgY2FsbGVkIHdpdGguIE5vdGUgdGhhdCBpZiBldmVudCBoYW5kbGVyIHdhcyBjYWxsZWQgd2l0aCBtb3JlXG4gKiB0aGFuIG9uZSBhcmd1bWVudCwgc2Vjb25kIGFuZCBmb2xsb3dpbmcgYXJndW1lbnRzIHdpbGwgbm90IGFwcGVhciBpbiB0aGUgT2JzZXJ2YWJsZS5cbiAqXG4gKiBJZiBBUEkgeW91IGFyZSB1c2luZyBhbGxvd3MgdG8gdW5yZWdpc3RlciBldmVudCBoYW5kbGVycyBhcyB3ZWxsLCB5b3UgY2FuIHBhc3MgdG8gYGZyb21FdmVudFBhdHRlcm5gXG4gKiBhbm90aGVyIGZ1bmN0aW9uIC0gYHJlbW92ZUhhbmRsZXJgIC0gYXMgYSBzZWNvbmQgcGFyYW1ldGVyLiBJdCB3aWxsIGJlIGluamVjdGVkXG4gKiB3aXRoIHRoZSBzYW1lIGhhbmRsZXIgZnVuY3Rpb24gYXMgYmVmb3JlLCB3aGljaCBub3cgeW91IGNhbiB1c2UgdG8gdW5yZWdpc3RlclxuICogaXQgZnJvbSB0aGUgQVBJLiBgcmVtb3ZlSGFuZGxlcmAgd2lsbCBiZSBjYWxsZWQgd2hlbiBjb25zdW1lciBvZiByZXN1bHRpbmcgT2JzZXJ2YWJsZVxuICogdW5zdWJzY3JpYmVzIGZyb20gaXQuXG4gKlxuICogSW4gc29tZSBBUElzIHVucmVnaXN0ZXJpbmcgaXMgYWN0dWFsbHkgaGFuZGxlZCBkaWZmZXJlbnRseS4gTWV0aG9kIHJlZ2lzdGVyaW5nIGFuIGV2ZW50IGhhbmRsZXJcbiAqIHJldHVybnMgc29tZSBraW5kIG9mIHRva2VuLCB3aGljaCBpcyBsYXRlciB1c2VkIHRvIGlkZW50aWZ5IHdoaWNoIGZ1bmN0aW9uIHNob3VsZFxuICogYmUgdW5yZWdpc3RlcmVkIG9yIGl0IGl0c2VsZiBoYXMgbWV0aG9kIHRoYXQgdW5yZWdpc3RlcnMgZXZlbnQgaGFuZGxlci5cbiAqIElmIHRoYXQgaXMgdGhlIGNhc2Ugd2l0aCB5b3VyIEFQSSwgbWFrZSBzdXJlIHRva2VuIHJldHVybmVkXG4gKiBieSByZWdpc3RlcmluZyBtZXRob2QgaXMgcmV0dXJuZWQgYnkgYGFkZEhhbmRsZXJgLiBUaGVuIGl0IHdpbGwgYmUgcGFzc2VkXG4gKiBhcyBhIHNlY29uZCBhcmd1bWVudCB0byBgcmVtb3ZlSGFuZGxlcmAsIHdoZXJlIHlvdSB3aWxsIGJlIGFibGUgdG8gdXNlIGl0LlxuICpcbiAqIElmIHlvdSBuZWVkIGFjY2VzcyB0byBhbGwgZXZlbnQgaGFuZGxlciBwYXJhbWV0ZXJzIChub3Qgb25seSB0aGUgZmlyc3Qgb25lKSxcbiAqIG9yIHlvdSBuZWVkIHRvIHRyYW5zZm9ybSB0aGVtIGluIGFueSB3YXksIHlvdSBjYW4gY2FsbCBgZnJvbUV2ZW50UGF0dGVybmAgd2l0aCBvcHRpb25hbFxuICogdGhpcmQgcGFyYW1ldGVyIC0gcHJvamVjdCBmdW5jdGlvbiB3aGljaCB3aWxsIGFjY2VwdCBhbGwgYXJndW1lbnRzIHBhc3NlZCB0b1xuICogZXZlbnQgaGFuZGxlciB3aGVuIGl0IGlzIGNhbGxlZC4gV2hhdGV2ZXIgaXMgcmV0dXJuZWQgZnJvbSBwcm9qZWN0IGZ1bmN0aW9uIHdpbGwgYXBwZWFyIG9uXG4gKiByZXN1bHRpbmcgc3RyZWFtIGluc3RlYWQgb2YgdXN1YWwgZXZlbnQgaGFuZGxlcnMgZmlyc3QgYXJndW1lbnQuIFRoaXMgbWVhbnNcbiAqIHRoYXQgZGVmYXVsdCBwcm9qZWN0IGNhbiBiZSB0aG91Z2h0IG9mIGFzIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaXRzIGZpcnN0IHBhcmFtZXRlclxuICogYW5kIGlnbm9yZXMgdGhlIHJlc3QuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFbWl0cyBjbGlja3MgaGFwcGVuaW5nIG9uIHRoZSBET00gZG9jdW1lbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50UGF0dGVybiB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGZ1bmN0aW9uIGFkZENsaWNrSGFuZGxlcihoYW5kbGVyKSB7XG4gKiAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gcmVtb3ZlQ2xpY2tIYW5kbGVyKGhhbmRsZXIpIHtcbiAqICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVyKTtcbiAqIH1cbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnRQYXR0ZXJuKFxuICogICBhZGRDbGlja0hhbmRsZXIsXG4gKiAgIHJlbW92ZUNsaWNrSGFuZGxlclxuICogKTtcbiAqIGNsaWNrcy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gV2hlbmV2ZXIgeW91IGNsaWNrIGFueXdoZXJlIGluIHRoZSBicm93c2VyLCBET00gTW91c2VFdmVudFxuICogLy8gb2JqZWN0IHdpbGwgYmUgbG9nZ2VkLlxuICogYGBgXG4gKlxuICogVXNlIHdpdGggQVBJIHRoYXQgcmV0dXJucyBjYW5jZWxsYXRpb24gdG9rZW5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50UGF0dGVybiB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHRva2VuID0gc29tZUFQSS5yZWdpc3RlckV2ZW50SGFuZGxlcihmdW5jdGlvbigpIHt9KTtcbiAqIHNvbWVBUEkudW5yZWdpc3RlckV2ZW50SGFuZGxlcih0b2tlbik7IC8vIHRoaXMgQVBJcyBjYW5jZWxsYXRpb24gbWV0aG9kIGFjY2VwdHNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBoYW5kbGVyIGl0c2VsZiwgYnV0IHNwZWNpYWwgdG9rZW4uXG4gKlxuICogY29uc3Qgc29tZUFQSU9ic2VydmFibGUgPSBmcm9tRXZlbnRQYXR0ZXJuKFxuICogICBmdW5jdGlvbihoYW5kbGVyKSB7IHJldHVybiBzb21lQVBJLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGhhbmRsZXIpOyB9LCAvLyBOb3RlIHRoYXQgd2UgcmV0dXJuIHRoZSB0b2tlbiBoZXJlLi4uXG4gKiAgIGZ1bmN0aW9uKGhhbmRsZXIsIHRva2VuKSB7IHNvbWVBUEkudW5yZWdpc3RlckV2ZW50SGFuZGxlcih0b2tlbik7IH0gIC8vIC4uLnRvIHRoZW4gdXNlIGl0IGhlcmUuXG4gKiApO1xuICogYGBgXG4gKlxuICogVXNlIHdpdGggcHJvamVjdCBmdW5jdGlvblxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuIH0gZnJvbSAncnhqcyc7XG4gKlxuICogc29tZUFQSS5yZWdpc3RlckV2ZW50SGFuZGxlcigoZXZlbnRUeXBlLCBldmVudE1lc3NhZ2UpID0+IHtcbiAqICAgY29uc29sZS5sb2coZXZlbnRUeXBlLCBldmVudE1lc3NhZ2UpOyAvLyBMb2dzICdFVkVOVF9UWVBFJyAnRVZFTlRfTUVTU0FHRScgdG8gY29uc29sZS5cbiAqIH0pO1xuICpcbiAqIGNvbnN0IHNvbWVBUElPYnNlcnZhYmxlID0gZnJvbUV2ZW50UGF0dGVybihcbiAqICAgaGFuZGxlciA9PiBzb21lQVBJLnJlZ2lzdGVyRXZlbnRIYW5kbGVyKGhhbmRsZXIpLFxuICogICBoYW5kbGVyID0+IHNvbWVBUEkudW5yZWdpc3RlckV2ZW50SGFuZGxlcihoYW5kbGVyKVxuICogICAoZXZlbnRUeXBlLCBldmVudE1lc3NhZ2UpID0+IGV2ZW50VHlwZSArICcgLS0tICcgKyBldmVudE1lc3NhZ2UgLy8gd2l0aG91dCB0aGF0IGZ1bmN0aW9uIG9ubHkgJ0VWRU5UX1RZUEUnXG4gKiApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3b3VsZCBiZSBlbWl0dGVkIGJ5IHRoZSBPYnNlcnZhYmxlXG4gKlxuICogc29tZUFQSU9ic2VydmFibGUuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vICdFVkVOVF9UWVBFIC0tLSBFVkVOVF9NRVNTQUdFJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZnJvbUV2ZW50fVxuICogQHNlZSB7QGxpbmsgYmluZENhbGxiYWNrfVxuICogQHNlZSB7QGxpbmsgYmluZE5vZGVDYWxsYmFja31cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGhhbmRsZXI6IEZ1bmN0aW9uKTogYW55fSBhZGRIYW5kbGVyIEEgZnVuY3Rpb24gdGhhdCB0YWtlc1xuICogYSBgaGFuZGxlcmAgZnVuY3Rpb24gYXMgYXJndW1lbnQgYW5kIGF0dGFjaGVzIGl0IHNvbWVob3cgdG8gdGhlIGFjdHVhbFxuICogc291cmNlIG9mIGV2ZW50cy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oaGFuZGxlcjogRnVuY3Rpb24sIHRva2VuPzogYW55KTogdm9pZH0gW3JlbW92ZUhhbmRsZXJdIEEgZnVuY3Rpb24gdGhhdFxuICogdGFrZXMgYSBgaGFuZGxlcmAgZnVuY3Rpb24gYXMgYW4gYXJndW1lbnQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgZXZlbnQgc291cmNlLiBJZiBgYWRkSGFuZGxlcmBcbiAqIHJldHVybnMgc29tZSBraW5kIG9mIHRva2VuLCBgcmVtb3ZlSGFuZGxlcmAgZnVuY3Rpb24gd2lsbCBoYXZlIGl0IGFzIGEgc2Vjb25kIHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uYXJnczogYW55KTogVH0gW3Byb2plY3RdIEEgZnVuY3Rpb24gdG9cbiAqIHRyYW5zZm9ybSByZXN1bHRzLiBJdCB0YWtlcyB0aGUgYXJndW1lbnRzIGZyb20gdGhlIGV2ZW50IGhhbmRsZXIgYW5kXG4gKiBzaG91bGQgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gT2JzZXJ2YWJsZSB3aGljaCwgd2hlbiBhbiBldmVudCBoYXBwZW5zLCBlbWl0cyBmaXJzdCBwYXJhbWV0ZXJcbiAqIHBhc3NlZCB0byByZWdpc3RlcmVkIGV2ZW50IGhhbmRsZXIuIEFsdGVybmF0aXZlbHkgaXQgZW1pdHMgd2hhdGV2ZXIgcHJvamVjdCBmdW5jdGlvbiByZXR1cm5zXG4gKiBhdCB0aGF0IG1vbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudFBhdHRlcm48VD4oXG4gIGFkZEhhbmRsZXI6IChoYW5kbGVyOiBOb2RlRXZlbnRIYW5kbGVyKSA9PiBhbnksXG4gIHJlbW92ZUhhbmRsZXI/OiAoaGFuZGxlcjogTm9kZUV2ZW50SGFuZGxlciwgc2lnbmFsPzogYW55KSA9PiB2b2lkLFxuICByZXN1bHRTZWxlY3Rvcj86ICguLi5hcmdzOiBhbnlbXSkgPT4gVFxuKTogT2JzZXJ2YWJsZTxUIHwgVFtdPiB7XG4gIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPFQ+KGFkZEhhbmRsZXIsIHJlbW92ZUhhbmRsZXIpLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQgfCBUW10+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlciA9ICguLi5lOiBUW10pID0+IHN1YnNjcmliZXIubmV4dChlLmxlbmd0aCA9PT0gMSA/IGVbMF0gOiBlKTtcbiAgICBjb25zdCByZXRWYWx1ZSA9IGFkZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ocmVtb3ZlSGFuZGxlcikgPyAoKSA9PiByZW1vdmVIYW5kbGVyKGhhbmRsZXIsIHJldFZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpYmFibGUgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogVXNlZCB0byBjb252ZXJ0IGEgc3Vic2NyaWJhYmxlIHRvIGFuIG9ic2VydmFibGUuXG4gKlxuICogQ3VycmVudGx5LCB0aGlzIGlzIG9ubHkgdXNlZCB3aXRoaW4gaW50ZXJuYWxzLlxuICpcbiAqIFRPRE86IERpc2N1c3MgT2JzZXJ2YWJsZUlucHV0IHN1cHBvcnRpbmcgXCJTdWJzY3JpYmFibGVcIi5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNTkwOVxuICpcbiAqIEBwYXJhbSBzdWJzY3JpYmFibGUgQSBzdWJzY3JpYmFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21TdWJzY3JpYmFibGU8VD4oc3Vic2NyaWJhYmxlOiBTdWJzY3JpYmFibGU8VD4pIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiBzdWJzY3JpYmFibGUuc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgZGVmZXIgfSBmcm9tICcuL2RlZmVyJztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZSc7XG5cbnR5cGUgQ29uZGl0aW9uRnVuYzxTPiA9IChzdGF0ZTogUykgPT4gYm9vbGVhbjtcbnR5cGUgSXRlcmF0ZUZ1bmM8Uz4gPSAoc3RhdGU6IFMpID0+IFM7XG50eXBlIFJlc3VsdEZ1bmM8UywgVD4gPSAoc3RhdGU6IFMpID0+IFQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhdGVCYXNlT3B0aW9uczxTPiB7XG4gIC8qKlxuICAgKiBJbml0aWFsIHN0YXRlLlxuICAgKi9cbiAgaW5pdGlhbFN0YXRlOiBTO1xuICAvKipcbiAgICogQ29uZGl0aW9uIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBzdGF0ZSBhbmQgcmV0dXJucyBib29sZWFuLlxuICAgKiBXaGVuIGl0IHJldHVybnMgZmFsc2UsIHRoZSBnZW5lcmF0b3Igc3RvcHMuXG4gICAqIElmIG5vdCBzcGVjaWZpZWQsIGEgZ2VuZXJhdG9yIG5ldmVyIHN0b3BzLlxuICAgKi9cbiAgY29uZGl0aW9uPzogQ29uZGl0aW9uRnVuYzxTPjtcbiAgLyoqXG4gICAqIEl0ZXJhdGUgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHN0YXRlIGFuZCByZXR1cm5zIG5ldyBzdGF0ZS5cbiAgICovXG4gIGl0ZXJhdGU6IEl0ZXJhdGVGdW5jPFM+O1xuICAvKipcbiAgICogU2NoZWR1bGVyTGlrZSB0byB1c2UgZm9yIGdlbmVyYXRpb24gcHJvY2Vzcy5cbiAgICogQnkgZGVmYXVsdCwgYSBnZW5lcmF0b3Igc3RhcnRzIGltbWVkaWF0ZWx5LlxuICAgKi9cbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZU9wdGlvbnM8VCwgUz4gZXh0ZW5kcyBHZW5lcmF0ZUJhc2VPcHRpb25zPFM+IHtcbiAgLyoqXG4gICAqIFJlc3VsdCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHN0YXRlIGFuZCByZXR1cm5zIGEgdmFsdWUgdG8gZW1pdC5cbiAgICovXG4gIHJlc3VsdFNlbGVjdG9yOiBSZXN1bHRGdW5jPFMsIFQ+O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhbiBvYnNlcnZhYmxlIHNlcXVlbmNlIGJ5IHJ1bm5pbmcgYSBzdGF0ZS1kcml2ZW4gbG9vcFxuICogcHJvZHVjaW5nIHRoZSBzZXF1ZW5jZSdzIGVsZW1lbnRzLCB1c2luZyB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlclxuICogdG8gc2VuZCBvdXQgb2JzZXJ2ZXIgbWVzc2FnZXMuXG4gKlxuICogIVtdKGdlbmVyYXRlLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIFByb2R1Y2VzIHNlcXVlbmNlIG9mIG51bWJlcnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSgwLCB4ID0+IHggPCAzLCB4ID0+IHggKyAxLCB4ID0+IHgpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDBcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIGBgYFxuICpcbiAqIFVzZSBgYXNhcFNjaGVkdWxlcmBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUsIGFzYXBTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSgxLCB4ID0+IHggPCA1LCB4ID0+IHggKiAyLCB4ID0+IHggKyAxLCBhc2FwU2NoZWR1bGVyKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA1XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmcm9tfVxuICogQHNlZSB7QGxpbmsgT2JzZXJ2YWJsZX1cbiAqXG4gKiBAcGFyYW0ge1N9IGluaXRpYWxTdGF0ZSBJbml0aWFsIHN0YXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbiAoc3RhdGU6IFMpOiBib29sZWFufSBjb25kaXRpb24gQ29uZGl0aW9uIHRvIHRlcm1pbmF0ZSBnZW5lcmF0aW9uICh1cG9uIHJldHVybmluZyBmYWxzZSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChzdGF0ZTogUyk6IFN9IGl0ZXJhdGUgSXRlcmF0aW9uIHN0ZXAgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChzdGF0ZTogUyk6IFR9IHJlc3VsdFNlbGVjdG9yIFNlbGVjdG9yIGZ1bmN0aW9uIGZvciByZXN1bHRzIHByb2R1Y2VkIGluIHRoZSBzZXF1ZW5jZS4gKGRlcHJlY2F0ZWQpXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXJdIEEge0BsaW5rIFNjaGVkdWxlckxpa2V9IG9uIHdoaWNoIHRvIHJ1biB0aGUgZ2VuZXJhdG9yIGxvb3AuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gZW1pdCBpbW1lZGlhdGVseS5cbiAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPFQ+fSBUaGUgZ2VuZXJhdGVkIHNlcXVlbmNlLlxuICogQGRlcHJlY2F0ZWQgSW5zdGVhZCBvZiBwYXNzaW5nIHNlcGFyYXRlIGFyZ3VtZW50cywgdXNlIHRoZSBvcHRpb25zIGFyZ3VtZW50LiBTaWduYXR1cmVzIHRha2luZyBzZXBhcmF0ZSBhcmd1bWVudHMgd2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGU8VCwgUz4oXG4gIGluaXRpYWxTdGF0ZTogUyxcbiAgY29uZGl0aW9uOiBDb25kaXRpb25GdW5jPFM+LFxuICBpdGVyYXRlOiBJdGVyYXRlRnVuYzxTPixcbiAgcmVzdWx0U2VsZWN0b3I6IFJlc3VsdEZ1bmM8UywgVD4sXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9ic2VydmFibGU8VD47XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIE9ic2VydmFibGUgYnkgcnVubmluZyBhIHN0YXRlLWRyaXZlbiBsb29wXG4gKiB0aGF0IGVtaXRzIGFuIGVsZW1lbnQgb24gZWFjaCBpdGVyYXRpb24uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZSBpdCBpbnN0ZWFkIG9mIG5leHRpbmcgdmFsdWVzIGluIGEgZm9yIGxvb3AuPC9zcGFuPlxuICpcbiAqICFbXShnZW5lcmF0ZS5wbmcpXG4gKlxuICogYGdlbmVyYXRlYCBhbGxvd3MgeW91IHRvIGNyZWF0ZSBhIHN0cmVhbSBvZiB2YWx1ZXMgZ2VuZXJhdGVkIHdpdGggYSBsb29wIHZlcnkgc2ltaWxhciB0b1xuICogYSB0cmFkaXRpb25hbCBmb3IgbG9vcC4gVGhlIGZpcnN0IGFyZ3VtZW50IG9mIGBnZW5lcmF0ZWAgaXMgYSBiZWdpbm5pbmcgdmFsdWUuIFRoZSBzZWNvbmQgYXJndW1lbnRcbiAqIGlzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoaXMgdmFsdWUgYW5kIHRlc3RzIGlmIHNvbWUgY29uZGl0aW9uIHN0aWxsIGhvbGRzLiBJZiBpdCBkb2VzLFxuICogdGhlbiB0aGUgbG9vcCBjb250aW51ZXMsIGlmIG5vdCwgaXQgc3RvcHMuIFRoZSB0aGlyZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHRoZVxuICogcHJldmlvdXNseSBkZWZpbmVkIHZhbHVlIGFuZCBtb2RpZmllcyBpdCBpbiBzb21lIHdheSBvbiBlYWNoIGl0ZXJhdGlvbi4gTm90ZSBob3cgdGhlc2UgdGhyZWUgcGFyYW1ldGVyc1xuICogYXJlIGRpcmVjdCBlcXVpdmFsZW50cyBvZiB0aHJlZSBleHByZXNzaW9ucyBpbiBhIHRyYWRpdGlvbmFsIGZvciBsb29wOiB0aGUgZmlyc3QgZXhwcmVzc2lvblxuICogaW5pdGlhbGl6ZXMgc29tZSBzdGF0ZSAoZm9yIGV4YW1wbGUsIGEgbnVtZXJpYyBpbmRleCksIHRoZSBzZWNvbmQgdGVzdHMgaWYgdGhlIGxvb3AgY2FuIHBlcmZvcm0gdGhlIG5leHRcbiAqIGl0ZXJhdGlvbiAoZm9yIGV4YW1wbGUsIGlmIHRoZSBpbmRleCBpcyBsb3dlciB0aGFuIDEwKSBhbmQgdGhlIHRoaXJkIHN0YXRlcyBob3cgdGhlIGRlZmluZWQgdmFsdWVcbiAqIHdpbGwgYmUgbW9kaWZpZWQgb24gZXZlcnkgc3RlcCAoZm9yIGV4YW1wbGUsIHRoZSBpbmRleCB3aWxsIGJlIGluY3JlbWVudGVkIGJ5IG9uZSkuXG4gKlxuICogUmV0dXJuIHZhbHVlIG9mIGEgYGdlbmVyYXRlYCBvcGVyYXRvciBpcyBhbiBPYnNlcnZhYmxlIHRoYXQgb24gZWFjaCBsb29wIGl0ZXJhdGlvblxuICogZW1pdHMgYSB2YWx1ZS4gRmlyc3Qgb2YgYWxsLCB0aGUgY29uZGl0aW9uIGZ1bmN0aW9uIGlzIHJhbi4gSWYgaXQgcmV0dXJucyB0cnVlLCB0aGVuIHRoZSBPYnNlcnZhYmxlXG4gKiBlbWl0cyB0aGUgY3VycmVudGx5IHN0b3JlZCB2YWx1ZSAoaW5pdGlhbCB2YWx1ZSBhdCB0aGUgZmlyc3QgaXRlcmF0aW9uKSBhbmQgZmluYWxseSB1cGRhdGVzXG4gKiB0aGF0IHZhbHVlIHdpdGggaXRlcmF0ZSBmdW5jdGlvbi4gSWYgYXQgc29tZSBwb2ludCB0aGUgY29uZGl0aW9uIHJldHVybnMgZmFsc2UsIHRoZW4gdGhlIE9ic2VydmFibGVcbiAqIGNvbXBsZXRlcyBhdCB0aGF0IG1vbWVudC5cbiAqXG4gKiBPcHRpb25hbGx5IHlvdSBjYW4gcGFzcyBhIGZvdXJ0aCBwYXJhbWV0ZXIgdG8gYGdlbmVyYXRlYCAtIGEgcmVzdWx0IHNlbGVjdG9yIGZ1bmN0aW9uIHdoaWNoIGFsbG93cyB5b3VcbiAqIHRvIGltbWVkaWF0ZWx5IG1hcCB0aGUgdmFsdWUgdGhhdCB3b3VsZCBub3JtYWxseSBiZSBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUuXG4gKlxuICogSWYgeW91IGZpbmQgdGhyZWUgYW5vbnltb3VzIGZ1bmN0aW9ucyBpbiBgZ2VuZXJhdGVgIGNhbGwgaGFyZCB0byByZWFkLCB5b3UgY2FuIHByb3ZpZGVcbiAqIGEgc2luZ2xlIG9iamVjdCB0byB0aGUgb3BlcmF0b3IgaW5zdGVhZCB3aGVyZSB0aGUgb2JqZWN0IGhhcyB0aGUgcHJvcGVydGllczogYGluaXRpYWxTdGF0ZWAsXG4gKiBgY29uZGl0aW9uYCwgYGl0ZXJhdGVgIGFuZCBgcmVzdWx0U2VsZWN0b3JgLCB3aGljaCBzaG91bGQgaGF2ZSByZXNwZWN0aXZlIHZhbHVlcyB0aGF0IHlvdVxuICogd291bGQgbm9ybWFsbHkgcGFzcyB0byBgZ2VuZXJhdGVgLiBgcmVzdWx0U2VsZWN0b3JgIGlzIHN0aWxsIG9wdGlvbmFsLCBidXQgdGhhdCBmb3JtXG4gKiBvZiBjYWxsaW5nIGBnZW5lcmF0ZWAgYWxsb3dzIHlvdSB0byBvbWl0IGBjb25kaXRpb25gIGFzIHdlbGwuIElmIHlvdSBvbWl0IGl0LCB0aGF0IG1lYW5zXG4gKiBjb25kaXRpb24gYWx3YXlzIGhvbGRzLCBvciBpbiBvdGhlciB3b3JkcyB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUgd2lsbCBuZXZlciBjb21wbGV0ZS5cbiAqXG4gKiBCb3RoIGZvcm1zIG9mIGBnZW5lcmF0ZWAgY2FuIG9wdGlvbmFsbHkgYWNjZXB0IGEgc2NoZWR1bGVyLiBJbiBjYXNlIG9mIGEgbXVsdGktcGFyYW1ldGVyIGNhbGwsXG4gKiBzY2hlZHVsZXIgc2ltcGx5IGNvbWVzIGFzIGEgbGFzdCBhcmd1bWVudCAobm8gbWF0dGVyIGlmIHRoZXJlIGlzIGEgYHJlc3VsdFNlbGVjdG9yYFxuICogZnVuY3Rpb24gb3Igbm90KS4gSW4gY2FzZSBvZiBhIHNpbmdsZS1wYXJhbWV0ZXIgY2FsbCwgeW91IGNhbiBwcm92aWRlIGl0IGFzIGFcbiAqIGBzY2hlZHVsZXJgIHByb3BlcnR5IG9uIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBvcGVyYXRvci4gSW4gYm90aCBjYXNlcywgYSBzY2hlZHVsZXIgZGVjaWRlcyB3aGVuXG4gKiB0aGUgbmV4dCBpdGVyYXRpb24gb2YgdGhlIGxvb3Agd2lsbCBoYXBwZW4gYW5kIHRoZXJlZm9yZSB3aGVuIHRoZSBuZXh0IHZhbHVlIHdpbGwgYmUgZW1pdHRlZFxuICogYnkgdGhlIE9ic2VydmFibGUuIEZvciBleGFtcGxlLCB0byBlbnN1cmUgdGhhdCBlYWNoIHZhbHVlIGlzIHB1c2hlZCB0byB0aGUgT2JzZXJ2ZXJcbiAqIG9uIGEgc2VwYXJhdGUgdGFzayBpbiB0aGUgZXZlbnQgbG9vcCwgeW91IGNvdWxkIHVzZSB0aGUgYGFzeW5jYCBzY2hlZHVsZXIuIE5vdGUgdGhhdFxuICogYnkgZGVmYXVsdCAod2hlbiBubyBzY2hlZHVsZXIgaXMgcGFzc2VkKSB2YWx1ZXMgYXJlIHNpbXBseSBlbWl0dGVkIHN5bmNocm9ub3VzbHkuXG4gKlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogVXNlIHdpdGggY29uZGl0aW9uIGFuZCBpdGVyYXRlIGZ1bmN0aW9uc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IGdlbmVyYXRlKDAsIHggPT4geCA8IDMsIHggPT4geCArIDEpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29tcGxldGUhJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAnQ29tcGxldGUhJ1xuICogYGBgXG4gKlxuICogVXNlIHdpdGggY29uZGl0aW9uLCBpdGVyYXRlIGFuZCByZXN1bHRTZWxlY3RvciBmdW5jdGlvbnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSgwLCB4ID0+IHggPCAzLCB4ID0+IHggKyAxLCB4ID0+IHggKiAxMDAwKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMFxuICogLy8gMTAwMFxuICogLy8gMjAwMFxuICogLy8gJ0NvbXBsZXRlISdcbiAqIGBgYFxuICpcbiAqIFVzZSB3aXRoIG9wdGlvbnMgb2JqZWN0XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGdlbmVyYXRlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gZ2VuZXJhdGUoe1xuICogICBpbml0aWFsU3RhdGU6IDAsXG4gKiAgIGNvbmRpdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWUgPCAzOyB9LFxuICogICBpdGVyYXRlKHZhbHVlKSB7IHJldHVybiB2YWx1ZSArIDE7IH0sXG4gKiAgIHJlc3VsdFNlbGVjdG9yKHZhbHVlKSB7IHJldHVybiB2YWx1ZSAqIDEwMDA7IH1cbiAqIH0pO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29tcGxldGUhJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwXG4gKiAvLyAxMDAwXG4gKiAvLyAyMDAwXG4gKiAvLyAnQ29tcGxldGUhJ1xuICogYGBgXG4gKlxuICogVXNlIG9wdGlvbnMgb2JqZWN0IHdpdGhvdXQgY29uZGl0aW9uIGZ1bmN0aW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGdlbmVyYXRlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gZ2VuZXJhdGUoe1xuICogICBpbml0aWFsU3RhdGU6IDAsXG4gKiAgIGl0ZXJhdGUodmFsdWUpIHsgcmV0dXJuIHZhbHVlICsgMTsgfSxcbiAqICAgcmVzdWx0U2VsZWN0b3IodmFsdWUpIHsgcmV0dXJuIHZhbHVlICogMTAwMDsgfVxuICogfSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdDb21wbGV0ZSEnKSAvLyBUaGlzIHdpbGwgbmV2ZXIgcnVuXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMFxuICogLy8gMTAwMFxuICogLy8gMjAwMFxuICogLy8gMzAwMFxuICogLy8gLi4uYW5kIG5ldmVyIHN0b3BzLlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZnJvbX1cbiAqXG4gKiBAcGFyYW0ge1N9IGluaXRpYWxTdGF0ZSBJbml0aWFsIHN0YXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbiAoc3RhdGU6IFMpOiBib29sZWFufSBjb25kaXRpb24gQ29uZGl0aW9uIHRvIHRlcm1pbmF0ZSBnZW5lcmF0aW9uICh1cG9uIHJldHVybmluZyBmYWxzZSkuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChzdGF0ZTogUyk6IFN9IGl0ZXJhdGUgSXRlcmF0aW9uIHN0ZXAgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uIChzdGF0ZTogUyk6IFR9IFtyZXN1bHRTZWxlY3Rvcl0gU2VsZWN0b3IgZnVuY3Rpb24gZm9yIHJlc3VsdHMgcHJvZHVjZWQgaW4gdGhlIHNlcXVlbmNlLlxuICogQHBhcmFtIHtTY2hlZHVsZXJ9IFtzY2hlZHVsZXJdIEEge0BsaW5rIFNjaGVkdWxlcn0gb24gd2hpY2ggdG8gcnVuIHRoZSBnZW5lcmF0b3IgbG9vcC4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBlbWl0dGluZyBpbW1lZGlhdGVseS5cbiAqIEByZXR1cm4ge09ic2VydmFibGU8VD59IFRoZSBnZW5lcmF0ZWQgc2VxdWVuY2UuXG4gKiBAZGVwcmVjYXRlZCBJbnN0ZWFkIG9mIHBhc3Npbmcgc2VwYXJhdGUgYXJndW1lbnRzLCB1c2UgdGhlIG9wdGlvbnMgYXJndW1lbnQuIFNpZ25hdHVyZXMgdGFraW5nIHNlcGFyYXRlIGFyZ3VtZW50cyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZTxTPihcbiAgaW5pdGlhbFN0YXRlOiBTLFxuICBjb25kaXRpb246IENvbmRpdGlvbkZ1bmM8Uz4sXG4gIGl0ZXJhdGU6IEl0ZXJhdGVGdW5jPFM+LFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBPYnNlcnZhYmxlPFM+O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhbiBvYnNlcnZhYmxlIHNlcXVlbmNlIGJ5IHJ1bm5pbmcgYSBzdGF0ZS1kcml2ZW4gbG9vcFxuICogcHJvZHVjaW5nIHRoZSBzZXF1ZW5jZSdzIGVsZW1lbnRzLCB1c2luZyB0aGUgc3BlY2lmaWVkIHNjaGVkdWxlclxuICogdG8gc2VuZCBvdXQgb2JzZXJ2ZXIgbWVzc2FnZXMuXG4gKiBUaGUgb3ZlcmxvYWQgYWNjZXB0cyBvcHRpb25zIG9iamVjdCB0aGF0IG1pZ2h0IGNvbnRhaW4gaW5pdGlhbCBzdGF0ZSwgaXRlcmF0ZSxcbiAqIGNvbmRpdGlvbiBhbmQgc2NoZWR1bGVyLlxuICpcbiAqICFbXShnZW5lcmF0ZS5wbmcpXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBVc2Ugb3B0aW9ucyBvYmplY3Qgd2l0aCBjb25kaXRpb24gZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSh7XG4gKiAgIGluaXRpYWxTdGF0ZTogMCxcbiAqICAgY29uZGl0aW9uOiB4ID0+IHggPCAzLFxuICogICBpdGVyYXRlOiB4ID0+IHggKyAxXG4gKiB9KTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogLy8gJ0NvbXBsZXRlISdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKiBAc2VlIHtAbGluayBPYnNlcnZhYmxlfVxuICpcbiAqIEBwYXJhbSB7R2VuZXJhdGVCYXNlT3B0aW9uczxTPn0gb3B0aW9ucyBPYmplY3QgdGhhdCBtdXN0IGNvbnRhaW4gaW5pdGlhbFN0YXRlLCBpdGVyYXRlIGFuZCBtaWdodCBjb250YWluIGNvbmRpdGlvbiBhbmQgc2NoZWR1bGVyLlxuICogQHJldHVybnMge09ic2VydmFibGU8Uz59IFRoZSBnZW5lcmF0ZWQgc2VxdWVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZTxTPihvcHRpb25zOiBHZW5lcmF0ZUJhc2VPcHRpb25zPFM+KTogT2JzZXJ2YWJsZTxTPjtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYW4gb2JzZXJ2YWJsZSBzZXF1ZW5jZSBieSBydW5uaW5nIGEgc3RhdGUtZHJpdmVuIGxvb3BcbiAqIHByb2R1Y2luZyB0aGUgc2VxdWVuY2UncyBlbGVtZW50cywgdXNpbmcgdGhlIHNwZWNpZmllZCBzY2hlZHVsZXJcbiAqIHRvIHNlbmQgb3V0IG9ic2VydmVyIG1lc3NhZ2VzLlxuICogVGhlIG92ZXJsb2FkIGFjY2VwdHMgb3B0aW9ucyBvYmplY3QgdGhhdCBtaWdodCBjb250YWluIGluaXRpYWwgc3RhdGUsIGl0ZXJhdGUsXG4gKiBjb25kaXRpb24sIHJlc3VsdCBzZWxlY3RvciBhbmQgc2NoZWR1bGVyLlxuICpcbiAqICFbXShnZW5lcmF0ZS5wbmcpXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBVc2Ugb3B0aW9ucyBvYmplY3Qgd2l0aCBjb25kaXRpb24gYW5kIGl0ZXJhdGUgZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBnZW5lcmF0ZSh7XG4gKiAgIGluaXRpYWxTdGF0ZTogMCxcbiAqICAgY29uZGl0aW9uOiB4ID0+IHggPCAzLFxuICogICBpdGVyYXRlOiB4ID0+IHggKyAxLFxuICogICByZXN1bHRTZWxlY3RvcjogeCA9PiB4XG4gKiB9KTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogLy8gJ0NvbXBsZXRlISdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKiBAc2VlIHtAbGluayBPYnNlcnZhYmxlfVxuICpcbiAqIEBwYXJhbSB7R2VuZXJhdGVPcHRpb25zPFQsIFM+fSBvcHRpb25zIE9iamVjdCB0aGF0IG11c3QgY29udGFpbiBpbml0aWFsU3RhdGUsIGl0ZXJhdGUsIHJlc3VsdFNlbGVjdG9yIGFuZCBtaWdodCBjb250YWluIGNvbmRpdGlvbiBhbmQgc2NoZWR1bGVyLlxuICogQHJldHVybnMge09ic2VydmFibGU8VD59IFRoZSBnZW5lcmF0ZWQgc2VxdWVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZTxULCBTPihvcHRpb25zOiBHZW5lcmF0ZU9wdGlvbnM8VCwgUz4pOiBPYnNlcnZhYmxlPFQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGU8VCwgUz4oXG4gIGluaXRpYWxTdGF0ZU9yT3B0aW9uczogUyB8IEdlbmVyYXRlT3B0aW9uczxULCBTPixcbiAgY29uZGl0aW9uPzogQ29uZGl0aW9uRnVuYzxTPixcbiAgaXRlcmF0ZT86IEl0ZXJhdGVGdW5jPFM+LFxuICByZXN1bHRTZWxlY3Rvck9yU2NoZWR1bGVyPzogUmVzdWx0RnVuYzxTLCBUPiB8IFNjaGVkdWxlckxpa2UsXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9ic2VydmFibGU8VD4ge1xuICBsZXQgcmVzdWx0U2VsZWN0b3I6IFJlc3VsdEZ1bmM8UywgVD47XG4gIGxldCBpbml0aWFsU3RhdGU6IFM7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgYXMgd2UgbW92ZSBhd2F5IGZyb20gZGVwcmVjYXRlZCBzaWduYXR1cmVzXG4gIC8vIGFuZCBtb3ZlIHRvd2FyZHMgYSBjb25maWd1cmF0aW9uIG9iamVjdCBhcmd1bWVudC5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgb25lIGFyZ3VtZW50LCB3ZSBjYW4gYXNzdW1lIGl0IGlzIGEgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgLy8gTm90ZSB0aGF0IGZvbGtzIG5vdCB1c2luZyBUeXBlU2NyaXB0IG1heSB0cmlwIG92ZXIgdGhpcy5cbiAgICAoe1xuICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgY29uZGl0aW9uLFxuICAgICAgaXRlcmF0ZSxcbiAgICAgIHJlc3VsdFNlbGVjdG9yID0gaWRlbnRpdHkgYXMgUmVzdWx0RnVuYzxTLCBUPixcbiAgICAgIHNjaGVkdWxlcixcbiAgICB9ID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zIGFzIEdlbmVyYXRlT3B0aW9uczxULCBTPik7XG4gIH0gZWxzZSB7XG4gICAgLy8gRGVwcmVjYXRlZCBhcmd1bWVudHMgcGF0aC4gRmlndXJlIG91dCB3aGF0IHRoZSB1c2VyXG4gICAgLy8gcGFzc2VkIGFuZCBzZXQgaXQgaGVyZS5cbiAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVPck9wdGlvbnMgYXMgUztcbiAgICBpZiAoIXJlc3VsdFNlbGVjdG9yT3JTY2hlZHVsZXIgfHwgaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3JPclNjaGVkdWxlcikpIHtcbiAgICAgIHJlc3VsdFNlbGVjdG9yID0gaWRlbnRpdHkgYXMgUmVzdWx0RnVuYzxTLCBUPjtcbiAgICAgIHNjaGVkdWxlciA9IHJlc3VsdFNlbGVjdG9yT3JTY2hlZHVsZXIgYXMgU2NoZWR1bGVyTGlrZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3Rvck9yU2NoZWR1bGVyIGFzIFJlc3VsdEZ1bmM8UywgVD47XG4gICAgfVxuICB9XG5cbiAgLy8gVGhlIGFjdHVhbCBnZW5lcmF0b3IgdXNlZCB0byBcImdlbmVyYXRlXCIgdmFsdWVzLlxuICBmdW5jdGlvbiogZ2VuKCkge1xuICAgIGZvciAobGV0IHN0YXRlID0gaW5pdGlhbFN0YXRlOyAhY29uZGl0aW9uIHx8IGNvbmRpdGlvbihzdGF0ZSk7IHN0YXRlID0gaXRlcmF0ZSEoc3RhdGUpKSB7XG4gICAgICB5aWVsZCByZXN1bHRTZWxlY3RvcihzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UgdXNlIGBkZWZlcmAgYmVjYXVzZSB3ZSB3YW50IHRvIGRlZmVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgaXRlcmF0b3IgZnJvbSB0aGUgaXRlcmFibGUuXG4gIHJldHVybiBkZWZlcihcbiAgICAoc2NoZWR1bGVyXG4gICAgICA/IC8vIElmIGEgc2NoZWR1bGVyIHdhcyBwcm92aWRlZCwgdXNlIGBzY2hlZHVsZUl0ZXJhYmxlYCB0byBlbnN1cmUgdGhhdCBpdGVyYXRpb24vZ2VuZXJhdGlvblxuICAgICAgICAvLyBoYXBwZW5zIG9uIHRoZSBzY2hlZHVsZXIuXG4gICAgICAgICgpID0+IHNjaGVkdWxlSXRlcmFibGUoZ2VuKCksIHNjaGVkdWxlciEpXG4gICAgICA6IC8vIE90aGVyd2lzZSwgaWYgdGhlcmUncyBubyBzY2hlZHVsZXIsIHdlIGNhbiBqdXN0IHVzZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGRpcmVjdGx5IGluXG4gICAgICAgIC8vIGBkZWZlcmAgYW5kIGV4ZWN1dGluZyBpdCB3aWxsIHJldHVybiB0aGUgZ2VuZXJhdG9yICh3aGljaCBpcyBpdGVyYWJsZSkuXG4gICAgICAgIGdlbikgYXMgKCkgPT4gT2JzZXJ2YWJsZUlucHV0PFQ+XG4gICk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIENoZWNrcyBhIGJvb2xlYW4gYXQgc3Vic2NyaXB0aW9uIHRpbWUsIGFuZCBjaG9vc2VzIGJldHdlZW4gb25lIG9mIHR3byBvYnNlcnZhYmxlIHNvdXJjZXNcbiAqXG4gKiBgaWlmYCBleHBlY3RzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgYm9vbGVhbiAodGhlIGBjb25kaXRpb25gIGZ1bmN0aW9uKSwgYW5kIHR3byBzb3VyY2VzLFxuICogdGhlIGB0cnVlUmVzdWx0YCBhbmQgdGhlIGBmYWxzZVJlc3VsdGAsIGFuZCByZXR1cm5zIGFuIE9ic2VydmFibGUuXG4gKlxuICogQXQgdGhlIG1vbWVudCBvZiBzdWJzY3JpcHRpb24sIHRoZSBgY29uZGl0aW9uYCBmdW5jdGlvbiBpcyBjYWxsZWQuIElmIHRoZSByZXN1bHQgaXMgYHRydWVgLCB0aGVcbiAqIHN1YnNjcmlwdGlvbiB3aWxsIGJlIHRvIHRoZSBzb3VyY2UgcGFzc2VkIGFzIHRoZSBgdHJ1ZVJlc3VsdGAsIG90aGVyd2lzZSwgdGhlIHN1YnNjcmlwdGlvbiB3aWxsIGJlXG4gKiB0byB0aGUgc291cmNlIHBhc3NlZCBhcyB0aGUgYGZhbHNlUmVzdWx0YC5cbiAqXG4gKiBJZiB5b3UgbmVlZCB0byBjaGVjayBtb3JlIHRoYW4gdHdvIG9wdGlvbnMgdG8gY2hvb3NlIGJldHdlZW4gbW9yZSB0aGFuIG9uZSBvYnNlcnZhYmxlLCBoYXZlIGEgbG9vayBhdCB0aGUge0BsaW5rIGRlZmVyfSBjcmVhdGlvbiBtZXRob2QuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBDaGFuZ2UgYXQgcnVudGltZSB3aGljaCBPYnNlcnZhYmxlIHdpbGwgYmUgc3Vic2NyaWJlZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpaWYsIG9mIH0gZnJvbSAncnhqcyc7XG4gKlxuICogbGV0IHN1YnNjcmliZVRvRmlyc3Q7XG4gKiBjb25zdCBmaXJzdE9yU2Vjb25kID0gaWlmKFxuICogICAoKSA9PiBzdWJzY3JpYmVUb0ZpcnN0LFxuICogICBvZignZmlyc3QnKSxcbiAqICAgb2YoJ3NlY29uZCcpXG4gKiApO1xuICpcbiAqIHN1YnNjcmliZVRvRmlyc3QgPSB0cnVlO1xuICogZmlyc3RPclNlY29uZC5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gJ2ZpcnN0J1xuICpcbiAqIHN1YnNjcmliZVRvRmlyc3QgPSBmYWxzZTtcbiAqIGZpcnN0T3JTZWNvbmQuc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vICdzZWNvbmQnXG4gKiBgYGBcbiAqXG4gKiBDb250cm9sIGFjY2VzcyB0byBhbiBPYnNlcnZhYmxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGlpZiwgb2YsIEVNUFRZIH0gZnJvbSAncnhqcyc7XG4gKlxuICogbGV0IGFjY2Vzc0dyYW50ZWQ7XG4gKiBjb25zdCBvYnNlcnZhYmxlSWZZb3VIYXZlQWNjZXNzID0gaWlmKFxuICogICAoKSA9PiBhY2Nlc3NHcmFudGVkLFxuICogICBvZignSXQgc2VlbXMgeW91IGhhdmUgYW4gYWNjZXNzLi4uJyksXG4gKiAgIEVNUFRZXG4gKiApO1xuICpcbiAqIGFjY2Vzc0dyYW50ZWQgPSB0cnVlO1xuICogb2JzZXJ2YWJsZUlmWW91SGF2ZUFjY2Vzcy5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnVGhlIGVuZCcpXG4gKiB9KTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gJ0l0IHNlZW1zIHlvdSBoYXZlIGFuIGFjY2Vzcy4uLidcbiAqIC8vICdUaGUgZW5kJ1xuICpcbiAqIGFjY2Vzc0dyYW50ZWQgPSBmYWxzZTtcbiAqIG9ic2VydmFibGVJZllvdUhhdmVBY2Nlc3Muc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ1RoZSBlbmQnKVxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vICdUaGUgZW5kJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGVmZXJ9XG4gKlxuICogQHBhcmFtIGNvbmRpdGlvbiBDb25kaXRpb24gd2hpY2ggT2JzZXJ2YWJsZSBzaG91bGQgYmUgY2hvc2VuLlxuICogQHBhcmFtIHRydWVSZXN1bHQgQW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgYmUgc3Vic2NyaWJlZCBpZiBjb25kaXRpb24gaXMgdHJ1ZS5cbiAqIEBwYXJhbSBmYWxzZVJlc3VsdCBBbiBPYnNlcnZhYmxlIHRoYXQgd2lsbCBiZSBzdWJzY3JpYmVkIGlmIGNvbmRpdGlvbiBpcyBmYWxzZS5cbiAqIEByZXR1cm4gQW4gb2JzZXJ2YWJsZSB0aGF0IHByb3hpZXMgdG8gYHRydWVSZXN1bHRgIG9yIGBmYWxzZVJlc3VsdGAsIGRlcGVuZGluZyBvbiB0aGUgcmVzdWx0IG9mIHRoZSBgY29uZGl0aW9uYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlpZjxULCBGPihjb25kaXRpb246ICgpID0+IGJvb2xlYW4sIHRydWVSZXN1bHQ6IE9ic2VydmFibGVJbnB1dDxUPiwgZmFsc2VSZXN1bHQ6IE9ic2VydmFibGVJbnB1dDxGPik6IE9ic2VydmFibGU8VCB8IEY+IHtcbiAgcmV0dXJuIGRlZmVyKCgpID0+IChjb25kaXRpb24oKSA/IHRydWVSZXN1bHQgOiBmYWxzZVJlc3VsdCkpO1xufVxuIiwiaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mLCBSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0ludGVyb3BPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIH0gZnJvbSAnLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UsIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb208TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihpbnB1dDogTyk6IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb208VD4oaW5wdXQ6IE9ic2VydmFibGVJbnB1dDxUPik6IE9ic2VydmFibGU8VD4ge1xuICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgfVxuICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XG4gICAgfVxuICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KTtcbiAgICB9XG4gIH1cblxuICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBSeEpTIE9ic2VydmFibGUgZnJvbSBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIGBTeW1ib2wub2JzZXJ2YWJsZWAuXG4gKiBAcGFyYW0gb2JqIEFuIG9iamVjdCB0aGF0IHByb3Blcmx5IGltcGxlbWVudHMgYFN5bWJvbC5vYnNlcnZhYmxlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZTxUPihvYmo6IGFueSkge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHtcbiAgICBjb25zdCBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICAvLyBTaG91bGQgYmUgY2F1Z2h0IGJ5IG9ic2VydmFibGUgc3Vic2NyaWJlIGZ1bmN0aW9uIGVycm9yIGhhbmRsaW5nLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZW1pdHMgdGhlIHZhbHVlcyBvZiBhbiBhcnJheSBsaWtlIGFuZCBjb21wbGV0ZXMuXG4gKiBUaGlzIGlzIGV4cG9ydGVkIGJlY2F1c2UgdGhlcmUgYXJlIGNyZWF0aW9uIGZ1bmN0aW9ucyBhbmQgb3BlcmF0b3JzIHRoYXQgbmVlZCB0b1xuICogbWFrZSBkaXJlY3QgdXNlIG9mIHRoZSBzYW1lIGxvZ2ljLCBhbmQgdGhlcmUncyBubyByZWFzb24gdG8gbWFrZSB0aGVtIHJ1biB0aHJvdWdoXG4gKiBgZnJvbWAgY29uZGl0aW9uYWxzIGJlY2F1c2Ugd2UgKmtub3cqIHRoZXkncmUgZGVhbGluZyB3aXRoIGFuIGFycmF5LlxuICogQHBhcmFtIGFycmF5IFRoZSBhcnJheSB0byBlbWl0IHZhbHVlcyBmcm9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXlMaWtlPFQ+KGFycmF5OiBBcnJheUxpa2U8VD4pIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiB7XG4gICAgLy8gTG9vcCBvdmVyIHRoZSBhcnJheSBhbmQgZW1pdCBlYWNoIHZhbHVlLiBOb3RlIHR3byB0aGluZ3MgaGVyZTpcbiAgICAvLyAxLiBXZSdyZSBtYWtpbmcgc3VyZSB0aGF0IHRoZSBzdWJzY3JpYmVyIGlzIG5vdCBjbG9zZWQgb24gZWFjaCBsb29wLlxuICAgIC8vICAgIFRoaXMgaXMgc28gd2UgZG9uJ3QgY29udGludWUgbG9vcGluZyBvdmVyIGEgdmVyeSBsYXJnZSBhcnJheSBhZnRlclxuICAgIC8vICAgIHNvbWV0aGluZyBsaWtlIGEgYHRha2VgLCBgdGFrZVdoaWxlYCwgb3Igb3RoZXIgc3luY2hyb25vdXMgdW5zdWJzY3JpcHRpb25cbiAgICAvLyAgICBoYXMgYWxyZWFkeSB1bnN1YnNjcmliZWQuXG4gICAgLy8gMi4gSW4gdGhpcyBmb3JtLCByZWVudHJhbnQgY29kZSBjYW4gYWx0ZXIgdGhhdCBhcnJheSB3ZSdyZSBsb29waW5nIG92ZXIuXG4gICAgLy8gICAgVGhpcyBpcyBhIGtub3duIGlzc3VlLCBidXQgY29uc2lkZXJlZCBhbiBlZGdlIGNhc2UuIFRoZSBhbHRlcm5hdGl2ZSB3b3VsZFxuICAgIC8vICAgIGJlIHRvIGNvcHkgdGhlIGFycmF5IGJlZm9yZSBleGVjdXRpbmcgdGhlIGxvb3AsIGJ1dCB0aGlzIGhhc1xuICAgIC8vICAgIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Qcm9taXNlPFQ+KHByb21pc2U6IFByb21pc2VMaWtlPFQ+KSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4ge1xuICAgIHByb21pc2VcbiAgICAgIC50aGVuKFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKGVycjogYW55KSA9PiBzdWJzY3JpYmVyLmVycm9yKGVycilcbiAgICAgIClcbiAgICAgIC50aGVuKG51bGwsIHJlcG9ydFVuaGFuZGxlZEVycm9yKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSXRlcmFibGU8VD4oaXRlcmFibGU6IEl0ZXJhYmxlPFQ+KSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4ge1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgaXRlcmFibGUpIHtcbiAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGU8VD4oYXN5bmNJdGVyYWJsZTogQXN5bmNJdGVyYWJsZTxUPikge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHtcbiAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKChlcnIpID0+IHN1YnNjcmliZXIuZXJyb3IoZXJyKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZTxUPihyZWFkYWJsZVN0cmVhbTogUmVhZGFibGVTdHJlYW1MaWtlPFQ+KSB7XG4gIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3M8VD4oYXN5bmNJdGVyYWJsZTogQXN5bmNJdGVyYWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikge1xuICBmb3IgYXdhaXQgKGNvbnN0IHZhbHVlIG9mIGFzeW5jSXRlcmFibGUpIHtcbiAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgIC8vIEEgc2lkZS1lZmZlY3QgbWF5IGhhdmUgY2xvc2VkIG91ciBzdWJzY3JpYmVyLFxuICAgIC8vIGNoZWNrIGJlZm9yZSB0aGUgbmV4dCBpdGVyYXRpb24uXG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4vdGltZXInO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHNlcXVlbnRpYWwgbnVtYmVycyBldmVyeSBzcGVjaWZpZWRcbiAqIGludGVydmFsIG9mIHRpbWUsIG9uIGEgc3BlY2lmaWVkIHtAbGluayBTY2hlZHVsZXJMaWtlfS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RW1pdHMgaW5jcmVtZW50YWwgbnVtYmVycyBwZXJpb2RpY2FsbHkgaW4gdGltZS48L3NwYW4+XG4gKlxuICogIVtdKGludGVydmFsLnBuZylcbiAqXG4gKiBgaW50ZXJ2YWxgIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGFuIGluZmluaXRlIHNlcXVlbmNlIG9mXG4gKiBhc2NlbmRpbmcgaW50ZWdlcnMsIHdpdGggYSBjb25zdGFudCBpbnRlcnZhbCBvZiB0aW1lIG9mIHlvdXIgY2hvb3NpbmdcbiAqIGJldHdlZW4gdGhvc2UgZW1pc3Npb25zLiBUaGUgZmlyc3QgZW1pc3Npb24gaXMgbm90IHNlbnQgaW1tZWRpYXRlbHksIGJ1dFxuICogb25seSBhZnRlciB0aGUgZmlyc3QgcGVyaW9kIGhhcyBwYXNzZWQuIEJ5IGRlZmF1bHQsIHRoaXMgb3BlcmF0b3IgdXNlcyB0aGVcbiAqIGBhc3luY2Age0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHByb3ZpZGUgYSBub3Rpb24gb2YgdGltZSwgYnV0IHlvdSBtYXkgcGFzcyBhbnlcbiAqIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byBpdC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdHMgYXNjZW5kaW5nIG51bWJlcnMsIG9uZSBldmVyeSBzZWNvbmQgKDEwMDBtcykgdXAgdG8gdGhlIG51bWJlciAzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgbnVtYmVycyA9IGludGVydmFsKDEwMDApO1xuICpcbiAqIGNvbnN0IHRha2VGb3VyTnVtYmVycyA9IG51bWJlcnMucGlwZSh0YWtlKDQpKTtcbiAqXG4gKiB0YWtlRm91ck51bWJlcnMuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ05leHQ6ICcsIHgpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gTmV4dDogMFxuICogLy8gTmV4dDogMVxuICogLy8gTmV4dDogMlxuICogLy8gTmV4dDogM1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgdGltZXJ9XG4gKiBAc2VlIHtAbGluayBkZWxheX1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3BlcmlvZD0wXSBUaGUgaW50ZXJ2YWwgc2l6ZSBpbiBtaWxsaXNlY29uZHMgKGJ5IGRlZmF1bHQpXG4gKiBvciB0aGUgdGltZSB1bml0IGRldGVybWluZWQgYnkgdGhlIHNjaGVkdWxlcidzIGNsb2NrLlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyPWFzeW5jXSBUaGUge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHVzZSBmb3Igc2NoZWR1bGluZ1xuICogdGhlIGVtaXNzaW9uIG9mIHZhbHVlcywgYW5kIHByb3ZpZGluZyBhIG5vdGlvbiBvZiBcInRpbWVcIi5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhIHNlcXVlbnRpYWwgbnVtYmVyIGVhY2ggdGltZVxuICogaW50ZXJ2YWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbChwZXJpb2QgPSAwLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlcik6IE9ic2VydmFibGU8bnVtYmVyPiB7XG4gIGlmIChwZXJpb2QgPCAwKSB7XG4gICAgLy8gV2UgY2Fubm90IHNjaGVkdWxlIGFuIGludGVydmFsIGluIHRoZSBwYXN0LlxuICAgIHBlcmlvZCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmFibGVJbnB1dFR1cGxlLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VBbGwnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmltcG9ydCB7IHBvcE51bWJlciwgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzQW5kQ29uY3VycmVuY3k6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgbnVtYmVyP10pOiBPYnNlcnZhYmxlPEFbbnVtYmVyXT47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYG1lcmdlQWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXNBbmRTY2hlZHVsZXI6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgU2NoZWR1bGVyTGlrZT9dXG4pOiBPYnNlcnZhYmxlPEFbbnVtYmVyXT47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYCBhbmQgYG1lcmdlQWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXNBbmRDb25jdXJyZW5jeUFuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBudW1iZXI/LCBTY2hlZHVsZXJMaWtlP11cbik6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG91dHB1dCBPYnNlcnZhYmxlIHdoaWNoIGNvbmN1cnJlbnRseSBlbWl0cyBhbGwgdmFsdWVzIGZyb20gZXZlcnlcbiAqIGdpdmVuIGlucHV0IE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIG11bHRpcGxlIE9ic2VydmFibGVzIHRvZ2V0aGVyIGJ5IGJsZW5kaW5nXG4gKiB0aGVpciB2YWx1ZXMgaW50byBvbmUgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKG1lcmdlLnBuZylcbiAqXG4gKiBgbWVyZ2VgIHN1YnNjcmliZXMgdG8gZWFjaCBnaXZlbiBpbnB1dCBPYnNlcnZhYmxlIChhcyBhcmd1bWVudHMpLCBhbmQgc2ltcGx5XG4gKiBmb3J3YXJkcyAod2l0aG91dCBkb2luZyBhbnkgdHJhbnNmb3JtYXRpb24pIGFsbCB0aGUgdmFsdWVzIGZyb20gYWxsIHRoZSBpbnB1dFxuICogT2JzZXJ2YWJsZXMgdG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBUaGUgb3V0cHV0IE9ic2VydmFibGUgb25seSBjb21wbGV0ZXNcbiAqIG9uY2UgYWxsIGlucHV0IE9ic2VydmFibGVzIGhhdmUgY29tcGxldGVkLiBBbnkgZXJyb3IgZGVsaXZlcmVkIGJ5IGFuIGlucHV0XG4gKiBPYnNlcnZhYmxlIHdpbGwgYmUgaW1tZWRpYXRlbHkgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBNZXJnZSB0b2dldGhlciB0d28gT2JzZXJ2YWJsZXM6IDFzIGludGVydmFsIGFuZCBjbGlja3NcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgbWVyZ2UsIGZyb21FdmVudCwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgdGltZXIgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGNsaWNrc09yVGltZXIgPSBtZXJnZShjbGlja3MsIHRpbWVyKTtcbiAqIGNsaWNrc09yVGltZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZzpcbiAqIC8vIHRpbWVyIHdpbGwgZW1pdCBhc2NlbmRpbmcgdmFsdWVzLCBvbmUgZXZlcnkgc2Vjb25kKDEwMDBtcykgdG8gY29uc29sZVxuICogLy8gY2xpY2tzIGxvZ3MgTW91c2VFdmVudHMgdG8gY29uc29sZSBldmVyeSB0aW1lIHRoZSBcImRvY3VtZW50XCIgaXMgY2xpY2tlZFxuICogLy8gU2luY2UgdGhlIHR3byBzdHJlYW1zIGFyZSBtZXJnZWQgeW91IHNlZSB0aGVzZSBoYXBwZW5pbmdcbiAqIC8vIGFzIHRoZXkgb2NjdXIuXG4gKiBgYGBcbiAqXG4gKiBNZXJnZSB0b2dldGhlciAzIE9ic2VydmFibGVzLCBidXQgcnVuIG9ubHkgMiBjb25jdXJyZW50bHlcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIG1lcmdlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgdGltZXIxID0gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDEwKSk7XG4gKiBjb25zdCB0aW1lcjIgPSBpbnRlcnZhbCgyMDAwKS5waXBlKHRha2UoNikpO1xuICogY29uc3QgdGltZXIzID0gaW50ZXJ2YWwoNTAwKS5waXBlKHRha2UoMTApKTtcbiAqXG4gKiBjb25zdCBjb25jdXJyZW50ID0gMjsgLy8gdGhlIGFyZ3VtZW50XG4gKiBjb25zdCBtZXJnZWQgPSBtZXJnZSh0aW1lcjEsIHRpbWVyMiwgdGltZXIzLCBjb25jdXJyZW50KTtcbiAqIG1lcmdlZC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gLSBGaXJzdCB0aW1lcjEgYW5kIHRpbWVyMiB3aWxsIHJ1biBjb25jdXJyZW50bHlcbiAqIC8vIC0gdGltZXIxIHdpbGwgZW1pdCBhIHZhbHVlIGV2ZXJ5IDEwMDBtcyBmb3IgMTAgaXRlcmF0aW9uc1xuICogLy8gLSB0aW1lcjIgd2lsbCBlbWl0IGEgdmFsdWUgZXZlcnkgMjAwMG1zIGZvciA2IGl0ZXJhdGlvbnNcbiAqIC8vIC0gYWZ0ZXIgdGltZXIxIGhpdHMgaXRzIG1heCBpdGVyYXRpb24sIHRpbWVyMiB3aWxsXG4gKiAvLyAgIGNvbnRpbnVlLCBhbmQgdGltZXIzIHdpbGwgc3RhcnQgdG8gcnVuIGNvbmN1cnJlbnRseSB3aXRoIHRpbWVyMlxuICogLy8gLSB3aGVuIHRpbWVyMiBoaXRzIGl0cyBtYXggaXRlcmF0aW9uIGl0IHRlcm1pbmF0ZXMsIGFuZFxuICogLy8gICB0aW1lcjMgd2lsbCBjb250aW51ZSB0byBlbWl0IGEgdmFsdWUgZXZlcnkgNTAwbXMgdW50aWwgaXQgaXMgY29tcGxldGVcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG1lcmdlQWxsfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcFRvfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICpcbiAqIEBwYXJhbSB7Li4uT2JzZXJ2YWJsZUlucHV0fSBvYnNlcnZhYmxlcyBJbnB1dCBPYnNlcnZhYmxlcyB0byBtZXJnZSB0b2dldGhlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVudD1JbmZpbml0eV0gTWF4aW11bSBudW1iZXIgb2YgaW5wdXRcbiAqIE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG8gY29uY3VycmVudGx5LlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyPW51bGxdIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvciBtYW5hZ2luZ1xuICogY29uY3VycmVuY3kgb2YgaW5wdXQgT2JzZXJ2YWJsZXMuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgdGhhdCBhcmUgdGhlIHJlc3VsdCBvZlxuICogZXZlcnkgaW5wdXQgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKC4uLmFyZ3M6IChPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4gfCBudW1iZXIgfCBTY2hlZHVsZXJMaWtlKVtdKTogT2JzZXJ2YWJsZTx1bmtub3duPiB7XG4gIGNvbnN0IHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgY29uc3QgY29uY3VycmVudCA9IHBvcE51bWJlcihhcmdzLCBJbmZpbml0eSk7XG4gIGNvbnN0IHNvdXJjZXMgPSBhcmdzIGFzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPltdO1xuICByZXR1cm4gIXNvdXJjZXMubGVuZ3RoXG4gICAgPyAvLyBObyBzb3VyY2UgcHJvdmlkZWRcbiAgICAgIEVNUFRZXG4gICAgOiBzb3VyY2VzLmxlbmd0aCA9PT0gMVxuICAgID8gLy8gT25lIHNvdXJjZT8gSnVzdCByZXR1cm4gaXQuXG4gICAgICBpbm5lckZyb20oc291cmNlc1swXSlcbiAgICA6IC8vIE1lcmdlIGFsbCBzb3VyY2VzXG4gICAgICBtZXJnZUFsbChjb25jdXJyZW50KShmcm9tKHNvdXJjZXMsIHNjaGVkdWxlcikpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5cbi8qKlxuICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG5vIGl0ZW1zIHRvIHRoZSBPYnNlcnZlciBhbmQgbmV2ZXIgY29tcGxldGVzLlxuICpcbiAqICFbXShuZXZlci5wbmcpXG4gKlxuICogQSBzaW1wbGUgT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG5laXRoZXIgdmFsdWVzIG5vciBlcnJvcnMgbm9yIHRoZSBjb21wbGV0aW9uXG4gKiBub3RpZmljYXRpb24uIEl0IGNhbiBiZSB1c2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9yIGZvciBjb21wb3Npbmcgd2l0aCBvdGhlclxuICogT2JzZXJ2YWJsZXMuIFBsZWFzZSBub3RlIHRoYXQgYnkgbmV2ZXIgZW1pdHRpbmcgYSBjb21wbGV0ZSBub3RpZmljYXRpb24sIHRoaXNcbiAqIE9ic2VydmFibGUga2VlcHMgdGhlIHN1YnNjcmlwdGlvbiBmcm9tIGJlaW5nIGRpc3Bvc2VkIGF1dG9tYXRpY2FsbHkuXG4gKiBTdWJzY3JpcHRpb25zIG5lZWQgdG8gYmUgbWFudWFsbHkgZGlzcG9zZWQuXG4gKlxuICogIyMgIEV4YW1wbGVcbiAqXG4gKiBFbWl0IHRoZSBudW1iZXIgNywgdGhlbiBuZXZlciBlbWl0IGFueXRoaW5nIGVsc2UgKG5vdCBldmVuIGNvbXBsZXRlKVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBORVZFUiwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgaW5mbyA9ICgpID0+IGNvbnNvbGUubG9nKCdXaWxsIG5vdCBiZSBjYWxsZWQnKTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBORVZFUi5waXBlKHN0YXJ0V2l0aCg3KSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogeCA9PiBjb25zb2xlLmxvZyh4KSxcbiAqICAgZXJyb3I6IGluZm8sXG4gKiAgIGNvbXBsZXRlOiBpbmZvXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIE9ic2VydmFibGV9XG4gKiBAc2VlIHtAbGluayBFTVBUWX1cbiAqIEBzZWUge0BsaW5rIG9mfVxuICogQHNlZSB7QGxpbmsgdGhyb3dFcnJvcn1cbiAqL1xuZXhwb3J0IGNvbnN0IE5FVkVSID0gbmV3IE9ic2VydmFibGU8bmV2ZXI+KG5vb3ApO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGggdGhlIHtAbGluayBORVZFUn0gY29uc3RhbnQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ldmVyKCkge1xuICByZXR1cm4gTkVWRVI7XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlLCBWYWx1ZUZyb21BcnJheSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcblxuLy8gRGV2cyBhcmUgbW9yZSBsaWtlbHkgdG8gcGFzcyBudWxsIG9yIHVuZGVmaW5lZCB0aGFuIHRoZXkgYXJlIGEgc2NoZWR1bGVyXG4vLyB3aXRob3V0IGFjY29tcGFueWluZyB2YWx1ZXMuIFRvIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgKG5hdWdodHkpIGRldnMgd2hvXG4vLyB1c2UgdGhlIGBzdHJpY3ROdWxsQ2hlY2tzOiBmYWxzZWAgVHlwZVNjcmlwdCBjb21waWxlciBvcHRpb24sIHRoZXNlXG4vLyBvdmVybG9hZHMgd2l0aCBleHBsaWNpdCBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzIGFyZSBpbmNsdWRlZC5cblxuZXhwb3J0IGZ1bmN0aW9uIG9mKHZhbHVlOiBudWxsKTogT2JzZXJ2YWJsZTxudWxsPjtcbmV4cG9ydCBmdW5jdGlvbiBvZih2YWx1ZTogdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTx1bmRlZmluZWQ+O1xuXG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gb2Yoc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxuZXZlcj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gb2Y8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4udmFsdWVzQW5kU2NoZWR1bGVyOiBbLi4uQSwgU2NoZWR1bGVyTGlrZV0pOiBPYnNlcnZhYmxlPFZhbHVlRnJvbUFycmF5PEE+PjtcblxuZXhwb3J0IGZ1bmN0aW9uIG9mKCk6IE9ic2VydmFibGU8bmV2ZXI+O1xuLyoqIEBkZXByZWNhdGVkIERvIG5vdCBzcGVjaWZ5IGV4cGxpY2l0IHR5cGUgcGFyYW1ldGVycy4gU2lnbmF0dXJlcyB3aXRoIHR5cGUgcGFyYW1ldGVycyB0aGF0IGNhbm5vdCBiZSBpbmZlcnJlZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gb2Y8VD4oKTogT2JzZXJ2YWJsZTxUPjtcbmV4cG9ydCBmdW5jdGlvbiBvZjxUPih2YWx1ZTogVCk6IE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gb2Y8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4udmFsdWVzOiBBKTogT2JzZXJ2YWJsZTxWYWx1ZUZyb21BcnJheTxBPj47XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGFyZ3VtZW50cyB0byBhbiBvYnNlcnZhYmxlIHNlcXVlbmNlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FYWNoIGFyZ3VtZW50IGJlY29tZXMgYSBgbmV4dGAgbm90aWZpY2F0aW9uLjwvc3Bhbj5cbiAqXG4gKiAhW10ob2YucG5nKVxuICpcbiAqIFVubGlrZSB7QGxpbmsgZnJvbX0sIGl0IGRvZXMgbm90IGRvIGFueSBmbGF0dGVuaW5nIGFuZCBlbWl0cyBlYWNoIGFyZ3VtZW50IGluIHdob2xlXG4gKiBhcyBhIHNlcGFyYXRlIGBuZXh0YCBub3RpZmljYXRpb24uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFbWl0IHRoZSB2YWx1ZXMgYDEwLCAyMCwgMzBgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoMTAsIDIwLCAzMClcbiAqICAgLnN1YnNjcmliZSh7XG4gKiAgICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2coJ25leHQ6JywgdmFsdWUpLFxuICogICAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coJ2Vycm9yOicsIGVyciksXG4gKiAgICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCd0aGUgZW5kJyksXG4gKiAgIH0pO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIG5leHQ6IDEwXG4gKiAvLyBuZXh0OiAyMFxuICogLy8gbmV4dDogMzBcbiAqIC8vIHRoZSBlbmRcbiAqIGBgYFxuICpcbiAqIEVtaXQgdGhlIGFycmF5IGBbMSwgMiwgM11gXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoWzEsIDIsIDNdKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZygnbmV4dDonLCB2YWx1ZSksXG4gKiAgICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZygnZXJyb3I6JywgZXJyKSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ3RoZSBlbmQnKSxcbiAqICAgfSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gbmV4dDogWzEsIDIsIDNdXG4gKiAvLyB0aGUgZW5kXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmcm9tfVxuICogQHNlZSB7QGxpbmsgcmFuZ2V9XG4gKlxuICogQHBhcmFtIHsuLi5UfSB2YWx1ZXMgQSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBhcmd1bWVudHMgeW91IHdhbnQgdG8gYmUgZW1pdHRlZFxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBhcmd1bWVudHNcbiAqIGRlc2NyaWJlZCBhYm92ZSBhbmQgdGhlbiBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvZjxUPiguLi5hcmdzOiBBcnJheTxUIHwgU2NoZWR1bGVyTGlrZT4pOiBPYnNlcnZhYmxlPFQ+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKGFyZ3MpO1xuICByZXR1cm4gZnJvbShhcmdzIGFzIFRbXSwgc2NoZWR1bGVyKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYXJnc09yQXJnQXJyYXkgfSBmcm9tICcuLi91dGlsL2FyZ3NPckFyZ0FycmF5JztcbmltcG9ydCB7IE9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0PEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KHNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPYnNlcnZhYmxlPEFbbnVtYmVyXT47XG5leHBvcnQgZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHQ8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcblxuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBXaGVuIGFueSBvZiB0aGUgcHJvdmlkZWQgT2JzZXJ2YWJsZSBlbWl0cyBhIGNvbXBsZXRlIG9yIGFuIGVycm9yIG5vdGlmaWNhdGlvbiwgaXQgaW1tZWRpYXRlbHkgc3Vic2NyaWJlcyB0byB0aGUgbmV4dCBvbmVcbiAqIHRoYXQgd2FzIHBhc3NlZC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RXhlY3V0ZSBzZXJpZXMgb2YgT2JzZXJ2YWJsZXMgbm8gbWF0dGVyIHdoYXQsIGV2ZW4gaWYgaXQgbWVhbnMgc3dhbGxvd2luZyBlcnJvcnMuPC9zcGFuPlxuICpcbiAqICFbXShvbkVycm9yUmVzdW1lTmV4dC5wbmcpXG4gKlxuICogYG9uRXJyb3JSZXN1bWVOZXh0YCB3aWxsIHN1YnNjcmliZSB0byBlYWNoIG9ic2VydmFibGUgc291cmNlIGl0IGlzIHByb3ZpZGVkLCBpbiBvcmRlci5cbiAqIElmIHRoZSBzb3VyY2UgaXQncyBzdWJzY3JpYmVkIHRvIGVtaXRzIGFuIGVycm9yIG9yIGNvbXBsZXRlcywgaXQgd2lsbCBtb3ZlIHRvIHRoZSBuZXh0IHNvdXJjZVxuICogd2l0aG91dCBlcnJvci5cbiAqXG4gKiBJZiBgb25FcnJvclJlc3VtZU5leHRgIGlzIHByb3ZpZGVkIG5vIGFyZ3VtZW50cywgb3IgYSBzaW5nbGUsIGVtcHR5IGFycmF5LCBpdCB3aWxsIHJldHVybiB7QGxpbmsgRU1QVFl9LlxuICpcbiAqIGBvbkVycm9yUmVzdW1lTmV4dGAgaXMgYmFzaWNhbGx5IHtAbGluayBjb25jYXR9LCBvbmx5IGl0IHdpbGwgY29udGludWUsIGV2ZW4gaWYgb25lIG9mIGl0c1xuICogc291cmNlcyBlbWl0cyBhbiBlcnJvci5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlcmUgaXMgbm8gd2F5IHRvIGhhbmRsZSBhbnkgZXJyb3JzIHRocm93biBieSBzb3VyY2VzIHZpYSB0aGUgcmVzdWx0IG9mXG4gKiBgb25FcnJvclJlc3VtZU5leHRgLiBJZiB5b3Ugd2FudCB0byBoYW5kbGUgZXJyb3JzIHRocm93biBpbiBhbnkgZ2l2ZW4gc291cmNlLCB5b3UgY2FuXG4gKiBhbHdheXMgdXNlIHRoZSB7QGxpbmsgY2F0Y2hFcnJvcn0gb3BlcmF0b3Igb24gdGhlbSBiZWZvcmUgcGFzc2luZyB0aGVtIGludG8gYG9uRXJyb3JSZXN1bWVOZXh0YC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU3Vic2NyaWJlIHRvIHRoZSBuZXh0IE9ic2VydmFibGUgYWZ0ZXIgbWFwIGZhaWxzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9uRXJyb3JSZXN1bWVOZXh0LCBvZiwgbWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb25FcnJvclJlc3VtZU5leHQoXG4gKiAgIG9mKDEsIDIsIDMsIDApLnBpcGUoXG4gKiAgICAgbWFwKHggPT4ge1xuICogICAgICAgaWYgKHggPT09IDApIHtcbiAqICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAqICAgICAgIH1cbiAqICAgICAgIHJldHVybiAxMCAvIHg7XG4gKiAgICAgfSlcbiAqICAgKSxcbiAqICAgb2YoMSwgMiwgMylcbiAqIClcbiAqIC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coZXJyKSwgICAgIC8vIFdpbGwgbmV2ZXIgYmUgY2FsbGVkLlxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ2RvbmUnKVxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDEwXG4gKiAvLyA1XG4gKiAvLyAzLjMzMzMzMzMzMzMzMzMzMzVcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vICdkb25lJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0fVxuICogQHNlZSB7QGxpbmsgY2F0Y2hFcnJvcn1cbiAqXG4gKiBAcGFyYW0gey4uLk9ic2VydmFibGVJbnB1dH0gc291cmNlcyBPYnNlcnZhYmxlcyAob3IgYW55dGhpbmcgdGhhdCAqaXMqIG9ic2VydmFibGUpIHBhc3NlZCBlaXRoZXIgZGlyZWN0bHkgb3IgYXMgYW4gYXJyYXkuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHRoYXQgY29uY2F0ZW5hdGVzIGFsbCBzb3VyY2VzLCBvbmUgYWZ0ZXIgdGhlIG90aGVyLFxuICogaWdub3JpbmcgYWxsIGVycm9ycywgc3VjaCB0aGF0IGFueSBlcnJvciBjYXVzZXMgaXQgdG8gbW92ZSBvbiB0byB0aGUgbmV4dCBzb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dDxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlczogW1suLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1dIHwgWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XVxuKTogT2JzZXJ2YWJsZTxBW251bWJlcl0+IHtcbiAgY29uc3QgbmV4dFNvdXJjZXM6IE9ic2VydmFibGVJbnB1dFR1cGxlPEE+ID0gYXJnc09yQXJnQXJyYXkoc291cmNlcykgYXMgYW55O1xuXG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBzb3VyY2VJbmRleCA9IDA7XG4gICAgY29uc3Qgc3Vic2NyaWJlTmV4dCA9ICgpID0+IHtcbiAgICAgIGlmIChzb3VyY2VJbmRleCA8IG5leHRTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICBsZXQgbmV4dFNvdXJjZTogT2JzZXJ2YWJsZTxBW251bWJlcl0+O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5leHRTb3VyY2UgPSBpbm5lckZyb20obmV4dFNvdXJjZXNbc291cmNlSW5kZXgrK10pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBzdWJzY3JpYmVOZXh0KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlubmVyU3Vic2NyaWJlciA9IG5ldyBPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCBub29wLCBub29wKTtcbiAgICAgICAgbmV4dFNvdXJjZS5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaW5uZXJTdWJzY3JpYmVyLmFkZChzdWJzY3JpYmVOZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN1YnNjcmliZU5leHQoKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBmcm9tKE9iamVjdC5lbnRyaWVzKG9iaikpYCBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWlyczxUPihhcnI6IHJlYWRvbmx5IFRbXSwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8W3N0cmluZywgVF0+O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGZyb20oT2JqZWN0LmVudHJpZXMob2JqKSlgIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzPE8gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4ob2JqOiBPLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxba2V5b2YgTywgT1trZXlvZiBPXV0+O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGZyb20oT2JqZWN0LmVudHJpZXMob2JqKSlgIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzPFQ+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUPiwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8W3N0cmluZywgVF0+O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGZyb20oT2JqZWN0LmVudHJpZXMob2JqKSlgIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzKFxuICBuOiBudW1iZXIgfCBiaWdpbnQgfCBib29sZWFuIHwgKCguLi5hcmdzOiBhbnlbXSkgPT4gYW55KSB8IHN5bWJvbCxcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT2JzZXJ2YWJsZTxbbmV2ZXIsIG5ldmVyXT47XG5cbi8qKlxuICogQ29udmVydCBhbiBvYmplY3QgaW50byBhbiBPYnNlcnZhYmxlIG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5UdXJuIGVudHJpZXMgb2YgYW4gb2JqZWN0IGludG8gYSBzdHJlYW0uPC9zcGFuPlxuICpcbiAqICFbXShwYWlycy5wbmcpXG4gKlxuICogYHBhaXJzYCB0YWtlcyBhbiBhcmJpdHJhcnkgb2JqZWN0IGFuZCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhcnJheXMuIEVhY2hcbiAqIGVtaXR0ZWQgYXJyYXkgaGFzIGV4YWN0bHkgdHdvIGVsZW1lbnRzIC0gdGhlIGZpcnN0IGlzIGEga2V5IGZyb20gdGhlIG9iamVjdFxuICogYW5kIHRoZSBzZWNvbmQgaXMgYSB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoYXQga2V5LiBLZXlzIGFyZSBleHRyYWN0ZWQgZnJvbVxuICogYW4gb2JqZWN0IHZpYSBgT2JqZWN0LmtleXNgIGZ1bmN0aW9uLCB3aGljaCBtZWFucyB0aGF0IHRoZXkgd2lsbCBiZSBvbmx5XG4gKiBlbnVtZXJhYmxlIGtleXMgdGhhdCBhcmUgcHJlc2VudCBvbiBhbiBvYmplY3QgZGlyZWN0bHkgLSBub3Qgb25lcyBpbmhlcml0ZWRcbiAqIHZpYSBwcm90b3R5cGUgY2hhaW4uXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlc2UgYXJyYXlzIGFyZSBlbWl0dGVkIHN5bmNocm9ub3VzbHkuIFRvIGNoYW5nZSB0aGF0IHlvdSBjYW5cbiAqIHBhc3MgYSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gYXMgYSBzZWNvbmQgYXJndW1lbnQgdG8gYHBhaXJzYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogQ29udmVydHMgYW4gb2JqZWN0IHRvIGFuIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgcGFpcnMgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBvYmogPSB7XG4gKiAgIGZvbzogNDIsXG4gKiAgIGJhcjogNTYsXG4gKiAgIGJhejogNzhcbiAqIH07XG4gKlxuICogcGFpcnMob2JqKS5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSksXG4gKiAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnQ29tcGxldGUhJylcbiAqIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBbJ2ZvbycsIDQyXVxuICogLy8gWydiYXInLCA1Nl1cbiAqIC8vIFsnYmF6JywgNzhdXG4gKiAvLyAnQ29tcGxldGUhJ1xuICogYGBgXG4gKlxuICogIyMjIE9iamVjdC5lbnRyaWVzIHJlcXVpcmVkXG4gKlxuICogSW4gSUUsIHlvdSB3aWxsIG5lZWQgdG8gcG9seWZpbGwgYE9iamVjdC5lbnRyaWVzYCBpbiBvcmRlciB0byB1c2UgdGhpcy5cbiAqIFtNRE4gaGFzIGEgcG9seWZpbGwgaGVyZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2VudHJpZXMpXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGluc3BlY3QgYW5kIHR1cm4gaW50byBhblxuICogT2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyfSBbc2NoZWR1bGVyXSBBbiBvcHRpb25hbCBJU2NoZWR1bGVyIHRvIHNjaGVkdWxlXG4gKiB3aGVuIHJlc3VsdGluZyBPYnNlcnZhYmxlIHdpbGwgZW1pdCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7KE9ic2VydmFibGU8QXJyYXk8c3RyaW5nfFQ+Pil9IEFuIG9ic2VydmFibGUgc2VxdWVuY2Ugb2ZcbiAqIFtrZXksIHZhbHVlXSBwYWlycyBmcm9tIHRoZSBvYmplY3QuXG4gKiBAZGVwcmVjYXRlZCBVc2UgYGZyb20oT2JqZWN0LmVudHJpZXMob2JqKSlgIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzKG9iajogYW55LCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBmcm9tKE9iamVjdC5lbnRyaWVzKG9iaiksIHNjaGVkdWxlciBhcyBhbnkpO1xufVxuIiwiaW1wb3J0IHsgbm90IH0gZnJvbSAnLi4vdXRpbC9ub3QnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2ZpbHRlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5cbi8qKiBAZGVwcmVjYXRlZCBVc2UgYSBjbG9zdXJlIGluc3RlYWQgb2YgYSBgdGhpc0FyZ2AuIFNpZ25hdHVyZXMgYWNjZXB0aW5nIGEgYHRoaXNBcmdgIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb248VCwgVSBleHRlbmRzIFQsIEE+KFxuICBzb3VyY2U6IE9ic2VydmFibGVJbnB1dDxUPixcbiAgcHJlZGljYXRlOiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZhbHVlIGlzIFUsXG4gIHRoaXNBcmc6IEFcbik6IFtPYnNlcnZhYmxlPFU+LCBPYnNlcnZhYmxlPEV4Y2x1ZGU8VCwgVT4+XTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb248VCwgVSBleHRlbmRzIFQ+KFxuICBzb3VyY2U6IE9ic2VydmFibGVJbnB1dDxUPixcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHZhbHVlIGlzIFVcbik6IFtPYnNlcnZhYmxlPFU+LCBPYnNlcnZhYmxlPEV4Y2x1ZGU8VCwgVT4+XTtcblxuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvbjxULCBBPihcbiAgc291cmNlOiBPYnNlcnZhYmxlSW5wdXQ8VD4sXG4gIHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLFxuICB0aGlzQXJnOiBBXG4pOiBbT2JzZXJ2YWJsZTxUPiwgT2JzZXJ2YWJsZTxUPl07XG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uPFQ+KHNvdXJjZTogT2JzZXJ2YWJsZUlucHV0PFQ+LCBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IFtPYnNlcnZhYmxlPFQ+LCBPYnNlcnZhYmxlPFQ+XTtcblxuLyoqXG4gKiBTcGxpdHMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGludG8gdHdvLCBvbmUgd2l0aCB2YWx1ZXMgdGhhdCBzYXRpc2Z5IGFcbiAqIHByZWRpY2F0ZSwgYW5kIGFub3RoZXIgd2l0aCB2YWx1ZXMgdGhhdCBkb24ndCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgZmlsdGVyfSwgYnV0IHJldHVybnMgdHdvIE9ic2VydmFibGVzOlxuICogb25lIGxpa2UgdGhlIG91dHB1dCBvZiB7QGxpbmsgZmlsdGVyfSwgYW5kIHRoZSBvdGhlciB3aXRoIHZhbHVlcyB0aGF0IGRpZCBub3RcbiAqIHBhc3MgdGhlIGNvbmRpdGlvbi48L3NwYW4+XG4gKlxuICogIVtdKHBhcnRpdGlvbi5wbmcpXG4gKlxuICogYHBhcnRpdGlvbmAgb3V0cHV0cyBhbiBhcnJheSB3aXRoIHR3byBPYnNlcnZhYmxlcyB0aGF0IHBhcnRpdGlvbiB0aGUgdmFsdWVzXG4gKiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aHJvdWdoIHRoZSBnaXZlbiBgcHJlZGljYXRlYCBmdW5jdGlvbi4gVGhlIGZpcnN0XG4gKiBPYnNlcnZhYmxlIGluIHRoYXQgYXJyYXkgZW1pdHMgc291cmNlIHZhbHVlcyBmb3Igd2hpY2ggdGhlIHByZWRpY2F0ZSBhcmd1bWVudFxuICogcmV0dXJucyB0cnVlLiBUaGUgc2Vjb25kIE9ic2VydmFibGUgZW1pdHMgc291cmNlIHZhbHVlcyBmb3Igd2hpY2ggdGhlXG4gKiBwcmVkaWNhdGUgcmV0dXJucyBmYWxzZS4gVGhlIGZpcnN0IGJlaGF2ZXMgbGlrZSB7QGxpbmsgZmlsdGVyfSBhbmQgdGhlIHNlY29uZFxuICogYmVoYXZlcyBsaWtlIHtAbGluayBmaWx0ZXJ9IHdpdGggdGhlIHByZWRpY2F0ZSBuZWdhdGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBQYXJ0aXRpb24gYSBzZXQgb2YgbnVtYmVycyBpbnRvIG9kZHMgYW5kIGV2ZW5zIG9ic2VydmFibGVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBwYXJ0aXRpb24gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBvYnNlcnZhYmxlVmFsdWVzID0gb2YoMSwgMiwgMywgNCwgNSwgNik7XG4gKiBjb25zdCBbZXZlbnMkLCBvZGRzJF0gPSBwYXJ0aXRpb24ob2JzZXJ2YWJsZVZhbHVlcywgdmFsdWUgPT4gdmFsdWUgJSAyID09PSAwKTtcbiAqXG4gKiBvZGRzJC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnb2RkcycsIHgpKTtcbiAqIGV2ZW5zJC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnZXZlbnMnLCB4KSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIG9kZHMgMVxuICogLy8gb2RkcyAzXG4gKiAvLyBvZGRzIDVcbiAqIC8vIGV2ZW5zIDJcbiAqIC8vIGV2ZW5zIDRcbiAqIC8vIGV2ZW5zIDZcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZpbHRlcn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKTogYm9vbGVhbn0gcHJlZGljYXRlIEEgZnVuY3Rpb24gdGhhdFxuICogZXZhbHVhdGVzIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIGl0IHJldHVybnMgYHRydWVgLFxuICogdGhlIHZhbHVlIGlzIGVtaXR0ZWQgb24gdGhlIGZpcnN0IE9ic2VydmFibGUgaW4gdGhlIHJldHVybmVkIGFycmF5LCBpZlxuICogYGZhbHNlYCB0aGUgdmFsdWUgaXMgZW1pdHRlZCBvbiB0aGUgc2Vjb25kIE9ic2VydmFibGUgaW4gdGhlIGFycmF5LiBUaGVcbiAqIGBpbmRleGAgcGFyYW1ldGVyIGlzIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBzb3VyY2UgZW1pc3Npb24gdGhhdCBoYXNcbiAqIGhhcHBlbmVkIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIHN0YXJ0aW5nIGZyb20gdGhlIG51bWJlciBgMGAuXG4gKiBAcGFyYW0ge2FueX0gW3RoaXNBcmddIEFuIG9wdGlvbmFsIGFyZ3VtZW50IHRvIGRldGVybWluZSB0aGUgdmFsdWUgb2YgYHRoaXNgXG4gKiBpbiB0aGUgYHByZWRpY2F0ZWAgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtbT2JzZXJ2YWJsZTxUPiwgT2JzZXJ2YWJsZTxUPl19IEFuIGFycmF5IHdpdGggdHdvIE9ic2VydmFibGVzOiBvbmVcbiAqIHdpdGggdmFsdWVzIHRoYXQgcGFzc2VkIHRoZSBwcmVkaWNhdGUsIGFuZCBhbm90aGVyIHdpdGggdmFsdWVzIHRoYXQgZGlkIG5vdFxuICogcGFzcyB0aGUgcHJlZGljYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uPFQ+KFxuICBzb3VyY2U6IE9ic2VydmFibGVJbnB1dDxUPixcbiAgcHJlZGljYXRlOiAodGhpczogYW55LCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbixcbiAgdGhpc0FyZz86IGFueVxuKTogW09ic2VydmFibGU8VD4sIE9ic2VydmFibGU8VD5dIHtcbiAgcmV0dXJuIFtmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKShpbm5lckZyb20oc291cmNlKSksIGZpbHRlcihub3QocHJlZGljYXRlLCB0aGlzQXJnKSkoaW5uZXJGcm9tKHNvdXJjZSkpXSBhcyBbXG4gICAgT2JzZXJ2YWJsZTxUPixcbiAgICBPYnNlcnZhYmxlPFQ+XG4gIF07XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZhYmxlSW5wdXRUdXBsZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFyZ3NPckFyZ0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcmdzT3JBcmdBcnJheSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJhY2U8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oaW5wdXRzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8VD5dKTogT2JzZXJ2YWJsZTxUW251bWJlcl0+O1xuZXhwb3J0IGZ1bmN0aW9uIHJhY2U8VCBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uaW5wdXRzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8VD5dKTogT2JzZXJ2YWJsZTxUW251bWJlcl0+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIGZpcnN0IHNvdXJjZSBvYnNlcnZhYmxlIHRvIGVtaXQgYW4gaXRlbS5cbiAqXG4gKiAhW10ocmFjZS5wbmcpXG4gKlxuICogYHJhY2VgIHJldHVybnMgYW4gb2JzZXJ2YWJsZSwgdGhhdCB3aGVuIHN1YnNjcmliZWQgdG8sIHN1YnNjcmliZXMgdG8gYWxsIHNvdXJjZSBvYnNlcnZhYmxlcyBpbW1lZGlhdGVseS5cbiAqIEFzIHNvb24gYXMgb25lIG9mIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZXMgZW1pdHMgYSB2YWx1ZSwgdGhlIHJlc3VsdCB1bnN1YnNjcmliZXMgZnJvbSB0aGUgb3RoZXIgc291cmNlcy5cbiAqIFRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIGZvcndhcmQgYWxsIG5vdGlmaWNhdGlvbnMsIGluY2x1ZGluZyBlcnJvciBhbmQgY29tcGxldGlvbiwgZnJvbSB0aGUgXCJ3aW5uaW5nXCJcbiAqIHNvdXJjZSBvYnNlcnZhYmxlLlxuICpcbiAqIElmIG9uZSBvZiB0aGUgdXNlZCBzb3VyY2Ugb2JzZXJ2YWJsZSB0aHJvd3MgYW4gZXJyb3JzIGJlZm9yZSBhIGZpcnN0IG5vdGlmaWNhdGlvblxuICogdGhlIHJhY2Ugb3BlcmF0b3Igd2lsbCBhbHNvIHRocm93IGFuIGVycm9yLCBubyBtYXR0ZXIgaWYgYW5vdGhlciBzb3VyY2Ugb2JzZXJ2YWJsZVxuICogY291bGQgcG90ZW50aWFsbHkgd2luIHRoZSByYWNlLlxuICpcbiAqIGByYWNlYCBjYW4gYmUgdXNlZnVsIGZvciBzZWxlY3RpbmcgdGhlIHJlc3BvbnNlIGZyb20gdGhlIGZhc3Rlc3QgbmV0d29yayBjb25uZWN0aW9uIGZvclxuICogSFRUUCBvciBXZWJTb2NrZXRzLiBgcmFjZWAgY2FuIGFsc28gYmUgdXNlZnVsIGZvciBzd2l0Y2hpbmcgb2JzZXJ2YWJsZSBjb250ZXh0IGJhc2VkIG9uIHVzZXJcbiAqIGlucHV0LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTdWJzY3JpYmVzIHRvIHRoZSBvYnNlcnZhYmxlIHRoYXQgd2FzIHRoZSBmaXJzdCB0byBzdGFydCBlbWl0dGluZy5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIG1hcCwgcmFjZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9iczEgPSBpbnRlcnZhbCg3MDAwKS5waXBlKG1hcCgoKSA9PiAnc2xvdyBvbmUnKSk7XG4gKiBjb25zdCBvYnMyID0gaW50ZXJ2YWwoMzAwMCkucGlwZShtYXAoKCkgPT4gJ2Zhc3Qgb25lJykpO1xuICogY29uc3Qgb2JzMyA9IGludGVydmFsKDUwMDApLnBpcGUobWFwKCgpID0+ICdtZWRpdW0gb25lJykpO1xuICpcbiAqIHJhY2Uob2JzMSwgb2JzMiwgb2JzMylcbiAqICAgLnN1YnNjcmliZSh3aW5uZXIgPT4gY29uc29sZS5sb2cod2lubmVyKSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gYSBzZXJpZXMgb2YgJ2Zhc3Qgb25lJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIHsuLi5PYnNlcnZhYmxlc30gLi4ub2JzZXJ2YWJsZXMgc291cmNlcyB1c2VkIHRvIHJhY2UgZm9yIHdoaWNoIE9ic2VydmFibGUgZW1pdHMgZmlyc3QuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgb3V0cHV0IG9mIHRoZSBmaXJzdCBPYnNlcnZhYmxlIHRvIGVtaXQgYW4gaXRlbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhY2U8VD4oLi4uc291cmNlczogKE9ic2VydmFibGVJbnB1dDxUPiB8IE9ic2VydmFibGVJbnB1dDxUPltdKVtdKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgc291cmNlcyA9IGFyZ3NPckFyZ0FycmF5KHNvdXJjZXMpO1xuICAvLyBJZiBvbmx5IG9uZSBzb3VyY2Ugd2FzIHBhc3NlZCwganVzdCByZXR1cm4gaXQuIE90aGVyd2lzZSByZXR1cm4gdGhlIHJhY2UuXG4gIHJldHVybiBzb3VyY2VzLmxlbmd0aCA9PT0gMSA/IGlubmVyRnJvbShzb3VyY2VzWzBdIGFzIE9ic2VydmFibGVJbnB1dDxUPikgOiBuZXcgT2JzZXJ2YWJsZTxUPihyYWNlSW5pdChzb3VyY2VzIGFzIE9ic2VydmFibGVJbnB1dDxUPltdKSk7XG59XG5cbi8qKlxuICogQW4gb2JzZXJ2YWJsZSBpbml0aWFsaXplciBmdW5jdGlvbiBmb3IgYm90aCB0aGUgc3RhdGljIHZlcnNpb24gYW5kIHRoZVxuICogb3BlcmF0b3IgdmVyc2lvbiBvZiByYWNlLlxuICogQHBhcmFtIHNvdXJjZXMgVGhlIHNvdXJjZXMgdG8gcmFjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFjZUluaXQ8VD4oc291cmNlczogT2JzZXJ2YWJsZUlucHV0PFQ+W10pIHtcbiAgcmV0dXJuIChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiB7XG4gICAgbGV0IHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gYWxsIG9mIHRoZSBzb3VyY2VzLiBOb3RlIHRoYXQgd2UgYXJlIGNoZWNraW5nIGBzdWJzY3JpcHRpb25zYCBoZXJlXG4gICAgLy8gSXMgaXMgYW4gYXJyYXkgb2YgYWxsIGFjdGl2ZWx5IFwicmFjaW5nXCIgc3Vic2NyaXB0aW9ucywgYW5kIGl0IGlzIGBudWxsYCBhZnRlciB0aGVcbiAgICAvLyByYWNlIGhhcyBiZWVuIHdvbi4gU28sIGlmIHdlIGhhdmUgcmFjZXIgdGhhdCBzeW5jaHJvbm91c2x5IFwid2luc1wiLCB0aGlzIGxvb3Agd2lsbFxuICAgIC8vIHN0b3AgYmVmb3JlIGl0IHN1YnNjcmliZXMgdG8gYW55IG1vcmUuXG4gICAgZm9yIChsZXQgaSA9IDA7IHN1YnNjcmlwdGlvbnMgJiYgIXN1YnNjcmliZXIuY2xvc2VkICYmIGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICAgIGlubmVyRnJvbShzb3VyY2VzW2ldIGFzIE9ic2VydmFibGVJbnB1dDxUPikuc3Vic2NyaWJlKFxuICAgICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgIC8vIFdlJ3JlIHN0aWxsIHJhY2luZywgYnV0IHdlIHdvbiEgU28gdW5zdWJzY3JpYmVcbiAgICAgICAgICAgICAgLy8gYWxsIG90aGVyIHN1YnNjcmlwdGlvbnMgdGhhdCB3ZSBoYXZlLCBleGNlcHQgdGhpcyBvbmUuXG4gICAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgc3Vic2NyaXB0aW9ucy5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgICAgIHMgIT09IGkgJiYgc3Vic2NyaXB0aW9uc1tzXS51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMgPSBudWxsITtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0OiBudW1iZXIsIGNvdW50PzogbnVtYmVyKTogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHJhbmdlKHN0YXJ0LCBjb3VudCkucGlwZShvYnNlcnZlT24oc2NoZWR1bGVyKSlgIGluc3RlYWQuIERldGFpbHM6IERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3NjaGVkdWxlci1hcmd1bWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQ6IG51bWJlciwgY291bnQ6IG51bWJlciB8IHVuZGVmaW5lZCwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGEgc2VxdWVuY2Ugb2YgbnVtYmVycyB3aXRoaW4gYSBzcGVjaWZpZWRcbiAqIHJhbmdlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FbWl0cyBhIHNlcXVlbmNlIG9mIG51bWJlcnMgaW4gYSByYW5nZS48L3NwYW4+XG4gKlxuICogIVtdKHJhbmdlLnBuZylcbiAqXG4gKiBgcmFuZ2VgIG9wZXJhdG9yIGVtaXRzIGEgcmFuZ2Ugb2Ygc2VxdWVudGlhbCBpbnRlZ2VycywgaW4gb3JkZXIsIHdoZXJlIHlvdVxuICogc2VsZWN0IHRoZSBgc3RhcnRgIG9mIHRoZSByYW5nZSBhbmQgaXRzIGBsZW5ndGhgLiBCeSBkZWZhdWx0LCB1c2VzIG5vXG4gKiB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gYW5kIGp1c3QgZGVsaXZlcnMgdGhlIG5vdGlmaWNhdGlvbnMgc3luY2hyb25vdXNseSwgYnV0IG1heSB1c2VcbiAqIGFuIG9wdGlvbmFsIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byByZWd1bGF0ZSB0aG9zZSBkZWxpdmVyaWVzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBQcm9kdWNlIGEgcmFuZ2Ugb2YgbnVtYmVyc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyByYW5nZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG51bWJlcnMgPSByYW5nZSgxLCAzKTtcbiAqXG4gKiBudW1iZXJzLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdDb21wbGV0ZSEnKVxuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vICdDb21wbGV0ZSEnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB0aW1lcn1cbiAqIEBzZWUge0BsaW5rIGludGVydmFsfVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnRlZ2VyIGluIHRoZSBzZXF1ZW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCBUaGUgbnVtYmVyIG9mIHNlcXVlbnRpYWwgaW50ZWdlcnMgdG8gZ2VuZXJhdGUuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXJdIEEge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHVzZSBmb3Igc2NoZWR1bGluZ1xuICogdGhlIGVtaXNzaW9ucyBvZiB0aGUgbm90aWZpY2F0aW9ucy5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgb2YgbnVtYmVycyB0aGF0IGVtaXRzIGEgZmluaXRlIHJhbmdlIG9mXG4gKiBzZXF1ZW50aWFsIGludGVnZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQ6IG51bWJlciwgY291bnQ/OiBudW1iZXIsIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICBpZiAoY291bnQgPT0gbnVsbCkge1xuICAgIC8vIElmIG9uZSBhcmd1bWVudCB3YXMgcGFzc2VkLCBpdCdzIHRoZSBjb3VudCwgbm90IHRoZSBzdGFydC5cbiAgICBjb3VudCA9IHN0YXJ0O1xuICAgIHN0YXJ0ID0gMDtcbiAgfVxuXG4gIGlmIChjb3VudCA8PSAwKSB7XG4gICAgLy8gTm8gY291bnQ/IFdlJ3JlIGdvaW5nIG5vd2hlcmUuIFJldHVybiBFTVBUWS5cbiAgICByZXR1cm4gRU1QVFk7XG4gIH1cblxuICAvLyBXaGVyZSB0aGUgcmFuZ2Ugc2hvdWxkIHN0b3AuXG4gIGNvbnN0IGVuZCA9IGNvdW50ICsgc3RhcnQ7XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKFxuICAgIHNjaGVkdWxlclxuICAgICAgPyAvLyBUaGUgZGVwcmVjYXRlZCBzY2hlZHVsZWQgcGF0aC5cbiAgICAgICAgKHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgICBsZXQgbiA9IHN0YXJ0O1xuICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG4gPCBlbmQpIHtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG4gICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgOiAvLyBTdGFuZGFyZCBzeW5jaHJvbm91cyByYW5nZS5cbiAgICAgICAgKHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgICBsZXQgbiA9IHN0YXJ0O1xuICAgICAgICAgIHdoaWxlIChuIDwgZW5kICYmICFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICApO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgY3JlYXRlIGFuIGVycm9yIGluc3RhbmNlIGFuZCBwdXNoIGl0IHRvIHRoZSBjb25zdW1lciBhcyBhbiBlcnJvclxuICogaW1tZWRpYXRlbHkgdXBvbiBzdWJzY3JpcHRpb24uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkp1c3QgZXJyb3JzIGFuZCBkb2VzIG5vdGhpbmcgZWxzZTwvc3Bhbj5cbiAqXG4gKiAhW10odGhyb3cucG5nKVxuICpcbiAqIFRoaXMgY3JlYXRpb24gZnVuY3Rpb24gaXMgdXNlZnVsIGZvciBjcmVhdGluZyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBjcmVhdGUgYW4gZXJyb3IgYW5kIGVycm9yIGV2ZXJ5XG4gKiB0aW1lIGl0IGlzIHN1YnNjcmliZWQgdG8uIEdlbmVyYWxseSwgaW5zaWRlIG9mIG1vc3Qgb3BlcmF0b3JzIHdoZW4geW91IG1pZ2h0IHdhbnQgdG8gcmV0dXJuIGFuIGVycm9yZWRcbiAqIG9ic2VydmFibGUsIHRoaXMgaXMgdW5uZWNlc3NhcnkuIEluIG1vc3QgY2FzZXMsIHN1Y2ggYXMgaW4gdGhlIGlubmVyIHJldHVybiBvZiB7QGxpbmsgY29uY2F0TWFwfSxcbiAqIHtAbGluayBtZXJnZU1hcH0sIHtAbGluayBkZWZlcn0sIGFuZCBtYW55IG90aGVycywgeW91IGNhbiBzaW1wbHkgdGhyb3cgdGhlIGVycm9yLCBhbmQgUnhKUyB3aWxsIHBpY2tcbiAqIHRoYXQgdXAgYW5kIG5vdGlmeSB0aGUgY29uc3VtZXIgb2YgdGhlIGVycm9yLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBDcmVhdGUgYSBzaW1wbGUgb2JzZXJ2YWJsZSB0aGF0IHdpbGwgY3JlYXRlIGEgbmV3IGVycm9yIHdpdGggYSB0aW1lc3RhbXAgYW5kIGxvZyBpdFxuICogYW5kIHRoZSBtZXNzYWdlIGV2ZXJ5IHRpbWUgeW91IHN1YnNjcmliZSB0byBpdFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG4gKlxuICogbGV0IGVycm9yQ291bnQgPSAwO1xuICpcbiAqIGNvbnN0IGVycm9yV2l0aFRpbWVzdGFtcCQgPSB0aHJvd0Vycm9yKCgpID0+IHtcbiAqICAgY29uc3QgZXJyb3I6IGFueSA9IG5ldyBFcnJvcihgVGhpcyBpcyBlcnJvciBudW1iZXIgJHsgKytlcnJvckNvdW50IH1gKTtcbiAqICAgZXJyb3IudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAqICAgcmV0dXJuIGVycm9yO1xuICogfSk7XG4gKlxuICogZXJyb3JXaXRoVGltZXN0YW1wJC5zdWJzY3JpYmUoe1xuICogICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKGVyci50aW1lc3RhbXAsIGVyci5tZXNzYWdlKVxuICogfSk7XG4gKlxuICogZXJyb3JXaXRoVGltZXN0YW1wJC5zdWJzY3JpYmUoe1xuICogICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKGVyci50aW1lc3RhbXAsIGVyci5tZXNzYWdlKVxuICogfSk7XG4gKlxuICogLy8gTG9ncyB0aGUgdGltZXN0YW1wIGFuZCBhIG5ldyBlcnJvciBtZXNzYWdlIGZvciBlYWNoIHN1YnNjcmlwdGlvblxuICogYGBgXG4gKlxuICogIyMjIFVubmVjZXNzYXJ5IHVzYWdlXG4gKlxuICogVXNpbmcgYHRocm93RXJyb3JgIGluc2lkZSBvZiBhbiBvcGVyYXRvciBvciBjcmVhdGlvbiBmdW5jdGlvblxuICogd2l0aCBhIGNhbGxiYWNrLCBpcyB1c3VhbGx5IG5vdCBuZWNlc3NhcnlcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGNvbmNhdE1hcCwgdGltZXIsIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBkZWxheXMkID0gb2YoMTAwMCwgMjAwMCwgSW5maW5pdHksIDMwMDApO1xuICpcbiAqIGRlbGF5cyQucGlwZShcbiAqICAgY29uY2F0TWFwKG1zID0+IHtcbiAqICAgICBpZiAobXMgPCAxMDAwMCkge1xuICogICAgICAgcmV0dXJuIHRpbWVyKG1zKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBvdmVya2lsbC5cbiAqICAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IG5ldyBFcnJvcihgSW52YWxpZCB0aW1lICR7IG1zIH1gKSk7XG4gKiAgICAgfVxuICogICB9KVxuICogKVxuICogLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IGNvbnNvbGUubG9nLFxuICogICBlcnJvcjogY29uc29sZS5lcnJvclxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGp1c3QgdGhyb3cgdGhlIGVycm9yIGluc3RlYWRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGNvbmNhdE1hcCwgdGltZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBkZWxheXMkID0gb2YoMTAwMCwgMjAwMCwgSW5maW5pdHksIDMwMDApO1xuICpcbiAqIGRlbGF5cyQucGlwZShcbiAqICAgY29uY2F0TWFwKG1zID0+IHtcbiAqICAgICBpZiAobXMgPCAxMDAwMCkge1xuICogICAgICAgcmV0dXJuIHRpbWVyKG1zKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgLy8gQ2xlYW5lciBhbmQgZWFzaWVyIHRvIHJlYWQgZm9yIG1vc3QgZm9sa3MuXG4gKiAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGltZSAkeyBtcyB9YCk7XG4gKiAgICAgfVxuICogICB9KVxuICogKVxuICogLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IGNvbnNvbGUubG9nLFxuICogICBlcnJvcjogY29uc29sZS5lcnJvclxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZXJyb3JGYWN0b3J5IEEgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHdpbGwgY3JlYXRlIHRoZSBlcnJvciBpbnN0YW5jZSB0aGF0IGlzIHB1c2hlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3JGYWN0b3J5OiAoKSA9PiBhbnkpOiBPYnNlcnZhYmxlPG5ldmVyPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBlcnJvciBpbW1lZGlhdGVseSB1cG9uIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAcGFyYW0gZXJyb3IgVGhlIGVycm9yIGluc3RhbmNlIHRvIGVtaXRcbiAqIEBkZXByZWNhdGVkIFN1cHBvcnQgZm9yIHBhc3NpbmcgYW4gZXJyb3IgdmFsdWUgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBJbnN0ZWFkLCBwYXNzIGEgZmFjdG9yeSBmdW5jdGlvbiB0byBgdGhyb3dFcnJvcigoKSA9PiBuZXcgRXJyb3IoJ3Rlc3QnKSlgLiBUaGlzIGlzXG4gKiBiZWNhdXNlIGl0IHdpbGwgY3JlYXRlIHRoZSBlcnJvciBhdCB0aGUgbW9tZW50IGl0IHNob3VsZCBiZSBjcmVhdGVkIGFuZCBjYXB0dXJlIGEgbW9yZSBhcHByb3ByaWF0ZSBzdGFjayB0cmFjZS4gSWZcbiAqIGZvciBzb21lIHJlYXNvbiB5b3UgbmVlZCB0byBjcmVhdGUgdGhlIGVycm9yIGFoZWFkIG9mIHRpbWUsIHlvdSBjYW4gc3RpbGwgZG8gdGhhdDogYGNvbnN0IGVyciA9IG5ldyBFcnJvcigndGVzdCcpOyB0aHJvd0Vycm9yKCgpID0+IGVycik7YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3I6IGFueSk6IE9ic2VydmFibGU8bmV2ZXI+O1xuXG4vKipcbiAqIE5vdGlmaWVzIHRoZSBjb25zdW1lciBvZiBhbiBlcnJvciB1c2luZyBhIGdpdmVuIHNjaGVkdWxlciBieSBzY2hlZHVsaW5nIGl0IGF0IGRlbGF5IGAwYCB1cG9uIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAcGFyYW0gZXJyb3JPckVycm9yRmFjdG9yeSBBbiBlcnJvciBpbnN0YW5jZSBvciBlcnJvciBmYWN0b3J5XG4gKiBAcGFyYW0gc2NoZWR1bGVyIEEgc2NoZWR1bGVyIHRvIHVzZSB0byBzY2hlZHVsZSB0aGUgZXJyb3Igbm90aWZpY2F0aW9uXG4gKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqIFVzZSBgdGhyb3dFcnJvcmAgaW4gY29tYmluYXRpb24gd2l0aCB7QGxpbmsgb2JzZXJ2ZU9ufTogYHRocm93RXJyb3IoKCkgPT4gbmV3IEVycm9yKCd0ZXN0JykpLnBpcGUob2JzZXJ2ZU9uKHNjaGVkdWxlcikpO2AuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3JPckVycm9yRmFjdG9yeTogYW55LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPG5ldmVyPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3JPckVycm9yRmFjdG9yeTogYW55LCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxuZXZlcj4ge1xuICBjb25zdCBlcnJvckZhY3RvcnkgPSBpc0Z1bmN0aW9uKGVycm9yT3JFcnJvckZhY3RvcnkpID8gZXJyb3JPckVycm9yRmFjdG9yeSA6ICgpID0+IGVycm9yT3JFcnJvckZhY3Rvcnk7XG4gIGNvbnN0IGluaXQgPSAoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxuZXZlcj4pID0+IHN1YnNjcmliZXIuZXJyb3IoZXJyb3JGYWN0b3J5KCkpO1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoc2NoZWR1bGVyID8gKHN1YnNjcmliZXIpID0+IHNjaGVkdWxlci5zY2hlZHVsZShpbml0IGFzIGFueSwgMCwgc3Vic2NyaWJlcikgOiBpbml0KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhc3luYyBhcyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCB3YWl0IGZvciBhIHNwZWNpZmllZCB0aW1lIHBlcmlvZCwgb3IgZXhhY3QgZGF0ZSwgYmVmb3JlXG4gKiBlbWl0dGluZyB0aGUgbnVtYmVyIDAuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZWQgdG8gZW1pdCBhIG5vdGlmaWNhdGlvbiBhZnRlciBhIGRlbGF5Ljwvc3Bhbj5cbiAqXG4gKiBUaGlzIG9ic2VydmFibGUgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBkZWxheXMgaW4gY29kZSwgb3IgcmFjaW5nIGFnYWluc3Qgb3RoZXIgdmFsdWVzXG4gKiBmb3IgYWQtaG9jIHRpbWVvdXRzLlxuICpcbiAqIFRoZSBgZGVsYXlgIGlzIHNwZWNpZmllZCBieSBkZWZhdWx0IGluIG1pbGxpc2Vjb25kcywgaG93ZXZlciBwcm92aWRpbmcgYSBjdXN0b20gc2NoZWR1bGVyIGNvdWxkXG4gKiBjcmVhdGUgYSBkaWZmZXJlbnQgYmVoYXZpb3IuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBXYWl0IDMgc2Vjb25kcyBhbmQgc3RhcnQgYW5vdGhlciBvYnNlcnZhYmxlXG4gKlxuICogWW91IG1pZ2h0IHdhbnQgdG8gdXNlIGB0aW1lcmAgdG8gZGVsYXkgc3Vic2NyaXB0aW9uIHRvIGFuXG4gKiBvYnNlcnZhYmxlIGJ5IGEgc2V0IGFtb3VudCBvZiB0aW1lLiBIZXJlIHdlIHVzZSBhIHRpbWVyIHdpdGhcbiAqIHtAbGluayBjb25jYXRNYXBUb30gb3Ige0BsaW5rIGNvbmNhdE1hcH0gaW4gb3JkZXIgdG8gd2FpdFxuICogYSBmZXcgc2Vjb25kcyBhbmQgc3RhcnQgYSBzdWJzY3JpcHRpb24gdG8gYSBzb3VyY2UuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCB0aW1lciwgY29uY2F0TWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gVGhpcyBjb3VsZCBiZSBhbnkgb2JzZXJ2YWJsZVxuICogY29uc3Qgc291cmNlID0gb2YoMSwgMiwgMyk7XG4gKlxuICogdGltZXIoMzAwMClcbiAqICAgLnBpcGUoY29uY2F0TWFwKCgpID0+IHNvdXJjZSkpXG4gKiAgIC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogVGFrZSBhbGwgdmFsdWVzIHVudGlsIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBtaW51dGVcbiAqXG4gKiBVc2luZyBhIGBEYXRlYCBhcyB0aGUgdHJpZ2dlciBmb3IgdGhlIGZpcnN0IGVtaXNzaW9uLCB5b3UgY2FuXG4gKiBkbyB0aGluZ3MgbGlrZSB3YWl0IHVudGlsIG1pZG5pZ2h0IHRvIGZpcmUgYW4gZXZlbnQsIG9yIGluIHRoaXMgY2FzZSxcbiAqIHdhaXQgdW50aWwgYSBuZXcgbWludXRlIHN0YXJ0cyAoY2hvc2VuIHNvIHRoZSBleGFtcGxlIHdvdWxkbid0IHRha2VcbiAqIHRvbyBsb25nIHRvIHJ1bikgaW4gb3JkZXIgdG8gc3RvcCB3YXRjaGluZyBhIHN0cmVhbS4gTGV2ZXJhZ2luZ1xuICoge0BsaW5rIHRha2VVbnRpbH0uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlVW50aWwsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gQnVpbGQgYSBEYXRlIG9iamVjdCB0aGF0IG1hcmtzIHRoZVxuICogLy8gbmV4dCBtaW51dGUuXG4gKiBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gKiBjb25zdCBzdGFydE9mTmV4dE1pbnV0ZSA9IG5ldyBEYXRlKFxuICogICBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICogICBjdXJyZW50RGF0ZS5nZXRNb250aCgpLFxuICogICBjdXJyZW50RGF0ZS5nZXREYXRlKCksXG4gKiAgIGN1cnJlbnREYXRlLmdldEhvdXJzKCksXG4gKiAgIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKSArIDFcbiAqICk7XG4gKlxuICogLy8gVGhpcyBjb3VsZCBiZSBhbnkgb2JzZXJ2YWJsZSBzdHJlYW1cbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKFxuICogICB0YWtlVW50aWwodGltZXIoc3RhcnRPZk5leHRNaW51dGUpKVxuICogKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIGBgYFxuICpcbiAqICMjIyBLbm93biBMaW1pdGF0aW9uc1xuICpcbiAqIC0gVGhlIHtAbGluayBhc3luY1NjaGVkdWxlcn0gdXNlcyBgc2V0VGltZW91dGAgd2hpY2ggaGFzIGxpbWl0YXRpb25zIGZvciBob3cgZmFyIGluIHRoZSBmdXR1cmUgaXQgY2FuIGJlIHNjaGVkdWxlZC5cbiAqXG4gKiAtIElmIGEgYHNjaGVkdWxlcmAgaXMgcHJvdmlkZWQgdGhhdCByZXR1cm5zIGEgdGltZXN0YW1wIG90aGVyIHRoYW4gYW4gZXBvY2ggZnJvbSBgbm93KClgLCBhbmRcbiAqIGEgYERhdGVgIG9iamVjdCBpcyBwYXNzZWQgdG8gdGhlIGBkdWVUaW1lYCBhcmd1bWVudCwgdGhlIGNhbGN1bGF0aW9uIGZvciB3aGVuIHRoZSBmaXJzdCBlbWlzc2lvblxuICogc2hvdWxkIG9jY3VyIHdpbGwgYmUgaW5jb3JyZWN0LiBJbiB0aGlzIGNhc2UsIGl0IHdvdWxkIGJlIGJlc3QgdG8gZG8geW91ciBvd24gY2FsY3VsYXRpb25zXG4gKiBhaGVhZCBvZiB0aW1lLCBhbmQgcGFzcyBhIGBudW1iZXJgIGluIGFzIHRoZSBgZHVlVGltZWAuXG4gKlxuICogQHBhcmFtIGR1ZSBJZiBhIGBudW1iZXJgLCB0aGUgYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGVtaXR0aW5nLlxuICogSWYgYSBgRGF0ZWAsIHRoZSBleGFjdCB0aW1lIGF0IHdoaWNoIHRvIGVtaXQuXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlIHRvIHNjaGVkdWxlIHRoZSBkZWxheS4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZTogbnVtYmVyIHwgRGF0ZSwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8MD47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlIHRoYXQgc3RhcnRzIGFuIGludGVydmFsIGFmdGVyIGEgc3BlY2lmaWVkIGRlbGF5LCBlbWl0dGluZyBpbmNyZW1lbnRpbmcgbnVtYmVycyAtLSBzdGFydGluZyBhdCBgMGAgLS1cbiAqIG9uIGVhY2ggaW50ZXJ2YWwgYWZ0ZXIgd29yZHMuXG4gKlxuICogVGhlIGBkZWxheWAgYW5kIGBpbnRlcnZhbER1cmF0aW9uYCBhcmUgc3BlY2lmaWVkIGJ5IGRlZmF1bHQgaW4gbWlsbGlzZWNvbmRzLCBob3dldmVyIHByb3ZpZGluZyBhIGN1c3RvbSBzY2hlZHVsZXIgY291bGRcbiAqIGNyZWF0ZSBhIGRpZmZlcmVudCBiZWhhdmlvci5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogIyMjIFN0YXJ0IGFuIGludGVydmFsIHRoYXQgc3RhcnRzIHJpZ2h0IGF3YXlcbiAqXG4gKiBTaW5jZSB7QGxpbmsgaW50ZXJ2YWx9IHdhaXRzIGZvciB0aGUgcGFzc2VkIGRlbGF5IGJlZm9yZSBzdGFydGluZyxcbiAqIHNvbWV0aW1lcyB0aGF0J3Mgbm90IGlkZWFsLiBZb3UgbWF5IHdhbnQgdG8gc3RhcnQgYW4gaW50ZXJ2YWwgaW1tZWRpYXRlbHkuXG4gKiBgdGltZXJgIHdvcmtzIHdlbGwgZm9yIHRoaXMuIEhlcmUgd2UgaGF2ZSBib3RoIHNpZGUtYnktc2lkZSBzbyB5b3UgY2FuXG4gKiBzZWUgdGhlbSBpbiBjb21wYXJpc29uLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG9ic2VydmFibGUgd2lsbCBuZXZlciBjb21wbGV0ZS5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdGltZXIsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogdGltZXIoMCwgMTAwMCkuc3Vic2NyaWJlKG4gPT4gY29uc29sZS5sb2coJ3RpbWVyJywgbikpO1xuICogaW50ZXJ2YWwoMTAwMCkuc3Vic2NyaWJlKG4gPT4gY29uc29sZS5sb2coJ2ludGVydmFsJywgbikpO1xuICogYGBgXG4gKlxuICogIyMjIEtub3duIExpbWl0YXRpb25zXG4gKlxuICogLSBUaGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSB1c2VzIGBzZXRUaW1lb3V0YCB3aGljaCBoYXMgbGltaXRhdGlvbnMgZm9yIGhvdyBmYXIgaW4gdGhlIGZ1dHVyZSBpdCBjYW4gYmUgc2NoZWR1bGVkLlxuICpcbiAqIC0gSWYgYSBgc2NoZWR1bGVyYCBpcyBwcm92aWRlZCB0aGF0IHJldHVybnMgYSB0aW1lc3RhbXAgb3RoZXIgdGhhbiBhbiBlcG9jaCBmcm9tIGBub3coKWAsIGFuZFxuICogYSBgRGF0ZWAgb2JqZWN0IGlzIHBhc3NlZCB0byB0aGUgYGR1ZVRpbWVgIGFyZ3VtZW50LCB0aGUgY2FsY3VsYXRpb24gZm9yIHdoZW4gdGhlIGZpcnN0IGVtaXNzaW9uXG4gKiBzaG91bGQgb2NjdXIgd2lsbCBiZSBpbmNvcnJlY3QuIEluIHRoaXMgY2FzZSwgaXQgd291bGQgYmUgYmVzdCB0byBkbyB5b3VyIG93biBjYWxjdWxhdGlvbnNcbiAqIGFoZWFkIG9mIHRpbWUsIGFuZCBwYXNzIGEgYG51bWJlcmAgaW4gYXMgdGhlIGBzdGFydER1ZWAuXG4gKiBAcGFyYW0gc3RhcnREdWUgSWYgYSBgbnVtYmVyYCwgaXMgdGhlIHRpbWUgdG8gd2FpdCBiZWZvcmUgc3RhcnRpbmcgdGhlIGludGVydmFsLlxuICogSWYgYSBgRGF0ZWAsIGlzIHRoZSBleGFjdCB0aW1lIGF0IHdoaWNoIHRvIHN0YXJ0IHRoZSBpbnRlcnZhbC5cbiAqIEBwYXJhbSBpbnRlcnZhbER1cmF0aW9uIFRoZSBkZWxheSBiZXR3ZWVuIGVhY2ggdmFsdWUgZW1pdHRlZCBpbiB0aGUgaW50ZXJ2YWwuIFBhc3NpbmcgYVxuICogbmVnYXRpdmUgbnVtYmVyIGhlcmUgd2lsbCByZXN1bHQgaW4gaW1tZWRpYXRlIGNvbXBsZXRpb24gYWZ0ZXIgdGhlIGZpcnN0IHZhbHVlIGlzIGVtaXR0ZWQsIGFzIHRob3VnaFxuICogbm8gYGludGVydmFsRHVyYXRpb25gIHdhcyBwYXNzZWQgYXQgYWxsLlxuICogQHBhcmFtIHNjaGVkdWxlciBUaGUgc2NoZWR1bGVyIHRvIHVzZSB0byBzY2hlZHVsZSB0aGUgZGVsYXkuIERlZmF1bHRzIHRvIHtAbGluayBhc3luY1NjaGVkdWxlcn0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihzdGFydER1ZTogbnVtYmVyIHwgRGF0ZSwgaW50ZXJ2YWxEdXJhdGlvbjogbnVtYmVyLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBzaWduYXR1cmUgYWxsb3dpbmcgYHVuZGVmaW5lZGAgdG8gYmUgcGFzc2VkIGZvciBgaW50ZXJ2YWxEdXJhdGlvbmAgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgdGhlIGB0aW1lcihkdWVUaW1lLCBzY2hlZHVsZXI/KWAgc2lnbmF0dXJlIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lOiBudW1iZXIgfCBEYXRlLCB1bnVzZWQ6IHVuZGVmaW5lZCwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8MD47XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihcbiAgZHVlVGltZTogbnVtYmVyIHwgRGF0ZSA9IDAsXG4gIGludGVydmFsT3JTY2hlZHVsZXI/OiBudW1iZXIgfCBTY2hlZHVsZXJMaWtlLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlclxuKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgLy8gU2luY2UgbmVnYXRpdmUgaW50ZXJ2YWxEdXJhdGlvbiBpcyB0cmVhdGVkIGFzIHRob3VnaCBub1xuICAvLyBpbnRlcnZhbCB3YXMgc3BlY2lmaWVkIGF0IGFsbCwgd2Ugc3RhcnQgd2l0aCBhIG5lZ2F0aXZlIG51bWJlci5cbiAgbGV0IGludGVydmFsRHVyYXRpb24gPSAtMTtcblxuICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhIHNlY29uZCBhcmd1bWVudCwgYW5kIGl0J3MgYSBzY2hlZHVsZXIsXG4gICAgLy8gb3ZlcnJpZGUgdGhlIHNjaGVkdWxlciB3ZSBoYWQgZGVmYXVsdGVkLiBPdGhlcndpc2UsXG4gICAgLy8gaXQgbXVzdCBiZSBhbiBpbnRlcnZhbC5cbiAgICBpZiAoaXNTY2hlZHVsZXIoaW50ZXJ2YWxPclNjaGVkdWxlcikpIHtcbiAgICAgIHNjaGVkdWxlciA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vdGUgdGhhdCB0aGlzICpjb3VsZCogYmUgbmVnYXRpdmUsIGluIHdoaWNoIGNhc2VcbiAgICAgIC8vIGl0J3MgbGlrZSBub3QgcGFzc2luZyBhbiBpbnRlcnZhbER1cmF0aW9uIGF0IGFsbC5cbiAgICAgIGludGVydmFsRHVyYXRpb24gPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIElmIGEgdmFsaWQgZGF0ZSBpcyBwYXNzZWQsIGNhbGN1bGF0ZSBob3cgbG9uZyB0byB3YWl0IGJlZm9yZVxuICAgIC8vIGV4ZWN1dGluZyB0aGUgZmlyc3QgdmFsdWUuLi4gb3RoZXJ3aXNlLCBpZiBpdCdzIGEgbnVtYmVyIGp1c3Qgc2NoZWR1bGVcbiAgICAvLyB0aGF0IG1hbnkgbWlsbGlzZWNvbmRzIChvciBzY2hlZHVsZXItc3BlY2lmaWVkIHVuaXQgc2l6ZSkgaW4gdGhlIGZ1dHVyZS5cbiAgICBsZXQgZHVlID0gaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlciEubm93KCkgOiBkdWVUaW1lO1xuXG4gICAgaWYgKGR1ZSA8IDApIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBkb24ndCBzY2hlZHVsZSBpbiB0aGUgZnV0dXJlLlxuICAgICAgZHVlID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgaW5jcmVtZW50aW5nIHZhbHVlIHdlIGVtaXQuXG4gICAgbGV0IG4gPSAwO1xuXG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyLlxuICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAvLyBFbWl0IHRoZSBuZXh0IHZhbHVlIGFuZCBpbmNyZW1lbnQuXG4gICAgICAgIHN1YnNjcmliZXIubmV4dChuKyspO1xuXG4gICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgaW50ZXJ2YWwgYWZ0ZXIgdGhlIGluaXRpYWwgdGltZXIsXG4gICAgICAgICAgLy8gcmVzY2hlZHVsZSB3aXRoIHRoZSBwZXJpb2QuXG4gICAgICAgICAgdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIGludGVydmFsRHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlIGRpZG4ndCBoYXZlIGFuIGludGVydmFsLiBTbyBqdXN0IGNvbXBsZXRlLlxuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIGR1ZSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgVW5zdWJzY3JpYmFibGUsIE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgdGhhdCB1c2VzIGEgcmVzb3VyY2Ugd2hpY2ggd2lsbCBiZSBkaXNwb3NlZCBhdCB0aGUgc2FtZSB0aW1lIGFzIHRoZSBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Vc2UgaXQgd2hlbiB5b3UgY2F0Y2ggeW91cnNlbGYgY2xlYW5pbmcgdXAgYWZ0ZXIgYW4gT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogYHVzaW5nYCBpcyBhIGZhY3Rvcnkgb3BlcmF0b3IsIHdoaWNoIGFjY2VwdHMgdHdvIGZ1bmN0aW9ucy4gRmlyc3QgZnVuY3Rpb24gcmV0dXJucyBhIGRpc3Bvc2FibGUgcmVzb3VyY2UuXG4gKiBJdCBjYW4gYmUgYW4gYXJiaXRyYXJ5IG9iamVjdCB0aGF0IGltcGxlbWVudHMgYHVuc3Vic2NyaWJlYCBtZXRob2QuIFNlY29uZCBmdW5jdGlvbiB3aWxsIGJlIGluamVjdGVkIHdpdGhcbiAqIHRoYXQgb2JqZWN0IGFuZCBzaG91bGQgcmV0dXJuIGFuIE9ic2VydmFibGUuIFRoYXQgT2JzZXJ2YWJsZSBjYW4gdXNlIHJlc291cmNlIG9iamVjdCBkdXJpbmcgaXRzIGV4ZWN1dGlvbi5cbiAqIEJvdGggZnVuY3Rpb25zIHBhc3NlZCB0byBgdXNpbmdgIHdpbGwgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgc29tZW9uZSBzdWJzY3JpYmVzIC0gbmVpdGhlciBhbiBPYnNlcnZhYmxlIG5vclxuICogcmVzb3VyY2Ugb2JqZWN0IHdpbGwgYmUgc2hhcmVkIGluIGFueSB3YXkgYmV0d2VlbiBzdWJzY3JpcHRpb25zLlxuICpcbiAqIFdoZW4gT2JzZXJ2YWJsZSByZXR1cm5lZCBieSBgdXNpbmdgIGlzIHN1YnNjcmliZWQsIE9ic2VydmFibGUgcmV0dXJuZWQgZnJvbSB0aGUgc2Vjb25kIGZ1bmN0aW9uIHdpbGwgYmUgc3Vic2NyaWJlZFxuICogYXMgd2VsbC4gQWxsIGl0cyBub3RpZmljYXRpb25zIChuZXh0ZWQgdmFsdWVzLCBjb21wbGV0aW9uIGFuZCBlcnJvciBldmVudHMpIHdpbGwgYmUgZW1pdHRlZCB1bmNoYW5nZWQgYnkgdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS4gSWYgaG93ZXZlciBzb21lb25lIHVuc3Vic2NyaWJlcyBmcm9tIHRoZSBPYnNlcnZhYmxlIG9yIHNvdXJjZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBvciBlcnJvcnMgYnkgaXRzZWxmLFxuICogdGhlIGB1bnN1YnNjcmliZWAgbWV0aG9kIG9uIHJlc291cmNlIG9iamVjdCB3aWxsIGJlIGNhbGxlZC4gVGhpcyBjYW4gYmUgdXNlZCB0byBkbyBhbnkgbmVjZXNzYXJ5IGNsZWFuIHVwLCB3aGljaFxuICogb3RoZXJ3aXNlIHdvdWxkIGhhdmUgdG8gYmUgaGFuZGxlZCBieSBoYW5kLiBOb3RlIHRoYXQgY29tcGxldGUgb3IgZXJyb3Igbm90aWZpY2F0aW9ucyBhcmUgbm90IGVtaXR0ZWQgd2hlbiBzb21lb25lXG4gKiBjYW5jZWxzIHN1YnNjcmlwdGlvbiB0byBhbiBPYnNlcnZhYmxlIHZpYSBgdW5zdWJzY3JpYmVgLCBzbyBgdXNpbmdgIGNhbiBiZSB1c2VkIGFzIGEgaG9vaywgYWxsb3dpbmcgeW91IHRvIG1ha2VcbiAqIHN1cmUgdGhhdCBhbGwgcmVzb3VyY2VzIHdoaWNoIG5lZWQgdG8gZXhpc3QgZHVyaW5nIGFuIE9ic2VydmFibGUgZXhlY3V0aW9uIHdpbGwgYmUgZGlzcG9zZWQgYXQgYXBwcm9wcmlhdGUgdGltZS5cbiAqXG4gKiBAc2VlIHtAbGluayBkZWZlcn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IElTdWJzY3JpcHRpb259IHJlc291cmNlRmFjdG9yeSBBIGZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYW55IHJlc291cmNlIG9iamVjdFxuICogdGhhdCBpbXBsZW1lbnRzIGB1bnN1YnNjcmliZWAgbWV0aG9kLlxuICogQHBhcmFtIHtmdW5jdGlvbihyZXNvdXJjZTogSVN1YnNjcmlwdGlvbik6IE9ic2VydmFibGU8VD59IG9ic2VydmFibGVGYWN0b3J5IEEgZnVuY3Rpb24gd2hpY2hcbiAqIGNyZWF0ZXMgYW4gT2JzZXJ2YWJsZSwgdGhhdCBjYW4gdXNlIGluamVjdGVkIHJlc291cmNlIG9iamVjdC5cbiAqIEByZXR1cm4ge09ic2VydmFibGU8VD59IEFuIE9ic2VydmFibGUgdGhhdCBiZWhhdmVzIHRoZSBzYW1lIGFzIE9ic2VydmFibGUgcmV0dXJuZWQgYnkgYG9ic2VydmFibGVGYWN0b3J5YCwgYnV0XG4gKiB3aGljaCAtIHdoZW4gY29tcGxldGVkLCBlcnJvcmVkIG9yIHVuc3Vic2NyaWJlZCAtIHdpbGwgYWxzbyBjYWxsIGB1bnN1YnNjcmliZWAgb24gY3JlYXRlZCByZXNvdXJjZSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2luZzxUIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICByZXNvdXJjZUZhY3Rvcnk6ICgpID0+IFVuc3Vic2NyaWJhYmxlIHwgdm9pZCxcbiAgb2JzZXJ2YWJsZUZhY3Rvcnk6IChyZXNvdXJjZTogVW5zdWJzY3JpYmFibGUgfCB2b2lkKSA9PiBUIHwgdm9pZFxuKTogT2JzZXJ2YWJsZTxPYnNlcnZlZFZhbHVlT2Y8VD4+IHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxUPj4oKHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCByZXNvdXJjZSA9IHJlc291cmNlRmFjdG9yeSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IG9ic2VydmFibGVGYWN0b3J5KHJlc291cmNlKTtcbiAgICBjb25zdCBzb3VyY2UgPSByZXN1bHQgPyBpbm5lckZyb20ocmVzdWx0KSA6IEVNUFRZO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIE5PVEU6IE9wdGlvbmFsIGNoYWluaW5nIGRpZCBub3Qgd29yayBoZXJlLlxuICAgICAgLy8gUmVsYXRlZCBUUyBJc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy80MDgxOFxuICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgIHJlc291cmNlLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXRUdXBsZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmltcG9ydCB7IGFyZ3NPckFyZ0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcmdzT3JBcmdBcnJheSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB6aXA8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QT47XG5leHBvcnQgZnVuY3Rpb24gemlwPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICBzb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dLFxuICByZXN1bHRTZWxlY3RvcjogKC4uLnZhbHVlczogQSkgPT4gUlxuKTogT2JzZXJ2YWJsZTxSPjtcbmV4cG9ydCBmdW5jdGlvbiB6aXA8QSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9ic2VydmFibGU8QT47XG5leHBvcnQgZnVuY3Rpb24gemlwPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10sIFI+KFxuICAuLi5zb3VyY2VzQW5kUmVzdWx0U2VsZWN0b3I6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgKC4uLnZhbHVlczogQSkgPT4gUl1cbik6IE9ic2VydmFibGU8Uj47XG5cbi8qKlxuICogQ29tYmluZXMgbXVsdGlwbGUgT2JzZXJ2YWJsZXMgdG8gY3JlYXRlIGFuIE9ic2VydmFibGUgd2hvc2UgdmFsdWVzIGFyZSBjYWxjdWxhdGVkIGZyb20gdGhlIHZhbHVlcywgaW4gb3JkZXIsIG9mIGVhY2hcbiAqIG9mIGl0cyBpbnB1dCBPYnNlcnZhYmxlcy5cbiAqXG4gKiBJZiB0aGUgbGFzdCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiwgdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlIGNyZWF0ZWQgdmFsdWUgZnJvbSB0aGUgaW5wdXQgdmFsdWVzLlxuICogT3RoZXJ3aXNlLCBhbiBhcnJheSBvZiB0aGUgaW5wdXQgdmFsdWVzIGlzIHJldHVybmVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBDb21iaW5lIGFnZSBhbmQgbmFtZSBmcm9tIGRpZmZlcmVudCBzb3VyY2VzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCB6aXAsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGFnZSQgPSBvZigyNywgMjUsIDI5KTtcbiAqIGNvbnN0IG5hbWUkID0gb2YoJ0ZvbycsICdCYXInLCAnQmVlcicpO1xuICogY29uc3QgaXNEZXYkID0gb2YodHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICpcbiAqIHppcChhZ2UkLCBuYW1lJCwgaXNEZXYkKS5waXBlKFxuICogICBtYXAoKFthZ2UsIG5hbWUsIGlzRGV2XSkgPT4gKHsgYWdlLCBuYW1lLCBpc0RldiB9KSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8geyBhZ2U6IDI3LCBuYW1lOiAnRm9vJywgaXNEZXY6IHRydWUgfVxuICogLy8geyBhZ2U6IDI1LCBuYW1lOiAnQmFyJywgaXNEZXY6IHRydWUgfVxuICogLy8geyBhZ2U6IDI5LCBuYW1lOiAnQmVlcicsIGlzRGV2OiBmYWxzZSB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc291cmNlc1xuICogQHJldHVybiB7T2JzZXJ2YWJsZTxSPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcCguLi5hcmdzOiB1bmtub3duW10pOiBPYnNlcnZhYmxlPHVua25vd24+IHtcbiAgY29uc3QgcmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcblxuICBjb25zdCBzb3VyY2VzID0gYXJnc09yQXJnQXJyYXkoYXJncykgYXMgT2JzZXJ2YWJsZTx1bmtub3duPltdO1xuXG4gIHJldHVybiBzb3VyY2VzLmxlbmd0aFxuICAgID8gbmV3IE9ic2VydmFibGU8dW5rbm93bltdPigoc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICAvLyBBIGNvbGxlY3Rpb24gb2YgYnVmZmVycyBvZiB2YWx1ZXMgZnJvbSBlYWNoIHNvdXJjZS5cbiAgICAgICAgLy8gS2V5ZWQgYnkgdGhlIHNhbWUgaW5kZXggd2l0aCB3aGljaCB0aGUgc291cmNlcyB3ZXJlIHBhc3NlZCBpbi5cbiAgICAgICAgbGV0IGJ1ZmZlcnM6IHVua25vd25bXVtdID0gc291cmNlcy5tYXAoKCkgPT4gW10pO1xuXG4gICAgICAgIC8vIEFuIGFycmF5IG9mIGZsYWdzIG9mIHdoZXRoZXIgb3Igbm90IHRoZSBzb3VyY2VzIGhhdmUgY29tcGxldGVkLlxuICAgICAgICAvLyBUaGlzIGlzIHVzZWQgdG8gY2hlY2sgdG8gc2VlIGlmIHdlIHNob3VsZCBjb21wbGV0ZSB0aGUgcmVzdWx0LlxuICAgICAgICAvLyBLZXllZCBieSB0aGUgc2FtZSBpbmRleCB3aXRoIHdoaWNoIHRoZSBzb3VyY2VzIHdlcmUgcGFzc2VkIGluLlxuICAgICAgICBsZXQgY29tcGxldGVkID0gc291cmNlcy5tYXAoKCkgPT4gZmFsc2UpO1xuXG4gICAgICAgIC8vIFdoZW4gZXZlcnl0aGluZyBpcyBkb25lLCByZWxlYXNlIHRoZSBhcnJheXMgYWJvdmUuXG4gICAgICAgIHN1YnNjcmliZXIuYWRkKCgpID0+IHtcbiAgICAgICAgICBidWZmZXJzID0gY29tcGxldGVkID0gbnVsbCE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExvb3Agb3ZlciBvdXIgc291cmNlcyBhbmQgc3Vic2NyaWJlIHRvIGVhY2ggb25lLiBUaGUgaW5kZXggYGlgIGlzXG4gICAgICAgIC8vIGVzcGVjaWFsbHkgaW1wb3J0YW50IGhlcmUsIGJlY2F1c2Ugd2UgdXNlIGl0IGluIGNsb3N1cmVzIGJlbG93IHRvXG4gICAgICAgIC8vIGFjY2VzcyB0aGUgcmVsYXRlZCBidWZmZXJzIGFuZCBjb21wbGV0aW9uIHByb3BlcnRpZXNcbiAgICAgICAgZm9yIChsZXQgc291cmNlSW5kZXggPSAwOyAhc3Vic2NyaWJlci5jbG9zZWQgJiYgc291cmNlSW5kZXggPCBzb3VyY2VzLmxlbmd0aDsgc291cmNlSW5kZXgrKykge1xuICAgICAgICAgIGlubmVyRnJvbShzb3VyY2VzW3NvdXJjZUluZGV4XSkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBidWZmZXJzW3NvdXJjZUluZGV4XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBpZiBldmVyeSBidWZmZXIgaGFzIGF0IGxlYXN0IG9uZSB2YWx1ZSBpbiBpdCwgdGhlbiB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBzaGlmdCBvdXQgdGhlIG9sZGVzdCB2YWx1ZSBmcm9tIGVhY2ggYnVmZmVyIGFuZCBlbWl0XG4gICAgICAgICAgICAgICAgLy8gdGhlbSBhcyBhbiBhcnJheS5cbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVycy5ldmVyeSgoYnVmZmVyKSA9PiBidWZmZXIubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBidWZmZXJzLm1hcCgoYnVmZmVyKSA9PiBidWZmZXIuc2hpZnQoKSEpO1xuICAgICAgICAgICAgICAgICAgLy8gRW1pdCB0aGUgYXJyYXkuIElmIHRoZXJlcycgYSByZXN1bHQgc2VsZWN0b3IsIHVzZSB0aGF0LlxuICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IoLi4ucmVzdWx0KSA6IHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgb25lIG9mIHRoZSBzb3VyY2VzIGlzIGJvdGggY29tcGxldGUgYW5kIGhhcyBhbiBlbXB0eSBidWZmZXJcbiAgICAgICAgICAgICAgICAgIC8vIHRoZW4gd2UgY29tcGxldGUgdGhlIHJlc3VsdC4gVGhpcyBpcyBiZWNhdXNlIHdlIGNhbm5vdCBwb3NzaWJseSBoYXZlXG4gICAgICAgICAgICAgICAgICAvLyBhbnkgbW9yZSB2YWx1ZXMgdG8gemlwIHRvZ2V0aGVyLlxuICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcnMuc29tZSgoYnVmZmVyLCBpKSA9PiAhYnVmZmVyLmxlbmd0aCAmJiBjb21wbGV0ZWRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHNvdXJjZSBjb21wbGV0ZWQuIE1hcmsgaXQgYXMgY29tcGxldGUgc28gd2UgY2FuIGNoZWNrIGl0IGxhdGVyXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSB0by5cbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRbc291cmNlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBCdXQsIGlmIHRoaXMgY29tcGxldGUgc291cmNlIGhhcyBub3RoaW5nIGluIGl0cyBidWZmZXIsIHRoZW4gd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4gY29tcGxldGUgdGhlIHJlc3VsdCwgYmVjYXVzZSB3ZSBjYW4ndCBwb3NzaWJseSBoYXZlIGFueSBtb3JlXG4gICAgICAgICAgICAgICAgLy8gdmFsdWVzIGZyb20gdGhpcyB0byB6aXAgdG9nZXRoZXIgd2l0aCB0aGUgb3RoZXIgdmFsdWVzLlxuICAgICAgICAgICAgICAgICFidWZmZXJzW3NvdXJjZUluZGV4XS5sZW5ndGggJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gZXZlcnl0aGluZyBpcyBkb25lLCByZWxlYXNlIHRoZSBhcnJheXMgYWJvdmUuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgYnVmZmVycyA9IGNvbXBsZXRlZCA9IG51bGwhO1xuICAgICAgICB9O1xuICAgICAgfSlcbiAgICA6IEVNUFRZO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYE9wZXJhdG9yU3Vic2NyaWJlcmAuXG4gKiBAcGFyYW0gZGVzdGluYXRpb24gVGhlIGRvd25zdHJlYW0gc3Vic2NyaWJlci5cbiAqIEBwYXJhbSBvbk5leHQgSGFuZGxlcyBuZXh0IHZhbHVlcywgb25seSBjYWxsZWQgaWYgdGhpcyBzdWJzY3JpYmVyIGlzIG5vdCBzdG9wcGVkIG9yIGNsb3NlZC4gQW55XG4gKiBlcnJvciB0aGF0IG9jY3VycyBpbiB0aGlzIGZ1bmN0aW9uIGlzIGNhdWdodCBhbmQgc2VudCB0byB0aGUgYGVycm9yYCBtZXRob2Qgb2YgdGhpcyBzdWJzY3JpYmVyLlxuICogQHBhcmFtIG9uRXJyb3IgSGFuZGxlcyBlcnJvcnMgZnJvbSB0aGUgc3Vic2NyaXB0aW9uLCBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgaW4gdGhpcyBoYW5kbGVyIGFyZSBjYXVnaHRcbiAqIGFuZCBzZW5kIHRvIHRoZSBgZGVzdGluYXRpb25gIGVycm9yIGhhbmRsZXIuXG4gKiBAcGFyYW0gb25Db21wbGV0ZSBIYW5kbGVzIGNvbXBsZXRpb24gbm90aWZpY2F0aW9uIGZyb20gdGhlIHN1YnNjcmlwdGlvbi4gQW55IGVycm9ycyB0aGF0IG9jY3VyIGluXG4gKiB0aGlzIGhhbmRsZXIgYXJlIHNlbnQgdG8gdGhlIGBkZXN0aW5hdGlvbmAgZXJyb3IgaGFuZGxlci5cbiAqIEBwYXJhbSBvbkZpbmFsaXplIEFkZGl0aW9uYWwgdGVhcmRvd24gbG9naWMgaGVyZS4gVGhpcyB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uIHRlYXJkb3duIGlmIHRoZVxuICogc3Vic2NyaWJlciBpdHNlbGYgaXMgbm90IGFscmVhZHkgY2xvc2VkLiBUaGlzIGlzIGNhbGxlZCBhZnRlciBhbGwgb3RoZXIgdGVhcmRvd24gbG9naWMgaXMgZXhlY3V0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXI8VD4oXG4gIGRlc3RpbmF0aW9uOiBTdWJzY3JpYmVyPGFueT4sXG4gIG9uTmV4dD86ICh2YWx1ZTogVCkgPT4gdm9pZCxcbiAgb25Db21wbGV0ZT86ICgpID0+IHZvaWQsXG4gIG9uRXJyb3I/OiAoZXJyOiBhbnkpID0+IHZvaWQsXG4gIG9uRmluYWxpemU/OiAoKSA9PiB2b2lkXG4pOiBTdWJzY3JpYmVyPFQ+IHtcbiAgcmV0dXJuIG5ldyBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSk7XG59XG5cbi8qKlxuICogQSBnZW5lcmljIGhlbHBlciBmb3IgYWxsb3dpbmcgb3BlcmF0b3JzIHRvIGJlIGNyZWF0ZWQgd2l0aCBhIFN1YnNjcmliZXIgYW5kXG4gKiB1c2UgY2xvc3VyZXMgdG8gY2FwdHVyZSBuZWNlc3Nhcnkgc3RhdGUgZnJvbSB0aGUgb3BlcmF0b3IgZnVuY3Rpb24gaXRzZWxmLlxuICovXG5leHBvcnQgY2xhc3MgT3BlcmF0b3JTdWJzY3JpYmVyPFQ+IGV4dGVuZHMgU3Vic2NyaWJlcjxUPiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIGBPcGVyYXRvclN1YnNjcmliZXJgLlxuICAgKiBAcGFyYW0gZGVzdGluYXRpb24gVGhlIGRvd25zdHJlYW0gc3Vic2NyaWJlci5cbiAgICogQHBhcmFtIG9uTmV4dCBIYW5kbGVzIG5leHQgdmFsdWVzLCBvbmx5IGNhbGxlZCBpZiB0aGlzIHN1YnNjcmliZXIgaXMgbm90IHN0b3BwZWQgb3IgY2xvc2VkLiBBbnlcbiAgICogZXJyb3IgdGhhdCBvY2N1cnMgaW4gdGhpcyBmdW5jdGlvbiBpcyBjYXVnaHQgYW5kIHNlbnQgdG8gdGhlIGBlcnJvcmAgbWV0aG9kIG9mIHRoaXMgc3Vic2NyaWJlci5cbiAgICogQHBhcmFtIG9uRXJyb3IgSGFuZGxlcyBlcnJvcnMgZnJvbSB0aGUgc3Vic2NyaXB0aW9uLCBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgaW4gdGhpcyBoYW5kbGVyIGFyZSBjYXVnaHRcbiAgICogYW5kIHNlbmQgdG8gdGhlIGBkZXN0aW5hdGlvbmAgZXJyb3IgaGFuZGxlci5cbiAgICogQHBhcmFtIG9uQ29tcGxldGUgSGFuZGxlcyBjb21wbGV0aW9uIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzdWJzY3JpcHRpb24uIEFueSBlcnJvcnMgdGhhdCBvY2N1ciBpblxuICAgKiB0aGlzIGhhbmRsZXIgYXJlIHNlbnQgdG8gdGhlIGBkZXN0aW5hdGlvbmAgZXJyb3IgaGFuZGxlci5cbiAgICogQHBhcmFtIG9uRmluYWxpemUgQWRkaXRpb25hbCBmaW5hbGl6YXRpb24gbG9naWMgaGVyZS4gVGhpcyB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uIGZpbmFsaXphdGlvbiBpZiB0aGVcbiAgICogc3Vic2NyaWJlciBpdHNlbGYgaXMgbm90IGFscmVhZHkgY2xvc2VkLiBUaGlzIGlzIGNhbGxlZCBhZnRlciBhbGwgb3RoZXIgZmluYWxpemF0aW9uIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICAgKiBAcGFyYW0gc2hvdWxkVW5zdWJzY3JpYmUgQW4gb3B0aW9uYWwgY2hlY2sgdG8gc2VlIGlmIGFuIHVuc3Vic2NyaWJlIGNhbGwgc2hvdWxkIHRydWx5IHVuc3Vic2NyaWJlLlxuICAgKiBOT1RFOiBUaGlzIGN1cnJlbnRseSAqKk9OTFkqKiBleGlzdHMgdG8gc3VwcG9ydCB0aGUgc3RyYW5nZSBiZWhhdmlvciBvZiB7QGxpbmsgZ3JvdXBCeX0sIHdoZXJlIHVuc3Vic2NyaXB0aW9uXG4gICAqIHRvIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSBkb2VzIG5vdCBhY3R1YWxseSBkaXNjb25uZWN0IGZyb20gdGhlIHNvdXJjZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHN1YnNjcmlwdGlvbnNcbiAgICogdG8gYW55IGdyb3VwZWQgb2JzZXJ2YWJsZS4gKERPIE5PVCBFWFBPU0UgT1IgVVNFIEVYVEVSTkFMTFkhISEpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBkZXN0aW5hdGlvbjogU3Vic2NyaWJlcjxhbnk+LFxuICAgIG9uTmV4dD86ICh2YWx1ZTogVCkgPT4gdm9pZCxcbiAgICBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZCxcbiAgICBvbkVycm9yPzogKGVycjogYW55KSA9PiB2b2lkLFxuICAgIHByaXZhdGUgb25GaW5hbGl6ZT86ICgpID0+IHZvaWQsXG4gICAgcHJpdmF0ZSBzaG91bGRVbnN1YnNjcmliZT86ICgpID0+IGJvb2xlYW5cbiAgKSB7XG4gICAgLy8gSXQncyBpbXBvcnRhbnQgLSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAtIHRoYXQgYWxsIG9mIHRoaXMgY2xhc3Mnc1xuICAgIC8vIG1lbWJlcnMgYXJlIGluaXRpYWxpemVkIGFuZCB0aGF0IHRoZXkgYXJlIGFsd2F5cyBpbml0aWFsaXplZCBpbiB0aGUgc2FtZVxuICAgIC8vIG9yZGVyLiBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYWxsIE9wZXJhdG9yU3Vic2NyaWJlciBpbnN0YW5jZXMgaGF2ZSB0aGVcbiAgICAvLyBzYW1lIGhpZGRlbiBjbGFzcyBpbiBWOC4gVGhpcywgaW4gdHVybiwgd2lsbCBoZWxwIGtlZXAgdGhlIG51bWJlciBvZlxuICAgIC8vIGhpZGRlbiBjbGFzc2VzIGludm9sdmVkIGluIHByb3BlcnR5IGFjY2Vzc2VzIHdpdGhpbiB0aGUgYmFzZSBjbGFzcyBhc1xuICAgIC8vIGxvdyBhcyBwb3NzaWJsZS4gSWYgdGhlIG51bWJlciBvZiBoaWRkZW4gY2xhc3NlcyBpbnZvbHZlZCBleGNlZWRzIGZvdXIsXG4gICAgLy8gdGhlIHByb3BlcnR5IGFjY2Vzc2VzIHdpbGwgYmVjb21lIG1lZ2Ftb3JwaGljIGFuZCBwZXJmb3JtYW5jZSBwZW5hbHRpZXNcbiAgICAvLyB3aWxsIGJlIGluY3VycmVkIC0gaS5lLiBpbmxpbmUgY2FjaGVzIHdvbid0IGJlIHVzZWQuXG4gICAgLy9cbiAgICAvLyBUaGUgcmVhc29ucyBmb3IgZW5zdXJpbmcgYWxsIGluc3RhbmNlcyBoYXZlIHRoZSBzYW1lIGhpZGRlbiBjbGFzcyBhcmVcbiAgICAvLyBmdXJ0aGVyIGRpc2N1c3NlZCBpbiB0aGlzIGJsb2cgcG9zdCBmcm9tIEJlbmVkaWt0IE1ldXJlcjpcbiAgICAvLyBodHRwczovL2JlbmVkaWt0bWV1cmVyLmRlLzIwMTgvMDMvMjMvaW1wYWN0LW9mLXBvbHltb3JwaGlzbS1vbi1jb21wb25lbnQtYmFzZWQtZnJhbWV3b3Jrcy1saWtlLXJlYWN0L1xuICAgIHN1cGVyKGRlc3RpbmF0aW9uKTtcbiAgICB0aGlzLl9uZXh0ID0gb25OZXh0XG4gICAgICA/IGZ1bmN0aW9uICh0aGlzOiBPcGVyYXRvclN1YnNjcmliZXI8VD4sIHZhbHVlOiBUKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9uTmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgOiBzdXBlci5fbmV4dDtcbiAgICB0aGlzLl9lcnJvciA9IG9uRXJyb3JcbiAgICAgID8gZnVuY3Rpb24gKHRoaXM6IE9wZXJhdG9yU3Vic2NyaWJlcjxUPiwgZXJyOiBhbnkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gU2VuZCBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgZG93biBzdHJlYW0uXG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgZmluYWxpemF0aW9uLlxuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgOiBzdXBlci5fZXJyb3I7XG4gICAgdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICA/IGZ1bmN0aW9uICh0aGlzOiBPcGVyYXRvclN1YnNjcmliZXI8VD4pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gU2VuZCBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgZG93biBzdHJlYW0uXG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgZmluYWxpemF0aW9uLlxuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgOiBzdXBlci5fY29tcGxldGU7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAoIXRoaXMuc2hvdWxkVW5zdWJzY3JpYmUgfHwgdGhpcy5zaG91bGRVbnN1YnNjcmliZSgpKSB7XG4gICAgICBjb25zdCB7IGNsb3NlZCB9ID0gdGhpcztcbiAgICAgIHN1cGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAvLyBFeGVjdXRlIGFkZGl0aW9uYWwgdGVhcmRvd24gaWYgd2UgaGF2ZSBhbnkgYW5kIHdlIGRpZG4ndCBhbHJlYWR5IGRvIHNvLlxuICAgICAgIWNsb3NlZCAmJiB0aGlzLm9uRmluYWxpemU/LigpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIElnbm9yZXMgc291cmNlIHZhbHVlcyBmb3IgYSBkdXJhdGlvbiBkZXRlcm1pbmVkIGJ5IGFub3RoZXIgT2JzZXJ2YWJsZSwgdGhlblxuICogZW1pdHMgdGhlIG1vc3QgcmVjZW50IHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB0aGVuIHJlcGVhdHMgdGhpc1xuICogcHJvY2Vzcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBhdWRpdFRpbWV9LCBidXQgdGhlIHNpbGVuY2luZ1xuICogZHVyYXRpb24gaXMgZGV0ZXJtaW5lZCBieSBhIHNlY29uZCBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10oYXVkaXQuc3ZnKVxuICpcbiAqIGBhdWRpdGAgaXMgc2ltaWxhciB0byBgdGhyb3R0bGVgLCBidXQgZW1pdHMgdGhlIGxhc3QgdmFsdWUgZnJvbSB0aGUgc2lsZW5jZWRcbiAqIHRpbWUgd2luZG93LCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCB2YWx1ZS4gYGF1ZGl0YCBlbWl0cyB0aGUgbW9zdCByZWNlbnQgdmFsdWVcbiAqIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBhcyBzb29uIGFzIGl0cyBpbnRlcm5hbFxuICogdGltZXIgYmVjb21lcyBkaXNhYmxlZCwgYW5kIGlnbm9yZXMgc291cmNlIHZhbHVlcyB3aGlsZSB0aGUgdGltZXIgaXMgZW5hYmxlZC5cbiAqIEluaXRpYWxseSwgdGhlIHRpbWVyIGlzIGRpc2FibGVkLiBBcyBzb29uIGFzIHRoZSBmaXJzdCBzb3VyY2UgdmFsdWUgYXJyaXZlcyxcbiAqIHRoZSB0aW1lciBpcyBlbmFibGVkIGJ5IGNhbGxpbmcgdGhlIGBkdXJhdGlvblNlbGVjdG9yYCBmdW5jdGlvbiB3aXRoIHRoZVxuICogc291cmNlIHZhbHVlLCB3aGljaCByZXR1cm5zIHRoZSBcImR1cmF0aW9uXCIgT2JzZXJ2YWJsZS4gV2hlbiB0aGUgZHVyYXRpb25cbiAqIE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZSwgdGhlIHRpbWVyIGlzIGRpc2FibGVkLCB0aGVuIHRoZSBtb3N0XG4gKiByZWNlbnQgc291cmNlIHZhbHVlIGlzIGVtaXR0ZWQgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLCBhbmQgdGhpcyBwcm9jZXNzXG4gKiByZXBlYXRzIGZvciB0aGUgbmV4dCBzb3VyY2UgdmFsdWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgY2xpY2tzIGF0IGEgcmF0ZSBvZiBhdCBtb3N0IG9uZSBjbGljayBwZXIgc2Vjb25kXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgYXVkaXQsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKGF1ZGl0KGV2ID0+IGludGVydmFsKDEwMDApKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYXVkaXRUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2V9XG4gKiBAc2VlIHtAbGluayBkZWxheVdoZW59XG4gKiBAc2VlIHtAbGluayBzYW1wbGV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb25TZWxlY3RvciBBIGZ1bmN0aW9uXG4gKiB0aGF0IHJlY2VpdmVzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIGZvciBjb21wdXRpbmcgdGhlIHNpbGVuY2luZ1xuICogZHVyYXRpb24sIHJldHVybmVkIGFzIGFuIE9ic2VydmFibGUgb3IgYSBQcm9taXNlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgcGVyZm9ybXMgcmF0ZS1saW1pdGluZyBvZlxuICogZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXVkaXQ8VD4oZHVyYXRpb25TZWxlY3RvcjogKHZhbHVlOiBUKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICBsZXQgbGFzdFZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGR1cmF0aW9uU3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIGNvbnN0IGVuZER1cmF0aW9uID0gKCkgPT4ge1xuICAgICAgZHVyYXRpb25TdWJzY3JpYmVyPy51bnN1YnNjcmliZSgpO1xuICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgIGlmIChoYXNWYWx1ZSkge1xuICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGxhc3RWYWx1ZSE7XG4gICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpc0NvbXBsZXRlICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYW51cER1cmF0aW9uID0gKCkgPT4ge1xuICAgICAgZHVyYXRpb25TdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgaWYgKCFkdXJhdGlvblN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAoZHVyYXRpb25TdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGVuZER1cmF0aW9uLCBjbGVhbnVwRHVyYXRpb24pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAoIWhhc1ZhbHVlIHx8ICFkdXJhdGlvblN1YnNjcmliZXIgfHwgZHVyYXRpb25TdWJzY3JpYmVyLmNsb3NlZCkgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBhdWRpdCB9IGZyb20gJy4vYXVkaXQnO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3RpbWVyJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBJZ25vcmVzIHNvdXJjZSB2YWx1ZXMgZm9yIGBkdXJhdGlvbmAgbWlsbGlzZWNvbmRzLCB0aGVuIGVtaXRzIHRoZSBtb3N0IHJlY2VudFxuICogdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHRoZW4gcmVwZWF0cyB0aGlzIHByb2Nlc3MuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPldoZW4gaXQgc2VlcyBhIHNvdXJjZSB2YWx1ZSwgaXQgaWdub3JlcyB0aGF0IHBsdXNcbiAqIHRoZSBuZXh0IG9uZXMgZm9yIGBkdXJhdGlvbmAgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBpdCBlbWl0cyB0aGUgbW9zdCByZWNlbnRcbiAqIHZhbHVlIGZyb20gdGhlIHNvdXJjZS48L3NwYW4+XG4gKlxuICogIVtdKGF1ZGl0VGltZS5wbmcpXG4gKlxuICogYGF1ZGl0VGltZWAgaXMgc2ltaWxhciB0byBgdGhyb3R0bGVUaW1lYCwgYnV0IGVtaXRzIHRoZSBsYXN0IHZhbHVlIGZyb20gdGhlXG4gKiBzaWxlbmNlZCB0aW1lIHdpbmRvdywgaW5zdGVhZCBvZiB0aGUgZmlyc3QgdmFsdWUuIGBhdWRpdFRpbWVgIGVtaXRzIHRoZSBtb3N0XG4gKiByZWNlbnQgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlIGFzIHNvb24gYXNcbiAqIGl0cyBpbnRlcm5hbCB0aW1lciBiZWNvbWVzIGRpc2FibGVkLCBhbmQgaWdub3JlcyBzb3VyY2UgdmFsdWVzIHdoaWxlIHRoZVxuICogdGltZXIgaXMgZW5hYmxlZC4gSW5pdGlhbGx5LCB0aGUgdGltZXIgaXMgZGlzYWJsZWQuIEFzIHNvb24gYXMgdGhlIGZpcnN0XG4gKiBzb3VyY2UgdmFsdWUgYXJyaXZlcywgdGhlIHRpbWVyIGlzIGVuYWJsZWQuIEFmdGVyIGBkdXJhdGlvbmAgbWlsbGlzZWNvbmRzIChvclxuICogdGhlIHRpbWUgdW5pdCBkZXRlcm1pbmVkIGludGVybmFsbHkgYnkgdGhlIG9wdGlvbmFsIGBzY2hlZHVsZXJgKSBoYXMgcGFzc2VkLFxuICogdGhlIHRpbWVyIGlzIGRpc2FibGVkLCB0aGVuIHRoZSBtb3N0IHJlY2VudCBzb3VyY2UgdmFsdWUgaXMgZW1pdHRlZCBvbiB0aGVcbiAqIG91dHB1dCBPYnNlcnZhYmxlLCBhbmQgdGhpcyBwcm9jZXNzIHJlcGVhdHMgZm9yIHRoZSBuZXh0IHNvdXJjZSB2YWx1ZS5cbiAqIE9wdGlvbmFsbHkgdGFrZXMgYSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gZm9yIG1hbmFnaW5nIHRpbWVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCBjbGlja3MgYXQgYSByYXRlIG9mIGF0IG1vc3Qgb25lIGNsaWNrIHBlciBzZWNvbmRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBhdWRpdFRpbWUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoYXVkaXRUaW1lKDEwMDApKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBhdWRpdH1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlVGltZX1cbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxuICogQHNlZSB7QGxpbmsgc2FtcGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGltZSB0byB3YWl0IGJlZm9yZSBlbWl0dGluZyB0aGUgbW9zdCByZWNlbnQgc291cmNlXG4gKiB2YWx1ZSwgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzIG9yIHRoZSB0aW1lIHVuaXQgZGV0ZXJtaW5lZCBpbnRlcm5hbGx5XG4gKiBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmAuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9YXN5bmNdIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvclxuICogbWFuYWdpbmcgdGhlIHRpbWVycyB0aGF0IGhhbmRsZSB0aGUgcmF0ZS1saW1pdGluZyBiZWhhdmlvci5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHBlcmZvcm1zIHJhdGUtbGltaXRpbmcgb2ZcbiAqIGVtaXNzaW9ucyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF1ZGl0VGltZTxUPihkdXJhdGlvbjogbnVtYmVyLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBhdWRpdCgoKSA9PiB0aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKipcbiAqIEJ1ZmZlcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyB1bnRpbCBgY2xvc2luZ05vdGlmaWVyYCBlbWl0cy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29sbGVjdHMgdmFsdWVzIGZyb20gdGhlIHBhc3QgYXMgYW4gYXJyYXksIGFuZCBlbWl0c1xuICogdGhhdCBhcnJheSBvbmx5IHdoZW4gYW5vdGhlciBPYnNlcnZhYmxlIGVtaXRzLjwvc3Bhbj5cbiAqXG4gKiAhW10oYnVmZmVyLnBuZylcbiAqXG4gKiBCdWZmZXJzIHRoZSBpbmNvbWluZyBPYnNlcnZhYmxlIHZhbHVlcyB1bnRpbCB0aGUgZ2l2ZW4gYGNsb3NpbmdOb3RpZmllcmBcbiAqIGBPYnNlcnZhYmxlSW5wdXRgICh0aGF0IGludGVybmFsbHkgZ2V0cyBjb252ZXJ0ZWQgdG8gYW4gT2JzZXJ2YWJsZSlcbiAqIGVtaXRzIGEgdmFsdWUsIGF0IHdoaWNoIHBvaW50IGl0IGVtaXRzIHRoZSBidWZmZXIgb24gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZSBhbmQgc3RhcnRzIGEgbmV3IGJ1ZmZlciBpbnRlcm5hbGx5LCBhd2FpdGluZyB0aGUgbmV4dCB0aW1lXG4gKiBgY2xvc2luZ05vdGlmaWVyYCBlbWl0cy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogT24gZXZlcnkgY2xpY2ssIGVtaXQgYXJyYXkgb2YgbW9zdCByZWNlbnQgaW50ZXJ2YWwgZXZlbnRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgaW50ZXJ2YWwsIGJ1ZmZlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBpbnRlcnZhbEV2ZW50cyA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgYnVmZmVyZWQgPSBpbnRlcnZhbEV2ZW50cy5waXBlKGJ1ZmZlcihjbGlja3MpKTtcbiAqIGJ1ZmZlcmVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJ1ZmZlckNvdW50fVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVGltZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlclRvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcldoZW59XG4gKiBAc2VlIHtAbGluayB3aW5kb3d9XG4gKlxuICogQHBhcmFtIGNsb3NpbmdOb3RpZmllciBBbiBgT2JzZXJ2YWJsZUlucHV0YCB0aGF0IHNpZ25hbHMgdGhlXG4gKiBidWZmZXIgdG8gYmUgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgYnVmZmVycywgd2hpY2ggYXJlIGFycmF5c1xuICogb2YgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyPFQ+KGNsb3NpbmdOb3RpZmllcjogT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbXT4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGN1cnJlbnQgYnVmZmVyZWQgdmFsdWVzLlxuICAgIGxldCBjdXJyZW50QnVmZmVyOiBUW10gPSBbXTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBvdXIgc291cmNlLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4gY3VycmVudEJ1ZmZlci5wdXNoKHZhbHVlKSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChjdXJyZW50QnVmZmVyKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBjbG9zaW5nIG5vdGlmaWVyLlxuICAgIGlubmVyRnJvbShjbG9zaW5nTm90aWZpZXIpLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IGJ1ZmZlciBhbmQgZW1pdCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgIGNvbnN0IGIgPSBjdXJyZW50QnVmZmVyO1xuICAgICAgICAgIGN1cnJlbnRCdWZmZXIgPSBbXTtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYik7XG4gICAgICAgIH0sXG4gICAgICAgIG5vb3BcbiAgICAgIClcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIEVuc3VyZSBidWZmZXJlZCB2YWx1ZXMgYXJlIHJlbGVhc2VkIG9uIGZpbmFsaXphdGlvbi5cbiAgICAgIGN1cnJlbnRCdWZmZXIgPSBudWxsITtcbiAgICB9O1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4uL3V0aWwvYXJyUmVtb3ZlJztcblxuLyoqXG4gKiBCdWZmZXJzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgdW50aWwgdGhlIHNpemUgaGl0cyB0aGUgbWF4aW11bVxuICogYGJ1ZmZlclNpemVgIGdpdmVuLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Db2xsZWN0cyB2YWx1ZXMgZnJvbSB0aGUgcGFzdCBhcyBhbiBhcnJheSwgYW5kIGVtaXRzXG4gKiB0aGF0IGFycmF5IG9ubHkgd2hlbiBpdHMgc2l6ZSByZWFjaGVzIGBidWZmZXJTaXplYC48L3NwYW4+XG4gKlxuICogIVtdKGJ1ZmZlckNvdW50LnBuZylcbiAqXG4gKiBCdWZmZXJzIGEgbnVtYmVyIG9mIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSBgYnVmZmVyU2l6ZWAgdGhlblxuICogZW1pdHMgdGhlIGJ1ZmZlciBhbmQgY2xlYXJzIGl0LCBhbmQgc3RhcnRzIGEgbmV3IGJ1ZmZlciBlYWNoXG4gKiBgc3RhcnRCdWZmZXJFdmVyeWAgdmFsdWVzLiBJZiBgc3RhcnRCdWZmZXJFdmVyeWAgaXMgbm90IHByb3ZpZGVkIG9yIGlzXG4gKiBgbnVsbGAsIHRoZW4gbmV3IGJ1ZmZlcnMgYXJlIHN0YXJ0ZWQgaW1tZWRpYXRlbHkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzb3VyY2VcbiAqIGFuZCB3aGVuIGVhY2ggYnVmZmVyIGNsb3NlcyBhbmQgaXMgZW1pdHRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgdGhlIGxhc3QgdHdvIGNsaWNrIGV2ZW50cyBhcyBhbiBhcnJheVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGJ1ZmZlckNvdW50IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGJ1ZmZlcmVkID0gY2xpY2tzLnBpcGUoYnVmZmVyQ291bnQoMikpO1xuICogYnVmZmVyZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogT24gZXZlcnkgY2xpY2ssIGVtaXQgdGhlIGxhc3QgdHdvIGNsaWNrIGV2ZW50cyBhcyBhbiBhcnJheVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGJ1ZmZlckNvdW50IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGJ1ZmZlcmVkID0gY2xpY2tzLnBpcGUoYnVmZmVyQ291bnQoMiwgMSkpO1xuICogYnVmZmVyZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYnVmZmVyfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVGltZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlclRvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcldoZW59XG4gKiBAc2VlIHtAbGluayBwYWlyd2lzZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd0NvdW50fVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJTaXplIFRoZSBtYXhpbXVtIHNpemUgb2YgdGhlIGJ1ZmZlciBlbWl0dGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydEJ1ZmZlckV2ZXJ5XSBJbnRlcnZhbCBhdCB3aGljaCB0byBzdGFydCBhIG5ldyBidWZmZXIuXG4gKiBGb3IgZXhhbXBsZSBpZiBgc3RhcnRCdWZmZXJFdmVyeWAgaXMgYDJgLCB0aGVuIGEgbmV3IGJ1ZmZlciB3aWxsIGJlIHN0YXJ0ZWRcbiAqIG9uIGV2ZXJ5IG90aGVyIHZhbHVlIGZyb20gdGhlIHNvdXJjZS4gQSBuZXcgYnVmZmVyIGlzIHN0YXJ0ZWQgYXQgdGhlXG4gKiBiZWdpbm5pbmcgb2YgdGhlIHNvdXJjZSBieSBkZWZhdWx0LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIGFycmF5cyBvZiBidWZmZXJlZCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJDb3VudDxUPihidWZmZXJTaXplOiBudW1iZXIsIHN0YXJ0QnVmZmVyRXZlcnk6IG51bWJlciB8IG51bGwgPSBudWxsKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW10+IHtcbiAgLy8gSWYgbm8gYHN0YXJ0QnVmZmVyRXZlcnlgIHZhbHVlIHdhcyBzdXBwbGllZCwgdGhlbiB3ZSdyZVxuICAvLyBvcGVuaW5nIGFuZCBjbG9zaW5nIG9uIHRoZSBidWZmZXJTaXplIGl0c2VsZi5cbiAgc3RhcnRCdWZmZXJFdmVyeSA9IHN0YXJ0QnVmZmVyRXZlcnkgPz8gYnVmZmVyU2l6ZTtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGJ1ZmZlcnM6IFRbXVtdID0gW107XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGxldCB0b0VtaXQ6IFRbXVtdIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgbmVlZCB0byBzdGFydCBhIGJ1ZmZlci5cbiAgICAgICAgICAvLyBUaGlzIHdpbGwgc3RhcnQgb25lIGF0IHRoZSBmaXJzdCB2YWx1ZSwgYW5kIHRoZW5cbiAgICAgICAgICAvLyBhIG5ldyBvbmUgZXZlcnkgTiBhZnRlciB0aGF0LlxuICAgICAgICAgIGlmIChjb3VudCsrICUgc3RhcnRCdWZmZXJFdmVyeSEgPT09IDApIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChbXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUHVzaCBvdXIgdmFsdWUgaW50byBvdXIgYWN0aXZlIGJ1ZmZlcnMuXG4gICAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlJ3JlIG92ZXIgdGhlIGJ1ZmZlclNpemVcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSwgcmVjb3JkIGl0IHNvIHdlIGNhbiBlbWl0IGl0IGxhdGVyLlxuICAgICAgICAgICAgLy8gSWYgd2UgZW1pdHRlZCBpdCBub3cgYW5kIHJlbW92ZWQgaXQsIGl0IHdvdWxkXG4gICAgICAgICAgICAvLyBtdXRhdGUgdGhlIGBidWZmZXJzYCBhcnJheSB3aGlsZSB3ZSdyZSBsb29waW5nXG4gICAgICAgICAgICAvLyBvdmVyIGl0LlxuICAgICAgICAgICAgaWYgKGJ1ZmZlclNpemUgPD0gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICB0b0VtaXQgPSB0b0VtaXQgPz8gW107XG4gICAgICAgICAgICAgIHRvRW1pdC5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRvRW1pdCkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBzb21lIGJ1ZmZlcnMgdGhhdCBhcmUgb3ZlciB0aGVcbiAgICAgICAgICAgIC8vIGBidWZmZXJTaXplYC4gRW1pdCB0aGVtLCBhbmQgcmVtb3ZlIHRoZW0gZnJvbSBvdXJcbiAgICAgICAgICAgIC8vIGJ1ZmZlcnMgbGlzdC5cbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVmZmVyIG9mIHRvRW1pdCkge1xuICAgICAgICAgICAgICBhcnJSZW1vdmUoYnVmZmVycywgYnVmZmVyKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gV2hlbiB0aGUgc291cmNlIGNvbXBsZXRlcywgZW1pdCBhbGwgb2Ygb3VyXG4gICAgICAgICAgLy8gYWN0aXZlIGJ1ZmZlcnMuXG4gICAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUGFzcyBhbGwgZXJyb3JzIHRocm91Z2ggdG8gY29uc3VtZXIuXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIENsZWFuIHVwIG91ciBtZW1vcnkgd2hlbiB3ZSBmaW5hbGl6ZVxuICAgICAgICAgIGJ1ZmZlcnMgPSBudWxsITtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4uL3V0aWwvYXJyUmVtb3ZlJztcbmltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlclRpbWU8VD4oYnVmZmVyVGltZVNwYW46IG51bWJlciwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPjtcbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUaW1lPFQ+KFxuICBidWZmZXJUaW1lU3BhbjogbnVtYmVyLFxuICBidWZmZXJDcmVhdGlvbkludGVydmFsOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbXT47XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVGltZTxUPihcbiAgYnVmZmVyVGltZVNwYW46IG51bWJlcixcbiAgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbDogbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgbWF4QnVmZmVyU2l6ZTogbnVtYmVyLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbXT47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIEJ1ZmZlcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyBmb3IgYSBzcGVjaWZpYyB0aW1lIHBlcmlvZC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29sbGVjdHMgdmFsdWVzIGZyb20gdGhlIHBhc3QgYXMgYW4gYXJyYXksIGFuZCBlbWl0c1xuICogdGhvc2UgYXJyYXlzIHBlcmlvZGljYWxseSBpbiB0aW1lLjwvc3Bhbj5cbiAqXG4gKiAhW10oYnVmZmVyVGltZS5wbmcpXG4gKlxuICogQnVmZmVycyB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIGZvciBhIHNwZWNpZmljIHRpbWUgZHVyYXRpb24gYGJ1ZmZlclRpbWVTcGFuYC5cbiAqIFVubGVzcyB0aGUgb3B0aW9uYWwgYXJndW1lbnQgYGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWxgIGlzIGdpdmVuLCBpdCBlbWl0cyBhbmRcbiAqIHJlc2V0cyB0aGUgYnVmZmVyIGV2ZXJ5IGBidWZmZXJUaW1lU3BhbmAgbWlsbGlzZWNvbmRzLiBJZlxuICogYGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWxgIGlzIGdpdmVuLCB0aGlzIG9wZXJhdG9yIG9wZW5zIHRoZSBidWZmZXIgZXZlcnlcbiAqIGBidWZmZXJDcmVhdGlvbkludGVydmFsYCBtaWxsaXNlY29uZHMgYW5kIGNsb3NlcyAoZW1pdHMgYW5kIHJlc2V0cykgdGhlXG4gKiBidWZmZXIgZXZlcnkgYGJ1ZmZlclRpbWVTcGFuYCBtaWxsaXNlY29uZHMuIFdoZW4gdGhlIG9wdGlvbmFsIGFyZ3VtZW50XG4gKiBgbWF4QnVmZmVyU2l6ZWAgaXMgc3BlY2lmaWVkLCB0aGUgYnVmZmVyIHdpbGwgYmUgY2xvc2VkIGVpdGhlciBhZnRlclxuICogYGJ1ZmZlclRpbWVTcGFuYCBtaWxsaXNlY29uZHMgb3Igd2hlbiBpdCBjb250YWlucyBgbWF4QnVmZmVyU2l6ZWAgZWxlbWVudHMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFdmVyeSBzZWNvbmQsIGVtaXQgYW4gYXJyYXkgb2YgdGhlIHJlY2VudCBjbGljayBldmVudHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBidWZmZXJUaW1lIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGJ1ZmZlcmVkID0gY2xpY2tzLnBpcGUoYnVmZmVyVGltZSgxMDAwKSk7XG4gKiBidWZmZXJlZC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBFdmVyeSA1IHNlY29uZHMsIGVtaXQgdGhlIGNsaWNrIGV2ZW50cyBmcm9tIHRoZSBuZXh0IDIgc2Vjb25kc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGJ1ZmZlclRpbWUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgYnVmZmVyZWQgPSBjbGlja3MucGlwZShidWZmZXJUaW1lKDIwMDAsIDUwMDApKTtcbiAqIGJ1ZmZlcmVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlckNvdW50fVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVG9nZ2xlfVxuICogQHNlZSB7QGxpbmsgYnVmZmVyV2hlbn1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1RpbWV9XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlclRpbWVTcGFuIFRoZSBhbW91bnQgb2YgdGltZSB0byBmaWxsIGVhY2ggYnVmZmVyIGFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IFtidWZmZXJDcmVhdGlvbkludGVydmFsXSBUaGUgaW50ZXJ2YWwgYXQgd2hpY2ggdG8gc3RhcnQgbmV3XG4gKiBidWZmZXJzLlxuICogQHBhcmFtIHtudW1iZXJ9IFttYXhCdWZmZXJTaXplXSBUaGUgbWF4aW11bSBidWZmZXIgc2l6ZS5cbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcj1hc3luY10gVGhlIHNjaGVkdWxlciBvbiB3aGljaCB0byBzY2hlZHVsZSB0aGVcbiAqIGludGVydmFscyB0aGF0IGRldGVybWluZSBidWZmZXIgYm91bmRhcmllcy5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBhcnJheXMgb2YgYnVmZmVyZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVGltZTxUPihidWZmZXJUaW1lU3BhbjogbnVtYmVyLCAuLi5vdGhlckFyZ3M6IGFueVtdKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW10+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKG90aGVyQXJncykgPz8gYXN5bmNTY2hlZHVsZXI7XG4gIGNvbnN0IGJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwgPSAob3RoZXJBcmdzWzBdIGFzIG51bWJlcikgPz8gbnVsbDtcbiAgY29uc3QgbWF4QnVmZmVyU2l6ZSA9IChvdGhlckFyZ3NbMV0gYXMgbnVtYmVyKSB8fCBJbmZpbml0eTtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGFjdGl2ZSBidWZmZXJzLCB0aGVpciByZWxhdGVkIHN1YnNjcmlwdGlvbnMsIGFuZCByZW1vdmFsIGZ1bmN0aW9ucy5cbiAgICBsZXQgYnVmZmVyUmVjb3JkczogeyBidWZmZXI6IFRbXTsgc3ViczogU3Vic2NyaXB0aW9uIH1bXSB8IG51bGwgPSBbXTtcbiAgICAvLyBJZiB0cnVlLCBpdCBtZWFucyB0aGF0IGV2ZXJ5IHRpbWUgd2UgZW1pdCBhIGJ1ZmZlciwgd2Ugd2FudCB0byBzdGFydCBhIG5ldyBidWZmZXJcbiAgICAvLyB0aGlzIGlzIG9ubHkgcmVhbGx5IHVzZWQgZm9yIHdoZW4gKmp1c3QqIHRoZSBidWZmZXIgdGltZSBzcGFuIGlzIHBhc3NlZC5cbiAgICBsZXQgcmVzdGFydE9uRW1pdCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogRG9lcyB0aGUgd29yayBvZiBlbWl0dGluZyB0aGUgYnVmZmVyIGZyb20gdGhlIHJlY29yZCwgZW5zdXJpbmcgdGhhdCB0aGVcbiAgICAgKiByZWNvcmQgaXMgcmVtb3ZlZCBiZWZvcmUgdGhlIGVtaXNzaW9uIHNvIHJlZW50cmFudCBjb2RlIChmcm9tIHNvbWUgY3VzdG9tIHNjaGVkdWxpbmcsIHBlcmhhcHMpXG4gICAgICogZG9lcyBub3QgYWx0ZXIgdGhlIGJ1ZmZlci4gQWxzbyBjaGVja3MgdG8gc2VlIGlmIGEgbmV3IGJ1ZmZlciBuZWVkcyB0byBiZSBzdGFydGVkXG4gICAgICogYWZ0ZXIgdGhlIGVtaXQuXG4gICAgICovXG4gICAgY29uc3QgZW1pdCA9IChyZWNvcmQ6IHsgYnVmZmVyOiBUW107IHN1YnM6IFN1YnNjcmlwdGlvbiB9KSA9PiB7XG4gICAgICBjb25zdCB7IGJ1ZmZlciwgc3VicyB9ID0gcmVjb3JkO1xuICAgICAgc3Vicy51bnN1YnNjcmliZSgpO1xuICAgICAgYXJyUmVtb3ZlKGJ1ZmZlclJlY29yZHMsIHJlY29yZCk7XG4gICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyKTtcbiAgICAgIHJlc3RhcnRPbkVtaXQgJiYgc3RhcnRCdWZmZXIoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGV2ZXJ5IHRpbWUgd2Ugc3RhcnQgYSBuZXcgYnVmZmVyLiBUaGlzIGRvZXNcbiAgICAgKiB0aGUgd29yayBvZiBzY2hlZHVsaW5nIGEgam9iIGF0IHRoZSByZXF1ZXN0ZWQgYnVmZmVyVGltZVNwYW5cbiAgICAgKiB0aGF0IHdpbGwgZW1pdCB0aGUgYnVmZmVyIChpZiBpdCdzIG5vdCB1bnN1YnNjcmliZWQgYmVmb3JlIHRoZW4pLlxuICAgICAqL1xuICAgIGNvbnN0IHN0YXJ0QnVmZmVyID0gKCkgPT4ge1xuICAgICAgaWYgKGJ1ZmZlclJlY29yZHMpIHtcbiAgICAgICAgY29uc3Qgc3VicyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc3Vicyk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcjogVFtdID0gW107XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHtcbiAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgc3VicyxcbiAgICAgICAgfTtcbiAgICAgICAgYnVmZmVyUmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzLCBzY2hlZHVsZXIsICgpID0+IGVtaXQocmVjb3JkKSwgYnVmZmVyVGltZVNwYW4pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCAhPT0gbnVsbCAmJiBidWZmZXJDcmVhdGlvbkludGVydmFsID49IDApIHtcbiAgICAgIC8vIFRoZSB1c2VyIHBhc3NlZCBib3RoIGEgYnVmZmVyVGltZVNwYW4gKHJlcXVpcmVkKSwgYW5kIGEgY3JlYXRpb24gaW50ZXJ2YWxcbiAgICAgIC8vIFRoYXQgbWVhbnMgd2UgbmVlZCB0byBzdGFydCBuZXcgYnVmZmVycyBvbiB0aGUgaW50ZXJ2YWwsIGFuZCB0aG9zZSBidWZmZXJzIG5lZWRcbiAgICAgIC8vIHRvIHdhaXQgdGhlIHJlcXVpcmVkIHRpbWUgc3BhbiBiZWZvcmUgZW1pdHRpbmcuXG4gICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBzdGFydEJ1ZmZlciwgYnVmZmVyQ3JlYXRpb25JbnRlcnZhbCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RhcnRPbkVtaXQgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0YXJ0QnVmZmVyKCk7XG5cbiAgICBjb25zdCBidWZmZXJUaW1lU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgIHN1YnNjcmliZXIsXG4gICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgLy8gQ29weSB0aGUgcmVjb3Jkcywgc28gaWYgd2UgbmVlZCB0byByZW1vdmUgb25lIHdlXG4gICAgICAgIC8vIGRvbid0IG11dGF0ZSB0aGUgYXJyYXkuIEl0J3MgaGFyZCwgYnV0IG5vdCBpbXBvc3NpYmxlIHRvXG4gICAgICAgIC8vIHNldCB1cCBhIGJ1ZmZlciB0aW1lIHRoYXQgY291bGQgbXV0YXRlIHRoZSBhcnJheSBhbmRcbiAgICAgICAgLy8gY2F1c2UgaXNzdWVzIGhlcmUuXG4gICAgICAgIGNvbnN0IHJlY29yZHNDb3B5ID0gYnVmZmVyUmVjb3JkcyEuc2xpY2UoKTtcbiAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkc0NvcHkpIHtcbiAgICAgICAgICAvLyBMb29wIG92ZXIgYWxsIGJ1ZmZlcnMgYW5kXG4gICAgICAgICAgY29uc3QgeyBidWZmZXIgfSA9IHJlY29yZDtcbiAgICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgLy8gSWYgdGhlIGJ1ZmZlciBpcyBvdmVyIHRoZSBtYXggc2l6ZSwgd2UgbmVlZCB0byBlbWl0IGl0LlxuICAgICAgICAgIG1heEJ1ZmZlclNpemUgPD0gYnVmZmVyLmxlbmd0aCAmJiBlbWl0KHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIC8vIFRoZSBzb3VyY2UgY29tcGxldGVkLCBlbWl0IGFsbCBvZiB0aGUgYWN0aXZlXG4gICAgICAgIC8vIGJ1ZmZlcnMgd2UgaGF2ZSBiZWZvcmUgd2UgY29tcGxldGUuXG4gICAgICAgIHdoaWxlIChidWZmZXJSZWNvcmRzPy5sZW5ndGgpIHtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVyUmVjb3Jkcy5zaGlmdCgpIS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlclRpbWVTdWJzY3JpYmVyPy51bnN1YnNjcmliZSgpO1xuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgIH0sXG4gICAgICAvLyBQYXNzIGFsbCBlcnJvcnMgdGhyb3VnaCB0byBjb25zdW1lci5cbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIC8vIENsZWFuIHVwXG4gICAgICAoKSA9PiAoYnVmZmVyUmVjb3JkcyA9IG51bGwpXG4gICAgKTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoYnVmZmVyVGltZVN1YnNjcmliZXIpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xuXG4vKipcbiAqIEJ1ZmZlcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyBzdGFydGluZyBmcm9tIGFuIGVtaXNzaW9uIGZyb21cbiAqIGBvcGVuaW5nc2AgYW5kIGVuZGluZyB3aGVuIHRoZSBvdXRwdXQgb2YgYGNsb3NpbmdTZWxlY3RvcmAgZW1pdHMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNvbGxlY3RzIHZhbHVlcyBmcm9tIHRoZSBwYXN0IGFzIGFuIGFycmF5LiBTdGFydHNcbiAqIGNvbGxlY3Rpbmcgb25seSB3aGVuIGBvcGVuaW5nYCBlbWl0cywgYW5kIGNhbGxzIHRoZSBgY2xvc2luZ1NlbGVjdG9yYFxuICogZnVuY3Rpb24gdG8gZ2V0IGFuIE9ic2VydmFibGUgdGhhdCB0ZWxscyB3aGVuIHRvIGNsb3NlIHRoZSBidWZmZXIuPC9zcGFuPlxuICpcbiAqICFbXShidWZmZXJUb2dnbGUucG5nKVxuICpcbiAqIEJ1ZmZlcnMgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBieSBvcGVuaW5nIHRoZSBidWZmZXIgdmlhIHNpZ25hbHMgZnJvbSBhblxuICogT2JzZXJ2YWJsZSBwcm92aWRlZCB0byBgb3BlbmluZ3NgLCBhbmQgY2xvc2luZyBhbmQgc2VuZGluZyB0aGUgYnVmZmVycyB3aGVuXG4gKiBhIFN1YnNjcmliYWJsZSBvciBQcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgY2xvc2luZ1NlbGVjdG9yYCBmdW5jdGlvbiBlbWl0cy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRXZlcnkgb3RoZXIgc2Vjb25kLCBlbWl0IHRoZSBjbGljayBldmVudHMgZnJvbSB0aGUgbmV4dCA1MDBtc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGludGVydmFsLCBidWZmZXJUb2dnbGUsIEVNUFRZIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IG9wZW5pbmdzID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCBidWZmZXJlZCA9IGNsaWNrcy5waXBlKGJ1ZmZlclRvZ2dsZShvcGVuaW5ncywgaSA9PlxuICogICBpICUgMiA/IGludGVydmFsKDUwMCkgOiBFTVBUWVxuICogKSk7XG4gKiBidWZmZXJlZC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBidWZmZXJ9XG4gKiBAc2VlIHtAbGluayBidWZmZXJDb3VudH1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlclRpbWV9XG4gKiBAc2VlIHtAbGluayBidWZmZXJXaGVufVxuICogQHNlZSB7QGxpbmsgd2luZG93VG9nZ2xlfVxuICpcbiAqIEBwYXJhbSBvcGVuaW5ncyBBIFN1YnNjcmliYWJsZSBvciBQcm9taXNlIG9mIG5vdGlmaWNhdGlvbnMgdG8gc3RhcnQgbmV3XG4gKiBidWZmZXJzLlxuICogQHBhcmFtIGNsb3NpbmdTZWxlY3RvciBBIGZ1bmN0aW9uIHRoYXQgdGFrZXNcbiAqIHRoZSB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBgb3BlbmluZ3NgIG9ic2VydmFibGUgYW5kIHJldHVybnMgYSBTdWJzY3JpYmFibGUgb3IgUHJvbWlzZSxcbiAqIHdoaWNoLCB3aGVuIGl0IGVtaXRzLCBzaWduYWxzIHRoYXQgdGhlIGFzc29jaWF0ZWQgYnVmZmVyIHNob3VsZCBiZSBlbWl0dGVkXG4gKiBhbmQgY2xlYXJlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBhcnJheXMgb2YgYnVmZmVyZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVG9nZ2xlPFQsIE8+KFxuICBvcGVuaW5nczogT2JzZXJ2YWJsZUlucHV0PE8+LFxuICBjbG9zaW5nU2VsZWN0b3I6ICh2YWx1ZTogTykgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT5cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCBidWZmZXJzOiBUW11bXSA9IFtdO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBvcGVuaW5ncyBub3RpZmllciBmaXJzdFxuICAgIGlubmVyRnJvbShvcGVuaW5ncykuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAob3BlblZhbHVlKSA9PiB7XG4gICAgICAgICAgY29uc3QgYnVmZmVyOiBUW10gPSBbXTtcbiAgICAgICAgICBidWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAvLyBXZSB1c2UgdGhpcyBjb21wb3NpdGUgc3Vic2NyaXB0aW9uLCBzbyB0aGF0XG4gICAgICAgICAgLy8gd2hlbiB0aGUgY2xvc2luZyBub3RpZmllciBlbWl0cywgd2UgY2FuIHRlYXIgaXQgZG93bi5cbiAgICAgICAgICBjb25zdCBjbG9zaW5nU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gICAgICAgICAgY29uc3QgZW1pdEJ1ZmZlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGFyclJlbW92ZShidWZmZXJzLCBidWZmZXIpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGJ1ZmZlcik7XG4gICAgICAgICAgICBjbG9zaW5nU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFRoZSBsaW5lIGJlbG93IHdpbGwgYWRkIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIHBhcmVudCBzdWJzY3JpYmVyICphbmQqIHRoZSBjbG9zaW5nIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgICBjbG9zaW5nU3Vic2NyaXB0aW9uLmFkZChpbm5lckZyb20oY2xvc2luZ1NlbGVjdG9yKG9wZW5WYWx1ZSkpLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW1pdEJ1ZmZlciwgbm9vcCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgbm9vcFxuICAgICAgKVxuICAgICk7XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAvLyBWYWx1ZSBmcm9tIG91ciBzb3VyY2UuIEFkZCBpdCB0byBhbGwgcGVuZGluZyBidWZmZXJzLlxuICAgICAgICAgIGZvciAoY29uc3QgYnVmZmVyIG9mIGJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBTb3VyY2UgY29tcGxldGUuIEVtaXQgYWxsIHBlbmRpbmcgYnVmZmVycy5cbiAgICAgICAgICB3aGlsZSAoYnVmZmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYnVmZmVycy5zaGlmdCgpISk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBCdWZmZXJzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMsIHVzaW5nIGEgZmFjdG9yeSBmdW5jdGlvbiBvZiBjbG9zaW5nXG4gKiBPYnNlcnZhYmxlcyB0byBkZXRlcm1pbmUgd2hlbiB0byBjbG9zZSwgZW1pdCwgYW5kIHJlc2V0IHRoZSBidWZmZXIuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkNvbGxlY3RzIHZhbHVlcyBmcm9tIHRoZSBwYXN0IGFzIGFuIGFycmF5LiBXaGVuIGl0XG4gKiBzdGFydHMgY29sbGVjdGluZyB2YWx1ZXMsIGl0IGNhbGxzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdFxuICogdGVsbHMgd2hlbiB0byBjbG9zZSB0aGUgYnVmZmVyIGFuZCByZXN0YXJ0IGNvbGxlY3RpbmcuPC9zcGFuPlxuICpcbiAqICFbXShidWZmZXJXaGVuLnN2ZylcbiAqXG4gKiBPcGVucyBhIGJ1ZmZlciBpbW1lZGlhdGVseSwgdGhlbiBjbG9zZXMgdGhlIGJ1ZmZlciB3aGVuIHRoZSBvYnNlcnZhYmxlXG4gKiByZXR1cm5lZCBieSBjYWxsaW5nIGBjbG9zaW5nU2VsZWN0b3JgIGZ1bmN0aW9uIGVtaXRzIGEgdmFsdWUuIFdoZW4gaXQgY2xvc2VzXG4gKiB0aGUgYnVmZmVyLCBpdCBpbW1lZGlhdGVseSBvcGVucyBhIG5ldyBidWZmZXIgYW5kIHJlcGVhdHMgdGhlIHByb2Nlc3MuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgYW4gYXJyYXkgb2YgdGhlIGxhc3QgY2xpY2tzIGV2ZXJ5IFsxLTVdIHJhbmRvbSBzZWNvbmRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgYnVmZmVyV2hlbiwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgYnVmZmVyZWQgPSBjbGlja3MucGlwZShcbiAqICAgYnVmZmVyV2hlbigoKSA9PiBpbnRlcnZhbCgxMDAwICsgTWF0aC5yYW5kb20oKSAqIDQwMDApKVxuICogKTtcbiAqIGJ1ZmZlcmVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlckNvdW50fVxuICogQHNlZSB7QGxpbmsgYnVmZmVyVGltZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlclRvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1doZW59XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbigpOiBPYnNlcnZhYmxlfSBjbG9zaW5nU2VsZWN0b3IgQSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vXG4gKiBhcmd1bWVudHMgYW5kIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHNpZ25hbHMgYnVmZmVyIGNsb3N1cmUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgYXJyYXlzIG9mIGJ1ZmZlcmVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcldoZW48VD4oY2xvc2luZ1NlbGVjdG9yOiAoKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtdPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgYnVmZmVyIHdlIGtlZXAgYW5kIGVtaXQuXG4gICAgbGV0IGJ1ZmZlcjogVFtdIHwgbnVsbCA9IG51bGw7XG4gICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIHN1YnNjcmliZXIgdXNlZCB0byBzdWJzY3JpYmUgdG9cbiAgICAvLyB0aGUgY2xvc2luZyBub3RpZmllci4gV2UgbmVlZCB0byBob2xkIHRoaXMgc28gd2UgY2FuXG4gICAgLy8gZW5kIHRoZSBzdWJzY3JpcHRpb24gYWZ0ZXIgdGhlIGZpcnN0IG5vdGlmaWNhdGlvbi5cbiAgICBsZXQgY2xvc2luZ1N1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4gfCBudWxsID0gbnVsbDtcblxuICAgIC8vIEVuZHMgdGhlIHByZXZpb3VzIGNsb3Npbmcgbm90aWZpZXIgc3Vic2NyaXB0aW9uLCBzbyBpdFxuICAgIC8vIHRlcm1pbmF0ZXMgYWZ0ZXIgdGhlIGZpcnN0IGVtaXNzaW9uLCB0aGVuIGVtaXRzXG4gICAgLy8gdGhlIGN1cnJlbnQgYnVmZmVyICBpZiB0aGVyZSBpcyBvbmUsIHN0YXJ0cyBhIG5ldyBidWZmZXIsIGFuZCBzdGFydHMgYVxuICAgIC8vIG5ldyBjbG9zaW5nIG5vdGlmaWVyLlxuICAgIGNvbnN0IG9wZW5CdWZmZXIgPSAoKSA9PiB7XG4gICAgICAvLyBNYWtlIHN1cmUgdG8gZmluYWxpemUgdGhlIGNsb3Npbmcgc3Vic2NyaXB0aW9uLCB3ZSBvbmx5IGNhcmVkXG4gICAgICAvLyBhYm91dCBvbmUgbm90aWZpY2F0aW9uLlxuICAgICAgY2xvc2luZ1N1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAvLyBlbWl0IHRoZSBidWZmZXIgaWYgd2UgaGF2ZSBvbmUsIGFuZCBzdGFydCBhIG5ldyBidWZmZXIuXG4gICAgICBjb25zdCBiID0gYnVmZmVyO1xuICAgICAgYnVmZmVyID0gW107XG4gICAgICBiICYmIHN1YnNjcmliZXIubmV4dChiKTtcblxuICAgICAgLy8gR2V0IGEgbmV3IGNsb3Npbmcgbm90aWZpZXIgYW5kIHN1YnNjcmliZSB0byBpdC5cbiAgICAgIGlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3IoKSkuc3Vic2NyaWJlKChjbG9zaW5nU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvcGVuQnVmZmVyLCBub29wKSkpO1xuICAgIH07XG5cbiAgICAvLyBTdGFydCB0aGUgZmlyc3QgYnVmZmVyLlxuICAgIG9wZW5CdWZmZXIoKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBvdXIgc291cmNlLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIC8vIEFkZCBldmVyeSBuZXcgdmFsdWUgdG8gdGhlIGN1cnJlbnQgYnVmZmVyLlxuICAgICAgICAodmFsdWUpID0+IGJ1ZmZlcj8ucHVzaCh2YWx1ZSksXG4gICAgICAgIC8vIFdoZW4gd2UgY29tcGxldGUsIGVtaXQgdGhlIGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZSxcbiAgICAgICAgLy8gdGhlbiBjb21wbGV0ZSB0aGUgcmVzdWx0LlxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgYnVmZmVyICYmIHN1YnNjcmliZXIubmV4dChidWZmZXIpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUGFzcyBhbGwgZXJyb3JzIHRocm91Z2ggdG8gY29uc3VtZXIuXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgLy8gUmVsZWFzZSBtZW1vcnkgb24gZmluYWxpemF0aW9uXG4gICAgICAgICgpID0+IChidWZmZXIgPSBjbG9zaW5nU3Vic2NyaWJlciA9IG51bGwhKVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gY2F0Y2hFcnJvcjxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBzZWxlY3RvcjogKGVycjogYW55LCBjYXVnaHQ6IE9ic2VydmFibGU8VD4pID0+IE9cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIENhdGNoZXMgZXJyb3JzIG9uIHRoZSBvYnNlcnZhYmxlIHRvIGJlIGhhbmRsZWQgYnkgcmV0dXJuaW5nIGEgbmV3IG9ic2VydmFibGUgb3IgdGhyb3dpbmcgYW4gZXJyb3IuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlxuICogSXQgb25seSBsaXN0ZW5zIHRvIHRoZSBlcnJvciBjaGFubmVsIGFuZCBpZ25vcmVzIG5vdGlmaWNhdGlvbnMuXG4gKiBIYW5kbGVzIGVycm9ycyBmcm9tIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSwgYW5kIG1hcHMgdGhlbSB0byBhIG5ldyBvYnNlcnZhYmxlLlxuICogVGhlIGVycm9yIG1heSBhbHNvIGJlIHJldGhyb3duLCBvciBhIG5ldyBlcnJvciBjYW4gYmUgdGhyb3duIHRvIGVtaXQgYW4gZXJyb3IgZnJvbSB0aGUgcmVzdWx0LlxuICogPC9zcGFuPlxuICpcbiAqICFbXShjYXRjaC5wbmcpXG4gKlxuICogVGhpcyBvcGVyYXRvciBoYW5kbGVzIGVycm9ycywgYnV0IGZvcndhcmRzIGFsb25nIGFsbCBvdGhlciBldmVudHMgdG8gdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlLlxuICogSWYgdGhlIHNvdXJjZSBvYnNlcnZhYmxlIHRlcm1pbmF0ZXMgd2l0aCBhbiBlcnJvciwgaXQgd2lsbCBtYXAgdGhhdCBlcnJvciB0byBhIG5ldyBvYnNlcnZhYmxlLFxuICogc3Vic2NyaWJlIHRvIGl0LCBhbmQgZm9yd2FyZCBhbGwgb2YgaXRzIGV2ZW50cyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBDb250aW51ZSB3aXRoIGEgZGlmZmVyZW50IE9ic2VydmFibGUgd2hlbiB0aGVyZSdzIGFuIGVycm9yXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAyLCAzLCA0LCA1KVxuICogICAucGlwZShcbiAqICAgICBtYXAobiA9PiB7XG4gKiAgICAgICBpZiAobiA9PT0gNCkge1xuICogICAgICAgICB0aHJvdyAnZm91ciEnO1xuICogICAgICAgfVxuICogICAgICAgcmV0dXJuIG47XG4gKiAgICAgfSksXG4gKiAgICAgY2F0Y2hFcnJvcihlcnIgPT4gb2YoJ0knLCAnSUknLCAnSUlJJywgJ0lWJywgJ1YnKSlcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogICAvLyAxLCAyLCAzLCBJLCBJSSwgSUlJLCBJViwgVlxuICogYGBgXG4gKlxuICogUmV0cnkgdGhlIGNhdWdodCBzb3VyY2UgT2JzZXJ2YWJsZSBhZ2FpbiBpbiBjYXNlIG9mIGVycm9yLCBzaW1pbGFyIHRvIGByZXRyeSgpYCBvcGVyYXRvclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWFwLCBjYXRjaEVycm9yLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoMSwgMiwgMywgNCwgNSlcbiAqICAgLnBpcGUoXG4gKiAgICAgbWFwKG4gPT4ge1xuICogICAgICAgaWYgKG4gPT09IDQpIHtcbiAqICAgICAgICAgdGhyb3cgJ2ZvdXIhJztcbiAqICAgICAgIH1cbiAqICAgICAgIHJldHVybiBuO1xuICogICAgIH0pLFxuICogICAgIGNhdGNoRXJyb3IoKGVyciwgY2F1Z2h0KSA9PiBjYXVnaHQpLFxuICogICAgIHRha2UoMzApXG4gKiAgIClcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqICAgLy8gMSwgMiwgMywgMSwgMiwgMywgLi4uXG4gKiBgYGBcbiAqXG4gKiBUaHJvdyBhIG5ldyBlcnJvciB3aGVuIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aHJvd3MgYW4gZXJyb3JcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG1hcCwgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKDEsIDIsIDMsIDQsIDUpXG4gKiAgIC5waXBlKFxuICogICAgIG1hcChuID0+IHtcbiAqICAgICAgIGlmIChuID09PSA0KSB7XG4gKiAgICAgICAgIHRocm93ICdmb3VyISc7XG4gKiAgICAgICB9XG4gKiAgICAgICByZXR1cm4gbjtcbiAqICAgICB9KSxcbiAqICAgICBjYXRjaEVycm9yKGVyciA9PiB7XG4gKiAgICAgICB0aHJvdyAnZXJyb3IgaW4gc291cmNlLiBEZXRhaWxzOiAnICsgZXJyO1xuICogICAgIH0pXG4gKiAgIClcbiAqICAgLnN1YnNjcmliZSh7XG4gKiAgICAgbmV4dDogeCA9PiBjb25zb2xlLmxvZyh4KSxcbiAqICAgICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKGVycilcbiAqICAgfSk7XG4gKiAgIC8vIDEsIDIsIDMsIGVycm9yIGluIHNvdXJjZS4gRGV0YWlsczogZm91ciFcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIG9uRXJyb3JSZXN1bWVOZXh0fVxuICogQHNlZSB7QGxpbmsgcmVwZWF0fVxuICogQHNlZSB7QGxpbmsgcmVwZWF0V2hlbn1cbiAqIEBzZWUge0BsaW5rIHJldHJ5IH1cbiAqIEBzZWUge0BsaW5rIHJldHJ5V2hlbn1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzZWxlY3RvciBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYXMgYXJndW1lbnRzIGBlcnJgLCB3aGljaCBpcyB0aGUgZXJyb3IsIGFuZCBgY2F1Z2h0YCwgd2hpY2hcbiAqIGlzIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSwgaW4gY2FzZSB5b3UnZCBsaWtlIHRvIFwicmV0cnlcIiB0aGF0IG9ic2VydmFibGUgYnkgcmV0dXJuaW5nIGl0IGFnYWluLiBXaGF0ZXZlciBvYnNlcnZhYmxlXG4gKiBpcyByZXR1cm5lZCBieSB0aGUgYHNlbGVjdG9yYCB3aWxsIGJlIHVzZWQgdG8gY29udGludWUgdGhlIG9ic2VydmFibGUgY2hhaW4uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBvcmlnaW5hdGVzIGZyb20gZWl0aGVyXG4gKiB0aGUgc291cmNlIG9yIHRoZSBPYnNlcnZhYmxlIHJldHVybmVkIGJ5IHRoZSBgc2VsZWN0b3JgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2F0Y2hFcnJvcjxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBzZWxlY3RvcjogKGVycjogYW55LCBjYXVnaHQ6IE9ic2VydmFibGU8VD4pID0+IE9cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGlubmVyU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcbiAgICBsZXQgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgbGV0IGhhbmRsZWRSZXN1bHQ6IE9ic2VydmFibGU8T2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuICAgIGlubmVyU3ViID0gc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVkUmVzdWx0ID0gaW5uZXJGcm9tKHNlbGVjdG9yKGVyciwgY2F0Y2hFcnJvcihzZWxlY3Rvcikoc291cmNlKSkpO1xuICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICBoYW5kbGVkUmVzdWx0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZSBkb24ndCBoYXZlIGFuIGlubmVyU3ViIHlldCwgdGhhdCBtZWFucyB0aGUgZXJyb3Igd2FzIHN5bmNocm9ub3VzXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGUgc3Vic2NyaWJlIGNhbGwgaGFzbid0IHJldHVybmVkIHlldC5cbiAgICAgICAgICBzeW5jVW5zdWIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG5cbiAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAvLyBXZSBoYXZlIGEgc3luY2hyb25vdXMgZXJyb3IsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRvXG4gICAgICAvLyBmaW5hbGl6ZSByaWdodCBhd2F5LiBUaGlzIGVuc3VyZXMgdGhhdCBjYWxsYmFja3MgaW4gdGhlIGBmaW5hbGl6ZWAgb3BlcmF0b3IgYXJlIGNhbGxlZFxuICAgICAgLy8gYXQgdGhlIHJpZ2h0IHRpbWUsIGFuZCB0aGF0IGZpbmFsaXphdGlvbiBvY2N1cnMgYXQgdGhlIGV4cGVjdGVkXG4gICAgICAvLyB0aW1lIGJldHdlZW4gdGhlIHNvdXJjZSBlcnJvciBhbmQgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGVcbiAgICAgIC8vIG5leHQgb2JzZXJ2YWJsZS5cbiAgICAgIGlubmVyU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICBpbm5lclN1YiA9IG51bGw7XG4gICAgICBoYW5kbGVkUmVzdWx0IS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3RBbGwgfSBmcm9tICcuL2NvbWJpbmVMYXRlc3RBbGwnO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8ge0BsaW5rIGNvbWJpbmVMYXRlc3RBbGx9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBjb25zdCBjb21iaW5lQWxsID0gY29tYmluZUxhdGVzdEFsbDtcbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3RJbml0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0JztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGFyZ3NPckFyZ0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcmdzT3JBcmdBcnJheSc7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICcuLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgcG9wUmVzdWx0U2VsZWN0b3IgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuXG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgY29tYmluZUxhdGVzdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPihcbiAgc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSxcbiAgcHJvamVjdDogKC4uLnZhbHVlczogW1QsIC4uLkFdKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGNvbWJpbmVMYXRlc3RXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgW1QsIC4uLkFdPjtcblxuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGNvbWJpbmVMYXRlc3RXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3Q8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIC4uLnNvdXJjZXNBbmRQcm9qZWN0OiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sICguLi52YWx1ZXM6IFtULCAuLi5BXSkgPT4gUl1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgY29tYmluZUxhdGVzdFdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdLCBSPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT3BlcmF0b3JGdW5jdGlvbjxULCBbVCwgLi4uQV0+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGNvbWJpbmVMYXRlc3RXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdDxULCBSPiguLi5hcmdzOiAoT2JzZXJ2YWJsZUlucHV0PGFueT4gfCAoKC4uLnZhbHVlczogYW55W10pID0+IFIpKVtdKTogT3BlcmF0b3JGdW5jdGlvbjxULCB1bmtub3duPiB7XG4gIGNvbnN0IHJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gIHJldHVybiByZXN1bHRTZWxlY3RvclxuICAgID8gcGlwZShjb21iaW5lTGF0ZXN0KC4uLihhcmdzIGFzIEFycmF5PE9ic2VydmFibGVJbnB1dDxhbnk+PikpLCBtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICBjb21iaW5lTGF0ZXN0SW5pdChbc291cmNlLCAuLi5hcmdzT3JBcmdBcnJheShhcmdzKV0pKHN1YnNjcmliZXIpO1xuICAgICAgfSk7XG59XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0JztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGpvaW5BbGxJbnRlcm5hbHMgfSBmcm9tICcuL2pvaW5BbGxJbnRlcm5hbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdEFsbDxUPigpOiBPcGVyYXRvckZ1bmN0aW9uPE9ic2VydmFibGVJbnB1dDxUPiwgVFtdPjtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0QWxsPFQ+KCk6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBUW10+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RBbGw8VCwgUj4ocHJvamVjdDogKC4uLnZhbHVlczogVFtdKSA9PiBSKTogT3BlcmF0b3JGdW5jdGlvbjxPYnNlcnZhYmxlSW5wdXQ8VD4sIFI+O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVMYXRlc3RBbGw8Uj4ocHJvamVjdDogKC4uLnZhbHVlczogQXJyYXk8YW55PikgPT4gUik6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBSPjtcblxuLyoqXG4gKiBGbGF0dGVucyBhbiBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzIGJ5IGFwcGx5aW5nIHtAbGluayBjb21iaW5lTGF0ZXN0fSB3aGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzIGNvbXBsZXRlcy5cbiAqXG4gKiBgY29tYmluZUxhdGVzdEFsbGAgdGFrZXMgYW4gT2JzZXJ2YWJsZSBvZiBPYnNlcnZhYmxlcywgYW5kIGNvbGxlY3RzIGFsbCBPYnNlcnZhYmxlcyBmcm9tIGl0LiBPbmNlIHRoZSBvdXRlciBPYnNlcnZhYmxlIGNvbXBsZXRlcyxcbiAqIGl0IHN1YnNjcmliZXMgdG8gYWxsIGNvbGxlY3RlZCBPYnNlcnZhYmxlcyBhbmQgY29tYmluZXMgdGhlaXIgdmFsdWVzIHVzaW5nIHRoZSB7QGxpbmsgY29tYmluZUxhdGVzdH0gc3RyYXRlZ3ksIHN1Y2ggdGhhdDpcbiAqXG4gKiAqIEV2ZXJ5IHRpbWUgYW4gaW5uZXIgT2JzZXJ2YWJsZSBlbWl0cywgdGhlIG91dHB1dCBPYnNlcnZhYmxlIGVtaXRzXG4gKiAqIFdoZW4gdGhlIHJldHVybmVkIG9ic2VydmFibGUgZW1pdHMsIGl0IGVtaXRzIGFsbCBvZiB0aGUgbGF0ZXN0IHZhbHVlcyBieTpcbiAqICAgICogSWYgYSBgcHJvamVjdGAgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGl0IGlzIGNhbGxlZCB3aXRoIGVhY2ggcmVjZW50IHZhbHVlIGZyb20gZWFjaCBpbm5lciBPYnNlcnZhYmxlIGluIHdoYXRldmVyIG9yZGVyIHRoZXlcbiAqICAgICAgYXJyaXZlZCwgYW5kIHRoZSByZXN1bHQgb2YgdGhlIGBwcm9qZWN0YCBmdW5jdGlvbiBpcyB3aGF0IGlzIGVtaXR0ZWQgYnkgdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICogICAgKiBJZiB0aGVyZSBpcyBubyBgcHJvamVjdGAgZnVuY3Rpb24sIGFuIGFycmF5IG9mIGFsbCB0aGUgbW9zdCByZWNlbnQgdmFsdWVzIGlzIGVtaXR0ZWQgYnkgdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBNYXAgdHdvIGNsaWNrIGV2ZW50cyB0byBhIGZpbml0ZSBpbnRlcnZhbCBPYnNlcnZhYmxlLCB0aGVuIGFwcGx5IGBjb21iaW5lTGF0ZXN0QWxsYFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCwgaW50ZXJ2YWwsIHRha2UsIGNvbWJpbmVMYXRlc3RBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgaGlnaGVyT3JkZXIgPSBjbGlja3MucGlwZShcbiAqICAgbWFwKCgpID0+IGludGVydmFsKE1hdGgucmFuZG9tKCkgKiAyMDAwKS5waXBlKHRha2UoMykpKSxcbiAqICAgdGFrZSgyKVxuICogKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGhpZ2hlck9yZGVyLnBpcGUoY29tYmluZUxhdGVzdEFsbCgpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdH1cbiAqIEBzZWUge0BsaW5rIGNvbWJpbmVMYXRlc3RXaXRofVxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKlxuICogQHBhcmFtIHByb2plY3Qgb3B0aW9uYWwgZnVuY3Rpb24gdG8gbWFwIHRoZSBtb3N0IHJlY2VudCB2YWx1ZXMgZnJvbSBlYWNoIGlubmVyIE9ic2VydmFibGUgaW50byBhIG5ldyByZXN1bHQuXG4gKiBUYWtlcyBlYWNoIG9mIHRoZSBtb3N0IHJlY2VudCB2YWx1ZXMgZnJvbSBlYWNoIGNvbGxlY3RlZCBpbm5lciBPYnNlcnZhYmxlIGFzIGFyZ3VtZW50cywgaW4gb3JkZXIuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBmbGF0dGVucyBPYnNlcnZhYmxlc1xuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0QWxsPFI+KHByb2plY3Q/OiAoLi4udmFsdWVzOiBBcnJheTxhbnk+KSA9PiBSKSB7XG4gIHJldHVybiBqb2luQWxsSW50ZXJuYWxzKGNvbWJpbmVMYXRlc3QsIHByb2plY3QpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24sIENvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0IH0gZnJvbSAnLi9jb21iaW5lTGF0ZXN0JztcblxuLyoqXG4gKiBDcmVhdGUgYW4gb2JzZXJ2YWJsZSB0aGF0IGNvbWJpbmVzIHRoZSBsYXRlc3QgdmFsdWVzIGZyb20gYWxsIHBhc3NlZCBvYnNlcnZhYmxlcyBhbmQgdGhlIHNvdXJjZVxuICogaW50byBhcnJheXMgYW5kIGVtaXRzIHRoZW0uXG4gKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlLCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgd2lsbCBzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGFuZCBhbGxcbiAqIHNvdXJjZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzLiBPbmNlIGFsbCBzb3VyY2VzIGVtaXQgYXQgbGVhc3Qgb25lIHZhbHVlLCBhbGwgb2YgdGhlIGxhdGVzdCB2YWx1ZXNcbiAqIHdpbGwgYmUgZW1pdHRlZCBhcyBhbiBhcnJheS4gQWZ0ZXIgdGhhdCwgZXZlcnkgdGltZSBhbnkgc291cmNlIGVtaXRzIGEgdmFsdWUsIGFsbCBvZiB0aGUgbGF0ZXN0IHZhbHVlc1xuICogd2lsbCBiZSBlbWl0dGVkIGFzIGFuIGFycmF5LlxuICpcbiAqIFRoaXMgaXMgYSB1c2VmdWwgb3BlcmF0b3IgZm9yIGVhZ2VybHkgY2FsY3VsYXRpbmcgdmFsdWVzIGJhc2VkIG9mZiBvZiBjaGFuZ2VkIGlucHV0cy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU2ltcGxlIGNvbmNhdGVuYXRpb24gb2YgdmFsdWVzIGZyb20gdHdvIGlucHV0c1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGNvbWJpbmVMYXRlc3RXaXRoLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBTZXR1cDogQWRkIHR3byBpbnB1dHMgdG8gdGhlIHBhZ2VcbiAqIGNvbnN0IGlucHV0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlucHV0MSk7XG4gKiBjb25zdCBpbnB1dDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dDIpO1xuICpcbiAqIC8vIEdldCBzdHJlYW1zIG9mIGNoYW5nZXNcbiAqIGNvbnN0IGlucHV0MUNoYW5nZXMkID0gZnJvbUV2ZW50KGlucHV0MSwgJ2NoYW5nZScpO1xuICogY29uc3QgaW5wdXQyQ2hhbmdlcyQgPSBmcm9tRXZlbnQoaW5wdXQyLCAnY2hhbmdlJyk7XG4gKlxuICogLy8gQ29tYmluZSB0aGUgY2hhbmdlcyBieSBhZGRpbmcgdGhlbSB0b2dldGhlclxuICogaW5wdXQxQ2hhbmdlcyQucGlwZShcbiAqICAgY29tYmluZUxhdGVzdFdpdGgoaW5wdXQyQ2hhbmdlcyQpLFxuICogICBtYXAoKFtlMSwgZTJdKSA9PiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZTEudGFyZ2V0KS52YWx1ZSArICcgLSAnICsgKDxIVE1MSW5wdXRFbGVtZW50PmUyLnRhcmdldCkudmFsdWUpXG4gKiApXG4gKiAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIG90aGVyU291cmNlcyB0aGUgb3RoZXIgc291cmNlcyB0byBzdWJzY3JpYmUgdG8uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgbGF0ZXN0XG4gKiBlbWlzc2lvbnMgZnJvbSBib3RoIHNvdXJjZSBhbmQgcHJvdmlkZWQgT2JzZXJ2YWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0V2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4ub3RoZXJTb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIENvbnM8VCwgQT4+IHtcbiAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoLi4ub3RoZXJTb3VyY2VzKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlLCBPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjb25jYXRBbGwgfSBmcm9tICcuL2NvbmNhdEFsbCc7XG5pbXBvcnQgeyBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5cbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBjb25jYXRXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBjb25jYXRXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBTY2hlZHVsZXJMaWtlXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBjb25jYXRXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0PFQsIFI+KC4uLmFyZ3M6IGFueVtdKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIGNvbnN0IHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGNvbmNhdEFsbCgpKGZyb20oW3NvdXJjZSwgLi4uYXJnc10sIHNjaGVkdWxlcikpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4vbWVyZ2VBbGwnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQ29udmVydHMgYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZSBpbnRvIGEgZmlyc3Qtb3JkZXIgT2JzZXJ2YWJsZSBieVxuICogY29uY2F0ZW5hdGluZyB0aGUgaW5uZXIgT2JzZXJ2YWJsZXMgaW4gb3JkZXIuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIGFuIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMgYnkgcHV0dGluZyBvbmVcbiAqIGlubmVyIE9ic2VydmFibGUgYWZ0ZXIgdGhlIG90aGVyLjwvc3Bhbj5cbiAqXG4gKiAhW10oY29uY2F0QWxsLnN2ZylcbiAqXG4gKiBKb2lucyBldmVyeSBPYnNlcnZhYmxlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSAoYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZSksIGluXG4gKiBhIHNlcmlhbCBmYXNoaW9uLiBJdCBzdWJzY3JpYmVzIHRvIGVhY2ggaW5uZXIgT2JzZXJ2YWJsZSBvbmx5IGFmdGVyIHRoZVxuICogcHJldmlvdXMgaW5uZXIgT2JzZXJ2YWJsZSBoYXMgY29tcGxldGVkLCBhbmQgbWVyZ2VzIGFsbCBvZiB0aGVpciB2YWx1ZXMgaW50b1xuICogdGhlIHJldHVybmVkIG9ic2VydmFibGUuXG4gKlxuICogX19XYXJuaW5nOl9fIElmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBPYnNlcnZhYmxlcyBxdWlja2x5IGFuZFxuICogZW5kbGVzc2x5LCBhbmQgdGhlIGlubmVyIE9ic2VydmFibGVzIGl0IGVtaXRzIGdlbmVyYWxseSBjb21wbGV0ZSBzbG93ZXIgdGhhblxuICogdGhlIHNvdXJjZSBlbWl0cywgeW91IGNhbiBydW4gaW50byBtZW1vcnkgaXNzdWVzIGFzIHRoZSBpbmNvbWluZyBPYnNlcnZhYmxlc1xuICogY29sbGVjdCBpbiBhbiB1bmJvdW5kZWQgYnVmZmVyLlxuICpcbiAqIE5vdGU6IGBjb25jYXRBbGxgIGlzIGVxdWl2YWxlbnQgdG8gYG1lcmdlQWxsYCB3aXRoIGNvbmN1cnJlbmN5IHBhcmFtZXRlciBzZXRcbiAqIHRvIGAxYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRm9yIGVhY2ggY2xpY2sgZXZlbnQsIHRpY2sgZXZlcnkgc2Vjb25kIGZyb20gMCB0byAzLCB3aXRoIG5vIGNvbmN1cnJlbmN5XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwLCBpbnRlcnZhbCwgdGFrZSwgY29uY2F0QWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGhpZ2hlck9yZGVyID0gY2xpY2tzLnBpcGUoXG4gKiAgIG1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNCkpKVxuICogKTtcbiAqIGNvbnN0IGZpcnN0T3JkZXIgPSBoaWdoZXJPcmRlci5waXBlKGNvbmNhdEFsbCgpKTtcbiAqIGZpcnN0T3JkZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZzpcbiAqIC8vIChyZXN1bHRzIGFyZSBub3QgY29uY3VycmVudClcbiAqIC8vIEZvciBldmVyeSBjbGljayBvbiB0aGUgXCJkb2N1bWVudFwiIGl0IHdpbGwgZW1pdCB2YWx1ZXMgMCB0byAzIHNwYWNlZFxuICogLy8gb24gYSAxMDAwbXMgaW50ZXJ2YWxcbiAqIC8vIG9uZSBjbGljayA9IDEwMDBtcy0+IDAgLTEwMDBtcy0+IDEgLTEwMDBtcy0+IDIgLTEwMDBtcy0+IDNcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbWJpbmVMYXRlc3RBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXR9XG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXB9XG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXBUb31cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZUFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaEFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqIEBzZWUge0BsaW5rIHppcEFsbH1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgZW1pdHRpbmcgdmFsdWVzIGZyb20gYWxsIHRoZVxuICogaW5uZXIgT2JzZXJ2YWJsZXMgY29uY2F0ZW5hdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0QWxsPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oKTogT3BlcmF0b3JGdW5jdGlvbjxPLCBPYnNlcnZlZFZhbHVlT2Y8Tz4+IHtcbiAgcmV0dXJuIG1lcmdlQWxsKDEpO1xufVxuIiwiaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3RvcjogdW5kZWZpbmVkXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I6IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBpbiB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLCBpbiBhIHNlcmlhbGl6ZWQgZmFzaGlvbiB3YWl0aW5nIGZvciBlYWNoIG9uZSB0byBjb21wbGV0ZSBiZWZvcmVcbiAqIG1lcmdpbmcgdGhlIG5leHQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPk1hcHMgZWFjaCB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlLCB0aGVuIGZsYXR0ZW5zIGFsbCBvZlxuICogdGhlc2UgaW5uZXIgT2JzZXJ2YWJsZXMgdXNpbmcge0BsaW5rIGNvbmNhdEFsbH0uPC9zcGFuPlxuICpcbiAqICFbXShjb25jYXRNYXAucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGJhc2VkIG9uIGFwcGx5aW5nIGEgZnVuY3Rpb24gdGhhdCB5b3VcbiAqIHN1cHBseSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHdoZXJlIHRoYXQgZnVuY3Rpb25cbiAqIHJldHVybnMgYW4gKHNvLWNhbGxlZCBcImlubmVyXCIpIE9ic2VydmFibGUuIEVhY2ggbmV3IGlubmVyIE9ic2VydmFibGUgaXNcbiAqIGNvbmNhdGVuYXRlZCB3aXRoIHRoZSBwcmV2aW91cyBpbm5lciBPYnNlcnZhYmxlLlxuICpcbiAqIF9fV2FybmluZzpfXyBpZiBzb3VyY2UgdmFsdWVzIGFycml2ZSBlbmRsZXNzbHkgYW5kIGZhc3RlciB0aGFuIHRoZWlyXG4gKiBjb3JyZXNwb25kaW5nIGlubmVyIE9ic2VydmFibGVzIGNhbiBjb21wbGV0ZSwgaXQgd2lsbCByZXN1bHQgaW4gbWVtb3J5IGlzc3Vlc1xuICogYXMgaW5uZXIgT2JzZXJ2YWJsZXMgYW1hc3MgaW4gYW4gdW5ib3VuZGVkIGJ1ZmZlciB3YWl0aW5nIGZvciB0aGVpciB0dXJuIHRvXG4gKiBiZSBzdWJzY3JpYmVkIHRvLlxuICpcbiAqIE5vdGU6IGBjb25jYXRNYXBgIGlzIGVxdWl2YWxlbnQgdG8gYG1lcmdlTWFwYCB3aXRoIGNvbmN1cnJlbmN5IHBhcmFtZXRlciBzZXRcbiAqIHRvIGAxYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRm9yIGVhY2ggY2xpY2sgZXZlbnQsIHRpY2sgZXZlcnkgc2Vjb25kIGZyb20gMCB0byAzLCB3aXRoIG5vIGNvbmN1cnJlbmN5XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgY29uY2F0TWFwLCBpbnRlcnZhbCwgdGFrZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgY29uY2F0TWFwKGV2ID0+IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg0KSkpXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAocmVzdWx0cyBhcmUgbm90IGNvbmN1cnJlbnQpXG4gKiAvLyBGb3IgZXZlcnkgY2xpY2sgb24gdGhlIFwiZG9jdW1lbnRcIiBpdCB3aWxsIGVtaXQgdmFsdWVzIDAgdG8gMyBzcGFjZWRcbiAqIC8vIG9uIGEgMTAwMG1zIGludGVydmFsXG4gKiAvLyBvbmUgY2xpY2sgPSAxMDAwbXMtPiAwIC0xMDAwbXMtPiAxIC0xMDAwbXMtPiAyIC0xMDAwbXMtPiAzXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb25jYXR9XG4gKiBAc2VlIHtAbGluayBjb25jYXRBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXBUb31cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCA/aW5kZXg6IG51bWJlcik6IE9ic2VydmFibGVJbnB1dH0gcHJvamVjdCBBIGZ1bmN0aW9uXG4gKiB0aGF0LCB3aGVuIGFwcGxpZWQgdG8gYW4gaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcmV0dXJucyBhblxuICogT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSByZXN1bHQgb2ZcbiAqIGFwcGx5aW5nIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIChhbmQgdGhlIG9wdGlvbmFsIGRlcHJlY2F0ZWRcbiAqIGByZXN1bHRTZWxlY3RvcmApIHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgdGFraW5nXG4gKiB2YWx1ZXMgZnJvbSBlYWNoIHByb2plY3RlZCBpbm5lciBPYnNlcnZhYmxlIHNlcXVlbnRpYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICByZXR1cm4gaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikgPyBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgMSkgOiBtZXJnZU1hcChwcm9qZWN0LCAxKTtcbn1cbiIsImltcG9ydCB7IGNvbmNhdE1hcCB9IGZyb20gJy4vY29uY2F0TWFwJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8qKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjkuIFVzZSB7QGxpbmsgY29uY2F0TWFwfSBpbnN0ZWFkOiBgY29uY2F0TWFwKCgpID0+IHJlc3VsdClgICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwVG88TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4ob2JzZXJ2YWJsZTogTyk6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXBUbzxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgb2JzZXJ2YWJsZTogTyxcbiAgcmVzdWx0U2VsZWN0b3I6IHVuZGVmaW5lZFxuKTogT3BlcmF0b3JGdW5jdGlvbjx1bmtub3duLCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcFRvPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBvYnNlcnZhYmxlOiBPLFxuICByZXN1bHRTZWxlY3RvcjogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG5cbi8qKlxuICogUHJvamVjdHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gdGhlIHNhbWUgT2JzZXJ2YWJsZSB3aGljaCBpcyBtZXJnZWQgbXVsdGlwbGVcbiAqIHRpbWVzIGluIGEgc2VyaWFsaXplZCBmYXNoaW9uIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBjb25jYXRNYXB9LCBidXQgbWFwcyBlYWNoIHZhbHVlXG4gKiBhbHdheXMgdG8gdGhlIHNhbWUgaW5uZXIgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKGNvbmNhdE1hcFRvLnBuZylcbiAqXG4gKiBNYXBzIGVhY2ggc291cmNlIHZhbHVlIHRvIHRoZSBnaXZlbiBPYnNlcnZhYmxlIGBpbm5lck9ic2VydmFibGVgIHJlZ2FyZGxlc3NcbiAqIG9mIHRoZSBzb3VyY2UgdmFsdWUsIGFuZCB0aGVuIGZsYXR0ZW5zIHRob3NlIHJlc3VsdGluZyBPYnNlcnZhYmxlcyBpbnRvIG9uZVxuICogc2luZ2xlIE9ic2VydmFibGUsIHdoaWNoIGlzIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS4gRWFjaCBuZXcgYGlubmVyT2JzZXJ2YWJsZWBcbiAqIGluc3RhbmNlIGVtaXR0ZWQgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlIGlzIGNvbmNhdGVuYXRlZCB3aXRoIHRoZSBwcmV2aW91c1xuICogYGlubmVyT2JzZXJ2YWJsZWAgaW5zdGFuY2UuXG4gKlxuICogX19XYXJuaW5nOl9fIGlmIHNvdXJjZSB2YWx1ZXMgYXJyaXZlIGVuZGxlc3NseSBhbmQgZmFzdGVyIHRoYW4gdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgaW5uZXIgT2JzZXJ2YWJsZXMgY2FuIGNvbXBsZXRlLCBpdCB3aWxsIHJlc3VsdCBpbiBtZW1vcnkgaXNzdWVzXG4gKiBhcyBpbm5lciBPYnNlcnZhYmxlcyBhbWFzcyBpbiBhbiB1bmJvdW5kZWQgYnVmZmVyIHdhaXRpbmcgZm9yIHRoZWlyIHR1cm4gdG9cbiAqIGJlIHN1YnNjcmliZWQgdG8uXG4gKlxuICogTm90ZTogYGNvbmNhdE1hcFRvYCBpcyBlcXVpdmFsZW50IHRvIGBtZXJnZU1hcFRvYCB3aXRoIGNvbmN1cnJlbmN5IHBhcmFtZXRlclxuICogc2V0IHRvIGAxYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRm9yIGVhY2ggY2xpY2sgZXZlbnQsIHRpY2sgZXZlcnkgc2Vjb25kIGZyb20gMCB0byAzLCB3aXRoIG5vIGNvbmN1cnJlbmN5XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgY29uY2F0TWFwVG8sIGludGVydmFsLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICBjb25jYXRNYXBUbyhpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNCkpKVxuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gKHJlc3VsdHMgYXJlIG5vdCBjb25jdXJyZW50KVxuICogLy8gRm9yIGV2ZXJ5IGNsaWNrIG9uIHRoZSBcImRvY3VtZW50XCIgaXQgd2lsbCBlbWl0IHZhbHVlcyAwIHRvIDMgc3BhY2VkXG4gKiAvLyBvbiBhIDEwMDBtcyBpbnRlcnZhbFxuICogLy8gb25lIGNsaWNrID0gMTAwMG1zLT4gMCAtMTAwMG1zLT4gMSAtMTAwMG1zLT4gMiAtMTAwMG1zLT4gM1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29uY2F0fVxuICogQHNlZSB7QGxpbmsgY29uY2F0QWxsfVxuICogQHNlZSB7QGxpbmsgY29uY2F0TWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXBUb31cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcFRvfVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2YWJsZUlucHV0fSBpbm5lck9ic2VydmFibGUgQW4gT2JzZXJ2YWJsZSB0byByZXBsYWNlIGVhY2ggdmFsdWUgZnJvbVxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHZhbHVlcyBtZXJnZWQgdG9nZXRoZXIgYnlcbiAqIGpvaW5pbmcgdGhlIHBhc3NlZCBPYnNlcnZhYmxlIHdpdGggaXRzZWxmLCBvbmUgYWZ0ZXIgdGhlIG90aGVyLCBmb3IgZWFjaFxuICogdmFsdWUgZW1pdHRlZCBmcm9tIHRoZSBzb3VyY2UuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjkuIFVzZSB7QGxpbmsgY29uY2F0TWFwfSBpbnN0ZWFkOiBgY29uY2F0TWFwKCgpID0+IHJlc3VsdClgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRNYXBUbzxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgaW5uZXJPYnNlcnZhYmxlOiBPLFxuICByZXN1bHRTZWxlY3Rvcj86IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPiB8IFI+IHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpID8gY29uY2F0TWFwKCgpID0+IGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IpIDogY29uY2F0TWFwKCgpID0+IGlubmVyT2JzZXJ2YWJsZSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4vY29uY2F0JztcblxuLyoqXG4gKiBFbWl0cyBhbGwgb2YgdGhlIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSwgdGhlbiwgb25jZSBpdCBjb21wbGV0ZXMsIHN1YnNjcmliZXNcbiAqIHRvIGVhY2ggb2JzZXJ2YWJsZSBzb3VyY2UgcHJvdmlkZWQsIG9uZSBhdCBhIHRpbWUsIGVtaXR0aW5nIGFsbCBvZiB0aGVpciB2YWx1ZXMsIGFuZCBub3Qgc3Vic2NyaWJpbmdcbiAqIHRvIHRoZSBuZXh0IG9uZSB1bnRpbCBpdCBjb21wbGV0ZXMuXG4gKlxuICogYGNvbmNhdChhJCwgYiQsIGMkKWAgaXMgdGhlIHNhbWUgYXMgYGEkLnBpcGUoY29uY2F0V2l0aChiJCwgYyQpKWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIExpc3RlbiBmb3Igb25lIG1vdXNlIGNsaWNrLCB0aGVuIGxpc3RlbiBmb3IgYWxsIG1vdXNlIG1vdmVzLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCwgdGFrZSwgY29uY2F0V2l0aCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgbW92ZXMkID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnbW91c2Vtb3ZlJyk7XG4gKlxuICogY2xpY2tzJC5waXBlKFxuICogICBtYXAoKCkgPT4gJ2NsaWNrJyksXG4gKiAgIHRha2UoMSksXG4gKiAgIGNvbmNhdFdpdGgoXG4gKiAgICAgbW92ZXMkLnBpcGUoXG4gKiAgICAgICBtYXAoKCkgPT4gJ21vdmUnKVxuICogICAgIClcbiAqICAgKVxuICogKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyAnY2xpY2snXG4gKiAvLyAnbW92ZSdcbiAqIC8vICdtb3ZlJ1xuICogLy8gJ21vdmUnXG4gKiAvLyAuLi5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBvdGhlclNvdXJjZXMgT3RoZXIgb2JzZXJ2YWJsZSBzb3VyY2VzIHRvIHN1YnNjcmliZSB0bywgaW4gc2VxdWVuY2UsIGFmdGVyIHRoZSBvcmlnaW5hbCBzb3VyY2UgaXMgY29tcGxldGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBjb25jYXRlbmF0ZXNcbiAqIHN1YnNjcmlwdGlvbnMgdG8gdGhlIHNvdXJjZSBhbmQgcHJvdmlkZWQgT2JzZXJ2YWJsZXMgc3Vic2NyaWJpbmcgdG8gdGhlIG5leHRcbiAqIG9ubHkgb25jZSB0aGUgY3VycmVudCBzdWJzY3JpcHRpb24gY29tcGxldGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0V2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4ub3RoZXJTb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBBW251bWJlcl0+IHtcbiAgcmV0dXJuIGNvbmNhdCguLi5vdGhlclNvdXJjZXMpO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YsIFN1YmplY3RMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBmcm9tU3Vic2NyaWJhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tU3Vic2NyaWJhYmxlJztcblxuLyoqXG4gKiBBbiBvYmplY3QgdXNlZCB0byBjb25maWd1cmUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RDb25maWc8VD4ge1xuICAvKipcbiAgICogQSBmYWN0b3J5IGZ1bmN0aW9uIHVzZWQgdG8gY3JlYXRlIHRoZSBTdWJqZWN0IHRocm91Z2ggd2hpY2ggdGhlIHNvdXJjZVxuICAgKiBpcyBtdWx0aWNhc3QuIEJ5IGRlZmF1bHQsIHRoaXMgY3JlYXRlcyBhIHtAbGluayBTdWJqZWN0fS5cbiAgICovXG4gIGNvbm5lY3RvcjogKCkgPT4gU3ViamVjdExpa2U8VD47XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBmb3IgYGNvbm5lY3RgLlxuICovXG5jb25zdCBERUZBVUxUX0NPTkZJRzogQ29ubmVjdENvbmZpZzx1bmtub3duPiA9IHtcbiAgY29ubmVjdG9yOiAoKSA9PiBuZXcgU3ViamVjdDx1bmtub3duPigpLFxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9ic2VydmFibGUgYnkgbXVsdGljYXN0aW5nIHRoZSBzb3VyY2Ugd2l0aGluIGEgZnVuY3Rpb24gdGhhdFxuICogYWxsb3dzIHRoZSBkZXZlbG9wZXIgdG8gZGVmaW5lIHRoZSB1c2FnZSBvZiB0aGUgbXVsdGljYXN0IHByaW9yIHRvIGNvbm5lY3Rpb24uXG4gKlxuICogVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGlmIHRoZSBvYnNlcnZhYmxlIHNvdXJjZSB5b3Ugd2lzaCB0byBtdWx0aWNhc3QgY291bGRcbiAqIGJlIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cy4gVGhpcyBzZXRzIGl0IGFwYXJ0IGZyb20ge0BsaW5rIHNoYXJlfSwgd2hpY2gsIGluIHRoZVxuICogY2FzZSBvZiB0b3RhbGx5IHN5bmNocm9ub3VzIHNvdXJjZXMgd2lsbCBmYWlsIHRvIHNoYXJlIGEgc2luZ2xlIHN1YnNjcmlwdGlvbiB3aXRoXG4gKiBtdWx0aXBsZSBjb25zdW1lcnMsIGFzIGJ5IHRoZSB0aW1lIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgc2hhcmV9XG4gKiBoYXMgcmV0dXJuZWQsIGlmIHRoZSBzb3VyY2UgaXMgc3luY2hyb25vdXMgaXRzIGludGVybmFsIHJlZmVyZW5jZSBjb3VudCB3aWxsIGp1bXAgZnJvbVxuICogMCB0byAxIGJhY2sgdG8gMCBhbmQgcmVzZXQuXG4gKlxuICogVG8gdXNlIGBjb25uZWN0YCwgeW91IHByb3ZpZGUgYSBgc2VsZWN0b3JgIGZ1bmN0aW9uIHRoYXQgd2lsbCBnaXZlIHlvdVxuICogYSBtdWx0aWNhc3Qgb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdCB5ZXQgY29ubmVjdGVkLiBZb3UgdGhlbiB1c2UgdGhhdCBtdWx0aWNhc3Qgb2JzZXJ2YWJsZVxuICogdG8gY3JlYXRlIGEgcmVzdWx0aW5nIG9ic2VydmFibGUgdGhhdCwgd2hlbiBzdWJzY3JpYmVkLCB3aWxsIHNldCB1cCB5b3VyIG11bHRpY2FzdC4gVGhpcyBpc1xuICogZ2VuZXJhbGx5LCBidXQgbm90IGFsd2F5cywgYWNjb21wbGlzaGVkIHdpdGgge0BsaW5rIG1lcmdlfS5cbiAqXG4gKiBOb3RlIHRoYXQgdXNpbmcgYSB7QGxpbmsgdGFrZVVudGlsfSBpbnNpZGUgb2YgYGNvbm5lY3RgJ3MgYHNlbGVjdG9yYCBfbWlnaHRfIG1lYW4geW91IHdlcmUgbG9va2luZ1xuICogdG8gdXNlIHRoZSB7QGxpbmsgdGFrZVdoaWxlfSBvcGVyYXRvciBpbnN0ZWFkLlxuICpcbiAqIFdoZW4geW91IHN1YnNjcmliZSB0byB0aGUgcmVzdWx0IG9mIGBjb25uZWN0YCwgdGhlIGBzZWxlY3RvcmAgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQuIEFmdGVyXG4gKiB0aGUgYHNlbGVjdG9yYCBmdW5jdGlvbiByZXR1cm5zLCB0aGUgb2JzZXJ2YWJsZSBpdCByZXR1cm5zIHdpbGwgYmUgc3Vic2NyaWJlZCB0bywgX3RoZW5fIHRoZVxuICogbXVsdGljYXN0IHdpbGwgYmUgY29ubmVjdGVkIHRvIHRoZSBzb3VyY2UuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFNoYXJpbmcgYSB0b3RhbGx5IHN5bmNocm9ub3VzIG9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHRhcCwgY29ubmVjdCwgbWVyZ2UsIG1hcCwgZmlsdGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlJCA9IG9mKDEsIDIsIDMsIDQsIDUpLnBpcGUoXG4gKiAgIHRhcCh7XG4gKiAgICAgc3Vic2NyaWJlOiAoKSA9PiBjb25zb2xlLmxvZygnc3Vic2NyaXB0aW9uIHN0YXJ0ZWQnKSxcbiAqICAgICBuZXh0OiBuID0+IGNvbnNvbGUubG9nKGBzb3VyY2UgZW1pdHRlZCAkeyBuIH1gKVxuICogICB9KVxuICogKTtcbiAqXG4gKiBzb3VyY2UkLnBpcGUoXG4gKiAgIC8vIE5vdGljZSBpbiBoZXJlIHdlJ3JlIG1lcmdpbmcgMyBzdWJzY3JpcHRpb25zIHRvIGBzaGFyZWQkYC5cbiAqICAgY29ubmVjdChzaGFyZWQkID0+IG1lcmdlKFxuICogICAgIHNoYXJlZCQucGlwZShtYXAobiA9PiBgYWxsICR7IG4gfWApKSxcbiAqICAgICBzaGFyZWQkLnBpcGUoZmlsdGVyKG4gPT4gbiAlIDIgPT09IDApLCBtYXAobiA9PiBgZXZlbiAkeyBuIH1gKSksXG4gKiAgICAgc2hhcmVkJC5waXBlKGZpbHRlcihuID0+IG4gJSAyID09PSAxKSwgbWFwKG4gPT4gYG9kZCAkeyBuIH1gKSlcbiAqICAgKSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIEV4cGVjdGVkIG91dHB1dDogKG5vdGljZSBvbmx5IG9uZSBzdWJzY3JpcHRpb24pXG4gKiAnc3Vic2NyaXB0aW9uIHN0YXJ0ZWQnXG4gKiAnc291cmNlIGVtaXR0ZWQgMSdcbiAqICdhbGwgMSdcbiAqICdvZGQgMSdcbiAqICdzb3VyY2UgZW1pdHRlZCAyJ1xuICogJ2FsbCAyJ1xuICogJ2V2ZW4gMidcbiAqICdzb3VyY2UgZW1pdHRlZCAzJ1xuICogJ2FsbCAzJ1xuICogJ29kZCAzJ1xuICogJ3NvdXJjZSBlbWl0dGVkIDQnXG4gKiAnYWxsIDQnXG4gKiAnZXZlbiA0J1xuICogJ3NvdXJjZSBlbWl0dGVkIDUnXG4gKiAnYWxsIDUnXG4gKiAnb2RkIDUnXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBmdW5jdGlvbiB1c2VkIHRvIHNldCB1cCB0aGUgbXVsdGljYXN0LiBHaXZlcyB5b3UgYSBtdWx0aWNhc3Qgb2JzZXJ2YWJsZVxuICogdGhhdCBpcyBub3QgeWV0IGNvbm5lY3RlZC4gV2l0aCB0aGF0LCB5b3UncmUgZXhwZWN0ZWQgdG8gY3JlYXRlIGFuZCByZXR1cm5cbiAqIGFuZCBPYnNlcnZhYmxlLCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgd2lsbCB1dGlsaXplIHRoZSBtdWx0aWNhc3Qgb2JzZXJ2YWJsZS5cbiAqIEFmdGVyIHRoaXMgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgLS0gYW5kIGl0cyByZXR1cm4gdmFsdWUgc3Vic2NyaWJlZCB0byAtLSB0aGVcbiAqIG9wZXJhdG9yIHdpbGwgc3Vic2NyaWJlIHRvIHRoZSBzb3VyY2UsIGFuZCB0aGUgY29ubmVjdGlvbiB3aWxsIGJlIG1hZGUuXG4gKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgYGNvbm5lY3RgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgc2VsZWN0b3I6IChzaGFyZWQ6IE9ic2VydmFibGU8VD4pID0+IE8sXG4gIGNvbmZpZzogQ29ubmVjdENvbmZpZzxUPiA9IERFRkFVTFRfQ09ORklHXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICBjb25zdCB7IGNvbm5lY3RvciB9ID0gY29uZmlnO1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3Qgc3ViamVjdCA9IGNvbm5lY3RvcigpO1xuICAgIGlubmVyRnJvbShzZWxlY3Rvcihmcm9tU3Vic2NyaWJhYmxlKHN1YmplY3QpKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIHN1YnNjcmliZXIuYWRkKHNvdXJjZS5zdWJzY3JpYmUoc3ViamVjdCkpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5cbi8qKlxuICogQ291bnRzIHRoZSBudW1iZXIgb2YgZW1pc3Npb25zIG9uIHRoZSBzb3VyY2UgYW5kIGVtaXRzIHRoYXQgbnVtYmVyIHdoZW4gdGhlXG4gKiBzb3VyY2UgY29tcGxldGVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5UZWxscyBob3cgbWFueSB2YWx1ZXMgd2VyZSBlbWl0dGVkLCB3aGVuIHRoZSBzb3VyY2VcbiAqIGNvbXBsZXRlcy48L3NwYW4+XG4gKlxuICogIVtdKGNvdW50LnBuZylcbiAqXG4gKiBgY291bnRgIHRyYW5zZm9ybXMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBpbnRvIGFuIE9ic2VydmFibGUgdGhhdFxuICogZW1pdHMgYSBzaW5nbGUgdmFsdWUgdGhhdCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZS4gSWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRlcm1pbmF0ZXMgd2l0aCBhbiBlcnJvciwgYGNvdW50YFxuICogd2lsbCBwYXNzIHRoaXMgZXJyb3Igbm90aWZpY2F0aW9uIGFsb25nIHdpdGhvdXQgZW1pdHRpbmcgYSB2YWx1ZSBmaXJzdC4gSWZcbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBkb2VzIG5vdCB0ZXJtaW5hdGUgYXQgYWxsLCBgY291bnRgIHdpbGwgbmVpdGhlciBlbWl0XG4gKiBhIHZhbHVlIG5vciB0ZXJtaW5hdGUuIFRoaXMgb3BlcmF0b3IgdGFrZXMgYW4gb3B0aW9uYWwgYHByZWRpY2F0ZWAgZnVuY3Rpb25cbiAqIGFzIGFyZ3VtZW50LCBpbiB3aGljaCBjYXNlIHRoZSBvdXRwdXQgZW1pc3Npb24gd2lsbCByZXByZXNlbnQgdGhlIG51bWJlciBvZlxuICogc291cmNlIHZhbHVlcyB0aGF0IG1hdGNoZWQgYHRydWVgIHdpdGggdGhlIGBwcmVkaWNhdGVgLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ291bnRzIGhvdyBtYW55IHNlY29uZHMgaGF2ZSBwYXNzZWQgYmVmb3JlIHRoZSBmaXJzdCBjbGljayBoYXBwZW5lZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgZnJvbUV2ZW50LCB0YWtlVW50aWwsIGNvdW50IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2Vjb25kcyA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHNlY29uZHNCZWZvcmVDbGljayA9IHNlY29uZHMucGlwZSh0YWtlVW50aWwoY2xpY2tzKSk7XG4gKiBjb25zdCByZXN1bHQgPSBzZWNvbmRzQmVmb3JlQ2xpY2sucGlwZShjb3VudCgpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBDb3VudHMgaG93IG1hbnkgb2RkIG51bWJlcnMgYXJlIHRoZXJlIGJldHdlZW4gMSBhbmQgN1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyByYW5nZSwgY291bnQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBudW1iZXJzID0gcmFuZ2UoMSwgNyk7XG4gKiBjb25zdCByZXN1bHQgPSBudW1iZXJzLnBpcGUoY291bnQoaSA9PiBpICUgMiA9PT0gMSkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIC8vIFJlc3VsdHMgaW46XG4gKiAvLyA0XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXh9XG4gKiBAc2VlIHtAbGluayBtaW59XG4gKiBAc2VlIHtAbGluayByZWR1Y2V9XG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSBBIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBhbmFseXplIHRoZSB2YWx1ZSBhbmQgdGhlIGluZGV4IGFuZFxuICogZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIGluY3JlbWVudCB0aGUgY291bnQuIFJldHVybiBgdHJ1ZWAgdG8gaW5jcmVtZW50IHRoZSBjb3VudCxcbiAqIGFuZCByZXR1cm4gYGZhbHNlYCB0byBrZWVwIHRoZSBjb3VudCB0aGUgc2FtZS5cbiAqIElmIHRoZSBwcmVkaWNhdGUgaXMgbm90IHByb3ZpZGVkLCBldmVyeSB2YWx1ZSB3aWxsIGJlIGNvdW50ZWQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBvbmUgbnVtYmVyIHRoYXRcbiAqIHJlcHJlc2VudHMgdGhlIGNvdW50IG9mIGVtaXNzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvdW50PFQ+KHByZWRpY2F0ZT86ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgbnVtYmVyPiB7XG4gIHJldHVybiByZWR1Y2UoKHRvdGFsLCB2YWx1ZSwgaSkgPT4gKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHZhbHVlLCBpKSA/IHRvdGFsICsgMSA6IHRvdGFsKSwgMCk7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKlxuICogRW1pdHMgYSBub3RpZmljYXRpb24gZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgb25seSBhZnRlciBhIHBhcnRpY3VsYXIgdGltZSBzcGFuXG4gKiBkZXRlcm1pbmVkIGJ5IGFub3RoZXIgT2JzZXJ2YWJsZSBoYXMgcGFzc2VkIHdpdGhvdXQgYW5vdGhlciBzb3VyY2UgZW1pc3Npb24uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgZGVib3VuY2VUaW1lfSwgYnV0IHRoZSB0aW1lIHNwYW4gb2ZcbiAqIGVtaXNzaW9uIHNpbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSBhIHNlY29uZCBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10oZGVib3VuY2Uuc3ZnKVxuICpcbiAqIGBkZWJvdW5jZWAgZGVsYXlzIG5vdGlmaWNhdGlvbnMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIGJ1dCBkcm9wcyBwcmV2aW91c1xuICogcGVuZGluZyBkZWxheWVkIGVtaXNzaW9ucyBpZiBhIG5ldyBub3RpZmljYXRpb24gYXJyaXZlcyBvbiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBUaGlzIG9wZXJhdG9yIGtlZXBzIHRyYWNrIG9mIHRoZSBtb3N0IHJlY2VudCBub3RpZmljYXRpb24gZnJvbSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLCBhbmQgc3Bhd25zIGEgZHVyYXRpb24gT2JzZXJ2YWJsZSBieSBjYWxsaW5nIHRoZVxuICogYGR1cmF0aW9uU2VsZWN0b3JgIGZ1bmN0aW9uLiBUaGUgbm90aWZpY2F0aW9uIGlzIGVtaXR0ZWQgb25seSB3aGVuIHRoZSBkdXJhdGlvblxuICogT2JzZXJ2YWJsZSBlbWl0cyBhIG5leHQgbm90aWZpY2F0aW9uLCBhbmQgaWYgbm8gb3RoZXIgbm90aWZpY2F0aW9uIHdhcyBlbWl0dGVkIG9uXG4gKiB0aGUgc291cmNlIE9ic2VydmFibGUgc2luY2UgdGhlIGR1cmF0aW9uIE9ic2VydmFibGUgd2FzIHNwYXduZWQuIElmIGEgbmV3XG4gKiBub3RpZmljYXRpb24gYXBwZWFycyBiZWZvcmUgdGhlIGR1cmF0aW9uIE9ic2VydmFibGUgZW1pdHMsIHRoZSBwcmV2aW91cyBub3RpZmljYXRpb24gd2lsbFxuICogbm90IGJlIGVtaXR0ZWQgYW5kIGEgbmV3IGR1cmF0aW9uIGlzIHNjaGVkdWxlZCBmcm9tIGBkdXJhdGlvblNlbGVjdG9yYCBpcyBzY2hlZHVsZWQuXG4gKiBJZiB0aGUgY29tcGxldGluZyBldmVudCBoYXBwZW5zIGR1cmluZyB0aGUgc2NoZWR1bGVkIGR1cmF0aW9uIHRoZSBsYXN0IGNhY2hlZCBub3RpZmljYXRpb25cbiAqIGlzIGVtaXR0ZWQgYmVmb3JlIHRoZSBjb21wbGV0aW9uIGV2ZW50IGlzIGZvcndhcmRlZCB0byB0aGUgb3V0cHV0IG9ic2VydmFibGUuXG4gKiBJZiB0aGUgZXJyb3IgZXZlbnQgaGFwcGVucyBkdXJpbmcgdGhlIHNjaGVkdWxlZCBkdXJhdGlvbiBvciBhZnRlciBpdCBvbmx5IHRoZSBlcnJvciBldmVudCBpc1xuICogZm9yd2FyZGVkIHRvIHRoZSBvdXRwdXQgb2JzZXJ2YWJsZS4gVGhlIGNhY2hlIG5vdGlmaWNhdGlvbiBpcyBub3QgZW1pdHRlZCBpbiB0aGlzIGNhc2UuXG4gKlxuICogTGlrZSB7QGxpbmsgZGVib3VuY2VUaW1lfSwgdGhpcyBpcyBhIHJhdGUtbGltaXRpbmcgb3BlcmF0b3IsIGFuZCBhbHNvIGFcbiAqIGRlbGF5LWxpa2Ugb3BlcmF0b3Igc2luY2Ugb3V0cHV0IGVtaXNzaW9ucyBkbyBub3QgbmVjZXNzYXJpbHkgb2NjdXIgYXQgdGhlXG4gKiBzYW1lIHRpbWUgYXMgdGhleSBkaWQgb24gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IHRoZSBtb3N0IHJlY2VudCBjbGljayBhZnRlciBhIGJ1cnN0IG9mIGNsaWNrc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHNjYW4sIGRlYm91bmNlLCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgc2NhbihpID0+ICsraSwgMSksXG4gKiAgIGRlYm91bmNlKGkgPT4gaW50ZXJ2YWwoMjAwICogaSkpXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGF1ZGl0fVxuICogQHNlZSB7QGxpbmsgYXVkaXRUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2VUaW1lfVxuICogQHNlZSB7QGxpbmsgZGVsYXl9XG4gKiBAc2VlIHtAbGluayBzYW1wbGV9XG4gKiBAc2VlIHtAbGluayBzYW1wbGVUaW1lfVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZVRpbWV9XG4gKlxuICogQHBhcmFtIGR1cmF0aW9uU2VsZWN0b3IgQSBmdW5jdGlvblxuICogdGhhdCByZWNlaXZlcyBhIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBmb3IgY29tcHV0aW5nIHRoZSB0aW1lb3V0XG4gKiBkdXJhdGlvbiBmb3IgZWFjaCBzb3VyY2UgdmFsdWUsIHJldHVybmVkIGFzIGFuIE9ic2VydmFibGUgb3IgYSBQcm9taXNlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZGVsYXlzIHRoZSBlbWlzc2lvbnMgb2ZcbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSB0aGUgc3BlY2lmaWVkIGR1cmF0aW9uIE9ic2VydmFibGUgcmV0dXJuZWQgYnlcbiAqIGBkdXJhdGlvblNlbGVjdG9yYCwgYW5kIG1heSBkcm9wIHNvbWUgdmFsdWVzIGlmIHRoZXkgb2NjdXIgdG9vIGZyZXF1ZW50bHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxUPihkdXJhdGlvblNlbGVjdG9yOiAodmFsdWU6IFQpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgIGxldCBsYXN0VmFsdWU6IFQgfCBudWxsID0gbnVsbDtcbiAgICAvLyBUaGUgc3Vic2NyaWJlci9zdWJzY3JpcHRpb24gZm9yIHRoZSBjdXJyZW50IGRlYm91bmNlLCBpZiB0aGVyZSBpcyBvbmUuXG4gICAgbGV0IGR1cmF0aW9uU3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+IHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdCBlbWl0ID0gKCkgPT4ge1xuICAgICAgLy8gVW5zdWJzY3JpYmUgYW55IGN1cnJlbnQgZGVib3VuY2Ugc3Vic2NyaXB0aW9uIHdlIGhhdmUsXG4gICAgICAvLyB3ZSBvbmx5IGNhcmVkIGFib3V0IHRoZSBmaXJzdCBub3RpZmljYXRpb24gZnJvbSBpdCwgYW5kIHdlXG4gICAgICAvLyB3YW50IHRvIGNsZWFuIHRoYXQgc3Vic2NyaXB0aW9uIHVwIGFzIHNvb24gYXMgcG9zc2libGUuXG4gICAgICBkdXJhdGlvblN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYSB2YWx1ZSEgRnJlZSB1cCBtZW1vcnkgZmlyc3QsIHRoZW4gZW1pdCB0aGUgdmFsdWUuXG4gICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbGFzdFZhbHVlITtcbiAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgICAgLy8gQ2FuY2VsIGFueSBwZW5kaW5nIGRlYm91bmNlIGR1cmF0aW9uLiBXZSBkb24ndFxuICAgICAgICAgIC8vIG5lZWQgdG8gbnVsbCBpdCBvdXQgaGVyZSB5ZXQgdGhvLCBiZWNhdXNlIHdlJ3JlIGp1c3QgZ29pbmdcbiAgICAgICAgICAvLyB0byBjcmVhdGUgYW5vdGhlciBvbmUgaW4gYSBmZXcgbGluZXMuXG4gICAgICAgICAgZHVyYXRpb25TdWJzY3JpYmVyPy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAvLyBDYXB0dXJlIG91ciBkdXJhdGlvbiBzdWJzY3JpYmVyLCBzbyB3ZSBjYW4gdW5zdWJzY3JpYmUgaXQgd2hlbiB3ZSdyZSBub3RpZmllZFxuICAgICAgICAgIC8vIGFuZCB3ZSdyZSBnb2luZyB0byBlbWl0IHRoZSB2YWx1ZS5cbiAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZW1pdCwgbm9vcCk7XG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBkdXJhdGlvbi5cbiAgICAgICAgICBpbm5lckZyb20oZHVyYXRpb25TZWxlY3Rvcih2YWx1ZSkpLnN1YnNjcmliZShkdXJhdGlvblN1YnNjcmliZXIpO1xuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gU291cmNlIGNvbXBsZXRlZC5cbiAgICAgICAgICAvLyBFbWl0IGFueSBwZW5kaW5nIGRlYm91bmNlZCB2YWx1ZXMgdGhlbiBjb21wbGV0ZVxuICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIFBhc3MgYWxsIGVycm9ycyB0aHJvdWdoIHRvIGNvbnN1bWVyXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIEZpbmFsaXphdGlvbi5cbiAgICAgICAgICBsYXN0VmFsdWUgPSBkdXJhdGlvblN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJBY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBFbWl0cyBhIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBvbmx5IGFmdGVyIGEgcGFydGljdWxhciB0aW1lIHNwYW5cbiAqIGhhcyBwYXNzZWQgd2l0aG91dCBhbm90aGVyIHNvdXJjZSBlbWlzc2lvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBkZWxheX0sIGJ1dCBwYXNzZXMgb25seSB0aGUgbW9zdFxuICogcmVjZW50IG5vdGlmaWNhdGlvbiBmcm9tIGVhY2ggYnVyc3Qgb2YgZW1pc3Npb25zLjwvc3Bhbj5cbiAqXG4gKiAhW10oZGVib3VuY2VUaW1lLnBuZylcbiAqXG4gKiBgZGVib3VuY2VUaW1lYCBkZWxheXMgbm90aWZpY2F0aW9ucyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgYnV0IGRyb3BzXG4gKiBwcmV2aW91cyBwZW5kaW5nIGRlbGF5ZWQgZW1pc3Npb25zIGlmIGEgbmV3IG5vdGlmaWNhdGlvbiBhcnJpdmVzIG9uIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIFRoaXMgb3BlcmF0b3Iga2VlcHMgdHJhY2sgb2YgdGhlIG1vc3QgcmVjZW50IG5vdGlmaWNhdGlvbiBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUsIGFuZCBlbWl0cyB0aGF0IG9ubHkgd2hlbiBgZHVlVGltZWAgaGFzIHBhc3NlZFxuICogd2l0aG91dCBhbnkgb3RoZXIgbm90aWZpY2F0aW9uIGFwcGVhcmluZyBvbiB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIGEgbmV3IHZhbHVlXG4gKiBhcHBlYXJzIGJlZm9yZSBgZHVlVGltZWAgc2lsZW5jZSBvY2N1cnMsIHRoZSBwcmV2aW91cyBub3RpZmljYXRpb24gd2lsbCBiZSBkcm9wcGVkXG4gKiBhbmQgd2lsbCBub3QgYmUgZW1pdHRlZCBhbmQgYSBuZXcgYGR1ZVRpbWVgIGlzIHNjaGVkdWxlZC5cbiAqIElmIHRoZSBjb21wbGV0aW5nIGV2ZW50IGhhcHBlbnMgZHVyaW5nIGBkdWVUaW1lYCB0aGUgbGFzdCBjYWNoZWQgbm90aWZpY2F0aW9uXG4gKiBpcyBlbWl0dGVkIGJlZm9yZSB0aGUgY29tcGxldGlvbiBldmVudCBpcyBmb3J3YXJkZWQgdG8gdGhlIG91dHB1dCBvYnNlcnZhYmxlLlxuICogSWYgdGhlIGVycm9yIGV2ZW50IGhhcHBlbnMgZHVyaW5nIGBkdWVUaW1lYCBvciBhZnRlciBpdCBvbmx5IHRoZSBlcnJvciBldmVudCBpc1xuICogZm9yd2FyZGVkIHRvIHRoZSBvdXRwdXQgb2JzZXJ2YWJsZS4gVGhlIGNhY2hlIG5vdGlmaWNhdGlvbiBpcyBub3QgZW1pdHRlZCBpbiB0aGlzIGNhc2UuXG4gKlxuICogVGhpcyBpcyBhIHJhdGUtbGltaXRpbmcgb3BlcmF0b3IsIGJlY2F1c2UgaXQgaXMgaW1wb3NzaWJsZSBmb3IgbW9yZSB0aGFuIG9uZVxuICogbm90aWZpY2F0aW9uIHRvIGJlIGVtaXR0ZWQgaW4gYW55IHRpbWUgd2luZG93IG9mIGR1cmF0aW9uIGBkdWVUaW1lYCwgYnV0IGl0IGlzIGFsc29cbiAqIGEgZGVsYXktbGlrZSBvcGVyYXRvciBzaW5jZSBvdXRwdXQgZW1pc3Npb25zIGRvIG5vdCBvY2N1ciBhdCB0aGUgc2FtZSB0aW1lIGFzXG4gKiB0aGV5IGRpZCBvbiB0aGUgc291cmNlIE9ic2VydmFibGUuIE9wdGlvbmFsbHkgdGFrZXMgYSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gZm9yXG4gKiBtYW5hZ2luZyB0aW1lcnMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgdGhlIG1vc3QgcmVjZW50IGNsaWNrIGFmdGVyIGEgYnVyc3Qgb2YgY2xpY2tzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZGVib3VuY2VUaW1lIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKGRlYm91bmNlVGltZSgxMDAwKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYXVkaXR9XG4gKiBAc2VlIHtAbGluayBhdWRpdFRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZVRpbWV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZHVlVGltZSBUaGUgdGltZW91dCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgKG9yIHRoZSB0aW1lXG4gKiB1bml0IGRldGVybWluZWQgaW50ZXJuYWxseSBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmApIGZvciB0aGUgd2luZG93IG9mXG4gKiB0aW1lIHJlcXVpcmVkIHRvIHdhaXQgZm9yIGVtaXNzaW9uIHNpbGVuY2UgYmVmb3JlIGVtaXR0aW5nIHRoZSBtb3N0IHJlY2VudFxuICogc291cmNlIHZhbHVlLlxuICogQHBhcmFtIHtTY2hlZHVsZXJMaWtlfSBbc2NoZWR1bGVyPWFzeW5jXSBUaGUge0BsaW5rIFNjaGVkdWxlckxpa2V9IHRvIHVzZSBmb3JcbiAqIG1hbmFnaW5nIHRoZSB0aW1lcnMgdGhhdCBoYW5kbGUgdGhlIHRpbWVvdXQgZm9yIGVhY2ggdmFsdWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBkZWxheXMgdGhlIGVtaXNzaW9ucyBvZlxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IHRoZSBzcGVjaWZpZWQgYGR1ZVRpbWVgLCBhbmQgbWF5IGRyb3Agc29tZSB2YWx1ZXNcbiAqIGlmIHRoZXkgb2NjdXIgdG9vIGZyZXF1ZW50bHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVRpbWU8VD4oZHVlVGltZTogbnVtYmVyLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgYWN0aXZlVGFzazogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGxhc3RWYWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICAgIGxldCBsYXN0VGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdCBlbWl0ID0gKCkgPT4ge1xuICAgICAgaWYgKGFjdGl2ZVRhc2spIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhIHZhbHVlISBGcmVlIHVwIG1lbW9yeSBmaXJzdCwgdGhlbiBlbWl0IHRoZSB2YWx1ZS5cbiAgICAgICAgYWN0aXZlVGFzay51bnN1YnNjcmliZSgpO1xuICAgICAgICBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsYXN0VmFsdWUhO1xuICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZW1pdFdoZW5JZGxlKHRoaXM6IFNjaGVkdWxlckFjdGlvbjx1bmtub3duPikge1xuICAgICAgLy8gVGhpcyBpcyBjYWxsZWQgYGR1ZVRpbWVgIGFmdGVyIHRoZSBmaXJzdCB2YWx1ZVxuICAgICAgLy8gYnV0IHdlIG1pZ2h0IGhhdmUgcmVjZWl2ZWQgbmV3IHZhbHVlcyBkdXJpbmcgdGhpcyB3aW5kb3chXG5cbiAgICAgIGNvbnN0IHRhcmdldFRpbWUgPSBsYXN0VGltZSEgKyBkdWVUaW1lO1xuICAgICAgY29uc3Qgbm93ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgaWYgKG5vdyA8IHRhcmdldFRpbWUpIHtcbiAgICAgICAgLy8gT24gdGhhdCBjYXNlLCByZS1zY2hlZHVsZSB0byB0aGUgbmV3IHRhcmdldFxuICAgICAgICBhY3RpdmVUYXNrID0gdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIHRhcmdldFRpbWUgLSBub3cpO1xuICAgICAgICBzdWJzY3JpYmVyLmFkZChhY3RpdmVUYXNrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlbWl0KCk7XG4gICAgfVxuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgbGFzdFRpbWUgPSBzY2hlZHVsZXIubm93KCk7XG5cbiAgICAgICAgICAvLyBPbmx5IHNldCB1cCBhIHRhc2sgaWYgaXQncyBub3QgYWxyZWFkeSB1cFxuICAgICAgICAgIGlmICghYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgYWN0aXZlVGFzayA9IHNjaGVkdWxlci5zY2hlZHVsZShlbWl0V2hlbklkbGUsIGR1ZVRpbWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gU291cmNlIGNvbXBsZXRlZC5cbiAgICAgICAgICAvLyBFbWl0IGFueSBwZW5kaW5nIGRlYm91bmNlZCB2YWx1ZXMgdGhlbiBjb21wbGV0ZVxuICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIFBhc3MgYWxsIGVycm9ycyB0aHJvdWdoIHRvIGNvbnN1bWVyLlxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBGaW5hbGl6YXRpb24uXG4gICAgICAgICAgbGFzdFZhbHVlID0gYWN0aXZlVGFzayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBFbWl0cyBhIGdpdmVuIHZhbHVlIGlmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhbnlcbiAqIGBuZXh0YCB2YWx1ZSwgb3RoZXJ3aXNlIG1pcnJvcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JZiB0aGUgc291cmNlIE9ic2VydmFibGUgdHVybnMgb3V0IHRvIGJlIGVtcHR5LCB0aGVuXG4gKiB0aGlzIG9wZXJhdG9yIHdpbGwgZW1pdCBhIGRlZmF1bHQgdmFsdWUuPC9zcGFuPlxuICpcbiAqICFbXShkZWZhdWx0SWZFbXB0eS5wbmcpXG4gKlxuICogYGRlZmF1bHRJZkVtcHR5YCBlbWl0cyB0aGUgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIG9yIGFcbiAqIHNwZWNpZmllZCBkZWZhdWx0IHZhbHVlIGlmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBpcyBlbXB0eSAoY29tcGxldGVzIHdpdGhvdXRcbiAqIGhhdmluZyBlbWl0dGVkIGFueSBgbmV4dGAgdmFsdWUpLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBJZiBubyBjbGlja3MgaGFwcGVuIGluIDUgc2Vjb25kcywgdGhlbiBlbWl0ICdubyBjbGlja3MnXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgdGFrZVVudGlsLCBpbnRlcnZhbCwgZGVmYXVsdElmRW1wdHkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgY2xpY2tzQmVmb3JlRml2ZSA9IGNsaWNrcy5waXBlKHRha2VVbnRpbChpbnRlcnZhbCg1MDAwKSkpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzQmVmb3JlRml2ZS5waXBlKGRlZmF1bHRJZkVtcHR5KCdubyBjbGlja3MnKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZW1wdHl9XG4gKiBAc2VlIHtAbGluayBsYXN0fVxuICpcbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUgdXNlZCBpZiB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGlzIGVtcHR5LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgZWl0aGVyIHRoZVxuICogc3BlY2lmaWVkIGBkZWZhdWx0VmFsdWVgIGlmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBubyBpdGVtcywgb3IgdGhlXG4gKiB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0SWZFbXB0eTxULCBSPihkZWZhdWx0VmFsdWU6IFIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBSPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChkZWZhdWx0VmFsdWUhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBkZWxheVdoZW4gfSBmcm9tICcuL2RlbGF5V2hlbic7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4uL29ic2VydmFibGUvdGltZXInO1xuXG4vKipcbiAqIERlbGF5cyB0aGUgZW1pc3Npb24gb2YgaXRlbXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgYnkgYSBnaXZlbiB0aW1lb3V0IG9yXG4gKiB1bnRpbCBhIGdpdmVuIERhdGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRpbWUgc2hpZnRzIGVhY2ggaXRlbSBieSBzb21lIHNwZWNpZmllZCBhbW91bnQgb2ZcbiAqIG1pbGxpc2Vjb25kcy48L3NwYW4+XG4gKlxuICogIVtdKGRlbGF5LnN2ZylcbiAqXG4gKiBJZiB0aGUgZGVsYXkgYXJndW1lbnQgaXMgYSBOdW1iZXIsIHRoaXMgb3BlcmF0b3IgdGltZSBzaGlmdHMgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSBieSB0aGF0IGFtb3VudCBvZiB0aW1lIGV4cHJlc3NlZCBpbiBtaWxsaXNlY29uZHMuIFRoZSByZWxhdGl2ZVxuICogdGltZSBpbnRlcnZhbHMgYmV0d2VlbiB0aGUgdmFsdWVzIGFyZSBwcmVzZXJ2ZWQuXG4gKlxuICogSWYgdGhlIGRlbGF5IGFyZ3VtZW50IGlzIGEgRGF0ZSwgdGhpcyBvcGVyYXRvciB0aW1lIHNoaWZ0cyB0aGUgc3RhcnQgb2YgdGhlXG4gKiBPYnNlcnZhYmxlIGV4ZWN1dGlvbiB1bnRpbCB0aGUgZ2l2ZW4gZGF0ZSBvY2N1cnMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBEZWxheSBlYWNoIGNsaWNrIGJ5IG9uZSBzZWNvbmRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBkZWxheSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBkZWxheWVkQ2xpY2tzID0gY2xpY2tzLnBpcGUoZGVsYXkoMTAwMCkpOyAvLyBlYWNoIGNsaWNrIGVtaXR0ZWQgYWZ0ZXIgMSBzZWNvbmRcbiAqIGRlbGF5ZWRDbGlja3Muc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogRGVsYXkgYWxsIGNsaWNrcyB1bnRpbCBhIGZ1dHVyZSBkYXRlIGhhcHBlbnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBkZWxheSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBkYXRlID0gbmV3IERhdGUoJ01hcmNoIDE1LCAyMDUwIDEyOjAwOjAwJyk7IC8vIGluIHRoZSBmdXR1cmVcbiAqIGNvbnN0IGRlbGF5ZWRDbGlja3MgPSBjbGlja3MucGlwZShkZWxheShkYXRlKSk7IC8vIGNsaWNrIGVtaXR0ZWQgb25seSBhZnRlciB0aGF0IGRhdGVcbiAqIGRlbGF5ZWRDbGlja3Muc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGVsYXlXaGVufVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZVRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZX1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlVGltZX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZVRpbWV9XG4gKiBAc2VlIHtAbGluayBhdWRpdH1cbiAqIEBzZWUge0BsaW5rIGF1ZGl0VGltZX1cbiAqXG4gKiBAcGFyYW0ge251bWJlcnxEYXRlfSBkdWUgVGhlIGRlbGF5IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyAoYSBgbnVtYmVyYCkgb3JcbiAqIGEgYERhdGVgIHVudGlsIHdoaWNoIHRoZSBlbWlzc2lvbiBvZiB0aGUgc291cmNlIGl0ZW1zIGlzIGRlbGF5ZWQuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9YXN5bmNdIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvclxuICogbWFuYWdpbmcgdGhlIHRpbWVycyB0aGF0IGhhbmRsZSB0aGUgdGltZS1zaGlmdCBmb3IgZWFjaCBpdGVtLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZGVsYXlzIHRoZSBlbWlzc2lvbnMgb2ZcbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSB0aGUgc3BlY2lmaWVkIHRpbWVvdXQgb3IgRGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5PFQ+KGR1ZTogbnVtYmVyIHwgRGF0ZSwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlID0gYXN5bmNTY2hlZHVsZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICBjb25zdCBkdXJhdGlvbiA9IHRpbWVyKGR1ZSwgc2NoZWR1bGVyKTtcbiAgcmV0dXJuIGRlbGF5V2hlbigoKSA9PiBkdXJhdGlvbik7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gJy4uL29ic2VydmFibGUvY29uY2F0JztcbmltcG9ydCB7IHRha2UgfSBmcm9tICcuL3Rha2UnO1xuaW1wb3J0IHsgaWdub3JlRWxlbWVudHMgfSBmcm9tICcuL2lnbm9yZUVsZW1lbnRzJztcbmltcG9ydCB7IG1hcFRvIH0gZnJvbSAnLi9tYXBUbyc7XG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzdWJzY3JpcHRpb25EZWxheWAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxheVdoZW48VD4oXG4gIGRlbGF5RHVyYXRpb25TZWxlY3RvcjogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PixcbiAgc3Vic2NyaXB0aW9uRGVsYXk6IE9ic2VydmFibGU8YW55PlxuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5V2hlbjxUPihkZWxheUR1cmF0aW9uU2VsZWN0b3I6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogRGVsYXlzIHRoZSBlbWlzc2lvbiBvZiBpdGVtcyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSBhIGdpdmVuIHRpbWUgc3BhblxuICogZGV0ZXJtaW5lZCBieSB0aGUgZW1pc3Npb25zIG9mIGFub3RoZXIgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBkZWxheX0sIGJ1dCB0aGUgdGltZSBzcGFuIG9mIHRoZVxuICogZGVsYXkgZHVyYXRpb24gaXMgZGV0ZXJtaW5lZCBieSBhIHNlY29uZCBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10oZGVsYXlXaGVuLnBuZylcbiAqXG4gKiBgZGVsYXlXaGVuYCBvcGVyYXRvciBzaGlmdHMgZWFjaCBlbWl0dGVkIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5XG4gKiBhIHRpbWUgc3BhbiBkZXRlcm1pbmVkIGJ5IGFub3RoZXIgT2JzZXJ2YWJsZS4gV2hlbiB0aGUgc291cmNlIGVtaXRzIGEgdmFsdWUsXG4gKiB0aGUgYGRlbGF5RHVyYXRpb25TZWxlY3RvcmAgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIHZhbHVlIGVtaXR0ZWQgZnJvbVxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgYGRlbGF5RHVyYXRpb25TZWxlY3RvcmAuXG4gKiBUaGUgYGRlbGF5RHVyYXRpb25TZWxlY3RvcmAgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhbiB7QGxpbmsgT2JzZXJ2YWJsZUlucHV0fSxcbiAqIHRoYXQgaXMgaW50ZXJuYWxseSBjb252ZXJ0ZWQgdG8gYW4gT2JzZXJ2YWJsZSB0aGF0IGlzIGNhbGxlZCB0aGUgXCJkdXJhdGlvblwiXG4gKiBPYnNlcnZhYmxlLlxuICpcbiAqIFRoZSBzb3VyY2UgdmFsdWUgaXMgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUgb25seSB3aGVuIHRoZSBcImR1cmF0aW9uXCJcbiAqIE9ic2VydmFibGUgZW1pdHMgKHtAbGluayBndWlkZS9nbG9zc2FyeS1hbmQtc2VtYW50aWNzI25leHQgbmV4dH1zKSBhbnkgdmFsdWUuXG4gKiBVcG9uIHRoYXQsIHRoZSBcImR1cmF0aW9uXCIgT2JzZXJ2YWJsZSBnZXRzIHVuc3Vic2NyaWJlZC5cbiAqXG4gKiBCZWZvcmUgUnhKUyBWNywgdGhlIHtAbGluayBndWlkZS9nbG9zc2FyeS1hbmQtc2VtYW50aWNzI2NvbXBsZXRlIGNvbXBsZXRpb259XG4gKiBvZiB0aGUgXCJkdXJhdGlvblwiIE9ic2VydmFibGUgd291bGQgaGF2ZSBiZWVuIHRyaWdnZXJpbmcgdGhlIGVtaXNzaW9uIG9mIHRoZVxuICogc291cmNlIHZhbHVlIHRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSwgYnV0IHdpdGggUnhKUyBWNywgdGhpcyBpcyBub3QgdGhlIGNhc2VcbiAqIGFueW1vcmUuXG4gKlxuICogT25seSBuZXh0IG5vdGlmaWNhdGlvbnMgKGZyb20gdGhlIFwiZHVyYXRpb25cIiBPYnNlcnZhYmxlKSB0cmlnZ2VyIHZhbHVlcyBmcm9tXG4gKiB0aGUgc291cmNlIE9ic2VydmFibGUgdG8gYmUgcGFzc2VkIHRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS4gSWYgdGhlIFwiZHVyYXRpb25cIlxuICogT2JzZXJ2YWJsZSBvbmx5IGVtaXRzIHRoZSBjb21wbGV0ZSBub3RpZmljYXRpb24gKHdpdGhvdXQgbmV4dCksIHRoZSB2YWx1ZVxuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgd2lsbCBuZXZlciBnZXQgdG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlIC0gaXRcbiAqIHdpbGwgYmUgc3dhbGxvd2VkLiBJZiB0aGUgXCJkdXJhdGlvblwiIE9ic2VydmFibGUgZXJyb3JzLCB0aGUgZXJyb3Igd2lsbCBiZVxuICogcHJvcGFnYXRlZCB0byB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogT3B0aW9uYWxseSwgYGRlbGF5V2hlbmAgdGFrZXMgYSBzZWNvbmQgYXJndW1lbnQsIGBzdWJzY3JpcHRpb25EZWxheWAsIHdoaWNoXG4gKiBpcyBhbiBPYnNlcnZhYmxlLiBXaGVuIGBzdWJzY3JpcHRpb25EZWxheWAgZW1pdHMgaXRzIGZpcnN0IHZhbHVlIG9yXG4gKiBjb21wbGV0ZXMsIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkIHRvIGFuZCBzdGFydHMgYmVoYXZpbmcgbGlrZVxuICogZGVzY3JpYmVkIGluIHRoZSBwcmV2aW91cyBwYXJhZ3JhcGguIElmIGBzdWJzY3JpcHRpb25EZWxheWAgaXMgbm90IHByb3ZpZGVkLFxuICogYGRlbGF5V2hlbmAgd2lsbCBzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFzIHNvb24gYXMgdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBEZWxheSBlYWNoIGNsaWNrIGJ5IGEgcmFuZG9tIGFtb3VudCBvZiB0aW1lLCBiZXR3ZWVuIDAgYW5kIDUgc2Vjb25kc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGRlbGF5V2hlbiwgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgZGVsYXllZENsaWNrcyA9IGNsaWNrcy5waXBlKFxuICogICBkZWxheVdoZW4oKCkgPT4gaW50ZXJ2YWwoTWF0aC5yYW5kb20oKSAqIDUwMDApKVxuICogKTtcbiAqIGRlbGF5ZWRDbGlja3Muc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGVsYXl9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlfVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2VUaW1lfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIGF1ZGl0fVxuICogQHNlZSB7QGxpbmsgYXVkaXRUaW1lfVxuICpcbiAqIEBwYXJhbSBkZWxheUR1cmF0aW9uU2VsZWN0b3IgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gYE9ic2VydmFibGVJbnB1dGAgZm9yXG4gKiBlYWNoIGB2YWx1ZWAgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHdoaWNoIGlzIHRoZW4gdXNlZCB0byBkZWxheSB0aGVcbiAqIGVtaXNzaW9uIG9mIHRoYXQgYHZhbHVlYCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUgdW50aWwgdGhlIGBPYnNlcnZhYmxlSW5wdXRgXG4gKiByZXR1cm5lZCBmcm9tIHRoaXMgZnVuY3Rpb24gZW1pdHMgYSBuZXh0IHZhbHVlLiBXaGVuIGNhbGxlZCwgYmVzaWRlIGB2YWx1ZWAsXG4gKiB0aGlzIGZ1bmN0aW9uIHJlY2VpdmVzIGEgemVyby1iYXNlZCBgaW5kZXhgIG9mIHRoZSBlbWlzc2lvbiBvcmRlci5cbiAqIEBwYXJhbSBzdWJzY3JpcHRpb25EZWxheSBBbiBPYnNlcnZhYmxlIHRoYXQgdHJpZ2dlcnMgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIG9uY2UgaXQgZW1pdHMgYW55IHZhbHVlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZGVsYXlzIHRoZSBlbWlzc2lvbnMgb2ZcbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBieSBhbiBhbW91bnQgb2YgdGltZSBzcGVjaWZpZWQgYnkgdGhlIE9ic2VydmFibGVcbiAqIHJldHVybmVkIGJ5IGBkZWxheUR1cmF0aW9uU2VsZWN0b3JgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsYXlXaGVuPFQ+KFxuICBkZWxheUR1cmF0aW9uU2VsZWN0b3I6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4sXG4gIHN1YnNjcmlwdGlvbkRlbGF5PzogT2JzZXJ2YWJsZTxhbnk+XG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICBpZiAoc3Vic2NyaXB0aW9uRGVsYXkpIHtcbiAgICAvLyBERVBSRUNBVEVEIFBBVEhcbiAgICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cbiAgICAgIGNvbmNhdChzdWJzY3JpcHRpb25EZWxheS5waXBlKHRha2UoMSksIGlnbm9yZUVsZW1lbnRzKCkpLCBzb3VyY2UucGlwZShkZWxheVdoZW4oZGVsYXlEdXJhdGlvblNlbGVjdG9yKSkpO1xuICB9XG5cbiAgcmV0dXJuIG1lcmdlTWFwKCh2YWx1ZSwgaW5kZXgpID0+IGlubmVyRnJvbShkZWxheUR1cmF0aW9uU2VsZWN0b3IodmFsdWUsIGluZGV4KSkucGlwZSh0YWtlKDEpLCBtYXBUbyh2YWx1ZSkpKTtcbn1cbiIsImltcG9ydCB7IG9ic2VydmVOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbiwgVmFsdWVGcm9tTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogQ29udmVydHMgYW4gT2JzZXJ2YWJsZSBvZiB7QGxpbmsgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbn0gb2JqZWN0cyBpbnRvIHRoZSBlbWlzc2lvbnNcbiAqIHRoYXQgdGhleSByZXByZXNlbnQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVud3JhcHMge0BsaW5rIE9ic2VydmFibGVOb3RpZmljYXRpb259IG9iamVjdHMgYXMgYWN0dWFsIGBuZXh0YCxcbiAqIGBlcnJvcmAgYW5kIGBjb21wbGV0ZWAgZW1pc3Npb25zLiBUaGUgb3Bwb3NpdGUgb2Yge0BsaW5rIG1hdGVyaWFsaXplfS48L3NwYW4+XG4gKlxuICogIVtdKGRlbWF0ZXJpYWxpemUucG5nKVxuICpcbiAqIGBkZW1hdGVyaWFsaXplYCBpcyBhc3N1bWVkIHRvIG9wZXJhdGUgYW4gT2JzZXJ2YWJsZSB0aGF0IG9ubHkgZW1pdHNcbiAqIHtAbGluayBPYnNlcnZhYmxlTm90aWZpY2F0aW9ufSBvYmplY3RzIGFzIGBuZXh0YCBlbWlzc2lvbnMsIGFuZCBkb2VzIG5vdCBlbWl0IGFueVxuICogYGVycm9yYC4gU3VjaCBPYnNlcnZhYmxlIGlzIHRoZSBvdXRwdXQgb2YgYSBgbWF0ZXJpYWxpemVgIG9wZXJhdGlvbi4gVGhvc2VcbiAqIG5vdGlmaWNhdGlvbnMgYXJlIHRoZW4gdW53cmFwcGVkIHVzaW5nIHRoZSBtZXRhZGF0YSB0aGV5IGNvbnRhaW4sIGFuZCBlbWl0dGVkXG4gKiBhcyBgbmV4dGAsIGBlcnJvcmAsIGFuZCBgY29tcGxldGVgIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiBVc2UgdGhpcyBvcGVyYXRvciBpbiBjb25qdW5jdGlvbiB3aXRoIHtAbGluayBtYXRlcmlhbGl6ZX0uXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIENvbnZlcnQgYW4gT2JzZXJ2YWJsZSBvZiBOb3RpZmljYXRpb25zIHRvIGFuIGFjdHVhbCBPYnNlcnZhYmxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IE5leHROb3RpZmljYXRpb24sIEVycm9yTm90aWZpY2F0aW9uLCBvZiwgZGVtYXRlcmlhbGl6ZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG5vdGlmQTogTmV4dE5vdGlmaWNhdGlvbjxzdHJpbmc+ID0geyBraW5kOiAnTicsIHZhbHVlOiAnQScgfTtcbiAqIGNvbnN0IG5vdGlmQjogTmV4dE5vdGlmaWNhdGlvbjxzdHJpbmc+ID0geyBraW5kOiAnTicsIHZhbHVlOiAnQicgfTtcbiAqIGNvbnN0IG5vdGlmRTogRXJyb3JOb3RpZmljYXRpb24gPSB7IGtpbmQ6ICdFJywgZXJyb3I6IG5ldyBUeXBlRXJyb3IoJ3gudG9VcHBlckNhc2UgaXMgbm90IGEgZnVuY3Rpb24nKSB9O1xuICpcbiAqIGNvbnN0IG1hdGVyaWFsaXplZCA9IG9mKG5vdGlmQSwgbm90aWZCLCBub3RpZkUpO1xuICpcbiAqIGNvbnN0IHVwcGVyQ2FzZSA9IG1hdGVyaWFsaXplZC5waXBlKGRlbWF0ZXJpYWxpemUoKSk7XG4gKiB1cHBlckNhc2Uuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogeCA9PiBjb25zb2xlLmxvZyh4KSxcbiAqICAgZXJyb3I6IGUgPT4gY29uc29sZS5lcnJvcihlKVxuICogfSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbjpcbiAqIC8vIEFcbiAqIC8vIEJcbiAqIC8vIFR5cGVFcnJvcjogeC50b1VwcGVyQ2FzZSBpcyBub3QgYSBmdW5jdGlvblxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbWF0ZXJpYWxpemV9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgYW5kXG4gKiBub3RpZmljYXRpb25zIGVtYmVkZGVkIGluIE5vdGlmaWNhdGlvbiBvYmplY3RzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbWF0ZXJpYWxpemU8TiBleHRlbmRzIE9ic2VydmFibGVOb3RpZmljYXRpb248YW55Pj4oKTogT3BlcmF0b3JGdW5jdGlvbjxOLCBWYWx1ZUZyb21Ob3RpZmljYXRpb248Tj4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIChub3RpZmljYXRpb24pID0+IG9ic2VydmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKSkpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhbGwgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBhcmUgZGlzdGluY3QgYnkgY29tcGFyaXNvbiBmcm9tIHByZXZpb3VzIGl0ZW1zLlxuICpcbiAqIElmIGEgYGtleVNlbGVjdG9yYCBmdW5jdGlvbiBpcyBwcm92aWRlZCwgdGhlbiBpdCB3aWxsIHByb2plY3QgZWFjaCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSBpbnRvIGEgbmV3IHZhbHVlIHRoYXQgaXQgd2lsbFxuICogY2hlY2sgZm9yIGVxdWFsaXR5IHdpdGggcHJldmlvdXNseSBwcm9qZWN0ZWQgdmFsdWVzLiBJZiB0aGUgYGtleVNlbGVjdG9yYCBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgdXNlIGVhY2ggdmFsdWUgZnJvbSB0aGVcbiAqIHNvdXJjZSBvYnNlcnZhYmxlIGRpcmVjdGx5IHdpdGggYW4gZXF1YWxpdHkgY2hlY2sgYWdhaW5zdCBwcmV2aW91cyB2YWx1ZXMuXG4gKlxuICogSW4gSmF2YVNjcmlwdCBydW50aW1lcyB0aGF0IHN1cHBvcnQgYFNldGAsIHRoaXMgb3BlcmF0b3Igd2lsbCB1c2UgYSBgU2V0YCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSBkaXN0aW5jdCB2YWx1ZSBjaGVja2luZy5cbiAqXG4gKiBJbiBvdGhlciBydW50aW1lcywgdGhpcyBvcGVyYXRvciB3aWxsIHVzZSBhIG1pbmltYWwgaW1wbGVtZW50YXRpb24gb2YgYFNldGAgdGhhdCByZWxpZXMgb24gYW4gYEFycmF5YCBhbmQgYGluZGV4T2ZgIHVuZGVyIHRoZVxuICogaG9vZCwgc28gcGVyZm9ybWFuY2Ugd2lsbCBkZWdyYWRlIGFzIG1vcmUgdmFsdWVzIGFyZSBjaGVja2VkIGZvciBkaXN0aW5jdGlvbi4gRXZlbiBpbiBuZXdlciBicm93c2VycywgYSBsb25nLXJ1bm5pbmcgYGRpc3RpbmN0YFxuICogdXNlIG1pZ2h0IHJlc3VsdCBpbiBtZW1vcnkgbGVha3MuIFRvIGhlbHAgYWxsZXZpYXRlIHRoaXMgaW4gc29tZSBzY2VuYXJpb3MsIGFuIG9wdGlvbmFsIGBmbHVzaGVzYCBwYXJhbWV0ZXIgaXMgYWxzbyBwcm92aWRlZCBzb1xuICogdGhhdCB0aGUgaW50ZXJuYWwgYFNldGAgY2FuIGJlIFwiZmx1c2hlZFwiLCBiYXNpY2FsbHkgY2xlYXJpbmcgaXQgb2YgdmFsdWVzLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQSBzaW1wbGUgZXhhbXBsZSB3aXRoIG51bWJlcnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGRpc3RpbmN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoMSwgMSwgMiwgMiwgMiwgMSwgMiwgMywgNCwgMywgMiwgMSlcbiAqICAgLnBpcGUoZGlzdGluY3QoKSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA0XG4gKiBgYGBcbiAqXG4gKiBBbiBleGFtcGxlIHVzaW5nIHRoZSBga2V5U2VsZWN0b3JgIGZ1bmN0aW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkaXN0aW5jdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKFxuICogICB7IGFnZTogNCwgbmFtZTogJ0Zvbyd9LFxuICogICB7IGFnZTogNywgbmFtZTogJ0Jhcid9LFxuICogICB7IGFnZTogNSwgbmFtZTogJ0Zvbyd9XG4gKiApXG4gKiAucGlwZShkaXN0aW5jdCgoeyBuYW1lIH0pID0+IG5hbWUpKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyB7IGFnZTogNCwgbmFtZTogJ0ZvbycgfVxuICogLy8geyBhZ2U6IDcsIG5hbWU6ICdCYXInIH1cbiAqIGBgYFxuICogQHNlZSB7QGxpbmsgZGlzdGluY3RVbnRpbENoYW5nZWR9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZH1cbiAqXG4gKiBAcGFyYW0ga2V5U2VsZWN0b3IgT3B0aW9uYWwgYGZ1bmN0aW9uYCB0byBzZWxlY3Qgd2hpY2ggdmFsdWUgeW91IHdhbnQgdG8gY2hlY2sgYXMgZGlzdGluY3QuXG4gKiBAcGFyYW0gZmx1c2hlcyBPcHRpb25hbCBgT2JzZXJ2YWJsZUlucHV0YCBmb3IgZmx1c2hpbmcgdGhlIGludGVybmFsIEhhc2hTZXQgb2YgdGhlIG9wZXJhdG9yLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIHdpdGggZGlzdGluY3QgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3Q8VCwgSz4oa2V5U2VsZWN0b3I/OiAodmFsdWU6IFQpID0+IEssIGZsdXNoZXM/OiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBjb25zdCBkaXN0aW5jdEtleXMgPSBuZXcgU2V0KCk7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5U2VsZWN0b3IgPyBrZXlTZWxlY3Rvcih2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKCFkaXN0aW5jdEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICBkaXN0aW5jdEtleXMuYWRkKGtleSk7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgZmx1c2hlcyAmJiBpbm5lckZyb20oZmx1c2hlcykuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAoKSA9PiBkaXN0aW5jdEtleXMuY2xlYXIoKSwgbm9vcCkpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0VW50aWxDaGFuZ2VkPFQ+KGNvbXBhcmF0b3I/OiAocHJldmlvdXM6IFQsIGN1cnJlbnQ6IFQpID0+IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3RVbnRpbENoYW5nZWQ8VCwgSz4oXG4gIGNvbXBhcmF0b3I6IChwcmV2aW91czogSywgY3VycmVudDogSykgPT4gYm9vbGVhbixcbiAga2V5U2VsZWN0b3I6ICh2YWx1ZTogVCkgPT4gS1xuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFJldHVybnMgYSByZXN1bHQge0BsaW5rIE9ic2VydmFibGV9IHRoYXQgZW1pdHMgYWxsIHZhbHVlcyBwdXNoZWQgYnkgdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGlmIHRoZXlcbiAqIGFyZSBkaXN0aW5jdCBpbiBjb21wYXJpc29uIHRvIHRoZSBsYXN0IHZhbHVlIHRoZSByZXN1bHQgb2JzZXJ2YWJsZSBlbWl0dGVkLlxuICpcbiAqIFdoZW4gcHJvdmlkZWQgd2l0aG91dCBwYXJhbWV0ZXJzIG9yIHdpdGggdGhlIGZpcnN0IHBhcmFtZXRlciAoYHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZCNjb21wYXJhdG9yIGNvbXBhcmF0b3J9YCksXG4gKiBpdCBiZWhhdmVzIGxpa2UgdGhpczpcbiAqXG4gKiAxLiBJdCB3aWxsIGFsd2F5cyBlbWl0IHRoZSBmaXJzdCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UuXG4gKiAyLiBGb3IgYWxsIHN1YnNlcXVlbnQgdmFsdWVzIHB1c2hlZCBieSB0aGUgc291cmNlLCB0aGV5IHdpbGwgYmUgY29tcGFyZWQgdG8gdGhlIHByZXZpb3VzbHkgZW1pdHRlZCB2YWx1ZXNcbiAqICAgIHVzaW5nIHRoZSBwcm92aWRlZCBgY29tcGFyYXRvcmAgb3IgYW4gYD09PWAgZXF1YWxpdHkgY2hlY2suXG4gKiAzLiBJZiB0aGUgdmFsdWUgcHVzaGVkIGJ5IHRoZSBzb3VyY2UgaXMgZGV0ZXJtaW5lZCB0byBiZSB1bmVxdWFsIGJ5IHRoaXMgY2hlY2ssIHRoYXQgdmFsdWUgaXMgZW1pdHRlZCBhbmRcbiAqICAgIGJlY29tZXMgdGhlIG5ldyBcInByZXZpb3VzbHkgZW1pdHRlZCB2YWx1ZVwiIGludGVybmFsbHkuXG4gKlxuICogV2hlbiB0aGUgc2Vjb25kIHBhcmFtZXRlciAoYHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZCNrZXlTZWxlY3RvciBrZXlTZWxlY3Rvcn1gKSBpcyBwcm92aWRlZCwgdGhlIGJlaGF2aW9yXG4gKiBjaGFuZ2VzOlxuICpcbiAqIDEuIEl0IHdpbGwgYWx3YXlzIGVtaXQgdGhlIGZpcnN0IHZhbHVlIGZyb20gdGhlIHNvdXJjZS5cbiAqIDIuIFRoZSBga2V5U2VsZWN0b3JgIHdpbGwgYmUgcnVuIGFnYWluc3QgYWxsIHZhbHVlcywgaW5jbHVkaW5nIHRoZSBmaXJzdCB2YWx1ZS5cbiAqIDMuIEZvciBhbGwgdmFsdWVzIGFmdGVyIHRoZSBmaXJzdCwgdGhlIHNlbGVjdGVkIGtleSB3aWxsIGJlIGNvbXBhcmVkIGFnYWluc3QgdGhlIGtleSBzZWxlY3RlZCBmcm9tXG4gKiAgICB0aGUgcHJldmlvdXNseSBlbWl0dGVkIHZhbHVlIHVzaW5nIHRoZSBgY29tcGFyYXRvcmAuXG4gKiA0LiBJZiB0aGUga2V5cyBhcmUgZGV0ZXJtaW5lZCB0byBiZSB1bmVxdWFsIGJ5IHRoaXMgY2hlY2ssIHRoZSB2YWx1ZSAobm90IHRoZSBrZXkpLCBpcyBlbWl0dGVkXG4gKiAgICBhbmQgdGhlIHNlbGVjdGVkIGtleSBmcm9tIHRoYXQgdmFsdWUgaXMgc2F2ZWQgZm9yIGZ1dHVyZSBjb21wYXJpc29ucyBhZ2FpbnN0IG90aGVyIGtleXMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBBIHZlcnkgYmFzaWMgZXhhbXBsZSB3aXRoIG5vIGB7QGxpbmsgZGlzdGluY3RVbnRpbENoYW5nZWQjY29tcGFyYXRvciBjb21wYXJhdG9yfWAuIE5vdGUgdGhhdCBgMWAgaXMgZW1pdHRlZCBtb3JlIHRoYW4gb25jZSxcbiAqIGJlY2F1c2UgaXQncyBkaXN0aW5jdCBpbiBjb21wYXJpc29uIHRvIHRoZSBfcHJldmlvdXNseSBlbWl0dGVkXyB2YWx1ZSxcbiAqIG5vdCBpbiBjb21wYXJpc29uIHRvIF9hbGwgb3RoZXIgZW1pdHRlZCB2YWx1ZXNfLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAxLCAxLCAyLCAyLCAyLCAxLCAxLCAzLCAzKVxuICogICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKVxuICogICAuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIC8vIExvZ3M6IDEsIDIsIDEsIDNcbiAqIGBgYFxuICpcbiAqIFdpdGggYSBge0BsaW5rIGRpc3RpbmN0VW50aWxDaGFuZ2VkI2NvbXBhcmF0b3IgY29tcGFyYXRvcn1gLCB5b3UgY2FuIGRvIGN1c3RvbSBjb21wYXJpc29ucy4gTGV0J3Mgc2F5XG4gKiB5b3Ugb25seSB3YW50IHRvIGVtaXQgYSB2YWx1ZSB3aGVuIGFsbCBvZiBpdHMgY29tcG9uZW50cyBoYXZlXG4gKiBjaGFuZ2VkOlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0b3RhbGx5RGlmZmVyZW50QnVpbGRzJCA9IG9mKFxuICogICB7IGVuZ2luZVZlcnNpb246ICcxLjEuMCcsIHRyYW5zbWlzc2lvblZlcnNpb246ICcxLjIuMCcgfSxcbiAqICAgeyBlbmdpbmVWZXJzaW9uOiAnMS4xLjAnLCB0cmFuc21pc3Npb25WZXJzaW9uOiAnMS40LjAnIH0sXG4gKiAgIHsgZW5naW5lVmVyc2lvbjogJzEuMy4wJywgdHJhbnNtaXNzaW9uVmVyc2lvbjogJzEuNC4wJyB9LFxuICogICB7IGVuZ2luZVZlcnNpb246ICcxLjMuMCcsIHRyYW5zbWlzc2lvblZlcnNpb246ICcxLjUuMCcgfSxcbiAqICAgeyBlbmdpbmVWZXJzaW9uOiAnMi4wLjAnLCB0cmFuc21pc3Npb25WZXJzaW9uOiAnMS41LjAnIH1cbiAqICkucGlwZShcbiAqICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKHByZXYsIGN1cnIpID0+IHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgcHJldi5lbmdpbmVWZXJzaW9uID09PSBjdXJyLmVuZ2luZVZlcnNpb24gfHxcbiAqICAgICAgIHByZXYudHJhbnNtaXNzaW9uVmVyc2lvbiA9PT0gY3Vyci50cmFuc21pc3Npb25WZXJzaW9uXG4gKiAgICAgKTtcbiAqICAgfSlcbiAqICk7XG4gKlxuICogdG90YWxseURpZmZlcmVudEJ1aWxkcyQuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8geyBlbmdpbmVWZXJzaW9uOiAnMS4xLjAnLCB0cmFuc21pc3Npb25WZXJzaW9uOiAnMS4yLjAnIH1cbiAqIC8vIHsgZW5naW5lVmVyc2lvbjogJzEuMy4wJywgdHJhbnNtaXNzaW9uVmVyc2lvbjogJzEuNC4wJyB9XG4gKiAvLyB7IGVuZ2luZVZlcnNpb246ICcyLjAuMCcsIHRyYW5zbWlzc2lvblZlcnNpb246ICcxLjUuMCcgfVxuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYSBjdXN0b20gYHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZCNjb21wYXJhdG9yIGNvbXBhcmF0b3J9YCB0byBjaGVjayB0aGF0IGVtaXR0ZWRcbiAqIGNoYW5nZXMgYXJlIG9ubHkgaW4gb25lIGRpcmVjdGlvbi4gTGV0J3Mgc2F5IHlvdSBvbmx5IHdhbnQgdG8gZ2V0XG4gKiB0aGUgbmV4dCByZWNvcmQgdGVtcGVyYXR1cmU6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHRlbXBzJCA9IG9mKDMwLCAzMSwgMjAsIDM0LCAzMywgMjksIDM1LCAyMCk7XG4gKlxuICogY29uc3QgcmVjb3JkSGlnaHMkID0gdGVtcHMkLnBpcGUoXG4gKiAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKChwcmV2SGlnaCwgdGVtcCkgPT4ge1xuICogICAgIC8vIElmIHRoZSBjdXJyZW50IHRlbXAgaXMgbGVzcyB0aGFuXG4gKiAgICAgLy8gb3IgdGhlIHNhbWUgYXMgdGhlIHByZXZpb3VzIHJlY29yZCxcbiAqICAgICAvLyB0aGUgcmVjb3JkIGhhc24ndCBjaGFuZ2VkLlxuICogICAgIHJldHVybiB0ZW1wIDw9IHByZXZIaWdoO1xuICogICB9KVxuICogKTtcbiAqXG4gKiByZWNvcmRIaWdocyQuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIC8vIExvZ3M6IDMwLCAzMSwgMzQsIDM1XG4gKiBgYGBcbiAqXG4gKiBTZWxlY3RpbmcgdXBkYXRlIGV2ZW50cyBvbmx5IHdoZW4gdGhlIGB1cGRhdGVkQnlgIGZpZWxkIHNob3dzXG4gKiB0aGUgYWNjb3VudCBjaGFuZ2VkIGhhbmRzLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBBIHN0cmVhbSBvZiB1cGRhdGVzIHRvIGEgZ2l2ZW4gYWNjb3VudFxuICogY29uc3QgYWNjb3VudFVwZGF0ZXMkID0gb2YoXG4gKiAgIHsgdXBkYXRlZEJ5OiAnYmxlc2gnLCBkYXRhOiBbXSB9LFxuICogICB7IHVwZGF0ZWRCeTogJ2JsZXNoJywgZGF0YTogW10gfSxcbiAqICAgeyB1cGRhdGVkQnk6ICduY2phbWllc29uJywgZGF0YTogW10gfSxcbiAqICAgeyB1cGRhdGVkQnk6ICduY2phbWllc29uJywgZGF0YTogW10gfSxcbiAqICAgeyB1cGRhdGVkQnk6ICdibGVzaCcsIGRhdGE6IFtdIH1cbiAqICk7XG4gKlxuICogLy8gV2Ugb25seSB3YW50IHRoZSBldmVudHMgd2hlcmUgaXQgY2hhbmdlZCBoYW5kc1xuICogY29uc3QgY2hhbmdlZEhhbmRzJCA9IGFjY291bnRVcGRhdGVzJC5waXBlKFxuICogICBkaXN0aW5jdFVudGlsQ2hhbmdlZCh1bmRlZmluZWQsIHVwZGF0ZSA9PiB1cGRhdGUudXBkYXRlZEJ5KVxuICogKTtcbiAqXG4gKiBjaGFuZ2VkSGFuZHMkLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiAvLyBMb2dzOlxuICogLy8geyB1cGRhdGVkQnk6ICdibGVzaCcsIGRhdGE6IEFycmF5WzBdIH1cbiAqIC8vIHsgdXBkYXRlZEJ5OiAnbmNqYW1pZXNvbicsIGRhdGE6IEFycmF5WzBdIH1cbiAqIC8vIHsgdXBkYXRlZEJ5OiAnYmxlc2gnLCBkYXRhOiBBcnJheVswXSB9XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdH1cbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkfVxuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9yIEEgZnVuY3Rpb24gdXNlZCB0byBjb21wYXJlIHRoZSBwcmV2aW91cyBhbmQgY3VycmVudCBrZXlzIGZvclxuICogZXF1YWxpdHkuIERlZmF1bHRzIHRvIGEgYD09PWAgY2hlY2suXG4gKiBAcGFyYW0ga2V5U2VsZWN0b3IgVXNlZCB0byBzZWxlY3QgYSBrZXkgdmFsdWUgdG8gYmUgcGFzc2VkIHRvIHRoZSBgY29tcGFyYXRvcmAuXG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIHdpdGggZGlzdGluY3QgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3RVbnRpbENoYW5nZWQ8VCwgSz4oXG4gIGNvbXBhcmF0b3I/OiAocHJldmlvdXM6IEssIGN1cnJlbnQ6IEspID0+IGJvb2xlYW4sXG4gIGtleVNlbGVjdG9yOiAodmFsdWU6IFQpID0+IEsgPSBpZGVudGl0eSBhcyAodmFsdWU6IFQpID0+IEtcbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIC8vIFdlJ3ZlIGJlZW4gYWxsb3dpbmcgYG51bGxgIGRvIGJlIHBhc3NlZCBhcyB0aGUgYGNvbXBhcmVgLCBzbyB3ZSBjYW4ndCBkb1xuICAvLyBhIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBwYXJhbWV0ZXIsIGJlY2F1c2UgdGhhdCB3aWxsIG9ubHkgd29ya1xuICAvLyBmb3IgYHVuZGVmaW5lZGAuXG4gIGNvbXBhcmF0b3IgPSBjb21wYXJhdG9yID8/IGRlZmF1bHRDb21wYXJlO1xuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgcHJldmlvdXMga2V5LCB1c2VkIHRvIGNvbXBhcmUgYWdhaW5zdCBrZXlzIHNlbGVjdGVkXG4gICAgLy8gZnJvbSBuZXcgYXJyaXZhbHMgdG8gZGV0ZXJtaW5lIFwiZGlzdGluY3RpdmVuZXNzXCIuXG4gICAgbGV0IHByZXZpb3VzS2V5OiBLO1xuICAgIC8vIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgdGhlIGZpcnN0IHZhbHVlIHdlJ3ZlIGdvdHRlbi5cbiAgICBsZXQgZmlyc3QgPSB0cnVlO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgLy8gV2UgYWx3YXlzIGNhbGwgdGhlIGtleSBzZWxlY3Rvci5cbiAgICAgICAgY29uc3QgY3VycmVudEtleSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcblxuICAgICAgICAvLyBJZiBpdCdzIHRoZSBmaXJzdCB2YWx1ZSwgd2UgYWx3YXlzIGVtaXQgaXQuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgY29tcGFyZSB0aGlzIGtleSB0byB0aGUgcHJldmlvdXMga2V5LCBhbmRcbiAgICAgICAgLy8gaWYgdGhlIGNvbXBhcmVyIHJldHVybnMgZmFsc2UsIHdlIGVtaXQuXG4gICAgICAgIGlmIChmaXJzdCB8fCAhY29tcGFyYXRvciEocHJldmlvdXNLZXksIGN1cnJlbnRLZXkpKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIG91ciBzdGF0ZSAqYmVmb3JlKiB3ZSBlbWl0IHRoZSB2YWx1ZVxuICAgICAgICAgIC8vIGFzIGVtaXNzaW9uIGNhbiBiZSB0aGUgc291cmNlIG9mIHJlLWVudHJhbnQgY29kZVxuICAgICAgICAgIC8vIGluIGZ1bmN0aW9uYWwgbGlicmFyaWVzIGxpa2UgdGhpcy4gV2Ugb25seSByZWFsbHlcbiAgICAgICAgICAvLyBuZWVkIHRvIGRvIHRoaXMgaWYgaXQncyB0aGUgZmlyc3QgdmFsdWUsIG9yIGlmIHRoZVxuICAgICAgICAgIC8vIGtleSB3ZSdyZSB0cmFja2luZyBpbiBwcmV2aW91cyBuZWVkcyB0byBjaGFuZ2UuXG4gICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICBwcmV2aW91c0tleSA9IGN1cnJlbnRLZXk7XG5cbiAgICAgICAgICAvLyBFbWl0IHRoZSB2YWx1ZSFcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhOiBhbnksIGI6IGFueSkge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cbiIsImltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAnLi9kaXN0aW5jdFVudGlsQ2hhbmdlZCc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkPFQ+KGtleToga2V5b2YgVCk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZDxULCBLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLLCBjb21wYXJlOiAoeDogVFtLXSwgeTogVFtLXSkgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYWxsIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRoYXQgYXJlIGRpc3RpbmN0IGJ5IGNvbXBhcmlzb24gZnJvbSB0aGUgcHJldmlvdXMgaXRlbSxcbiAqIHVzaW5nIGEgcHJvcGVydHkgYWNjZXNzZWQgYnkgdXNpbmcgdGhlIGtleSBwcm92aWRlZCB0byBjaGVjayBpZiB0aGUgdHdvIGl0ZW1zIGFyZSBkaXN0aW5jdC5cbiAqXG4gKiBJZiBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggaXRlbSB0byB0ZXN0IGZvciB3aGV0aGVyIG9yIG5vdCB0aGF0IHZhbHVlIHNob3VsZCBiZSBlbWl0dGVkLlxuICpcbiAqIElmIGEgY29tcGFyYXRvciBmdW5jdGlvbiBpcyBub3QgcHJvdmlkZWQsIGFuIGVxdWFsaXR5IGNoZWNrIGlzIHVzZWQgYnkgZGVmYXVsdC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEFuIGV4YW1wbGUgY29tcGFyaW5nIHRoZSBuYW1lIG9mIHBlcnNvbnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoXG4gKiAgIHsgYWdlOiA0LCBuYW1lOiAnRm9vJyB9LFxuICogICB7IGFnZTogNywgbmFtZTogJ0JhcicgfSxcbiAqICAgeyBhZ2U6IDUsIG5hbWU6ICdGb28nIH0sXG4gKiAgIHsgYWdlOiA2LCBuYW1lOiAnRm9vJyB9XG4gKiApLnBpcGUoXG4gKiAgIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKCduYW1lJylcbiAqIClcbiAqIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gZGlzcGxheXM6XG4gKiAvLyB7IGFnZTogNCwgbmFtZTogJ0ZvbycgfVxuICogLy8geyBhZ2U6IDcsIG5hbWU6ICdCYXInIH1cbiAqIC8vIHsgYWdlOiA1LCBuYW1lOiAnRm9vJyB9XG4gKiBgYGBcbiAqXG4gKiBBbiBleGFtcGxlIGNvbXBhcmluZyB0aGUgZmlyc3QgbGV0dGVycyBvZiB0aGUgbmFtZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihcbiAqICAgeyBhZ2U6IDQsIG5hbWU6ICdGb28xJyB9LFxuICogICB7IGFnZTogNywgbmFtZTogJ0JhcicgfSxcbiAqICAgeyBhZ2U6IDUsIG5hbWU6ICdGb28yJyB9LFxuICogICB7IGFnZTogNiwgbmFtZTogJ0ZvbzMnIH1cbiAqICkucGlwZShcbiAqICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoJ25hbWUnLCAoeCwgeSkgPT4geC5zdWJzdHJpbmcoMCwgMykgPT09IHkuc3Vic3RyaW5nKDAsIDMpKVxuICogKVxuICogLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBkaXNwbGF5czpcbiAqIC8vIHsgYWdlOiA0LCBuYW1lOiAnRm9vMScgfVxuICogLy8geyBhZ2U6IDcsIG5hbWU6ICdCYXInIH1cbiAqIC8vIHsgYWdlOiA1LCBuYW1lOiAnRm9vMicgfVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGlzdGluY3R9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsQ2hhbmdlZH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFN0cmluZyBrZXkgZm9yIG9iamVjdCBwcm9wZXJ0eSBsb29rdXAgb24gZWFjaCBpdGVtLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2NvbXBhcmVdIE9wdGlvbmFsIGNvbXBhcmlzb24gZnVuY3Rpb24gY2FsbGVkIHRvIHRlc3QgaWYgYW4gaXRlbSBpcyBkaXN0aW5jdCBmcm9tIHRoZSBwcmV2aW91cyBpdGVtIGluIHRoZSBzb3VyY2UuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgd2l0aCBkaXN0aW5jdCB2YWx1ZXMgYmFzZWQgb24gdGhlIGtleSBzcGVjaWZpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZDxULCBLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLLCBjb21wYXJlPzogKHg6IFRbS10sIHk6IFRbS10pID0+IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gZGlzdGluY3RVbnRpbENoYW5nZWQoKHg6IFQsIHk6IFQpID0+IGNvbXBhcmUgPyBjb21wYXJlKHhba2V5XSwgeVtrZXldKSA6IHhba2V5XSA9PT0geVtrZXldKTtcbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi90aHJvd0lmRW1wdHknO1xuaW1wb3J0IHsgZGVmYXVsdElmRW1wdHkgfSBmcm9tICcuL2RlZmF1bHRJZkVtcHR5JztcbmltcG9ydCB7IHRha2UgfSBmcm9tICcuL3Rha2UnO1xuXG4vKipcbiAqIEVtaXRzIHRoZSBzaW5nbGUgdmFsdWUgYXQgdGhlIHNwZWNpZmllZCBgaW5kZXhgIGluIGEgc2VxdWVuY2Ugb2YgZW1pc3Npb25zXG4gKiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RW1pdHMgb25seSB0aGUgaS10aCB2YWx1ZSwgdGhlbiBjb21wbGV0ZXMuPC9zcGFuPlxuICpcbiAqICFbXShlbGVtZW50QXQucG5nKVxuICpcbiAqIGBlbGVtZW50QXRgIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWRcbiAqIGBpbmRleGAgaW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBvciBhIGRlZmF1bHQgdmFsdWUgaWYgdGhhdCBgaW5kZXhgIGlzIG91dFxuICogb2YgcmFuZ2UgYW5kIHRoZSBgZGVmYXVsdGAgYXJndW1lbnQgaXMgcHJvdmlkZWQuIElmIHRoZSBgZGVmYXVsdGAgYXJndW1lbnQgaXNcbiAqIG5vdCBnaXZlbiBhbmQgdGhlIGBpbmRleGAgaXMgb3V0IG9mIHJhbmdlLCB0aGUgb3V0cHV0IE9ic2VydmFibGUgd2lsbCBlbWl0IGFuXG4gKiBgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JgIGVycm9yLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IG9ubHkgdGhlIHRoaXJkIGNsaWNrIGV2ZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZWxlbWVudEF0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKGVsZW1lbnRBdCgyKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW46XG4gKiAvLyBjbGljayAxID0gbm90aGluZ1xuICogLy8gY2xpY2sgMiA9IG5vdGhpbmdcbiAqIC8vIGNsaWNrIDMgPSBNb3VzZUV2ZW50IG9iamVjdCBsb2dnZWQgdG8gY29uc29sZVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlyc3R9XG4gKiBAc2VlIHtAbGluayBsYXN0fVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqIEBzZWUge0BsaW5rIHNpbmdsZX1cbiAqIEBzZWUge0BsaW5rIHRha2V9XG4gKlxuICogQHRocm93cyB7QXJndW1lbnRPdXRPZlJhbmdlRXJyb3J9IFdoZW4gdXNpbmcgYGVsZW1lbnRBdChpKWAsIGl0IGRlbGl2ZXJzIGFuXG4gKiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciB0byB0aGUgT2JzZXJ2ZXIncyBgZXJyb3JgIGNhbGxiYWNrIGlmIGBpIDwgMGAgb3IgdGhlXG4gKiBPYnNlcnZhYmxlIGhhcyBjb21wbGV0ZWQgYmVmb3JlIGVtaXR0aW5nIHRoZSBpLXRoIGBuZXh0YCBub3RpZmljYXRpb24uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IElzIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBzb3VyY2UgZW1pc3Npb24gdGhhdCBoYXNcbiAqIGhhcHBlbmVkIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIHN0YXJ0aW5nIGZyb20gdGhlIG51bWJlciBgMGAuXG4gKiBAcGFyYW0ge1R9IFtkZWZhdWx0VmFsdWVdIFRoZSBkZWZhdWx0IHZhbHVlIHJldHVybmVkIGZvciBtaXNzaW5nIGluZGljZXMuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhIHNpbmdsZSBpdGVtLCBpZlxuICogaXQgaXMgZm91bmQuIE90aGVyd2lzZSwgaXQgd2lsbCBlbWl0IHRoZSBkZWZhdWx0IHZhbHVlIGlmIGdpdmVuLiBJZiBub3QsIGl0XG4gKiBlbWl0cyBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRBdDxULCBEID0gVD4oaW5kZXg6IG51bWJlciwgZGVmYXVsdFZhbHVlPzogRCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+IHtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcigpO1xuICB9XG4gIGNvbnN0IGhhc0RlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjtcbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+XG4gICAgc291cmNlLnBpcGUoXG4gICAgICBmaWx0ZXIoKHYsIGkpID0+IGkgPT09IGluZGV4KSxcbiAgICAgIHRha2UoMSksXG4gICAgICBoYXNEZWZhdWx0VmFsdWUgPyBkZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUhKSA6IHRocm93SWZFbXB0eSgoKSA9PiBuZXcgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IoKSlcbiAgICApO1xufVxuIiwiLyoqIHByZXR0aWVyICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbmNhdCc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJy4uL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlLCBPcGVyYXRvckZ1bmN0aW9uLCBWYWx1ZUZyb21BcnJheSB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqIEBkZXByZWNhdGVkIFRoZSBgc2NoZWR1bGVyYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYHNjaGVkdWxlZGAgYW5kIGBjb25jYXRBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRXaXRoPFQ+KHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgY29uY2F0QWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gZW5kV2l0aDxULCBBIGV4dGVuZHMgdW5rbm93bltdID0gVFtdPihcbiAgLi4udmFsdWVzQW5kU2NoZWR1bGVyOiBbLi4uQSwgU2NoZWR1bGVyTGlrZV1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IFZhbHVlRnJvbUFycmF5PEE+PjtcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZFdpdGg8VCwgQSBleHRlbmRzIHVua25vd25bXSA9IFRbXT4oLi4udmFsdWVzOiBBKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgVmFsdWVGcm9tQXJyYXk8QT4+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgZW1pdCBhbGwgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSwgdGhlbiBzeW5jaHJvbm91c2x5IGVtaXRcbiAqIHRoZSBwcm92aWRlZCB2YWx1ZShzKSBpbW1lZGlhdGVseSBhZnRlciB0aGUgc291cmNlIGNvbXBsZXRlcy5cbiAqXG4gKiBOT1RFOiBQYXNzaW5nIGEgbGFzdCBhcmd1bWVudCBvZiBhIFNjaGVkdWxlciBpcyBfZGVwcmVjYXRlZF8sIGFuZCBtYXkgcmVzdWx0IGluIGluY29ycmVjdFxuICogdHlwZXMgaW4gVHlwZVNjcmlwdC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3Iga25vd2luZyB3aGVuIGFuIG9ic2VydmFibGUgZW5kcy4gUGFydGljdWxhcmx5IHdoZW4gcGFpcmVkIHdpdGggYW5cbiAqIG9wZXJhdG9yIGxpa2Uge0BsaW5rIHRha2VVbnRpbH1cbiAqXG4gKiAhW10oZW5kV2l0aC5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgdmFsdWVzIHRvIGtub3cgd2hlbiBhbiBpbnRlcnZhbCBzdGFydHMgYW5kIHN0b3BzLiBUaGUgaW50ZXJ2YWwgd2lsbFxuICogc3RvcCB3aGVuIGEgdXNlciBjbGlja3MgYW55d2hlcmUgb24gdGhlIGRvY3VtZW50LlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWFwLCBmcm9tRXZlbnQsIHN0YXJ0V2l0aCwgdGFrZVVudGlsLCBlbmRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgdGlja2VyJCA9IGludGVydmFsKDUwMDApLnBpcGUoXG4gKiAgIG1hcCgoKSA9PiAndGljaycpXG4gKiApO1xuICpcbiAqIGNvbnN0IGRvY3VtZW50Q2xpY2tzJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKlxuICogdGlja2VyJC5waXBlKFxuICogICBzdGFydFdpdGgoJ2ludGVydmFsIHN0YXJ0ZWQnKSxcbiAqICAgdGFrZVVudGlsKGRvY3VtZW50Q2xpY2tzJCksXG4gKiAgIGVuZFdpdGgoJ2ludGVydmFsIGVuZGVkIGJ5IGNsaWNrJylcbiAqIClcbiAqIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0IChhc3N1bWluZyBhIHVzZXIgY2xpY2tzIGFmdGVyIDE1IHNlY29uZHMpXG4gKiAvLyAnaW50ZXJ2YWwgc3RhcnRlZCdcbiAqIC8vICd0aWNrJ1xuICogLy8gJ3RpY2snXG4gKiAvLyAndGljaydcbiAqIC8vICdpbnRlcnZhbCBlbmRlZCBieSBjbGljaydcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHN0YXJ0V2l0aH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdH1cbiAqIEBzZWUge0BsaW5rIHRha2VVbnRpbH1cbiAqXG4gKiBAcGFyYW0gdmFsdWVzIEl0ZW1zIHlvdSB3YW50IHRoZSBtb2RpZmllZCBPYnNlcnZhYmxlIHRvIGVtaXQgbGFzdC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGFsbCB2YWx1ZXMgZnJvbSB0aGVcbiAqIHNvdXJjZSwgdGhlbiBzeW5jaHJvbm91c2x5IGVtaXRzIHRoZSBwcm92aWRlZCB2YWx1ZShzKSBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAqIHNvdXJjZSBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRXaXRoPFQ+KC4uLnZhbHVlczogQXJyYXk8VCB8IFNjaGVkdWxlckxpa2U+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGNvbmNhdChzb3VyY2UsIG9mKC4uLnZhbHVlcykpIGFzIE9ic2VydmFibGU8VD47XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBGYWxzeSwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZXZlcnk8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEV4Y2x1ZGU8VCwgRmFsc3k+IGV4dGVuZHMgbmV2ZXIgPyBmYWxzZSA6IGJvb2xlYW4+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQ+KFxuICBwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3RvcixcbiAgdGhpc0FyZzogYW55XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEV4Y2x1ZGU8VCwgRmFsc3k+IGV4dGVuZHMgbmV2ZXIgPyBmYWxzZSA6IGJvb2xlYW4+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQsIEE+KFxuICBwcmVkaWNhdGU6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICB0aGlzQXJnOiBBXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIGJvb2xlYW4+O1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIGJvb2xlYW4+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdoZXRoZXIgb3Igbm90IGV2ZXJ5IGl0ZW0gb2YgdGhlIHNvdXJjZSBzYXRpc2ZpZXMgdGhlIGNvbmRpdGlvbiBzcGVjaWZpZWQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPklmIGFsbCB2YWx1ZXMgcGFzcyBwcmVkaWNhdGUgYmVmb3JlIHRoZSBzb3VyY2UgY29tcGxldGVzLCBlbWl0cyB0cnVlIGJlZm9yZSBjb21wbGV0aW9uLFxuICogb3RoZXJ3aXNlIGVtaXQgZmFsc2UsIHRoZW4gY29tcGxldGUuPC9zcGFuPlxuICpcbiAqICFbXShldmVyeS5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEEgc2ltcGxlIGV4YW1wbGUgZW1pdHRpbmcgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgYXJlIGxlc3MgdGhhbiA1LCBmYWxzZSBvdGhlcndpc2VcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGV2ZXJ5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoMSwgMiwgMywgNCwgNSwgNilcbiAqICAgLnBpcGUoZXZlcnkoeCA9PiB4IDwgNSkpXG4gKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7IC8vIC0+IGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcmVkaWNhdGUgQSBmdW5jdGlvbiBmb3IgZGV0ZXJtaW5pbmcgaWYgYW4gaXRlbSBtZWV0cyBhIHNwZWNpZmllZCBjb25kaXRpb24uXG4gKiBAcGFyYW0ge2FueX0gW3RoaXNBcmddIE9wdGlvbmFsIG9iamVjdCB0byB1c2UgZm9yIGB0aGlzYCBpbiB0aGUgY2FsbGJhY2suXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgYm9vbGVhbnMgdGhhdCBkZXRlcm1pbmVzIGlmXG4gKiBhbGwgaXRlbXMgb2YgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIG1lZXQgdGhlIGNvbmRpdGlvbiBzcGVjaWZpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVyeTxUPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbixcbiAgdGhpc0FyZz86IGFueVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBib29sZWFuPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyssIHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRydWUpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgZXhoYXVzdEFsbCB9IGZyb20gJy4vZXhoYXVzdEFsbCc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZCB0byB7QGxpbmsgZXhoYXVzdEFsbH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4aGF1c3QgPSBleGhhdXN0QWxsO1xuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBleGhhdXN0TWFwIH0gZnJvbSAnLi9leGhhdXN0TWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5cbi8qKlxuICogQ29udmVydHMgYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZSBpbnRvIGEgZmlyc3Qtb3JkZXIgT2JzZXJ2YWJsZSBieSBkcm9wcGluZ1xuICogaW5uZXIgT2JzZXJ2YWJsZXMgd2hpbGUgdGhlIHByZXZpb3VzIGlubmVyIE9ic2VydmFibGUgaGFzIG5vdCB5ZXQgY29tcGxldGVkLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5GbGF0dGVucyBhbiBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzIGJ5IGRyb3BwaW5nIHRoZVxuICogbmV4dCBpbm5lciBPYnNlcnZhYmxlcyB3aGlsZSB0aGUgY3VycmVudCBpbm5lciBpcyBzdGlsbCBleGVjdXRpbmcuPC9zcGFuPlxuICpcbiAqICFbXShleGhhdXN0LnBuZylcbiAqXG4gKiBgZXhoYXVzdEFsbGAgc3Vic2NyaWJlcyB0byBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgT2JzZXJ2YWJsZXMsIGFsc28ga25vd24gYXMgYVxuICogaGlnaGVyLW9yZGVyIE9ic2VydmFibGUuIEVhY2ggdGltZSBpdCBvYnNlcnZlcyBvbmUgb2YgdGhlc2UgZW1pdHRlZCBpbm5lclxuICogT2JzZXJ2YWJsZXMsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBiZWdpbnMgZW1pdHRpbmcgdGhlIGl0ZW1zIGVtaXR0ZWQgYnkgdGhhdFxuICogaW5uZXIgT2JzZXJ2YWJsZS4gU28gZmFyLCBpdCBiZWhhdmVzIGxpa2Uge0BsaW5rIG1lcmdlQWxsfS4gSG93ZXZlcixcbiAqIGBleGhhdXN0QWxsYCBpZ25vcmVzIGV2ZXJ5IG5ldyBpbm5lciBPYnNlcnZhYmxlIGlmIHRoZSBwcmV2aW91cyBPYnNlcnZhYmxlIGhhc1xuICogbm90IHlldCBjb21wbGV0ZWQuIE9uY2UgdGhhdCBvbmUgY29tcGxldGVzLCBpdCB3aWxsIGFjY2VwdCBhbmQgZmxhdHRlbiB0aGVcbiAqIG5leHQgaW5uZXIgT2JzZXJ2YWJsZSBhbmQgcmVwZWF0IHRoaXMgcHJvY2Vzcy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogUnVuIGEgZmluaXRlIHRpbWVyIGZvciBlYWNoIGNsaWNrLCBvbmx5IGlmIHRoZXJlIGlzIG5vIGN1cnJlbnRseSBhY3RpdmUgdGltZXJcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGludGVydmFsLCB0YWtlLCBleGhhdXN0QWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IGhpZ2hlck9yZGVyID0gY2xpY2tzLnBpcGUoXG4gKiAgIG1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNSkpKVxuICogKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGhpZ2hlck9yZGVyLnBpcGUoZXhoYXVzdEFsbCgpKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0QWxsfVxuICogQHNlZSB7QGxpbmsgY29uY2F0QWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoQWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKiBAc2VlIHtAbGluayBleGhhdXN0TWFwfVxuICogQHNlZSB7QGxpbmsgemlwQWxsfVxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHRha2VzIGEgc291cmNlIG9mXG4gKiBPYnNlcnZhYmxlcyBhbmQgcHJvcGFnYXRlcyB0aGUgZmlyc3QgT2JzZXJ2YWJsZSBleGNsdXNpdmVseSB1bnRpbCBpdFxuICogY29tcGxldGVzIGJlZm9yZSBzdWJzY3JpYmluZyB0byB0aGUgbmV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4aGF1c3RBbGw8TyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PigpOiBPcGVyYXRvckZ1bmN0aW9uPE8sIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gZXhoYXVzdE1hcChpZGVudGl0eSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBleGhhdXN0TWFwPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gT1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4aGF1c3RNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3RvcjogdW5kZWZpbmVkXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gZXhoYXVzdE1hcDxULCBJLCBSPihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8ST4sXG4gIHJlc3VsdFNlbGVjdG9yOiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogSSwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIFByb2plY3RzIGVhY2ggc291cmNlIHZhbHVlIHRvIGFuIE9ic2VydmFibGUgd2hpY2ggaXMgbWVyZ2VkIGluIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUgb25seSBpZiB0aGUgcHJldmlvdXMgcHJvamVjdGVkIE9ic2VydmFibGUgaGFzIGNvbXBsZXRlZC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TWFwcyBlYWNoIHZhbHVlIHRvIGFuIE9ic2VydmFibGUsIHRoZW4gZmxhdHRlbnMgYWxsIG9mXG4gKiB0aGVzZSBpbm5lciBPYnNlcnZhYmxlcyB1c2luZyB7QGxpbmsgZXhoYXVzdH0uPC9zcGFuPlxuICpcbiAqICFbXShleGhhdXN0TWFwLnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBiYXNlZCBvbiBhcHBseWluZyBhIGZ1bmN0aW9uIHRoYXQgeW91XG4gKiBzdXBwbHkgdG8gZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB3aGVyZSB0aGF0IGZ1bmN0aW9uXG4gKiByZXR1cm5zIGFuIChzby1jYWxsZWQgXCJpbm5lclwiKSBPYnNlcnZhYmxlLiBXaGVuIGl0IHByb2plY3RzIGEgc291cmNlIHZhbHVlIHRvXG4gKiBhbiBPYnNlcnZhYmxlLCB0aGUgb3V0cHV0IE9ic2VydmFibGUgYmVnaW5zIGVtaXR0aW5nIHRoZSBpdGVtcyBlbWl0dGVkIGJ5XG4gKiB0aGF0IHByb2plY3RlZCBPYnNlcnZhYmxlLiBIb3dldmVyLCBgZXhoYXVzdE1hcGAgaWdub3JlcyBldmVyeSBuZXcgcHJvamVjdGVkXG4gKiBPYnNlcnZhYmxlIGlmIHRoZSBwcmV2aW91cyBwcm9qZWN0ZWQgT2JzZXJ2YWJsZSBoYXMgbm90IHlldCBjb21wbGV0ZWQuIE9uY2VcbiAqIHRoYXQgb25lIGNvbXBsZXRlcywgaXQgd2lsbCBhY2NlcHQgYW5kIGZsYXR0ZW4gdGhlIG5leHQgcHJvamVjdGVkIE9ic2VydmFibGVcbiAqIGFuZCByZXBlYXQgdGhpcyBwcm9jZXNzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBSdW4gYSBmaW5pdGUgdGltZXIgZm9yIGVhY2ggY2xpY2ssIG9ubHkgaWYgdGhlcmUgaXMgbm8gY3VycmVudGx5IGFjdGl2ZSB0aW1lclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGV4aGF1c3RNYXAsIGludGVydmFsLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICBleGhhdXN0TWFwKCgpID0+IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg1KSkpXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3R9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCA/aW5kZXg6IG51bWJlcik6IE9ic2VydmFibGVJbnB1dH0gcHJvamVjdCBBIGZ1bmN0aW9uXG4gKiB0aGF0LCB3aGVuIGFwcGxpZWQgdG8gYW4gaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcmV0dXJucyBhblxuICogT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBjb250YWluaW5nIHByb2plY3RlZFxuICogT2JzZXJ2YWJsZXMgb2YgZWFjaCBpdGVtIG9mIHRoZSBzb3VyY2UsIGlnbm9yaW5nIHByb2plY3RlZCBPYnNlcnZhYmxlcyB0aGF0XG4gKiBzdGFydCBiZWZvcmUgdGhlaXIgcHJlY2VkaW5nIE9ic2VydmFibGUgaGFzIGNvbXBsZXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4aGF1c3RNYXA8VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3Rvcj86IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPiB8IFI+IHtcbiAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgLy8gREVQUkVDQVRFRCBQQVRIXG4gICAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+XG4gICAgICBzb3VyY2UucGlwZShleGhhdXN0TWFwKChhLCBpKSA9PiBpbm5lckZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoKGI6IGFueSwgaWk6IGFueSkgPT4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpKSkpKTtcbiAgfVxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgaW5uZXJTdWI6IFN1YnNjcmliZXI8VD4gfCBudWxsID0gbnVsbDtcbiAgICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIChvdXRlclZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKCFpbm5lclN1Yikge1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlubmVyRnJvbShwcm9qZWN0KG91dGVyVmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoaW5uZXJTdWIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICFpbm5lclN1YiAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBtZXJnZUludGVybmFscyB9IGZyb20gJy4vbWVyZ2VJbnRlcm5hbHMnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmQ8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgY29uY3VycmVudD86IG51bWJlcixcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gSWYgeW91IG5lZWQgdG8gc2NoZWR1bGUgdGhlIGlubmVyIHN1YnNjcmlwdGlvbixcbiAqIHVzZSBgc3Vic2NyaWJlT25gIHdpdGhpbiB0aGUgcHJvamVjdGlvbiBmdW5jdGlvbjogYGV4cGFuZCgodmFsdWUpID0+IGZuKHZhbHVlKS5waXBlKHN1YnNjcmliZU9uKHNjaGVkdWxlcikpKWAuXG4gKiBEZXRhaWxzOiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICBjb25jdXJyZW50OiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBSZWN1cnNpdmVseSBwcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBpblxuICogdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIHNpbWlsYXIgdG8ge0BsaW5rIG1lcmdlTWFwfSwgYnV0IGFwcGxpZXMgdGhlXG4gKiBwcm9qZWN0aW9uIGZ1bmN0aW9uIHRvIGV2ZXJ5IHNvdXJjZSB2YWx1ZSBhcyB3ZWxsIGFzIGV2ZXJ5IG91dHB1dCB2YWx1ZS5cbiAqIEl0J3MgcmVjdXJzaXZlLjwvc3Bhbj5cbiAqXG4gKiAhW10oZXhwYW5kLnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBiYXNlZCBvbiBhcHBseWluZyBhIGZ1bmN0aW9uIHRoYXQgeW91XG4gKiBzdXBwbHkgdG8gZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB3aGVyZSB0aGF0IGZ1bmN0aW9uXG4gKiByZXR1cm5zIGFuIE9ic2VydmFibGUsIGFuZCB0aGVuIG1lcmdpbmcgdGhvc2UgcmVzdWx0aW5nIE9ic2VydmFibGVzIGFuZFxuICogZW1pdHRpbmcgdGhlIHJlc3VsdHMgb2YgdGhpcyBtZXJnZXIuICpFeHBhbmQqIHdpbGwgcmUtZW1pdCBvbiB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlIGV2ZXJ5IHNvdXJjZSB2YWx1ZS4gVGhlbiwgZWFjaCBvdXRwdXQgdmFsdWUgaXMgZ2l2ZW4gdG8gdGhlXG4gKiBgcHJvamVjdGAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBpbm5lciBPYnNlcnZhYmxlIHRvIGJlIG1lcmdlZCBvbiB0aGVcbiAqIG91dHB1dCBPYnNlcnZhYmxlLiBUaG9zZSBvdXRwdXQgdmFsdWVzIHJlc3VsdGluZyBmcm9tIHRoZSBwcm9qZWN0aW9uIGFyZSBhbHNvXG4gKiBnaXZlbiB0byB0aGUgYHByb2plY3RgIGZ1bmN0aW9uIHRvIHByb2R1Y2UgbmV3IG91dHB1dCB2YWx1ZXMuIFRoaXMgaXMgaG93XG4gKiAqZXhwYW5kKiBiZWhhdmVzIHJlY3Vyc2l2ZWx5LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTdGFydCBlbWl0dGluZyB0aGUgcG93ZXJzIG9mIHR3byBvbiBldmVyeSBjbGljaywgYXQgbW9zdCAxMCBvZiB0aGVtXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwLCBleHBhbmQsIG9mLCBkZWxheSwgdGFrZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBwb3dlcnNPZlR3byA9IGNsaWNrcy5waXBlKFxuICogICBtYXAoKCkgPT4gMSksXG4gKiAgIGV4cGFuZCh4ID0+IG9mKDIgKiB4KS5waXBlKGRlbGF5KDEwMDApKSksXG4gKiAgIHRha2UoMTApXG4gKiApO1xuICogcG93ZXJzT2ZUd28uc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gT2JzZXJ2YWJsZX0gcHJvamVjdCBBIGZ1bmN0aW9uXG4gKiB0aGF0LCB3aGVuIGFwcGxpZWQgdG8gYW4gaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2Ugb3IgdGhlIG91dHB1dCBPYnNlcnZhYmxlLFxuICogcmV0dXJucyBhbiBPYnNlcnZhYmxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PUluZmluaXR5XSBNYXhpbXVtIG51bWJlciBvZiBpbnB1dFxuICogT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9bnVsbF0gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIHN1YnNjcmliaW5nIHRvXG4gKiBlYWNoIHByb2plY3RlZCBpbm5lciBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHNvdXJjZSB2YWx1ZXNcbiAqIGFuZCBhbHNvIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgcHJvamVjdGlvbiBmdW5jdGlvbiB0byBlYWNoIHZhbHVlIGVtaXR0ZWQgb25cbiAqIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBhbmQgbWVyZ2luZyB0aGUgcmVzdWx0cyBvZiB0aGUgT2JzZXJ2YWJsZXMgb2J0YWluZWRcbiAqIGZyb20gdGhpcyB0cmFuc2Zvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICBjb25jdXJyZW50ID0gSW5maW5pdHksXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PiB7XG4gIGNvbmN1cnJlbnQgPSAoY29uY3VycmVudCB8fCAwKSA8IDEgPyBJbmZpbml0eSA6IGNvbmN1cnJlbnQ7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+XG4gICAgbWVyZ2VJbnRlcm5hbHMoXG4gICAgICAvLyBHZW5lcmFsIG1lcmdlIHBhcmFtc1xuICAgICAgc291cmNlLFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgIHByb2plY3QsXG4gICAgICBjb25jdXJyZW50LFxuXG4gICAgICAvLyBvbkJlZm9yZU5leHRcbiAgICAgIHVuZGVmaW5lZCxcblxuICAgICAgLy8gRXhwYW5kLXNwZWNpZmljXG4gICAgICB0cnVlLCAvLyBVc2UgZXhwYW5kIHBhdGhcbiAgICAgIHNjaGVkdWxlciAvLyBJbm5lciBzdWJzY3JpcHRpb24gc2NoZWR1bGVyXG4gICAgKVxuICApO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBUcnV0aHlUeXBlc09mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKiBAZGVwcmVjYXRlZCBVc2UgYSBjbG9zdXJlIGluc3RlYWQgb2YgYSBgdGhpc0FyZ2AuIFNpZ25hdHVyZXMgYWNjZXB0aW5nIGEgYHRoaXNBcmdgIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VCwgUyBleHRlbmRzIFQsIEE+KHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTLCB0aGlzQXJnOiBBKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VCwgUyBleHRlbmRzIFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxULCBBPihwcmVkaWNhdGU6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZzogQSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogRmlsdGVyIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IG9ubHkgZW1pdHRpbmcgdGhvc2UgdGhhdFxuICogc2F0aXNmeSBhIHNwZWNpZmllZCBwcmVkaWNhdGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkxpa2VcbiAqIFtBcnJheS5wcm90b3R5cGUuZmlsdGVyKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlciksXG4gKiBpdCBvbmx5IGVtaXRzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIGlmIGl0IHBhc3NlcyBhIGNyaXRlcmlvbiBmdW5jdGlvbi48L3NwYW4+XG4gKlxuICogIVtdKGZpbHRlci5wbmcpXG4gKlxuICogU2ltaWxhciB0byB0aGUgd2VsbC1rbm93biBgQXJyYXkucHJvdG90eXBlLmZpbHRlcmAgbWV0aG9kLCB0aGlzIG9wZXJhdG9yXG4gKiB0YWtlcyB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHBhc3NlcyB0aGVtIHRocm91Z2ggYSBgcHJlZGljYXRlYFxuICogZnVuY3Rpb24gYW5kIG9ubHkgZW1pdHMgdGhvc2UgdmFsdWVzIHRoYXQgeWllbGRlZCBgdHJ1ZWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgb25seSBjbGljayBldmVudHMgd2hvc2UgdGFyZ2V0IHdhcyBhIERJViBlbGVtZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZmlsdGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBkaXYuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMjAwcHg7IGhlaWdodDogMjAwcHg7IGJhY2tncm91bmQ6ICMwOWM7JztcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgY2xpY2tzT25EaXZzID0gY2xpY2tzLnBpcGUoZmlsdGVyKGV2ID0+ICg8SFRNTEVsZW1lbnQ+ZXYudGFyZ2V0KS50YWdOYW1lID09PSAnRElWJykpO1xuICogY2xpY2tzT25EaXZzLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0fVxuICogQHNlZSB7QGxpbmsgZGlzdGluY3RVbnRpbENoYW5nZWR9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZH1cbiAqIEBzZWUge0BsaW5rIGlnbm9yZUVsZW1lbnRzfVxuICogQHNlZSB7QGxpbmsgcGFydGl0aW9ufVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqXG4gKiBAcGFyYW0gcHJlZGljYXRlIEEgZnVuY3Rpb24gdGhhdFxuICogZXZhbHVhdGVzIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIGl0IHJldHVybnMgYHRydWVgLFxuICogdGhlIHZhbHVlIGlzIGVtaXR0ZWQsIGlmIGBmYWxzZWAgdGhlIHZhbHVlIGlzIG5vdCBwYXNzZWQgdG8gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS4gVGhlIGBpbmRleGAgcGFyYW1ldGVyIGlzIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBzb3VyY2VcbiAqIGVtaXNzaW9uIHRoYXQgaGFzIGhhcHBlbmVkIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIHN0YXJ0aW5nIGZyb20gdGhlIG51bWJlclxuICogYDBgLlxuICogQHBhcmFtIHRoaXNBcmcgQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGV0ZXJtaW5lIHRoZSB2YWx1ZSBvZiBgdGhpc2BcbiAqIGluIHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbi5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IHNhdGlzZnkgdGhlIHNwZWNpZmllZCBgcHJlZGljYXRlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBBbiBpbmRleCBwYXNzZWQgdG8gb3VyIHByZWRpY2F0ZSBmdW5jdGlvbiBvbiBlYWNoIGNhbGwuXG4gICAgbGV0IGluZGV4ID0gMDtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlLCBhbGwgZXJyb3JzIGFuZCBjb21wbGV0aW9ucyBhcmVcbiAgICAvLyBmb3J3YXJkZWQgdG8gdGhlIGNvbnN1bWVyLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAvLyBDYWxsIHRoZSBwcmVkaWNhdGUgd2l0aCB0aGUgYXBwcm9wcmlhdGUgYHRoaXNgIGNvbnRleHQsXG4gICAgICAvLyBpZiB0aGUgcHJlZGljYXRlIHJldHVybnMgYHRydWVgLCB0aGVuIHNlbmQgdGhlIHZhbHVlXG4gICAgICAvLyB0byB0aGUgY29uc3VtZXIuXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiBwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKSlcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBidXQgd2lsbCBjYWxsIGEgc3BlY2lmaWVkIGZ1bmN0aW9uIHdoZW5cbiAqIHRoZSBzb3VyY2UgdGVybWluYXRlcyBvbiBjb21wbGV0ZSBvciBlcnJvci5cbiAqIFRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gd2lsbCBhbHNvIGJlIGNhbGxlZCB3aGVuIHRoZSBzdWJzY3JpYmVyIGV4cGxpY2l0bHkgdW5zdWJzY3JpYmVzLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRXhlY3V0ZSBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIHRoZSBvYnNlcnZhYmxlIGNvbXBsZXRlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgZmluYWxpemUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBlbWl0IHZhbHVlIGluIHNlcXVlbmNlIGV2ZXJ5IDEgc2Vjb25kXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGV4YW1wbGUgPSBzb3VyY2UucGlwZShcbiAqICAgdGFrZSg1KSwgLy90YWtlIG9ubHkgdGhlIGZpcnN0IDUgdmFsdWVzXG4gKiAgIGZpbmFsaXplKCgpID0+IGNvbnNvbGUubG9nKCdTZXF1ZW5jZSBjb21wbGV0ZScpKSAvLyBFeGVjdXRlIHdoZW4gdGhlIG9ic2VydmFibGUgY29tcGxldGVzXG4gKiApO1xuICogY29uc3Qgc3Vic2NyaWJlID0gZXhhbXBsZS5zdWJzY3JpYmUodmFsID0+IGNvbnNvbGUubG9nKHZhbCkpO1xuICpcbiAqIC8vIHJlc3VsdHM6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA0XG4gKiAvLyAnU2VxdWVuY2UgY29tcGxldGUnXG4gKiBgYGBcbiAqXG4gKiBFeGVjdXRlIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gdGhlIHN1YnNjcmliZXIgZXhwbGljaXRseSB1bnN1YnNjcmliZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIGZpbmFsaXplLCB0YXAsIG5vb3AsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gaW50ZXJ2YWwoMTAwKS5waXBlKFxuICogICBmaW5hbGl6ZSgoKSA9PiBjb25zb2xlLmxvZygnW2ZpbmFsaXplXSBDYWxsZWQnKSksXG4gKiAgIHRhcCh7XG4gKiAgICAgbmV4dDogKCkgPT4gY29uc29sZS5sb2coJ1tuZXh0XSBDYWxsZWQnKSxcbiAqICAgICBlcnJvcjogKCkgPT4gY29uc29sZS5sb2coJ1tlcnJvcl0gTm90IGNhbGxlZCcpLFxuICogICAgIGNvbXBsZXRlOiAoKSA9PiBjb25zb2xlLmxvZygnW3RhcCBjb21wbGV0ZV0gTm90IGNhbGxlZCcpXG4gKiAgIH0pXG4gKiApO1xuICpcbiAqIGNvbnN0IHN1YiA9IHNvdXJjZS5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB4ID0+IGNvbnNvbGUubG9nKHgpLFxuICogICBlcnJvcjogbm9vcCxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdbY29tcGxldGVdIE5vdCBjYWxsZWQnKVxuICogfSk7XG4gKlxuICogdGltZXIoMTUwKS5zdWJzY3JpYmUoKCkgPT4gc3ViLnVuc3Vic2NyaWJlKCkpO1xuICpcbiAqIC8vIHJlc3VsdHM6XG4gKiAvLyAnW25leHRdIENhbGxlZCdcbiAqIC8vIDBcbiAqIC8vICdbZmluYWxpemVdIENhbGxlZCdcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHNvdXJjZSB0ZXJtaW5hdGVzLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlLCBidXRcbiAqIHdpbGwgY2FsbCB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIHRlcm1pbmF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemU8VD4oY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVE9ETzogVGhpcyB0cnkvZmluYWxseSB3YXMgb25seSBhZGRlZCBmb3IgYHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmdgLlxuICAgIC8vIFJFTU9WRSBUSElTIFdIRU4gVEhBVCBIT1QgR0FSQkFHRSBJUyBSRU1PVkVEIElOIFY4LlxuICAgIHRyeSB7XG4gICAgICBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzdWJzY3JpYmVyLmFkZChjYWxsYmFjayk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIFRydXRoeVR5cGVzT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQ8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmQ8VCwgUyBleHRlbmRzIFQsIEE+KFxuICBwcmVkaWNhdGU6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiB2YWx1ZSBpcyBTLFxuICB0aGlzQXJnOiBBXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFMgfCB1bmRlZmluZWQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmQ8VCwgUyBleHRlbmRzIFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiB2YWx1ZSBpcyBTXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFMgfCB1bmRlZmluZWQ+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmQ8VCwgQT4oXG4gIHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4sXG4gIHRoaXNBcmc6IEFcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IHVuZGVmaW5lZD47XG5leHBvcnQgZnVuY3Rpb24gZmluZDxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgdW5kZWZpbmVkPjtcbi8qKlxuICogRW1pdHMgb25seSB0aGUgZmlyc3QgdmFsdWUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBtZWV0cyBzb21lXG4gKiBjb25kaXRpb24uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZpbmRzIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IHBhc3NlcyBzb21lIHRlc3QgYW5kIGVtaXRzXG4gKiB0aGF0Ljwvc3Bhbj5cbiAqXG4gKiAhW10oZmluZC5wbmcpXG4gKlxuICogYGZpbmRgIHNlYXJjaGVzIGZvciB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBtYXRjaGVzIHRoZVxuICogc3BlY2lmaWVkIGNvbmRpdGlvbiBlbWJvZGllZCBieSB0aGUgYHByZWRpY2F0ZWAsIGFuZCByZXR1cm5zIHRoZSBmaXJzdFxuICogb2NjdXJyZW5jZSBpbiB0aGUgc291cmNlLiBVbmxpa2Uge0BsaW5rIGZpcnN0fSwgdGhlIGBwcmVkaWNhdGVgIGlzIHJlcXVpcmVkXG4gKiBpbiBgZmluZGAsIGFuZCBkb2VzIG5vdCBlbWl0IGFuIGVycm9yIGlmIGEgdmFsaWQgdmFsdWUgaXMgbm90IGZvdW5kXG4gKiAoZW1pdHMgYHVuZGVmaW5lZGAgaW5zdGVhZCkuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEZpbmQgYW5kIGVtaXQgdGhlIGZpcnN0IGNsaWNrIHRoYXQgaGFwcGVucyBvbiBhIERJViBlbGVtZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZmluZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICogZGl2LnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDIwMHB4OyBoZWlnaHQ6IDIwMHB4OyBiYWNrZ3JvdW5kOiAjMDljOyc7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKGZpbmQoZXYgPT4gKDxIVE1MRWxlbWVudD5ldi50YXJnZXQpLnRhZ05hbWUgPT09ICdESVYnKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlsdGVyfVxuICogQHNlZSB7QGxpbmsgZmlyc3R9XG4gKiBAc2VlIHtAbGluayBmaW5kSW5kZXh9XG4gKiBAc2VlIHtAbGluayB0YWtlfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IGJvb2xlYW59IHByZWRpY2F0ZVxuICogQSBmdW5jdGlvbiBjYWxsZWQgd2l0aCBlYWNoIGl0ZW0gdG8gdGVzdCBmb3IgY29uZGl0aW9uIG1hdGNoaW5nLlxuICogQHBhcmFtIHthbnl9IFt0aGlzQXJnXSBBbiBvcHRpb25hbCBhcmd1bWVudCB0byBkZXRlcm1pbmUgdGhlIHZhbHVlIG9mIGB0aGlzYFxuICogaW4gdGhlIGBwcmVkaWNhdGVgIGZ1bmN0aW9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGZpcnN0IGl0ZW0gdGhhdFxuICogbWF0Y2hlcyB0aGUgY29uZGl0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZDxUPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbixcbiAgdGhpc0FyZz86IGFueVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgdW5kZWZpbmVkPiB7XG4gIHJldHVybiBvcGVyYXRlKGNyZWF0ZUZpbmQocHJlZGljYXRlLCB0aGlzQXJnLCAndmFsdWUnKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaW5kPFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICB0aGlzQXJnOiBhbnksXG4gIGVtaXQ6ICd2YWx1ZScgfCAnaW5kZXgnXG4pIHtcbiAgY29uc3QgZmluZEluZGV4ID0gZW1pdCA9PT0gJ2luZGV4JztcbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8YW55PikgPT4ge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaSA9IGluZGV4Kys7XG4gICAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmluZEluZGV4ID8gaSA6IHZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmluZEluZGV4ID8gLTEgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBGYWxzeSwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlRmluZCB9IGZyb20gJy4vZmluZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXg8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgZXh0ZW5kcyBGYWxzeSA/IC0xIDogbnVtYmVyPjtcbi8qKiBAZGVwcmVjYXRlZCBVc2UgYSBjbG9zdXJlIGluc3RlYWQgb2YgYSBgdGhpc0FyZ2AuIFNpZ25hdHVyZXMgYWNjZXB0aW5nIGEgYHRoaXNBcmdgIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXg8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IsIHRoaXNBcmc6IGFueSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCBleHRlbmRzIEZhbHN5ID8gLTEgOiBudW1iZXI+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxULCBBPihcbiAgcHJlZGljYXRlOiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbixcbiAgdGhpc0FyZzogQVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBudW1iZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBudW1iZXI+O1xuXG4vKipcbiAqIEVtaXRzIG9ubHkgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0XG4gKiBtZWV0cyBzb21lIGNvbmRpdGlvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBmaW5kfSwgYnV0IGVtaXRzIHRoZSBpbmRleCBvZiB0aGVcbiAqIGZvdW5kIHZhbHVlLCBub3QgdGhlIHZhbHVlIGl0c2VsZi48L3NwYW4+XG4gKlxuICogIVtdKGZpbmRJbmRleC5wbmcpXG4gKlxuICogYGZpbmRJbmRleGAgc2VhcmNoZXMgZm9yIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IG1hdGNoZXNcbiAqIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9uIGVtYm9kaWVkIGJ5IHRoZSBgcHJlZGljYXRlYCwgYW5kIHJldHVybnMgdGhlXG4gKiAoemVyby1iYXNlZCkgaW5kZXggb2YgdGhlIGZpcnN0IG9jY3VycmVuY2UgaW4gdGhlIHNvdXJjZS4gVW5saWtlXG4gKiB7QGxpbmsgZmlyc3R9LCB0aGUgYHByZWRpY2F0ZWAgaXMgcmVxdWlyZWQgaW4gYGZpbmRJbmRleGAsIGFuZCBkb2VzIG5vdCBlbWl0XG4gKiBhbiBlcnJvciBpZiBhIHZhbGlkIHZhbHVlIGlzIG5vdCBmb3VuZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCB0aGUgaW5kZXggb2YgZmlyc3QgY2xpY2sgdGhhdCBoYXBwZW5zIG9uIGEgRElWIGVsZW1lbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBmaW5kSW5kZXggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqIGRpdi5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOiAyMDBweDsgaGVpZ2h0OiAyMDBweDsgYmFja2dyb3VuZDogIzA5YzsnO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShmaW5kSW5kZXgoZXYgPT4gKDxIVE1MRWxlbWVudD5ldi50YXJnZXQpLnRhZ05hbWUgPT09ICdESVYnKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlsdGVyfVxuICogQHNlZSB7QGxpbmsgZmluZH1cbiAqIEBzZWUge0BsaW5rIGZpcnN0fVxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBib29sZWFufSBwcmVkaWNhdGVcbiAqIEEgZnVuY3Rpb24gY2FsbGVkIHdpdGggZWFjaCBpdGVtIHRvIHRlc3QgZm9yIGNvbmRpdGlvbiBtYXRjaGluZy5cbiAqIEBwYXJhbSB7YW55fSBbdGhpc0FyZ10gQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGV0ZXJtaW5lIHRoZSB2YWx1ZSBvZiBgdGhpc2BcbiAqIGluIHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbi5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBpbmRleCBvZiB0aGVcbiAqIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBjb25kaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXg8VD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4sXG4gIHRoaXNBcmc/OiBhbnlcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgbnVtYmVyPiB7XG4gIHJldHVybiBvcGVyYXRlKGNyZWF0ZUZpbmQocHJlZGljYXRlLCB0aGlzQXJnLCAnaW5kZXgnKSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIFRydXRoeVR5cGVzT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyB0YWtlIH0gZnJvbSAnLi90YWtlJztcbmltcG9ydCB7IGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAnLi9kZWZhdWx0SWZFbXB0eSc7XG5pbXBvcnQgeyB0aHJvd0lmRW1wdHkgfSBmcm9tICcuL3Rocm93SWZFbXB0eSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgRCA9IFQ+KHByZWRpY2F0ZT86IG51bGwsIGRlZmF1bHRWYWx1ZT86IEQpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgRD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IsIGRlZmF1bHRWYWx1ZTogRCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPiB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0PFQsIFMgZXh0ZW5kcyBUPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gdmFsdWUgaXMgUyxcbiAgZGVmYXVsdFZhbHVlPzogU1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDxULCBTIGV4dGVuZHMgVCwgRD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IHZhbHVlIGlzIFMsXG4gIGRlZmF1bHRWYWx1ZTogRFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTIHwgRD47XG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VCwgRCA9IFQ+KFxuICBwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuLFxuICBkZWZhdWx0VmFsdWU/OiBEXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPjtcblxuLyoqXG4gKiBFbWl0cyBvbmx5IHRoZSBmaXJzdCB2YWx1ZSAob3IgdGhlIGZpcnN0IHZhbHVlIHRoYXQgbWVldHMgc29tZSBjb25kaXRpb24pXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RW1pdHMgb25seSB0aGUgZmlyc3QgdmFsdWUuIE9yIGVtaXRzIG9ubHkgdGhlIGZpcnN0XG4gKiB2YWx1ZSB0aGF0IHBhc3NlcyBzb21lIHRlc3QuPC9zcGFuPlxuICpcbiAqICFbXShmaXJzdC5wbmcpXG4gKlxuICogSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBgZmlyc3RgIGVtaXRzIHRoZSBmaXJzdCB2YWx1ZSBvZiB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLCB0aGVuIGNvbXBsZXRlcy4gSWYgY2FsbGVkIHdpdGggYSBgcHJlZGljYXRlYCBmdW5jdGlvbiwgYGZpcnN0YFxuICogZW1pdHMgdGhlIGZpcnN0IHZhbHVlIG9mIHRoZSBzb3VyY2UgdGhhdCBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9uLiBUaHJvd3MgYW4gZXJyb3IgaWZcbiAqIGBkZWZhdWx0VmFsdWVgIHdhcyBub3QgcHJvdmlkZWQgYW5kIGEgbWF0Y2hpbmcgZWxlbWVudCBpcyBub3QgZm91bmQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFbWl0IG9ubHkgdGhlIGZpcnN0IGNsaWNrIHRoYXQgaGFwcGVucyBvbiB0aGUgRE9NXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZmlyc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoZmlyc3QoKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogRW1pdHMgdGhlIGZpcnN0IGNsaWNrIHRoYXQgaGFwcGVucyBvbiBhIERJVlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIGZpcnN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBkaXYuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMjAwcHg7IGhlaWdodDogMjAwcHg7IGJhY2tncm91bmQ6ICMwOWM7JztcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoZmlyc3QoZXYgPT4gKDxIVE1MRWxlbWVudD5ldi50YXJnZXQpLnRhZ05hbWUgPT09ICdESVYnKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlsdGVyfVxuICogQHNlZSB7QGxpbmsgZmluZH1cbiAqIEBzZWUge0BsaW5rIHRha2V9XG4gKlxuICogQHRocm93cyB7RW1wdHlFcnJvcn0gRGVsaXZlcnMgYW4gRW1wdHlFcnJvciB0byB0aGUgT2JzZXJ2ZXIncyBgZXJyb3JgXG4gKiBjYWxsYmFjayBpZiB0aGUgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgYmVmb3JlIGFueSBgbmV4dGAgbm90aWZpY2F0aW9uIHdhcyBzZW50LlxuICogVGhpcyBpcyBob3cgYGZpcnN0KClgIGlzIGRpZmZlcmVudCBmcm9tIHtAbGluayB0YWtlfSgxKSB3aGljaCBjb21wbGV0ZXMgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBib29sZWFufSBbcHJlZGljYXRlXVxuICogQW4gb3B0aW9uYWwgZnVuY3Rpb24gY2FsbGVkIHdpdGggZWFjaCBpdGVtIHRvIHRlc3QgZm9yIGNvbmRpdGlvbiBtYXRjaGluZy5cbiAqIEBwYXJhbSB7RH0gW2RlZmF1bHRWYWx1ZV0gVGhlIGRlZmF1bHQgdmFsdWUgZW1pdHRlZCBpbiBjYXNlIG5vIHZhbGlkIHZhbHVlXG4gKiB3YXMgZm91bmQgb24gdGhlIHNvdXJjZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBmaXJzdCBpdGVtIHRoYXRcbiAqIG1hdGNoZXMgdGhlIGNvbmRpdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0PFQsIEQ+KFxuICBwcmVkaWNhdGU/OiAoKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pIHwgbnVsbCxcbiAgZGVmYXVsdFZhbHVlPzogRFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD4ge1xuICBjb25zdCBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PlxuICAgIHNvdXJjZS5waXBlKFxuICAgICAgcHJlZGljYXRlID8gZmlsdGVyKCh2LCBpKSA9PiBwcmVkaWNhdGUodiwgaSwgc291cmNlKSkgOiBpZGVudGl0eSxcbiAgICAgIHRha2UoMSksXG4gICAgICBoYXNEZWZhdWx0VmFsdWUgPyBkZWZhdWx0SWZFbXB0eShkZWZhdWx0VmFsdWUhKSA6IHRocm93SWZFbXB0eSgoKSA9PiBuZXcgRW1wdHlFcnJvcigpKVxuICAgICk7XG59XG4iLCJpbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8ge0BsaW5rIG1lcmdlTWFwfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgY29uc3QgZmxhdE1hcCA9IG1lcmdlTWFwO1xuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlciwgT3BlcmF0b3JGdW5jdGlvbiwgU3ViamVjdExpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciwgT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2ljR3JvdXBCeU9wdGlvbnM8SywgVD4ge1xuICBlbGVtZW50PzogdW5kZWZpbmVkO1xuICBkdXJhdGlvbj86IChncm91cGVkOiBHcm91cGVkT2JzZXJ2YWJsZTxLLCBUPikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT47XG4gIGNvbm5lY3Rvcj86ICgpID0+IFN1YmplY3RMaWtlPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwQnlPcHRpb25zV2l0aEVsZW1lbnQ8SywgRSwgVD4ge1xuICBlbGVtZW50OiAodmFsdWU6IFQpID0+IEU7XG4gIGR1cmF0aW9uPzogKGdyb3VwZWQ6IEdyb3VwZWRPYnNlcnZhYmxlPEssIEU+KSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PjtcbiAgY29ubmVjdG9yPzogKCkgPT4gU3ViamVjdExpa2U8RT47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5PFQsIEs+KGtleTogKHZhbHVlOiBUKSA9PiBLLCBvcHRpb25zOiBCYXNpY0dyb3VwQnlPcHRpb25zPEssIFQ+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBHcm91cGVkT2JzZXJ2YWJsZTxLLCBUPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5PFQsIEssIEU+KFxuICBrZXk6ICh2YWx1ZTogVCkgPT4gSyxcbiAgb3B0aW9uczogR3JvdXBCeU9wdGlvbnNXaXRoRWxlbWVudDxLLCBFLCBUPlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBHcm91cGVkT2JzZXJ2YWJsZTxLLCBFPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5PFQsIEsgZXh0ZW5kcyBUPihcbiAga2V5OiAodmFsdWU6IFQpID0+IHZhbHVlIGlzIEtcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgR3JvdXBlZE9ic2VydmFibGU8dHJ1ZSwgSz4gfCBHcm91cGVkT2JzZXJ2YWJsZTxmYWxzZSwgRXhjbHVkZTxULCBLPj4+O1xuXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeTxULCBLPihrZXk6ICh2YWx1ZTogVCkgPT4gSyk6IE9wZXJhdG9yRnVuY3Rpb248VCwgR3JvdXBlZE9ic2VydmFibGU8SywgVD4+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSB0aGUgb3B0aW9ucyBwYXJhbWV0ZXIgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSz4oXG4gIGtleTogKHZhbHVlOiBUKSA9PiBLLFxuICBlbGVtZW50OiB2b2lkLFxuICBkdXJhdGlvbjogKGdyb3VwZWQ6IEdyb3VwZWRPYnNlcnZhYmxlPEssIFQ+KSA9PiBPYnNlcnZhYmxlPGFueT5cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgR3JvdXBlZE9ic2VydmFibGU8SywgVD4+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSB0aGUgb3B0aW9ucyBwYXJhbWV0ZXIgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8VCwgSywgUj4oXG4gIGtleTogKHZhbHVlOiBUKSA9PiBLLFxuICBlbGVtZW50PzogKHZhbHVlOiBUKSA9PiBSLFxuICBkdXJhdGlvbj86IChncm91cGVkOiBHcm91cGVkT2JzZXJ2YWJsZTxLLCBSPikgPT4gT2JzZXJ2YWJsZTxhbnk+XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEdyb3VwZWRPYnNlcnZhYmxlPEssIFI+PjtcblxuLyoqXG4gKiBHcm91cHMgdGhlIGl0ZW1zIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZSBhY2NvcmRpbmcgdG8gYSBzcGVjaWZpZWQgY3JpdGVyaW9uLFxuICogYW5kIGVtaXRzIHRoZXNlIGdyb3VwZWQgaXRlbXMgYXMgYEdyb3VwZWRPYnNlcnZhYmxlc2AsIG9uZVxuICoge0BsaW5rIEdyb3VwZWRPYnNlcnZhYmxlfSBwZXIgZ3JvdXAuXG4gKlxuICogIVtdKGdyb3VwQnkucG5nKVxuICpcbiAqIFdoZW4gdGhlIE9ic2VydmFibGUgZW1pdHMgYW4gaXRlbSwgYSBrZXkgaXMgY29tcHV0ZWQgZm9yIHRoaXMgaXRlbSB3aXRoIHRoZSBrZXkgZnVuY3Rpb24uXG4gKlxuICogSWYgYSB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9IGZvciB0aGlzIGtleSBleGlzdHMsIHRoaXMge0BsaW5rIEdyb3VwZWRPYnNlcnZhYmxlfSBlbWl0cy4gT3RoZXJ3aXNlLCBhIG5ld1xuICoge0BsaW5rIEdyb3VwZWRPYnNlcnZhYmxlfSBmb3IgdGhpcyBrZXkgaXMgY3JlYXRlZCBhbmQgZW1pdHMuXG4gKlxuICogQSB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9IHJlcHJlc2VudHMgdmFsdWVzIGJlbG9uZ2luZyB0byB0aGUgc2FtZSBncm91cCByZXByZXNlbnRlZCBieSBhIGNvbW1vbiBrZXkuIFRoZSBjb21tb25cbiAqIGtleSBpcyBhdmFpbGFibGUgYXMgdGhlIGBrZXlgIGZpZWxkIG9mIGEge0BsaW5rIEdyb3VwZWRPYnNlcnZhYmxlfSBpbnN0YW5jZS5cbiAqXG4gKiBUaGUgZWxlbWVudHMgZW1pdHRlZCBieSB7QGxpbmsgR3JvdXBlZE9ic2VydmFibGV9cyBhcmUgYnkgZGVmYXVsdCB0aGUgaXRlbXMgZW1pdHRlZCBieSB0aGUgT2JzZXJ2YWJsZSwgb3IgZWxlbWVudHNcbiAqIHJldHVybmVkIGJ5IHRoZSBlbGVtZW50IGZ1bmN0aW9uLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogR3JvdXAgb2JqZWN0cyBieSBgaWRgIGFuZCByZXR1cm4gYXMgYXJyYXlcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGdyb3VwQnksIG1lcmdlTWFwLCByZWR1Y2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihcbiAqICAgeyBpZDogMSwgbmFtZTogJ0phdmFTY3JpcHQnIH0sXG4gKiAgIHsgaWQ6IDIsIG5hbWU6ICdQYXJjZWwnIH0sXG4gKiAgIHsgaWQ6IDIsIG5hbWU6ICd3ZWJwYWNrJyB9LFxuICogICB7IGlkOiAxLCBuYW1lOiAnVHlwZVNjcmlwdCcgfSxcbiAqICAgeyBpZDogMywgbmFtZTogJ1RTTGludCcgfVxuICogKS5waXBlKFxuICogICBncm91cEJ5KHAgPT4gcC5pZCksXG4gKiAgIG1lcmdlTWFwKGdyb3VwJCA9PiBncm91cCQucGlwZShyZWR1Y2UoKGFjYywgY3VyKSA9PiBbLi4uYWNjLCBjdXJdLCBbXSkpKVxuICogKVxuICogLnN1YnNjcmliZShwID0+IGNvbnNvbGUubG9nKHApKTtcbiAqXG4gKiAvLyBkaXNwbGF5czpcbiAqIC8vIFt7IGlkOiAxLCBuYW1lOiAnSmF2YVNjcmlwdCcgfSwgeyBpZDogMSwgbmFtZTogJ1R5cGVTY3JpcHQnfV1cbiAqIC8vIFt7IGlkOiAyLCBuYW1lOiAnUGFyY2VsJyB9LCB7IGlkOiAyLCBuYW1lOiAnd2VicGFjayd9XVxuICogLy8gW3sgaWQ6IDMsIG5hbWU6ICdUU0xpbnQnIH1dXG4gKiBgYGBcbiAqXG4gKiBQaXZvdCBkYXRhIG9uIHRoZSBgaWRgIGZpZWxkXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBncm91cEJ5LCBtZXJnZU1hcCwgcmVkdWNlLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihcbiAqICAgeyBpZDogMSwgbmFtZTogJ0phdmFTY3JpcHQnIH0sXG4gKiAgIHsgaWQ6IDIsIG5hbWU6ICdQYXJjZWwnIH0sXG4gKiAgIHsgaWQ6IDIsIG5hbWU6ICd3ZWJwYWNrJyB9LFxuICogICB7IGlkOiAxLCBuYW1lOiAnVHlwZVNjcmlwdCcgfSxcbiAqICAgeyBpZDogMywgbmFtZTogJ1RTTGludCcgfVxuICogKS5waXBlKFxuICogICBncm91cEJ5KHAgPT4gcC5pZCwgeyBlbGVtZW50OiBwID0+IHAubmFtZSB9KSxcbiAqICAgbWVyZ2VNYXAoZ3JvdXAkID0+IGdyb3VwJC5waXBlKHJlZHVjZSgoYWNjLCBjdXIpID0+IFsuLi5hY2MsIGN1cl0sIFtgJHsgZ3JvdXAkLmtleSB9YF0pKSksXG4gKiAgIG1hcChhcnIgPT4gKHsgaWQ6IHBhcnNlSW50KGFyclswXSwgMTApLCB2YWx1ZXM6IGFyci5zbGljZSgxKSB9KSlcbiAqIClcbiAqIC5zdWJzY3JpYmUocCA9PiBjb25zb2xlLmxvZyhwKSk7XG4gKlxuICogLy8gZGlzcGxheXM6XG4gKiAvLyB7IGlkOiAxLCB2YWx1ZXM6IFsgJ0phdmFTY3JpcHQnLCAnVHlwZVNjcmlwdCcgXSB9XG4gKiAvLyB7IGlkOiAyLCB2YWx1ZXM6IFsgJ1BhcmNlbCcsICd3ZWJwYWNrJyBdIH1cbiAqIC8vIHsgaWQ6IDMsIHZhbHVlczogWyAnVFNMaW50JyBdIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBrZXkgQSBmdW5jdGlvbiB0aGF0IGV4dHJhY3RzIHRoZSBrZXlcbiAqIGZvciBlYWNoIGl0ZW0uXG4gKiBAcGFyYW0gZWxlbWVudCBBIGZ1bmN0aW9uIHRoYXQgZXh0cmFjdHMgdGhlXG4gKiByZXR1cm4gZWxlbWVudCBmb3IgZWFjaCBpdGVtLlxuICogQHBhcmFtIGR1cmF0aW9uXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRvIGRldGVybWluZSBob3cgbG9uZyBlYWNoIGdyb3VwIHNob3VsZFxuICogZXhpc3QuXG4gKiBAcGFyYW0gY29ubmVjdG9yIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGFuXG4gKiBpbnRlcm1lZGlhdGUgU3ViamVjdCB0aHJvdWdoIHdoaWNoIGdyb3VwZWQgZWxlbWVudHMgYXJlIGVtaXR0ZWQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBHcm91cGVkT2JzZXJ2YWJsZXMsXG4gKiBlYWNoIG9mIHdoaWNoIGNvcnJlc3BvbmRzIHRvIGEgdW5pcXVlIGtleSB2YWx1ZSBhbmQgZWFjaCBvZiB3aGljaCBlbWl0c1xuICogdGhvc2UgaXRlbXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBzaGFyZSB0aGF0IGtleSB2YWx1ZS5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhlIG9wdGlvbnMgcGFyYW1ldGVyIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5PFQsIEssIFI+KFxuICBrZXk6ICh2YWx1ZTogVCkgPT4gSyxcbiAgZWxlbWVudD86ICh2YWx1ZTogVCkgPT4gUixcbiAgZHVyYXRpb24/OiAoZ3JvdXBlZDogR3JvdXBlZE9ic2VydmFibGU8SywgUj4pID0+IE9ic2VydmFibGU8YW55PixcbiAgY29ubmVjdG9yPzogKCkgPT4gU3ViamVjdDxSPlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBHcm91cGVkT2JzZXJ2YWJsZTxLLCBSPj47XG5cbi8vIEltcGxcbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5PFQsIEssIFI+KFxuICBrZXlTZWxlY3RvcjogKHZhbHVlOiBUKSA9PiBLLFxuICBlbGVtZW50T3JPcHRpb25zPzogKCh2YWx1ZTogYW55KSA9PiBhbnkpIHwgdm9pZCB8IEJhc2ljR3JvdXBCeU9wdGlvbnM8SywgVD4gfCBHcm91cEJ5T3B0aW9uc1dpdGhFbGVtZW50PEssIFIsIFQ+LFxuICBkdXJhdGlvbj86IChncm91cGVkOiBHcm91cGVkT2JzZXJ2YWJsZTxhbnksIGFueT4pID0+IE9ic2VydmFibGVJbnB1dDxhbnk+LFxuICBjb25uZWN0b3I/OiAoKSA9PiBTdWJqZWN0TGlrZTxhbnk+XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEdyb3VwZWRPYnNlcnZhYmxlPEssIFI+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgZWxlbWVudDogKCh2YWx1ZTogYW55KSA9PiBhbnkpIHwgdm9pZDtcbiAgICBpZiAoIWVsZW1lbnRPck9wdGlvbnMgfHwgdHlwZW9mIGVsZW1lbnRPck9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50T3JPcHRpb25zIGFzICgodmFsdWU6IGFueSkgPT4gYW55KTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHsgZHVyYXRpb24sIGVsZW1lbnQsIGNvbm5lY3RvciB9ID0gZWxlbWVudE9yT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gQSBsb29rdXAgZm9yIHRoZSBncm91cHMgdGhhdCB3ZSBoYXZlIHNvIGZhci5cbiAgICBjb25zdCBncm91cHMgPSBuZXcgTWFwPEssIFN1YmplY3RMaWtlPGFueT4+KCk7XG5cbiAgICAvLyBVc2VkIGZvciBub3RpZnlpbmcgYWxsIGdyb3VwcyBhbmQgdGhlIHN1YnNjcmliZXIgaW4gdGhlIHNhbWUgd2F5LlxuICAgIGNvbnN0IG5vdGlmeSA9IChjYjogKGdyb3VwOiBPYnNlcnZlcjxhbnk+KSA9PiB2b2lkKSA9PiB7XG4gICAgICBncm91cHMuZm9yRWFjaChjYik7XG4gICAgICBjYihzdWJzY3JpYmVyKTtcbiAgICB9O1xuXG4gICAgLy8gVXNlZCB0byBoYW5kbGUgZXJyb3JzIGZyb20gdGhlIHNvdXJjZSwgQU5EIGVycm9ycyB0aGF0IG9jY3VyIGR1cmluZyB0aGVcbiAgICAvLyBuZXh0IGNhbGwgZnJvbSB0aGUgc291cmNlLlxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycjogYW55KSA9PiBub3RpZnkoKGNvbnN1bWVyKSA9PiBjb25zdW1lci5lcnJvcihlcnIpKTtcblxuICAgIC8vIFRoZSBudW1iZXIgb2YgYWN0aXZlbHkgc3Vic2NyaWJlZCBncm91cHNcbiAgICBsZXQgYWN0aXZlR3JvdXBzID0gMDtcblxuICAgIC8vIFdoZXRoZXIgb3Igbm90IHRlYXJkb3duIHdhcyBhdHRlbXB0ZWQgb24gdGhpcyBzdWJzY3JpcHRpb24uXG4gICAgbGV0IHRlYXJkb3duQXR0ZW1wdGVkID0gZmFsc2U7XG5cbiAgICAvLyBDYXB0dXJpbmcgYSByZWZlcmVuY2UgdG8gdGhpcywgYmVjYXVzZSB3ZSBuZWVkIGEgaGFuZGxlIHRvIGl0XG4gICAgLy8gaW4gYGNyZWF0ZUdyb3VwZWRPYnNlcnZhYmxlYCBiZWxvdy4gVGhpcyBpcyB3aGF0IHdlIHVzZSB0b1xuICAgIC8vIHN1YnNjcmliZSB0byBvdXIgc291cmNlIG9ic2VydmFibGUuIFRoaXMgc29tZXRpbWVzIG5lZWRzIHRvIGJlIHVuc3Vic2NyaWJlZFxuICAgIC8vIG91dC1vZi1iYW5kIHdpdGggb3VyIGBzdWJzY3JpYmVyYCB3aGljaCBpcyB0aGUgZG93bnN0cmVhbSBzdWJzY3JpYmVyLCBvciBkZXN0aW5hdGlvbixcbiAgICAvLyBpbiBjYXNlcyB3aGVyZSBhIHVzZXIgdW5zdWJzY3JpYmVzIGZyb20gdGhlIG1haW4gcmVzdWx0aW5nIHN1YnNjcmlwdGlvbiwgYnV0XG4gICAgLy8gc3RpbGwgaGFzIGdyb3VwcyBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uIHN1YnNjcmliZWQgYW5kIHdvdWxkIGV4cGVjdCB2YWx1ZXMgZnJvbSBpdFxuICAgIC8vIENvbnNpZGVyOiAgYHNvdXJjZS5waXBlKGdyb3VwQnkoZm4pLCB0YWtlKDIpKWAuXG4gICAgY29uc3QgZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIgPSBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAvLyBCZWNhdXNlIHdlIGhhdmUgdG8gbm90aWZ5IGFsbCBncm91cHMgb2YgYW55IGVycm9ycyB0aGF0IG9jY3VyIGluIGhlcmUsXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gYWRkIG91ciBvd24gdHJ5L2NhdGNoIHRvIGVuc3VyZSB0aGF0IHRob3NlIGVycm9ycyBhcmUgcHJvcGFnYXRlZC5cbiAgICAgICAgLy8gT3BlcmF0b3JTdWJzY3JpYmVyIHdpbGwgb25seSBzZW5kIHRoZSBlcnJvciB0byB0aGUgbWFpbiBzdWJzY3JpYmVyLlxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcblxuICAgICAgICAgIGxldCBncm91cCA9IGdyb3Vwcy5nZXQoa2V5KTtcbiAgICAgICAgICBpZiAoIWdyb3VwKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgb3VyIGdyb3VwIHN1YmplY3RcbiAgICAgICAgICAgIGdyb3Vwcy5zZXQoa2V5LCAoZ3JvdXAgPSBjb25uZWN0b3IgPyBjb25uZWN0b3IoKSA6IG5ldyBTdWJqZWN0PGFueT4oKSkpO1xuXG4gICAgICAgICAgICAvLyBFbWl0IHRoZSBncm91cGVkIG9ic2VydmFibGUuIE5vdGUgdGhhdCB3ZSBjYW4ndCBkbyBhIHNpbXBsZSBgYXNPYnNlcnZhYmxlKClgIGhlcmUsXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoZSBncm91cGVkIG9ic2VydmFibGUgaGFzIHNwZWNpYWwgc2VtYW50aWNzIGFyb3VuZCByZWZlcmVuY2UgY291bnRpbmdcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB3ZSBkb24ndCBzZXZlciBvdXIgY29ubmVjdGlvbiB0byB0aGUgc291cmNlIHByZW1hdHVyZWx5LlxuICAgICAgICAgICAgY29uc3QgZ3JvdXBlZCA9IGNyZWF0ZUdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXApO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGdyb3VwZWQpO1xuXG4gICAgICAgICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb25TdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICAgIC8vIFByb3ZpZGluZyB0aGUgZ3JvdXAgaGVyZSBlbnN1cmVzIHRoYXQgaXQgaXMgZGlzcG9zZWQgb2YgLS0gdmlhIGB1bnN1YnNjcmliZWAgLS1cbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBkdXJhdGlvbiBzdWJzY3JpcHRpb24gaXMgdG9ybiBkb3duLiBUaGF0IGlzIGltcG9ydGFudCwgYmVjYXVzZSB0aGVuXG4gICAgICAgICAgICAgICAgLy8gaWYgc29tZW9uZSBob2xkcyBhIGhhbmRsZSB0byB0aGUgZ3JvdXBlZCBvYnNlcnZhYmxlIGFuZCB0cmllcyB0byBzdWJzY3JpYmUgdG8gaXRcbiAgICAgICAgICAgICAgICAvLyBhZnRlciB0aGUgY29ubmVjdGlvbiB0byB0aGUgc291cmNlIGhhcyBiZWVuIHNldmVyZWQsIHRoZXkgd2lsbCBnZXQgYW5cbiAgICAgICAgICAgICAgICAvLyBgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JgIGFuZCBrbm93IHRoZXkgY2FuJ3QgcG9zc2libHkgZ2V0IGFueSBub3RpZmljYXRpb25zLlxuICAgICAgICAgICAgICAgIGdyb3VwIGFzIGFueSxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBPdXIgZHVyYXRpb24gbm90aWZpZWQhIFdlIGNhbiBjb21wbGV0ZSB0aGUgZ3JvdXAuXG4gICAgICAgICAgICAgICAgICAvLyBUaGUgZ3JvdXAgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIG1hcCBpbiB0aGUgZmluYWxpemF0aW9uIHBoYXNlLlxuICAgICAgICAgICAgICAgICAgZ3JvdXAhLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBDb21wbGV0aW9ucyBhcmUgYWxzbyBzZW50IHRvIHRoZSBncm91cCwgYnV0IGp1c3QgdGhlIGdyb3VwLlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAvLyBFcnJvcnMgb24gdGhlIGR1cmF0aW9uIHN1YnNjcmliZXIgYXJlIHNlbnQgdG8gdGhlIGdyb3VwXG4gICAgICAgICAgICAgICAgLy8gYnV0IG9ubHkgdGhlIGdyb3VwLiBUaGV5IGFyZSBub3Qgc2VudCB0byB0aGUgbWFpbiBzdWJzY3JpcHRpb24uXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIC8vIEZpbmFsaXphdGlvbjogUmVtb3ZlIHRoaXMgZ3JvdXAgZnJvbSBvdXIgbWFwLlxuICAgICAgICAgICAgICAgICgpID0+IGdyb3Vwcy5kZWxldGUoa2V5KVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIFN0YXJ0IG91ciBkdXJhdGlvbiBub3RpZmllci5cbiAgICAgICAgICAgICAgZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIuYWRkKGlubmVyRnJvbShkdXJhdGlvbihncm91cGVkKSkuc3Vic2NyaWJlKGR1cmF0aW9uU3Vic2NyaWJlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlbmQgdGhlIHZhbHVlIHRvIG91ciBncm91cC5cbiAgICAgICAgICBncm91cC5uZXh0KGVsZW1lbnQgPyBlbGVtZW50KHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFNvdXJjZSBjb21wbGV0ZXMuXG4gICAgICAoKSA9PiBub3RpZnkoKGNvbnN1bWVyKSA9PiBjb25zdW1lci5jb21wbGV0ZSgpKSxcbiAgICAgIC8vIEVycm9yIGZyb20gdGhlIHNvdXJjZS5cbiAgICAgIGhhbmRsZUVycm9yLFxuICAgICAgLy8gRnJlZSB1cCBtZW1vcnkuXG4gICAgICAvLyBXaGVuIHRoZSBzb3VyY2Ugc3Vic2NyaXB0aW9uIGlzIF9maW5hbGx5XyB0b3JuIGRvd24sIHJlbGVhc2UgdGhlIHN1YmplY3RzIGFuZCBrZXlzXG4gICAgICAvLyBpbiBvdXIgZ3JvdXBzIE1hcCwgdGhleSBtYXkgYmUgcXVpdGUgbGFyZ2UgYW5kIHdlIGRvbid0IHdhbnQgdG8ga2VlcCB0aGVtIGFyb3VuZCBpZiB3ZVxuICAgICAgLy8gZG9uJ3QgaGF2ZSB0by5cbiAgICAgICgpID0+IGdyb3Vwcy5jbGVhcigpLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0ZWFyZG93bkF0dGVtcHRlZCA9IHRydWU7XG4gICAgICAgIC8vIFdlIG9ubHkga2lsbCBvdXIgc3Vic2NyaXB0aW9uIHRvIHRoZSBzb3VyY2UgaWYgd2UgaGF2ZVxuICAgICAgICAvLyBubyBhY3RpdmUgZ3JvdXBzLiBBcyBzdGF0ZWQgYWJvdmUsIGNvbnNpZGVyIHRoaXMgc2NlbmFyaW86XG4gICAgICAgIC8vIHNvdXJjZSQucGlwZShncm91cEJ5KGZuKSwgdGFrZSgyKSkuXG4gICAgICAgIHJldHVybiBhY3RpdmVHcm91cHMgPT09IDA7XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlXG4gICAgc291cmNlLnN1YnNjcmliZShncm91cEJ5U291cmNlU3Vic2NyaWJlcik7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBhY3R1YWwgZ3JvdXBlZCBvYnNlcnZhYmxlIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgZ3JvdXBcbiAgICAgKiBAcGFyYW0gZ3JvdXBTdWJqZWN0IFRoZSBzdWJqZWN0IHRoYXQgZnVlbHMgdGhlIGdyb3VwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlR3JvdXBlZE9ic2VydmFibGUoa2V5OiBLLCBncm91cFN1YmplY3Q6IFN1YmplY3RMaWtlPGFueT4pIHtcbiAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gbmV3IE9ic2VydmFibGU8VD4oKGdyb3VwU3Vic2NyaWJlcikgPT4ge1xuICAgICAgICBhY3RpdmVHcm91cHMrKztcbiAgICAgICAgY29uc3QgaW5uZXJTdWIgPSBncm91cFN1YmplY3Quc3Vic2NyaWJlKGdyb3VwU3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAvLyBXZSBjYW4ga2lsbCB0aGUgc3Vic2NyaXB0aW9uIHRvIG91ciBzb3VyY2UgaWYgd2Ugbm93IGhhdmUgbm8gbW9yZVxuICAgICAgICAgIC8vIGFjdGl2ZSBncm91cHMgc3Vic2NyaWJlZCwgYW5kIGEgZmluYWxpemF0aW9uIHdhcyBhbHJlYWR5IGF0dGVtcHRlZCBvblxuICAgICAgICAgIC8vIHRoZSBzb3VyY2UuXG4gICAgICAgICAgLS1hY3RpdmVHcm91cHMgPT09IDAgJiYgdGVhcmRvd25BdHRlbXB0ZWQgJiYgZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmVzdWx0LmtleSA9IGtleTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBBbiBvYnNlcnZhYmxlIG9mIHZhbHVlcyB0aGF0IGlzIHRoZSBlbWl0dGVkIGJ5IHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgZ3JvdXBCeX0gb3BlcmF0b3IsXG4gKiBjb250YWlucyBhIGBrZXlgIHByb3BlcnR5IGZvciB0aGUgZ3JvdXBpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBlZE9ic2VydmFibGU8SywgVD4gZXh0ZW5kcyBPYnNlcnZhYmxlPFQ+IHtcbiAgLyoqXG4gICAqIFRoZSBrZXkgdmFsdWUgZm9yIHRoZSBncm91cGVkIG5vdGlmaWNhdGlvbnMuXG4gICAqL1xuICByZWFkb25seSBrZXk6IEs7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcblxuLyoqXG4gKiBJZ25vcmVzIGFsbCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgb25seSBwYXNzZXMgY2FsbHMgb2YgYGNvbXBsZXRlYCBvciBgZXJyb3JgLlxuICpcbiAqICFbXShpZ25vcmVFbGVtZW50cy5wbmcpXG4gKlxuICogVGhlIGBpZ25vcmVFbGVtZW50c2Agb3BlcmF0b3Igc3VwcHJlc3NlcyBhbGwgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsXG4gKiBidXQgYWxsb3dzIGl0cyB0ZXJtaW5hdGlvbiBub3RpZmljYXRpb24gKGVpdGhlciBgZXJyb3JgIG9yIGBjb21wbGV0ZWApIHRvIHBhc3MgdGhyb3VnaCB1bmNoYW5nZWQuXG4gKlxuICogSWYgeW91IGRvIG5vdCBjYXJlIGFib3V0IHRoZSBpdGVtcyBiZWluZyBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUsIGJ1dCB5b3UgZG8gd2FudCB0byBiZSBub3RpZmllZFxuICogd2hlbiBpdCBjb21wbGV0ZXMgb3Igd2hlbiBpdCB0ZXJtaW5hdGVzIHdpdGggYW4gZXJyb3IsIHlvdSBjYW4gYXBwbHkgdGhlIGBpZ25vcmVFbGVtZW50c2Agb3BlcmF0b3JcbiAqIHRvIHRoZSBPYnNlcnZhYmxlLCB3aGljaCB3aWxsIGVuc3VyZSB0aGF0IGl0IHdpbGwgbmV2ZXIgY2FsbCBpdHMgb2JzZXJ2ZXJz4oCZIGBuZXh0YCBoYW5kbGVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogSWdub3JlIGFsbCBgbmV4dGAgZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgaWdub3JlRWxlbWVudHMgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigneW91JywgJ3RhbGtpbmcnLCAndG8nLCAnbWUnKVxuICogICAucGlwZShpZ25vcmVFbGVtZW50cygpKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB3b3JkID0+IGNvbnNvbGUubG9nKHdvcmQpLFxuICogICAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coJ2Vycm9yOicsIGVyciksXG4gKiAgICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCd0aGUgZW5kJyksXG4gKiAgIH0pO1xuICpcbiAqIC8vIHJlc3VsdDpcbiAqIC8vICd0aGUgZW5kJ1xuICogYGBgXG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlbXB0eSBPYnNlcnZhYmxlIHRoYXQgb25seSBjYWxsc1xuICogYGNvbXBsZXRlYCBvciBgZXJyb3JgLCBiYXNlZCBvbiB3aGljaCBvbmUgaXMgY2FsbGVkIGJ5IHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZ25vcmVFbGVtZW50cygpOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIG5ldmVyPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBub29wKSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEVtaXRzIGBmYWxzZWAgaWYgdGhlIGlucHV0IE9ic2VydmFibGUgZW1pdHMgYW55IHZhbHVlcywgb3IgZW1pdHMgYHRydWVgIGlmIHRoZVxuICogaW5wdXQgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhbnkgdmFsdWVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5UZWxscyB3aGV0aGVyIGFueSB2YWx1ZXMgYXJlIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKGlzRW1wdHkucG5nKVxuICpcbiAqIGBpc0VtcHR5YCB0cmFuc2Zvcm1zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB2YWx1ZXMgaW50byBhbiBPYnNlcnZhYmxlIHRoYXRcbiAqIGVtaXRzIGEgc2luZ2xlIGJvb2xlYW4gdmFsdWUgcmVwcmVzZW50aW5nIHdoZXRoZXIgb3Igbm90IGFueSB2YWx1ZXMgd2VyZVxuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIEFzIHNvb24gYXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIGFcbiAqIHZhbHVlLCBgaXNFbXB0eWAgd2lsbCBlbWl0IGEgYGZhbHNlYCBhbmQgY29tcGxldGUuICBJZiB0aGUgc291cmNlIE9ic2VydmFibGVcbiAqIGNvbXBsZXRlcyBoYXZpbmcgbm90IGVtaXR0ZWQgYW55dGhpbmcsIGBpc0VtcHR5YCB3aWxsIGVtaXQgYSBgdHJ1ZWAgYW5kXG4gKiBjb21wbGV0ZS5cbiAqXG4gKiBBIHNpbWlsYXIgZWZmZWN0IGNvdWxkIGJlIGFjaGlldmVkIHdpdGgge0BsaW5rIGNvdW50fSwgYnV0IGBpc0VtcHR5YCBjYW4gZW1pdFxuICogYSBgZmFsc2VgIHZhbHVlIHNvb25lci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgYGZhbHNlYCBmb3IgYSBub24tZW1wdHkgT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBTdWJqZWN0LCBpc0VtcHR5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUoaXNFbXB0eSgpKTtcbiAqXG4gKiBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiBzb3VyY2UubmV4dCgnYScpO1xuICogc291cmNlLm5leHQoJ2InKTtcbiAqIHNvdXJjZS5uZXh0KCdjJyk7XG4gKiBzb3VyY2UuY29tcGxldGUoKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyAnYSdcbiAqIC8vIGZhbHNlXG4gKiAvLyAnYidcbiAqIC8vICdjJ1xuICogYGBgXG4gKlxuICogRW1pdCBgdHJ1ZWAgZm9yIGFuIGVtcHR5IE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgRU1QVFksIGlzRW1wdHkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBFTVBUWS5waXBlKGlzRW1wdHkoKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIHRydWVcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvdW50fVxuICogQHNlZSB7QGxpbmsgRU1QVFl9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYm9vbGVhbiB2YWx1ZVxuICogaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3YXMgZW1wdHkgb3Igbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eTxUPigpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIGJvb2xlYW4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZmFsc2UpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICcuLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IHRvQXJyYXkgfSBmcm9tICcuL3RvQXJyYXknO1xuXG4vKipcbiAqIENvbGxlY3RzIGFsbCBvZiB0aGUgaW5uZXIgc291cmNlcyBmcm9tIHNvdXJjZSBvYnNlcnZhYmxlLiBUaGVuLCBvbmNlIHRoZVxuICogc291cmNlIGNvbXBsZXRlcywgam9pbnMgdGhlIHZhbHVlcyB1c2luZyB0aGUgZ2l2ZW4gc3RhdGljLlxuICpcbiAqIFRoaXMgaXMgdXNlZCBmb3Ige0BsaW5rIGNvbWJpbmVMYXRlc3RBbGx9IGFuZCB7QGxpbmsgemlwQWxsfSB3aGljaCBib3RoIGhhdmUgdGhlXG4gKiBzYW1lIGJlaGF2aW9yIG9mIGNvbGxlY3RpbmcgYWxsIGlubmVyIG9ic2VydmFibGVzLCB0aGVuIG9wZXJhdGluZyBvbiB0aGVtLlxuICpcbiAqIEBwYXJhbSBqb2luRm4gVGhlIHR5cGUgb2Ygc3RhdGljIGpvaW4gdG8gYXBwbHkgdG8gdGhlIHNvdXJjZXMgY29sbGVjdGVkXG4gKiBAcGFyYW0gcHJvamVjdCBUaGUgcHJvamVjdGlvbiBmdW5jdGlvbiB0byBhcHBseSB0byB0aGUgdmFsdWVzLCBpZiBhbnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpvaW5BbGxJbnRlcm5hbHM8VCwgUj4oam9pbkZuOiAoc291cmNlczogT2JzZXJ2YWJsZUlucHV0PFQ+W10pID0+IE9ic2VydmFibGU8VD4sIHByb2plY3Q/OiAoLi4uYXJnczogYW55W10pID0+IFIpIHtcbiAgcmV0dXJuIHBpcGUoXG4gICAgLy8gQ29sbGVjdCBhbGwgaW5uZXIgc291cmNlcyBpbnRvIGFuIGFycmF5LCBhbmQgZW1pdCB0aGVtIHdoZW4gdGhlXG4gICAgLy8gc291cmNlIGNvbXBsZXRlcy5cbiAgICB0b0FycmF5KCkgYXMgT3BlcmF0b3JGdW5jdGlvbjxPYnNlcnZhYmxlSW5wdXQ8VD4sIE9ic2VydmFibGVJbnB1dDxUPltdPixcbiAgICAvLyBSdW4gdGhlIGpvaW4gZnVuY3Rpb24gb24gdGhlIGNvbGxlY3RlZCBhcnJheSBvZiBpbm5lciBzb3VyY2VzLlxuICAgIG1lcmdlTWFwKChzb3VyY2VzKSA9PiBqb2luRm4oc291cmNlcykpLFxuICAgIC8vIElmIGEgcHJvamVjdGlvbiBmdW5jdGlvbiB3YXMgc3VwcGxpZWQsIGFwcGx5IGl0IHRvIGVhY2ggcmVzdWx0LlxuICAgIHByb2plY3QgPyBtYXBPbmVPck1hbnlBcmdzKHByb2plY3QpIDogKGlkZW50aXR5IGFzIGFueSlcbiAgKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgVHJ1dGh5VHlwZXNPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCB7IHRha2VMYXN0IH0gZnJvbSAnLi90YWtlTGFzdCc7XG5pbXBvcnQgeyB0aHJvd0lmRW1wdHkgfSBmcm9tICcuL3Rocm93SWZFbXB0eSc7XG5pbXBvcnQgeyBkZWZhdWx0SWZFbXB0eSB9IGZyb20gJy4vZGVmYXVsdElmRW1wdHknO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3Q8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4+O1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3Q8VCwgRD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IsIGRlZmF1bHRWYWx1ZTogRCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPiB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3Q8VCwgRCA9IFQ+KHByZWRpY2F0ZT86IG51bGwsIGRlZmF1bHRWYWx1ZT86IEQpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQsIFMgZXh0ZW5kcyBUPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gdmFsdWUgaXMgUyxcbiAgZGVmYXVsdFZhbHVlPzogU1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQsIEQgPSBUPihcbiAgcHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbixcbiAgZGVmYXVsdFZhbHVlPzogRFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD47XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgb25seSB0aGUgbGFzdCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogSXQgb3B0aW9uYWxseSB0YWtlcyBhIHByZWRpY2F0ZSBmdW5jdGlvbiBhcyBhIHBhcmFtZXRlciwgaW4gd2hpY2ggY2FzZSwgcmF0aGVyIHRoYW4gZW1pdHRpbmdcbiAqIHRoZSBsYXN0IGl0ZW0gZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHRoZSByZXN1bHRpbmcgT2JzZXJ2YWJsZSB3aWxsIGVtaXQgdGhlIGxhc3QgaXRlbVxuICogZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgdGhhdCBzYXRpc2ZpZXMgdGhlIHByZWRpY2F0ZS5cbiAqXG4gKiAhW10obGFzdC5wbmcpXG4gKlxuICogSXQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc291cmNlIGNvbXBsZXRlcyB3aXRob3V0IG5vdGlmaWNhdGlvbiBvciBvbmUgdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuIEl0XG4gKiByZXR1cm5zIHRoZSBsYXN0IHZhbHVlIG9yIGlmIGEgcHJlZGljYXRlIGlzIHByb3ZpZGVkIGxhc3QgdmFsdWUgdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuIEl0IHJldHVybnMgdGhlXG4gKiBnaXZlbiBkZWZhdWx0IHZhbHVlIGlmIG5vIG5vdGlmaWNhdGlvbiBpcyBlbWl0dGVkIG9yIG1hdGNoZXMgdGhlIHByZWRpY2F0ZS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIExhc3QgYWxwaGFiZXQgZnJvbSB0aGUgc2VxdWVuY2VcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgbGFzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGZyb20oWyd4JywgJ3knLCAneiddKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKGxhc3QoKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyhgTGFzdCBhbHBoYWJldDogJHsgdmFsdWUgfWApKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyBMYXN0IGFscGhhYmV0OiB6XG4gKiBgYGBcbiAqXG4gKiBEZWZhdWx0IHZhbHVlIHdoZW4gdGhlIHZhbHVlIGluIHRoZSBwcmVkaWNhdGUgaXMgbm90IG1hdGNoZWRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgbGFzdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGZyb20oWyd4JywgJ3knLCAneiddKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKGxhc3QoY2hhciA9PiBjaGFyID09PSAnYScsICdub3QgZm91bmQnKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyhgJ2EnIGlzICR7IHZhbHVlIH0uYCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vICdhJyBpcyBub3QgZm91bmQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBza2lwfVxuICogQHNlZSB7QGxpbmsgc2tpcFVudGlsfVxuICogQHNlZSB7QGxpbmsgc2tpcExhc3R9XG4gKiBAc2VlIHtAbGluayBza2lwV2hpbGV9XG4gKlxuICogQHRocm93cyB7RW1wdHlFcnJvcn0gRGVsaXZlcnMgYW4gRW1wdHlFcnJvciB0byB0aGUgT2JzZXJ2ZXIncyBgZXJyb3JgXG4gKiBjYWxsYmFjayBpZiB0aGUgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgYmVmb3JlIGFueSBgbmV4dGAgbm90aWZpY2F0aW9uIHdhcyBzZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW3ByZWRpY2F0ZV0gLSBUaGUgY29uZGl0aW9uIGFueSBzb3VyY2UgZW1pdHRlZCBpdGVtIGhhcyB0byBzYXRpc2Z5LlxuICogQHBhcmFtIHthbnl9IFtkZWZhdWx0VmFsdWVdIC0gQW4gb3B0aW9uYWwgZGVmYXVsdCB2YWx1ZSB0byBwcm92aWRlIGlmIGxhc3RcbiAqIHByZWRpY2F0ZSBpc24ndCBtZXQgb3Igbm8gdmFsdWVzIHdlcmUgZW1pdHRlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG9ubHkgdGhlIGxhc3QgaXRlbVxuICogc2F0aXNmeWluZyB0aGUgZ2l2ZW4gY29uZGl0aW9uIGZyb20gdGhlIHNvdXJjZSwgb3IgYSBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uXG4gKiBpZiBubyBzdWNoIGl0ZW1zIGFyZSBlbWl0dGVkLlxuICogQHRocm93cyAtIFRocm93cyBpZiBubyBpdGVtcyB0aGF0IG1hdGNoIHRoZSBwcmVkaWNhdGUgYXJlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdDxULCBEPihcbiAgcHJlZGljYXRlPzogKCh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuKSB8IG51bGwsXG4gIGRlZmF1bHRWYWx1ZT86IERcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+IHtcbiAgY29uc3QgaGFzRGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cbiAgICBzb3VyY2UucGlwZShcbiAgICAgIHByZWRpY2F0ZSA/IGZpbHRlcigodiwgaSkgPT4gcHJlZGljYXRlKHYsIGksIHNvdXJjZSkpIDogaWRlbnRpdHksXG4gICAgICB0YWtlTGFzdCgxKSxcbiAgICAgIGhhc0RlZmF1bHRWYWx1ZSA/IGRlZmF1bHRJZkVtcHR5KGRlZmF1bHRWYWx1ZSEpIDogdGhyb3dJZkVtcHR5KCgpID0+IG5ldyBFbXB0eUVycm9yKCkpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxULCBSPihwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxULCBSLCBBPihwcm9qZWN0OiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIsIHRoaXNBcmc6IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuXG4vKipcbiAqIEFwcGxpZXMgYSBnaXZlbiBgcHJvamVjdGAgZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUsIGFuZCBlbWl0cyB0aGUgcmVzdWx0aW5nIHZhbHVlcyBhcyBhbiBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5MaWtlIFtBcnJheS5wcm90b3R5cGUubWFwKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L21hcCksXG4gKiBpdCBwYXNzZXMgZWFjaCBzb3VyY2UgdmFsdWUgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uIHRvIGdldFxuICogY29ycmVzcG9uZGluZyBvdXRwdXQgdmFsdWVzLjwvc3Bhbj5cbiAqXG4gKiAhW10obWFwLnBuZylcbiAqXG4gKiBTaW1pbGFyIHRvIHRoZSB3ZWxsIGtub3duIGBBcnJheS5wcm90b3R5cGUubWFwYCBmdW5jdGlvbiwgdGhpcyBvcGVyYXRvclxuICogYXBwbGllcyBhIHByb2plY3Rpb24gdG8gZWFjaCB2YWx1ZSBhbmQgZW1pdHMgdGhhdCBwcm9qZWN0aW9uIGluIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIE1hcCBldmVyeSBjbGljayB0byB0aGUgYGNsaWVudFhgIHBvc2l0aW9uIG9mIHRoYXQgY2xpY2tcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQ8UG9pbnRlckV2ZW50Pihkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBwb3NpdGlvbnMgPSBjbGlja3MucGlwZShtYXAoZXYgPT4gZXYuY2xpZW50WCkpO1xuICpcbiAqIHBvc2l0aW9ucy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXBUb31cbiAqIEBzZWUge0BsaW5rIHBsdWNrfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIpOiBSfSBwcm9qZWN0IFRoZSBmdW5jdGlvbiB0byBhcHBseVxuICogdG8gZWFjaCBgdmFsdWVgIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBUaGUgYGluZGV4YCBwYXJhbWV0ZXIgaXNcbiAqIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBlbWlzc2lvbiB0aGF0IGhhcyBoYXBwZW5lZCBzaW5jZSB0aGVcbiAqIHN1YnNjcmlwdGlvbiwgc3RhcnRpbmcgZnJvbSB0aGUgbnVtYmVyIGAwYC5cbiAqIEBwYXJhbSB7YW55fSBbdGhpc0FyZ10gQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGVmaW5lIHdoYXQgYHRoaXNgIGlzIGluIHRoZVxuICogYHByb2plY3RgIGZ1bmN0aW9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgdHJhbnNmb3JtZWQgYnkgdGhlIGdpdmVuIGBwcm9qZWN0YCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxULCBSPihwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIsIHRoaXNBcmc/OiBhbnkpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgdmFsdWUgZnJvbSB0aGUgc291cmNlLiBVc2VkIHdpdGggcHJvamVjdGlvbi5cbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlLCBhbGwgZXJyb3JzIGFuZCBjb21wbGV0aW9ucyBhcmUgc2VudCBhbG9uZ1xuICAgIC8vIHRvIHRoZSBjb25zdW1lci5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAvLyBDYWxsIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIHdpdGggdGhlIGFwcHJvcHJpYXRlIHRoaXMgY29udGV4dCxcbiAgICAgICAgLy8gYW5kIHNlbmQgdGhlIHJlc3VsdGluZyB2YWx1ZSB0byB0aGUgY29uc3VtZXIuXG4gICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0LmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuXG4vKiogQGRlcHJlY2F0ZWQgVG8gYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBtYXB9IGluc3RlYWQ6IGBtYXAoKCkgPT4gdmFsdWUpYC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBUbzxSPih2YWx1ZTogUik6IE9wZXJhdG9yRnVuY3Rpb248dW5rbm93biwgUj47XG4vKipcbiAqIEBkZXByZWNhdGVkIERvIG5vdCBzcGVjaWZ5IGV4cGxpY2l0IHR5cGUgcGFyYW1ldGVycy4gU2lnbmF0dXJlcyB3aXRoIHR5cGUgcGFyYW1ldGVyc1xuICogdGhhdCBjYW5ub3QgYmUgaW5mZXJyZWQgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBgbWFwVG9gIGl0c2VsZiB3aWxsIGJlIHJlbW92ZWQgaW4gdjksXG4gKiB1c2Uge0BsaW5rIG1hcH0gaW5zdGVhZDogYG1hcCgoKSA9PiB2YWx1ZSlgLlxuICogKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBUbzxULCBSPih2YWx1ZTogUik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG5cbi8qKlxuICogRW1pdHMgdGhlIGdpdmVuIGNvbnN0YW50IHZhbHVlIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBldmVyeSB0aW1lIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TGlrZSB7QGxpbmsgbWFwfSwgYnV0IGl0IG1hcHMgZXZlcnkgc291cmNlIHZhbHVlIHRvXG4gKiB0aGUgc2FtZSBvdXRwdXQgdmFsdWUgZXZlcnkgdGltZS48L3NwYW4+XG4gKlxuICogIVtdKG1hcFRvLnBuZylcbiAqXG4gKiBUYWtlcyBhIGNvbnN0YW50IGB2YWx1ZWAgYXMgYXJndW1lbnQsIGFuZCBlbWl0cyB0aGF0IHdoZW5ldmVyIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS4gSW4gb3RoZXIgd29yZHMsIGlnbm9yZXMgdGhlIGFjdHVhbCBzb3VyY2UgdmFsdWUsXG4gKiBhbmQgc2ltcGx5IHVzZXMgdGhlIGVtaXNzaW9uIG1vbWVudCB0byBrbm93IHdoZW4gdG8gZW1pdCB0aGUgZ2l2ZW4gYHZhbHVlYC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogTWFwIGV2ZXJ5IGNsaWNrIHRvIHRoZSBzdHJpbmcgYCdIaSdgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwVG8gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgZ3JlZXRpbmdzID0gY2xpY2tzLnBpcGUobWFwVG8oJ0hpJykpO1xuICpcbiAqIGdyZWV0aW5ncy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXB9XG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBtYXAgZWFjaCBzb3VyY2UgdmFsdWUgdG8uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgZ2l2ZW4gYHZhbHVlYFxuICogZXZlcnkgdGltZSB0aGUgc291cmNlIE9ic2VydmFibGUgZW1pdHMuXG4gKiBAZGVwcmVjYXRlZCBUbyBiZSByZW1vdmVkIGluIHY5LiBVc2Uge0BsaW5rIG1hcH0gaW5zdGVhZDogYG1hcCgoKSA9PiB2YWx1ZSlgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwVG88Uj4odmFsdWU6IFIpOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIFI+IHtcbiAgcmV0dXJuIG1hcCgoKSA9PiB2YWx1ZSk7XG59XG4iLCJpbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYWxsIG9mIHRoZSBub3RpZmljYXRpb25zIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFzIGBuZXh0YFxuICogZW1pc3Npb25zIG1hcmtlZCB3aXRoIHRoZWlyIG9yaWdpbmFsIHR5cGVzIHdpdGhpbiB7QGxpbmsgTm90aWZpY2F0aW9ufVxuICogb2JqZWN0cy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+V3JhcHMgYG5leHRgLCBgZXJyb3JgIGFuZCBgY29tcGxldGVgIGVtaXNzaW9ucyBpblxuICoge0BsaW5rIE5vdGlmaWNhdGlvbn0gb2JqZWN0cywgZW1pdHRlZCBhcyBgbmV4dGAgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICogPC9zcGFuPlxuICpcbiAqICFbXShtYXRlcmlhbGl6ZS5wbmcpXG4gKlxuICogYG1hdGVyaWFsaXplYCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhIGBuZXh0YCBub3RpZmljYXRpb24gZm9yIGVhY2hcbiAqIGBuZXh0YCwgYGVycm9yYCwgb3IgYGNvbXBsZXRlYCBlbWlzc2lvbiBvZiB0aGUgc291cmNlIE9ic2VydmFibGUuIFdoZW4gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBgY29tcGxldGVgLCB0aGUgb3V0cHV0IE9ic2VydmFibGUgd2lsbCBlbWl0IGBuZXh0YCBhc1xuICogYSBOb3RpZmljYXRpb24gb2YgdHlwZSBcImNvbXBsZXRlXCIsIGFuZCB0aGVuIGl0IHdpbGwgZW1pdCBgY29tcGxldGVgIGFzIHdlbGwuXG4gKiBXaGVuIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBgZXJyb3JgLCB0aGUgb3V0cHV0IHdpbGwgZW1pdCBgbmV4dGAgYXMgYVxuICogTm90aWZpY2F0aW9uIG9mIHR5cGUgXCJlcnJvclwiLCBhbmQgdGhlbiBgY29tcGxldGVgLlxuICpcbiAqIFRoaXMgb3BlcmF0b3IgaXMgdXNlZnVsIGZvciBwcm9kdWNpbmcgbWV0YWRhdGEgb2YgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB0b1xuICogYmUgY29uc3VtZWQgYXMgYG5leHRgIGVtaXNzaW9ucy4gVXNlIGl0IGluIGNvbmp1bmN0aW9uIHdpdGhcbiAqIHtAbGluayBkZW1hdGVyaWFsaXplfS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogQ29udmVydCBhIGZhdWx0eSBPYnNlcnZhYmxlIHRvIGFuIE9ic2VydmFibGUgb2YgTm90aWZpY2F0aW9uc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWF0ZXJpYWxpemUsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGxldHRlcnMgPSBvZignYScsICdiJywgMTMsICdkJyk7XG4gKiBjb25zdCB1cHBlckNhc2UgPSBsZXR0ZXJzLnBpcGUobWFwKCh4OiBhbnkpID0+IHgudG9VcHBlckNhc2UoKSkpO1xuICogY29uc3QgbWF0ZXJpYWxpemVkID0gdXBwZXJDYXNlLnBpcGUobWF0ZXJpYWxpemUoKSk7XG4gKlxuICogbWF0ZXJpYWxpemVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAtIE5vdGlmaWNhdGlvbiB7IGtpbmQ6ICdOJywgdmFsdWU6ICdBJywgZXJyb3I6IHVuZGVmaW5lZCwgaGFzVmFsdWU6IHRydWUgfVxuICogLy8gLSBOb3RpZmljYXRpb24geyBraW5kOiAnTicsIHZhbHVlOiAnQicsIGVycm9yOiB1bmRlZmluZWQsIGhhc1ZhbHVlOiB0cnVlIH1cbiAqIC8vIC0gTm90aWZpY2F0aW9uIHsga2luZDogJ0UnLCB2YWx1ZTogdW5kZWZpbmVkLCBlcnJvcjogVHlwZUVycm9yIHsgbWVzc2FnZTogeC50b1VwcGVyQ2FzZSBpcyBub3QgYSBmdW5jdGlvbiB9LCBoYXNWYWx1ZTogZmFsc2UgfVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgTm90aWZpY2F0aW9ufVxuICogQHNlZSB7QGxpbmsgZGVtYXRlcmlhbGl6ZX1cbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0c1xuICoge0BsaW5rIE5vdGlmaWNhdGlvbn0gb2JqZWN0cyB0aGF0IHdyYXAgdGhlIG9yaWdpbmFsIGVtaXNzaW9ucyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgd2l0aCBtZXRhZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGVyaWFsaXplPFQ+KCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgTm90aWZpY2F0aW9uPFQ+ICYgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbjxUPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IoZXJyKSk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyByZWR1Y2UgfSBmcm9tICcuL3JlZHVjZSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyoqXG4gKiBUaGUgTWF4IG9wZXJhdG9yIG9wZXJhdGVzIG9uIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBudW1iZXJzIChvciBpdGVtcyB0aGF0IGNhbiBiZSBjb21wYXJlZCB3aXRoIGEgcHJvdmlkZWQgZnVuY3Rpb24pLFxuICogYW5kIHdoZW4gc291cmNlIE9ic2VydmFibGUgY29tcGxldGVzIGl0IGVtaXRzIGEgc2luZ2xlIGl0ZW06IHRoZSBpdGVtIHdpdGggdGhlIGxhcmdlc3QgdmFsdWUuXG4gKlxuICogIVtdKG1heC5wbmcpXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBHZXQgdGhlIG1heGltYWwgdmFsdWUgb2YgYSBzZXJpZXMgb2YgbnVtYmVyc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWF4IH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoNSwgNCwgNywgMiwgOClcbiAqICAgLnBpcGUobWF4KCkpXG4gKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gOFxuICogYGBgXG4gKlxuICogVXNlIGEgY29tcGFyZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBtYXhpbWFsIGl0ZW1cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG1heCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKFxuICogICB7IGFnZTogNywgbmFtZTogJ0ZvbycgfSxcbiAqICAgeyBhZ2U6IDUsIG5hbWU6ICdCYXInIH0sXG4gKiAgIHsgYWdlOiA5LCBuYW1lOiAnQmVlcicgfVxuICogKS5waXBlKFxuICogICBtYXgoKGEsIGIpID0+IGEuYWdlIDwgYi5hZ2UgPyAtMSA6IDEpXG4gKiApXG4gKiAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeC5uYW1lKSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gJ0JlZXInXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtaW59XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmVyXSAtIE9wdGlvbmFsIGNvbXBhcmVyIGZ1bmN0aW9uIHRoYXQgaXQgd2lsbCB1c2UgaW5zdGVhZCBvZiBpdHMgZGVmYXVsdCB0byBjb21wYXJlIHRoZVxuICogdmFsdWUgb2YgdHdvIGl0ZW1zLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbSB3aXRoIHRoZVxuICogbGFyZ2VzdCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heDxUPihjb21wYXJlcj86ICh4OiBULCB5OiBUKSA9PiBudW1iZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gcmVkdWNlKGlzRnVuY3Rpb24oY29tcGFyZXIpID8gKHgsIHkpID0+IChjb21wYXJlcih4LCB5KSA+IDAgPyB4IDogeSkgOiAoeCwgeSkgPT4gKHggPiB5ID8geCA6IHkpKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGFyZ3NPckFyZ0FycmF5IH0gZnJvbSAnLi4vdXRpbC9hcmdzT3JBcmdBcnJheSc7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4vbWVyZ2VBbGwnO1xuaW1wb3J0IHsgcG9wTnVtYmVyLCBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5cbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBtZXJnZVdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4uc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEFbbnVtYmVyXT47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgbWVyZ2VXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5zb3VyY2VzQW5kQ29uY3VycmVuY3k6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgbnVtYmVyXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBtZXJnZVdpdGh9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2U8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXNBbmRTY2hlZHVsZXI6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgU2NoZWR1bGVyTGlrZV1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEFbbnVtYmVyXT47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgbWVyZ2VXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5zb3VyY2VzQW5kQ29uY3VycmVuY3lBbmRTY2hlZHVsZXI6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPiwgbnVtYmVyLCBTY2hlZHVsZXJMaWtlXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlPFQ+KC4uLmFyZ3M6IHVua25vd25bXSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgdW5rbm93bj4ge1xuICBjb25zdCBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIoYXJncyk7XG4gIGNvbnN0IGNvbmN1cnJlbnQgPSBwb3BOdW1iZXIoYXJncywgSW5maW5pdHkpO1xuICBhcmdzID0gYXJnc09yQXJnQXJyYXkoYXJncyk7XG5cbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIG1lcmdlQWxsKGNvbmN1cnJlbnQpKGZyb20oW3NvdXJjZSwgLi4uKGFyZ3MgYXMgT2JzZXJ2YWJsZUlucHV0PFQ+W10pXSwgc2NoZWR1bGVyKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQ29udmVydHMgYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZSBpbnRvIGEgZmlyc3Qtb3JkZXIgT2JzZXJ2YWJsZSB3aGljaFxuICogY29uY3VycmVudGx5IGRlbGl2ZXJzIGFsbCB2YWx1ZXMgdGhhdCBhcmUgZW1pdHRlZCBvbiB0aGUgaW5uZXIgT2JzZXJ2YWJsZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIGFuIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMuPC9zcGFuPlxuICpcbiAqICFbXShtZXJnZUFsbC5wbmcpXG4gKlxuICogYG1lcmdlQWxsYCBzdWJzY3JpYmVzIHRvIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBPYnNlcnZhYmxlcywgYWxzbyBrbm93biBhc1xuICogYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZS4gRWFjaCB0aW1lIGl0IG9ic2VydmVzIG9uZSBvZiB0aGVzZSBlbWl0dGVkIGlubmVyXG4gKiBPYnNlcnZhYmxlcywgaXQgc3Vic2NyaWJlcyB0byB0aGF0IGFuZCBkZWxpdmVycyBhbGwgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICogaW5uZXIgT2JzZXJ2YWJsZSBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5XG4gKiBjb21wbGV0ZXMgb25jZSBhbGwgaW5uZXIgT2JzZXJ2YWJsZXMgaGF2ZSBjb21wbGV0ZWQuIEFueSBlcnJvciBkZWxpdmVyZWQgYnlcbiAqIGEgaW5uZXIgT2JzZXJ2YWJsZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGVtaXR0ZWQgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogU3Bhd24gYSBuZXcgaW50ZXJ2YWwgT2JzZXJ2YWJsZSBmb3IgZWFjaCBjbGljayBldmVudCwgYW5kIGJsZW5kIHRoZWlyIG91dHB1dHMgYXMgb25lIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGludGVydmFsLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBoaWdoZXJPcmRlciA9IGNsaWNrcy5waXBlKG1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSkpO1xuICogY29uc3QgZmlyc3RPcmRlciA9IGhpZ2hlck9yZGVyLnBpcGUobWVyZ2VBbGwoKSk7XG4gKlxuICogZmlyc3RPcmRlci5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBDb3VudCBmcm9tIDAgdG8gOSBldmVyeSBzZWNvbmQgZm9yIGVhY2ggY2xpY2ssIGJ1dCBvbmx5IGFsbG93IDIgY29uY3VycmVudCB0aW1lcnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGludGVydmFsLCB0YWtlLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBoaWdoZXJPcmRlciA9IGNsaWNrcy5waXBlKFxuICogICBtYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDEwKSkpXG4gKiApO1xuICogY29uc3QgZmlyc3RPcmRlciA9IGhpZ2hlck9yZGVyLnBpcGUobWVyZ2VBbGwoMikpO1xuICpcbiAqIGZpcnN0T3JkZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdEFsbH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZX1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXBUb31cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaEFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqIEBzZWUge0BsaW5rIHppcEFsbH1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9SW5maW5pdHldIE1heGltdW0gbnVtYmVyIG9mIGlubmVyXG4gKiBPYnNlcnZhYmxlcyBiZWluZyBzdWJzY3JpYmVkIHRvIGNvbmN1cnJlbnRseS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBjb21pbmcgZnJvbVxuICogYWxsIHRoZSBpbm5lciBPYnNlcnZhYmxlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oY29uY3VycmVudDogbnVtYmVyID0gSW5maW5pdHkpOiBPcGVyYXRvckZ1bmN0aW9uPE8sIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEEgcHJvY2VzcyBlbWJvZHlpbmcgdGhlIGdlbmVyYWwgXCJtZXJnZVwiIHN0cmF0ZWd5LiBUaGlzIGlzIHVzZWQgaW5cbiAqIGBtZXJnZU1hcGAgYW5kIGBtZXJnZVNjYW5gIGJlY2F1c2UgdGhlIGxvZ2ljIGlzIG90aGVyd2lzZSBuZWFybHkgaWRlbnRpY2FsLlxuICogQHBhcmFtIHNvdXJjZSBUaGUgb3JpZ2luYWwgc291cmNlIG9ic2VydmFibGVcbiAqIEBwYXJhbSBzdWJzY3JpYmVyIFRoZSBjb25zdW1lciBzdWJzY3JpYmVyXG4gKiBAcGFyYW0gcHJvamVjdCBUaGUgcHJvamVjdGlvbiBmdW5jdGlvbiB0byBnZXQgb3VyIGlubmVyIHNvdXJjZXNcbiAqIEBwYXJhbSBjb25jdXJyZW50IFRoZSBudW1iZXIgb2YgY29uY3VycmVudCBpbm5lciBzdWJzY3JpcHRpb25zXG4gKiBAcGFyYW0gb25CZWZvcmVOZXh0IEFkZGl0aW9uYWwgbG9naWMgdG8gYXBwbHkgYmVmb3JlIG5leHRpbmcgdG8gb3VyIGNvbnN1bWVyXG4gKiBAcGFyYW0gZXhwYW5kIElmIGB0cnVlYCB0aGlzIHdpbGwgcGVyZm9ybSBhbiBcImV4cGFuZFwiIHN0cmF0ZWd5LCB3aGljaCBkaWZmZXJzIG9ubHlcbiAqIGluIHRoYXQgaXQgcmVjdXJzZXMsIGFuZCB0aGUgaW5uZXIgc3Vic2NyaXB0aW9uIG11c3QgYmUgc2NoZWR1bGUtYWJsZS5cbiAqIEBwYXJhbSBpbm5lclN1YlNjaGVkdWxlciBBIHNjaGVkdWxlciB0byB1c2UgdG8gc2NoZWR1bGUgaW5uZXIgc3Vic2NyaXB0aW9ucyxcbiAqIHRoaXMgaXMgdG8gc3VwcG9ydCB0aGUgZXhwYW5kIHN0cmF0ZWd5LCBtb3N0bHksIGFuZCBzaG91bGQgYmUgZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHM8VCwgUj4oXG4gIHNvdXJjZTogT2JzZXJ2YWJsZTxUPixcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxSPixcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8Uj4sXG4gIGNvbmN1cnJlbnQ6IG51bWJlcixcbiAgb25CZWZvcmVOZXh0PzogKGlubmVyVmFsdWU6IFIpID0+IHZvaWQsXG4gIGV4cGFuZD86IGJvb2xlYW4sXG4gIGlubmVyU3ViU2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSxcbiAgYWRkaXRpb25hbEZpbmFsaXplcj86ICgpID0+IHZvaWRcbikge1xuICAvLyBCdWZmZXJlZCB2YWx1ZXMsIGluIHRoZSBldmVudCBvZiBnb2luZyBvdmVyIG91ciBjb25jdXJyZW5jeSBsaW1pdFxuICBjb25zdCBidWZmZXI6IFRbXSA9IFtdO1xuICAvLyBUaGUgbnVtYmVyIG9mIGFjdGl2ZSBpbm5lciBzdWJzY3JpcHRpb25zLlxuICBsZXQgYWN0aXZlID0gMDtcbiAgLy8gQW4gaW5kZXggdG8gcGFzcyB0byBvdXIgYWNjdW11bGF0b3IgZnVuY3Rpb25cbiAgbGV0IGluZGV4ID0gMDtcbiAgLy8gV2hldGhlciBvciBub3QgdGhlIG91dGVyIHNvdXJjZSBoYXMgY29tcGxldGVkLlxuICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSBvdXIgcmVzdWx0IG9yIG5vdC5cbiAgICovXG4gIGNvbnN0IGNoZWNrQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgLy8gSWYgdGhlIG91dGVyIGhhcyBjb21wbGV0ZWQsIGFuZCBub3RoaW5nIGlzIGxlZnQgaW4gdGhlIGJ1ZmZlcixcbiAgICAvLyBhbmQgd2UgZG9uJ3QgaGF2ZSBhbnkgYWN0aXZlIGlubmVyIHN1YnNjcmlwdGlvbnMsIHRoZW4gd2UgY2FuXG4gICAgLy8gRW1pdCB0aGUgc3RhdGUgYW5kIGNvbXBsZXRlLlxuICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSWYgd2UncmUgdW5kZXIgb3VyIGNvbmN1cnJlbmN5IGxpbWl0LCBqdXN0IHN0YXJ0IHRoZSBpbm5lciBzdWJzY3JpcHRpb24sIG90aGVyd2lzZSBidWZmZXIgYW5kIHdhaXQuXG4gIGNvbnN0IG91dGVyTmV4dCA9ICh2YWx1ZTogVCkgPT4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7XG5cbiAgY29uc3QgZG9Jbm5lclN1YiA9ICh2YWx1ZTogVCkgPT4ge1xuICAgIC8vIElmIHdlJ3JlIGV4cGFuZGluZywgd2UgbmVlZCB0byBlbWl0IHRoZSBvdXRlciB2YWx1ZXMgYW5kIHRoZSBpbm5lciB2YWx1ZXNcbiAgICAvLyBhcyB0aGUgaW5uZXJzIHdpbGwgXCJiZWNvbWUgb3V0ZXJzXCIgaW4gYSB3YXkgYXMgdGhleSBhcmUgcmVjdXJzaXZlbHkgZmVkXG4gICAgLy8gYmFjayB0byB0aGUgcHJvamVjdGlvbiBtZWNoYW5pc20uXG4gICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSBhcyBhbnkpO1xuXG4gICAgLy8gSW5jcmVtZW50IHRoZSBudW1iZXIgb2YgYWN0aXZlIHN1YnNjcmlwdGlvbnMgc28gd2UgY2FuIHRyYWNrIGl0XG4gICAgLy8gYWdhaW5zdCBvdXIgY29uY3VycmVuY3kgbGltaXQgbGF0ZXIuXG4gICAgYWN0aXZlKys7XG5cbiAgICAvLyBBIGZsYWcgdXNlZCB0byBzaG93IHRoYXQgdGhlIGlubmVyIG9ic2VydmFibGUgY29tcGxldGVkLlxuICAgIC8vIFRoaXMgaXMgY2hlY2tlZCBkdXJpbmcgZmluYWxpemF0aW9uIHRvIHNlZSBpZiB3ZSBzaG91bGRcbiAgICAvLyBtb3ZlIHRvIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIGJ1ZmZlciwgaWYgdGhlcmUgaXMgb24uXG4gICAgbGV0IGlubmVyQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8vIFN0YXJ0IG91ciBpbm5lciBzdWJzY3JpcHRpb24uXG4gICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIChpbm5lclZhbHVlKSA9PiB7XG4gICAgICAgICAgLy8gYG1lcmdlU2NhbmAgaGFzIGFkZGl0aW9uYWwgaGFuZGxpbmcgaGVyZS4gRm9yIGV4YW1wbGVcbiAgICAgICAgICAvLyB0YWtpbmcgdGhlIGlubmVyIHZhbHVlIGFuZCB1cGRhdGluZyBzdGF0ZS5cbiAgICAgICAgICBvbkJlZm9yZU5leHQ/Lihpbm5lclZhbHVlKTtcblxuICAgICAgICAgIGlmIChleHBhbmQpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGV4cGFuZGluZywgdGhlbiBqdXN0IHJlY3Vyc2UgYmFjayB0byBvdXIgb3V0ZXJcbiAgICAgICAgICAgIC8vIGhhbmRsZXIuIEl0IHdpbGwgZW1pdCB0aGUgdmFsdWUgZmlyc3QgdGhpbmcuXG4gICAgICAgICAgICBvdXRlck5leHQoaW5uZXJWYWx1ZSBhcyBhbnkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGVtaXQgdGhlIGlubmVyIHZhbHVlLlxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIEZsYWcgdGhhdCB3ZSBoYXZlIGNvbXBsZXRlZCwgc28gd2Uga25vdyB0byBjaGVjayB0aGUgYnVmZmVyXG4gICAgICAgICAgLy8gZHVyaW5nIGZpbmFsaXphdGlvbi5cbiAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gRXJyb3JzIGFyZSBwYXNzZWQgdG8gdGhlIGRlc3RpbmF0aW9uLlxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBEdXJpbmcgZmluYWxpemF0aW9uLCBpZiB0aGUgaW5uZXIgY29tcGxldGVkIChpdCB3YXNuJ3QgZXJyb3JlZCBvclxuICAgICAgICAgIC8vIGNhbmNlbGxlZCksIHRoZW4gd2Ugd2FudCB0byB0cnkgdGhlIG5leHQgaXRlbSBpbiB0aGUgYnVmZmVyIGlmXG4gICAgICAgICAgLy8gdGhlcmUgaXMgb25lLlxuICAgICAgICAgIGlmIChpbm5lckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHdyYXAgdGhpcyBpbiBhIHRyeS9jYXRjaCBiZWNhdXNlIGl0IGhhcHBlbnMgZHVyaW5nXG4gICAgICAgICAgICAvLyBmaW5hbGl6YXRpb24sIHBvc3NpYmx5IGFzeW5jaHJvbm91c2x5LCBhbmQgd2Ugd2FudCB0byBwYXNzXG4gICAgICAgICAgICAvLyBhbnkgZXJyb3JzIHRoYXQgaGFwcGVuIChsaWtlIGluIGEgcHJvamVjdGlvbiBmdW5jdGlvbikgdG9cbiAgICAgICAgICAgIC8vIHRoZSBvdXRlciBTdWJzY3JpYmVyLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gSU5ORVIgU09VUkNFIENPTVBMRVRFXG4gICAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgYWN0aXZlIGNvdW50IHRvIGVuc3VyZSB0aGF0IHRoZSBuZXh0IHRpbWVcbiAgICAgICAgICAgICAgLy8gd2UgdHJ5IHRvIGNhbGwgYGRvSW5uZXJTdWJgLCB0aGUgbnVtYmVyIGlzIGFjY3VyYXRlLlxuICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBtb3JlIHZhbHVlcyBpbiB0aGUgYnVmZmVyLCB0cnkgdG8gcHJvY2VzcyB0aG9zZVxuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBjYWxsIHdpbGwgaW5jcmVtZW50IGBhY3RpdmVgIGFoZWFkIG9mIHRoZVxuICAgICAgICAgICAgICAvLyBuZXh0IGNvbmRpdGlvbmFsLCBpZiB0aGVyZSB3ZXJlIGFueSBtb3JlIGlubmVyIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgICAgICAgLy8gdG8gc3RhcnQuXG4gICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCkhO1xuICAgICAgICAgICAgICAgIC8vIFBhcnRpY3VsYXJseSBmb3IgYGV4cGFuZGAsIHdlIG5lZWQgdG8gY2hlY2sgdG8gc2VlIGlmIGEgc2NoZWR1bGVyIHdhcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIC8vIGZvciB3aGVuIHdlIHdhbnQgdG8gc3RhcnQgb3VyIGlubmVyIHN1YnNjcmlwdGlvbi4gT3RoZXJ3aXNlLCB3ZSBqdXN0IHN0YXJ0XG4gICAgICAgICAgICAgICAgLy8gYXJlIG5leHQgaW5uZXIgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIGlubmVyU3ViU2NoZWR1bGVyLCAoKSA9PiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSwgYW5kIGNvbXBsZXRlIGlmIHNvLlxuICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8gU3Vic2NyaWJlIHRvIG91ciBzb3VyY2Ugb2JzZXJ2YWJsZS5cbiAgc291cmNlLnN1YnNjcmliZShcbiAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3V0ZXJOZXh0LCAoKSA9PiB7XG4gICAgICAvLyBPdXRlciBjb21wbGV0ZWQsIG1ha2UgYSBub3RlIG9mIGl0LCBhbmQgY2hlY2sgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSBldmVyeXRoaW5nLlxuICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfSlcbiAgKTtcblxuICAvLyBBZGRpdGlvbmFsIGZpbmFsaXphdGlvbiAoZm9yIHdoZW4gdGhlIGRlc3RpbmF0aW9uIGlzIHRvcm4gZG93bikuXG4gIC8vIE90aGVyIGZpbmFsaXphdGlvbiBpcyBhZGRlZCBpbXBsaWNpdGx5IHZpYSBzdWJzY3JpcHRpb24gYWJvdmUuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgYWRkaXRpb25hbEZpbmFsaXplcj8uKCk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIGNvbmN1cnJlbnQ/OiBudW1iZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiB1bmRlZmluZWQsXG4gIGNvbmN1cnJlbnQ/OiBudW1iZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+Pjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHJlc3VsdFNlbGVjdG9yYCBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgYW4gaW5uZXIgYG1hcGAgaW5zdGVhZC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUixcbiAgY29uY3VycmVudD86IG51bWJlclxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUHJvamVjdHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSB3aGljaCBpcyBtZXJnZWQgaW4gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TWFwcyBlYWNoIHZhbHVlIHRvIGFuIE9ic2VydmFibGUsIHRoZW4gZmxhdHRlbnMgYWxsIG9mXG4gKiB0aGVzZSBpbm5lciBPYnNlcnZhYmxlcyB1c2luZyB7QGxpbmsgbWVyZ2VBbGx9Ljwvc3Bhbj5cbiAqXG4gKiAhW10obWVyZ2VNYXAucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGJhc2VkIG9uIGFwcGx5aW5nIGEgZnVuY3Rpb24gdGhhdCB5b3VcbiAqIHN1cHBseSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHdoZXJlIHRoYXQgZnVuY3Rpb25cbiAqIHJldHVybnMgYW4gT2JzZXJ2YWJsZSwgYW5kIHRoZW4gbWVyZ2luZyB0aG9zZSByZXN1bHRpbmcgT2JzZXJ2YWJsZXMgYW5kXG4gKiBlbWl0dGluZyB0aGUgcmVzdWx0cyBvZiB0aGlzIG1lcmdlci5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogTWFwIGFuZCBmbGF0dGVuIGVhY2ggbGV0dGVyIHRvIGFuIE9ic2VydmFibGUgdGlja2luZyBldmVyeSAxIHNlY29uZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWVyZ2VNYXAsIGludGVydmFsLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBsZXR0ZXJzID0gb2YoJ2EnLCAnYicsICdjJyk7XG4gKiBjb25zdCByZXN1bHQgPSBsZXR0ZXJzLnBpcGUoXG4gKiAgIG1lcmdlTWFwKHggPT4gaW50ZXJ2YWwoMTAwMCkucGlwZShtYXAoaSA9PiB4ICsgaSkpKVxuICogKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZzpcbiAqIC8vIGEwXG4gKiAvLyBiMFxuICogLy8gYzBcbiAqIC8vIGExXG4gKiAvLyBiMVxuICogLy8gYzFcbiAqIC8vIGNvbnRpbnVlcyB0byBsaXN0IGEsIGIsIGMgZXZlcnkgc2Vjb25kIHdpdGggcmVzcGVjdGl2ZSBhc2NlbmRpbmcgaW50ZWdlcnNcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZX1cbiAqIEBzZWUge0BsaW5rIG1lcmdlQWxsfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXBUb31cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCA/aW5kZXg6IG51bWJlcik6IE9ic2VydmFibGVJbnB1dH0gcHJvamVjdCBBIGZ1bmN0aW9uXG4gKiB0aGF0LCB3aGVuIGFwcGxpZWQgdG8gYW4gaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcmV0dXJucyBhblxuICogT2JzZXJ2YWJsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVudD1JbmZpbml0eV0gTWF4aW11bSBudW1iZXIgb2YgaW5wdXRcbiAqIE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG8gY29uY3VycmVudGx5LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHJlc3VsdCBvZlxuICogYXBwbHlpbmcgdGhlIHByb2plY3Rpb24gZnVuY3Rpb24gKGFuZCB0aGUgb3B0aW9uYWwgZGVwcmVjYXRlZFxuICogYHJlc3VsdFNlbGVjdG9yYCkgdG8gZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFuZCBtZXJnaW5nXG4gKiB0aGUgcmVzdWx0cyBvZiB0aGUgT2JzZXJ2YWJsZXMgb2J0YWluZWQgZnJvbSB0aGlzIHRyYW5zZm9ybWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXA8VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3Rvcj86ICgob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUikgfCBudW1iZXIsXG4gIGNvbmN1cnJlbnQ6IG51bWJlciA9IEluZmluaXR5XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPiB8IFI+IHtcbiAgaWYgKGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgLy8gREVQUkVDQVRFRCBQQVRIXG4gICAgcmV0dXJuIG1lcmdlTWFwKChhLCBpKSA9PiBtYXAoKGI6IGFueSwgaWk6IG51bWJlcikgPT4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpKShpbm5lckZyb20ocHJvamVjdChhLCBpKSkpLCBjb25jdXJyZW50KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICB9XG5cbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50KSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZlZFZhbHVlT2YsIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyoqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBtZXJnZU1hcH0gaW5zdGVhZDogYG1lcmdlTWFwKCgpID0+IHJlc3VsdClgICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXBUbzxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgaW5uZXJPYnNlcnZhYmxlOiBPLFxuICBjb25jdXJyZW50PzogbnVtYmVyXG4pOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvcmVzdWx0U2VsZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwVG88VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4oXG4gIGlubmVyT2JzZXJ2YWJsZTogTyxcbiAgcmVzdWx0U2VsZWN0b3I6IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSLFxuICBjb25jdXJyZW50PzogbnVtYmVyXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byB0aGUgc2FtZSBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBtdWx0aXBsZVxuICogdGltZXMgaW4gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIG1lcmdlTWFwfSwgYnV0IG1hcHMgZWFjaCB2YWx1ZSBhbHdheXNcbiAqIHRvIHRoZSBzYW1lIGlubmVyIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShtZXJnZU1hcFRvLnBuZylcbiAqXG4gKiBNYXBzIGVhY2ggc291cmNlIHZhbHVlIHRvIHRoZSBnaXZlbiBPYnNlcnZhYmxlIGBpbm5lck9ic2VydmFibGVgIHJlZ2FyZGxlc3NcbiAqIG9mIHRoZSBzb3VyY2UgdmFsdWUsIGFuZCB0aGVuIG1lcmdlcyB0aG9zZSByZXN1bHRpbmcgT2JzZXJ2YWJsZXMgaW50byBvbmVcbiAqIHNpbmdsZSBPYnNlcnZhYmxlLCB3aGljaCBpcyB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEZvciBlYWNoIGNsaWNrIGV2ZW50LCBzdGFydCBhbiBpbnRlcnZhbCBPYnNlcnZhYmxlIHRpY2tpbmcgZXZlcnkgMSBzZWNvbmRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtZXJnZU1hcFRvLCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShtZXJnZU1hcFRvKGludGVydmFsKDEwMDApKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcFRvfVxuICogQHNlZSB7QGxpbmsgbWVyZ2V9XG4gKiBAc2VlIHtAbGluayBtZXJnZUFsbH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwVG99XG4gKlxuICogQHBhcmFtIHtPYnNlcnZhYmxlSW5wdXR9IGlubmVyT2JzZXJ2YWJsZSBBbiBPYnNlcnZhYmxlIHRvIHJlcGxhY2UgZWFjaCB2YWx1ZSBmcm9tXG4gKiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9SW5maW5pdHldIE1heGltdW0gbnVtYmVyIG9mIGlucHV0XG4gKiBPYnNlcnZhYmxlcyBiZWluZyBzdWJzY3JpYmVkIHRvIGNvbmN1cnJlbnRseS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGZyb20gdGhlXG4gKiBnaXZlbiBgaW5uZXJPYnNlcnZhYmxlYC5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBtZXJnZU1hcH0gaW5zdGVhZDogYG1lcmdlTWFwKCgpID0+IHJlc3VsdClgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcFRvPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBpbm5lck9ic2VydmFibGU6IE8sXG4gIHJlc3VsdFNlbGVjdG9yPzogKChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSKSB8IG51bWJlcixcbiAgY29uY3VycmVudDogbnVtYmVyID0gSW5maW5pdHlcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+IHwgUj4ge1xuICBpZiAoaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICByZXR1cm4gbWVyZ2VNYXAoKCkgPT4gaW5uZXJPYnNlcnZhYmxlLCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCk7XG4gIH1cbiAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gIH1cbiAgcmV0dXJuIG1lcmdlTWFwKCgpID0+IGlubmVyT2JzZXJ2YWJsZSwgY29uY3VycmVudCk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG1lcmdlSW50ZXJuYWxzIH0gZnJvbSAnLi9tZXJnZUludGVybmFscyc7XG5cbi8qKlxuICogQXBwbGllcyBhbiBhY2N1bXVsYXRvciBmdW5jdGlvbiBvdmVyIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aGVyZSB0aGVcbiAqIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIGl0c2VsZiByZXR1cm5zIGFuIE9ic2VydmFibGUsIHRoZW4gZWFjaCBpbnRlcm1lZGlhdGVcbiAqIE9ic2VydmFibGUgcmV0dXJuZWQgaXMgbWVyZ2VkIGludG8gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIHNjYW59LCBidXQgdGhlIE9ic2VydmFibGVzIHJldHVybmVkXG4gKiBieSB0aGUgYWNjdW11bGF0b3IgYXJlIG1lcmdlZCBpbnRvIHRoZSBvdXRlciBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiBUaGUgZmlyc3QgcGFyYW1ldGVyIG9mIHRoZSBgbWVyZ2VTY2FuYCBpcyBhbiBgYWNjdW11bGF0b3JgIGZ1bmN0aW9uIHdoaWNoIGlzXG4gKiBiZWluZyBjYWxsZWQgZXZlcnkgdGltZSB0aGUgc291cmNlIE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS4gYG1lcmdlU2NhbmAgd2lsbFxuICogc3Vic2NyaWJlIHRvIHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgYGFjY3VtdWxhdG9yYCBmdW5jdGlvbiBhbmQgd2lsbCBlbWl0XG4gKiB2YWx1ZXMgdG8gdGhlIHN1YnNjcmliZXIgZW1pdHRlZCBieSBpbm5lciBPYnNlcnZhYmxlLlxuICpcbiAqIFRoZSBgYWNjdW11bGF0b3JgIGZ1bmN0aW9uIGlzIGJlaW5nIGNhbGxlZCB3aXRoIHRocmVlIHBhcmFtZXRlcnMgcGFzc2VkIHRvIGl0OlxuICogYGFjY2AsIGB2YWx1ZWAgYW5kIGBpbmRleGAuIFRoZSBgYWNjYCBwYXJhbWV0ZXIgaXMgdXNlZCBhcyB0aGUgc3RhdGUgcGFyYW1ldGVyXG4gKiB3aG9zZSB2YWx1ZSBpcyBpbml0aWFsbHkgc2V0IHRvIHRoZSBgc2VlZGAgcGFyYW1ldGVyICh0aGUgc2Vjb25kIHBhcmFtZXRlclxuICogcGFzc2VkIHRvIHRoZSBgbWVyZ2VTY2FuYCBvcGVyYXRvcikuXG4gKlxuICogYG1lcmdlU2NhbmAgaW50ZXJuYWxseSBrZWVwcyB0aGUgdmFsdWUgb2YgdGhlIGBhY2NgIHBhcmFtZXRlcjogYXMgbG9uZyBhcyB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIHdpdGhvdXQgaW5uZXIgT2JzZXJ2YWJsZSBlbWl0dGluZywgdGhlIGBhY2NgIHdpbGwgYmVcbiAqIHNldCB0byBgc2VlZGAuIFRoZSBuZXh0IHRpbWUgdGhlIGlubmVyIE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZSwgYG1lcmdlU2NhbmBcbiAqIHdpbGwgaW50ZXJuYWxseSByZW1lbWJlciBpdCBhbmQgaXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGBhY2N1bXVsYXRvcmBcbiAqIGZ1bmN0aW9uIGFzIGBhY2NgIHBhcmFtZXRlciB0aGUgbmV4dCB0aW1lIHNvdXJjZSBlbWl0cy5cbiAqXG4gKiBUaGUgYHZhbHVlYCBwYXJhbWV0ZXIgb2YgdGhlIGBhY2N1bXVsYXRvcmAgZnVuY3Rpb24gaXMgdGhlIHZhbHVlIGVtaXR0ZWQgYnkgdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hpbGUgdGhlIGBpbmRleGAgaXMgYSBudW1iZXIgd2hpY2ggcmVwcmVzZW50IHRoZSBvcmRlciBvZiB0aGVcbiAqIGN1cnJlbnQgZW1pc3Npb24gYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBJdCBzdGFydHMgd2l0aCAwLlxuICpcbiAqIFRoZSBsYXN0IHBhcmFtZXRlciB0byB0aGUgYG1lcmdlU2NhbmAgaXMgdGhlIGBjb25jdXJyZW50YCB2YWx1ZSB3aGljaCBkZWZhdWx0c1xuICogdG8gSW5maW5pdHkuIEl0IHJlcHJlc2VudHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlubmVyIE9ic2VydmFibGUgc3Vic2NyaXB0aW9uc1xuICogYXQgYSB0aW1lLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIGNsaWNrIGV2ZW50c1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIG1hcCwgbWVyZ2VTY2FuLCBvZiB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBvbmUkID0gY2xpY2skLnBpcGUobWFwKCgpID0+IDEpKTtcbiAqIGNvbnN0IHNlZWQgPSAwO1xuICogY29uc3QgY291bnQkID0gb25lJC5waXBlKFxuICogICBtZXJnZVNjYW4oKGFjYywgb25lKSA9PiBvZihhY2MgKyBvbmUpLCBzZWVkKVxuICogKTtcbiAqXG4gKiBjb3VudCQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHM6XG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA0XG4gKiAvLyAuLi5hbmQgc28gb24gZm9yIGVhY2ggY2xpY2tcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHNjYW59XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hTY2FufVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYWNjOiBSLCB2YWx1ZTogVCk6IE9ic2VydmFibGU8Uj59IGFjY3VtdWxhdG9yXG4gKiBUaGUgYWNjdW11bGF0b3IgZnVuY3Rpb24gY2FsbGVkIG9uIGVhY2ggc291cmNlIHZhbHVlLlxuICogQHBhcmFtIHNlZWQgVGhlIGluaXRpYWwgYWNjdW11bGF0aW9uIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PUluZmluaXR5XSBNYXhpbXVtIG51bWJlciBvZlxuICogaW5wdXQgT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgdGhlIGFjY3VtdWxhdGVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU2NhbjxULCBSPihcbiAgYWNjdW11bGF0b3I6IChhY2M6IFIsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8Uj4sXG4gIHNlZWQ6IFIsXG4gIGNvbmN1cnJlbnQgPSBJbmZpbml0eVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBUaGUgYWNjdW11bGF0ZWQgc3RhdGUuXG4gICAgbGV0IHN0YXRlID0gc2VlZDtcblxuICAgIHJldHVybiBtZXJnZUludGVybmFscyhcbiAgICAgIHNvdXJjZSxcbiAgICAgIHN1YnNjcmliZXIsXG4gICAgICAodmFsdWUsIGluZGV4KSA9PiBhY2N1bXVsYXRvcihzdGF0ZSwgdmFsdWUsIGluZGV4KSxcbiAgICAgIGNvbmN1cnJlbnQsXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgc3RhdGUgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBmYWxzZSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgICgpID0+IChzdGF0ZSA9IG51bGwhKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gJy4vbWVyZ2UnO1xuXG4vKipcbiAqIE1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBhbGwgb2JzZXJ2YWJsZXMgdG8gYSBzaW5nbGUgb2JzZXJ2YWJsZSByZXN1bHQuXG4gKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlLCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgc3Vic2NyaWJlcyB0byB0aGUgc291cmNlXG4gKiBvYnNlcnZhYmxlLCBhbmQgYWxsIG90aGVyIHNvdXJjZXMgcHJvdmlkZWQgYXMgYXJndW1lbnRzLiBBbGwgdmFsdWVzIGZyb21cbiAqIGV2ZXJ5IHNvdXJjZSBhcmUgZW1pdHRlZCBmcm9tIHRoZSByZXN1bHRpbmcgc3Vic2NyaXB0aW9uLlxuICpcbiAqIFdoZW4gYWxsIHNvdXJjZXMgY29tcGxldGUsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIGNvbXBsZXRlLlxuICpcbiAqIFdoZW4gYW55IHNvdXJjZSBlcnJvcnMsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIGVycm9yLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBKb2luaW5nIGFsbCBvdXRwdXRzIGZyb20gbXVsdGlwbGUgdXNlciBpbnB1dCBldmVudCBzdHJlYW1zXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgbWFwLCBtZXJnZVdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MkID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKS5waXBlKG1hcCgoKSA9PiAnY2xpY2snKSk7XG4gKiBjb25zdCBtb3VzZW1vdmVzJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ21vdXNlbW92ZScpLnBpcGUobWFwKCgpID0+ICdtb3VzZW1vdmUnKSk7XG4gKiBjb25zdCBkYmxjbGlja3MkID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnZGJsY2xpY2snKS5waXBlKG1hcCgoKSA9PiAnZGJsY2xpY2snKSk7XG4gKlxuICogbW91c2Vtb3ZlcyRcbiAqICAgLnBpcGUobWVyZ2VXaXRoKGNsaWNrcyQsIGRibGNsaWNrcyQpKVxuICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIHJlc3VsdCAoYXNzdW1pbmcgdXNlciBpbnRlcmFjdGlvbnMpXG4gKiAvLyAnbW91c2Vtb3ZlJ1xuICogLy8gJ21vdXNlbW92ZSdcbiAqIC8vICdtb3VzZW1vdmUnXG4gKiAvLyAnY2xpY2snXG4gKiAvLyAnY2xpY2snXG4gKiAvLyAnZGJsY2xpY2snXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtZXJnZX1cbiAqXG4gKiBAcGFyYW0gb3RoZXJTb3VyY2VzIHRoZSBzb3VyY2VzIHRvIGNvbWJpbmUgdGhlIGN1cnJlbnQgc291cmNlIHdpdGguXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtZXJnZXMgdGhlIHZhbHVlcyBmcm9tXG4gKiBhbGwgZ2l2ZW4gT2JzZXJ2YWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVdpdGg8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLm90aGVyU291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPiB7XG4gIHJldHVybiBtZXJnZSguLi5vdGhlclNvdXJjZXMpO1xufVxuIiwiaW1wb3J0IHsgcmVkdWNlIH0gZnJvbSAnLi9yZWR1Y2UnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8qKlxuICogVGhlIE1pbiBvcGVyYXRvciBvcGVyYXRlcyBvbiBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbnVtYmVycyAob3IgaXRlbXMgdGhhdCBjYW4gYmUgY29tcGFyZWQgd2l0aCBhIHByb3ZpZGVkIGZ1bmN0aW9uKSxcbiAqIGFuZCB3aGVuIHNvdXJjZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBpdCBlbWl0cyBhIHNpbmdsZSBpdGVtOiB0aGUgaXRlbSB3aXRoIHRoZSBzbWFsbGVzdCB2YWx1ZS5cbiAqXG4gKiAhW10obWluLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEdldCB0aGUgbWluaW1hbCB2YWx1ZSBvZiBhIHNlcmllcyBvZiBudW1iZXJzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtaW4gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZig1LCA0LCA3LCAyLCA4KVxuICogICAucGlwZShtaW4oKSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyAyXG4gKiBgYGBcbiAqXG4gKiBVc2UgYSBjb21wYXJlciBmdW5jdGlvbiB0byBnZXQgdGhlIG1pbmltYWwgaXRlbVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgbWluIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoXG4gKiAgIHsgYWdlOiA3LCBuYW1lOiAnRm9vJyB9LFxuICogICB7IGFnZTogNSwgbmFtZTogJ0JhcicgfSxcbiAqICAgeyBhZ2U6IDksIG5hbWU6ICdCZWVyJyB9XG4gKiApLnBpcGUoXG4gKiAgIG1pbigoYSwgYikgPT4gYS5hZ2UgPCBiLmFnZSA/IC0xIDogMSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4Lm5hbWUpKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyAnQmFyJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbWF4fVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJlcl0gLSBPcHRpb25hbCBjb21wYXJlciBmdW5jdGlvbiB0aGF0IGl0IHdpbGwgdXNlIGluc3RlYWQgb2YgaXRzIGRlZmF1bHQgdG8gY29tcGFyZSB0aGVcbiAqIHZhbHVlIG9mIHR3byBpdGVtcy5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW0gd2l0aCB0aGVcbiAqIHNtYWxsZXN0IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWluPFQ+KGNvbXBhcmVyPzogKHg6IFQsIHk6IFQpID0+IG51bWJlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiByZWR1Y2UoaXNGdW5jdGlvbihjb21wYXJlcikgPyAoeCwgeSkgPT4gKGNvbXBhcmVyKHgsIHkpIDwgMCA/IHggOiB5KSA6ICh4LCB5KSA9PiAoeCA8IHkgPyB4IDogeSkpO1xufVxuIiwiaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgVW5hcnlGdW5jdGlvbiwgT2JzZXJ2ZWRWYWx1ZU9mLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICcuL2Nvbm5lY3QnO1xuXG4vKipcbiAqIEFuIG9wZXJhdG9yIHRoYXQgY3JlYXRlcyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9LCB0aGF0IHdoZW4gY29ubmVjdGVkLFxuICogd2l0aCB0aGUgYGNvbm5lY3RgIG1ldGhvZCwgd2lsbCB1c2UgdGhlIHByb3ZpZGVkIHN1YmplY3QgdG8gbXVsdGljYXN0IHRoZSB2YWx1ZXNcbiAqIGZyb20gdGhlIHNvdXJjZSB0byBhbGwgY29uc3VtZXJzLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0IFRoZSBzdWJqZWN0IHRvIG11bHRpY2FzdCB0aHJvdWdoLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9XG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUsIHVzZSB7QGxpbmsgY29ubmVjdGFibGV9LlxuICogSWYgeW91J3JlIHVzaW5nIHtAbGluayByZWZDb3VudH0gYWZ0ZXIgYG11bHRpY2FzdGAsIHVzZSB0aGUge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLlxuICogYG11bHRpY2FzdChzdWJqZWN0KSwgcmVmQ291bnQoKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYHNoYXJlKHsgY29ubmVjdG9yOiAoKSA9PiBzdWJqZWN0LCByZXNldE9uRXJyb3I6IGZhbHNlLCByZXNldE9uQ29tcGxldGU6IGZhbHNlLCByZXNldE9uUmVmQ291bnRaZXJvOiBmYWxzZSB9KWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpY2FzdDxUPihzdWJqZWN0OiBTdWJqZWN0PFQ+KTogVW5hcnlGdW5jdGlvbjxPYnNlcnZhYmxlPFQ+LCBDb25uZWN0YWJsZU9ic2VydmFibGU8VD4+O1xuXG4vKipcbiAqIEJlY2F1c2UgdGhpcyBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IsIGFuZCB3YXMgb3RoZXJ3aXNlIHBvb3JseSBkb2N1bWVudGVkLFxuICogcmF0aGVyIHRoYW4gZHVwbGljYXRlIHRoZSBlZmZvcnQgb2YgZG9jdW1lbnRpbmcgdGhlIHNhbWUgYmVoYXZpb3IsIHBsZWFzZSBzZWUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlXG4gKiB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IuXG4gKlxuICogQHBhcmFtIHN1YmplY3QgVGhlIHN1YmplY3QgdXNlZCB0byBtdWx0aWNhc3QuXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBzZXR1cCBmdW5jdGlvbiB0byBzZXR1cCB0aGUgbXVsdGljYXN0XG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBvYnNlcnZhYmxlIHJldHVybmVkIGJ5IHRoZSBzZWxlY3Rvci5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHRoZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBtdWx0aWNhc3Qoc3ViamVjdCwgc2VsZWN0b3IpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgY29ubmVjdChzZWxlY3RvciwgeyBjb25uZWN0b3I6ICgpID0+IHN1YmplY3QgfSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aWNhc3Q8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgc3ViamVjdDogU3ViamVjdDxUPixcbiAgc2VsZWN0b3I6IChzaGFyZWQ6IE9ic2VydmFibGU8VD4pID0+IE9cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBBbiBvcGVyYXRvciB0aGF0IGNyZWF0ZXMgYSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfSwgdGhhdCB3aGVuIGNvbm5lY3RlZCxcbiAqIHdpdGggdGhlIGBjb25uZWN0YCBtZXRob2QsIHdpbGwgdXNlIHRoZSBwcm92aWRlZCBzdWJqZWN0IHRvIG11bHRpY2FzdCB0aGUgdmFsdWVzXG4gKiBmcm9tIHRoZSBzb3VyY2UgdG8gYWxsIGNvbnN1bWVycy5cbiAqXG4gKiBAcGFyYW0gc3ViamVjdEZhY3RvcnkgQSBmYWN0b3J5IHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gY3JlYXRlIHRoZSBzdWJqZWN0LiBQYXNzaW5nIGEgZnVuY3Rpb24gaGVyZVxuICogd2lsbCBjYXVzZSB0aGUgdW5kZXJseWluZyBzdWJqZWN0IHRvIGJlIFwicmVzZXRcIiBvbiBlcnJvciwgY29tcGxldGlvbiwgb3IgcmVmQ291bnRlZCB1bnN1YnNjcmlwdGlvbiBvZlxuICogdGhlIHNvdXJjZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfVxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBUbyBjcmVhdGUgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlLCB1c2Uge0BsaW5rIGNvbm5lY3RhYmxlfS5cbiAqIElmIHlvdSdyZSB1c2luZyB7QGxpbmsgcmVmQ291bnR9IGFmdGVyIGBtdWx0aWNhc3RgLCB1c2UgdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBtdWx0aWNhc3QoKCkgPT4gbmV3IEJlaGF2aW9yU3ViamVjdCgndGVzdCcpKSwgcmVmQ291bnQoKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYHNoYXJlKHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgQmVoYXZpb3JTdWJqZWN0KCd0ZXN0JykgfSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aWNhc3Q8VD4oc3ViamVjdEZhY3Rvcnk6ICgpID0+IFN1YmplY3Q8VD4pOiBVbmFyeUZ1bmN0aW9uPE9ic2VydmFibGU8VD4sIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxUPj47XG5cbi8qKlxuICogQmVjYXVzZSB0aGlzIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIHtAbGluayBjb25uZWN0fSBvcGVyYXRvciwgYW5kIHdhcyBvdGhlcndpc2UgcG9vcmx5IGRvY3VtZW50ZWQsXG4gKiByYXRoZXIgdGhhbiBkdXBsaWNhdGUgdGhlIGVmZm9ydCBvZiBkb2N1bWVudGluZyB0aGUgc2FtZSBiZWhhdmlvciwgcGxlYXNlIHNlZSBkb2N1bWVudGF0aW9uIGZvciB0aGVcbiAqIHtAbGluayBjb25uZWN0fSBvcGVyYXRvci5cbiAqXG4gKiBAcGFyYW0gc3ViamVjdEZhY3RvcnkgQSBmYWN0b3J5IHRoYXQgY3JlYXRlcyB0aGUgc3ViamVjdCB1c2VkIHRvIG11bHRpY2FzdC5cbiAqIEBwYXJhbSBzZWxlY3RvciBBIGZ1bmN0aW9uIHRvIHNldHVwIHRoZSBtdWx0aWNhc3QgYW5kIHNlbGVjdCB0aGUgb3V0cHV0LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgb2JzZXJ2YWJsZSByZXR1cm5lZCBieSB0aGUgc2VsZWN0b3IuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgbXVsdGljYXN0KHN1YmplY3RGYWN0b3J5LCBzZWxlY3RvcilgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBjb25uZWN0KHNlbGVjdG9yLCB7IGNvbm5lY3Rvcjogc3ViamVjdEZhY3RvcnkgfSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aWNhc3Q8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgc3ViamVjdEZhY3Rvcnk6ICgpID0+IFN1YmplY3Q8VD4sXG4gIHNlbGVjdG9yOiAoc2hhcmVkOiBPYnNlcnZhYmxlPFQ+KSA9PiBPXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgdGhlIHtAbGluayBjb25uZWN0YWJsZX0gb2JzZXJ2YWJsZSwgdGhlIHtAbGluayBjb25uZWN0fSBvcGVyYXRvciBvciB0aGVcbiAqIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC4gU2VlIHRoZSBvdmVybG9hZHMgYmVsb3cgZm9yIGVxdWl2YWxlbnQgcmVwbGFjZW1lbnQgZXhhbXBsZXMgb2YgdGhpcyBvcGVyYXRvcidzXG4gKiBiZWhhdmlvcnMuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpY2FzdDxULCBSPihcbiAgc3ViamVjdE9yU3ViamVjdEZhY3Rvcnk6IFN1YmplY3Q8VD4gfCAoKCkgPT4gU3ViamVjdDxUPiksXG4gIHNlbGVjdG9yPzogKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gT2JzZXJ2YWJsZTxSPlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIGNvbnN0IHN1YmplY3RGYWN0b3J5ID0gaXNGdW5jdGlvbihzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSkgPyBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSA6ICgpID0+IHN1YmplY3RPclN1YmplY3RGYWN0b3J5O1xuXG4gIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xuICAgIC8vIElmIGEgc2VsZWN0b3IgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIHRoZW4gd2UncmUgYSBcIm5vcm1hbFwiIG9wZXJhdG9yIHRoYXQgaXNuJ3RcbiAgICAvLyBnb2luZyB0byByZXR1cm4gYSBDb25uZWN0YWJsZU9ic2VydmFibGUuIFdlIGNhbiB1c2UgYGNvbm5lY3RgIHRvIGRvIHdoYXQgd2VcbiAgICAvLyBuZWVkIHRvIGRvLlxuICAgIHJldHVybiBjb25uZWN0KHNlbGVjdG9yLCB7XG4gICAgICBjb25uZWN0b3I6IHN1YmplY3RGYWN0b3J5LFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IG5ldyBDb25uZWN0YWJsZU9ic2VydmFibGU8YW55Pihzb3VyY2UsIHN1YmplY3RGYWN0b3J5KTtcbn1cbiIsIi8qKiBAcHJldHRpZXIgKi9cbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIFJlLWVtaXRzIGFsbCBub3RpZmljYXRpb25zIGZyb20gc291cmNlIE9ic2VydmFibGUgd2l0aCBzcGVjaWZpZWQgc2NoZWR1bGVyLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FbnN1cmUgYSBzcGVjaWZpYyBzY2hlZHVsZXIgaXMgdXNlZCwgZnJvbSBvdXRzaWRlIG9mIGFuIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqIGBvYnNlcnZlT25gIGlzIGFuIG9wZXJhdG9yIHRoYXQgYWNjZXB0cyBhIHNjaGVkdWxlciBhcyBhIGZpcnN0IHBhcmFtZXRlciwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIHJlc2NoZWR1bGVcbiAqIG5vdGlmaWNhdGlvbnMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIEl0IG1pZ2h0IGJlIHVzZWZ1bCwgaWYgeW91IGRvIG5vdCBoYXZlIGNvbnRyb2wgb3ZlclxuICogaW50ZXJuYWwgc2NoZWR1bGVyIG9mIGEgZ2l2ZW4gT2JzZXJ2YWJsZSwgYnV0IHdhbnQgdG8gY29udHJvbCB3aGVuIGl0cyB2YWx1ZXMgYXJlIGVtaXR0ZWQgbmV2ZXJ0aGVsZXNzLlxuICpcbiAqIFJldHVybmVkIE9ic2VydmFibGUgZW1pdHMgdGhlIHNhbWUgbm90aWZpY2F0aW9ucyAobmV4dGVkIHZhbHVlcywgY29tcGxldGUgYW5kIGVycm9yIGV2ZW50cykgYXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLFxuICogYnV0IHJlc2NoZWR1bGVkIHdpdGggcHJvdmlkZWQgc2NoZWR1bGVyLiBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IG1lYW4gdGhhdCBzb3VyY2UgT2JzZXJ2YWJsZXMgaW50ZXJuYWxcbiAqIHNjaGVkdWxlciB3aWxsIGJlIHJlcGxhY2VkIGluIGFueSB3YXkuIE9yaWdpbmFsIHNjaGVkdWxlciBzdGlsbCB3aWxsIGJlIHVzZWQsIGJ1dCB3aGVuIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0c1xuICogbm90aWZpY2F0aW9uLCBpdCB3aWxsIGJlIGltbWVkaWF0ZWx5IHNjaGVkdWxlZCBhZ2FpbiAtIHRoaXMgdGltZSB3aXRoIHNjaGVkdWxlciBwYXNzZWQgdG8gYG9ic2VydmVPbmAuXG4gKiBBbiBhbnRpLXBhdHRlcm4gd291bGQgYmUgY2FsbGluZyBgb2JzZXJ2ZU9uYCBvbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbG90cyBvZiB2YWx1ZXMgc3luY2hyb25vdXNseSwgdG8gc3BsaXRcbiAqIHRoYXQgZW1pc3Npb25zIGludG8gYXN5bmNocm9ub3VzIGNodW5rcy4gRm9yIHRoaXMgdG8gaGFwcGVuLCBzY2hlZHVsZXIgd291bGQgaGF2ZSB0byBiZSBwYXNzZWQgaW50byB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGRpcmVjdGx5ICh1c3VhbGx5IGludG8gdGhlIG9wZXJhdG9yIHRoYXQgY3JlYXRlcyBpdCkuIGBvYnNlcnZlT25gIHNpbXBseSBkZWxheXMgbm90aWZpY2F0aW9ucyBhXG4gKiBsaXR0bGUgYml0IG1vcmUsIHRvIGVuc3VyZSB0aGF0IHRoZXkgYXJlIGVtaXR0ZWQgYXQgZXhwZWN0ZWQgbW9tZW50cy5cbiAqXG4gKiBBcyBhIG1hdHRlciBvZiBmYWN0LCBgb2JzZXJ2ZU9uYCBhY2NlcHRzIHNlY29uZCBwYXJhbWV0ZXIsIHdoaWNoIHNwZWNpZmllcyBpbiBtaWxsaXNlY29uZHMgd2l0aCB3aGF0IGRlbGF5IG5vdGlmaWNhdGlvbnNcbiAqIHdpbGwgYmUgZW1pdHRlZC4gVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIHtAbGluayBkZWxheX0gb3BlcmF0b3IgYW5kIGBvYnNlcnZlT25gIGlzIHRoYXQgYG9ic2VydmVPbmBcbiAqIHdpbGwgZGVsYXkgYWxsIG5vdGlmaWNhdGlvbnMgLSBpbmNsdWRpbmcgZXJyb3Igbm90aWZpY2F0aW9ucyAtIHdoaWxlIGBkZWxheWAgd2lsbCBwYXNzIHRocm91Z2ggZXJyb3JcbiAqIGZyb20gc291cmNlIE9ic2VydmFibGUgaW1tZWRpYXRlbHkgd2hlbiBpdCBpcyBlbWl0dGVkLiBJbiBnZW5lcmFsIGl0IGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byB1c2UgYGRlbGF5YCBvcGVyYXRvclxuICogZm9yIGFueSBraW5kIG9mIGRlbGF5aW5nIG9mIHZhbHVlcyBpbiB0aGUgc3RyZWFtLCB3aGlsZSB1c2luZyBgb2JzZXJ2ZU9uYCB0byBzcGVjaWZ5IHdoaWNoIHNjaGVkdWxlciBzaG91bGQgYmUgdXNlZFxuICogZm9yIG5vdGlmaWNhdGlvbiBlbWlzc2lvbnMgaW4gZ2VuZXJhbC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW5zdXJlIHZhbHVlcyBpbiBzdWJzY3JpYmUgYXJlIGNhbGxlZCBqdXN0IGJlZm9yZSBicm93c2VyIHJlcGFpbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIG9ic2VydmVPbiwgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb21lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBzb21lRGl2LnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDIwMHB4O2JhY2tncm91bmQ6ICMwOWMnO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzb21lRGl2KTtcbiAqIGNvbnN0IGludGVydmFscyA9IGludGVydmFsKDEwKTsgICAgICAvLyBJbnRlcnZhbHMgYXJlIHNjaGVkdWxlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGggYXN5bmMgc2NoZWR1bGVyIGJ5IGRlZmF1bHQuLi5cbiAqIGludGVydmFscy5waXBlKFxuICogICBvYnNlcnZlT24oYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIpIC8vIC4uLmJ1dCB3ZSB3aWxsIG9ic2VydmUgb24gYW5pbWF0aW9uRnJhbWVcbiAqICkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZXIgdG8gZW5zdXJlIHNtb290aCBhbmltYXRpb24uXG4gKiAuc3Vic2NyaWJlKHZhbCA9PiB7XG4gKiAgIHNvbWVEaXYuc3R5bGUuaGVpZ2h0ID0gdmFsICsgJ3B4JztcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGVsYXl9XG4gKlxuICogQHBhcmFtIHNjaGVkdWxlciBTY2hlZHVsZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVzY2hlZHVsZSBub3RpZmljYXRpb25zIGZyb20gc291cmNlIE9ic2VydmFibGUuXG4gKiBAcGFyYW0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHN0YXRlcyB3aXRoIHdoYXQgZGVsYXkgZXZlcnkgbm90aWZpY2F0aW9uIHNob3VsZCBiZSByZXNjaGVkdWxlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBzYW1lXG4gKiBub3RpZmljYXRpb25zIGFzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgYnV0IHdpdGggcHJvdmlkZWQgc2NoZWR1bGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZU9uPFQ+KHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSwgZGVsYXkgPSAwKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4gZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgKCkgPT4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKSwgZGVsYXkpLFxuICAgICAgICAoKSA9PiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCAoKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCksIGRlbGF5KSxcbiAgICAgICAgKGVycikgPT4gZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgKCkgPT4gc3Vic2NyaWJlci5lcnJvcihlcnIpLCBkZWxheSlcbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVJbnB1dFR1cGxlLCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYXJnc09yQXJnQXJyYXkgfSBmcm9tICcuLi91dGlsL2FyZ3NPckFyZ0FycmF5JztcbmltcG9ydCB7IG9uRXJyb3JSZXN1bWVOZXh0IGFzIG9FUk5DcmVhdGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL29uRXJyb3JSZXN1bWVOZXh0JztcblxuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3JSZXN1bWVOZXh0V2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgc291cmNlczogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgQVtudW1iZXJdPjtcbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dFdpdGg8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEFbbnVtYmVyXT47XG5cbi8qKlxuICogV2hlbiBhbnkgb2YgdGhlIHByb3ZpZGVkIE9ic2VydmFibGUgZW1pdHMgYW4gY29tcGxldGUgb3IgZXJyb3Igbm90aWZpY2F0aW9uLCBpdCBpbW1lZGlhdGVseSBzdWJzY3JpYmVzIHRvIHRoZSBuZXh0IG9uZVxuICogdGhhdCB3YXMgcGFzc2VkLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FeGVjdXRlIHNlcmllcyBvZiBPYnNlcnZhYmxlcywgc3Vic2NyaWJlcyB0byBuZXh0IG9uZSBvbiBlcnJvciBvciBjb21wbGV0ZS48L3NwYW4+XG4gKlxuICogIVtdKG9uRXJyb3JSZXN1bWVOZXh0LnBuZylcbiAqXG4gKiBgb25FcnJvclJlc3VtZU5leHRgIGlzIGFuIG9wZXJhdG9yIHRoYXQgYWNjZXB0cyBhIHNlcmllcyBvZiBPYnNlcnZhYmxlcywgcHJvdmlkZWQgZWl0aGVyIGRpcmVjdGx5IGFzXG4gKiBhcmd1bWVudHMgb3IgYXMgYW4gYXJyYXkuIElmIG5vIHNpbmdsZSBPYnNlcnZhYmxlIGlzIHByb3ZpZGVkLCByZXR1cm5lZCBPYnNlcnZhYmxlIHdpbGwgc2ltcGx5IGJlaGF2ZSB0aGUgc2FtZVxuICogYXMgdGhlIHNvdXJjZS5cbiAqXG4gKiBgb25FcnJvclJlc3VtZU5leHRgIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHN0YXJ0cyBieSBzdWJzY3JpYmluZyBhbmQgcmUtZW1pdHRpbmcgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogV2hlbiBpdHMgc3RyZWFtIG9mIHZhbHVlcyBlbmRzIC0gbm8gbWF0dGVyIGlmIE9ic2VydmFibGUgY29tcGxldGVkIG9yIGVtaXR0ZWQgYW4gZXJyb3IgLSBgb25FcnJvclJlc3VtZU5leHRgXG4gKiB3aWxsIHN1YnNjcmliZSB0byB0aGUgZmlyc3QgT2JzZXJ2YWJsZSB0aGF0IHdhcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIG1ldGhvZC4gSXQgd2lsbCBzdGFydCByZS1lbWl0dGluZ1xuICogaXRzIHZhbHVlcyBhcyB3ZWxsIGFuZCAtIGFnYWluIC0gd2hlbiB0aGF0IHN0cmVhbSBlbmRzLCBgb25FcnJvclJlc3VtZU5leHRgIHdpbGwgcHJvY2VlZCB0byBzdWJzY3JpYmluZyB5ZXQgYW5vdGhlclxuICogT2JzZXJ2YWJsZSBpbiBwcm92aWRlZCBzZXJpZXMsIG5vIG1hdHRlciBpZiBwcmV2aW91cyBPYnNlcnZhYmxlIGNvbXBsZXRlZCBvciBlbmRlZCB3aXRoIGFuIGVycm9yLiBUaGlzIHdpbGxcbiAqIGJlIGhhcHBlbmluZyB1bnRpbCB0aGVyZSBpcyBubyBtb3JlIE9ic2VydmFibGVzIGxlZnQgaW4gdGhlIHNlcmllcywgYXQgd2hpY2ggcG9pbnQgcmV0dXJuZWQgT2JzZXJ2YWJsZSB3aWxsXG4gKiBjb21wbGV0ZSAtIGV2ZW4gaWYgdGhlIGxhc3Qgc3Vic2NyaWJlZCBzdHJlYW0gZW5kZWQgd2l0aCBhbiBlcnJvci5cbiAqXG4gKiBgb25FcnJvclJlc3VtZU5leHRgIGNhbiBiZSB0aGVyZWZvcmUgdGhvdWdodCBvZiBhcyB2ZXJzaW9uIG9mIHtAbGluayBjb25jYXR9IG9wZXJhdG9yLCB3aGljaCBpcyBtb3JlIHBlcm1pc3NpdmVcbiAqIHdoZW4gaXQgY29tZXMgdG8gdGhlIGVycm9ycyBlbWl0dGVkIGJ5IGl0cyBpbnB1dCBPYnNlcnZhYmxlcy4gV2hpbGUgYGNvbmNhdGAgc3Vic2NyaWJlcyB0byB0aGUgbmV4dCBPYnNlcnZhYmxlXG4gKiBpbiBzZXJpZXMgb25seSBpZiBwcmV2aW91cyBvbmUgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZCwgYG9uRXJyb3JSZXN1bWVOZXh0YCBzdWJzY3JpYmVzIGV2ZW4gaWYgaXQgZW5kZWQgd2l0aFxuICogYW4gZXJyb3IuXG4gKlxuICogTm90ZSB0aGF0IHlvdSBkbyBub3QgZ2V0IGFueSBhY2Nlc3MgdG8gZXJyb3JzIGVtaXR0ZWQgYnkgdGhlIE9ic2VydmFibGVzLiBJbiBwYXJ0aWN1bGFyIGRvIG5vdFxuICogZXhwZWN0IHRoZXNlIGVycm9ycyB0byBhcHBlYXIgaW4gZXJyb3IgY2FsbGJhY2sgcGFzc2VkIHRvIHtAbGluayBPYnNlcnZhYmxlI3N1YnNjcmliZX0uIElmIHlvdSB3YW50IHRvIHRha2VcbiAqIHNwZWNpZmljIGFjdGlvbnMgYmFzZWQgb24gd2hhdCBlcnJvciB3YXMgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlLCB5b3Ugc2hvdWxkIHRyeSBvdXQge0BsaW5rIGNhdGNoRXJyb3J9IGluc3RlYWQuXG4gKlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBTdWJzY3JpYmUgdG8gdGhlIG5leHQgT2JzZXJ2YWJsZSBhZnRlciBtYXAgZmFpbHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG9uRXJyb3JSZXN1bWVOZXh0LCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAyLCAzLCAwKVxuICogICAucGlwZShcbiAqICAgICBtYXAoeCA9PiB7XG4gKiAgICAgICBpZiAoeCA9PT0gMCkge1xuICogICAgICAgICB0aHJvdyBFcnJvcigpO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIHJldHVybiAxMCAvIHg7XG4gKiAgICAgfSksXG4gKiAgICAgb25FcnJvclJlc3VtZU5leHQob2YoMSwgMiwgMykpXG4gKiAgIClcbiAqICAgLnN1YnNjcmliZSh7XG4gKiAgICAgbmV4dDogdmFsID0+IGNvbnNvbGUubG9nKHZhbCksXG4gKiAgICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZyhlcnIpLCAgICAgICAgICAvLyBXaWxsIG5ldmVyIGJlIGNhbGxlZC5cbiAqICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ3RoYXRcXCdzIGl0IScpXG4gKiAgIH0pO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAxMFxuICogLy8gNVxuICogLy8gMy4zMzMzMzMzMzMzMzMzMzM1XG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyAndGhhdCdzIGl0ISdcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdH1cbiAqIEBzZWUge0BsaW5rIGNhdGNoRXJyb3J9XG4gKlxuICogQHBhcmFtIHsuLi5PYnNlcnZhYmxlSW5wdXR9IHNvdXJjZXMgT2JzZXJ2YWJsZXMgcGFzc2VkIGVpdGhlciBkaXJlY3RseSBvciBhcyBhbiBhcnJheS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBmcm9tIHNvdXJjZVxuICogT2JzZXJ2YWJsZSwgYnV0IC0gaWYgaXQgZXJyb3JzIC0gc3Vic2NyaWJlcyB0byB0aGUgbmV4dCBwYXNzZWQgT2JzZXJ2YWJsZVxuICogYW5kIHNvIG9uLCB1bnRpbCBpdCBjb21wbGV0ZXMgb3IgcnVucyBvdXQgb2YgT2JzZXJ2YWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dFdpdGg8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oXG4gIC4uLnNvdXJjZXM6IFtbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dXSB8IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEFbbnVtYmVyXT4ge1xuICAvLyBGb3Igc29tZSByZWFzb24sIFRTIDQuMSBSQyBnZXRzIHRoZSBpbmZlcmVuY2Ugd3JvbmcgaGVyZSBhbmQgaW5mZXJzIHRoZVxuICAvLyByZXN1bHQgdG8gYmUgYEFbbnVtYmVyXVtdYCAtIGNvbXBsZXRlbHkgZHJvcHBpbmcgdGhlIE9ic2VydmFibGVJbnB1dCBwYXJ0XG4gIC8vIG9mIHRoZSB0eXBlLiBUaGlzIG1ha2VzIG5vIHNlbnNlIHdoYXRzb2V2ZXIuIEFzIGEgd29ya2Fyb3VuZCwgdGhlIHR5cGUgaXNcbiAgLy8gYXNzZXJ0ZWQgZXhwbGljaXRseS5cbiAgY29uc3QgbmV4dFNvdXJjZXMgPSBhcmdzT3JBcmdBcnJheShzb3VyY2VzKSBhcyB1bmtub3duIGFzIE9ic2VydmFibGVJbnB1dFR1cGxlPEE+O1xuXG4gIHJldHVybiAoc291cmNlKSA9PiBvRVJOQ3JlYXRlKHNvdXJjZSwgLi4ubmV4dFNvdXJjZXMpO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlbmFtZWQuIFVzZSB7QGxpbmsgb25FcnJvclJlc3VtZU5leHRXaXRofSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBjb25zdCBvbkVycm9yUmVzdW1lTmV4dCA9IG9uRXJyb3JSZXN1bWVOZXh0V2l0aDtcbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBHcm91cHMgcGFpcnMgb2YgY29uc2VjdXRpdmUgZW1pc3Npb25zIHRvZ2V0aGVyIGFuZCBlbWl0cyB0aGVtIGFzIGFuIGFycmF5IG9mXG4gKiB0d28gdmFsdWVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5QdXRzIHRoZSBjdXJyZW50IHZhbHVlIGFuZCBwcmV2aW91cyB2YWx1ZSB0b2dldGhlciBhc1xuICogYW4gYXJyYXksIGFuZCBlbWl0cyB0aGF0Ljwvc3Bhbj5cbiAqXG4gKiAhW10ocGFpcndpc2UucG5nKVxuICpcbiAqIFRoZSBOdGggZW1pc3Npb24gZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgd2lsbCBjYXVzZSB0aGUgb3V0cHV0IE9ic2VydmFibGVcbiAqIHRvIGVtaXQgYW4gYXJyYXkgWyhOLTEpdGgsIE50aF0gb2YgdGhlIHByZXZpb3VzIGFuZCB0aGUgY3VycmVudCB2YWx1ZSwgYXMgYVxuICogcGFpci4gRm9yIHRoaXMgcmVhc29uLCBgcGFpcndpc2VgIGVtaXRzIG9uIHRoZSBzZWNvbmQgYW5kIHN1YnNlcXVlbnRcbiAqIGVtaXNzaW9ucyBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgYnV0IG5vdCBvbiB0aGUgZmlyc3QgZW1pc3Npb24sIGJlY2F1c2VcbiAqIHRoZXJlIGlzIG5vIHByZXZpb3VzIHZhbHVlIGluIHRoYXQgY2FzZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogT24gZXZlcnkgY2xpY2sgKHN0YXJ0aW5nIGZyb20gdGhlIHNlY29uZCksIGVtaXQgdGhlIHJlbGF0aXZlIGRpc3RhbmNlIHRvIHRoZSBwcmV2aW91cyBjbGlja1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHBhaXJ3aXNlLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQ8UG9pbnRlckV2ZW50Pihkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBwYWlycyA9IGNsaWNrcy5waXBlKHBhaXJ3aXNlKCkpO1xuICogY29uc3QgZGlzdGFuY2UgPSBwYWlycy5waXBlKFxuICogICBtYXAoKFtmaXJzdCwgc2Vjb25kXSkgPT4ge1xuICogICAgIGNvbnN0IHgwID0gZmlyc3QuY2xpZW50WDtcbiAqICAgICBjb25zdCB5MCA9IGZpcnN0LmNsaWVudFk7XG4gKiAgICAgY29uc3QgeDEgPSBzZWNvbmQuY2xpZW50WDtcbiAqICAgICBjb25zdCB5MSA9IHNlY29uZC5jbGllbnRZO1xuICogICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeDAgLSB4MSwgMikgKyBNYXRoLnBvdyh5MCAtIHkxLCAyKSk7XG4gKiAgIH0pXG4gKiApO1xuICpcbiAqIGRpc3RhbmNlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcn1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlckNvdW50fVxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiBwYWlycyAoYXMgYXJyYXlzKSBvZlxuICogY29uc2VjdXRpdmUgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFpcndpc2U8VD4oKTogT3BlcmF0b3JGdW5jdGlvbjxULCBbVCwgVF0+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBwcmV2OiBUO1xuICAgIGxldCBoYXNQcmV2ID0gZmFsc2U7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgcCA9IHByZXY7XG4gICAgICAgIHByZXYgPSB2YWx1ZTtcbiAgICAgICAgaGFzUHJldiAmJiBzdWJzY3JpYmVyLm5leHQoW3AsIHZhbHVlXSk7XG4gICAgICAgIGhhc1ByZXYgPSB0cnVlO1xuICAgICAgfSlcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbWFwfSBhbmQgb3B0aW9uYWwgY2hhaW5pbmc6IGBwbHVjaygnZm9vJywgJ2JhcicpYCBpcyBgbWFwKHggPT4geD8uZm9vPy5iYXIpYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrPFQsIEsxIGV4dGVuZHMga2V5b2YgVD4oazE6IEsxKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW0sxXT47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8VCwgSzEgZXh0ZW5kcyBrZXlvZiBULCBLMiBleHRlbmRzIGtleW9mIFRbSzFdPihrMTogSzEsIGsyOiBLMik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtLMV1bSzJdPjtcbi8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIG1hcH0gYW5kIG9wdGlvbmFsIGNoYWluaW5nOiBgcGx1Y2soJ2ZvbycsICdiYXInKWAgaXMgYG1hcCh4ID0+IHg/LmZvbz8uYmFyKWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbHVjazxULCBLMSBleHRlbmRzIGtleW9mIFQsIEsyIGV4dGVuZHMga2V5b2YgVFtLMV0sIEszIGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdPihcbiAgazE6IEsxLFxuICBrMjogSzIsXG4gIGszOiBLM1xuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUW0sxXVtLMl1bSzNdPjtcbi8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIG1hcH0gYW5kIG9wdGlvbmFsIGNoYWluaW5nOiBgcGx1Y2soJ2ZvbycsICdiYXInKWAgaXMgYG1hcCh4ID0+IHg/LmZvbz8uYmFyKWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbHVjazxULCBLMSBleHRlbmRzIGtleW9mIFQsIEsyIGV4dGVuZHMga2V5b2YgVFtLMV0sIEszIGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdLCBLNCBleHRlbmRzIGtleW9mIFRbSzFdW0syXVtLM10+KFxuICBrMTogSzEsXG4gIGsyOiBLMixcbiAgazM6IEszLFxuICBrNDogSzRcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtLMV1bSzJdW0szXVtLNF0+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbWFwfSBhbmQgb3B0aW9uYWwgY2hhaW5pbmc6IGBwbHVjaygnZm9vJywgJ2JhcicpYCBpcyBgbWFwKHggPT4geD8uZm9vPy5iYXIpYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrPFxuICBULFxuICBLMSBleHRlbmRzIGtleW9mIFQsXG4gIEsyIGV4dGVuZHMga2V5b2YgVFtLMV0sXG4gIEszIGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdLFxuICBLNCBleHRlbmRzIGtleW9mIFRbSzFdW0syXVtLM10sXG4gIEs1IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXVtLNF1cbj4oazE6IEsxLCBrMjogSzIsIGszOiBLMywgazQ6IEs0LCBrNTogSzUpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbSzFdW0syXVtLM11bSzRdW0s1XT47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8XG4gIFQsXG4gIEsxIGV4dGVuZHMga2V5b2YgVCxcbiAgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSxcbiAgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sXG4gIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXSxcbiAgSzUgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdW0s0XSxcbiAgSzYgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdW0s0XVtLNV1cbj4oazE6IEsxLCBrMjogSzIsIGszOiBLMywgazQ6IEs0LCBrNTogSzUsIGs2OiBLNik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVFtLMV1bSzJdW0szXVtLNF1bSzVdW0s2XT47XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBtYXB9IGFuZCBvcHRpb25hbCBjaGFpbmluZzogYHBsdWNrKCdmb28nLCAnYmFyJylgIGlzIGBtYXAoeCA9PiB4Py5mb28/LmJhcilgLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8XG4gIFQsXG4gIEsxIGV4dGVuZHMga2V5b2YgVCxcbiAgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSxcbiAgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sXG4gIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXSxcbiAgSzUgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdW0s0XSxcbiAgSzYgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl1bSzNdW0s0XVtLNV1cbj4oazE6IEsxLCBrMjogSzIsIGszOiBLMywgazQ6IEs0LCBrNTogSzUsIGs2OiBLNiwgLi4ucmVzdDogc3RyaW5nW10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIHVua25vd24+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbWFwfSBhbmQgb3B0aW9uYWwgY2hhaW5pbmc6IGBwbHVjaygnZm9vJywgJ2JhcicpYCBpcyBgbWFwKHggPT4geD8uZm9vPy5iYXIpYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrPFQ+KC4uLnByb3BlcnRpZXM6IHN0cmluZ1tdKTogT3BlcmF0b3JGdW5jdGlvbjxULCB1bmtub3duPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogTWFwcyBlYWNoIHNvdXJjZSB2YWx1ZSB0byBpdHMgc3BlY2lmaWVkIG5lc3RlZCBwcm9wZXJ0eS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TGlrZSB7QGxpbmsgbWFwfSwgYnV0IG1lYW50IG9ubHkgZm9yIHBpY2tpbmcgb25lIG9mXG4gKiB0aGUgbmVzdGVkIHByb3BlcnRpZXMgb2YgZXZlcnkgZW1pdHRlZCB2YWx1ZS48L3NwYW4+XG4gKlxuICogIVtdKHBsdWNrLnBuZylcbiAqXG4gKiBHaXZlbiBhIGxpc3Qgb2Ygc3RyaW5ncyBvciBudW1iZXJzIGRlc2NyaWJpbmcgYSBwYXRoIHRvIGEgcHJvcGVydHksIHJldHJpZXZlc1xuICogdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWVkIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFsbCB2YWx1ZXMgaW4gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gSWYgYSBwcm9wZXJ0eSBjYW4ndCBiZSByZXNvbHZlZCwgaXQgd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgZm9yXG4gKiB0aGF0IHZhbHVlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBNYXAgZXZlcnkgY2xpY2sgdG8gdGhlIHRhZ05hbWUgb2YgdGhlIGNsaWNrZWQgdGFyZ2V0IGVsZW1lbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBwbHVjayB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCB0YWdOYW1lcyA9IGNsaWNrcy5waXBlKHBsdWNrKCd0YXJnZXQnLCAndGFnTmFtZScpKTtcbiAqXG4gKiB0YWdOYW1lcy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXB9XG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgVGhlIG5lc3RlZCBwcm9wZXJ0aWVzIHRvIHBsdWNrIGZyb20gZWFjaCBzb3VyY2VcbiAqIHZhbHVlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHByb3BlcnR5IHZhbHVlcyBmcm9tIHRoZVxuICogc291cmNlIHZhbHVlcy5cbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbWFwfSBhbmQgb3B0aW9uYWwgY2hhaW5pbmc6IGBwbHVjaygnZm9vJywgJ2JhcicpYCBpcyBgbWFwKHggPT4geD8uZm9vPy5iYXIpYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2s8VCwgUj4oLi4ucHJvcGVydGllczogQXJyYXk8c3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sPik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj4ge1xuICBjb25zdCBsZW5ndGggPSBwcm9wZXJ0aWVzLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbGlzdCBvZiBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbXB0eS4nKTtcbiAgfVxuICByZXR1cm4gbWFwKCh4KSA9PiB7XG4gICAgbGV0IGN1cnJlbnRQcm9wOiBhbnkgPSB4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSBjdXJyZW50UHJvcD8uW3Byb3BlcnRpZXNbaV1dO1xuICAgICAgaWYgKHR5cGVvZiBwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjdXJyZW50UHJvcCA9IHA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFByb3A7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgbXVsdGljYXN0IH0gZnJvbSAnLi9tdWx0aWNhc3QnO1xuaW1wb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPcGVyYXRvckZ1bmN0aW9uLCBVbmFyeUZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICcuL2Nvbm5lY3QnO1xuXG4vKipcbiAqIFJldHVybnMgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlIHRoYXQsIHdoZW4gY29ubmVjdGVkLCB3aWxsIG11bHRpY2FzdFxuICogYWxsIHZhbHVlcyB0aHJvdWdoIGEgc2luZ2xlIHVuZGVybHlpbmcge0BsaW5rIFN1YmplY3R9IGluc3RhbmNlLlxuICpcbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVG8gY3JlYXRlIGEgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSwgdXNlIHtAbGluayBjb25uZWN0YWJsZX0uXG4gKiBgc291cmNlLnBpcGUocHVibGlzaCgpKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYGNvbm5lY3RhYmxlKHNvdXJjZSwgeyBjb25uZWN0b3I6ICgpID0+IG5ldyBTdWJqZWN0KCksIHJlc2V0T25EaXNjb25uZWN0OiBmYWxzZSB9KWAuXG4gKiBJZiB5b3UncmUgdXNpbmcge0BsaW5rIHJlZkNvdW50fSBhZnRlciBgcHVibGlzaGAsIHVzZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgc291cmNlLnBpcGUocHVibGlzaCgpLCByZWZDb3VudCgpKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYHNvdXJjZS5waXBlKHNoYXJlKHsgcmVzZXRPbkVycm9yOiBmYWxzZSwgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSwgcmVzZXRPblJlZkNvdW50WmVybzogZmFsc2UgfSkpYC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaDxUPigpOiBVbmFyeUZ1bmN0aW9uPE9ic2VydmFibGU8VD4sIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxUPj47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlLCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgY3JlYXRlcyBhbiB1bmRlcmx5aW5nIHtAbGluayBTdWJqZWN0fSxcbiAqIHByb3ZpZGVzIGFuIG9ic2VydmFibGUgdmlldyBvZiBpdCB0byBhIGBzZWxlY3RvcmAgZnVuY3Rpb24sIHRha2VzIHRoZSBvYnNlcnZhYmxlIHJlc3VsdCBvZlxuICogdGhhdCBzZWxlY3RvciBmdW5jdGlvbiBhbmQgc3Vic2NyaWJlcyB0byBpdCwgc2VuZGluZyBpdHMgdmFsdWVzIHRvIHRoZSBjb25zdW1lciwgX3RoZW5fIGNvbm5lY3RzXG4gKiB0aGUgc3ViamVjdCB0byB0aGUgb3JpZ2luYWwgc291cmNlLlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBBIGZ1bmN0aW9uIHVzZWQgdG8gc2V0dXAgbXVsdGljYXN0aW5nIHByaW9yIHRvIGF1dG9tYXRpYyBjb25uZWN0aW9uLlxuICpcbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIHRoZSB7QGxpbmsgY29ubmVjdH0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBwdWJsaXNoKHNlbGVjdG9yKWAgaXMgZXF1aXZhbGVudCB0byBgY29ubmVjdChzZWxlY3RvcilgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oc2VsZWN0b3I6IChzaGFyZWQ6IE9ic2VydmFibGU8VD4pID0+IE8pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG5cbi8qKlxuICogUmV0dXJucyBhIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSwgd2hpY2ggaXMgYSB2YXJpZXR5IG9mIE9ic2VydmFibGUgdGhhdCB3YWl0cyB1bnRpbCBpdHMgY29ubmVjdCBtZXRob2QgaXMgY2FsbGVkXG4gKiBiZWZvcmUgaXQgYmVnaW5zIGVtaXR0aW5nIGl0ZW1zIHRvIHRob3NlIE9ic2VydmVycyB0aGF0IGhhdmUgc3Vic2NyaWJlZCB0byBpdC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TWFrZXMgYSBjb2xkIE9ic2VydmFibGUgaG90PC9zcGFuPlxuICpcbiAqICFbXShwdWJsaXNoLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIE1ha2UgYHNvdXJjZSRgIGhvdCBieSBhcHBseWluZyBgcHVibGlzaGAgb3BlcmF0b3IsIHRoZW4gbWVyZ2UgZWFjaCBpbm5lciBvYnNlcnZhYmxlIGludG8gYSBzaW5nbGUgb25lXG4gKiBhbmQgc3Vic2NyaWJlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHppcCwgaW50ZXJ2YWwsIG9mLCBtYXAsIHB1Ymxpc2gsIG1lcmdlLCB0YXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UkID0gemlwKGludGVydmFsKDIwMDApLCBvZigxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5KSlcbiAqICAgLnBpcGUobWFwKChbLCBudW1iZXJdKSA9PiBudW1iZXIpKTtcbiAqXG4gKiBzb3VyY2UkXG4gKiAgIC5waXBlKFxuICogICAgIHB1Ymxpc2gobXVsdGljYXN0ZWQkID0+XG4gKiAgICAgICBtZXJnZShcbiAqICAgICAgICAgbXVsdGljYXN0ZWQkLnBpcGUodGFwKHggPT4gY29uc29sZS5sb2coJ1N0cmVhbSAxOicsIHgpKSksXG4gKiAgICAgICAgIG11bHRpY2FzdGVkJC5waXBlKHRhcCh4ID0+IGNvbnNvbGUubG9nKCdTdHJlYW0gMjonLCB4KSkpLFxuICogICAgICAgICBtdWx0aWNhc3RlZCQucGlwZSh0YXAoeCA9PiBjb25zb2xlLmxvZygnU3RyZWFtIDM6JywgeCkpKVxuICogICAgICAgKVxuICogICAgIClcbiAqICAgKVxuICogICAuc3Vic2NyaWJlKCk7XG4gKlxuICogLy8gUmVzdWx0cyBldmVyeSB0d28gc2Vjb25kc1xuICogLy8gU3RyZWFtIDE6IDFcbiAqIC8vIFN0cmVhbSAyOiAxXG4gKiAvLyBTdHJlYW0gMzogMVxuICogLy8gLi4uXG4gKiAvLyBTdHJlYW0gMTogOVxuICogLy8gU3RyZWFtIDI6IDlcbiAqIC8vIFN0cmVhbSAzOiA5XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBwdWJsaXNoTGFzdH1cbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2hSZXBsYXl9XG4gKiBAc2VlIHtAbGluayBwdWJsaXNoQmVoYXZpb3J9XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3NlbGVjdG9yXSAtIE9wdGlvbmFsIHNlbGVjdG9yIGZ1bmN0aW9uIHdoaWNoIGNhbiB1c2UgdGhlIG11bHRpY2FzdGVkIHNvdXJjZSBzZXF1ZW5jZSBhcyBtYW55IHRpbWVzXG4gKiBhcyBuZWVkZWQsIHdpdGhvdXQgY2F1c2luZyBtdWx0aXBsZSBzdWJzY3JpcHRpb25zIHRvIHRoZSBzb3VyY2Ugc2VxdWVuY2UuXG4gKiBTdWJzY3JpYmVycyB0byB0aGUgZ2l2ZW4gc291cmNlIHdpbGwgcmVjZWl2ZSBhbGwgbm90aWZpY2F0aW9ucyBvZiB0aGUgc291cmNlIGZyb20gdGhlIHRpbWUgb2YgdGhlIHN1YnNjcmlwdGlvbiBvbi5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBDb25uZWN0YWJsZU9ic2VydmFibGUgdGhhdCB1cG9uIGNvbm5lY3Rpb25cbiAqIGNhdXNlcyB0aGUgc291cmNlIE9ic2VydmFibGUgdG8gZW1pdCBpdGVtcyB0byBpdHMgT2JzZXJ2ZXJzLlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgdGhlIHtAbGluayBjb25uZWN0YWJsZX0gb2JzZXJ2YWJsZSwgdGhlIHtAbGluayBjb25uZWN0fSBvcGVyYXRvciBvciB0aGVcbiAqIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC4gU2VlIHRoZSBvdmVybG9hZHMgYmVsb3cgZm9yIGVxdWl2YWxlbnQgcmVwbGFjZW1lbnQgZXhhbXBsZXMgb2YgdGhpcyBvcGVyYXRvcidzXG4gKiBiZWhhdmlvcnMuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2g8VCwgUj4oc2VsZWN0b3I/OiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHwgT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIHJldHVybiBzZWxlY3RvciA/IChzb3VyY2UpID0+IGNvbm5lY3Qoc2VsZWN0b3IpKHNvdXJjZSkgOiAoc291cmNlKSA9PiBtdWx0aWNhc3QobmV3IFN1YmplY3Q8VD4oKSkoc291cmNlKTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJy4uL0JlaGF2aW9yU3ViamVjdCc7XG5pbXBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBVbmFyeUZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfSB0aGF0IHV0aWxpemVzIGEge0BsaW5rIEJlaGF2aW9yU3ViamVjdH0uXG4gKlxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSBUaGUgaW5pdGlhbCB2YWx1ZSBwYXNzZWQgdG8gdGhlIHtAbGluayBCZWhhdmlvclN1YmplY3R9LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9XG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUgdGhhdCB1c2VzIGFcbiAqIHtAbGluayBCZWhhdmlvclN1YmplY3R9IHVuZGVyIHRoZSBob29kLCB1c2Uge0BsaW5rIGNvbm5lY3RhYmxlfS5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoQmVoYXZpb3IoaW5pdFZhbHVlKSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBjb25uZWN0YWJsZShzb3VyY2UsIHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgQmVoYXZpb3JTdWJqZWN0KGluaXRWYWx1ZSksIHJlc2V0T25EaXNjb25uZWN0OiBmYWxzZSB9KWAuXG4gKiBJZiB5b3UncmUgdXNpbmcge0BsaW5rIHJlZkNvdW50fSBhZnRlciBgcHVibGlzaEJlaGF2aW9yYCwgdXNlIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgc291cmNlLnBpcGUocHVibGlzaEJlaGF2aW9yKGluaXRWYWx1ZSksIHJlZkNvdW50KCkpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgc291cmNlLnBpcGUoc2hhcmUoeyBjb25uZWN0b3I6ICgpID0+IG5ldyBCZWhhdmlvclN1YmplY3QoaW5pdFZhbHVlKSwgcmVzZXRPbkVycm9yOiBmYWxzZSwgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSwgcmVzZXRPblJlZkNvdW50WmVybzogZmFsc2UgIH0pKWAuXG4gKiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9tdWx0aWNhc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hCZWhhdmlvcjxUPihpbml0aWFsVmFsdWU6IFQpOiBVbmFyeUZ1bmN0aW9uPE9ic2VydmFibGU8VD4sIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxUPj4ge1xuICAvLyBOb3RlIHRoYXQgdGhpcyBoYXMgKm5ldmVyKiBzdXBwb3J0ZWQgdGhlIHNlbGVjdG9yIGZ1bmN0aW9uLlxuICByZXR1cm4gKHNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFQ+KGluaXRpYWxWYWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCAoKSA9PiBzdWJqZWN0KTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4uL0FzeW5jU3ViamVjdCc7XG5pbXBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBVbmFyeUZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFJldHVybnMgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlIHNlcXVlbmNlIHRoYXQgc2hhcmVzIGEgc2luZ2xlIHN1YnNjcmlwdGlvbiB0byB0aGVcbiAqIHVuZGVybHlpbmcgc2VxdWVuY2UgY29udGFpbmluZyBvbmx5IHRoZSBsYXN0IG5vdGlmaWNhdGlvbi5cbiAqXG4gKiAhW10ocHVibGlzaExhc3QucG5nKVxuICpcbiAqIFNpbWlsYXIgdG8ge0BsaW5rIHB1Ymxpc2h9LCBidXQgaXQgd2FpdHMgdW50aWwgdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGNvbXBsZXRlcyBhbmQgc3RvcmVzXG4gKiB0aGUgbGFzdCBlbWl0dGVkIHZhbHVlLlxuICogU2ltaWxhcmx5IHRvIHtAbGluayBwdWJsaXNoUmVwbGF5fSBhbmQge0BsaW5rIHB1Ymxpc2hCZWhhdmlvcn0sIHRoaXMga2VlcHMgc3RvcmluZyB0aGUgbGFzdFxuICogdmFsdWUgZXZlbiBpZiBpdCBoYXMgbm8gbW9yZSBzdWJzY3JpYmVycy4gSWYgc3Vic2VxdWVudCBzdWJzY3JpcHRpb25zIGhhcHBlbiwgdGhleSB3aWxsXG4gKiBpbW1lZGlhdGVseSBnZXQgdGhhdCBsYXN0IHN0b3JlZCB2YWx1ZSBhbmQgY29tcGxldGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBDb25uZWN0YWJsZU9ic2VydmFibGUsIGludGVydmFsLCBwdWJsaXNoTGFzdCwgdGFwLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY29ubmVjdGFibGUgPSA8Q29ubmVjdGFibGVPYnNlcnZhYmxlPG51bWJlcj4+aW50ZXJ2YWwoMTAwMClcbiAqICAgLnBpcGUoXG4gKiAgICAgdGFwKHggPT4gY29uc29sZS5sb2coJ3NpZGUgZWZmZWN0JywgeCkpLFxuICogICAgIHRha2UoMyksXG4gKiAgICAgcHVibGlzaExhc3QoKVxuICogICApO1xuICpcbiAqIGNvbm5lY3RhYmxlLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHggPT4gY29uc29sZS5sb2coJ1N1Yi4gQScsIHgpLFxuICogICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKCdTdWIuIEEgRXJyb3InLCBlcnIpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ1N1Yi4gQSBDb21wbGV0ZScpXG4gKiB9KTtcbiAqXG4gKiBjb25uZWN0YWJsZS5zdWJzY3JpYmUoe1xuICogICBuZXh0OiB4ID0+IGNvbnNvbGUubG9nKCdTdWIuIEInLCB4KSxcbiAqICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZygnU3ViLiBCIEVycm9yJywgZXJyKSxcbiAqICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCdTdWIuIEIgQ29tcGxldGUnKVxuICogfSk7XG4gKlxuICogY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICpcbiAqIC8vIFJlc3VsdHM6XG4gKiAvLyAnc2lkZSBlZmZlY3QgMCcgICAtIGFmdGVyIG9uZSBzZWNvbmRcbiAqIC8vICdzaWRlIGVmZmVjdCAxJyAgIC0gYWZ0ZXIgdHdvIHNlY29uZHNcbiAqIC8vICdzaWRlIGVmZmVjdCAyJyAgIC0gYWZ0ZXIgdGhyZWUgc2Vjb25kc1xuICogLy8gJ1N1Yi4gQSAyJyAgICAgICAgLSBpbW1lZGlhdGVseSBhZnRlciAnc2lkZSBlZmZlY3QgMidcbiAqIC8vICdTdWIuIEIgMidcbiAqIC8vICdTdWIuIEEgQ29tcGxldGUnXG4gKiAvLyAnU3ViLiBCIENvbXBsZXRlJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgQ29ubmVjdGFibGVPYnNlcnZhYmxlfVxuICogQHNlZSB7QGxpbmsgcHVibGlzaH1cbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2hSZXBsYXl9XG4gKiBAc2VlIHtAbGluayBwdWJsaXNoQmVoYXZpb3J9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgZWxlbWVudHMgb2YgYVxuICogc2VxdWVuY2UgcHJvZHVjZWQgYnkgbXVsdGljYXN0aW5nIHRoZSBzb3VyY2Ugc2VxdWVuY2UuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFRvIGNyZWF0ZSBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUgd2l0aCBhblxuICoge0BsaW5rIEFzeW5jU3ViamVjdH0gdW5kZXIgdGhlIGhvb2QsIHVzZSB7QGxpbmsgY29ubmVjdGFibGV9LlxuICogYHNvdXJjZS5waXBlKHB1Ymxpc2hMYXN0KCkpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgY29ubmVjdGFibGUoc291cmNlLCB7IGNvbm5lY3RvcjogKCkgPT4gbmV3IEFzeW5jU3ViamVjdCgpLCByZXNldE9uRGlzY29ubmVjdDogZmFsc2UgfSlgLlxuICogSWYgeW91J3JlIHVzaW5nIHtAbGluayByZWZDb3VudH0gYWZ0ZXIgYHB1Ymxpc2hMYXN0YCwgdXNlIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgc291cmNlLnBpcGUocHVibGlzaExhc3QoKSwgcmVmQ291bnQoKSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBzb3VyY2UucGlwZShzaGFyZSh7IGNvbm5lY3RvcjogKCkgPT4gbmV3IEFzeW5jU3ViamVjdCgpLCByZXNldE9uRXJyb3I6IGZhbHNlLCByZXNldE9uQ29tcGxldGU6IGZhbHNlLCByZXNldE9uUmVmQ291bnRaZXJvOiBmYWxzZSB9KSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoTGFzdDxUPigpOiBVbmFyeUZ1bmN0aW9uPE9ic2VydmFibGU8VD4sIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTxUPj4ge1xuICAvLyBOb3RlIHRoYXQgdGhpcyBoYXMgKm5ldmVyKiBzdXBwb3J0ZWQgYSBzZWxlY3RvciBmdW5jdGlvbiBsaWtlIGBwdWJsaXNoYCBhbmQgYHB1Ymxpc2hSZXBsYXlgLlxuICByZXR1cm4gKHNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0PFQ+KCk7XG4gICAgcmV0dXJuIG5ldyBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCAoKSA9PiBzdWJqZWN0KTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuLi9SZXBsYXlTdWJqZWN0JztcbmltcG9ydCB7IG11bHRpY2FzdCB9IGZyb20gJy4vbXVsdGljYXN0JztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT3BlcmF0b3JGdW5jdGlvbiwgVGltZXN0YW1wUHJvdmlkZXIsIE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9IHRoYXQgdXNlcyBhIHtAbGluayBSZXBsYXlTdWJqZWN0fVxuICogaW50ZXJuYWxseS5cbiAqXG4gKiBAcGFyYW0gYnVmZmVyU2l6ZSBUaGUgYnVmZmVyIHNpemUgZm9yIHRoZSB1bmRlcmx5aW5nIHtAbGluayBSZXBsYXlTdWJqZWN0fS5cbiAqIEBwYXJhbSB3aW5kb3dUaW1lIFRoZSB3aW5kb3cgdGltZSBmb3IgdGhlIHVuZGVybHlpbmcge0BsaW5rIFJlcGxheVN1YmplY3R9LlxuICogQHBhcmFtIHRpbWVzdGFtcFByb3ZpZGVyIFRoZSB0aW1lc3RhbXAgcHJvdmlkZXIgZm9yIHRoZSB1bmRlcmx5aW5nIHtAbGluayBSZXBsYXlTdWJqZWN0fS5cbiAqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVG8gY3JlYXRlIGEgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSB0aGF0IHVzZXMgYVxuICoge0BsaW5rIFJlcGxheVN1YmplY3R9IHVuZGVyIHRoZSBob29kLCB1c2Uge0BsaW5rIGNvbm5lY3RhYmxlfS5cbiAqIGBzb3VyY2UucGlwZShwdWJsaXNoUmVwbGF5KHNpemUsIHRpbWUsIHNjaGVkdWxlcikpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgY29ubmVjdGFibGUoc291cmNlLCB7IGNvbm5lY3RvcjogKCkgPT4gbmV3IFJlcGxheVN1YmplY3Qoc2l6ZSwgdGltZSwgc2NoZWR1bGVyKSwgcmVzZXRPbkRpc2Nvbm5lY3Q6IGZhbHNlIH0pYC5cbiAqIElmIHlvdSdyZSB1c2luZyB7QGxpbmsgcmVmQ291bnR9IGFmdGVyIGBwdWJsaXNoUmVwbGF5YCwgdXNlIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgcHVibGlzaFJlcGxheShzaXplLCB0aW1lLCBzY2hlZHVsZXIpLCByZWZDb3VudCgpYCBpcyBlcXVpdmFsZW50IHRvXG4gKiBgc2hhcmUoeyBjb25uZWN0b3I6ICgpID0+IG5ldyBSZXBsYXlTdWJqZWN0KHNpemUsIHRpbWUsIHNjaGVkdWxlciksIHJlc2V0T25FcnJvcjogZmFsc2UsIHJlc2V0T25Db21wbGV0ZTogZmFsc2UsIHJlc2V0T25SZWZDb3VudFplcm86IGZhbHNlIH0pYC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFJlcGxheTxUPihcbiAgYnVmZmVyU2l6ZT86IG51bWJlcixcbiAgd2luZG93VGltZT86IG51bWJlcixcbiAgdGltZXN0YW1wUHJvdmlkZXI/OiBUaW1lc3RhbXBQcm92aWRlclxuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JzZXJ2YWJsZSwgdGhhdCB3aGVuIHN1YnNjcmliZWQgdG8sIHdpbGwgY3JlYXRlIGEge0BsaW5rIFJlcGxheVN1YmplY3R9LFxuICogYW5kIHBhc3MgYW4gb2JzZXJ2YWJsZSBmcm9tIGl0ICh1c2luZyBbYXNPYnNlcnZhYmxlXShhcGkvaW5kZXgvY2xhc3MvU3ViamVjdCNhc09ic2VydmFibGUpKSB0b1xuICogdGhlIGBzZWxlY3RvcmAgZnVuY3Rpb24sIHdoaWNoIHRoZW4gcmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgc3Vic2NyaWJlZCB0byBiZWZvcmVcbiAqIFwiY29ubmVjdGluZ1wiIHRoZSBzb3VyY2UgdG8gdGhlIGludGVybmFsIGBSZXBsYXlTdWJqZWN0YC5cbiAqXG4gKiBTaW5jZSB0aGlzIGlzIGRlcHJlY2F0ZWQsIGZvciBhZGRpdGlvbmFsIGRldGFpbHMgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB7QGxpbmsgY29ubmVjdH0uXG4gKlxuICogQHBhcmFtIGJ1ZmZlclNpemUgVGhlIGJ1ZmZlciBzaXplIGZvciB0aGUgdW5kZXJseWluZyB7QGxpbmsgUmVwbGF5U3ViamVjdH0uXG4gKiBAcGFyYW0gd2luZG93VGltZSBUaGUgd2luZG93IHRpbWUgZm9yIHRoZSB1bmRlcmx5aW5nIHtAbGluayBSZXBsYXlTdWJqZWN0fS5cbiAqIEBwYXJhbSBzZWxlY3RvciBBIGZ1bmN0aW9uIHVzZWQgdG8gc2V0dXAgdGhlIG11bHRpY2FzdC5cbiAqIEBwYXJhbSB0aW1lc3RhbXBQcm92aWRlciBUaGUgdGltZXN0YW1wIHByb3ZpZGVyIGZvciB0aGUgdW5kZXJseWluZyB7QGxpbmsgUmVwbGF5U3ViamVjdH0uXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yIGluc3RlYWQuXG4gKiBgc291cmNlLnBpcGUocHVibGlzaFJlcGxheShzaXplLCB3aW5kb3csIHNlbGVjdG9yLCBzY2hlZHVsZXIpKWAgaXMgZXF1aXZhbGVudCB0b1xuICogYHNvdXJjZS5waXBlKGNvbm5lY3Qoc2VsZWN0b3IsIHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgUmVwbGF5U3ViamVjdChzaXplLCB3aW5kb3csIHNjaGVkdWxlcikgfSkpYC5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFJlcGxheTxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBidWZmZXJTaXplOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHdpbmRvd1RpbWU6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgc2VsZWN0b3I6IChzaGFyZWQ6IE9ic2VydmFibGU8VD4pID0+IE8sXG4gIHRpbWVzdGFtcFByb3ZpZGVyPzogVGltZXN0YW1wUHJvdmlkZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX0gdGhhdCB1c2VzIGEge0BsaW5rIFJlcGxheVN1YmplY3R9XG4gKiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSBidWZmZXJTaXplIFRoZSBidWZmZXIgc2l6ZSBmb3IgdGhlIHVuZGVybHlpbmcge0BsaW5rIFJlcGxheVN1YmplY3R9LlxuICogQHBhcmFtIHdpbmRvd1RpbWUgVGhlIHdpbmRvdyB0aW1lIGZvciB0aGUgdW5kZXJseWluZyB7QGxpbmsgUmVwbGF5U3ViamVjdH0uXG4gKiBAcGFyYW0gc2VsZWN0b3IgUGFzc2luZyBgdW5kZWZpbmVkYCBoZXJlIGRldGVybWluZXMgdGhhdCB0aGlzIG9wZXJhdG9yIHdpbGwgcmV0dXJuIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX0uXG4gKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgVGhlIHRpbWVzdGFtcCBwcm92aWRlciBmb3IgdGhlIHVuZGVybHlpbmcge0BsaW5rIFJlcGxheVN1YmplY3R9LlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBUbyBjcmVhdGUgYSBjb25uZWN0YWJsZSBvYnNlcnZhYmxlIHRoYXQgdXNlcyBhXG4gKiB7QGxpbmsgUmVwbGF5U3ViamVjdH0gdW5kZXIgdGhlIGhvb2QsIHVzZSB7QGxpbmsgY29ubmVjdGFibGV9LlxuICogYHNvdXJjZS5waXBlKHB1Ymxpc2hSZXBsYXkoc2l6ZSwgdGltZSwgc2NoZWR1bGVyKSlgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBjb25uZWN0YWJsZShzb3VyY2UsIHsgY29ubmVjdG9yOiAoKSA9PiBuZXcgUmVwbGF5U3ViamVjdChzaXplLCB0aW1lLCBzY2hlZHVsZXIpLCByZXNldE9uRGlzY29ubmVjdDogZmFsc2UgfSlgLlxuICogSWYgeW91J3JlIHVzaW5nIHtAbGluayByZWZDb3VudH0gYWZ0ZXIgYHB1Ymxpc2hSZXBsYXlgLCB1c2UgdGhlIHtAbGluayBzaGFyZX0gb3BlcmF0b3IgaW5zdGVhZC5cbiAqIGBwdWJsaXNoUmVwbGF5KHNpemUsIHRpbWUsIHNjaGVkdWxlciksIHJlZkNvdW50KClgIGlzIGVxdWl2YWxlbnQgdG9cbiAqIGBzaGFyZSh7IGNvbm5lY3RvcjogKCkgPT4gbmV3IFJlcGxheVN1YmplY3Qoc2l6ZSwgdGltZSwgc2NoZWR1bGVyKSwgcmVzZXRPbkVycm9yOiBmYWxzZSwgcmVzZXRPbkNvbXBsZXRlOiBmYWxzZSwgcmVzZXRPblJlZkNvdW50WmVybzogZmFsc2UgfSlgLlxuICogRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvbXVsdGljYXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUmVwbGF5PFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIGJ1ZmZlclNpemU6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgd2luZG93VGltZTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICBzZWxlY3RvcjogdW5kZWZpbmVkLFxuICB0aW1lc3RhbXBQcm92aWRlcjogVGltZXN0YW1wUHJvdmlkZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2ZWRWYWx1ZU9mPE8+PjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSB0aGUge0BsaW5rIGNvbm5lY3RhYmxlfSBvYnNlcnZhYmxlLCB0aGUge0BsaW5rIGNvbm5lY3R9IG9wZXJhdG9yIG9yIHRoZVxuICoge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpbnN0ZWFkLiBTZWUgdGhlIG92ZXJsb2FkcyBiZWxvdyBmb3IgZXF1aXZhbGVudCByZXBsYWNlbWVudCBleGFtcGxlcyBvZiB0aGlzIG9wZXJhdG9yJ3NcbiAqIGJlaGF2aW9ycy5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHVibGlzaFJlcGxheTxULCBSPihcbiAgYnVmZmVyU2l6ZT86IG51bWJlcixcbiAgd2luZG93VGltZT86IG51bWJlcixcbiAgc2VsZWN0b3JPclNjaGVkdWxlcj86IFRpbWVzdGFtcFByb3ZpZGVyIHwgT3BlcmF0b3JGdW5jdGlvbjxULCBSPixcbiAgdGltZXN0YW1wUHJvdmlkZXI/OiBUaW1lc3RhbXBQcm92aWRlclxuKSB7XG4gIGlmIChzZWxlY3Rvck9yU2NoZWR1bGVyICYmICFpc0Z1bmN0aW9uKHNlbGVjdG9yT3JTY2hlZHVsZXIpKSB7XG4gICAgdGltZXN0YW1wUHJvdmlkZXIgPSBzZWxlY3Rvck9yU2NoZWR1bGVyO1xuICB9XG4gIGNvbnN0IHNlbGVjdG9yID0gaXNGdW5jdGlvbihzZWxlY3Rvck9yU2NoZWR1bGVyKSA/IHNlbGVjdG9yT3JTY2hlZHVsZXIgOiB1bmRlZmluZWQ7XG4gIC8vIE5vdGUsIHdlJ3JlIHBhc3NpbmcgYHNlbGVjdG9yIWAgaGVyZSwgYmVjYXVzZSBhdCBydW50aW1lLCBgdW5kZWZpbmVkYCBpcyBhbiBhY2NlcHRhYmxlIGFyZ3VtZW50XG4gIC8vIGJ1dCBpdCBtYWtlcyBvdXIgVHlwZVNjcmlwdCBzaWduYXR1cmUgZm9yIGBtdWx0aWNhc3RgIHVuaGFwcHkgKGFzIGl0IHNob3VsZCwgYmVjYXVzZSBpdCdzIGdyb3NzKS5cbiAgcmV0dXJuIChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IG11bHRpY2FzdChuZXcgUmVwbGF5U3ViamVjdDxUPihidWZmZXJTaXplLCB3aW5kb3dUaW1lLCB0aW1lc3RhbXBQcm92aWRlciksIHNlbGVjdG9yISkoc291cmNlKTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dFR1cGxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgcmFjZUluaXQgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3JhY2UnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIGZpcnN0IHNvdXJjZSBPYnNlcnZhYmxlIHRvIGVtaXQgYSBuZXh0LFxuICogZXJyb3Igb3IgY29tcGxldGUgbm90aWZpY2F0aW9uIGZyb20gdGhlIGNvbWJpbmF0aW9uIG9mIHRoZSBPYnNlcnZhYmxlIHRvIHdoaWNoXG4gKiB0aGUgb3BlcmF0b3IgaXMgYXBwbGllZCBhbmQgc3VwcGxpZWQgT2JzZXJ2YWJsZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWFwLCByYWNlV2l0aCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IG9iczEgPSBpbnRlcnZhbCg3MDAwKS5waXBlKG1hcCgoKSA9PiAnc2xvdyBvbmUnKSk7XG4gKiBjb25zdCBvYnMyID0gaW50ZXJ2YWwoMzAwMCkucGlwZShtYXAoKCkgPT4gJ2Zhc3Qgb25lJykpO1xuICogY29uc3Qgb2JzMyA9IGludGVydmFsKDUwMDApLnBpcGUobWFwKCgpID0+ICdtZWRpdW0gb25lJykpO1xuICpcbiAqIG9iczFcbiAqICAgLnBpcGUocmFjZVdpdGgob2JzMiwgb2JzMykpXG4gKiAgIC5zdWJzY3JpYmUod2lubmVyID0+IGNvbnNvbGUubG9nKHdpbm5lcikpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIGEgc2VyaWVzIG9mICdmYXN0IG9uZSdcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBvdGhlclNvdXJjZXMgU291cmNlcyB1c2VkIHRvIHJhY2UgZm9yIHdoaWNoIE9ic2VydmFibGUgZW1pdHMgZmlyc3QuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBvdXRwdXQgb2YgdGhlXG4gKiBmaXJzdCBPYnNlcnZhYmxlIHRvIGVtaXQgYW4gaXRlbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhY2VXaXRoPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KFxuICAuLi5vdGhlclNvdXJjZXM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEFbbnVtYmVyXT4ge1xuICByZXR1cm4gIW90aGVyU291cmNlcy5sZW5ndGhcbiAgICA/IGlkZW50aXR5XG4gICAgOiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgcmFjZUluaXQ8VCB8IEFbbnVtYmVyXT4oW3NvdXJjZSwgLi4ub3RoZXJTb3VyY2VzXSkoc3Vic2NyaWJlcik7XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IHNjYW5JbnRlcm5hbHMgfSBmcm9tICcuL3NjYW5JbnRlcm5hbHMnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFYsIEEgPSBWPihhY2N1bXVsYXRvcjogKGFjYzogQSB8IFYsIHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBBKTogT3BlcmF0b3JGdW5jdGlvbjxWLCBWIHwgQT47XG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFYsIEE+KGFjY3VtdWxhdG9yOiAoYWNjOiBBLCB2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gQSwgc2VlZDogQSk6IE9wZXJhdG9yRnVuY3Rpb248ViwgQT47XG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFYsIEEsIFMgPSBBPihhY2N1bXVsYXRvcjogKGFjYzogQSB8IFMsIHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBBLCBzZWVkOiBTKTogT3BlcmF0b3JGdW5jdGlvbjxWLCBBPjtcblxuLyoqXG4gKiBBcHBsaWVzIGFuIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIG92ZXIgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBhbmQgcmV0dXJucyB0aGVcbiAqIGFjY3VtdWxhdGVkIHJlc3VsdCB3aGVuIHRoZSBzb3VyY2UgY29tcGxldGVzLCBnaXZlbiBhbiBvcHRpb25hbCBzZWVkIHZhbHVlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Db21iaW5lcyB0b2dldGhlciBhbGwgdmFsdWVzIGVtaXR0ZWQgb24gdGhlIHNvdXJjZSxcbiAqIHVzaW5nIGFuIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIHRoYXQga25vd3MgaG93IHRvIGpvaW4gYSBuZXcgc291cmNlIHZhbHVlIGludG9cbiAqIHRoZSBhY2N1bXVsYXRpb24gZnJvbSB0aGUgcGFzdC48L3NwYW4+XG4gKlxuICogIVtdKHJlZHVjZS5wbmcpXG4gKlxuICogTGlrZVxuICogW0FycmF5LnByb3RvdHlwZS5yZWR1Y2UoKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmVkdWNlKSxcbiAqIGByZWR1Y2VgIGFwcGxpZXMgYW4gYGFjY3VtdWxhdG9yYCBmdW5jdGlvbiBhZ2FpbnN0IGFuIGFjY3VtdWxhdGlvbiBhbmQgZWFjaFxuICogdmFsdWUgb2YgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIChmcm9tIHRoZSBwYXN0KSB0byByZWR1Y2UgaXQgdG8gYSBzaW5nbGVcbiAqIHZhbHVlLCBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS4gTm90ZSB0aGF0IGByZWR1Y2VgIHdpbGwgb25seSBlbWl0XG4gKiBvbmUgdmFsdWUsIG9ubHkgd2hlbiB0aGUgc291cmNlIE9ic2VydmFibGUgY29tcGxldGVzLiBJdCBpcyBlcXVpdmFsZW50IHRvXG4gKiBhcHBseWluZyBvcGVyYXRvciB7QGxpbmsgc2Nhbn0gZm9sbG93ZWQgYnkgb3BlcmF0b3Ige0BsaW5rIGxhc3R9LlxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGFwcGxpZXMgYSBzcGVjaWZpZWQgYGFjY3VtdWxhdG9yYCBmdW5jdGlvbiB0byBlYWNoXG4gKiBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBJZiBhIGBzZWVkYCB2YWx1ZSBpcyBzcGVjaWZpZWQsIHRoZW5cbiAqIHRoYXQgdmFsdWUgd2lsbCBiZSB1c2VkIGFzIHRoZSBpbml0aWFsIHZhbHVlIGZvciB0aGUgYWNjdW11bGF0b3IuIElmIG5vIHNlZWRcbiAqIHZhbHVlIGlzIHNwZWNpZmllZCwgdGhlIGZpcnN0IGl0ZW0gb2YgdGhlIHNvdXJjZSBpcyB1c2VkIGFzIHRoZSBzZWVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIGNsaWNrIGV2ZW50cyB0aGF0IGhhcHBlbmVkIGluIDUgc2Vjb25kc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHRha2VVbnRpbCwgaW50ZXJ2YWwsIG1hcCwgcmVkdWNlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzSW5GaXZlU2Vjb25kcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJylcbiAqICAgLnBpcGUodGFrZVVudGlsKGludGVydmFsKDUwMDApKSk7XG4gKlxuICogY29uc3Qgb25lcyA9IGNsaWNrc0luRml2ZVNlY29uZHMucGlwZShtYXAoKCkgPT4gMSkpO1xuICogY29uc3Qgc2VlZCA9IDA7XG4gKiBjb25zdCBjb3VudCA9IG9uZXMucGlwZShyZWR1Y2UoKGFjYywgb25lKSA9PiBhY2MgKyBvbmUsIHNlZWQpKTtcbiAqXG4gKiBjb3VudC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb3VudH1cbiAqIEBzZWUge0BsaW5rIGV4cGFuZH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHNjYW59XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihhY2M6IEEsIHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKTogQX0gYWNjdW11bGF0b3IgVGhlIGFjY3VtdWxhdG9yIGZ1bmN0aW9uXG4gKiBjYWxsZWQgb24gZWFjaCBzb3VyY2UgdmFsdWUuXG4gKiBAcGFyYW0ge0F9IFtzZWVkXSBUaGUgaW5pdGlhbCBhY2N1bXVsYXRpb24gdmFsdWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhIHNpbmdsZSB2YWx1ZSB0aGF0XG4gKiBpcyB0aGUgcmVzdWx0IG9mIGFjY3VtdWxhdGluZyB0aGUgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFYsIEE+KGFjY3VtdWxhdG9yOiAoYWNjOiBWIHwgQSwgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEsIHNlZWQ/OiBhbnkpOiBPcGVyYXRvckZ1bmN0aW9uPFYsIFYgfCBBPiB7XG4gIHJldHVybiBvcGVyYXRlKHNjYW5JbnRlcm5hbHMoYWNjdW11bGF0b3IsIHNlZWQsIGFyZ3VtZW50cy5sZW5ndGggPj0gMiwgZmFsc2UsIHRydWUpKTtcbn1cbiIsImltcG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJy4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBNYWtlIGEge0BsaW5rIENvbm5lY3RhYmxlT2JzZXJ2YWJsZX0gYmVoYXZlIGxpa2UgYSBvcmRpbmFyeSBvYnNlcnZhYmxlIGFuZCBhdXRvbWF0ZXMgdGhlIHdheVxuICogeW91IGNhbiBjb25uZWN0IHRvIGl0LlxuICpcbiAqIEludGVybmFsbHkgaXQgY291bnRzIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRoZSBvYnNlcnZhYmxlIGFuZCBzdWJzY3JpYmVzIChvbmx5IG9uY2UpIHRvIHRoZSBzb3VyY2UgaWZcbiAqIHRoZSBudW1iZXIgb2Ygc3Vic2NyaXB0aW9ucyBpcyBsYXJnZXIgdGhhbiAwLiBJZiB0aGUgbnVtYmVyIG9mIHN1YnNjcmlwdGlvbnMgaXMgc21hbGxlciB0aGFuIDEsIGl0XG4gKiB1bnN1YnNjcmliZXMgZnJvbSB0aGUgc291cmNlLiBUaGlzIHdheSB5b3UgY2FuIG1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgYmVmb3JlIHRoZSAqcHVibGlzaGVkKlxuICogcmVmQ291bnQgaGFzIG9ubHkgYSBzaW5nbGUgc3Vic2NyaXB0aW9uIGluZGVwZW5kZW50bHkgb2YgdGhlIG51bWJlciBvZiBzdWJzY3JpYmVycyB0byB0aGUgdGFyZ2V0XG4gKiBvYnNlcnZhYmxlLlxuICpcbiAqIE5vdGUgdGhhdCB1c2luZyB0aGUge0BsaW5rIHNoYXJlfSBvcGVyYXRvciBpcyBleGFjdGx5IHRoZSBzYW1lIGFzIHVzaW5nIHRoZSBgbXVsdGljYXN0KCgpID0+IG5ldyBTdWJqZWN0KCkpYCBvcGVyYXRvclxuICogKG1ha2luZyB0aGUgb2JzZXJ2YWJsZSBob3QpIGFuZCB0aGUgKnJlZkNvdW50KiBvcGVyYXRvciBpbiBhIHNlcXVlbmNlLlxuICpcbiAqICFbXShyZWZDb3VudC5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSB0aGVyZSBhcmUgdHdvIGludGVydmFscyB0dXJuZWQgaW50byBjb25uZWN0YWJsZSBvYnNlcnZhYmxlc1xuICogYnkgdXNpbmcgdGhlICpwdWJsaXNoKiBvcGVyYXRvci4gVGhlIGZpcnN0IG9uZSB1c2VzIHRoZSAqcmVmQ291bnQqIG9wZXJhdG9yLCB0aGVcbiAqIHNlY29uZCBvbmUgZG9lcyBub3QgdXNlIGl0LiBZb3Ugd2lsbCBub3RpY2UgdGhhdCBhIGNvbm5lY3RhYmxlIG9ic2VydmFibGUgZG9lcyBub3RoaW5nXG4gKiB1bnRpbCB5b3UgY2FsbCBpdHMgY29ubmVjdCBmdW5jdGlvbi5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRhcCwgcHVibGlzaCwgcmVmQ291bnQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiAvLyBUdXJuIHRoZSBpbnRlcnZhbCBvYnNlcnZhYmxlIGludG8gYSBDb25uZWN0YWJsZU9ic2VydmFibGUgKGhvdClcbiAqIGNvbnN0IHJlZkNvdW50SW50ZXJ2YWwgPSBpbnRlcnZhbCg0MDApLnBpcGUoXG4gKiAgIHRhcChudW0gPT4gY29uc29sZS5sb2coYHJlZkNvdW50ICR7IG51bSB9YCkpLFxuICogICBwdWJsaXNoKCksXG4gKiAgIHJlZkNvdW50KClcbiAqICk7XG4gKlxuICogY29uc3QgcHVibGlzaGVkSW50ZXJ2YWwgPSBpbnRlcnZhbCg0MDApLnBpcGUoXG4gKiAgIHRhcChudW0gPT4gY29uc29sZS5sb2coYHB1Ymxpc2ggJHsgbnVtIH1gKSksXG4gKiAgIHB1Ymxpc2goKVxuICogKTtcbiAqXG4gKiByZWZDb3VudEludGVydmFsLnN1YnNjcmliZSgpO1xuICogcmVmQ291bnRJbnRlcnZhbC5zdWJzY3JpYmUoKTtcbiAqIC8vICdyZWZDb3VudCAwJyAtLS0tLT4gJ3JlZkNvdW50IDEnIC0tLS0tPiBldGNcbiAqIC8vIEFsbCBzdWJzY3JpcHRpb25zIHdpbGwgcmVjZWl2ZSB0aGUgc2FtZSB2YWx1ZSBhbmQgdGhlIHRhcCAoYW5kXG4gKiAvLyBldmVyeSBvdGhlciBvcGVyYXRvcikgYmVmb3JlIHRoZSBgcHVibGlzaGAgb3BlcmF0b3Igd2lsbCBiZSBleGVjdXRlZFxuICogLy8gb25seSBvbmNlIHBlciBldmVudCBpbmRlcGVuZGVudGx5IG9mIHRoZSBudW1iZXIgb2Ygc3Vic2NyaXB0aW9ucy5cbiAqXG4gKiBwdWJsaXNoZWRJbnRlcnZhbC5zdWJzY3JpYmUoKTtcbiAqIC8vIE5vdGhpbmcgaGFwcGVucyB1bnRpbCB5b3UgY2FsbCAuY29ubmVjdCgpIG9uIHRoZSBvYnNlcnZhYmxlLlxuICogYGBgXG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgYXV0b21hdGVzIHRoZSBjb25uZWN0aW9uXG4gKiB0byBDb25uZWN0YWJsZU9ic2VydmFibGUuXG4gKiBAc2VlIHtAbGluayBDb25uZWN0YWJsZU9ic2VydmFibGV9XG4gKiBAc2VlIHtAbGluayBzaGFyZX1cbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2h9XG4gKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHRoZSB7QGxpbmsgc2hhcmV9IG9wZXJhdG9yLiBIb3cgYHNoYXJlYCBpcyB1c2VkXG4gKiB3aWxsIGRlcGVuZCBvbiB0aGUgY29ubmVjdGFibGUgb2JzZXJ2YWJsZSB5b3UgY3JlYXRlZCBqdXN0IHByaW9yIHRvIHRoZVxuICogYHJlZkNvdW50YCBvcGVyYXRvci5cbiAqIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL211bHRpY2FzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmQ291bnQ8VD4oKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBjb25uZWN0aW9uOiBTdWJzY3JpcHRpb24gfCBudWxsID0gbnVsbDtcblxuICAgIChzb3VyY2UgYXMgYW55KS5fcmVmQ291bnQrKztcblxuICAgIGNvbnN0IHJlZkNvdW50ZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKCkgPT4ge1xuICAgICAgaWYgKCFzb3VyY2UgfHwgKHNvdXJjZSBhcyBhbnkpLl9yZWZDb3VudCA8PSAwIHx8IDAgPCAtLShzb3VyY2UgYXMgYW55KS5fcmVmQ291bnQpIHtcbiAgICAgICAgY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8vXG4gICAgICAvLyBDb21wYXJlIHRoZSBsb2NhbCBSZWZDb3VudFN1YnNjcmliZXIncyBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiB0byB0aGVcbiAgICAgIC8vIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uIG9uIHRoZSBzaGFyZWQgQ29ubmVjdGFibGVPYnNlcnZhYmxlLiBJbiBjYXNlc1xuICAgICAgLy8gd2hlcmUgdGhlIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSBzb3VyY2Ugc3luY2hyb25vdXNseSBlbWl0cyB2YWx1ZXMsIGFuZFxuICAgICAgLy8gdGhlIFJlZkNvdW50U3Vic2NyaWJlcidzIGRvd25zdHJlYW0gT2JzZXJ2ZXJzIHN5bmNocm9ub3VzbHkgdW5zdWJzY3JpYmUsXG4gICAgICAvLyBleGVjdXRpb24gY29udGludWVzIHRvIGhlcmUgYmVmb3JlIHRoZSBSZWZDb3VudE9wZXJhdG9yIGhhcyBhIGNoYW5jZSB0b1xuICAgICAgLy8gc3VwcGx5IHRoZSBSZWZDb3VudFN1YnNjcmliZXIgd2l0aCB0aGUgc2hhcmVkIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uLlxuICAgICAgLy8gRm9yIGV4YW1wbGU6XG4gICAgICAvLyBgYGBcbiAgICAgIC8vIHJhbmdlKDAsIDEwKS5waXBlKFxuICAgICAgLy8gICBwdWJsaXNoKCksXG4gICAgICAvLyAgIHJlZkNvdW50KCksXG4gICAgICAvLyAgIHRha2UoNSksXG4gICAgICAvLyApXG4gICAgICAvLyAuc3Vic2NyaWJlKCk7XG4gICAgICAvLyBgYGBcbiAgICAgIC8vIEluIG9yZGVyIHRvIGFjY291bnQgZm9yIHRoaXMgY2FzZSwgUmVmQ291bnRTdWJzY3JpYmVyIHNob3VsZCBvbmx5IGRpc3Bvc2VcbiAgICAgIC8vIHRoZSBDb25uZWN0YWJsZU9ic2VydmFibGUncyBzaGFyZWQgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gaWYgdGhlXG4gICAgICAvLyBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiBleGlzdHMsICphbmQqIGVpdGhlcjpcbiAgICAgIC8vICAgYS4gUmVmQ291bnRTdWJzY3JpYmVyIGRvZXNuJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgc2hhcmVkIGNvbm5lY3Rpb25cbiAgICAgIC8vICAgICAgU3Vic2NyaXB0aW9uIHlldCwgb3IsXG4gICAgICAvLyAgIGIuIFJlZkNvdW50U3Vic2NyaWJlcidzIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uIHJlZmVyZW5jZSBpcyBpZGVudGljYWxcbiAgICAgIC8vICAgICAgdG8gdGhlIHNoYXJlZCBjb25uZWN0aW9uIFN1YnNjcmlwdGlvblxuICAgICAgLy8vXG5cbiAgICAgIGNvbnN0IHNoYXJlZENvbm5lY3Rpb24gPSAoc291cmNlIGFzIGFueSkuX2Nvbm5lY3Rpb247XG4gICAgICBjb25zdCBjb25uID0gY29ubmVjdGlvbjtcbiAgICAgIGNvbm5lY3Rpb24gPSBudWxsO1xuXG4gICAgICBpZiAoc2hhcmVkQ29ubmVjdGlvbiAmJiAoIWNvbm4gfHwgc2hhcmVkQ29ubmVjdGlvbiA9PT0gY29ubikpIHtcbiAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuXG4gICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfSk7XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKHJlZkNvdW50ZXIpO1xuXG4gICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgY29ubmVjdGlvbiA9IChzb3VyY2UgYXMgQ29ubmVjdGFibGVPYnNlcnZhYmxlPFQ+KS5jb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4uL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aW1lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVwZWF0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzb3VyY2UuIERlZmF1bHRzIHRvIGBJbmZpbml0eWAuXG4gICAqL1xuICBjb3VudD86IG51bWJlcjtcblxuICAvKipcbiAgICogSWYgYSBgbnVtYmVyYCwgd2lsbCBkZWxheSB0aGUgcmVwZWF0IG9mIHRoZSBzb3VyY2UgYnkgdGhhdCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxuICAgKiBJZiBhIGZ1bmN0aW9uLCBpdCB3aWxsIHByb3ZpZGUgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgc291cmNlIGhhcyBiZWVuIHN1YnNjcmliZWQgdG8sXG4gICAqIGFuZCB0aGUgcmV0dXJuIHZhbHVlIHNob3VsZCBiZSBhIHZhbGlkIG9ic2VydmFibGUgaW5wdXQgdGhhdCB3aWxsIG5vdGlmeSB3aGVuIHRoZSBzb3VyY2VcbiAgICogc2hvdWxkIGJlIHJlcGVhdGVkLiBJZiB0aGUgbm90aWZpZXIgb2JzZXJ2YWJsZSBpcyBlbXB0eSwgdGhlIHJlc3VsdCB3aWxsIGNvbXBsZXRlLlxuICAgKi9cbiAgZGVsYXk/OiBudW1iZXIgfCAoKGNvdW50OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZSBzb3VyY2Ugc3RyZWFtIHdoZW4gdGhlIHNvdXJjZSBzdHJlYW0gY29tcGxldGVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5SZXBlYXRzIGFsbCB2YWx1ZXMgZW1pdHRlZCBvbiB0aGUgc291cmNlLiBJdCdzIGxpa2Uge0BsaW5rIHJldHJ5fSwgYnV0IGZvciBub24gZXJyb3IgY2FzZXMuPC9zcGFuPlxuICpcbiAqICFbXShyZXBlYXQucG5nKVxuICpcbiAqIFJlcGVhdCB3aWxsIG91dHB1dCB2YWx1ZXMgZnJvbSBhIHNvdXJjZSB1bnRpbCB0aGUgc291cmNlIGNvbXBsZXRlcywgdGhlbiBpdCB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZVxuICogc291cmNlIGEgc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcywgd2l0aCBhIHNwZWNpZmllZCBkZWxheS4gUmVwZWF0IGNhbiBiZSBwYXJ0aWN1bGFybHkgdXNlZnVsIGluXG4gKiBjb21iaW5hdGlvbiB3aXRoIGNsb3Npbmcgb3BlcmF0b3JzIGxpa2Uge0BsaW5rIHRha2V9LCB7QGxpbmsgdGFrZVVudGlsfSwge0BsaW5rIGZpcnN0fSwgb3Ige0BsaW5rIHRha2VXaGlsZX0sXG4gKiBhcyBpdCBjYW4gYmUgdXNlZCB0byByZXN0YXJ0IGEgc291cmNlIGFnYWluIGZyb20gc2NyYXRjaC5cbiAqXG4gKiBSZXBlYXQgaXMgdmVyeSBzaW1pbGFyIHRvIHtAbGluayByZXRyeX0sIHdoZXJlIHtAbGluayByZXRyeX0gd2lsbCByZXN1YnNjcmliZSB0byB0aGUgc291cmNlIGluIHRoZSBlcnJvciBjYXNlLCBidXRcbiAqIGByZXBlYXRgIHdpbGwgcmVzdWJzY3JpYmUgaWYgdGhlIHNvdXJjZSBjb21wbGV0ZXMuXG4gKlxuICogTm90ZSB0aGF0IGByZXBlYXRgIHdpbGwgX25vdF8gY2F0Y2ggZXJyb3JzLiBVc2Uge0BsaW5rIHJldHJ5fSBmb3IgdGhhdC5cbiAqXG4gKiAtIGByZXBlYXQoMClgIHJldHVybnMgYW4gZW1wdHkgb2JzZXJ2YWJsZVxuICogLSBgcmVwZWF0KClgIHdpbGwgcmVwZWF0IGZvcmV2ZXJcbiAqIC0gYHJlcGVhdCh7IGRlbGF5OiAyMDAgfSlgIHdpbGwgcmVwZWF0IGZvcmV2ZXIsIHdpdGggYSBkZWxheSBvZiAyMDBtcyBiZXR3ZWVuIHJlcGV0aXRpb25zLlxuICogLSBgcmVwZWF0KHsgY291bnQ6IDIsIGRlbGF5OiA0MDAgfSlgIHdpbGwgcmVwZWF0IHR3aWNlLCB3aXRoIGEgZGVsYXkgb2YgNDAwbXMgYmV0d2VlbiByZXBldGl0aW9ucy5cbiAqIC0gYHJlcGVhdCh7IGRlbGF5OiAoY291bnQpID0+IHRpbWVyKGNvdW50ICogMTAwMCkgfSlgIHdpbGwgcmVwZWF0IGZvcmV2ZXIsIGJ1dCB3aWxsIGhhdmUgYSBkZWxheSB0aGF0IGdyb3dzIGJ5IG9uZSBzZWNvbmQgZm9yIGVhY2ggcmVwZXRpdGlvbi5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogUmVwZWF0IGEgbWVzc2FnZSBzdHJlYW1cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHJlcGVhdCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IG9mKCdSZXBlYXQgbWVzc2FnZScpO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUocmVwZWF0KDMpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHNcbiAqIC8vICdSZXBlYXQgbWVzc2FnZSdcbiAqIC8vICdSZXBlYXQgbWVzc2FnZSdcbiAqIC8vICdSZXBlYXQgbWVzc2FnZSdcbiAqIGBgYFxuICpcbiAqIFJlcGVhdCAzIHZhbHVlcywgMiB0aW1lc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgcmVwZWF0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZSh0YWtlKDMpLCByZXBlYXQoMikpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBldmVyeSBzZWNvbmRcbiAqIC8vIDBcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDBcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIGBgYFxuICpcbiAqIERlZmluaW5nIHR3byBjb21wbGV4IHJlcGVhdHMgd2l0aCBkZWxheXMgb24gdGhlIHNhbWUgc291cmNlLlxuICogTm90ZSB0aGF0IHRoZSBzZWNvbmQgcmVwZWF0IGNhbm5vdCBiZSBjYWxsZWQgdW50aWwgdGhlIGZpcnN0XG4gKiByZXBlYXQgYXMgZXhoYXVzdGVkIGl0J3MgY291bnQuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGRlZmVyLCBvZiwgcmVwZWF0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gZGVmZXIoKCkgPT4ge1xuICogICAgcmV0dXJuIG9mKGBIZWxsbywgaXQgaXMgJHtuZXcgRGF0ZSgpfWApXG4gKiB9KTtcbiAqXG4gKiBzb3VyY2UucGlwZShcbiAqICAgIC8vIFJlcGVhdCAzIHRpbWVzIHdpdGggYSBkZWxheSBvZiAxIHNlY29uZCBiZXR3ZWVuIHJlcGV0aXRpb25zXG4gKiAgICByZXBlYXQoe1xuICogICAgICBjb3VudDogMyxcbiAqICAgICAgZGVsYXk6IDEwMDAsXG4gKiAgICB9KSxcbiAqXG4gKiAgICAvLyAqVGhlbiogcmVwZWF0IGZvcmV2ZXIsIGJ1dCB3aXRoIGFuIGV4cG9uZW50aWFsIHN0ZXAtYmFja1xuICogICAgLy8gbWF4aW5nIG91dCBhdCAxIG1pbnV0ZS5cbiAqICAgIHJlcGVhdCh7XG4gKiAgICAgIGRlbGF5OiAoY291bnQpID0+IHRpbWVyKE1hdGgubWluKDYwMDAwLCAyIF4gY291bnQgKiAxMDAwKSlcbiAqICAgIH0pXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayByZXBlYXRXaGVufVxuICogQHNlZSB7QGxpbmsgcmV0cnl9XG4gKlxuICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGl0ZW1zIGFyZSByZXBlYXRlZCwgYSBjb3VudCBvZiAwIHdpbGwgeWllbGRcbiAqIGFuIGVtcHR5IE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQ8VD4oY291bnRPckNvbmZpZz86IG51bWJlciB8IFJlcGVhdENvbmZpZyk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGxldCBjb3VudCA9IEluZmluaXR5O1xuICBsZXQgZGVsYXk6IFJlcGVhdENvbmZpZ1snZGVsYXknXTtcblxuICBpZiAoY291bnRPckNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBjb3VudE9yQ29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgKHsgY291bnQgPSBJbmZpbml0eSwgZGVsYXkgfSA9IGNvdW50T3JDb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IGNvdW50T3JDb25maWc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICA/ICgpID0+IEVNUFRZXG4gICAgOiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgbGV0IHNvRmFyID0gMDtcbiAgICAgICAgbGV0IHNvdXJjZVN1YjogU3Vic2NyaXB0aW9uIHwgbnVsbDtcblxuICAgICAgICBjb25zdCByZXN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgICAgICBzb3VyY2VTdWI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgc291cmNlU3ViID0gbnVsbDtcbiAgICAgICAgICBpZiAoZGVsYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSB0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInID8gdGltZXIoZGVsYXkpIDogaW5uZXJGcm9tKGRlbGF5KHNvRmFyKSk7XG4gICAgICAgICAgICBjb25zdCBub3RpZmllclN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKCkgPT4ge1xuICAgICAgICAgICAgICBub3RpZmllclN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlVG9Tb3VyY2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKG5vdGlmaWVyU3Vic2NyaWJlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmliZVRvU291cmNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHN1YnNjcmliZVRvU291cmNlID0gKCkgPT4ge1xuICAgICAgICAgIGxldCBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICBzb3VyY2VTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoKytzb0ZhciA8IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVN1Yikge1xuICAgICAgICAgICAgICAgICAgcmVzdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc3luY1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICByZXN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzdWJzY3JpYmVUb1NvdXJjZSgpO1xuICAgICAgfSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuXG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBhIGBjb21wbGV0ZWAuIElmIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUgY2FsbHMgYGNvbXBsZXRlYCwgdGhpcyBtZXRob2Qgd2lsbCBlbWl0IHRvIHRoZSBPYnNlcnZhYmxlIHJldHVybmVkIGZyb20gYG5vdGlmaWVyYC4gSWYgdGhhdCBPYnNlcnZhYmxlXG4gKiBjYWxscyBgY29tcGxldGVgIG9yIGBlcnJvcmAsIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCBjYWxsIGBjb21wbGV0ZWAgb3IgYGVycm9yYCBvbiB0aGUgY2hpbGQgc3Vic2NyaXB0aW9uLiBPdGhlcndpc2VcbiAqIHRoaXMgbWV0aG9kIHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqICFbXShyZXBlYXRXaGVuLnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogUmVwZWF0IGEgbWVzc2FnZSBzdHJlYW0gb24gY2xpY2tcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGZyb21FdmVudCwgcmVwZWF0V2hlbiB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IG9mKCdSZXBlYXQgbWVzc2FnZScpO1xuICogY29uc3QgZG9jdW1lbnRDbGljayQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKHJlcGVhdFdoZW4oKCkgPT4gZG9jdW1lbnRDbGljayQpKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayByZXBlYXR9XG4gKiBAc2VlIHtAbGluayByZXRyeX1cbiAqIEBzZWUge0BsaW5rIHJldHJ5V2hlbn1cbiAqXG4gKiBAcGFyYW0gbm90aWZpZXIgRnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhbiBPYnNlcnZhYmxlIG9mIG5vdGlmaWNhdGlvbnMgd2l0aFxuICogd2hpY2ggYSB1c2VyIGNhbiBgY29tcGxldGVgIG9yIGBlcnJvcmAsIGFib3J0aW5nIHRoZSByZXBldGl0aW9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBgT2JzZXJ2YWJsZUlucHV0YCB0aGF0IG1pcnJvcnMgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSB3aXRoIHRoZSBleGNlcHRpb24gb2YgYSBgY29tcGxldGVgLlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY5IG9yIHYxMC4gVXNlIHtAbGluayByZXBlYXR9J3Mge0BsaW5rIFJlcGVhdENvbmZpZyNkZWxheSBkZWxheX0gb3B0aW9uIGluc3RlYWQuXG4gKiBJbnN0ZWFkIG9mIGByZXBlYXRXaGVuKCgpID0+IG5vdGlmeSQpYCwgdXNlOiBgcmVwZWF0KHsgZGVsYXk6ICgpID0+IG5vdGlmeSQgfSlgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0V2hlbjxUPihub3RpZmllcjogKG5vdGlmaWNhdGlvbnM6IE9ic2VydmFibGU8dm9pZD4pID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBpbm5lclN1YjogU3Vic2NyaXB0aW9uIHwgbnVsbDtcbiAgICBsZXQgc3luY1Jlc3ViID0gZmFsc2U7XG4gICAgbGV0IGNvbXBsZXRpb25zJDogU3ViamVjdDx2b2lkPjtcbiAgICBsZXQgaXNOb3RpZmllckNvbXBsZXRlID0gZmFsc2U7XG4gICAgbGV0IGlzTWFpbkNvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSB0aGUgcmVzdWx0LCBjb21wbGV0ZXMgaXQsIGFuZCByZXR1cm5zIGB0cnVlYCBpZiBpdCB3YXMgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGNvbnN0IGNoZWNrQ29tcGxldGUgPSAoKSA9PiBpc01haW5Db21wbGV0ZSAmJiBpc05vdGlmaWVyQ29tcGxldGUgJiYgKHN1YnNjcmliZXIuY29tcGxldGUoKSwgdHJ1ZSk7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3ViamVjdCB0byBzZW5kIGVycm9ycyB0aHJvdWdoLiBJZiBpdCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIHdlIGtub3cgd2UgbmVlZCB0byBzZXR1cCB0aGUgbm90aWZpZXIuXG4gICAgICovXG4gICAgY29uc3QgZ2V0Q29tcGxldGlvblN1YmplY3QgPSAoKSA9PiB7XG4gICAgICBpZiAoIWNvbXBsZXRpb25zJCkge1xuICAgICAgICBjb21wbGV0aW9ucyQgPSBuZXcgU3ViamVjdCgpO1xuXG4gICAgICAgIC8vIElmIHRoZSBjYWxsIHRvIGBub3RpZmllcmAgdGhyb3dzLCBpdCB3aWxsIGJlIGNhdWdodCBieSB0aGUgT3BlcmF0b3JTdWJzY3JpYmVyXG4gICAgICAgIC8vIEluIHRoZSBtYWluIHN1YnNjcmlwdGlvbiAtLSBpbiBgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbmAuXG4gICAgICAgIGlubmVyRnJvbShub3RpZmllcihjb21wbGV0aW9ucyQpKS5zdWJzY3JpYmUoXG4gICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGlubmVyU3ViKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbigpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gaW5uZXJTdWIgeWV0LCB0aGF0J3MgYmVjYXVzZSB0aGUgaW5uZXIgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBoYXNuJ3QgZXZlbiByZXR1cm5lZCB5ZXQuIFdlJ3ZlIGFycml2ZWQgaGVyZSBzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgICAgIC8vIFNvIHdlIGZsYWcgdGhhdCB3ZSB3YW50IHRvIHJlc3ViLCBzdWNoIHRoYXQgd2UgY2FuIGVuc3VyZSBmaW5hbGl6YXRpb25cbiAgICAgICAgICAgICAgICAvLyBoYXBwZW5zIGJlZm9yZSB3ZSByZXN1YnNjcmliZS5cbiAgICAgICAgICAgICAgICBzeW5jUmVzdWIgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBpc05vdGlmaWVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBsZXRpb25zJDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbiA9ICgpID0+IHtcbiAgICAgIGlzTWFpbkNvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAgIGlubmVyU3ViID0gc291cmNlLnN1YnNjcmliZShcbiAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHVuZGVmaW5lZCwgKCkgPT4ge1xuICAgICAgICAgIGlzTWFpbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgYXJlIGNvbXBsZXRlLCBhbmQgY29tcGxldGUgaWYgc28uXG4gICAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBjb21wbGV0ZS4gR2V0IHRoZSBzdWJqZWN0LiBUaGlzIGNhbGxzIHRoZSBgbm90aWZpZXJgIGZ1bmN0aW9uLlxuICAgICAgICAgIC8vIElmIHRoYXQgZnVuY3Rpb24gZmFpbHMsIGl0IHdpbGwgdGhyb3cgYW5kIGAubmV4dCgpYCB3aWxsIG5vdCBiZSByZWFjaGVkIG9uIHRoaXNcbiAgICAgICAgICAvLyBsaW5lLiBUaGUgdGhyb3duIGVycm9yIGlzIGNhdWdodCBieSB0aGUgX2NvbXBsZXRlIGhhbmRsZXIgaW4gdGhpc1xuICAgICAgICAgIC8vIGBPcGVyYXRvclN1YnNjcmliZXJgIGFuZCBoYW5kbGVkIGFwcHJvcHJpYXRlbHkuXG4gICAgICAgICAgIWNoZWNrQ29tcGxldGUoKSAmJiBnZXRDb21wbGV0aW9uU3ViamVjdCgpLm5leHQoKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGlmIChzeW5jUmVzdWIpIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGlubmVyIHN1YnNjcmlwdGlvbiBpcyB0b3JuIGRvd24gYmVmb3JlXG4gICAgICAgIC8vIG1vdmluZyBvbiB0byB0aGUgbmV4dCBzdWJzY3JpcHRpb24gaW4gdGhlIHN5bmNocm9ub3VzIGNhc2UuXG4gICAgICAgIC8vIElmIHdlIGRvbid0IGRvIHRoaXMgaGVyZSwgYWxsIGlubmVyIHN1YnNjcmlwdGlvbnMgd2lsbCBub3QgYmVcbiAgICAgICAgLy8gdG9ybiBkb3duIHVudGlsIHRoZSBlbnRpcmUgb2JzZXJ2YWJsZSBpcyBkb25lLlxuICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdG8gbnVsbCB0aGlzIG91dC4gTm90IG9ubHkgdG8gZnJlZSB1cCBtZW1vcnksIGJ1dFxuICAgICAgICAvLyB0byBtYWtlIHN1cmUgY29kZSBhYm92ZSBrbm93cyB3ZSBhcmUgaW4gYSBzdWJzY3JpYmluZyBzdGF0ZSB0b1xuICAgICAgICAvLyBoYW5kbGUgc3luY2hyb25vdXMgcmVzdWJzY3JpcHRpb24uXG4gICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgLy8gV2UgbWF5IG5lZWQgdG8gZG8gdGhpcyBtdWx0aXBsZSB0aW1lcywgc28gcmVzZXQgdGhlIGZsYWdzLlxuICAgICAgICBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICAgICAgLy8gUmVzdWJzY3JpYmVcbiAgICAgICAgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTdGFydCB0aGUgc3Vic2NyaXB0aW9uXG4gICAgc3Vic2NyaWJlRm9yUmVwZWF0V2hlbigpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aW1lcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKlxuICogVGhlIHtAbGluayByZXRyeX0gb3BlcmF0b3IgY29uZmlndXJhdGlvbiBvYmplY3QuIGByZXRyeWAgZWl0aGVyIGFjY2VwdHMgYSBgbnVtYmVyYFxuICogb3IgYW4gb2JqZWN0IGRlc2NyaWJlZCBieSB0aGlzIGludGVyZmFjZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXRyeUNvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gcmV0cnkuIElmIGBjb3VudGAgaXMgb21pdHRlZCwgYHJldHJ5YCB3aWxsIHRyeSB0b1xuICAgKiByZXN1YnNjcmliZSBvbiBlcnJvcnMgaW5maW5pdGUgbnVtYmVyIG9mIHRpbWVzLlxuICAgKi9cbiAgY291bnQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBiZWZvcmUgcmV0cnlpbmcsIE9SIGEgZnVuY3Rpb24gdG9cbiAgICogcmV0dXJuIGEgbm90aWZpZXIgZm9yIGRlbGF5aW5nLiBJZiBhIGZ1bmN0aW9uIGlzIGdpdmVuLCB0aGF0IGZ1bmN0aW9uIHNob3VsZFxuICAgKiByZXR1cm4gYSBub3RpZmllciB0aGF0LCB3aGVuIGl0IGVtaXRzIHdpbGwgcmV0cnkgdGhlIHNvdXJjZS4gSWYgdGhlIG5vdGlmaWVyXG4gICAqIGNvbXBsZXRlcyBfd2l0aG91dF8gZW1pdHRpbmcsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIGNvbXBsZXRlIHdpdGhvdXQgZXJyb3IsXG4gICAqIGlmIHRoZSBub3RpZmllciBlcnJvcnMsIHRoZSBlcnJvciB3aWxsIGJlIHB1c2hlZCB0byB0aGUgcmVzdWx0LlxuICAgKi9cbiAgZGVsYXk/OiBudW1iZXIgfCAoKGVycm9yOiBhbnksIHJldHJ5Q291bnQ6IG51bWJlcikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gcmVzZXQgdGhlIHJldHJ5IGNvdW50ZXIgd2hlbiB0aGUgcmV0cmllZCBzdWJzY3JpcHRpb25cbiAgICogZW1pdHMgaXRzIGZpcnN0IHZhbHVlLlxuICAgKi9cbiAgcmVzZXRPblN1Y2Nlc3M/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY291bnQ/OiBudW1iZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY29uZmlnOiBSZXRyeUNvbmZpZyk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIHRoZSBleGNlcHRpb24gb2YgYW4gYGVycm9yYC5cbiAqXG4gKiBJZiB0aGUgc291cmNlIE9ic2VydmFibGUgY2FsbHMgYGVycm9yYCwgdGhpcyBtZXRob2Qgd2lsbCByZXN1YnNjcmliZSB0byB0aGUgc291cmNlIE9ic2VydmFibGUgZm9yIGEgbWF4aW11bSBvZlxuICogYGNvdW50YCByZXN1YnNjcmlwdGlvbnMgcmF0aGVyIHRoYW4gcHJvcGFnYXRpbmcgdGhlIGBlcnJvcmAgY2FsbC5cbiAqXG4gKiAhW10ocmV0cnkucG5nKVxuICpcbiAqIFRoZSBudW1iZXIgb2YgcmV0cmllcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgY291bnRgIHBhcmFtZXRlci4gSXQgY2FuIGJlIHNldCBlaXRoZXIgYnkgcGFzc2luZyBhIG51bWJlciB0b1xuICogYHJldHJ5YCBmdW5jdGlvbiBvciBieSBzZXR0aW5nIGBjb3VudGAgcHJvcGVydHkgd2hlbiBgcmV0cnlgIGlzIGNvbmZpZ3VyZWQgdXNpbmcge0BsaW5rIFJldHJ5Q29uZmlnfS4gSWZcbiAqIGBjb3VudGAgaXMgb21pdHRlZCwgYHJldHJ5YCB3aWxsIHRyeSB0byByZXN1YnNjcmliZSBvbiBlcnJvcnMgaW5maW5pdGUgbnVtYmVyIG9mIHRpbWVzLlxuICpcbiAqIEFueSBhbmQgYWxsIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdpbGwgYmUgZW1pdHRlZCBieSB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUsIGV2ZW4gdGhvc2VcbiAqIGVtaXR0ZWQgZHVyaW5nIGZhaWxlZCBzdWJzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgaWYgYW4gT2JzZXJ2YWJsZSBmYWlscyBhdCBmaXJzdCBidXQgZW1pdHMgYFsxLCAyXWAgdGhlblxuICogc3VjY2VlZHMgdGhlIHNlY29uZCB0aW1lIGFuZCBlbWl0czogYFsxLCAyLCAzLCA0LCA1LCBjb21wbGV0ZV1gIHRoZW4gdGhlIGNvbXBsZXRlIHN0cmVhbSBvZiBlbWlzc2lvbnMgYW5kXG4gKiBub3RpZmljYXRpb25zIHdvdWxkIGJlOiBgWzEsIDIsIDEsIDIsIDMsIDQsIDUsIGNvbXBsZXRlXWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWVyZ2VNYXAsIHRocm93RXJyb3IsIG9mLCByZXRyeSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUoXG4gKiAgIG1lcmdlTWFwKHZhbCA9PiB2YWwgPiA1ID8gdGhyb3dFcnJvcigoKSA9PiAnRXJyb3IhJykgOiBvZih2YWwpKSxcbiAqICAgcmV0cnkoMikgLy8gcmV0cnkgMiB0aW1lcyBvbiBlcnJvclxuICogKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKGAkeyBlcnIgfTogUmV0cmllZCAyIHRpbWVzIHRoZW4gcXVpdCFgKVxuICogfSk7XG4gKlxuICogLy8gT3V0cHV0OlxuICogLy8gMC4uMS4uMi4uMy4uNC4uNS4uXG4gKiAvLyAwLi4xLi4yLi4zLi40Li41Li5cbiAqIC8vIDAuLjEuLjIuLjMuLjQuLjUuLlxuICogLy8gJ0Vycm9yITogUmV0cmllZCAyIHRpbWVzIHRoZW4gcXVpdCEnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayByZXRyeVdoZW59XG4gKlxuICogQHBhcmFtIGNvbmZpZ09yQ291bnQgLSBFaXRoZXIgbnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIGJlZm9yZSBmYWlsaW5nIG9yIGEge0BsaW5rIFJldHJ5Q29uZmlnfSBvYmplY3QuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZVxuICogc291cmNlIHN0cmVhbSB3aGVuIHRoZSBzb3VyY2Ugc3RyZWFtIGVycm9ycywgYXQgbW9zdCBgY291bnRgIHRpbWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY29uZmlnT3JDb3VudDogbnVtYmVyIHwgUmV0cnlDb25maWcgPSBJbmZpbml0eSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGxldCBjb25maWc6IFJldHJ5Q29uZmlnO1xuICBpZiAoY29uZmlnT3JDb3VudCAmJiB0eXBlb2YgY29uZmlnT3JDb3VudCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25maWcgPSBjb25maWdPckNvdW50O1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IHtcbiAgICAgIGNvdW50OiBjb25maWdPckNvdW50IGFzIG51bWJlcixcbiAgICB9O1xuICB9XG4gIGNvbnN0IHsgY291bnQgPSBJbmZpbml0eSwgZGVsYXksIHJlc2V0T25TdWNjZXNzOiByZXNldE9uU3VjY2VzcyA9IGZhbHNlIH0gPSBjb25maWc7XG5cbiAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICA/IGlkZW50aXR5XG4gICAgOiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgbGV0IHNvRmFyID0gMDtcbiAgICAgICAgbGV0IGlubmVyU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVGb3JSZXRyeSA9ICgpID0+IHtcbiAgICAgICAgICBsZXQgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSByZXNldHRpbmcgb24gc3VjY2Vzc1xuICAgICAgICAgICAgICAgIGlmIChyZXNldE9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgc29GYXIgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBDb21wbGV0aW9ucyBhcmUgcGFzc2VkIHRocm91Z2ggdG8gY29uc3VtZXIuXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb0ZhcisrIDwgY291bnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBzdGlsbCB1bmRlciBvdXIgcmV0cnkgY291bnRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3ViID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIHNwZWNpZmllZCBhIHJldHJ5IGRlbGF5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGV5IGdhdmUgdXMgYSBudW1iZXIsIHVzZSBhIHRpbWVyLCBvdGhlcndpc2UsIGl0J3MgYSBmdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHdlJ3JlIGdvaW5nIHRvIGNhbGwgaXQgdG8gZ2V0IGEgbm90aWZpZXIuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyID0gdHlwZW9mIGRlbGF5ID09PSAnbnVtYmVyJyA/IHRpbWVyKGRlbGF5KSA6IGlubmVyRnJvbShkZWxheShlcnIsIHNvRmFyKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHdlIGdldCB0aGUgZmlyc3Qgbm90aWZpY2F0aW9uLCB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5zdWJzY3JpYmUgZnJvbSB0aGUgbm90aWZpZXIsIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2UgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBub3RpZmllciBjb21wbGV0ZWQgd2l0aG91dCBlbWl0dGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBhdXRob3IgaXMgdGVsbGluZyB1cyB0aGV5IHdhbnQgdG8gY29tcGxldGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUobm90aWZpZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdhcyBubyBub3RpZmllciBnaXZlbi4gSnVzdCByZXN1YiBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gV2UncmUgcGFzdCBvdXIgbWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy5cbiAgICAgICAgICAgICAgICAgIC8vIEp1c3Qgc2VuZCBhbG9uZyB0aGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5cbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlIE9ic2VydmFibGUgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGFuIGBlcnJvcmAuIElmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZVxuICogY2FsbHMgYGVycm9yYCwgdGhpcyBtZXRob2Qgd2lsbCBlbWl0IHRoZSBUaHJvd2FibGUgdGhhdCBjYXVzZWQgdGhlIGVycm9yIHRvIHRoZSBgT2JzZXJ2YWJsZUlucHV0YCByZXR1cm5lZCBmcm9tIGBub3RpZmllcmAuXG4gKiBJZiB0aGF0IE9ic2VydmFibGUgY2FsbHMgYGNvbXBsZXRlYCBvciBgZXJyb3JgIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCBjYWxsIGBjb21wbGV0ZWAgb3IgYGVycm9yYCBvbiB0aGUgY2hpbGRcbiAqIHN1YnNjcmlwdGlvbi4gT3RoZXJ3aXNlIHRoaXMgbWV0aG9kIHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICpcbiAqICFbXShyZXRyeVdoZW4ucG5nKVxuICpcbiAqIFJldHJ5IGFuIG9ic2VydmFibGUgc2VxdWVuY2Ugb24gZXJyb3IgYmFzZWQgb24gY3VzdG9tIGNyaXRlcmlhLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIG1hcCwgcmV0cnlXaGVuLCB0YXAsIGRlbGF5V2hlbiwgdGltZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKFxuICogICBtYXAodmFsdWUgPT4ge1xuICogICAgIGlmICh2YWx1ZSA+IDUpIHtcbiAqICAgICAgIC8vIGVycm9yIHdpbGwgYmUgcGlja2VkIHVwIGJ5IHJldHJ5V2hlblxuICogICAgICAgdGhyb3cgdmFsdWU7XG4gKiAgICAgfVxuICogICAgIHJldHVybiB2YWx1ZTtcbiAqICAgfSksXG4gKiAgIHJldHJ5V2hlbihlcnJvcnMgPT5cbiAqICAgICBlcnJvcnMucGlwZShcbiAqICAgICAgIC8vIGxvZyBlcnJvciBtZXNzYWdlXG4gKiAgICAgICB0YXAodmFsdWUgPT4gY29uc29sZS5sb2coYFZhbHVlICR7IHZhbHVlIH0gd2FzIHRvbyBoaWdoIWApKSxcbiAqICAgICAgIC8vIHJlc3RhcnQgaW4gNSBzZWNvbmRzXG4gKiAgICAgICBkZWxheVdoZW4odmFsdWUgPT4gdGltZXIodmFsdWUgKiAxMDAwKSlcbiAqICAgICApXG4gKiAgIClcbiAqICk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICpcbiAqIC8vIHJlc3VsdHM6XG4gKiAvLyAwXG4gKiAvLyAxXG4gKiAvLyAyXG4gKiAvLyAzXG4gKiAvLyA0XG4gKiAvLyA1XG4gKiAvLyAnVmFsdWUgNiB3YXMgdG9vIGhpZ2ghJ1xuICogLy8gLSBXYWl0IDUgc2Vjb25kcyB0aGVuIHJlcGVhdFxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgcmV0cnl9XG4gKlxuICogQHBhcmFtIG5vdGlmaWVyIEZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYW4gT2JzZXJ2YWJsZSBvZiBub3RpZmljYXRpb25zIHdpdGggd2hpY2ggYVxuICogdXNlciBjYW4gYGNvbXBsZXRlYCBvciBgZXJyb3JgLCBhYm9ydGluZyB0aGUgcmV0cnkuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGBPYnNlcnZhYmxlSW5wdXRgIHRoYXQgbWlycm9ycyB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBhbiBgZXJyb3JgLlxuICogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY5IG9yIHYxMCwgdXNlIHtAbGluayByZXRyeX0ncyBgZGVsYXlgIG9wdGlvbiBpbnN0ZWFkLlxuICogV2lsbCBiZSByZW1vdmVkIGluIHY5IG9yIHYxMC4gVXNlIHtAbGluayByZXRyeX0ncyB7QGxpbmsgUmV0cnlDb25maWcjZGVsYXkgZGVsYXl9IG9wdGlvbiBpbnN0ZWFkLlxuICogSW5zdGVhZCBvZiBgcmV0cnlXaGVuKCgpID0+IG5vdGlmeSQpYCwgdXNlOiBgcmV0cnkoeyBkZWxheTogKCkgPT4gbm90aWZ5JCB9KWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXRyeVdoZW48VD4obm90aWZpZXI6IChlcnJvcnM6IE9ic2VydmFibGU8YW55PikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGlubmVyU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICAgIGxldCBzeW5jUmVzdWIgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JzJDogU3ViamVjdDxhbnk+O1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlRm9yUmV0cnlXaGVuID0gKCkgPT4ge1xuICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIChlcnIpID0+IHtcbiAgICAgICAgICBpZiAoIWVycm9ycyQpIHtcbiAgICAgICAgICAgIGVycm9ycyQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgaW5uZXJGcm9tKG5vdGlmaWVyKGVycm9ycyQpKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCAoKSA9PlxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gaW5uZXJTdWIsIHRoaXMgd2FzIGFuIGFzeW5jaHJvbm91cyBjYWxsLCBraWNrIG9mZiB0aGUgcmV0cnkuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpZiB3ZSBkb24ndCBoYXZlIGFuIGlubmVyU3ViIHlldCwgdGhhdCdzIGJlY2F1c2UgdGhlIGlubmVyIHN1YnNjcmlwdGlvblxuICAgICAgICAgICAgICAgIC8vIGNhbGwgaGFzbid0IGV2ZW4gcmV0dXJuZWQgeWV0LiBXZSd2ZSBhcnJpdmVkIGhlcmUgc3luY2hyb25vdXNseS5cbiAgICAgICAgICAgICAgICAvLyBTbyB3ZSBmbGFnIHRoYXQgd2Ugd2FudCB0byByZXN1Yiwgc3VjaCB0aGF0IHdlIGNhbiBlbnN1cmUgZmluYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgLy8gaGFwcGVucyBiZWZvcmUgd2UgcmVzdWJzY3JpYmUuXG4gICAgICAgICAgICAgICAgaW5uZXJTdWIgPyBzdWJzY3JpYmVGb3JSZXRyeVdoZW4oKSA6IChzeW5jUmVzdWIgPSB0cnVlKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXJyb3JzJCkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBzZXQgdXAgdGhlIG5vdGlmaWVyIHdpdGhvdXQgZXJyb3IuXG4gICAgICAgICAgICBlcnJvcnMkLm5leHQoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpZiAoc3luY1Jlc3ViKSB7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBpbm5lciBzdWJzY3JpcHRpb24gaXMgdG9ybiBkb3duIGJlZm9yZVxuICAgICAgICAvLyBtb3Zpbmcgb24gdG8gdGhlIG5leHQgc3Vic2NyaXB0aW9uIGluIHRoZSBzeW5jaHJvbm91cyBjYXNlLlxuICAgICAgICAvLyBJZiB3ZSBkb24ndCBkbyB0aGlzIGhlcmUsIGFsbCBpbm5lciBzdWJzY3JpcHRpb25zIHdpbGwgbm90IGJlXG4gICAgICAgIC8vIHRvcm4gZG93biB1bnRpbCB0aGUgZW50aXJlIG9ic2VydmFibGUgaXMgZG9uZS5cbiAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAvLyBXZSBtYXkgbmVlZCB0byBkbyB0aGlzIG11bHRpcGxlIHRpbWVzLCBzbyByZXNldCB0aGUgZmxhZy5cbiAgICAgICAgc3luY1Jlc3ViID0gZmFsc2U7XG4gICAgICAgIC8vIFJlc3Vic2NyaWJlXG4gICAgICAgIHN1YnNjcmliZUZvclJldHJ5V2hlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTdGFydCB0aGUgc3Vic2NyaXB0aW9uXG4gICAgc3Vic2NyaWJlRm9yUmV0cnlXaGVuKCk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZhYmxlSW5wdXQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEVtaXRzIHRoZSBtb3N0IHJlY2VudGx5IGVtaXR0ZWQgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgd2hlbmV2ZXJcbiAqIGFub3RoZXIgT2JzZXJ2YWJsZSwgdGhlIGBub3RpZmllcmAsIGVtaXRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIHNhbXBsZVRpbWV9LCBidXQgc2FtcGxlcyB3aGVuZXZlclxuICogdGhlIGBub3RpZmllcmAgYE9ic2VydmFibGVJbnB1dGAgZW1pdHMgc29tZXRoaW5nLjwvc3Bhbj5cbiAqXG4gKiAhW10oc2FtcGxlLnBuZylcbiAqXG4gKiBXaGVuZXZlciB0aGUgYG5vdGlmaWVyYCBgT2JzZXJ2YWJsZUlucHV0YCBlbWl0cyBhIHZhbHVlLCBgc2FtcGxlYFxuICogbG9va3MgYXQgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFuZCBlbWl0cyB3aGljaGV2ZXIgdmFsdWUgaXQgaGFzIG1vc3QgcmVjZW50bHlcbiAqIGVtaXR0ZWQgc2luY2UgdGhlIHByZXZpb3VzIHNhbXBsaW5nLCB1bmxlc3MgdGhlIHNvdXJjZSBoYXMgbm90IGVtaXR0ZWRcbiAqIGFueXRoaW5nIHNpbmNlIHRoZSBwcmV2aW91cyBzYW1wbGluZy4gVGhlIGBub3RpZmllcmAgaXMgc3Vic2NyaWJlZCB0byBhcyBzb29uXG4gKiBhcyB0aGUgb3V0cHV0IE9ic2VydmFibGUgaXMgc3Vic2NyaWJlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogT24gZXZlcnkgY2xpY2ssIHNhbXBsZSB0aGUgbW9zdCByZWNlbnQgYHNlY29uZHNgIHRpbWVyXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgaW50ZXJ2YWwsIHNhbXBsZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNlY29uZHMgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBzZWNvbmRzLnBpcGUoc2FtcGxlKGNsaWNrcykpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBhdWRpdH1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlfVxuICogQHNlZSB7QGxpbmsgc2FtcGxlVGltZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlfVxuICpcbiAqIEBwYXJhbSBub3RpZmllciBUaGUgYE9ic2VydmFibGVJbnB1dGAgdG8gdXNlIGZvciBzYW1wbGluZyB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHJlc3VsdHMgb2ZcbiAqIHNhbXBsaW5nIHRoZSB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgd2hlbmV2ZXIgdGhlIG5vdGlmaWVyXG4gKiBPYnNlcnZhYmxlIGVtaXRzIHZhbHVlIG9yIGNvbXBsZXRlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbXBsZTxUPihub3RpZmllcjogT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgbGV0IGxhc3RWYWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICB9KVxuICAgICk7XG4gICAgaW5uZXJGcm9tKG5vdGlmaWVyKS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxhc3RWYWx1ZSE7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG5vb3BcbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHNhbXBsZSB9IGZyb20gJy4vc2FtcGxlJztcbmltcG9ydCB7IGludGVydmFsIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbnRlcnZhbCc7XG5cbi8qKlxuICogRW1pdHMgdGhlIG1vc3QgcmVjZW50bHkgZW1pdHRlZCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoaW5cbiAqIHBlcmlvZGljIHRpbWUgaW50ZXJ2YWxzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5TYW1wbGVzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhdCBwZXJpb2RpYyB0aW1lXG4gKiBpbnRlcnZhbHMsIGVtaXR0aW5nIHdoYXQgaXQgc2FtcGxlcy48L3NwYW4+XG4gKlxuICogIVtdKHNhbXBsZVRpbWUucG5nKVxuICpcbiAqIGBzYW1wbGVUaW1lYCBwZXJpb2RpY2FsbHkgbG9va3MgYXQgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFuZCBlbWl0cyB3aGljaGV2ZXJcbiAqIHZhbHVlIGl0IGhhcyBtb3N0IHJlY2VudGx5IGVtaXR0ZWQgc2luY2UgdGhlIHByZXZpb3VzIHNhbXBsaW5nLCB1bmxlc3MgdGhlXG4gKiBzb3VyY2UgaGFzIG5vdCBlbWl0dGVkIGFueXRoaW5nIHNpbmNlIHRoZSBwcmV2aW91cyBzYW1wbGluZy4gVGhlIHNhbXBsaW5nXG4gKiBoYXBwZW5zIHBlcmlvZGljYWxseSBpbiB0aW1lIGV2ZXJ5IGBwZXJpb2RgIG1pbGxpc2Vjb25kcyAob3IgdGhlIHRpbWUgdW5pdFxuICogZGVmaW5lZCBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmAgYXJndW1lbnQpLiBUaGUgc2FtcGxpbmcgc3RhcnRzIGFzIHNvb24gYXNcbiAqIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFdmVyeSBzZWNvbmQsIGVtaXQgdGhlIG1vc3QgcmVjZW50IGNsaWNrIGF0IG1vc3Qgb25jZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHNhbXBsZVRpbWUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoc2FtcGxlVGltZSgxMDAwKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGF1ZGl0VGltZX1cbiAqIEBzZWUge0BsaW5rIGRlYm91bmNlVGltZX1cbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxuICogQHNlZSB7QGxpbmsgc2FtcGxlfVxuICogQHNlZSB7QGxpbmsgdGhyb3R0bGVUaW1lfVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwZXJpb2QgVGhlIHNhbXBsaW5nIHBlcmlvZCBleHByZXNzZWQgaW4gbWlsbGlzZWNvbmRzIG9yIHRoZVxuICogdGltZSB1bml0IGRldGVybWluZWQgaW50ZXJuYWxseSBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmAuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9YXN5bmNdIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvclxuICogbWFuYWdpbmcgdGhlIHRpbWVycyB0aGF0IGhhbmRsZSB0aGUgc2FtcGxpbmcuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0cyBvZlxuICogc2FtcGxpbmcgdGhlIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhdCB0aGUgc3BlY2lmaWVkIHRpbWVcbiAqIGludGVydmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FtcGxlVGltZTxUPihwZXJpb2Q6IG51bWJlciwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlID0gYXN5bmNTY2hlZHVsZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gc2FtcGxlKGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSk7XG59XG4iLCJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBzY2FuSW50ZXJuYWxzIH0gZnJvbSAnLi9zY2FuSW50ZXJuYWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNjYW48ViwgQSA9IFY+KGFjY3VtdWxhdG9yOiAoYWNjOiBBIHwgViwgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFYsIFYgfCBBPjtcbmV4cG9ydCBmdW5jdGlvbiBzY2FuPFYsIEE+KGFjY3VtdWxhdG9yOiAoYWNjOiBBLCB2YWx1ZTogViwgaW5kZXg6IG51bWJlcikgPT4gQSwgc2VlZDogQSk6IE9wZXJhdG9yRnVuY3Rpb248ViwgQT47XG5leHBvcnQgZnVuY3Rpb24gc2NhbjxWLCBBLCBTPihhY2N1bXVsYXRvcjogKGFjYzogQSB8IFMsIHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBBLCBzZWVkOiBTKTogT3BlcmF0b3JGdW5jdGlvbjxWLCBBPjtcblxuLy8gVE9ETzogbGluayB0byBhIFwicmVkdXggcGF0dGVyblwiIHNlY3Rpb24gaW4gdGhlIGd1aWRlIChsb2NhdGlvbiBUQkQpXG5cbi8qKlxuICogVXNlZnVsIGZvciBlbmNhcHN1bGF0aW5nIGFuZCBtYW5hZ2luZyBzdGF0ZS4gQXBwbGllcyBhbiBhY2N1bXVsYXRvciAob3IgXCJyZWR1Y2VyIGZ1bmN0aW9uXCIpXG4gKiB0byBlYWNoIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBhZnRlciBhbiBpbml0aWFsIHN0YXRlIGlzIGVzdGFibGlzaGVkIC0tIGVpdGhlciB2aWFcbiAqIGEgYHNlZWRgIHZhbHVlIChzZWNvbmQgYXJndW1lbnQpLCBvciBmcm9tIHRoZSBmaXJzdCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgcmVkdWNlfSwgYnV0IGVtaXRzIHRoZSBjdXJyZW50XG4gKiBhY2N1bXVsYXRpb24gc3RhdGUgYWZ0ZXIgZWFjaCB1cGRhdGU8L3NwYW4+XG4gKlxuICogIVtdKHNjYW4ucG5nKVxuICpcbiAqIFRoaXMgb3BlcmF0b3IgbWFpbnRhaW5zIGFuIGludGVybmFsIHN0YXRlIGFuZCBlbWl0cyBpdCBhZnRlciBwcm9jZXNzaW5nIGVhY2ggdmFsdWUgYXMgZm9sbG93czpcbiAqXG4gKiAxLiBGaXJzdCB2YWx1ZSBhcnJpdmVzXG4gKiAgIC0gSWYgYSBgc2VlZGAgdmFsdWUgd2FzIHN1cHBsaWVkIChhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIGBzY2FuYCksIGxldCBgc3RhdGUgPSBzZWVkYCBhbmQgYHZhbHVlID0gZmlyc3RWYWx1ZWAuXG4gKiAgIC0gSWYgTk8gYHNlZWRgIHZhbHVlIHdhcyBzdXBwbGllZCAobm8gc2Vjb25kIGFyZ3VtZW50KSwgbGV0IGBzdGF0ZSA9IGZpcnN0VmFsdWVgIGFuZCBnbyB0byAzLlxuICogMi4gTGV0IGBzdGF0ZSA9IGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSlgLlxuICogICAtIElmIGFuIGVycm9yIGlzIHRocm93biBieSBgYWNjdW11bGF0b3JgLCBub3RpZnkgdGhlIGNvbnN1bWVyIG9mIGFuIGVycm9yLiBUaGUgcHJvY2VzcyBlbmRzLlxuICogMy4gRW1pdCBgc3RhdGVgLlxuICogNC4gTmV4dCB2YWx1ZSBhcnJpdmVzLCBsZXQgYHZhbHVlID0gbmV4dFZhbHVlYCwgZ28gdG8gMi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEFuIGF2ZXJhZ2Ugb2YgcHJldmlvdXMgbnVtYmVycy4gVGhpcyBleGFtcGxlIHNob3dzIGhvd1xuICogbm90IHByb3ZpZGluZyBhIGBzZWVkYCBjYW4gcHJpbWUgdGhlIHN0cmVhbSB3aXRoIHRoZVxuICogZmlyc3QgdmFsdWUgZnJvbSB0aGUgc291cmNlLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgc2NhbiwgbWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgbnVtYmVycyQgPSBvZigxLCAyLCAzKTtcbiAqXG4gKiBudW1iZXJzJFxuICogICAucGlwZShcbiAqICAgICAvLyBHZXQgdGhlIHN1bSBvZiB0aGUgbnVtYmVycyBjb21pbmcgaW4uXG4gKiAgICAgc2NhbigodG90YWwsIG4pID0+IHRvdGFsICsgbiksXG4gKiAgICAgLy8gR2V0IHRoZSBhdmVyYWdlIGJ5IGRpdmlkaW5nIHRoZSBzdW0gYnkgdGhlIHRvdGFsIG51bWJlclxuICogICAgIC8vIHJlY2VpdmVkIHNvIGZhciAod2hpY2ggaXMgMSBtb3JlIHRoYW4gdGhlIHplcm8tYmFzZWQgaW5kZXgpLlxuICogICAgIG1hcCgoc3VtLCBpbmRleCkgPT4gc3VtIC8gKGluZGV4ICsgMSkpXG4gKiAgIClcbiAqICAgLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgRmlib25hY2NpIHNlcXVlbmNlLiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHlvdSBjYW4gdXNlXG4gKiBhIHNlZWQgdG8gcHJpbWUgYWNjdW11bGF0aW9uIHByb2Nlc3MuIEFsc28uLi4geW91IGtub3cuLi4gRmlib25hY2NpLlxuICogU28gaW1wb3J0YW50IHRvIGxpa2UsIGNvbXB1dGVycyBhbmQgc3R1ZmYgdGhhdCBpdHMgd2hpdGVib2FyZGVkXG4gKiBpbiBqb2IgaW50ZXJ2aWV3cy4gTm93IHlvdSBjYW4gc2hvdyB0aGVtIHRoZSBSeCB2ZXJzaW9uISAoUGxlYXNlIGRvbid0LCBoYWhhKVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgc2NhbiwgbWFwLCBzdGFydFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBmaXJzdFR3b0ZpYnMgPSBbMCwgMV07XG4gKiAvLyBBbiBlbmRsZXNzIHN0cmVhbSBvZiBGaWJvbmFjY2kgbnVtYmVycy5cbiAqIGNvbnN0IGZpYm9uYWNjaSQgPSBpbnRlcnZhbCgxMDAwKS5waXBlKFxuICogICAvLyBTY2FuIHRvIGdldCB0aGUgZmlib25hY2NpIG51bWJlcnMgKGFmdGVyIDAsIDEpXG4gKiAgIHNjYW4oKFthLCBiXSkgPT4gW2IsIGEgKyBiXSwgZmlyc3RUd29GaWJzKSxcbiAqICAgLy8gR2V0IHRoZSBzZWNvbmQgbnVtYmVyIGluIHRoZSB0dXBsZSwgaXQncyB0aGUgb25lIHlvdSBjYWxjdWxhdGVkXG4gKiAgIG1hcCgoWywgbl0pID0+IG4pLFxuICogICAvLyBTdGFydCB3aXRoIG91ciBmaXJzdCB0d28gZGlnaXRzIDopXG4gKiAgIHN0YXJ0V2l0aCguLi5maXJzdFR3b0ZpYnMpXG4gKiApO1xuICpcbiAqIGZpYm9uYWNjaSQuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGV4cGFuZH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHJlZHVjZX1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaFNjYW59XG4gKlxuICogQHBhcmFtIGFjY3VtdWxhdG9yIEEgXCJyZWR1Y2VyIGZ1bmN0aW9uXCIuIFRoaXMgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggdmFsdWUgYWZ0ZXIgYW4gaW5pdGlhbCBzdGF0ZSBpc1xuICogYWNxdWlyZWQuXG4gKiBAcGFyYW0gc2VlZCBUaGUgaW5pdGlhbCBzdGF0ZS4gSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQsIHRoZSBmaXJzdCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2Ugd2lsbFxuICogYmUgdXNlZCBhcyB0aGUgaW5pdGlhbCBzdGF0ZSwgYW5kIGVtaXR0ZWQgd2l0aG91dCBnb2luZyB0aHJvdWdoIHRoZSBhY2N1bXVsYXRvci4gQWxsIHN1YnNlcXVlbnQgdmFsdWVzXG4gKiB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGUgYWNjdW11bGF0b3IgZnVuY3Rpb24uIElmIHRoaXMgaXMgcHJvdmlkZWQsIGFsbCB2YWx1ZXMgd2lsbCBnbyB0aHJvdWdoXG4gKiB0aGUgYWNjdW11bGF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgdGhlIGFjY3VtdWxhdGVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYW48ViwgQSwgUz4oYWNjdW11bGF0b3I6IChhY2M6IFYgfCBBIHwgUywgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEsIHNlZWQ/OiBTKTogT3BlcmF0b3JGdW5jdGlvbjxWLCBWIHwgQT4ge1xuICAvLyBwcm92aWRpbmcgYSBzZWVkIG9mIGB1bmRlZmluZWRgICpzaG91bGQqIGJlIHZhbGlkIGFuZCB0cmlnZ2VyXG4gIC8vIGhhc1NlZWQhIHNvIGRvbid0IHVzZSBgc2VlZCAhPT0gdW5kZWZpbmVkYCBjaGVja3MhXG4gIC8vIEZvciB0aGlzIHJlYXNvbiwgd2UgaGF2ZSB0byBjaGVjayBpdCBoZXJlIGF0IHRoZSBvcmlnaW5hbCBjYWxsIHNpdGVcbiAgLy8gb3RoZXJ3aXNlIGluc2lkZSBPcGVyYXRvci9TdWJzY3JpYmVyIHdlIHdvbid0IGtub3cgaWYgYHVuZGVmaW5lZGBcbiAgLy8gbWVhbnMgdGhleSBkaWRuJ3QgcHJvdmlkZSBhbnl0aGluZyBvciBpZiB0aGV5IGxpdGVyYWxseSBwcm92aWRlZCBgdW5kZWZpbmVkYFxuICByZXR1cm4gb3BlcmF0ZShzY2FuSW50ZXJuYWxzKGFjY3VtdWxhdG9yLCBzZWVkIGFzIFMsIGFyZ3VtZW50cy5sZW5ndGggPj0gMiwgdHJ1ZSkpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEEgYmFzaWMgc2NhbiBvcGVyYXRpb24uIFRoaXMgaXMgdXNlZCBmb3IgYHNjYW5gIGFuZCBgcmVkdWNlYC5cbiAqIEBwYXJhbSBhY2N1bXVsYXRvciBUaGUgYWNjdW11bGF0b3IgdG8gdXNlXG4gKiBAcGFyYW0gc2VlZCBUaGUgc2VlZCB2YWx1ZSBmb3IgdGhlIHN0YXRlIHRvIGFjY3VtdWxhdGVcbiAqIEBwYXJhbSBoYXNTZWVkIFdoZXRoZXIgb3Igbm90IGEgc2VlZCB3YXMgcHJvdmlkZWRcbiAqIEBwYXJhbSBlbWl0T25OZXh0IFdoZXRoZXIgb3Igbm90IHRvIGVtaXQgdGhlIHN0YXRlIG9uIG5leHRcbiAqIEBwYXJhbSBlbWl0QmVmb3JlQ29tcGxldGUgV2hldGhlciBvciBub3QgdG8gZW1pdCB0aGUgYmVmb3JlIGNvbXBsZXRpb25cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbkludGVybmFsczxWLCBBLCBTPihcbiAgYWNjdW11bGF0b3I6IChhY2M6IFYgfCBBIHwgUywgdmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IEEsXG4gIHNlZWQ6IFMsXG4gIGhhc1NlZWQ6IGJvb2xlYW4sXG4gIGVtaXRPbk5leHQ6IGJvb2xlYW4sXG4gIGVtaXRCZWZvcmVDb21wbGV0ZT86IHVuZGVmaW5lZCB8IHRydWVcbikge1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxWPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSA9PiB7XG4gICAgLy8gV2hldGhlciBvciBub3Qgd2UgaGF2ZSBzdGF0ZSB5ZXQuIFRoaXMgd2lsbCBvbmx5IGJlXG4gICAgLy8gZmFsc2UgYmVmb3JlIHRoZSBmaXJzdCB2YWx1ZSBhcnJpdmVzIGlmIHdlIGRpZG4ndCBnZXRcbiAgICAvLyBhIHNlZWQgdmFsdWUuXG4gICAgbGV0IGhhc1N0YXRlID0gaGFzU2VlZDtcbiAgICAvLyBUaGUgc3RhdGUgdGhhdCB3ZSdyZSB0cmFja2luZywgc3RhcnRpbmcgd2l0aCB0aGUgc2VlZCxcbiAgICAvLyBpZiB0aGVyZSBpcyBvbmUsIGFuZCB0aGVuIHVwZGF0ZWQgYnkgdGhlIHJldHVybiB2YWx1ZVxuICAgIC8vIGZyb20gdGhlIGFjY3VtdWxhdG9yIG9uIGVhY2ggZW1pc3Npb24uXG4gICAgbGV0IHN0YXRlOiBhbnkgPSBzZWVkO1xuICAgIC8vIEFuIGluZGV4IHRvIHBhc3MgdG8gdGhlIGFjY3VtdWxhdG9yIGZ1bmN0aW9uLlxuICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gb3VyIHNvdXJjZS4gQWxsIGVycm9ycyBhbmQgY29tcGxldGlvbnMgYXJlIHBhc3NlZCB0aHJvdWdoLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIC8vIEFsd2F5cyBpbmNyZW1lbnQgdGhlIGluZGV4LlxuICAgICAgICAgIGNvbnN0IGkgPSBpbmRleCsrO1xuICAgICAgICAgIC8vIFNldCB0aGUgc3RhdGVcbiAgICAgICAgICBzdGF0ZSA9IGhhc1N0YXRlXG4gICAgICAgICAgICA/IC8vIFdlIGFscmVhZHkgaGF2ZSBzdGF0ZSwgc28gd2UgY2FuIGdldCB0aGUgbmV3IHN0YXRlIGZyb20gdGhlIGFjY3VtdWxhdG9yXG4gICAgICAgICAgICAgIGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaSlcbiAgICAgICAgICAgIDogLy8gV2UgZGlkbid0IGhhdmUgc3RhdGUgeWV0LCBhIHNlZWQgdmFsdWUgd2FzIG5vdCBwcm92aWRlZCwgc29cblxuICAgICAgICAgICAgICAvLyB3ZSBzZXQgdGhlIHN0YXRlIHRvIHRoZSBmaXJzdCB2YWx1ZSwgYW5kIG1hcmsgdGhhdCB3ZSBoYXZlIHN0YXRlIG5vd1xuICAgICAgICAgICAgICAoKGhhc1N0YXRlID0gdHJ1ZSksIHZhbHVlKTtcblxuICAgICAgICAgIC8vIE1heWJlIHNlbmQgaXQgdG8gdGhlIGNvbnN1bWVyLlxuICAgICAgICAgIGVtaXRPbk5leHQgJiYgc3Vic2NyaWJlci5uZXh0KHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gSWYgYW4gb25Db21wbGV0ZSB3YXMgZ2l2ZW4sIGNhbGwgaXQsIG90aGVyd2lzZVxuICAgICAgICAvLyBqdXN0IHBhc3MgdGhyb3VnaCB0aGUgY29tcGxldGUgbm90aWZpY2F0aW9uIHRvIHRoZSBjb25zdW1lci5cbiAgICAgICAgZW1pdEJlZm9yZUNvbXBsZXRlICYmXG4gICAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgIGhhc1N0YXRlICYmIHN1YnNjcmliZXIubmV4dChzdGF0ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKlxuICogQ29tcGFyZXMgYWxsIHZhbHVlcyBvZiB0d28gb2JzZXJ2YWJsZXMgaW4gc2VxdWVuY2UgdXNpbmcgYW4gb3B0aW9uYWwgY29tcGFyYXRvciBmdW5jdGlvblxuICogYW5kIHJldHVybnMgYW4gb2JzZXJ2YWJsZSBvZiBhIHNpbmdsZSBib29sZWFuIHZhbHVlIHJlcHJlc2VudGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdHdvIHNlcXVlbmNlc1xuICogYXJlIGVxdWFsLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5DaGVja3MgdG8gc2VlIG9mIGFsbCB2YWx1ZXMgZW1pdHRlZCBieSBib3RoIG9ic2VydmFibGVzIGFyZSBlcXVhbCwgaW4gb3JkZXIuPC9zcGFuPlxuICpcbiAqICFbXShzZXF1ZW5jZUVxdWFsLnBuZylcbiAqXG4gKiBgc2VxdWVuY2VFcXVhbGAgc3Vic2NyaWJlcyB0byBzb3VyY2Ugb2JzZXJ2YWJsZSBhbmQgYGNvbXBhcmVUb2AgYE9ic2VydmFibGVJbnB1dGAgKHRoYXQgaW50ZXJuYWxseVxuICogZ2V0cyBjb252ZXJ0ZWQgdG8gYW4gb2JzZXJ2YWJsZSkgYW5kIGJ1ZmZlcnMgaW5jb21pbmcgdmFsdWVzIGZyb20gZWFjaCBvYnNlcnZhYmxlLiBXaGVuZXZlciBlaXRoZXJcbiAqIG9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZSwgdGhlIHZhbHVlIGlzIGJ1ZmZlcmVkIGFuZCB0aGUgYnVmZmVycyBhcmUgc2hpZnRlZCBhbmQgY29tcGFyZWQgZnJvbSB0aGUgYm90dG9tXG4gKiB1cDsgSWYgYW55IHZhbHVlIHBhaXIgZG9lc24ndCBtYXRjaCwgdGhlIHJldHVybmVkIG9ic2VydmFibGUgd2lsbCBlbWl0IGBmYWxzZWAgYW5kIGNvbXBsZXRlLiBJZiBvbmUgb2YgdGhlXG4gKiBvYnNlcnZhYmxlcyBjb21wbGV0ZXMsIHRoZSBvcGVyYXRvciB3aWxsIHdhaXQgZm9yIHRoZSBvdGhlciBvYnNlcnZhYmxlIHRvIGNvbXBsZXRlOyBJZiB0aGUgb3RoZXJcbiAqIG9ic2VydmFibGUgZW1pdHMgYmVmb3JlIGNvbXBsZXRpbmcsIHRoZSByZXR1cm5lZCBvYnNlcnZhYmxlIHdpbGwgZW1pdCBgZmFsc2VgIGFuZCBjb21wbGV0ZS4gSWYgb25lIG9ic2VydmFibGUgbmV2ZXJcbiAqIGNvbXBsZXRlcyBvciBlbWl0cyBhZnRlciB0aGUgb3RoZXIgY29tcGxldGVzLCB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZSB3aWxsIG5ldmVyIGNvbXBsZXRlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBGaWd1cmUgb3V0IGlmIHRoZSBLb25hbWkgY29kZSBtYXRjaGVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIGZyb21FdmVudCwgbWFwLCBidWZmZXJDb3VudCwgbWVyZ2VNYXAsIHNlcXVlbmNlRXF1YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjb2RlcyA9IGZyb20oW1xuICogICAnQXJyb3dVcCcsXG4gKiAgICdBcnJvd1VwJyxcbiAqICAgJ0Fycm93RG93bicsXG4gKiAgICdBcnJvd0Rvd24nLFxuICogICAnQXJyb3dMZWZ0JyxcbiAqICAgJ0Fycm93UmlnaHQnLFxuICogICAnQXJyb3dMZWZ0JyxcbiAqICAgJ0Fycm93UmlnaHQnLFxuICogICAnS2V5QicsXG4gKiAgICdLZXlBJyxcbiAqICAgJ0VudGVyJywgLy8gbm8gc3RhcnQga2V5LCBjbGVhcmx5LlxuICogXSk7XG4gKlxuICogY29uc3Qga2V5cyA9IGZyb21FdmVudDxLZXlib2FyZEV2ZW50Pihkb2N1bWVudCwgJ2tleXVwJykucGlwZShtYXAoZSA9PiBlLmNvZGUpKTtcbiAqIGNvbnN0IG1hdGNoZXMgPSBrZXlzLnBpcGUoXG4gKiAgIGJ1ZmZlckNvdW50KDExLCAxKSxcbiAqICAgbWVyZ2VNYXAobGFzdDExID0+IGZyb20obGFzdDExKS5waXBlKHNlcXVlbmNlRXF1YWwoY29kZXMpKSlcbiAqICk7XG4gKiBtYXRjaGVzLnN1YnNjcmliZShtYXRjaGVkID0+IGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsIGNoZWF0IGF0IENvbnRyYT8gJywgbWF0Y2hlZCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdH1cbiAqIEBzZWUge0BsaW5rIHppcH1cbiAqIEBzZWUge0BsaW5rIHdpdGhMYXRlc3RGcm9tfVxuICpcbiAqIEBwYXJhbSBjb21wYXJlVG8gVGhlIGBPYnNlcnZhYmxlSW5wdXRgIHNlcXVlbmNlIHRvIGNvbXBhcmUgdGhlIHNvdXJjZSBzZXF1ZW5jZSB0by5cbiAqIEBwYXJhbSBjb21wYXJhdG9yIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIGNvbXBhcmUgZWFjaCB2YWx1ZSBwYWlyLlxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGEgc2luZ2xlIGJvb2xlYW5cbiAqIHZhbHVlIHJlcHJlc2VudGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZSBhbmQgcHJvdmlkZWQgYE9ic2VydmFibGVJbnB1dGAgd2VyZSBlcXVhbCBpbiBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcXVlbmNlRXF1YWw8VD4oXG4gIGNvbXBhcmVUbzogT2JzZXJ2YWJsZUlucHV0PFQ+LFxuICBjb21wYXJhdG9yOiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbiA9IChhLCBiKSA9PiBhID09PSBiXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIGJvb2xlYW4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBzdGF0ZSBmb3IgdGhlIHNvdXJjZSBvYnNlcnZhYmxlXG4gICAgY29uc3QgYVN0YXRlID0gY3JlYXRlU3RhdGU8VD4oKTtcbiAgICAvLyBUaGUgc3RhdGUgZm9yIHRoZSBjb21wYXJlVG8gb2JzZXJ2YWJsZTtcbiAgICBjb25zdCBiU3RhdGUgPSBjcmVhdGVTdGF0ZTxUPigpO1xuXG4gICAgLyoqIEEgdXRpbGl0eSB0byBlbWl0IGFuZCBjb21wbGV0ZSAqL1xuICAgIGNvbnN0IGVtaXQgPSAoaXNFcXVhbDogYm9vbGVhbikgPT4ge1xuICAgICAgc3Vic2NyaWJlci5uZXh0KGlzRXF1YWwpO1xuICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3Vic2NyaWJlciB0aGF0IHN1YnNjcmliZXMgdG8gb25lIG9mIHRoZSBzb3VyY2VzLCBhbmQgY29tcGFyZXMgaXRzIGNvbGxlY3RlZFxuICAgICAqIHN0YXRlIC0tIGBzZWxmU3RhdGVgIC0tIHRvIHRoZSBvdGhlciBzb3VyY2UncyBjb2xsZWN0ZWQgc3RhdGUgLS0gYG90aGVyU3RhdGVgLiBUaGlzXG4gICAgICogaXMgdXNlZCBmb3IgYm90aCBzdHJlYW1zLlxuICAgICAqL1xuICAgIGNvbnN0IGNyZWF0ZVN1YnNjcmliZXIgPSAoc2VsZlN0YXRlOiBTZXF1ZW5jZVN0YXRlPFQ+LCBvdGhlclN0YXRlOiBTZXF1ZW5jZVN0YXRlPFQ+KSA9PiB7XG4gICAgICBjb25zdCBzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKGE6IFQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGJ1ZmZlciwgY29tcGxldGUgfSA9IG90aGVyU3RhdGU7XG4gICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdmFsdWVzIGluIHRoZSBvdGhlciBidWZmZXJcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgb3RoZXIgc3RyZWFtIGlzIGNvbXBsZXRlLCB3ZSBrbm93XG4gICAgICAgICAgICAvLyB0aGlzIGlzbid0IGEgbWF0Y2gsIGJlY2F1c2Ugd2UgZ290IG9uZSBtb3JlIHZhbHVlLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBwdXNoIG9udG8gb3VyIGJ1ZmZlciwgc28gd2hlbiB0aGUgb3RoZXJcbiAgICAgICAgICAgIC8vIHN0cmVhbSBlbWl0cywgaXQgY2FuIHB1bGwgdGhpcyB2YWx1ZSBvZmYgb3VyIGJ1ZmZlciBhbmQgY2hlY2sgaXRcbiAgICAgICAgICAgIC8vIGF0IHRoZSBhcHByb3ByaWF0ZSB0aW1lLlxuICAgICAgICAgICAgY29tcGxldGUgPyBlbWl0KGZhbHNlKSA6IHNlbGZTdGF0ZS5idWZmZXIucHVzaChhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG90aGVyIHN0cmVhbSAqZG9lcyogaGF2ZSB2YWx1ZXMgaW4gaXRzIGJ1ZmZlcixcbiAgICAgICAgICAgIC8vIHB1bGwgdGhlIG9sZGVzdCBvbmUgb2ZmIHNvIHdlIGNhbiBjb21wYXJlIGl0IHRvIHdoYXQgd2VcbiAgICAgICAgICAgIC8vIGp1c3QgZ290LiBJZiBpdCB3YXNuJ3QgYSBtYXRjaCwgZW1pdCBgZmFsc2VgIGFuZCBjb21wbGV0ZS5cbiAgICAgICAgICAgICFjb21wYXJhdG9yKGEsIGJ1ZmZlci5zaGlmdCgpISkgJiYgZW1pdChmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gT3Igb2JzZXJ2YWJsZSBjb21wbGV0ZWRcbiAgICAgICAgICBzZWxmU3RhdGUuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHsgY29tcGxldGUsIGJ1ZmZlciB9ID0gb3RoZXJTdGF0ZTtcbiAgICAgICAgICAvLyBJZiB0aGUgb3RoZXIgb2JzZXJ2YWJsZSBpcyBhbHNvIGNvbXBsZXRlLCBhbmQgdGhlcmUnc1xuICAgICAgICAgIC8vIHN0aWxsIHN0dWZmIGxlZnQgaW4gdGhlaXIgYnVmZmVyLCBpdCBkb2Vzbid0IG1hdGNoLCBpZiB0aGVpclxuICAgICAgICAgIC8vIGJ1ZmZlciBpcyBlbXB0eSwgdGhlbiBpdCBkb2VzIG1hdGNoLiBUaGlzIGlzIGJlY2F1c2Ugd2UgY2FuJ3RcbiAgICAgICAgICAvLyBwb3NzaWJseSBnZXQgbW9yZSB2YWx1ZXMgaGVyZSBhbnltb3JlLlxuICAgICAgICAgIGNvbXBsZXRlICYmIGVtaXQoYnVmZmVyLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgICAgLy8gQmUgc3VyZSB0byBjbGVhbiB1cCBvdXIgc3RyZWFtIGFzIHNvb24gYXMgcG9zc2libGUgaWYgd2UgY2FuLlxuICAgICAgICAgIHNlcXVlbmNlRXF1YWxTdWJzY3JpYmVyPy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gc2VxdWVuY2VFcXVhbFN1YnNjcmliZXI7XG4gICAgfTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBlYWNoIHNvdXJjZS5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZVN1YnNjcmliZXIoYVN0YXRlLCBiU3RhdGUpKTtcbiAgICBpbm5lckZyb20oY29tcGFyZVRvKS5zdWJzY3JpYmUoY3JlYXRlU3Vic2NyaWJlcihiU3RhdGUsIGFTdGF0ZSkpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBBIHNpbXBsZSBzdHJ1Y3R1cmUgZm9yIHRoZSBkYXRhIHVzZWQgdG8gdGVzdCBlYWNoIHNlcXVlbmNlXG4gKi9cbmludGVyZmFjZSBTZXF1ZW5jZVN0YXRlPFQ+IHtcbiAgLyoqIEEgdGVtcG9yYXJ5IHN0b3JlIGZvciBhcnJpdmVkIHZhbHVlcyBiZWZvcmUgdGhleSBhcmUgY2hlY2tlZCAqL1xuICBidWZmZXI6IFRbXTtcbiAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSBzZXF1ZW5jZSBzb3VyY2UgaGFzIGNvbXBsZXRlZC4gKi9cbiAgY29tcGxldGU6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNpbXBsZSBzdHJ1Y3R1cmUgdGhhdCBpcyB1c2VkIHRvIHJlcHJlc2VudFxuICogZGF0YSB1c2VkIHRvIHRlc3QgZWFjaCBzZXF1ZW5jZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RhdGU8VD4oKTogU2VxdWVuY2VTdGF0ZTxUPiB7XG4gIHJldHVybiB7XG4gICAgYnVmZmVyOiBbXSxcbiAgICBjb21wbGV0ZTogZmFsc2UsXG4gIH07XG59XG4iLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTYWZlU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU3ViamVjdExpa2UsIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoYXJlQ29uZmlnPFQ+IHtcbiAgLyoqXG4gICAqIFRoZSBmYWN0b3J5IHVzZWQgdG8gY3JlYXRlIHRoZSBzdWJqZWN0IHRoYXQgd2lsbCBjb25uZWN0IHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSB0b1xuICAgKiBtdWx0aWNhc3QgY29uc3VtZXJzLlxuICAgKi9cbiAgY29ubmVjdG9yPzogKCkgPT4gU3ViamVjdExpa2U8VD47XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIHJlc2V0IGludGVybmFsIHN0YXRlIG9uIGVycm9yIGZyb20gc291cmNlIGFuZCByZXR1cm4gdG8gYSBcImNvbGRcIiBzdGF0ZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHRvIGJlIFwicmV0cmllZFwiIGluIHRoZSBldmVudCBvZiBhbiBlcnJvci5cbiAgICogSWYgYGZhbHNlYCwgd2hlbiBhbiBlcnJvciBjb21lcyBmcm9tIHRoZSBzb3VyY2UgaXQgd2lsbCBwdXNoIHRoZSBlcnJvciBpbnRvIHRoZSBjb25uZWN0aW5nIHN1YmplY3QsIGFuZCB0aGUgc3ViamVjdFxuICAgKiB3aWxsIHJlbWFpbiB0aGUgY29ubmVjdGluZyBzdWJqZWN0LCBtZWFuaW5nIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIG5vdCBnbyBcImNvbGRcIiBhZ2FpbiwgYW5kIHN1YnNlcXVlbnQgcmV0cmllc1xuICAgKiBvciByZXN1YnNjcmlwdGlvbnMgd2lsbCByZXN1YnNjcmliZSB0byB0aGF0IHNhbWUgc3ViamVjdC4gSW4gYWxsIGNhc2VzLCBSeEpTIHN1YmplY3RzIHdpbGwgZW1pdCB0aGUgc2FtZSBlcnJvciBhZ2FpbiwgaG93ZXZlclxuICAgKiB7QGxpbmsgUmVwbGF5U3ViamVjdH0gd2lsbCBhbHNvIHB1c2ggaXRzIGJ1ZmZlcmVkIHZhbHVlcyBiZWZvcmUgcHVzaGluZyB0aGUgZXJyb3IuXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIG5vdGlmaWVyIGZhY3RvcnkgcmV0dXJuaW5nIGFuIGBPYnNlcnZhYmxlSW5wdXRgIGluc3RlYWQgd2hpY2ggZ3JhbnRzIG1vcmUgZmluZS1ncmFpbmVkXG4gICAqIGNvbnRyb2wgb3ZlciBob3cgYW5kIHdoZW4gdGhlIHJlc2V0IHNob3VsZCBoYXBwZW4uIFRoaXMgYWxsb3dzIGJlaGF2aW9ycyBsaWtlIGNvbmRpdGlvbmFsIG9yIGRlbGF5ZWQgcmVzZXRzLlxuICAgKi9cbiAgcmVzZXRPbkVycm9yPzogYm9vbGVhbiB8ICgoZXJyb3I6IGFueSkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCByZXNldCBpbnRlcm5hbCBzdGF0ZSBvbiBjb21wbGV0aW9uIGZyb20gc291cmNlIGFuZCByZXR1cm4gdG8gYSBcImNvbGRcIiBzdGF0ZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHRvIGJlIFwicmVwZWF0ZWRcIiBhZnRlciBpdCBpcyBkb25lLlxuICAgKiBJZiBgZmFsc2VgLCB3aGVuIHRoZSBzb3VyY2UgY29tcGxldGVzLCBpdCB3aWxsIHB1c2ggdGhlIGNvbXBsZXRpb24gdGhyb3VnaCB0aGUgY29ubmVjdGluZyBzdWJqZWN0LCBhbmQgdGhlIHN1YmplY3RcbiAgICogd2lsbCByZW1haW4gdGhlIGNvbm5lY3Rpbmcgc3ViamVjdCwgbWVhbmluZyB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCBub3QgZ28gXCJjb2xkXCIgYWdhaW4sIGFuZCBzdWJzZXF1ZW50IHJlcGVhdHNcbiAgICogb3IgcmVzdWJzY3JpcHRpb25zIHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhhdCBzYW1lIHN1YmplY3QuXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIG5vdGlmaWVyIGZhY3RvcnkgcmV0dXJuaW5nIGFuIGBPYnNlcnZhYmxlSW5wdXRgIGluc3RlYWQgd2hpY2ggZ3JhbnRzIG1vcmUgZmluZS1ncmFpbmVkXG4gICAqIGNvbnRyb2wgb3ZlciBob3cgYW5kIHdoZW4gdGhlIHJlc2V0IHNob3VsZCBoYXBwZW4uIFRoaXMgYWxsb3dzIGJlaGF2aW9ycyBsaWtlIGNvbmRpdGlvbmFsIG9yIGRlbGF5ZWQgcmVzZXRzLlxuICAgKi9cbiAgcmVzZXRPbkNvbXBsZXRlPzogYm9vbGVhbiB8ICgoKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHdoZW4gdGhlIG51bWJlciBvZiBzdWJzY3JpYmVycyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgcmVhY2hlcyB6ZXJvIGR1ZSB0byB0aG9zZSBzdWJzY3JpYmVycyB1bnN1YnNjcmliaW5nLCB0aGVcbiAgICogaW50ZXJuYWwgc3RhdGUgd2lsbCBiZSByZXNldCBhbmQgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgcmV0dXJuIHRvIGEgXCJjb2xkXCIgc3RhdGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgbmV4dFxuICAgKiB0aW1lIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkIHRvLCBhIG5ldyBzdWJqZWN0IHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIHNvdXJjZSB3aWxsIGJlIHN1YnNjcmliZWQgdG9cbiAgICogYWdhaW4uXG4gICAqIElmIGBmYWxzZWAsIHdoZW4gdGhlIG51bWJlciBvZiBzdWJzY3JpYmVycyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgcmVhY2hlcyB6ZXJvIGR1ZSB0byB1bnN1YnNjcmlwdGlvbiwgdGhlIHN1YmplY3RcbiAgICogd2lsbCByZW1haW4gY29ubmVjdGVkIHRvIHRoZSBzb3VyY2UsIGFuZCBuZXcgc3Vic2NyaXB0aW9ucyB0byB0aGUgcmVzdWx0IHdpbGwgYmUgY29ubmVjdGVkIHRocm91Z2ggdGhhdCBzYW1lIHN1YmplY3QuXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIG5vdGlmaWVyIGZhY3RvcnkgcmV0dXJuaW5nIGFuIGBPYnNlcnZhYmxlSW5wdXRgIGluc3RlYWQgd2hpY2ggZ3JhbnRzIG1vcmUgZmluZS1ncmFpbmVkXG4gICAqIGNvbnRyb2wgb3ZlciBob3cgYW5kIHdoZW4gdGhlIHJlc2V0IHNob3VsZCBoYXBwZW4uIFRoaXMgYWxsb3dzIGJlaGF2aW9ycyBsaWtlIGNvbmRpdGlvbmFsIG9yIGRlbGF5ZWQgcmVzZXRzLlxuICAgKi9cbiAgcmVzZXRPblJlZkNvdW50WmVybz86IGJvb2xlYW4gfCAoKCkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcmU8VD4oKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gc2hhcmU8VD4ob3B0aW9uczogU2hhcmVDb25maWc8VD4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBPYnNlcnZhYmxlIHRoYXQgbXVsdGljYXN0cyAoc2hhcmVzKSB0aGUgb3JpZ2luYWwgT2JzZXJ2YWJsZS4gQXMgbG9uZyBhcyB0aGVyZSBpcyBhdCBsZWFzdCBvbmVcbiAqIFN1YnNjcmliZXIgdGhpcyBPYnNlcnZhYmxlIHdpbGwgYmUgc3Vic2NyaWJlZCBhbmQgZW1pdHRpbmcgZGF0YS4gV2hlbiBhbGwgc3Vic2NyaWJlcnMgaGF2ZSB1bnN1YnNjcmliZWQgaXQgd2lsbFxuICogdW5zdWJzY3JpYmUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuIEJlY2F1c2UgdGhlIE9ic2VydmFibGUgaXMgbXVsdGljYXN0aW5nIGl0IG1ha2VzIHRoZSBzdHJlYW0gYGhvdGAuXG4gKiBUaGlzIGlzIGFuIGFsaWFzIGZvciBgbXVsdGljYXN0KCgpID0+IG5ldyBTdWJqZWN0KCkpLCByZWZDb3VudCgpYC5cbiAqXG4gKiBUaGUgc3Vic2NyaXB0aW9uIHRvIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBPYnNlcnZhYmxlIGNhbiBiZSByZXNldCAodW5zdWJzY3JpYmUgYW5kIHJlc3Vic2NyaWJlIGZvciBuZXcgc3Vic2NyaWJlcnMpLFxuICogaWYgdGhlIHN1YnNjcmliZXIgY291bnQgdG8gdGhlIHNoYXJlZCBvYnNlcnZhYmxlIGRyb3BzIHRvIDAsIG9yIGlmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlcnJvcnMgb3IgY29tcGxldGVzLiBJdCBpc1xuICogcG9zc2libGUgdG8gdXNlIG5vdGlmaWVyIGZhY3RvcmllcyBmb3IgdGhlIHJlc2V0cyB0byBhbGxvdyBmb3IgYmVoYXZpb3JzIGxpa2UgY29uZGl0aW9uYWwgb3IgZGVsYXllZCByZXNldHMuIFBsZWFzZVxuICogbm90ZSB0aGF0IHJlc2V0dGluZyBvbiBlcnJvciBvciBjb21wbGV0ZSBvZiB0aGUgc291cmNlIE9ic2VydmFibGUgZG9lcyBub3QgYmVoYXZlIGxpa2UgYSB0cmFuc3BhcmVudCByZXRyeSBvciByZXN0YXJ0XG4gKiBvZiB0aGUgc291cmNlIGJlY2F1c2UgdGhlIGVycm9yIG9yIGNvbXBsZXRlIHdpbGwgYmUgZm9yd2FyZGVkIHRvIGFsbCBzdWJzY3JpYmVycyBhbmQgdGhlaXIgc3Vic2NyaXB0aW9uIHdpbGwgYmVcbiAqIGNsb3NlZC4gT25seSBuZXcgc3Vic2NyaWJlcnMgYWZ0ZXIgYSByZXNldCBvbiBlcnJvciBvciBjb21wbGV0ZSBoYXBwZW5lZCB3aWxsIGNhdXNlIGEgZnJlc2ggc3Vic2NyaXB0aW9uIHRvIHRoZVxuICogc291cmNlLiBUbyBhY2hpZXZlIHRyYW5zcGFyZW50IHJldHJpZXMgb3IgcmVzdGFydHMgcGlwZSB0aGUgc291cmNlIHRocm91Z2ggYXBwcm9wcmlhdGUgb3BlcmF0b3JzIGJlZm9yZSBzaGFyaW5nLlxuICpcbiAqICFbXShzaGFyZS5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEdlbmVyYXRlIG5ldyBtdWx0aWNhc3QgT2JzZXJ2YWJsZSBmcm9tIHRoZSBgc291cmNlYCBPYnNlcnZhYmxlIHZhbHVlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YXAsIG1hcCwgdGFrZSwgc2hhcmUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKS5waXBlKFxuICogICB0YXAoeCA9PiBjb25zb2xlLmxvZygnUHJvY2Vzc2luZzogJywgeCkpLFxuICogICBtYXAoeCA9PiB4ICogeCksXG4gKiAgIHRha2UoNiksXG4gKiAgIHNoYXJlKClcbiAqICk7XG4gKlxuICogc291cmNlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpcHRpb24gMTogJywgeCkpO1xuICogc291cmNlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpcHRpb24gMjogJywgeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBQcm9jZXNzaW5nOiAwXG4gKiAvLyBzdWJzY3JpcHRpb24gMTogMFxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDBcbiAqIC8vIFByb2Nlc3Npbmc6IDFcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAxXG4gKiAvLyBzdWJzY3JpcHRpb24gMjogMVxuICogLy8gUHJvY2Vzc2luZzogMlxuICogLy8gc3Vic2NyaXB0aW9uIDE6IDRcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiA0XG4gKiAvLyBQcm9jZXNzaW5nOiAzXG4gKiAvLyBzdWJzY3JpcHRpb24gMTogOVxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDlcbiAqIC8vIFByb2Nlc3Npbmc6IDRcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAxNlxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDE2XG4gKiAvLyBQcm9jZXNzaW5nOiA1XG4gKiAvLyBzdWJzY3JpcHRpb24gMTogMjVcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiAyNVxuICogYGBgXG4gKlxuICogIyMgRXhhbXBsZSB3aXRoIG5vdGlmaWVyIGZhY3Rvcnk6IERlbGF5ZWQgcmVzZXRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIHNoYXJlLCB0aW1lciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApLnBpcGUoXG4gKiAgIHRha2UoMyksXG4gKiAgIHNoYXJlKHtcbiAqICAgICByZXNldE9uUmVmQ291bnRaZXJvOiAoKSA9PiB0aW1lcigxMDAwKVxuICogICB9KVxuICogKTtcbiAqXG4gKiBjb25zdCBzdWJzY3JpcHRpb25PbmUgPSBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YnNjcmlwdGlvbiAxOiAnLCB4KSk7XG4gKiBzZXRUaW1lb3V0KCgpID0+IHN1YnNjcmlwdGlvbk9uZS51bnN1YnNjcmliZSgpLCAxMzAwKTtcbiAqXG4gKiBzZXRUaW1lb3V0KCgpID0+IHNvdXJjZS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnc3Vic2NyaXB0aW9uIDI6ICcsIHgpKSwgMTcwMCk7XG4gKlxuICogc2V0VGltZW91dCgoKSA9PiBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YnNjcmlwdGlvbiAzOiAnLCB4KSksIDUwMDApO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBzdWJzY3JpcHRpb24gMTogIDBcbiAqIC8vIChzdWJzY3JpcHRpb24gMSB1bnN1YnNjcmliZXMgaGVyZSlcbiAqIC8vIChzdWJzY3JpcHRpb24gMiBzdWJzY3JpYmVzIGhlcmUgfjQwMG1zIGxhdGVyLCBzb3VyY2Ugd2FzIG5vdCByZXNldClcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiAgMVxuICogLy8gc3Vic2NyaXB0aW9uIDI6ICAyXG4gKiAvLyAoc3Vic2NyaXB0aW9uIDIgdW5zdWJzY3JpYmVzIGhlcmUpXG4gKiAvLyAoc3Vic2NyaXB0aW9uIDMgc3Vic2NyaWJlcyBoZXJlIH4yMDAwbXMgbGF0ZXIsIHNvdXJjZSBkaWQgcmVzZXQgYmVmb3JlKVxuICogLy8gc3Vic2NyaXB0aW9uIDM6ICAwXG4gKiAvLyBzdWJzY3JpcHRpb24gMzogIDFcbiAqIC8vIHN1YnNjcmlwdGlvbiAzOiAgMlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgc2hhcmVSZXBsYXl9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmU8VD4ob3B0aW9uczogU2hhcmVDb25maWc8VD4gPSB7fSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGNvbnN0IHsgY29ubmVjdG9yID0gKCkgPT4gbmV3IFN1YmplY3Q8VD4oKSwgcmVzZXRPbkVycm9yID0gdHJ1ZSwgcmVzZXRPbkNvbXBsZXRlID0gdHJ1ZSwgcmVzZXRPblJlZkNvdW50WmVybyA9IHRydWUgfSA9IG9wdGlvbnM7XG4gIC8vIEl0J3MgbmVjZXNzYXJ5IHRvIHVzZSBhIHdyYXBwZXIgaGVyZSwgYXMgdGhlIF9vcGVyYXRvcl8gbXVzdCBiZVxuICAvLyByZWZlcmVudGlhbGx5IHRyYW5zcGFyZW50LiBPdGhlcndpc2UsIGl0IGNhbm5vdCBiZSB1c2VkIGluIGNhbGxzIHRvIHRoZVxuICAvLyBzdGF0aWMgYHBpcGVgIGZ1bmN0aW9uIC0gdG8gY3JlYXRlIGEgcGFydGlhbCBwaXBlbGluZS5cbiAgLy9cbiAgLy8gVGhlIF9vcGVyYXRvciBmdW5jdGlvbl8gLSB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgdGhlIF9vcGVyYXRvcl8gLSB3aWxsXG4gIC8vIG5vdCBiZSByZWZlcmVudGlhbGx5IHRyYW5zcGFyZW50IC0gYXMgaXQgc2hhcmVzIGl0cyBzb3VyY2UgLSBidXQgdGhlXG4gIC8vIF9vcGVyYXRvciBmdW5jdGlvbl8gaXMgY2FsbGVkIHdoZW4gdGhlIGNvbXBsZXRlIHBpcGVsaW5lIGlzIGNvbXBvc2VkIHZpYSBhXG4gIC8vIGNhbGwgdG8gYSBzb3VyY2Ugb2JzZXJ2YWJsZSdzIGBwaXBlYCBtZXRob2QgLSBub3Qgd2hlbiB0aGUgc3RhdGljIGBwaXBlYFxuICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gIHJldHVybiAod3JhcHBlclNvdXJjZSkgPT4ge1xuICAgIGxldCBjb25uZWN0aW9uOiBTYWZlU3Vic2NyaWJlcjxUPiB8IHVuZGVmaW5lZDtcbiAgICBsZXQgcmVzZXRDb25uZWN0aW9uOiBTdWJzY3JpcHRpb24gfCB1bmRlZmluZWQ7XG4gICAgbGV0IHN1YmplY3Q6IFN1YmplY3RMaWtlPFQ+IHwgdW5kZWZpbmVkO1xuICAgIGxldCByZWZDb3VudCA9IDA7XG4gICAgbGV0IGhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGxldCBoYXNFcnJvcmVkID0gZmFsc2U7XG5cbiAgICBjb25zdCBjYW5jZWxSZXNldCA9ICgpID0+IHtcbiAgICAgIHJlc2V0Q29ubmVjdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8vIFVzZWQgdG8gcmVzZXQgdGhlIGludGVybmFsIHN0YXRlIHRvIGEgXCJjb2xkXCJcbiAgICAvLyBzdGF0ZSwgYXMgdGhvdWdoIGl0IGhhZCBuZXZlciBiZWVuIHN1YnNjcmliZWQgdG8uXG4gICAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgY29ubmVjdGlvbiA9IHN1YmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICBoYXNDb21wbGV0ZWQgPSBoYXNFcnJvcmVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCByZXNldEFuZFVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgLy8gV2UgbmVlZCB0byBjYXB0dXJlIHRoZSBjb25uZWN0aW9uIGJlZm9yZVxuICAgICAgLy8gd2UgcmVzZXQgKGlmIHdlIG5lZWQgdG8gcmVzZXQpLlxuICAgICAgY29uc3QgY29ubiA9IGNvbm5lY3Rpb247XG4gICAgICByZXNldCgpO1xuICAgICAgY29ubj8udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9wZXJhdGU8VCwgVD4oKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgcmVmQ291bnQrKztcbiAgICAgIGlmICghaGFzRXJyb3JlZCAmJiAhaGFzQ29tcGxldGVkKSB7XG4gICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgc3ViamVjdCBpZiB3ZSBkb24ndCBoYXZlIG9uZSB5ZXQuIEdyYWIgYSBsb2NhbCByZWZlcmVuY2UgdG9cbiAgICAgIC8vIGl0IGFzIHdlbGwsIHdoaWNoIGF2b2lkcyBub24tbnVsbCBhc3NlcnRpb25zIHdoZW4gdXNpbmcgaXQgYW5kLCBpZiB3ZVxuICAgICAgLy8gY29ubmVjdCB0byBpdCBub3csIHRoZW4gZXJyb3IvY29tcGxldGUgbmVlZCBhIHJlZmVyZW5jZSBhZnRlciBpdCB3YXNcbiAgICAgIC8vIHJlc2V0LlxuICAgICAgY29uc3QgZGVzdCA9IChzdWJqZWN0ID0gc3ViamVjdCA/PyBjb25uZWN0b3IoKSk7XG5cbiAgICAgIC8vIEFkZCB0aGUgZmluYWxpemF0aW9uIGRpcmVjdGx5IHRvIHRoZSBzdWJzY3JpYmVyIC0gaW5zdGVhZCBvZiByZXR1cm5pbmcgaXQgLVxuICAgICAgLy8gc28gdGhhdCB0aGUgaGFuZGxpbmcgb2YgdGhlIHN1YnNjcmliZXIncyB1bnN1YnNjcmlwdGlvbiB3aWxsIGJlIHdpcmVkXG4gICAgICAvLyB1cCBfYmVmb3JlXyB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBzb3VyY2Ugb2NjdXJzLiBUaGlzIGlzIGRvbmUgc28gdGhhdFxuICAgICAgLy8gdGhlIGFzc2lnbm1lbnQgdG8gdGhlIHNvdXJjZSBjb25uZWN0aW9uJ3MgYGNsb3NlZGAgcHJvcGVydHkgd2lsbCBiZSBzZWVuXG4gICAgICAvLyBieSBzeW5jaHJvbm91cyBmaXJlaG9zZSBzb3VyY2VzLlxuICAgICAgc3Vic2NyaWJlci5hZGQoKCkgPT4ge1xuICAgICAgICByZWZDb3VudC0tO1xuXG4gICAgICAgIC8vIElmIHdlJ3JlIHJlc2V0dGluZyBvbiByZWZDb3VudCA9PT0gMCwgYW5kIGl0J3MgMCwgd2Ugb25seSB3YW50IHRvIGRvXG4gICAgICAgIC8vIHRoYXQgb24gXCJ1bnN1YnNjcmliZVwiLCByZWFsbHkuIFJlc2V0dGluZyBvbiBlcnJvciBvciBjb21wbGV0aW9uIGlzIGEgZGlmZmVyZW50XG4gICAgICAgIC8vIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIGlmIChyZWZDb3VudCA9PT0gMCAmJiAhaGFzRXJyb3JlZCAmJiAhaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXRBbmRVbnN1YnNjcmliZSwgcmVzZXRPblJlZkNvdW50WmVybyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGxpbmUgYWRkcyB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBzdWJzY3JpYmVyIHBhc3NlZC5cbiAgICAgIC8vIEJhc2ljYWxseSwgYHN1YnNjcmliZXIgPT09IGRlc3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpYCBpcyBgdHJ1ZWAuXG4gICAgICBkZXN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcblxuICAgICAgaWYgKFxuICAgICAgICAhY29ubmVjdGlvbiAmJlxuICAgICAgICAvLyBDaGVjayB0aGlzIHNoYXJlUmVwbGF5IGlzIHN0aWxsIGFjdGl2YXRlIC0gaXQgY2FuIGJlIHJlc2V0IHRvIDBcbiAgICAgICAgLy8gYW5kIGJlIFwidW5zdWJzY3JpYmVkXCIgX2JlZm9yZV8gaXQgYWN0dWFsbHkgc3Vic2NyaWJlcy5cbiAgICAgICAgLy8gSWYgd2Ugd2VyZSB0byBzdWJzY3JpYmUgdGhlbiwgaXQnZCBsZWFrIGFuZCBnZXQgc3R1Y2suXG4gICAgICAgIHJlZkNvdW50ID4gMFxuICAgICAgKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgc3Vic2NyaWJlciBoZXJlIC0gcmF0aGVyIHRoYW4gcGFzcyBhbiBvYnNlcnZlciBhbmRcbiAgICAgICAgLy8gYXNzaWduIHRoZSByZXR1cm5lZCBzdWJzY3JpcHRpb24gdG8gY29ubmVjdGlvbiAtIGJlY2F1c2UgaXQncyBwb3NzaWJsZVxuICAgICAgICAvLyBmb3IgcmVlbnRyYW50IHN1YnNjcmlwdGlvbnMgdG8gdGhlIHNoYXJlZCBvYnNlcnZhYmxlIHRvIG9jY3VyIGFuZCBpblxuICAgICAgICAvLyB0aG9zZSBzaXR1YXRpb25zIHdlIHdhbnQgY29ubmVjdGlvbiB0byBiZSBhbHJlYWR5LWFzc2lnbmVkIHNvIHRoYXQgd2VcbiAgICAgICAgLy8gZG9uJ3QgY3JlYXRlIGFub3RoZXIgY29ubmVjdGlvbiB0byB0aGUgc291cmNlLlxuICAgICAgICBjb25uZWN0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICBuZXh0OiAodmFsdWUpID0+IGRlc3QubmV4dCh2YWx1ZSksXG4gICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICAgIGhhc0Vycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0LCByZXNldE9uRXJyb3IsIGVycik7XG4gICAgICAgICAgICBkZXN0LmVycm9yKGVycik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBoYW5kbGVSZXNldChyZXNldCwgcmVzZXRPbkNvbXBsZXRlKTtcbiAgICAgICAgICAgIGRlc3QuY29tcGxldGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaW5uZXJGcm9tKHNvdXJjZSkuc3Vic2NyaWJlKGNvbm5lY3Rpb24pO1xuICAgICAgfVxuICAgIH0pKHdyYXBwZXJTb3VyY2UpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVSZXNldDxUIGV4dGVuZHMgdW5rbm93bltdID0gbmV2ZXJbXT4oXG4gIHJlc2V0OiAoKSA9PiB2b2lkLFxuICBvbjogYm9vbGVhbiB8ICgoLi4uYXJnczogVCkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pLFxuICAuLi5hcmdzOiBUXG4pOiBTdWJzY3JpcHRpb24gfCB1bmRlZmluZWQge1xuICBpZiAob24gPT09IHRydWUpIHtcbiAgICByZXNldCgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvblN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgIG5leHQ6ICgpID0+IHtcbiAgICAgIG9uU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgcmVzZXQoKTtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gaW5uZXJGcm9tKG9uKC4uLmFyZ3MpKS5zdWJzY3JpYmUob25TdWJzY3JpYmVyKTtcbn1cbiIsImltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuLi9SZXBsYXlTdWJqZWN0JztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHNoYXJlIH0gZnJvbSAnLi9zaGFyZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcmVSZXBsYXlDb25maWcge1xuICBidWZmZXJTaXplPzogbnVtYmVyO1xuICB3aW5kb3dUaW1lPzogbnVtYmVyO1xuICByZWZDb3VudDogYm9vbGVhbjtcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlUmVwbGF5PFQ+KGNvbmZpZzogU2hhcmVSZXBsYXlDb25maWcpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5leHBvcnQgZnVuY3Rpb24gc2hhcmVSZXBsYXk8VD4oYnVmZmVyU2l6ZT86IG51bWJlciwgd2luZG93VGltZT86IG51bWJlciwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBTaGFyZSBzb3VyY2UgYW5kIHJlcGxheSBzcGVjaWZpZWQgbnVtYmVyIG9mIGVtaXNzaW9ucyBvbiBzdWJzY3JpcHRpb24uXG4gKlxuICogVGhpcyBvcGVyYXRvciBpcyBhIHNwZWNpYWxpemF0aW9uIG9mIGByZXBsYXlgIHRoYXQgY29ubmVjdHMgdG8gYSBzb3VyY2Ugb2JzZXJ2YWJsZVxuICogYW5kIG11bHRpY2FzdHMgdGhyb3VnaCBhIGBSZXBsYXlTdWJqZWN0YCBjb25zdHJ1Y3RlZCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzLlxuICogQSBzdWNjZXNzZnVsbHkgY29tcGxldGVkIHNvdXJjZSB3aWxsIHN0YXkgY2FjaGVkIGluIHRoZSBgc2hhcmVSZXBsYXlgZWQgb2JzZXJ2YWJsZSBmb3JldmVyLFxuICogYnV0IGFuIGVycm9yZWQgc291cmNlIGNhbiBiZSByZXRyaWVkLlxuICpcbiAqICMjIFdoeSB1c2UgYHNoYXJlUmVwbGF5YD9cbiAqXG4gKiBZb3UgZ2VuZXJhbGx5IHdhbnQgdG8gdXNlIGBzaGFyZVJlcGxheWAgd2hlbiB5b3UgaGF2ZSBzaWRlLWVmZmVjdHMgb3IgdGF4aW5nIGNvbXB1dGF0aW9uc1xuICogdGhhdCB5b3UgZG8gbm90IHdpc2ggdG8gYmUgZXhlY3V0ZWQgYW1vbmdzdCBtdWx0aXBsZSBzdWJzY3JpYmVycy5cbiAqIEl0IG1heSBhbHNvIGJlIHZhbHVhYmxlIGluIHNpdHVhdGlvbnMgd2hlcmUgeW91IGtub3cgeW91IHdpbGwgaGF2ZSBsYXRlIHN1YnNjcmliZXJzIHRvXG4gKiBhIHN0cmVhbSB0aGF0IG5lZWQgYWNjZXNzIHRvIHByZXZpb3VzbHkgZW1pdHRlZCB2YWx1ZXMuXG4gKiBUaGlzIGFiaWxpdHkgdG8gcmVwbGF5IHZhbHVlcyBvbiBzdWJzY3JpcHRpb24gaXMgd2hhdCBkaWZmZXJlbnRpYXRlcyB7QGxpbmsgc2hhcmV9IGFuZCBgc2hhcmVSZXBsYXlgLlxuICpcbiAqICMjIFJlZmVyZW5jZSBjb3VudGluZ1xuICpcbiAqIEJ5IGRlZmF1bHQgYHNoYXJlUmVwbGF5YCB3aWxsIHVzZSBgcmVmQ291bnRgIG9mIGZhbHNlLCBtZWFuaW5nIHRoYXQgaXQgd2lsbCBfbm90XyB1bnN1YnNjcmliZSB0aGVcbiAqIHNvdXJjZSB3aGVuIHRoZSByZWZlcmVuY2UgY291bnRlciBkcm9wcyB0byB6ZXJvLCBpLmUuIHRoZSBpbm5lciBgUmVwbGF5U3ViamVjdGAgd2lsbCBfbm90XyBiZSB1bnN1YnNjcmliZWRcbiAqIChhbmQgcG90ZW50aWFsbHkgcnVuIGZvciBldmVyKS5cbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYXMgaXQgaXMgZXhwZWN0ZWQgdGhhdCBgc2hhcmVSZXBsYXlgIGlzIG9mdGVuIHVzZWQgdG8ga2VlcCBhcm91bmQgZXhwZW5zaXZlIHRvIHNldHVwXG4gKiBvYnNlcnZhYmxlcyB3aGljaCB3ZSB3YW50IHRvIGtlZXAgcnVubmluZyBpbnN0ZWFkIG9mIGhhdmluZyB0byBkbyB0aGUgZXhwZW5zaXZlIHNldHVwIGFnYWluLlxuICpcbiAqIEFzIG9mIFJYSlMgdmVyc2lvbiA2LjQuMCBhIG5ldyBvdmVybG9hZCBzaWduYXR1cmUgd2FzIGFkZGVkIHRvIGFsbG93IGZvciBtYW51YWwgY29udHJvbCBvdmVyIHdoYXRcbiAqIGhhcHBlbnMgd2hlbiB0aGUgb3BlcmF0b3JzIGludGVybmFsIHJlZmVyZW5jZSBjb3VudGVyIGRyb3BzIHRvIHplcm8uXG4gKiBJZiBgcmVmQ291bnRgIGlzIHRydWUsIHRoZSBzb3VyY2Ugd2lsbCBiZSB1bnN1YnNjcmliZWQgZnJvbSBvbmNlIHRoZSByZWZlcmVuY2UgY291bnQgZHJvcHMgdG8gemVybywgaS5lLlxuICogdGhlIGlubmVyIGBSZXBsYXlTdWJqZWN0YCB3aWxsIGJlIHVuc3Vic2NyaWJlZC4gQWxsIG5ldyBzdWJzY3JpYmVycyB3aWxsIHJlY2VpdmUgdmFsdWUgZW1pc3Npb25zIGZyb20gYVxuICogbmV3IGBSZXBsYXlTdWJqZWN0YCB3aGljaCBpbiB0dXJuIHdpbGwgY2F1c2UgYSBuZXcgc3Vic2NyaXB0aW9uIHRvIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEV4YW1wbGUgd2l0aCBhIHRoaXJkIHN1YnNjcmliZXIgY29taW5nIGxhdGUgdG8gdGhlIHBhcnR5XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlLCBzaGFyZVJlcGxheSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNoYXJlZCQgPSBpbnRlcnZhbCgyMDAwKS5waXBlKFxuICogICB0YWtlKDYpLFxuICogICBzaGFyZVJlcGxheSgzKVxuICogKTtcbiAqXG4gKiBzaGFyZWQkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdzdWIgQTogJywgeCkpO1xuICogc2hhcmVkJC5zdWJzY3JpYmUoeSA9PiBjb25zb2xlLmxvZygnc3ViIEI6ICcsIHkpKTtcbiAqXG4gKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgc2hhcmVkJC5zdWJzY3JpYmUoeSA9PiBjb25zb2xlLmxvZygnc3ViIEM6ICcsIHkpKTtcbiAqIH0sIDExMDAwKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gKGFmdGVyIH4yMDAwIG1zKVxuICogLy8gc3ViIEE6IDBcbiAqIC8vIHN1YiBCOiAwXG4gKiAvLyAoYWZ0ZXIgfjQwMDAgbXMpXG4gKiAvLyBzdWIgQTogMVxuICogLy8gc3ViIEI6IDFcbiAqIC8vIChhZnRlciB+NjAwMCBtcylcbiAqIC8vIHN1YiBBOiAyXG4gKiAvLyBzdWIgQjogMlxuICogLy8gKGFmdGVyIH44MDAwIG1zKVxuICogLy8gc3ViIEE6IDNcbiAqIC8vIHN1YiBCOiAzXG4gKiAvLyAoYWZ0ZXIgfjEwMDAwIG1zKVxuICogLy8gc3ViIEE6IDRcbiAqIC8vIHN1YiBCOiA0XG4gKiAvLyAoYWZ0ZXIgfjExMDAwIG1zLCBzdWIgQyBnZXRzIHRoZSBsYXN0IDMgdmFsdWVzKVxuICogLy8gc3ViIEM6IDJcbiAqIC8vIHN1YiBDOiAzXG4gKiAvLyBzdWIgQzogNFxuICogLy8gKGFmdGVyIH4xMjAwMCBtcylcbiAqIC8vIHN1YiBBOiA1XG4gKiAvLyBzdWIgQjogNVxuICogLy8gc3ViIEM6IDVcbiAqIGBgYFxuICpcbiAqIEV4YW1wbGUgZm9yIGByZWZDb3VudGAgdXNhZ2VcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgT2JzZXJ2YWJsZSwgdGFwLCBpbnRlcnZhbCwgc2hhcmVSZXBsYXksIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBsb2cgPSA8VD4obmFtZTogc3RyaW5nLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IHNvdXJjZS5waXBlKFxuICogICB0YXAoe1xuICogICAgIHN1YnNjcmliZTogKCkgPT4gY29uc29sZS5sb2coYCR7IG5hbWUgfTogc3Vic2NyaWJlZGApLFxuICogICAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKGAkeyBuYW1lIH06ICR7IHZhbHVlIH1gKSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coYCR7IG5hbWUgfTogY29tcGxldGVkYCksXG4gKiAgICAgZmluYWxpemU6ICgpID0+IGNvbnNvbGUubG9nKGAkeyBuYW1lIH06IHVuc3Vic2NyaWJlZGApXG4gKiAgIH0pXG4gKiApO1xuICpcbiAqIGNvbnN0IG9icyQgPSBsb2coJ3NvdXJjZScsIGludGVydmFsKDEwMDApKTtcbiAqXG4gKiBjb25zdCBzaGFyZWQkID0gbG9nKCdzaGFyZWQnLCBvYnMkLnBpcGUoXG4gKiAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gKiAgIHRha2UoMilcbiAqICkpO1xuICpcbiAqIHNoYXJlZCQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YiBBOiAnLCB4KSk7XG4gKiBzaGFyZWQkLnN1YnNjcmliZSh5ID0+IGNvbnNvbGUubG9nKCdzdWIgQjogJywgeSkpO1xuICpcbiAqIC8vIFBSSU5UUzpcbiAqIC8vIHNoYXJlZDogc3Vic2NyaWJlZCA8LS0gcmVmZXJlbmNlIGNvdW50ID0gMVxuICogLy8gc291cmNlOiBzdWJzY3JpYmVkXG4gKiAvLyBzaGFyZWQ6IHN1YnNjcmliZWQgPC0tIHJlZmVyZW5jZSBjb3VudCA9IDJcbiAqIC8vIHNvdXJjZTogMFxuICogLy8gc2hhcmVkOiAwXG4gKiAvLyBzdWIgQTogMFxuICogLy8gc2hhcmVkOiAwXG4gKiAvLyBzdWIgQjogMFxuICogLy8gc291cmNlOiAxXG4gKiAvLyBzaGFyZWQ6IDFcbiAqIC8vIHN1YiBBOiAxXG4gKiAvLyBzaGFyZWQ6IGNvbXBsZXRlZCA8LS0gdGFrZSgyKSBjb21wbGV0ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3Igc3ViIEFcbiAqIC8vIHNoYXJlZDogdW5zdWJzY3JpYmVkIDwtLSByZWZlcmVuY2UgY291bnQgPSAxXG4gKiAvLyBzaGFyZWQ6IDFcbiAqIC8vIHN1YiBCOiAxXG4gKiAvLyBzaGFyZWQ6IGNvbXBsZXRlZCA8LS0gdGFrZSgyKSBjb21wbGV0ZXMgdGhlIHN1YnNjcmlwdGlvbiBmb3Igc3ViIEJcbiAqIC8vIHNoYXJlZDogdW5zdWJzY3JpYmVkIDwtLSByZWZlcmVuY2UgY291bnQgPSAwXG4gKiAvLyBzb3VyY2U6IHVuc3Vic2NyaWJlZCA8LS0gcmVwbGF5U3ViamVjdCB1bnN1YnNjcmliZXMgZnJvbSBzb3VyY2Ugb2JzZXJ2YWJsZSBiZWNhdXNlIHRoZSByZWZlcmVuY2UgY291bnQgZHJvcHBlZCB0byAwIGFuZCByZWZDb3VudCBpcyB0cnVlXG4gKlxuICogLy8gSW4gY2FzZSBvZiByZWZDb3VudCBiZWluZyBmYWxzZSwgdGhlIHVuc3Vic2NyaWJlIGlzIG5ldmVyIGNhbGxlZCBvbiB0aGUgc291cmNlIGFuZCB0aGUgc291cmNlIHdvdWxkIGtlZXAgb24gZW1pdHRpbmcsIGV2ZW4gaWYgbm8gc3Vic2NyaWJlcnNcbiAqIC8vIGFyZSBsaXN0ZW5pbmcuXG4gKiAvLyBzb3VyY2U6IDJcbiAqIC8vIHNvdXJjZTogM1xuICogLy8gc291cmNlOiA0XG4gKiAvLyAuLi5cbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2h9XG4gKiBAc2VlIHtAbGluayBzaGFyZX1cbiAqIEBzZWUge0BsaW5rIHB1Ymxpc2hSZXBsYXl9XG4gKlxuICogQHBhcmFtIGNvbmZpZ09yQnVmZmVyU2l6ZSBNYXhpbXVtIGVsZW1lbnQgY291bnQgb2YgdGhlIHJlcGxheSBidWZmZXIgb3Ige0BsaW5rIFNoYXJlUmVwbGF5Q29uZmlnIGNvbmZpZ3VyYXRpb259XG4gKiBvYmplY3QuXG4gKiBAcGFyYW0gd2luZG93VGltZSBNYXhpbXVtIHRpbWUgbGVuZ3RoIG9mIHRoZSByZXBsYXkgYnVmZmVyIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSBzY2hlZHVsZXIgU2NoZWR1bGVyIHdoZXJlIGNvbm5lY3RlZCBvYnNlcnZlcnMgd2l0aGluIHRoZSBzZWxlY3RvciBmdW5jdGlvblxuICogd2lsbCBiZSBpbnZva2VkIG9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHNlcXVlbmNlIHRoYXQgY29udGFpbnMgdGhlXG4gKiBlbGVtZW50cyBvZiBhIHNlcXVlbmNlIHByb2R1Y2VkIGJ5IG11bHRpY2FzdGluZyB0aGUgc291cmNlIHNlcXVlbmNlIHdpdGhpbiBhXG4gKiBzZWxlY3RvciBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlUmVwbGF5PFQ+KFxuICBjb25maWdPckJ1ZmZlclNpemU/OiBTaGFyZVJlcGxheUNvbmZpZyB8IG51bWJlcixcbiAgd2luZG93VGltZT86IG51bWJlcixcbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZVxuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgbGV0IGJ1ZmZlclNpemU6IG51bWJlcjtcbiAgbGV0IHJlZkNvdW50ID0gZmFsc2U7XG4gIGlmIChjb25maWdPckJ1ZmZlclNpemUgJiYgdHlwZW9mIGNvbmZpZ09yQnVmZmVyU2l6ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAoeyBidWZmZXJTaXplID0gSW5maW5pdHksIHdpbmRvd1RpbWUgPSBJbmZpbml0eSwgcmVmQ291bnQgPSBmYWxzZSwgc2NoZWR1bGVyIH0gPSBjb25maWdPckJ1ZmZlclNpemUpO1xuICB9IGVsc2Uge1xuICAgIGJ1ZmZlclNpemUgPSAoY29uZmlnT3JCdWZmZXJTaXplID8/IEluZmluaXR5KSBhcyBudW1iZXI7XG4gIH1cbiAgcmV0dXJuIHNoYXJlPFQ+KHtcbiAgICBjb25uZWN0b3I6ICgpID0+IG5ldyBSZXBsYXlTdWJqZWN0KGJ1ZmZlclNpemUsIHdpbmRvd1RpbWUsIHNjaGVkdWxlciksXG4gICAgcmVzZXRPbkVycm9yOiB0cnVlLFxuICAgIHJlc2V0T25Db21wbGV0ZTogZmFsc2UsXG4gICAgcmVzZXRPblJlZkNvdW50WmVybzogcmVmQ291bnQsXG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4uL3V0aWwvRW1wdHlFcnJvcic7XG5cbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT3BlcmF0b3JGdW5jdGlvbiwgVHJ1dGh5VHlwZXNPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFNlcXVlbmNlRXJyb3IgfSBmcm9tICcuLi91dGlsL1NlcXVlbmNlRXJyb3InO1xuaW1wb3J0IHsgTm90Rm91bmRFcnJvciB9IGZyb20gJy4uL3V0aWwvTm90Rm91bmRFcnJvcic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZTxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlPFQ+KHByZWRpY2F0ZT86ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IGFzc2VydHMgdGhhdCBvbmx5IG9uZSB2YWx1ZSBpc1xuICogZW1pdHRlZCBmcm9tIHRoZSBvYnNlcnZhYmxlIHRoYXQgbWF0Y2hlcyB0aGUgcHJlZGljYXRlLiBJZiBub1xuICogcHJlZGljYXRlIGlzIHByb3ZpZGVkLCB0aGVuIGl0IHdpbGwgYXNzZXJ0IHRoYXQgdGhlIG9ic2VydmFibGVcbiAqIG9ubHkgZW1pdHMgb25lIHZhbHVlLlxuICpcbiAqIEluIHRoZSBldmVudCB0aGF0IHRoZSBvYnNlcnZhYmxlIGlzIGVtcHR5LCBpdCB3aWxsIHRocm93IGFuXG4gKiB7QGxpbmsgRW1wdHlFcnJvcn0uXG4gKlxuICogSW4gdGhlIGV2ZW50IHRoYXQgdHdvIHZhbHVlcyBhcmUgZm91bmQgdGhhdCBtYXRjaCB0aGUgcHJlZGljYXRlLFxuICogb3Igd2hlbiB0aGVyZSBhcmUgdHdvIHZhbHVlcyBlbWl0dGVkIGFuZCBubyBwcmVkaWNhdGUsIGl0IHdpbGxcbiAqIHRocm93IGEge0BsaW5rIFNlcXVlbmNlRXJyb3J9XG4gKlxuICogSW4gdGhlIGV2ZW50IHRoYXQgbm8gdmFsdWVzIG1hdGNoIHRoZSBwcmVkaWNhdGUsIGlmIG9uZSBpcyBwcm92aWRlZCxcbiAqIGl0IHdpbGwgdGhyb3cgYSB7QGxpbmsgTm90Rm91bmRFcnJvcn1cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRXhwZWN0IG9ubHkgYG5hbWVgIGJlZ2lubmluZyB3aXRoIGAnQidgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBzaW5nbGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UxID0gb2YoXG4gKiAgeyBuYW1lOiAnQmVuJyB9LFxuICogIHsgbmFtZTogJ1RyYWN5JyB9LFxuICogIHsgbmFtZTogJ0xhbmV5JyB9LFxuICogIHsgbmFtZTogJ0xpbHknIH1cbiAqICk7XG4gKlxuICogc291cmNlMVxuICogICAucGlwZShzaW5nbGUoeCA9PiB4Lm5hbWUuc3RhcnRzV2l0aCgnQicpKSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIC8vIEVtaXRzICdCZW4nXG4gKlxuICpcbiAqIGNvbnN0IHNvdXJjZTIgPSBvZihcbiAqICB7IG5hbWU6ICdCZW4nIH0sXG4gKiAgeyBuYW1lOiAnVHJhY3knIH0sXG4gKiAgeyBuYW1lOiAnQnJhZGxleScgfSxcbiAqICB7IG5hbWU6ICdMaW5jb2xuJyB9XG4gKiApO1xuICpcbiAqIHNvdXJjZTJcbiAqICAgLnBpcGUoc2luZ2xlKHggPT4geC5uYW1lLnN0YXJ0c1dpdGgoJ0InKSkpXG4gKiAgIC5zdWJzY3JpYmUoeyBlcnJvcjogZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSB9KTtcbiAqIC8vIEVycm9yIGVtaXR0ZWQ6IFNlcXVlbmNlRXJyb3IoJ1RvbyBtYW55IHZhbHVlcyBtYXRjaCcpXG4gKlxuICpcbiAqIGNvbnN0IHNvdXJjZTMgPSBvZihcbiAqICB7IG5hbWU6ICdMYW5leScgfSxcbiAqICB7IG5hbWU6ICdUcmFjeScgfSxcbiAqICB7IG5hbWU6ICdMaWx5JyB9LFxuICogIHsgbmFtZTogJ0xpbmNvbG4nIH1cbiAqICk7XG4gKlxuICogc291cmNlM1xuICogICAucGlwZShzaW5nbGUoeCA9PiB4Lm5hbWUuc3RhcnRzV2l0aCgnQicpKSlcbiAqICAgLnN1YnNjcmliZSh7IGVycm9yOiBlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpIH0pO1xuICogLy8gRXJyb3IgZW1pdHRlZDogTm90Rm91bmRFcnJvcignTm8gdmFsdWVzIG1hdGNoJylcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZpcnN0fVxuICogQHNlZSB7QGxpbmsgZmluZH1cbiAqIEBzZWUge0BsaW5rIGZpbmRJbmRleH1cbiAqIEBzZWUge0BsaW5rIGVsZW1lbnRBdH1cbiAqXG4gKiBAdGhyb3dzIHtOb3RGb3VuZEVycm9yfSBEZWxpdmVycyBhbiBOb3RGb3VuZEVycm9yIHRvIHRoZSBPYnNlcnZlcidzIGBlcnJvcmBcbiAqIGNhbGxiYWNrIGlmIHRoZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgYW55IGBuZXh0YCBub3RpZmljYXRpb24gd2FzIHNlbnQuXG4gKiBAdGhyb3dzIHtTZXF1ZW5jZUVycm9yfSBEZWxpdmVycyBhIFNlcXVlbmNlRXJyb3IgaWYgbW9yZSB0aGFuIG9uZSB2YWx1ZSBpcyBlbWl0dGVkIHRoYXQgbWF0Y2hlcyB0aGVcbiAqIHByb3ZpZGVkIHByZWRpY2F0ZS4gSWYgbm8gcHJlZGljYXRlIGlzIHByb3ZpZGVkLCB3aWxsIGRlbGl2ZXIgYSBTZXF1ZW5jZUVycm9yIGlmIG1vcmVcbiAqIHRoYW4gb25lIHZhbHVlIGNvbWVzIGZyb20gdGhlIHNvdXJjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIC0gQSBwcmVkaWNhdGUgZnVuY3Rpb24gdG8gZXZhbHVhdGUgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgc2luZ2xlIGl0ZW1cbiAqIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRoYXQgbWF0Y2hlcyB0aGUgcHJlZGljYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlPFQ+KHByZWRpY2F0ZT86ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBib29sZWFuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgIGxldCBzaW5nbGVWYWx1ZTogVDtcbiAgICBsZXQgc2VlblZhbHVlID0gZmFsc2U7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBzZWVuVmFsdWUgPSB0cnVlO1xuICAgICAgICAgIGlmICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKywgc291cmNlKSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgJiYgc3Vic2NyaWJlci5lcnJvcihuZXcgU2VxdWVuY2VFcnJvcignVG9vIG1hbnkgbWF0Y2hpbmcgdmFsdWVzJykpO1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgc2luZ2xlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChzaW5nbGVWYWx1ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3Ioc2VlblZhbHVlID8gbmV3IE5vdEZvdW5kRXJyb3IoJ05vIG1hdGNoaW5nIHZhbHVlcycpIDogbmV3IEVtcHR5RXJyb3IoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgc2tpcHMgdGhlIGZpcnN0IGBjb3VudGAgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogIVtdKHNraXAucG5nKVxuICpcbiAqIFNraXBzIHRoZSB2YWx1ZXMgdW50aWwgdGhlIHNlbnQgbm90aWZpY2F0aW9ucyBhcmUgZXF1YWwgb3IgbGVzcyB0aGFuIHByb3ZpZGVkIHNraXAgY291bnQuIEl0IHJhaXNlc1xuICogYW4gZXJyb3IgaWYgc2tpcCBjb3VudCBpcyBlcXVhbCBvciBtb3JlIHRoYW4gdGhlIGFjdHVhbCBudW1iZXIgb2YgZW1pdHMgYW5kIHNvdXJjZSByYWlzZXMgYW4gZXJyb3IuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFNraXAgdGhlIHZhbHVlcyBiZWZvcmUgdGhlIGVtaXNzaW9uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBza2lwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gZW1pdCBldmVyeSBoYWxmIHNlY29uZFxuICogY29uc3Qgc291cmNlID0gaW50ZXJ2YWwoNTAwKTtcbiAqIC8vIHNraXAgdGhlIGZpcnN0IDEwIGVtaXR0ZWQgdmFsdWVzXG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZShza2lwKDEwKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICogLy8gb3V0cHV0OiAxMC4uLjExLi4uMTIuLi4xMy4uLlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbGFzdH1cbiAqIEBzZWUge0BsaW5rIHNraXBXaGlsZX1cbiAqIEBzZWUge0BsaW5rIHNraXBVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHNraXBMYXN0fVxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCAtIFRoZSBudW1iZXIgb2YgdGltZXMsIGl0ZW1zIGVtaXR0ZWQgYnkgc291cmNlIE9ic2VydmFibGUgc2hvdWxkIGJlIHNraXBwZWQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBza2lwcyB0aGUgZmlyc3QgYGNvdW50YFxuICogdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2tpcDxUPihjb3VudDogbnVtYmVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIGZpbHRlcigoXywgaW5kZXgpID0+IGNvdW50IDw9IGluZGV4KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBTa2lwIGEgc3BlY2lmaWVkIG51bWJlciBvZiB2YWx1ZXMgYmVmb3JlIHRoZSBjb21wbGV0aW9uIG9mIGFuIG9ic2VydmFibGUuXG4gKlxuICogIVtdKHNraXBMYXN0LnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVtaXQgdmFsdWVzIGFzIHNvb24gYXMgaXQgY2FuLCBnaXZlbiBhIG51bWJlciBvZlxuICogc2tpcHBlZCB2YWx1ZXMuIEZvciBleGFtcGxlLCBpZiB5b3UgYHNraXBMYXN0KDMpYCBvbiBhIHNvdXJjZSwgd2hlbiB0aGUgc291cmNlXG4gKiBlbWl0cyBpdHMgZm91cnRoIHZhbHVlLCB0aGUgZmlyc3QgdmFsdWUgdGhlIHNvdXJjZSBlbWl0dGVkIHdpbGwgZmluYWxseSBiZSBlbWl0dGVkXG4gKiBmcm9tIHRoZSByZXR1cm5lZCBvYnNlcnZhYmxlLCBhcyBpdCBpcyBubyBsb25nZXIgcGFydCBvZiB3aGF0IG5lZWRzIHRvIGJlIHNraXBwZWQuXG4gKlxuICogQWxsIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSByZXN1bHQgb2YgYHNraXBMYXN0KE4pYCB3aWxsIGJlIGRlbGF5ZWQgYnkgYE5gIGVtaXNzaW9ucyxcbiAqIGFzIGVhY2ggdmFsdWUgaXMgaGVsZCBpbiBhIGJ1ZmZlciB1bnRpbCBlbm91Z2ggdmFsdWVzIGhhdmUgYmVlbiBlbWl0dGVkIHRoYXQgdGhhdFxuICogdGhlIGJ1ZmZlcmVkIHZhbHVlIG1heSBmaW5hbGx5IGJlIHNlbnQgdG8gdGhlIGNvbnN1bWVyLlxuICpcbiAqIEFmdGVyIHN1YnNjcmliaW5nLCB1bnN1YnNjcmliaW5nIHdpbGwgbm90IHJlc3VsdCBpbiB0aGUgZW1pc3Npb24gb2YgdGhlIGJ1ZmZlcmVkXG4gKiBza2lwcGVkIHZhbHVlcy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogU2tpcCB0aGUgbGFzdCAyIHZhbHVlcyBvZiBhbiBvYnNlcnZhYmxlIHdpdGggbWFueSB2YWx1ZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHNraXBMYXN0IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgbnVtYmVycyA9IG9mKDEsIDIsIDMsIDQsIDUpO1xuICogY29uc3Qgc2tpcExhc3RUd28gPSBudW1iZXJzLnBpcGUoc2tpcExhc3QoMikpO1xuICogc2tpcExhc3RUd28uc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW46XG4gKiAvLyAxIDIgM1xuICogLy8gKDQgYW5kIDUgYXJlIHNraXBwZWQpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBza2lwfVxuICogQHNlZSB7QGxpbmsgc2tpcFVudGlsfVxuICogQHNlZSB7QGxpbmsgc2tpcFdoaWxlfVxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqXG4gKiBAcGFyYW0gc2tpcENvdW50IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBza2lwcyB0aGUgbGFzdCBgY291bnRgXG4gKiB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBza2lwTGFzdDxUPihza2lwQ291bnQ6IG51bWJlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBza2lwQ291bnQgPD0gMFxuICAgID8gLy8gRm9yIHNraXBDb3VudHMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8sIHdlIGFyZSBqdXN0IG1pcnJvcmluZyB0aGUgc291cmNlLlxuICAgICAgaWRlbnRpdHlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICAvLyBBIHJpbmcgYnVmZmVyIHRvIGhvbGQgdGhlIHZhbHVlcyB3aGlsZSB3ZSB3YWl0IHRvIHNlZVxuICAgICAgICAvLyBpZiB3ZSBjYW4gZW1pdCBpdCBvciBpdCdzIHBhcnQgb2YgdGhlIFwic2tpcHBlZFwiIGxhc3QgdmFsdWVzLlxuICAgICAgICAvLyBOb3RlIHRoYXQgaXQgaXMgdGhlIF9zYW1lIHNpemVfIGFzIHRoZSBza2lwIGNvdW50LlxuICAgICAgICBsZXQgcmluZzogVFtdID0gbmV3IEFycmF5KHNraXBDb3VudCk7XG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdmFsdWVzIHNlZW4gc28gZmFyLiBUaGlzIGlzIHVzZWQgdG8gZ2V0XG4gICAgICAgIC8vIHRoZSBpbmRleCBvZiB0aGUgY3VycmVudCB2YWx1ZSB3aGVuIGl0IGFycml2ZXMuXG4gICAgICAgIGxldCBzZWVuID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSB2YWx1ZSB3ZSBoYXZlIHJpZ2h0IG5vd1xuICAgICAgICAgICAgLy8gcmVsYXRpdmUgdG8gYWxsIG90aGVyIHZhbHVlcyB3ZSd2ZSBzZWVuLCB0aGVuXG4gICAgICAgICAgICAvLyBpbmNyZW1lbnQgYHNlZW5gLiBUaGlzIGVuc3VyZXMgd2UndmUgbW92ZWQgdG9cbiAgICAgICAgICAgIC8vIHRoZSBuZXh0IHNsb3QgaW4gb3VyIHJpbmcgYnVmZmVyLlxuICAgICAgICAgICAgY29uc3QgdmFsdWVJbmRleCA9IHNlZW4rKztcbiAgICAgICAgICAgIGlmICh2YWx1ZUluZGV4IDwgc2tpcENvdW50KSB7XG4gICAgICAgICAgICAgIC8vIElmIHdlIGhhdmVuJ3Qgc2VlbiBlbm91Z2ggdmFsdWVzIHRvIGZpbGwgb3VyIGJ1ZmZlciB5ZXQsXG4gICAgICAgICAgICAgIC8vIFRoZW4gd2UgYXJlbid0IHRvIGEgbnVtYmVyIG9mIHNlZW4gdmFsdWVzIHdoZXJlIHdlIGNhblxuICAgICAgICAgICAgICAvLyBlbWl0IGFueXRoaW5nLCBzbyBsZXQncyBqdXN0IHN0YXJ0IGJ5IGZpbGxpbmcgdGhlIHJpbmcgYnVmZmVyLlxuICAgICAgICAgICAgICByaW5nW3ZhbHVlSW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBXZSBhcmUgdHJhdmVyc2luZyBvdmVyIHRoZSByaW5nIGFycmF5IGluIHN1Y2hcbiAgICAgICAgICAgICAgLy8gYSB3YXkgdGhhdCB3aGVuIHdlIGdldCB0byB0aGUgZW5kLCB3ZSBsb29wIGJhY2tcbiAgICAgICAgICAgICAgLy8gYW5kIGdvIHRvIHRoZSBzdGFydC5cbiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2YWx1ZUluZGV4ICUgc2tpcENvdW50O1xuICAgICAgICAgICAgICAvLyBQdWxsIHRoZSBvbGRlc3QgdmFsdWUgb3V0IHNvIHdlIGNhbiBlbWl0IGl0LFxuICAgICAgICAgICAgICAvLyBhbmQgc3R1ZmYgdGhlIG5ldyB2YWx1ZSBpbiBpdCdzIHBsYWNlLlxuICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHJpbmdbaW5kZXhdO1xuICAgICAgICAgICAgICByaW5nW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAvLyBFbWl0IHRoZSBvbGQgdmFsdWUuIEl0IGlzIGltcG9ydGFudCB0aGF0IHRoaXMgaGFwcGVuc1xuICAgICAgICAgICAgICAvLyBhZnRlciB3ZSBzd2FwIHRoZSB2YWx1ZSBpbiB0aGUgYnVmZmVyLCBpZiBpdCBoYXBwZW5zXG4gICAgICAgICAgICAgIC8vIGJlZm9yZSB3ZSBzd2FwIHRoZSB2YWx1ZSBpbiB0aGUgYnVmZmVyLCB0aGVuIGEgc3luY2hyb25vdXNcbiAgICAgICAgICAgICAgLy8gc291cmNlIGNhbiBnZXQgdGhlIGJ1ZmZlciBvdXQgb2Ygd2hhY2suXG4gICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIC8vIFJlbGVhc2Ugb3VyIHZhbHVlcyBpbiBtZW1vcnlcbiAgICAgICAgICByaW5nID0gbnVsbCE7XG4gICAgICAgIH07XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBza2lwcyBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB1bnRpbCBhIHNlY29uZCBPYnNlcnZhYmxlIGVtaXRzIGFuIGl0ZW0uXG4gKlxuICogVGhlIGBza2lwVW50aWxgIG9wZXJhdG9yIGNhdXNlcyB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gdG8gc2tpcCB0aGUgZW1pc3Npb24gb2YgdmFsdWVzIHVudGlsIHRoZSBwYXNzZWQgaW4gb2JzZXJ2YWJsZVxuICogZW1pdHMgdGhlIGZpcnN0IHZhbHVlLiBUaGlzIGNhbiBiZSBwYXJ0aWN1bGFybHkgdXNlZnVsIGluIGNvbWJpbmF0aW9uIHdpdGggdXNlciBpbnRlcmFjdGlvbnMsIHJlc3BvbnNlcyBvZiBIVFRQXG4gKiByZXF1ZXN0cyBvciB3YWl0aW5nIGZvciBzcGVjaWZpYyB0aW1lcyB0byBwYXNzIGJ5LlxuICpcbiAqICFbXShza2lwVW50aWwucG5nKVxuICpcbiAqIEludGVybmFsbHksIHRoZSBgc2tpcFVudGlsYCBvcGVyYXRvciBzdWJzY3JpYmVzIHRvIHRoZSBwYXNzZWQgaW4gYG5vdGlmaWVyYCBgT2JzZXJ2YWJsZUlucHV0YCAod2hpY2ggZ2V0cyBjb252ZXJ0ZWRcbiAqIHRvIGFuIE9ic2VydmFibGUpIGluIG9yZGVyIHRvIHJlY29nbml6ZSB0aGUgZW1pc3Npb24gb2YgaXRzIGZpcnN0IHZhbHVlLiBXaGVuIGBub3RpZmllcmAgZW1pdHMgbmV4dCwgdGhlIG9wZXJhdG9yXG4gKiB1bnN1YnNjcmliZXMgZnJvbSBpdCBhbmQgc3RhcnRzIGVtaXR0aW5nIHRoZSB2YWx1ZXMgb2YgdGhlICpzb3VyY2UqIG9ic2VydmFibGUgdW50aWwgaXQgY29tcGxldGVzIG9yIGVycm9ycy4gSXRcbiAqIHdpbGwgbmV2ZXIgbGV0IHRoZSAqc291cmNlKiBvYnNlcnZhYmxlIGVtaXQgYW55IHZhbHVlcyBpZiB0aGUgYG5vdGlmaWVyYCBjb21wbGV0ZXMgb3IgdGhyb3dzIGFuIGVycm9yIHdpdGhvdXRcbiAqIGVtaXR0aW5nIGEgdmFsdWUgYmVmb3JlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBJbiB0aGUgZm9sbG93aW5nIGV4YW1wbGUsIGFsbCBlbWl0dGVkIHZhbHVlcyBvZiB0aGUgaW50ZXJ2YWwgb2JzZXJ2YWJsZSBhcmUgc2tpcHBlZCB1bnRpbCB0aGUgdXNlciBjbGlja3MgYW55d2hlcmVcbiAqIHdpdGhpbiB0aGUgcGFnZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgZnJvbUV2ZW50LCBza2lwVW50aWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBpbnRlcnZhbE9ic2VydmFibGUgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGNsaWNrID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqXG4gKiBjb25zdCBlbWl0QWZ0ZXJDbGljayA9IGludGVydmFsT2JzZXJ2YWJsZS5waXBlKFxuICogICBza2lwVW50aWwoY2xpY2spXG4gKiApO1xuICogLy8gY2xpY2tlZCBhdCA0LjZzLiBvdXRwdXQ6IDUuLi42Li4uNy4uLjguLi4uLi4uLiBvclxuICogLy8gY2xpY2tlZCBhdCA3LjNzLiBvdXRwdXQ6IDguLi45Li4uMTAuLjExLi4uLi4uLlxuICogZW1pdEFmdGVyQ2xpY2suc3Vic2NyaWJlKHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBsYXN0fVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqIEBzZWUge0BsaW5rIHNraXBXaGlsZX1cbiAqIEBzZWUge0BsaW5rIHNraXBMYXN0fVxuICpcbiAqIEBwYXJhbSBub3RpZmllciBBbiBgT2JzZXJ2YWJsZUlucHV0YCB0aGF0IGhhcyB0byBlbWl0IGFuIGl0ZW0gYmVmb3JlIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbGVtZW50cyBiZWdpbiB0b1xuICogYmUgbWlycm9yZWQgYnkgdGhlIHJlc3VsdGluZyBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgc2tpcHMgaXRlbXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIHVudGlsIHRoZSBgbm90aWZpZXJgIE9ic2VydmFibGUgZW1pdHMgYW4gaXRlbSwgdGhlbiBlbWl0cyB0aGVcbiAqIHJlbWFpbmluZyBpdGVtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBVbnRpbDxUPihub3RpZmllcjogT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IHRha2luZyA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2tpcFN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICBzdWJzY3JpYmVyLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBza2lwU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGFraW5nID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBub29wXG4gICAgKTtcblxuICAgIGlubmVyRnJvbShub3RpZmllcikuc3Vic2NyaWJlKHNraXBTdWJzY3JpYmVyKTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4gdGFraW5nICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSkpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBGYWxzeSwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBza2lwV2hpbGU8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEV4dHJhY3Q8VCwgRmFsc3k+IGV4dGVuZHMgbmV2ZXIgPyBuZXZlciA6IFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBXaGlsZTxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdHJ1ZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgbmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBXaGlsZTxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBza2lwcyBhbGwgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYXMgbG9uZyBhcyBhIHNwZWNpZmllZCBjb25kaXRpb24gaG9sZHNcbiAqIHRydWUsIGJ1dCBlbWl0cyBhbGwgZnVydGhlciBzb3VyY2UgaXRlbXMgYXMgc29vbiBhcyB0aGUgY29uZGl0aW9uIGJlY29tZXMgZmFsc2UuXG4gKlxuICogIVtdKHNraXBXaGlsZS5wbmcpXG4gKlxuICogU2tpcHMgYWxsIHRoZSBub3RpZmljYXRpb25zIHdpdGggYSB0cnV0aHkgcHJlZGljYXRlLiBJdCB3aWxsIG5vdCBza2lwIHRoZSBub3RpZmljYXRpb25zIHdoZW4gdGhlIHByZWRpY2F0ZSBpcyBmYWxzeS5cbiAqIEl0IGNhbiBhbHNvIGJlIHNraXBwZWQgdXNpbmcgaW5kZXguIE9uY2UgdGhlIHByZWRpY2F0ZSBpcyB0cnVlLCBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgYWdhaW4uXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFNraXAgc29tZSBzdXBlciBoZXJvZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbSwgc2tpcFdoaWxlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gZnJvbShbJ0dyZWVuIEFycm93JywgJ1N1cGVyTWFuJywgJ0ZsYXNoJywgJ1N1cGVyR2lybCcsICdCbGFjayBDYW5hcnknXSlcbiAqIC8vIFNraXAgdGhlIGhlcm9lcyB1bnRpbCBTdXBlckdpcmxcbiAqIGNvbnN0IGV4YW1wbGUgPSBzb3VyY2UucGlwZShza2lwV2hpbGUoaGVybyA9PiBoZXJvICE9PSAnU3VwZXJHaXJsJykpO1xuICogLy8gb3V0cHV0OiBTdXBlckdpcmwsIEJsYWNrIENhbmFyeVxuICogZXhhbXBsZS5zdWJzY3JpYmUoZmVtYWxlSGVybyA9PiBjb25zb2xlLmxvZyhmZW1hbGVIZXJvKSk7XG4gKiBgYGBcbiAqXG4gKiBTa2lwIHZhbHVlcyBmcm9tIHRoZSBhcnJheSB1bnRpbCBpbmRleCA1XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIHNraXBXaGlsZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGZyb20oWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDksIDEwXSk7XG4gKiBjb25zdCBleGFtcGxlID0gc291cmNlLnBpcGUoc2tpcFdoaWxlKChfLCBpKSA9PiBpICE9PSA1KSk7XG4gKiAvLyBvdXRwdXQ6IDYsIDcsIDksIDEwXG4gKiBleGFtcGxlLnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbGFzdH1cbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKiBAc2VlIHtAbGluayBza2lwVW50aWx9XG4gKiBAc2VlIHtAbGluayBza2lwTGFzdH1cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgLSBBIGZ1bmN0aW9uIHRvIHRlc3QgZWFjaCBpdGVtIGVtaXR0ZWQgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBiZWdpbnMgZW1pdHRpbmcgaXRlbXNcbiAqIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdoZW4gdGhlIHNwZWNpZmllZCBwcmVkaWNhdGUgYmVjb21lcyBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBXaGlsZTxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgdGFraW5nID0gZmFsc2U7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4gKHRha2luZyB8fCAodGFraW5nID0gIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKykpKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb25jYXQnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSwgVmFsdWVGcm9tQXJyYXkgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbi8vIERldnMgYXJlIG1vcmUgbGlrZWx5IHRvIHBhc3MgbnVsbCBvciB1bmRlZmluZWQgdGhhbiB0aGV5IGFyZSBhIHNjaGVkdWxlclxuLy8gd2l0aG91dCBhY2NvbXBhbnlpbmcgdmFsdWVzLiBUbyBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIChuYXVnaHR5KSBkZXZzIHdob1xuLy8gdXNlIHRoZSBgc3RyaWN0TnVsbENoZWNrczogZmFsc2VgIFR5cGVTY3JpcHQgY29tcGlsZXIgb3B0aW9uLCB0aGVzZVxuLy8gb3ZlcmxvYWRzIHdpdGggZXhwbGljaXQgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcyBhcmUgaW5jbHVkZWQuXG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFdpdGg8VD4odmFsdWU6IG51bGwpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBudWxsPjtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFdpdGg8VD4odmFsdWU6IHVuZGVmaW5lZCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IHVuZGVmaW5lZD47XG5cbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgY29uY2F0QWxsYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRXaXRoPFQsIEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10gPSBUW10+KFxuICAuLi52YWx1ZXNBbmRTY2hlZHVsZXI6IFsuLi5BLCBTY2hlZHVsZXJMaWtlXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgVmFsdWVGcm9tQXJyYXk8QT4+O1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdID0gVFtdPiguLi52YWx1ZXM6IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBWYWx1ZUZyb21BcnJheTxBPj47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQsIGF0IHRoZSBtb21lbnQgb2Ygc3Vic2NyaXB0aW9uLCB3aWxsIHN5bmNocm9ub3VzbHkgZW1pdCBhbGxcbiAqIHZhbHVlcyBwcm92aWRlZCB0byB0aGlzIG9wZXJhdG9yLCB0aGVuIHN1YnNjcmliZSB0byB0aGUgc291cmNlIGFuZCBtaXJyb3IgYWxsIG9mIGl0cyBlbWlzc2lvbnNcbiAqIHRvIHN1YnNjcmliZXJzLlxuICpcbiAqIFRoaXMgaXMgYSB1c2VmdWwgd2F5IHRvIGtub3cgd2hlbiBzdWJzY3JpcHRpb24gaGFzIG9jY3VycmVkIG9uIGFuIGV4aXN0aW5nIG9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZpcnN0IGVtaXRzIGl0cyBhcmd1bWVudHMgaW4gb3JkZXIsIGFuZCB0aGVuIGFueVxuICogZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZS48L3NwYW4+XG4gKlxuICogIVtdKHN0YXJ0V2l0aC5wbmcpXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBFbWl0IGEgdmFsdWUgd2hlbiBhIHRpbWVyIHN0YXJ0cy5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdGltZXIsIG1hcCwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogdGltZXIoMTAwMClcbiAqICAgLnBpcGUoXG4gKiAgICAgbWFwKCgpID0+ICd0aW1lciBlbWl0JyksXG4gKiAgICAgc3RhcnRXaXRoKCd0aW1lciBzdGFydCcpXG4gKiAgIClcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyByZXN1bHRzOlxuICogLy8gJ3RpbWVyIHN0YXJ0J1xuICogLy8gJ3RpbWVyIGVtaXQnXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWVzIEl0ZW1zIHlvdSB3YW50IHRoZSBtb2RpZmllZCBPYnNlcnZhYmxlIHRvIGVtaXQgZmlyc3QuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBzeW5jaHJvbm91c2x5IGVtaXRzXG4gKiBwcm92aWRlZCB2YWx1ZXMgYmVmb3JlIHN1YnNjcmliaW5nIHRvIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqXG4gKiBAc2VlIHtAbGluayBlbmRXaXRofVxuICogQHNlZSB7QGxpbmsgZmluYWxpemV9XG4gKiBAc2VlIHtAbGluayBjb25jYXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFdpdGg8VCwgRD4oLi4udmFsdWVzOiBEW10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFQgfCBEPiB7XG4gIGNvbnN0IHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcih2YWx1ZXMpO1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gSGVyZSB3ZSBjYW4ndCBwYXNzIGB1bmRlZmluZWRgIGFzIGEgc2NoZWR1bGVyLCBiZWNhdXNlIGlmIHdlIGRpZCwgdGhlXG4gICAgLy8gY29kZSBpbnNpZGUgb2YgYGNvbmNhdGAgd291bGQgYmUgY29uZnVzZWQgYnkgdGhlIGB1bmRlZmluZWRgLCBhbmQgdHJlYXQgaXRcbiAgICAvLyBsaWtlIGFuIGludmFsaWQgb2JzZXJ2YWJsZS4gU28gd2UgaGF2ZSB0byBzcGxpdCBpdCB0d28gZGlmZmVyZW50IHdheXMuXG4gICAgKHNjaGVkdWxlciA/IGNvbmNhdCh2YWx1ZXMsIHNvdXJjZSwgc2NoZWR1bGVyKSA6IGNvbmNhdCh2YWx1ZXMsIHNvdXJjZSkpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzdWJzY3JpYmVzIE9ic2VydmVycyB0byB0aGlzIE9ic2VydmFibGUgb24gdGhlIHNwZWNpZmllZCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0uXG4gKlxuICogV2l0aCBgc3Vic2NyaWJlT25gIHlvdSBjYW4gZGVjaWRlIHdoYXQgdHlwZSBvZiBzY2hlZHVsZXIgYSBzcGVjaWZpYyBPYnNlcnZhYmxlIHdpbGwgYmUgdXNpbmcgd2hlbiBpdCBpcyBzdWJzY3JpYmVkIHRvLlxuICpcbiAqIFNjaGVkdWxlcnMgY29udHJvbCB0aGUgc3BlZWQgYW5kIG9yZGVyIG9mIGVtaXNzaW9ucyB0byBvYnNlcnZlcnMgZnJvbSBhbiBPYnNlcnZhYmxlIHN0cmVhbS5cbiAqXG4gKiAhW10oc3Vic2NyaWJlT24ucG5nKVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIGNvZGU6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtZXJnZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGEgPSBvZigxLCAyLCAzKTtcbiAqIGNvbnN0IGIgPSBvZig0LCA1LCA2KTtcbiAqXG4gKiBtZXJnZShhLCBiKS5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDRcbiAqIC8vIDVcbiAqIC8vIDZcbiAqIGBgYFxuICpcbiAqIEJvdGggT2JzZXJ2YWJsZSBgYWAgYW5kIGBiYCB3aWxsIGVtaXQgdGhlaXIgdmFsdWVzIGRpcmVjdGx5IGFuZCBzeW5jaHJvbm91c2x5IG9uY2UgdGhleSBhcmUgc3Vic2NyaWJlZCB0by5cbiAqXG4gKiBJZiB3ZSBpbnN0ZWFkIHVzZSB0aGUgYHN1YnNjcmliZU9uYCBvcGVyYXRvciBkZWNsYXJpbmcgdGhhdCB3ZSB3YW50IHRvIHVzZSB0aGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBmb3IgdmFsdWVzIGVtaXR0ZWQgYnkgT2JzZXJ2YWJsZSBgYWA6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBzdWJzY3JpYmVPbiwgYXN5bmNTY2hlZHVsZXIsIG1lcmdlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYSA9IG9mKDEsIDIsIDMpLnBpcGUoc3Vic2NyaWJlT24oYXN5bmNTY2hlZHVsZXIpKTtcbiAqIGNvbnN0IGIgPSBvZig0LCA1LCA2KTtcbiAqXG4gKiBtZXJnZShhLCBiKS5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDRcbiAqIC8vIDVcbiAqIC8vIDZcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIGBgYFxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCBPYnNlcnZhYmxlIGBiYCBlbWl0cyBpdHMgdmFsdWVzIGRpcmVjdGx5IGFuZCBzeW5jaHJvbm91c2x5IGxpa2UgYmVmb3JlXG4gKiBidXQgdGhlIGVtaXNzaW9ucyBmcm9tIGBhYCBhcmUgc2NoZWR1bGVkIG9uIHRoZSBldmVudCBsb29wIGJlY2F1c2Ugd2UgYXJlIG5vdyB1c2luZyB0aGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBmb3IgdGhhdCBzcGVjaWZpYyBPYnNlcnZhYmxlLlxuICpcbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byBwZXJmb3JtIHN1YnNjcmlwdGlvbiBhY3Rpb25zIG9uLlxuICogQHBhcmFtIGRlbGF5IEEgZGVsYXkgdG8gcGFzcyB0byB0aGUgc2NoZWR1bGVyIHRvIGRlbGF5IHN1YnNjcmlwdGlvbnNcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBtb2RpZmllZCBzbyB0aGF0IGl0c1xuICogc3Vic2NyaXB0aW9ucyBoYXBwZW4gb24gdGhlIHNwZWNpZmllZCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVPbjxUPihzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UsIGRlbGF5OiBudW1iZXIgPSAwKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpLCBkZWxheSkpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi9zd2l0Y2hNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlIGludG8gYSBmaXJzdC1vcmRlciBPYnNlcnZhYmxlXG4gKiBwcm9kdWNpbmcgdmFsdWVzIG9ubHkgZnJvbSB0aGUgbW9zdCByZWNlbnQgb2JzZXJ2YWJsZSBzZXF1ZW5jZVxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5GbGF0dGVucyBhbiBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzLjwvc3Bhbj5cbiAqXG4gKiAhW10oc3dpdGNoQWxsLnBuZylcbiAqXG4gKiBgc3dpdGNoQWxsYCBzdWJzY3JpYmVzIHRvIGEgc291cmNlIHRoYXQgaXMgYW4gb2JzZXJ2YWJsZSBvZiBvYnNlcnZhYmxlcywgYWxzbyBrbm93biBhcyBhXG4gKiBcImhpZ2hlci1vcmRlciBvYnNlcnZhYmxlXCIgKG9yIGBPYnNlcnZhYmxlPE9ic2VydmFibGU8VD4+YCkuIEl0IHN1YnNjcmliZXMgdG8gdGhlIG1vc3QgcmVjZW50bHlcbiAqIHByb3ZpZGVkIFwiaW5uZXIgb2JzZXJ2YWJsZVwiIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSwgdW5zdWJzY3JpYmluZyBmcm9tIGFueSBwcmV2aW91c2x5IHN1YnNjcmliZWRcbiAqIHRvIGlubmVyIG9ic2VydmFibGUsIHN1Y2ggdGhhdCBvbmx5IHRoZSBtb3N0IHJlY2VudCBpbm5lciBvYnNlcnZhYmxlIG1heSBiZSBzdWJzY3JpYmVkIHRvIGF0XG4gKiBhbnkgcG9pbnQgaW4gdGltZS4gVGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHJldHVybmVkIGJ5IGBzd2l0Y2hBbGxgIHdpbGwgb25seSBjb21wbGV0ZSBpZiB0aGVcbiAqIHNvdXJjZSBvYnNlcnZhYmxlIGNvbXBsZXRlcywgKmFuZCogYW55IGN1cnJlbnRseSBzdWJzY3JpYmVkIHRvIGlubmVyIG9ic2VydmFibGUgYWxzbyBoYXMgY29tcGxldGVkLFxuICogaWYgdGhlcmUgYXJlIGFueS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIFNwYXduIGEgbmV3IGludGVydmFsIG9ic2VydmFibGUgZm9yIGVhY2ggY2xpY2sgZXZlbnQsIGJ1dCBmb3IgZXZlcnkgbmV3XG4gKiBjbGljaywgY2FuY2VsIHRoZSBwcmV2aW91cyBpbnRlcnZhbCBhbmQgc3Vic2NyaWJlIHRvIHRoZSBuZXcgb25lXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgdGFwLCBtYXAsIGludGVydmFsLCBzd2l0Y2hBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpLnBpcGUodGFwKCgpID0+IGNvbnNvbGUubG9nKCdjbGljaycpKSk7XG4gKiBjb25zdCBzb3VyY2UgPSBjbGlja3MucGlwZShtYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkpKTtcbiAqXG4gKiBzb3VyY2VcbiAqICAgLnBpcGUoc3dpdGNoQWxsKCkpXG4gKiAgIC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gT3V0cHV0XG4gKiAvLyBjbGlja1xuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogLy8gLi4uXG4gKiAvLyBjbGlja1xuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogLy8gLi4uXG4gKiAvLyBjbGlja1xuICogLy8gLi4uXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb21iaW5lTGF0ZXN0QWxsfVxuICogQHNlZSB7QGxpbmsgY29uY2F0QWxsfVxuICogQHNlZSB7QGxpbmsgZXhoYXVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcFRvfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgY29udmVydHMgYSBoaWdoZXItb3JkZXJcbiAqIE9ic2VydmFibGUgaW50byBhIGZpcnN0LW9yZGVyIE9ic2VydmFibGUgcHJvZHVjaW5nIHZhbHVlcyBvbmx5IGZyb20gdGhlIG1vc3RcbiAqIHJlY2VudCBPYnNlcnZhYmxlIHNlcXVlbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoQWxsPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oKTogT3BlcmF0b3JGdW5jdGlvbjxPLCBPYnNlcnZlZFZhbHVlT2Y8Tz4+IHtcbiAgcmV0dXJuIHN3aXRjaE1hcChpZGVudGl0eSk7XG59XG4iLCJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I6IHVuZGVmaW5lZFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUHJvamVjdHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSB3aGljaCBpcyBtZXJnZWQgaW4gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZSwgZW1pdHRpbmcgdmFsdWVzIG9ubHkgZnJvbSB0aGUgbW9zdCByZWNlbnRseSBwcm9qZWN0ZWQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TWFwcyBlYWNoIHZhbHVlIHRvIGFuIE9ic2VydmFibGUsIHRoZW4gZmxhdHRlbnMgYWxsIG9mXG4gKiB0aGVzZSBpbm5lciBPYnNlcnZhYmxlcy48L3NwYW4+XG4gKlxuICogIVtdKHN3aXRjaE1hcC5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgYmFzZWQgb24gYXBwbHlpbmcgYSBmdW5jdGlvbiB0aGF0IHlvdVxuICogc3VwcGx5IHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hlcmUgdGhhdCBmdW5jdGlvblxuICogcmV0dXJucyBhbiAoc28tY2FsbGVkIFwiaW5uZXJcIikgT2JzZXJ2YWJsZS4gRWFjaCB0aW1lIGl0IG9ic2VydmVzIG9uZSBvZiB0aGVzZVxuICogaW5uZXIgT2JzZXJ2YWJsZXMsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBiZWdpbnMgZW1pdHRpbmcgdGhlIGl0ZW1zIGVtaXR0ZWQgYnlcbiAqIHRoYXQgaW5uZXIgT2JzZXJ2YWJsZS4gV2hlbiBhIG5ldyBpbm5lciBPYnNlcnZhYmxlIGlzIGVtaXR0ZWQsIGBzd2l0Y2hNYXBgXG4gKiBzdG9wcyBlbWl0dGluZyBpdGVtcyBmcm9tIHRoZSBlYXJsaWVyLWVtaXR0ZWQgaW5uZXIgT2JzZXJ2YWJsZSBhbmQgYmVnaW5zXG4gKiBlbWl0dGluZyBpdGVtcyBmcm9tIHRoZSBuZXcgb25lLiBJdCBjb250aW51ZXMgdG8gYmVoYXZlIGxpa2UgdGhpcyBmb3JcbiAqIHN1YnNlcXVlbnQgaW5uZXIgT2JzZXJ2YWJsZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEdlbmVyYXRlIG5ldyBPYnNlcnZhYmxlIGFjY29yZGluZyB0byBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHN3aXRjaGVkID0gb2YoMSwgMiwgMykucGlwZShzd2l0Y2hNYXAoeCA9PiBvZih4LCB4ICoqIDIsIHggKiogMykpKTtcbiAqIHN3aXRjaGVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIC8vIG91dHB1dHNcbiAqIC8vIDFcbiAqIC8vIDFcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDRcbiAqIC8vIDhcbiAqIC8vIDNcbiAqIC8vIDlcbiAqIC8vIDI3XG4gKiBgYGBcbiAqXG4gKiBSZXN0YXJ0IGFuIGludGVydmFsIE9ic2VydmFibGUgb24gZXZlcnkgY2xpY2sgZXZlbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBzd2l0Y2hNYXAsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHN3aXRjaE1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaEFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcFRvfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIpOiBPYnNlcnZhYmxlSW5wdXR9IHByb2plY3QgQSBmdW5jdGlvblxuICogdGhhdCwgd2hlbiBhcHBsaWVkIHRvIGFuIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHJldHVybnMgYW5cbiAqIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0IG9mXG4gKiBhcHBseWluZyB0aGUgcHJvamVjdGlvbiBmdW5jdGlvbiAoYW5kIHRoZSBvcHRpb25hbCBkZXByZWNhdGVkXG4gKiBgcmVzdWx0U2VsZWN0b3JgKSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIHRha2luZ1xuICogb25seSB0aGUgdmFsdWVzIGZyb20gdGhlIG1vc3QgcmVjZW50bHkgcHJvamVjdGVkIGlubmVyIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXA8VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3Rvcj86IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPiB8IFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBpbm5lclN1YnNjcmliZXI6IFN1YnNjcmliZXI8T2JzZXJ2ZWRWYWx1ZU9mPE8+PiB8IG51bGwgPSBudWxsO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgLy8gV2hldGhlciBvciBub3QgdGhlIHNvdXJjZSBzdWJzY3JpcHRpb24gaGFzIGNvbXBsZXRlZFxuICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAvLyBXZSBvbmx5IGNvbXBsZXRlIHRoZSByZXN1bHQgaWYgdGhlIHNvdXJjZSBpcyBjb21wbGV0ZSBBTkQgd2UgZG9uJ3QgaGF2ZSBhbiBhY3RpdmUgaW5uZXIgc3Vic2NyaXB0aW9uLlxuICAgIC8vIFRoaXMgaXMgY2FsbGVkIGJvdGggd2hlbiB0aGUgc291cmNlIGNvbXBsZXRlcyBhbmQgd2hlbiB0aGUgaW5uZXJzIGNvbXBsZXRlLlxuICAgIGNvbnN0IGNoZWNrQ29tcGxldGUgPSAoKSA9PiBpc0NvbXBsZXRlICYmICFpbm5lclN1YnNjcmliZXIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBwcmV2aW91cyBpbm5lciBzdWJzY3JpcHRpb24gaWYgdGhlcmUgd2FzIG9uZVxuICAgICAgICAgIGlubmVyU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICBsZXQgaW5uZXJJbmRleCA9IDA7XG4gICAgICAgICAgY29uc3Qgb3V0ZXJJbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgLy8gU3RhcnQgdGhlIG5leHQgaW5uZXIgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIG91dGVySW5kZXgpKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoaW5uZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAvLyBXaGVuIHdlIGdldCBhIG5ldyBpbm5lciB2YWx1ZSwgbmV4dCBpdCB0aHJvdWdoLiBOb3RlIHRoYXQgdGhpcyBpc1xuICAgICAgICAgICAgICAvLyBoYW5kbGluZyB0aGUgZGVwcmVjYXRlIHJlc3VsdCBzZWxlY3RvciBoZXJlLiBUaGlzIGlzIGJlY2F1c2Ugd2l0aCB0aGlzIGFyY2hpdGVjdHVyZVxuICAgICAgICAgICAgICAvLyBpdCBlbmRzIHVwIGJlaW5nIHNtYWxsZXIgdGhhbiB1c2luZyB0aGUgbWFwIG9wZXJhdG9yLlxuICAgICAgICAgICAgICAoaW5uZXJWYWx1ZSkgPT4gc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IodmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgrKykgOiBpbm5lclZhbHVlKSxcbiAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBpbm5lciBoYXMgY29tcGxldGVkLiBOdWxsIG91dCB0aGUgaW5uZXIgc3Vic2NyaWJlciB0b1xuICAgICAgICAgICAgICAgIC8vIGZyZWUgdXAgbWVtb3J5IGFuZCB0byBzaWduYWwgdGhhdCB3ZSBoYXZlIG5vIGlubmVyIHN1YnNjcmlwdGlvblxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRseS5cbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBudWxsITtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAnLi9zd2l0Y2hNYXAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyoqIEBkZXByZWNhdGVkIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OS4gVXNlIHtAbGluayBzd2l0Y2hNYXB9IGluc3RlYWQ6IGBzd2l0Y2hNYXAoKCkgPT4gcmVzdWx0KWAgKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXBUbzxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihvYnNlcnZhYmxlOiBPKTogT3BlcmF0b3JGdW5jdGlvbjx1bmtub3duLCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcFRvPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8dW5rbm93bj4+KFxuICBvYnNlcnZhYmxlOiBPLFxuICByZXN1bHRTZWxlY3RvcjogdW5kZWZpbmVkXG4pOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwVG88VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPj4oXG4gIG9ic2VydmFibGU6IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcblxuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byB0aGUgc2FtZSBPYnNlcnZhYmxlIHdoaWNoIGlzIGZsYXR0ZW5lZCBtdWx0aXBsZVxuICogdGltZXMgd2l0aCB7QGxpbmsgc3dpdGNoTWFwfSBpbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgc3dpdGNoTWFwfSwgYnV0IG1hcHMgZWFjaCB2YWx1ZVxuICogYWx3YXlzIHRvIHRoZSBzYW1lIGlubmVyIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShzd2l0Y2hNYXBUby5wbmcpXG4gKlxuICogTWFwcyBlYWNoIHNvdXJjZSB2YWx1ZSB0byB0aGUgZ2l2ZW4gT2JzZXJ2YWJsZSBgaW5uZXJPYnNlcnZhYmxlYCByZWdhcmRsZXNzXG4gKiBvZiB0aGUgc291cmNlIHZhbHVlLCBhbmQgdGhlbiBmbGF0dGVucyB0aG9zZSByZXN1bHRpbmcgT2JzZXJ2YWJsZXMgaW50byBvbmVcbiAqIHNpbmdsZSBPYnNlcnZhYmxlLCB3aGljaCBpcyB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZXNcbiAqIGVtaXRzIHZhbHVlcyBvbmx5IGZyb20gdGhlIG1vc3QgcmVjZW50bHkgZW1pdHRlZCBpbnN0YW5jZSBvZlxuICogYGlubmVyT2JzZXJ2YWJsZWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFJlc3RhcnQgYW4gaW50ZXJ2YWwgT2JzZXJ2YWJsZSBvbiBldmVyeSBjbGljayBldmVudFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHN3aXRjaE1hcFRvLCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShzd2l0Y2hNYXBUbyhpbnRlcnZhbCgxMDAwKSkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcFRvfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoQWxsfVxuICogQHNlZSB7QGxpbmsgc3dpdGNoTWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXBUb31cbiAqXG4gKiBAcGFyYW0ge09ic2VydmFibGVJbnB1dH0gaW5uZXJPYnNlcnZhYmxlIEFuIE9ic2VydmFibGUgdG8gcmVwbGFjZSBlYWNoIHZhbHVlIGZyb21cbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGZyb20gdGhlXG4gKiBnaXZlbiBgaW5uZXJPYnNlcnZhYmxlYCAoYW5kIG9wdGlvbmFsbHkgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGUgZGVwcmVjYXRlZFxuICogYHJlc3VsdFNlbGVjdG9yYCkgZXZlcnkgdGltZSBhIHZhbHVlIGlzIGVtaXR0ZWQgb24gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLFxuICogYW5kIHRha2luZyBvbmx5IHRoZSB2YWx1ZXMgZnJvbSB0aGUgbW9zdCByZWNlbnRseSBwcm9qZWN0ZWQgaW5uZXJcbiAqIE9ic2VydmFibGUuXG4gKiBAZGVwcmVjYXRlZCBXaWxsIGJlIHJlbW92ZWQgaW4gdjkuIFVzZSB7QGxpbmsgc3dpdGNoTWFwfSBpbnN0ZWFkOiBgc3dpdGNoTWFwKCgpID0+IHJlc3VsdClgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXBUbzxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+PihcbiAgaW5uZXJPYnNlcnZhYmxlOiBPLFxuICByZXN1bHRTZWxlY3Rvcj86IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPiB8IFI+IHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpID8gc3dpdGNoTWFwKCgpID0+IGlubmVyT2JzZXJ2YWJsZSwgcmVzdWx0U2VsZWN0b3IpIDogc3dpdGNoTWFwKCgpID0+IGlubmVyT2JzZXJ2YWJsZSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHN3aXRjaE1hcCB9IGZyb20gJy4vc3dpdGNoTWFwJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG4vLyBUT0RPOiBHZW5lcmF0ZSBhIG1hcmJsZSBkaWFncmFtIGZvciB0aGVzZSBkb2NzLlxuXG4vKipcbiAqIEFwcGxpZXMgYW4gYWNjdW11bGF0b3IgZnVuY3Rpb24gb3ZlciB0aGUgc291cmNlIE9ic2VydmFibGUgd2hlcmUgdGhlXG4gKiBhY2N1bXVsYXRvciBmdW5jdGlvbiBpdHNlbGYgcmV0dXJucyBhbiBPYnNlcnZhYmxlLCBlbWl0dGluZyB2YWx1ZXNcbiAqIG9ubHkgZnJvbSB0aGUgbW9zdCByZWNlbnRseSByZXR1cm5lZCBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIG1lcmdlU2Nhbn0sIGJ1dCBvbmx5IHRoZSBtb3N0IHJlY2VudFxuICogT2JzZXJ2YWJsZSByZXR1cm5lZCBieSB0aGUgYWNjdW11bGF0b3IgaXMgbWVyZ2VkIGludG8gdGhlIG91dGVyIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqIEBzZWUge0BsaW5rIHNjYW59XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hNYXB9XG4gKlxuICogQHBhcmFtIGFjY3VtdWxhdG9yXG4gKiBUaGUgYWNjdW11bGF0b3IgZnVuY3Rpb24gY2FsbGVkIG9uIGVhY2ggc291cmNlIHZhbHVlLlxuICogQHBhcmFtIHNlZWQgVGhlIGluaXRpYWwgYWNjdW11bGF0aW9uIHZhbHVlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBvYnNlcnZhYmxlIG9mIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hTY2FuPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIGFjY3VtdWxhdG9yOiAoYWNjOiBSLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgc2VlZDogUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBzdGF0ZSB3ZSB3aWxsIGtlZXAgdXAgdG8gZGF0ZSB0byBwYXNzIGludG8gb3VyXG4gICAgLy8gYWNjdW11bGF0b3IgZnVuY3Rpb24gYXQgZWFjaCBuZXcgdmFsdWUgZnJvbSB0aGUgc291cmNlLlxuICAgIGxldCBzdGF0ZSA9IHNlZWQ7XG5cbiAgICAvLyBVc2UgYHN3aXRjaE1hcGAgb24gb3VyIGBzb3VyY2VgIHRvIGRvIHRoZSB3b3JrIG9mIGNyZWF0aW5nXG4gICAgLy8gdGhpcyBvcGVyYXRvci4gTm90ZSB0aGUgYmFja3dhcmRzIG9yZGVyIGhlcmUgb2YgYHN3aXRjaE1hcCgpKHNvdXJjZSlgXG4gICAgLy8gdG8gYXZvaWQgbmVlZGluZyB0byB1c2UgYHBpcGVgIHVubmVjZXNzYXJpbHlcbiAgICBzd2l0Y2hNYXAoXG4gICAgICAvLyBPbiBlYWNoIHZhbHVlIGZyb20gdGhlIHNvdXJjZSwgY2FsbCB0aGUgYWNjdW11bGF0b3Igd2l0aFxuICAgICAgLy8gb3VyIHByZXZpb3VzIHN0YXRlLCB0aGUgdmFsdWUgYW5kIHRoZSBpbmRleC5cbiAgICAgICh2YWx1ZTogVCwgaW5kZXgpID0+IGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaW5kZXgpLFxuICAgICAgLy8gVXNpbmcgdGhlIGRlcHJlY2F0ZWQgcmVzdWx0IHNlbGVjdG9yIGhlcmUgYXMgYSBkaXJ0eSB0cmlja1xuICAgICAgLy8gdG8gdXBkYXRlIG91ciBzdGF0ZSB3aXRoIHRoZSBmbGF0dGVuZWQgdmFsdWUuXG4gICAgICAoXywgaW5uZXJWYWx1ZSkgPT4gKChzdGF0ZSA9IGlubmVyVmFsdWUpLCBpbm5lclZhbHVlKVxuICAgICkoc291cmNlKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gUmVsZWFzZSBzdGF0ZSBvbiBmaW5hbGl6YXRpb25cbiAgICAgIHN0YXRlID0gbnVsbCE7XG4gICAgfTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4uL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKlxuICogRW1pdHMgb25seSB0aGUgZmlyc3QgYGNvdW50YCB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRha2VzIHRoZSBmaXJzdCBgY291bnRgIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UsIHRoZW5cbiAqIGNvbXBsZXRlcy48L3NwYW4+XG4gKlxuICogIVtdKHRha2UucG5nKVxuICpcbiAqIGB0YWtlYCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBvbmx5IHRoZSBmaXJzdCBgY291bnRgIHZhbHVlcyBlbWl0dGVkXG4gKiBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIHRoZSBzb3VyY2UgZW1pdHMgZmV3ZXIgdGhhbiBgY291bnRgIHZhbHVlcyB0aGVuXG4gKiBhbGwgb2YgaXRzIHZhbHVlcyBhcmUgZW1pdHRlZC4gQWZ0ZXIgdGhhdCwgaXQgY29tcGxldGVzLCByZWdhcmRsZXNzIGlmIHRoZVxuICogc291cmNlIGNvbXBsZXRlcy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGFrZSB0aGUgZmlyc3QgNSBzZWNvbmRzIG9mIGFuIGluZmluaXRlIDEtc2Vjb25kIGludGVydmFsIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBpbnRlcnZhbENvdW50ID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCB0YWtlRml2ZSA9IGludGVydmFsQ291bnQucGlwZSh0YWtlKDUpKTtcbiAqIHRha2VGaXZlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMFxuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogLy8gNFxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgdGFrZUxhc3R9XG4gKiBAc2VlIHtAbGluayB0YWtlVW50aWx9XG4gKiBAc2VlIHtAbGluayB0YWtlV2hpbGV9XG4gKiBAc2VlIHtAbGluayBza2lwfVxuICpcbiAqIEBwYXJhbSBjb3VudCBUaGUgbWF4aW11bSBudW1iZXIgb2YgYG5leHRgIHZhbHVlcyB0byBlbWl0LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgb25seSB0aGUgZmlyc3RcbiAqIGBjb3VudGAgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBvciBhbGwgb2YgdGhlIHZhbHVlcyBmcm9tXG4gKiB0aGUgc291cmNlIGlmIHRoZSBzb3VyY2UgZW1pdHMgZmV3ZXIgdGhhbiBgY291bnRgIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRha2U8VD4oY291bnQ6IG51bWJlcik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBjb3VudCA8PSAwXG4gICAgPyAvLyBJZiB3ZSBhcmUgdGFraW5nIG5vIHZhbHVlcywgdGhhdCdzIGVtcHR5LlxuICAgICAgKCkgPT4gRU1QVFlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICBsZXQgc2VlbiA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBudW1iZXIgb2YgdmFsdWVzIHdlIGhhdmUgc2VlbixcbiAgICAgICAgICAgIC8vIHRoZW4gY2hlY2sgaXQgYWdhaW5zdCB0aGUgYWxsb3dlZCBjb3VudCB0byBzZWVcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBzdGlsbCBsZXR0aW5nIHZhbHVlcyB0aHJvdWdoLlxuICAgICAgICAgICAgaWYgKCsrc2VlbiA8PSBjb3VudCkge1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1ldCBvciBwYXNzZWQgb3VyIGFsbG93ZWQgY291bnQsXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gY29tcGxldGUuIFdlIGhhdmUgdG8gZG8gPD0gaGVyZSxcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSByZS1lbnRyYW50IGNvZGUgd2lsbCBpbmNyZW1lbnQgYHNlZW5gIHR3aWNlLlxuICAgICAgICAgICAgICBpZiAoY291bnQgPD0gc2Vlbikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBXYWl0cyBmb3IgdGhlIHNvdXJjZSB0byBjb21wbGV0ZSwgdGhlbiBlbWl0cyB0aGUgbGFzdCBOIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UsXG4gKiBhcyBzcGVjaWZpZWQgYnkgdGhlIGBjb3VudGAgYXJndW1lbnQuXG4gKlxuICogIVtdKHRha2VMYXN0LnBuZylcbiAqXG4gKiBgdGFrZUxhc3RgIHJlc3VsdHMgaW4gYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgaG9sZCB2YWx1ZXMgdXAgdG8gYGNvdW50YCB2YWx1ZXMgaW4gbWVtb3J5LFxuICogdW50aWwgdGhlIHNvdXJjZSBjb21wbGV0ZXMuIEl0IHRoZW4gcHVzaGVzIGFsbCB2YWx1ZXMgaW4gbWVtb3J5IHRvIHRoZSBjb25zdW1lciwgaW4gdGhlXG4gKiBvcmRlciB0aGV5IHdlcmUgcmVjZWl2ZWQgZnJvbSB0aGUgc291cmNlLCB0aGVuIG5vdGlmaWVzIHRoZSBjb25zdW1lciB0aGF0IGl0IGlzXG4gKiBjb21wbGV0ZS5cbiAqXG4gKiBJZiBmb3Igc29tZSByZWFzb24gdGhlIHNvdXJjZSBjb21wbGV0ZXMgYmVmb3JlIHRoZSBgY291bnRgIHN1cHBsaWVkIHRvIGB0YWtlTGFzdGAgaXMgcmVhY2hlZCxcbiAqIGFsbCB2YWx1ZXMgcmVjZWl2ZWQgdW50aWwgdGhhdCBwb2ludCBhcmUgZW1pdHRlZCwgYW5kIHRoZW4gY29tcGxldGlvbiBpcyBub3RpZmllZC5cbiAqXG4gKiAqKldhcm5pbmcqKjogVXNpbmcgYHRha2VMYXN0YCB3aXRoIGFuIG9ic2VydmFibGUgdGhhdCBuZXZlciBjb21wbGV0ZXMgd2lsbCByZXN1bHRcbiAqIGluIGFuIG9ic2VydmFibGUgdGhhdCBuZXZlciBlbWl0cyBhIHZhbHVlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUYWtlIHRoZSBsYXN0IDMgdmFsdWVzIG9mIGFuIE9ic2VydmFibGUgd2l0aCBtYW55IHZhbHVlc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyByYW5nZSwgdGFrZUxhc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBtYW55ID0gcmFuZ2UoMSwgMTAwKTtcbiAqIGNvbnN0IGxhc3RUaHJlZSA9IG1hbnkucGlwZSh0YWtlTGFzdCgzKSk7XG4gKiBsYXN0VGhyZWUuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqIEBzZWUge0BsaW5rIHRha2VVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHRha2VXaGlsZX1cbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKlxuICogQHBhcmFtIGNvdW50IFRoZSBtYXhpbXVtIG51bWJlciBvZiB2YWx1ZXMgdG8gZW1pdCBmcm9tIHRoZSBlbmQgb2ZcbiAqIHRoZSBzZXF1ZW5jZSBvZiB2YWx1ZXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhdCBtb3N0IHRoZSBsYXN0XG4gKiBgY291bnRgIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VMYXN0PFQ+KGNvdW50OiBudW1iZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gY291bnQgPD0gMFxuICAgID8gKCkgPT4gRU1QVFlcbiAgICA6IG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICAvLyBUaGlzIGJ1ZmZlciB3aWxsIGhvbGQgdGhlIHZhbHVlcyB3ZSBhcmUgZ29pbmcgdG8gZW1pdFxuICAgICAgICAvLyB3aGVuIHRoZSBzb3VyY2UgY29tcGxldGVzLiBTaW5jZSB3ZSBvbmx5IHdhbnQgdG8gdGFrZSB0aGVcbiAgICAgICAgLy8gbGFzdCBOIHZhbHVlcywgd2UgY2FuJ3QgZW1pdCB1bnRpbCB3ZSdyZSBzdXJlIHdlJ3JlIG5vdCBnZXR0aW5nXG4gICAgICAgIC8vIGFueSBtb3JlIHZhbHVlcy5cbiAgICAgICAgbGV0IGJ1ZmZlcjogVFtdID0gW107XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAvLyBBZGQgdGhlIG1vc3QgcmVjZW50IHZhbHVlIG9udG8gdGhlIGVuZCBvZiBvdXIgYnVmZmVyLlxuICAgICAgICAgICAgICBidWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgIC8vIElmIG91ciBidWZmZXIgaXMgbm93IGxhcmdlciB0aGFuIHRoZSBudW1iZXIgb2YgdmFsdWVzIHdlXG4gICAgICAgICAgICAgIC8vIHdhbnQgdG8gdGFrZSwgd2UgcmVtb3ZlIHRoZSBvbGRlc3QgdmFsdWUgZnJvbSB0aGUgYnVmZmVyLlxuICAgICAgICAgICAgICBjb3VudCA8IGJ1ZmZlci5sZW5ndGggJiYgYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBUaGUgc291cmNlIGNvbXBsZXRlZCwgd2Ugbm93IGtub3cgd2hhdCBhcmUgbGFzdCB2YWx1ZXNcbiAgICAgICAgICAgICAgLy8gYXJlLCBlbWl0IHRoZW0gaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSByZWNlaXZlZC5cbiAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBFcnJvcnMgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBjb25zdW1lclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBEdXJpbmcgZmluYWxpemF0aW9uIHJlbGVhc2UgdGhlIHZhbHVlcyBpbiBvdXIgYnVmZmVyLlxuICAgICAgICAgICAgICBidWZmZXIgPSBudWxsITtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KTtcbn1cbiIsImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcblxuLyoqXG4gKiBFbWl0cyB0aGUgdmFsdWVzIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHVudGlsIGEgYG5vdGlmaWVyYFxuICogT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5MZXRzIHZhbHVlcyBwYXNzIHVudGlsIGEgc2Vjb25kIE9ic2VydmFibGUsXG4gKiBgbm90aWZpZXJgLCBlbWl0cyBhIHZhbHVlLiBUaGVuLCBpdCBjb21wbGV0ZXMuPC9zcGFuPlxuICpcbiAqICFbXSh0YWtlVW50aWwucG5nKVxuICpcbiAqIGB0YWtlVW50aWxgIHN1YnNjcmliZXMgYW5kIGJlZ2lucyBtaXJyb3JpbmcgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBJdCBhbHNvXG4gKiBtb25pdG9ycyBhIHNlY29uZCBPYnNlcnZhYmxlLCBgbm90aWZpZXJgIHRoYXQgeW91IHByb3ZpZGUuIElmIHRoZSBgbm90aWZpZXJgXG4gKiBlbWl0cyBhIHZhbHVlLCB0aGUgb3V0cHV0IE9ic2VydmFibGUgc3RvcHMgbWlycm9yaW5nIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZVxuICogYW5kIGNvbXBsZXRlcy4gSWYgdGhlIGBub3RpZmllcmAgZG9lc24ndCBlbWl0IGFueSB2YWx1ZSBhbmQgY29tcGxldGVzXG4gKiB0aGVuIGB0YWtlVW50aWxgIHdpbGwgcGFzcyBhbGwgdmFsdWVzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUaWNrIGV2ZXJ5IHNlY29uZCB1bnRpbCB0aGUgZmlyc3QgY2xpY2sgaGFwcGVuc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgZnJvbUV2ZW50LCB0YWtlVW50aWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZSh0YWtlVW50aWwoY2xpY2tzKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgdGFrZX1cbiAqIEBzZWUge0BsaW5rIHRha2VMYXN0fVxuICogQHNlZSB7QGxpbmsgdGFrZVdoaWxlfVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqXG4gKiBAcGFyYW0ge09ic2VydmFibGV9IG5vdGlmaWVyIFRoZSBPYnNlcnZhYmxlIHdob3NlIGZpcnN0IGVtaXR0ZWQgdmFsdWUgd2lsbFxuICogY2F1c2UgdGhlIG91dHB1dCBPYnNlcnZhYmxlIG9mIGB0YWtlVW50aWxgIHRvIHN0b3AgZW1pdHRpbmcgdmFsdWVzIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSB2YWx1ZXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIHVudGlsIGBub3RpZmllcmAgZW1pdHMgaXRzIGZpcnN0IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFrZVVudGlsPFQ+KG5vdGlmaWVyOiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBpbm5lckZyb20obm90aWZpZXIpLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKCkgPT4gc3Vic2NyaWJlci5jb21wbGV0ZSgpLCBub29wKSk7XG4gICAgIXN1YnNjcmliZXIuY2xvc2VkICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBUcnV0aHlUeXBlc09mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB0YWtlV2hpbGU8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IsIGluY2x1c2l2ZTogdHJ1ZSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiB0YWtlV2hpbGU8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IsIGluY2x1c2l2ZTogZmFsc2UpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4+O1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZTxUPihwcmVkaWNhdGU6IEJvb2xlYW5Db25zdHJ1Y3Rvcik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVHJ1dGh5VHlwZXNPZjxUPj47XG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlPFQsIFMgZXh0ZW5kcyBUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdmFsdWUgaXMgUyk6IE9wZXJhdG9yRnVuY3Rpb248VCwgUz47XG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlPFQsIFMgZXh0ZW5kcyBUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdmFsdWUgaXMgUywgaW5jbHVzaXZlOiBmYWxzZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgUz47XG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLCBpbmNsdXNpdmU/OiBib29sZWFuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIEVtaXRzIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBzbyBsb25nIGFzIGVhY2ggdmFsdWUgc2F0aXNmaWVzXG4gKiB0aGUgZ2l2ZW4gYHByZWRpY2F0ZWAsIGFuZCB0aGVuIGNvbXBsZXRlcyBhcyBzb29uIGFzIHRoaXMgYHByZWRpY2F0ZWAgaXMgbm90XG4gKiBzYXRpc2ZpZWQuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRha2VzIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2Ugb25seSB3aGlsZSB0aGV5IHBhc3MgdGhlXG4gKiBjb25kaXRpb24gZ2l2ZW4uIFdoZW4gdGhlIGZpcnN0IHZhbHVlIGRvZXMgbm90IHNhdGlzZnksIGl0IGNvbXBsZXRlcy48L3NwYW4+XG4gKlxuICogIVtdKHRha2VXaGlsZS5wbmcpXG4gKlxuICogYHRha2VXaGlsZWAgc3Vic2NyaWJlcyBhbmQgYmVnaW5zIG1pcnJvcmluZyB0aGUgc291cmNlIE9ic2VydmFibGUuIEVhY2ggdmFsdWVcbiAqIGVtaXR0ZWQgb24gdGhlIHNvdXJjZSBpcyBnaXZlbiB0byB0aGUgYHByZWRpY2F0ZWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhXG4gKiBib29sZWFuLCByZXByZXNlbnRpbmcgYSBjb25kaXRpb24gdG8gYmUgc2F0aXNmaWVkIGJ5IHRoZSBzb3VyY2UgdmFsdWVzLiBUaGVcbiAqIG91dHB1dCBPYnNlcnZhYmxlIGVtaXRzIHRoZSBzb3VyY2UgdmFsdWVzIHVudGlsIHN1Y2ggdGltZSBhcyB0aGUgYHByZWRpY2F0ZWBcbiAqIHJldHVybnMgZmFsc2UsIGF0IHdoaWNoIHBvaW50IGB0YWtlV2hpbGVgIHN0b3BzIG1pcnJvcmluZyB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGFuZCBjb21wbGV0ZXMgdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IGNsaWNrIGV2ZW50cyBvbmx5IHdoaWxlIHRoZSBjbGllbnRYIHByb3BlcnR5IGlzIGdyZWF0ZXIgdGhhbiAyMDBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB0YWtlV2hpbGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQ8UG9pbnRlckV2ZW50Pihkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZSh0YWtlV2hpbGUoZXYgPT4gZXYuY2xpZW50WCA+IDIwMCkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHRha2V9XG4gKiBAc2VlIHtAbGluayB0YWtlTGFzdH1cbiAqIEBzZWUge0BsaW5rIHRha2VVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHNraXB9XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgaW5kZXg6IG51bWJlcik6IGJvb2xlYW59IHByZWRpY2F0ZSBBIGZ1bmN0aW9uIHRoYXRcbiAqIGV2YWx1YXRlcyBhIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGFuZCByZXR1cm5zIGEgYm9vbGVhbi5cbiAqIEFsc28gdGFrZXMgdGhlICh6ZXJvLWJhc2VkKSBpbmRleCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICogQHBhcmFtIHtib29sZWFufSBpbmNsdXNpdmUgV2hlbiBzZXQgdG8gYHRydWVgIHRoZSB2YWx1ZSB0aGF0IGNhdXNlZFxuICogYHByZWRpY2F0ZWAgdG8gcmV0dXJuIGBmYWxzZWAgd2lsbCBhbHNvIGJlIGVtaXR0ZWQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB2YWx1ZXMgZnJvbSB0aGVcbiAqIHNvdXJjZSBPYnNlcnZhYmxlIHNvIGxvbmcgYXMgZWFjaCB2YWx1ZSBzYXRpc2ZpZXMgdGhlIGNvbmRpdGlvbiBkZWZpbmVkIGJ5XG4gKiB0aGUgYHByZWRpY2F0ZWAsIHRoZW4gY29tcGxldGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlPFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuLCBpbmNsdXNpdmUgPSBmYWxzZSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKyk7XG4gICAgICAgIChyZXN1bHQgfHwgaW5jbHVzaXZlKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAhcmVzdWx0ICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFwT2JzZXJ2ZXI8VD4gZXh0ZW5kcyBPYnNlcnZlcjxUPiB7XG4gIHN1YnNjcmliZTogKCkgPT4gdm9pZDtcbiAgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQ7XG4gIGZpbmFsaXplOiAoKSA9PiB2b2lkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRhcDxUPihvYnNlcnZlck9yTmV4dD86IFBhcnRpYWw8VGFwT2JzZXJ2ZXI8VD4+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG4vKiogQGRlcHJlY2F0ZWQgSW5zdGVhZCBvZiBwYXNzaW5nIHNlcGFyYXRlIGNhbGxiYWNrIGFyZ3VtZW50cywgdXNlIGFuIG9ic2VydmVyIGFyZ3VtZW50LiBTaWduYXR1cmVzIHRha2luZyBzZXBhcmF0ZSBjYWxsYmFjayBhcmd1bWVudHMgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zdWJzY3JpYmUtYXJndW1lbnRzICovXG5leHBvcnQgZnVuY3Rpb24gdGFwPFQ+KFxuICBuZXh0PzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLFxuICBlcnJvcj86ICgoZXJyb3I6IGFueSkgPT4gdm9pZCkgfCBudWxsLFxuICBjb21wbGV0ZT86ICgoKSA9PiB2b2lkKSB8IG51bGxcbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBVc2VkIHRvIHBlcmZvcm0gc2lkZS1lZmZlY3RzIGZvciBub3RpZmljYXRpb25zIGZyb20gdGhlIHNvdXJjZSBvYnNlcnZhYmxlXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZWQgd2hlbiB5b3Ugd2FudCB0byBhZmZlY3Qgb3V0c2lkZSBzdGF0ZSB3aXRoIGEgbm90aWZpY2F0aW9uIHdpdGhvdXQgYWx0ZXJpbmcgdGhlIG5vdGlmaWNhdGlvbjwvc3Bhbj5cbiAqXG4gKiAhW10odGFwLnBuZylcbiAqXG4gKiBUYXAgaXMgZGVzaWduZWQgdG8gYWxsb3cgdGhlIGRldmVsb3BlciBhIGRlc2lnbmF0ZWQgcGxhY2UgdG8gcGVyZm9ybSBzaWRlIGVmZmVjdHMuIFdoaWxlIHlvdSBfY291bGRfIHBlcmZvcm0gc2lkZS1lZmZlY3RzXG4gKiBpbnNpZGUgb2YgYSBgbWFwYCBvciBhIGBtZXJnZU1hcGAsIHRoYXQgd291bGQgbWFrZSB0aGVpciBtYXBwaW5nIGZ1bmN0aW9ucyBpbXB1cmUsIHdoaWNoIGlzbid0IGFsd2F5cyBhIGJpZyBkZWFsLCBidXQgd2lsbFxuICogbWFrZSBpdCBzbyB5b3UgY2FuJ3QgZG8gdGhpbmdzIGxpa2UgbWVtb2l6ZSB0aG9zZSBmdW5jdGlvbnMuIFRoZSBgdGFwYCBvcGVyYXRvciBpcyBkZXNpZ25lZCBzb2xlbHkgZm9yIHN1Y2ggc2lkZS1lZmZlY3RzIHRvXG4gKiBoZWxwIHlvdSByZW1vdmUgc2lkZS1lZmZlY3RzIGZyb20gb3RoZXIgb3BlcmF0aW9ucy5cbiAqXG4gKiBGb3IgYW55IG5vdGlmaWNhdGlvbiwgbmV4dCwgZXJyb3IsIG9yIGNvbXBsZXRlLCBgdGFwYCB3aWxsIGNhbGwgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrIHlvdSBoYXZlIHByb3ZpZGVkIHRvIGl0LCB2aWEgYSBmdW5jdGlvblxuICogcmVmZXJlbmNlLCBvciBhIHBhcnRpYWwgb2JzZXJ2ZXIsIHRoZW4gcGFzcyB0aGF0IG5vdGlmaWNhdGlvbiBkb3duIHRoZSBzdHJlYW0uXG4gKlxuICogVGhlIG9ic2VydmFibGUgcmV0dXJuZWQgYnkgYHRhcGAgaXMgYW4gZXhhY3QgbWlycm9yIG9mIHRoZSBzb3VyY2UsIHdpdGggb25lIGV4Y2VwdGlvbjogQW55IGVycm9yIHRoYXQgb2NjdXJzIC0tIHN5bmNocm9ub3VzbHkgLS0gaW4gYSBoYW5kbGVyXG4gKiBwcm92aWRlZCB0byBgdGFwYCB3aWxsIGJlIGVtaXR0ZWQgYXMgYW4gZXJyb3IgZnJvbSB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZS5cbiAqXG4gKiA+IEJlIGNhcmVmdWwhIFlvdSBjYW4gbXV0YXRlIG9iamVjdHMgYXMgdGhleSBwYXNzIHRocm91Z2ggdGhlIGB0YXBgIG9wZXJhdG9yJ3MgaGFuZGxlcnMuXG4gKlxuICogVGhlIG1vc3QgY29tbW9uIHVzZSBvZiBgdGFwYCBpcyBhY3R1YWxseSBmb3IgZGVidWdnaW5nLiBZb3UgY2FuIHBsYWNlIGEgYHRhcChjb25zb2xlLmxvZylgIGFueXdoZXJlXG4gKiBpbiB5b3VyIG9ic2VydmFibGUgYHBpcGVgLCBsb2cgb3V0IHRoZSBub3RpZmljYXRpb25zIGFzIHRoZXkgYXJlIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSByZXR1cm5lZCBieSB0aGUgcHJldmlvdXNcbiAqIG9wZXJhdGlvbi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIENoZWNrIGEgcmFuZG9tIG51bWJlciBiZWZvcmUgaXQgaXMgaGFuZGxlZC4gQmVsb3cgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgdXNlIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEsXG4gKiBhbmQgZW1pdCBgJ2JpZydgIG9yIGAnc21hbGwnYCBkZXBlbmRpbmcgb24gdGhlIHNpemUgb2YgdGhhdCBudW1iZXIuIEJ1dCB3ZSB3YW50ZWQgdG8gbG9nIHdoYXQgdGhlIG9yaWdpbmFsIG51bWJlclxuICogd2FzLCBzbyB3ZSBoYXZlIGFkZGVkIGEgYHRhcChjb25zb2xlLmxvZylgLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgdGFwLCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZihNYXRoLnJhbmRvbSgpKS5waXBlKFxuICogICB0YXAoY29uc29sZS5sb2cpLFxuICogICBtYXAobiA9PiBuID4gMC41ID8gJ2JpZycgOiAnc21hbGwnKVxuICogKS5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogVXNpbmcgYHRhcGAgdG8gYW5hbHl6ZSBhIHZhbHVlIGFuZCBmb3JjZSBhbiBlcnJvci4gQmVsb3cgaXMgYW4gb2JzZXJ2YWJsZSB3aGVyZSBpbiBvdXIgc3lzdGVtIHdlIG9ubHlcbiAqIHdhbnQgdG8gZW1pdCBudW1iZXJzIDMgb3IgbGVzcyB3ZSBnZXQgZnJvbSBhbm90aGVyIHNvdXJjZS4gV2UgY2FuIGZvcmNlIG91ciBvYnNlcnZhYmxlIHRvIGVycm9yXG4gKiB1c2luZyBgdGFwYC5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHRhcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IG9mKDEsIDIsIDMsIDQsIDUpO1xuICpcbiAqIHNvdXJjZS5waXBlKFxuICogICB0YXAobiA9PiB7XG4gKiAgICAgaWYgKG4gPiAzKSB7XG4gKiAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBWYWx1ZSAkeyBuIH0gaXMgZ3JlYXRlciB0aGFuIDNgKTtcbiAqICAgICB9XG4gKiAgIH0pXG4gKiApXG4gKiAuc3Vic2NyaWJlKHsgbmV4dDogY29uc29sZS5sb2csIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpIH0pO1xuICogYGBgXG4gKlxuICogV2Ugd2FudCB0byBrbm93IHdoZW4gYW4gb2JzZXJ2YWJsZSBjb21wbGV0ZXMgYmVmb3JlIG1vdmluZyBvbiB0byB0aGUgbmV4dCBvYnNlcnZhYmxlLiBUaGUgc3lzdGVtXG4gKiBiZWxvdyB3aWxsIGVtaXQgYSByYW5kb20gc2VyaWVzIG9mIGAnWCdgIGNoYXJhY3RlcnMgZnJvbSAzIGRpZmZlcmVudCBvYnNlcnZhYmxlcyBpbiBzZXF1ZW5jZS4gVGhlXG4gKiBvbmx5IHdheSB3ZSBrbm93IHdoZW4gb25lIG9ic2VydmFibGUgY29tcGxldGVzIGFuZCBtb3ZlcyB0byB0aGUgbmV4dCBvbmUsIGluIHRoaXMgY2FzZSwgaXMgYmVjYXVzZVxuICogd2UgaGF2ZSBhZGRlZCBhIGB0YXBgIHdpdGggdGhlIHNpZGUgZWZmZWN0IG9mIGxvZ2dpbmcgdG8gY29uc29sZS5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIGNvbmNhdE1hcCwgaW50ZXJ2YWwsIHRha2UsIG1hcCwgdGFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogb2YoMSwgMiwgMykucGlwZShcbiAqICAgY29uY2F0TWFwKG4gPT4gaW50ZXJ2YWwoMTAwMCkucGlwZShcbiAqICAgICB0YWtlKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwKSksXG4gKiAgICAgbWFwKCgpID0+ICdYJyksXG4gKiAgICAgdGFwKHsgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKGBEb25lIHdpdGggJHsgbiB9YCkgfSlcbiAqICAgKSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmluYWxpemV9XG4gKiBAc2VlIHtAbGluayBPYnNlcnZhYmxlI3N1YnNjcmliZX1cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2ZXJPck5leHQgQSBuZXh0IGhhbmRsZXIgb3IgcGFydGlhbCBvYnNlcnZlclxuICogQHBhcmFtIGVycm9yIEFuIGVycm9yIGhhbmRsZXJcbiAqIEBwYXJhbSBjb21wbGV0ZSBBIGNvbXBsZXRpb24gaGFuZGxlclxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIGlkZW50aWNhbCB0byB0aGUgc291cmNlLCBidXRcbiAqIHJ1bnMgdGhlIHNwZWNpZmllZCBPYnNlcnZlciBvciBjYWxsYmFjayhzKSBmb3IgZWFjaCBpdGVtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFwPFQ+KFxuICBvYnNlcnZlck9yTmV4dD86IFBhcnRpYWw8VGFwT2JzZXJ2ZXI8VD4+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLFxuICBlcnJvcj86ICgoZTogYW55KSA9PiB2b2lkKSB8IG51bGwsXG4gIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbFxuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgLy8gV2UgaGF2ZSB0byBjaGVjayB0byBzZWUgbm90IG9ubHkgaWYgbmV4dCBpcyBhIGZ1bmN0aW9uLFxuICAvLyBidXQgaWYgZXJyb3Igb3IgY29tcGxldGUgd2VyZSBwYXNzZWQuIFRoaXMgaXMgYmVjYXVzZSBzb21lb25lXG4gIC8vIGNvdWxkIHRlY2huaWNhbGx5IGNhbGwgdGFwIGxpa2UgYHRhcChudWxsLCBmbilgIG9yIGB0YXAobnVsbCwgbnVsbCwgZm4pYC5cbiAgY29uc3QgdGFwT2JzZXJ2ZXIgPVxuICAgIGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8IGVycm9yIHx8IGNvbXBsZXRlXG4gICAgICA/IC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tb2JqZWN0LWxpdGVyYWwtdHlwZS1hc3NlcnRpb25cbiAgICAgICAgKHsgbmV4dDogb2JzZXJ2ZXJPck5leHQgYXMgRXhjbHVkZTx0eXBlb2Ygb2JzZXJ2ZXJPck5leHQsIFBhcnRpYWw8VGFwT2JzZXJ2ZXI8VD4+PiwgZXJyb3IsIGNvbXBsZXRlIH0gYXMgUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4pXG4gICAgICA6IG9ic2VydmVyT3JOZXh0O1xuXG4gIHJldHVybiB0YXBPYnNlcnZlclxuICAgID8gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgIHRhcE9ic2VydmVyLnN1YnNjcmliZT8uKCk7XG4gICAgICAgIGxldCBpc1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgIHRhcE9ic2VydmVyLm5leHQ/Lih2YWx1ZSk7XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRhcE9ic2VydmVyLmNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgaXNVbnN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICB0YXBPYnNlcnZlci5lcnJvcj8uKGVycik7XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpc1Vuc3ViKSB7XG4gICAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmU/LigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRhcE9ic2VydmVyLmZpbmFsaXplPy4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgIDogLy8gVGFwIHdhcyBjYWxsZWQgd2l0aCBubyB2YWxpZCB0YXAgb2JzZXJ2ZXIgb3IgaGFuZGxlclxuICAgICAgLy8gKGUuZy4gYHRhcChudWxsLCBudWxsLCBudWxsKWAgb3IgYHRhcChudWxsKWAgb3IgYHRhcCgpYClcbiAgICAgIC8vIHNvIHdlJ3JlIGdvaW5nIHRvIGp1c3QgbWlycm9yIHRoZSBzb3VyY2UuXG4gICAgICBpZGVudGl0eTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5cbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGhyb3R0bGVDb25maWcge1xuICBsZWFkaW5nPzogYm9vbGVhbjtcbiAgdHJhaWxpbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRocm90dGxlQ29uZmlnOiBUaHJvdHRsZUNvbmZpZyA9IHtcbiAgbGVhZGluZzogdHJ1ZSxcbiAgdHJhaWxpbmc6IGZhbHNlLFxufTtcblxuLyoqXG4gKiBFbWl0cyBhIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB0aGVuIGlnbm9yZXMgc3Vic2VxdWVudCBzb3VyY2VcbiAqIHZhbHVlcyBmb3IgYSBkdXJhdGlvbiBkZXRlcm1pbmVkIGJ5IGFub3RoZXIgT2JzZXJ2YWJsZSwgdGhlbiByZXBlYXRzIHRoaXNcbiAqIHByb2Nlc3MuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkl0J3MgbGlrZSB7QGxpbmsgdGhyb3R0bGVUaW1lfSwgYnV0IHRoZSBzaWxlbmNpbmdcbiAqIGR1cmF0aW9uIGlzIGRldGVybWluZWQgYnkgYSBzZWNvbmQgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogIVtdKHRocm90dGxlLnN2ZylcbiAqXG4gKiBgdGhyb3R0bGVgIGVtaXRzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlXG4gKiB3aGVuIGl0cyBpbnRlcm5hbCB0aW1lciBpcyBkaXNhYmxlZCwgYW5kIGlnbm9yZXMgc291cmNlIHZhbHVlcyB3aGVuIHRoZSB0aW1lclxuICogaXMgZW5hYmxlZC4gSW5pdGlhbGx5LCB0aGUgdGltZXIgaXMgZGlzYWJsZWQuIEFzIHNvb24gYXMgdGhlIGZpcnN0IHNvdXJjZVxuICogdmFsdWUgYXJyaXZlcywgaXQgaXMgZm9yd2FyZGVkIHRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSwgYW5kIHRoZW4gdGhlIHRpbWVyXG4gKiBpcyBlbmFibGVkIGJ5IGNhbGxpbmcgdGhlIGBkdXJhdGlvblNlbGVjdG9yYCBmdW5jdGlvbiB3aXRoIHRoZSBzb3VyY2UgdmFsdWUsXG4gKiB3aGljaCByZXR1cm5zIHRoZSBcImR1cmF0aW9uXCIgT2JzZXJ2YWJsZS4gV2hlbiB0aGUgZHVyYXRpb24gT2JzZXJ2YWJsZSBlbWl0cyBhXG4gKiB2YWx1ZSwgdGhlIHRpbWVyIGlzIGRpc2FibGVkLCBhbmQgdGhpcyBwcm9jZXNzIHJlcGVhdHMgZm9yIHRoZVxuICogbmV4dCBzb3VyY2UgdmFsdWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgY2xpY2tzIGF0IGEgcmF0ZSBvZiBhdCBtb3N0IG9uZSBjbGljayBwZXIgc2Vjb25kXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgdGhyb3R0bGUsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHRocm90dGxlKCgpID0+IGludGVydmFsKDEwMDApKSk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGF1ZGl0fVxuICogQHNlZSB7QGxpbmsgZGVib3VuY2V9XG4gKiBAc2VlIHtAbGluayBkZWxheVdoZW59XG4gKiBAc2VlIHtAbGluayBzYW1wbGV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZVRpbWV9XG4gKlxuICogQHBhcmFtIGR1cmF0aW9uU2VsZWN0b3IgQSBmdW5jdGlvblxuICogdGhhdCByZWNlaXZlcyBhIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCBmb3IgY29tcHV0aW5nIHRoZSBzaWxlbmNpbmdcbiAqIGR1cmF0aW9uIGZvciBlYWNoIHNvdXJjZSB2YWx1ZSwgcmV0dXJuZWQgYXMgYW4gT2JzZXJ2YWJsZSBvciBhIFByb21pc2UuXG4gKiBAcGFyYW0gY29uZmlnIGEgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gZGVmaW5lIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBiZWhhdmlvci4gRGVmYXVsdHNcbiAqIHRvIGB7IGxlYWRpbmc6IHRydWUsIHRyYWlsaW5nOiBmYWxzZSB9YC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHBlcmZvcm1zIHRoZSB0aHJvdHRsZVxuICogb3BlcmF0aW9uIHRvIGxpbWl0IHRoZSByYXRlIG9mIGVtaXNzaW9ucyBmcm9tIHRoZSBzb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZTxUPihcbiAgZHVyYXRpb25TZWxlY3RvcjogKHZhbHVlOiBUKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55PixcbiAgY29uZmlnOiBUaHJvdHRsZUNvbmZpZyA9IGRlZmF1bHRUaHJvdHRsZUNvbmZpZ1xuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGNvbnN0IHsgbGVhZGluZywgdHJhaWxpbmcgfSA9IGNvbmZpZztcbiAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICBsZXQgc2VuZFZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHRocm90dGxlZDogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIGNvbnN0IGVuZFRocm90dGxpbmcgPSAoKSA9PiB7XG4gICAgICB0aHJvdHRsZWQ/LnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aHJvdHRsZWQgPSBudWxsO1xuICAgICAgaWYgKHRyYWlsaW5nKSB7XG4gICAgICAgIHNlbmQoKTtcbiAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNsZWFudXBUaHJvdHRsaW5nID0gKCkgPT4ge1xuICAgICAgdGhyb3R0bGVkID0gbnVsbDtcbiAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBzdGFydFRocm90dGxlID0gKHZhbHVlOiBUKSA9PlxuICAgICAgKHRocm90dGxlZCA9IGlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbmRUaHJvdHRsaW5nLCBjbGVhbnVwVGhyb3R0bGluZykpKTtcblxuICAgIGNvbnN0IHNlbmQgPSAoKSA9PiB7XG4gICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgLy8gRW5zdXJlIHdlIGNsZWFyIG91dCBvdXIgdmFsdWUgYW5kIGhhc1ZhbHVlIGZsYWdcbiAgICAgICAgLy8gYmVmb3JlIHdlIGVtaXQsIG90aGVyd2lzZSByZWVudHJhbnQgY29kZSBjYW4gY2F1c2VcbiAgICAgICAgLy8gaXNzdWVzIGhlcmUuXG4gICAgICAgIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc2VuZFZhbHVlITtcbiAgICAgICAgc2VuZFZhbHVlID0gbnVsbDtcbiAgICAgICAgLy8gRW1pdCB0aGUgdmFsdWUuXG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICFpc0NvbXBsZXRlICYmIHN0YXJ0VGhyb3R0bGUodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAvLyBSZWdhcmRpbmcgdGhlIHByZXNlbmNlIG9mIHRocm90dGxlZC5jbG9zZWQgaW4gdGhlIGZvbGxvd2luZ1xuICAgICAgICAvLyBjb25kaXRpb25zLCBpZiBhIHN5bmNocm9ub3VzIGR1cmF0aW9uIHNlbGVjdG9yIGlzIHNwZWNpZmllZCAtIHdlaXJkLFxuICAgICAgICAvLyBidXQgbGVnYWwgLSBhbiBhbHJlYWR5LWNsb3NlZCBzdWJzY3JpcHRpb24gd2lsbCBiZSBhc3NpZ25lZCB0b1xuICAgICAgICAvLyB0aHJvdHRsZWQsIHNvIHRoZSBzdWJzY3JpcHRpb24ncyBjbG9zZWQgcHJvcGVydHkgbmVlZHMgdG8gYmUgY2hlY2tlZCxcbiAgICAgICAgLy8gdG9vLlxuICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgc2VuZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgISh0aHJvdHRsZWQgJiYgIXRocm90dGxlZC5jbG9zZWQpICYmIChsZWFkaW5nID8gc2VuZCgpIDogc3RhcnRUaHJvdHRsZSh2YWx1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgISh0cmFpbGluZyAmJiBoYXNWYWx1ZSAmJiB0aHJvdHRsZWQgJiYgIXRocm90dGxlZC5jbG9zZWQpICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgZGVmYXVsdFRocm90dGxlQ29uZmlnLCB0aHJvdHRsZSB9IGZyb20gJy4vdGhyb3R0bGUnO1xuaW1wb3J0IHsgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3RpbWVyJztcblxuLyoqXG4gKiBFbWl0cyBhIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB0aGVuIGlnbm9yZXMgc3Vic2VxdWVudCBzb3VyY2VcbiAqIHZhbHVlcyBmb3IgYGR1cmF0aW9uYCBtaWxsaXNlY29uZHMsIHRoZW4gcmVwZWF0cyB0aGlzIHByb2Nlc3MuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkxldHMgYSB2YWx1ZSBwYXNzLCB0aGVuIGlnbm9yZXMgc291cmNlIHZhbHVlcyBmb3IgdGhlXG4gKiBuZXh0IGBkdXJhdGlvbmAgbWlsbGlzZWNvbmRzLjwvc3Bhbj5cbiAqXG4gKiAhW10odGhyb3R0bGVUaW1lLnBuZylcbiAqXG4gKiBgdGhyb3R0bGVUaW1lYCBlbWl0cyB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZVxuICogd2hlbiBpdHMgaW50ZXJuYWwgdGltZXIgaXMgZGlzYWJsZWQsIGFuZCBpZ25vcmVzIHNvdXJjZSB2YWx1ZXMgd2hlbiB0aGUgdGltZXJcbiAqIGlzIGVuYWJsZWQuIEluaXRpYWxseSwgdGhlIHRpbWVyIGlzIGRpc2FibGVkLiBBcyBzb29uIGFzIHRoZSBmaXJzdCBzb3VyY2VcbiAqIHZhbHVlIGFycml2ZXMsIGl0IGlzIGZvcndhcmRlZCB0byB0aGUgb3V0cHV0IE9ic2VydmFibGUsIGFuZCB0aGVuIHRoZSB0aW1lclxuICogaXMgZW5hYmxlZC4gQWZ0ZXIgYGR1cmF0aW9uYCBtaWxsaXNlY29uZHMgKG9yIHRoZSB0aW1lIHVuaXQgZGV0ZXJtaW5lZFxuICogaW50ZXJuYWxseSBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmApIGhhcyBwYXNzZWQsIHRoZSB0aW1lciBpcyBkaXNhYmxlZCxcbiAqIGFuZCB0aGlzIHByb2Nlc3MgcmVwZWF0cyBmb3IgdGhlIG5leHQgc291cmNlIHZhbHVlLiBPcHRpb25hbGx5IHRha2VzIGFcbiAqIHtAbGluayBTY2hlZHVsZXJMaWtlfSBmb3IgbWFuYWdpbmcgdGltZXJzLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogIyMjIExpbWl0IGNsaWNrIHJhdGVcbiAqXG4gKiBFbWl0IGNsaWNrcyBhdCBhIHJhdGUgb2YgYXQgbW9zdCBvbmUgY2xpY2sgcGVyIHNlY29uZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHRocm90dGxlVGltZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZSh0aHJvdHRsZVRpbWUoMTAwMCkpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBhdWRpdFRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZVRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWxheX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZVRpbWV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb24gVGltZSB0byB3YWl0IGJlZm9yZSBlbWl0dGluZyBhbm90aGVyIHZhbHVlIGFmdGVyXG4gKiBlbWl0dGluZyB0aGUgbGFzdCB2YWx1ZSwgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzIG9yIHRoZSB0aW1lIHVuaXQgZGV0ZXJtaW5lZFxuICogaW50ZXJuYWxseSBieSB0aGUgb3B0aW9uYWwgYHNjaGVkdWxlcmAuXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gdG8gdXNlIGZvclxuICogbWFuYWdpbmcgdGhlIHRpbWVycyB0aGF0IGhhbmRsZSB0aGUgdGhyb3R0bGluZy4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfS5cbiAqIEBwYXJhbSBjb25maWcgYSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBkZWZpbmUgYGxlYWRpbmdgIGFuZFxuICogYHRyYWlsaW5nYCBiZWhhdmlvci4gRGVmYXVsdHMgdG8gYHsgbGVhZGluZzogdHJ1ZSwgdHJhaWxpbmc6IGZhbHNlIH1gLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgcGVyZm9ybXMgdGhlIHRocm90dGxlXG4gKiBvcGVyYXRpb24gdG8gbGltaXQgdGhlIHJhdGUgb2YgZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlVGltZTxUPihcbiAgZHVyYXRpb246IG51bWJlcixcbiAgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlID0gYXN5bmNTY2hlZHVsZXIsXG4gIGNvbmZpZyA9IGRlZmF1bHRUaHJvdHRsZUNvbmZpZ1xuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgY29uc3QgZHVyYXRpb24kID0gdGltZXIoZHVyYXRpb24sIHNjaGVkdWxlcik7XG4gIHJldHVybiB0aHJvdHRsZSgoKSA9PiBkdXJhdGlvbiQsIGNvbmZpZyk7XG59XG4iLCJpbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIElmIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSBjb21wbGV0ZXMgd2l0aG91dCBlbWl0dGluZyBhIHZhbHVlLCBpdCB3aWxsIGVtaXRcbiAqIGFuIGVycm9yLiBUaGUgZXJyb3Igd2lsbCBiZSBjcmVhdGVkIGF0IHRoYXQgdGltZSBieSB0aGUgb3B0aW9uYWxcbiAqIGBlcnJvckZhY3RvcnlgIGFyZ3VtZW50LCBvdGhlcndpc2UsIHRoZSBlcnJvciB3aWxsIGJlIHtAbGluayBFbXB0eUVycm9yfS5cbiAqXG4gKiAhW10odGhyb3dJZkVtcHR5LnBuZylcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhyb3cgYW4gZXJyb3IgaWYgdGhlIGRvY3VtZW50IHdhc24ndCBjbGlja2VkIHdpdGhpbiAxIHNlY29uZFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tRXZlbnQsIHRha2VVbnRpbCwgdGltZXIsIHRocm93SWZFbXB0eSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKlxuICogY2xpY2skLnBpcGUoXG4gKiAgIHRha2VVbnRpbCh0aW1lcigxMDAwKSksXG4gKiAgIHRocm93SWZFbXB0eSgoKSA9PiBuZXcgRXJyb3IoJ1RoZSBkb2N1bWVudCB3YXMgbm90IGNsaWNrZWQgd2l0aGluIDEgc2Vjb25kJykpXG4gKiApXG4gKiAuc3Vic2NyaWJlKHtcbiAqICAgbmV4dCgpIHtcbiAqICAgIGNvbnNvbGUubG9nKCdUaGUgZG9jdW1lbnQgd2FzIGNsaWNrZWQnKTtcbiAqICAgfSxcbiAqICAgZXJyb3IoZXJyKSB7XG4gKiAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGVycm9yRmFjdG9yeSBBIGZhY3RvcnkgZnVuY3Rpb24gY2FsbGVkIHRvIHByb2R1Y2UgdGhlXG4gKiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiB0aGUgc291cmNlIG9ic2VydmFibGUgY29tcGxldGVzIHdpdGhvdXQgZW1pdHRpbmcgYVxuICogdmFsdWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB0aHJvd3MgYW4gZXJyb3IgaWYgdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSBjb21wbGV0ZWQgd2l0aG91dCBlbWl0dGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93SWZFbXB0eTxUPihlcnJvckZhY3Rvcnk6ICgpID0+IGFueSA9IGRlZmF1bHRFcnJvckZhY3RvcnkpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IChoYXNWYWx1ZSA/IHN1YnNjcmliZXIuY29tcGxldGUoKSA6IHN1YnNjcmliZXIuZXJyb3IoZXJyb3JGYWN0b3J5KCkpKVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JGYWN0b3J5KCkge1xuICByZXR1cm4gbmV3IEVtcHR5RXJyb3IoKTtcbn1cbiIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBFbWl0cyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY3VycmVudCB2YWx1ZSwgYW5kIHRoZSB0aW1lIHRoYXQgaGFzXG4gKiBwYXNzZWQgYmV0d2VlbiBlbWl0dGluZyB0aGUgY3VycmVudCB2YWx1ZSBhbmQgdGhlIHByZXZpb3VzIHZhbHVlLCB3aGljaCBpc1xuICogY2FsY3VsYXRlZCBieSB1c2luZyB0aGUgcHJvdmlkZWQgYHNjaGVkdWxlcmAncyBgbm93KClgIG1ldGhvZCB0byByZXRyaWV2ZVxuICogdGhlIGN1cnJlbnQgdGltZSBhdCBlYWNoIGVtaXNzaW9uLCB0aGVuIGNhbGN1bGF0aW5nIHRoZSBkaWZmZXJlbmNlLiBUaGUgYHNjaGVkdWxlcmBcbiAqIGRlZmF1bHRzIHRvIHtAbGluayBhc3luY1NjaGVkdWxlcn0sIHNvIGJ5IGRlZmF1bHQsIHRoZSBgaW50ZXJ2YWxgIHdpbGwgYmUgaW5cbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29udmVydCBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgaW50byBvbmUgdGhhdFxuICogZW1pdHMgaW5kaWNhdGlvbnMgb2YgdGhlIGFtb3VudCBvZiB0aW1lIGVsYXBzZWQgYmV0d2VlbiB0aG9zZSBlbWlzc2lvbnMuPC9zcGFuPlxuICpcbiAqICFbXSh0aW1lSW50ZXJ2YWwucG5nKVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFbWl0IGludGVydmFsIGJldHdlZW4gY3VycmVudCB2YWx1ZSB3aXRoIHRoZSBsYXN0IHZhbHVlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0aW1lSW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzZWNvbmRzID0gaW50ZXJ2YWwoMTAwMCk7XG4gKlxuICogc2Vjb25kc1xuICogICAucGlwZSh0aW1lSW50ZXJ2YWwoKSlcbiAqICAgLnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICpcbiAqIC8vIE5PVEU6IFRoZSB2YWx1ZXMgd2lsbCBuZXZlciBiZSB0aGlzIHByZWNpc2UsXG4gKiAvLyBpbnRlcnZhbHMgY3JlYXRlZCB3aXRoIGBpbnRlcnZhbGAgb3IgYHNldEludGVydmFsYFxuICogLy8gYXJlIG5vbi1kZXRlcm1pbmlzdGljLlxuICpcbiAqIC8vIHsgdmFsdWU6IDAsIGludGVydmFsOiAxMDAwIH1cbiAqIC8vIHsgdmFsdWU6IDEsIGludGVydmFsOiAxMDAwIH1cbiAqIC8vIHsgdmFsdWU6IDIsIGludGVydmFsOiAxMDAwIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U2NoZWR1bGVyTGlrZX0gW3NjaGVkdWxlcl0gU2NoZWR1bGVyIHVzZWQgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpbmZvcm1hdGlvbiBhYm91dFxuICogdmFsdWUgYW5kIGludGVydmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZUludGVydmFsPFQ+KHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSA9IGFzeW5jU2NoZWR1bGVyKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUaW1lSW50ZXJ2YWw8VD4+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBsYXN0ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IHNjaGVkdWxlci5ub3coKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBub3cgLSBsYXN0O1xuICAgICAgICBsYXN0ID0gbm93O1xuICAgICAgICBzdWJzY3JpYmVyLm5leHQobmV3IFRpbWVJbnRlcnZhbCh2YWx1ZSwgaW50ZXJ2YWwpKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSk7XG59XG5cbi8vIFRPRE8oYmVubGVzaCk6IG1ha2UgdGhpcyBhbiBpbnRlcmZhY2UsIGV4cG9ydCB0aGUgaW50ZXJmYWNlLCBidXQgbm90IHRoZSBpbXBsZW1lbnRlZCBjbGFzcyxcbi8vIHRoZXJlJ3Mgbm8gcmVhc29uIHVzZXJzIHNob3VsZCBiZSBtYW51YWxseSBjcmVhdGluZyB0aGlzIHR5cGUuXG5cbmV4cG9ydCBjbGFzcyBUaW1lSW50ZXJ2YWw8VD4ge1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgY29uc3RydWN0IGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgYW4gaW50ZXJmYWNlIGluIHY4LlxuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBULCBwdWJsaWMgaW50ZXJ2YWw6IG51bWJlcikge31cbn1cbiIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSwgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuLi91dGlsL2NyZWF0ZUVycm9yQ2xhc3MnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVvdXRDb25maWc8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDx1bmtub3duPiA9IE9ic2VydmFibGVJbnB1dDxUPiwgTSA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIFRoZSB0aW1lIGFsbG93ZWQgYmV0d2VlbiB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIGJlZm9yZSB0aW1lb3V0IGlzIHRyaWdnZXJlZC5cbiAgICovXG4gIGVhY2g/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSByZWxhdGl2ZSB0aW1lIGFzIGEgYG51bWJlcmAgaW4gbWlsbGlzZWNvbmRzLCBvciBhIHNwZWNpZmljIHRpbWUgYXMgYSBgRGF0ZWAgb2JqZWN0LFxuICAgKiBieSB3aGljaCB0aGUgZmlyc3QgdmFsdWUgbXVzdCBhcnJpdmUgZnJvbSB0aGUgc291cmNlIGJlZm9yZSB0aW1lb3V0IGlzIHRyaWdnZXJlZC5cbiAgICovXG4gIGZpcnN0PzogbnVtYmVyIHwgRGF0ZTtcblxuICAvKipcbiAgICogVGhlIHNjaGVkdWxlciB0byB1c2Ugd2l0aCB0aW1lLXJlbGF0ZWQgb3BlcmF0aW9ucyB3aXRoaW4gdGhpcyBvcGVyYXRvci4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfVxuICAgKi9cbiAgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZTtcblxuICAvKipcbiAgICogQSBmYWN0b3J5IHVzZWQgdG8gY3JlYXRlIG9ic2VydmFibGUgdG8gc3dpdGNoIHRvIHdoZW4gdGltZW91dCBvY2N1cnMuIFByb3ZpZGVzXG4gICAqIGEge0BsaW5rIFRpbWVvdXRJbmZvfSBhYm91dCB0aGUgc291cmNlIG9ic2VydmFibGUncyBlbWlzc2lvbnMgYW5kIHdoYXQgZGVsYXkgb3JcbiAgICogZXhhY3QgdGltZSB0cmlnZ2VyZWQgdGhlIHRpbWVvdXQuXG4gICAqL1xuICB3aXRoPzogKGluZm86IFRpbWVvdXRJbmZvPFQsIE0+KSA9PiBPO1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBhZGRpdGlvbmFsIG1ldGFkYXRhIHlvdSBjYW4gcHJvdmlkZSB0byBjb2RlIHRoYXQgaGFuZGxlc1xuICAgKiB0aGUgdGltZW91dCwgd2lsbCBiZSBwcm92aWRlZCB0aHJvdWdoIHRoZSB7QGxpbmsgVGltZW91dEVycm9yfS5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBoZWxwIGlkZW50aWZ5IHRoZSBzb3VyY2Ugb2YgYSB0aW1lb3V0IG9yIHBhc3MgYWxvbmdcbiAgICogb3RoZXIgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUgdGltZW91dC5cbiAgICovXG4gIG1ldGE/OiBNO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVvdXRJbmZvPFQsIE0gPSB1bmtub3duPiB7XG4gIC8qKiBPcHRpb25hbCBtZXRhZGF0YSB0aGF0IHdhcyBwcm92aWRlZCB0byB0aGUgdGltZW91dCBjb25maWd1cmF0aW9uLiAqL1xuICByZWFkb25seSBtZXRhOiBNO1xuICAvKiogVGhlIG51bWJlciBvZiBtZXNzYWdlcyBzZWVuIGJlZm9yZSB0aGUgdGltZW91dCAqL1xuICByZWFkb25seSBzZWVuOiBudW1iZXI7XG4gIC8qKiBUaGUgbGFzdCBtZXNzYWdlIHNlZW4gKi9cbiAgcmVhZG9ubHkgbGFzdFZhbHVlOiBUIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciBlbWl0dGVkIHdoZW4gYSB0aW1lb3V0IG9jY3Vycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lb3V0RXJyb3I8VCA9IHVua25vd24sIE0gPSB1bmtub3duPiBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIFRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZCB0byB0aGUgZXJyb3IgYnkgdGhlIHRpbWVvdXRcbiAgICogb3BlcmF0aW9uIHRoYXQgY3JlYXRlZCB0aGUgZXJyb3IuIFdpbGwgYmUgYG51bGxgIGlmXG4gICAqIHVzZWQgZGlyZWN0bHkgaW4gbm9uLVJ4SlMgY29kZSB3aXRoIGFuIGVtcHR5IGNvbnN0cnVjdG9yLlxuICAgKiAoTm90ZSB0aGF0IHVzaW5nIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkgaXMgbm90IHJlY29tbWVuZGVkLFxuICAgKiB5b3Ugc2hvdWxkIGNyZWF0ZSB5b3VyIG93biBlcnJvcnMpXG4gICAqL1xuICBpbmZvOiBUaW1lb3V0SW5mbzxULCBNPiB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZW91dEVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyA8VCA9IHVua25vd24sIE0gPSB1bmtub3duPihpbmZvPzogVGltZW91dEluZm88VCwgTT4pOiBUaW1lb3V0RXJyb3I8VCwgTT47XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIGJ5IHRoZSB7QGxpbmsgdGltZW91dH0gb3BlcmF0b3IuXG4gKlxuICogUHJvdmlkZWQgc28gdXNlcnMgY2FuIHVzZSBhcyBhIHR5cGUgYW5kIGRvIHF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKiBXZSByZWNvbW1lbmQgeW91IGRvIG5vdCBzdWJjbGFzcyB0aGlzIG9yIGNyZWF0ZSBpbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBkaXJlY3RseS5cbiAqIElmIHlvdSBoYXZlIG5lZWQgb2YgYSBlcnJvciByZXByZXNlbnRpbmcgYSB0aW1lb3V0LCB5b3Ugc2hvdWxkXG4gKiBjcmVhdGUgeW91ciBvd24gZXJyb3IgY2xhc3MgYW5kIHVzZSB0aGF0LlxuICpcbiAqIEBzZWUge0BsaW5rIHRpbWVvdXR9XG4gKlxuICogQGNsYXNzIFRpbWVvdXRFcnJvclxuICovXG5leHBvcnQgY29uc3QgVGltZW91dEVycm9yOiBUaW1lb3V0RXJyb3JDdG9yID0gY3JlYXRlRXJyb3JDbGFzcyhcbiAgKF9zdXBlcikgPT5cbiAgICBmdW5jdGlvbiBUaW1lb3V0RXJyb3JJbXBsKHRoaXM6IGFueSwgaW5mbzogVGltZW91dEluZm88YW55PiB8IG51bGwgPSBudWxsKSB7XG4gICAgICBfc3VwZXIodGhpcyk7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCBoYXMgb2NjdXJyZWQnO1xuICAgICAgdGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG4gICAgICB0aGlzLmluZm8gPSBpbmZvO1xuICAgIH1cbik7XG5cbi8qKlxuICogSWYgYHdpdGhgIGlzIHByb3ZpZGVkLCB0aGlzIHdpbGwgcmV0dXJuIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIHN3aXRjaCB0byBhIGRpZmZlcmVudCBvYnNlcnZhYmxlIGlmIHRoZSBzb3VyY2VcbiAqIGRvZXMgbm90IHB1c2ggdmFsdWVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgcGFyYW1ldGVycy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VGhlIG1vc3QgZmxleGlibGUgb3B0aW9uIGZvciBjcmVhdGluZyBhIHRpbWVvdXQgYmVoYXZpb3IuPC9zcGFuPlxuICpcbiAqIFRoZSBmaXJzdCB0aGluZyB0byBrbm93IGFib3V0IHRoZSBjb25maWd1cmF0aW9uIGlzIGlmIHlvdSBkbyBub3QgcHJvdmlkZSBhIGB3aXRoYCBwcm9wZXJ0eSB0byB0aGUgY29uZmlndXJhdGlvbixcbiAqIHdoZW4gdGltZW91dCBjb25kaXRpb25zIGFyZSBtZXQsIHRoaXMgb3BlcmF0b3Igd2lsbCBlbWl0IGEge0BsaW5rIFRpbWVvdXRFcnJvcn0uIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGZhY3RvcnlcbiAqIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IGB3aXRoYCwgYW5kIHN3aXRjaCB5b3VyIHN1YnNjcmlwdGlvbiB0byB0aGUgcmVzdWx0IG9mIHRoYXQuIFRpbWVvdXQgY29uZGl0aW9ucyBhcmUgcHJvdmlkZWQgYnlcbiAqIHRoZSBzZXR0aW5ncyBpbiBgZmlyc3RgIGFuZCBgZWFjaGAuXG4gKlxuICogVGhlIGBmaXJzdGAgcHJvcGVydHkgY2FuIGJlIGVpdGhlciBhIGBEYXRlYCBmb3IgYSBzcGVjaWZpYyB0aW1lLCBhIGBudW1iZXJgIGZvciBhIHRpbWUgcGVyaW9kIHJlbGF0aXZlIHRvIHRoZVxuICogcG9pbnQgb2Ygc3Vic2NyaXB0aW9uLCBvciBpdCBjYW4gYmUgc2tpcHBlZC4gVGhpcyBwcm9wZXJ0eSBpcyB0byBjaGVjayB0aW1lb3V0IGNvbmRpdGlvbnMgZm9yIHRoZSBhcnJpdmFsIG9mXG4gKiB0aGUgZmlyc3QgdmFsdWUgZnJvbSB0aGUgc291cmNlIF9vbmx5Xy4gVGhlIHRpbWluZ3Mgb2YgYWxsIHN1YnNlcXVlbnQgdmFsdWVzICBmcm9tIHRoZSBzb3VyY2Ugd2lsbCBiZSBjaGVja2VkXG4gKiBhZ2FpbnN0IHRoZSB0aW1lIHBlcmlvZCBwcm92aWRlZCBieSBgZWFjaGAsIGlmIGl0IHdhcyBwcm92aWRlZC5cbiAqXG4gKiBUaGUgYGVhY2hgIHByb3BlcnR5IGNhbiBiZSBlaXRoZXIgYSBgbnVtYmVyYCBvciBza2lwcGVkLiBJZiBhIHZhbHVlIGZvciBgZWFjaGAgaXMgcHJvdmlkZWQsIGl0IHJlcHJlc2VudHMgdGhlIGFtb3VudCBvZlxuICogdGltZSB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCB3YWl0IGJldHdlZW4gdGhlIGFycml2YWwgb2YgdmFsdWVzIGZyb20gdGhlIHNvdXJjZSBiZWZvcmUgdGltaW5nIG91dC4gTm90ZSB0aGF0IGlmXG4gKiBgZmlyc3RgIGlzIF9ub3RfIHByb3ZpZGVkLCB0aGUgdmFsdWUgZnJvbSBgZWFjaGAgd2lsbCBiZSB1c2VkIHRvIGNoZWNrIHRpbWVvdXQgY29uZGl0aW9ucyBmb3IgdGhlIGFycml2YWwgb2YgdGhlIGZpcnN0XG4gKiB2YWx1ZSBhbmQgYWxsIHN1YnNlcXVlbnQgdmFsdWVzLiBJZiBgZmlyc3RgIF9pc18gcHJvdmlkZWQsIGBlYWNoYCB3aWxsIG9ubHkgYmUgdXNlIHRvIGNoZWNrIGFsbCB2YWx1ZXMgYWZ0ZXIgdGhlIGZpcnN0LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogRW1pdCBhIGN1c3RvbSBlcnJvciBpZiB0aGVyZSBpcyB0b28gbXVjaCB0aW1lIGJldHdlZW4gdmFsdWVzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0aW1lb3V0LCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY2xhc3MgQ3VzdG9tVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICBzdXBlcignSXQgd2FzIHRvbyBzbG93Jyk7XG4gKiAgICAgdGhpcy5uYW1lID0gJ0N1c3RvbVRpbWVvdXRFcnJvcic7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjb25zdCBzbG93JCA9IGludGVydmFsKDkwMCk7XG4gKlxuICogc2xvdyQucGlwZShcbiAqICAgdGltZW91dCh7XG4gKiAgICAgZWFjaDogMTAwMCxcbiAqICAgICB3aXRoOiAoKSA9PiB0aHJvd0Vycm9yKCgpID0+IG5ldyBDdXN0b21UaW1lb3V0RXJyb3IoKSlcbiAqICAgfSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoe1xuICogICBlcnJvcjogY29uc29sZS5lcnJvclxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBTd2l0Y2ggdG8gYSBmYXN0ZXIgb2JzZXJ2YWJsZSBpZiB5b3VyIHNvdXJjZSBpcyBzbG93LlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGltZW91dCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNsb3ckID0gaW50ZXJ2YWwoOTAwKTtcbiAqIGNvbnN0IGZhc3QkID0gaW50ZXJ2YWwoNTAwKTtcbiAqXG4gKiBzbG93JC5waXBlKFxuICogICB0aW1lb3V0KHtcbiAqICAgICBlYWNoOiAxMDAwLFxuICogICAgIHdpdGg6ICgpID0+IGZhc3QkLFxuICogICB9KVxuICogKVxuICogLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSB0aW1lb3V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dDxULCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+LCBNID0gdW5rbm93bj4oXG4gIGNvbmZpZzogVGltZW91dENvbmZpZzxULCBPLCBNPiAmIHsgd2l0aDogKGluZm86IFRpbWVvdXRJbmZvPFQsIE0+KSA9PiBPIH1cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IE9ic2VydmVkVmFsdWVPZjxPPj47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBlcnJvciBvciBzd2l0Y2ggdG8gYSBkaWZmZXJlbnQgb2JzZXJ2YWJsZSBpZiB0aGUgc291cmNlIGRvZXMgbm90IHB1c2ggdmFsdWVzXG4gKiB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lIHBhcmFtZXRlcnMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlRoZSBtb3N0IGZsZXhpYmxlIG9wdGlvbiBmb3IgY3JlYXRpbmcgYSB0aW1lb3V0IGJlaGF2aW9yLjwvc3Bhbj5cbiAqXG4gKiBUaGUgZmlyc3QgdGhpbmcgdG8ga25vdyBhYm91dCB0aGUgY29uZmlndXJhdGlvbiBpcyBpZiB5b3UgZG8gbm90IHByb3ZpZGUgYSBgd2l0aGAgcHJvcGVydHkgdG8gdGhlIGNvbmZpZ3VyYXRpb24sXG4gKiB3aGVuIHRpbWVvdXQgY29uZGl0aW9ucyBhcmUgbWV0LCB0aGlzIG9wZXJhdG9yIHdpbGwgZW1pdCBhIHtAbGluayBUaW1lb3V0RXJyb3J9LiBPdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBmYWN0b3J5XG4gKiBmdW5jdGlvbiBwcm92aWRlZCBieSBgd2l0aGAsIGFuZCBzd2l0Y2ggeW91ciBzdWJzY3JpcHRpb24gdG8gdGhlIHJlc3VsdCBvZiB0aGF0LiBUaW1lb3V0IGNvbmRpdGlvbnMgYXJlIHByb3ZpZGVkIGJ5XG4gKiB0aGUgc2V0dGluZ3MgaW4gYGZpcnN0YCBhbmQgYGVhY2hgLlxuICpcbiAqIFRoZSBgZmlyc3RgIHByb3BlcnR5IGNhbiBiZSBlaXRoZXIgYSBgRGF0ZWAgZm9yIGEgc3BlY2lmaWMgdGltZSwgYSBgbnVtYmVyYCBmb3IgYSB0aW1lIHBlcmlvZCByZWxhdGl2ZSB0byB0aGVcbiAqIHBvaW50IG9mIHN1YnNjcmlwdGlvbiwgb3IgaXQgY2FuIGJlIHNraXBwZWQuIFRoaXMgcHJvcGVydHkgaXMgdG8gY2hlY2sgdGltZW91dCBjb25kaXRpb25zIGZvciB0aGUgYXJyaXZhbCBvZlxuICogdGhlIGZpcnN0IHZhbHVlIGZyb20gdGhlIHNvdXJjZSBfb25seV8uIFRoZSB0aW1pbmdzIG9mIGFsbCBzdWJzZXF1ZW50IHZhbHVlcyAgZnJvbSB0aGUgc291cmNlIHdpbGwgYmUgY2hlY2tlZFxuICogYWdhaW5zdCB0aGUgdGltZSBwZXJpb2QgcHJvdmlkZWQgYnkgYGVhY2hgLCBpZiBpdCB3YXMgcHJvdmlkZWQuXG4gKlxuICogVGhlIGBlYWNoYCBwcm9wZXJ0eSBjYW4gYmUgZWl0aGVyIGEgYG51bWJlcmAgb3Igc2tpcHBlZC4gSWYgYSB2YWx1ZSBmb3IgYGVhY2hgIGlzIHByb3ZpZGVkLCBpdCByZXByZXNlbnRzIHRoZSBhbW91bnQgb2ZcbiAqIHRpbWUgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgd2FpdCBiZXR3ZWVuIHRoZSBhcnJpdmFsIG9mIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgYmVmb3JlIHRpbWluZyBvdXQuIE5vdGUgdGhhdCBpZlxuICogYGZpcnN0YCBpcyBfbm90XyBwcm92aWRlZCwgdGhlIHZhbHVlIGZyb20gYGVhY2hgIHdpbGwgYmUgdXNlZCB0byBjaGVjayB0aW1lb3V0IGNvbmRpdGlvbnMgZm9yIHRoZSBhcnJpdmFsIG9mIHRoZSBmaXJzdFxuICogdmFsdWUgYW5kIGFsbCBzdWJzZXF1ZW50IHZhbHVlcy4gSWYgYGZpcnN0YCBfaXNfIHByb3ZpZGVkLCBgZWFjaGAgd2lsbCBvbmx5IGJlIHVzZSB0byBjaGVjayBhbGwgdmFsdWVzIGFmdGVyIHRoZSBmaXJzdC5cbiAqXG4gKiAjIyMgSGFuZGxpbmcgVGltZW91dEVycm9yc1xuICpcbiAqIElmIG5vIGB3aXRoYCBwcm9wZXJ0eSB3YXMgcHJvdmlkZWQsIHN1YnNjcmlwdGlvbnMgdG8gdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIG1heSBlbWl0IGFuIGVycm9yIG9mIHtAbGluayBUaW1lb3V0RXJyb3J9LlxuICogVGhlIHRpbWVvdXQgZXJyb3IgcHJvdmlkZXMgdXNlZnVsIGluZm9ybWF0aW9uIHlvdSBjYW4gZXhhbWluZSB3aGVuIHlvdSdyZSBoYW5kbGluZyB0aGUgZXJyb3IuIFRoZSBtb3N0IGNvbW1vbiB3YXkgdG8gaGFuZGxlXG4gKiB0aGUgZXJyb3Igd291bGQgYmUgd2l0aCB7QGxpbmsgY2F0Y2hFcnJvcn0sIGFsdGhvdWdoIHlvdSBjb3VsZCB1c2Uge0BsaW5rIHRhcH0gb3IganVzdCB0aGUgZXJyb3IgaGFuZGxlciBpbiB5b3VyIGBzdWJzY3JpYmVgIGNhbGxcbiAqIGRpcmVjdGx5LCBpZiB5b3VyIGVycm9yIGhhbmRsaW5nIGlzIG9ubHkgYSBzaWRlIGVmZmVjdCAoc3VjaCBhcyBub3RpZnlpbmcgdGhlIHVzZXIsIG9yIGxvZ2dpbmcpLlxuICpcbiAqIEluIHRoaXMgY2FzZSwgeW91IHdvdWxkIGNoZWNrIHRoZSBlcnJvciBmb3IgYGluc3RhbmNlb2YgVGltZW91dEVycm9yYCB0byB2YWxpZGF0ZSB0aGF0IHRoZSBlcnJvciB3YXMgaW5kZWVkIGZyb20gYHRpbWVvdXRgLCBhbmRcbiAqIG5vdCBmcm9tIHNvbWUgb3RoZXIgc291cmNlLiBJZiBpdCdzIG5vdCBmcm9tIGB0aW1lb3V0YCwgeW91IHNob3VsZCBwcm9iYWJseSByZXRocm93IGl0IGlmIHlvdSdyZSBpbiBhIGBjYXRjaEVycm9yYC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEVtaXQgYSB7QGxpbmsgVGltZW91dEVycm9yfSBpZiB0aGUgZmlyc3QgdmFsdWUsIGFuZCBfb25seV8gdGhlIGZpcnN0IHZhbHVlLCBkb2VzIG5vdCBhcnJpdmUgd2l0aGluIDUgc2Vjb25kc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGltZW91dCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIC8vIEEgcmFuZG9tIGludGVydmFsIHRoYXQgbGFzdHMgYmV0d2VlbiAwIGFuZCAxMCBzZWNvbmRzIHBlciB0aWNrXG4gKiBjb25zdCBzb3VyY2UkID0gaW50ZXJ2YWwoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTBfMDAwKSk7XG4gKlxuICogc291cmNlJC5waXBlKFxuICogICB0aW1lb3V0KHsgZmlyc3Q6IDVfMDAwIH0pXG4gKiApXG4gKiAuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2csXG4gKiAgIGVycm9yOiBjb25zb2xlLmVycm9yXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEVtaXQgYSB7QGxpbmsgVGltZW91dEVycm9yfSBpZiB0aGUgc291cmNlIHdhaXRzIGxvbmdlciB0aGFuIDUgc2Vjb25kcyBiZXR3ZWVuIGFueSB0d28gdmFsdWVzIG9yIHRoZSBmaXJzdCB2YWx1ZVxuICogYW5kIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdGltZXIsIHRpbWVvdXQsIGV4cGFuZCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGdldFJhbmRvbVRpbWUgPSAoKSA9PiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMF8wMDApO1xuICpcbiAqIC8vIEFuIG9ic2VydmFibGUgdGhhdCB3YWl0cyBhIHJhbmRvbSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIGVhY2ggZGVsaXZlcmVkIHZhbHVlXG4gKiBjb25zdCBzb3VyY2UkID0gdGltZXIoZ2V0UmFuZG9tVGltZSgpKVxuICogICAucGlwZShleHBhbmQoKCkgPT4gdGltZXIoZ2V0UmFuZG9tVGltZSgpKSkpO1xuICpcbiAqIHNvdXJjZSRcbiAqICAgLnBpcGUodGltZW91dCh7IGVhY2g6IDVfMDAwIH0pKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiBjb25zb2xlLmxvZyxcbiAqICAgICBlcnJvcjogY29uc29sZS5lcnJvclxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIEVtaXQgYSB7QGxpbmsgVGltZW91dEVycm9yfSBpZiB0aGUgc291cmNlIGRvZXMgbm90IGVtaXQgYmVmb3JlIDcgc2Vjb25kcywgX29yXyBpZiB0aGUgc291cmNlIHdhaXRzIGxvbmdlciB0aGFuXG4gKiA1IHNlY29uZHMgYmV0d2VlbiBhbnkgdHdvIHZhbHVlcyBhZnRlciB0aGUgZmlyc3QuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHRpbWVyLCB0aW1lb3V0LCBleHBhbmQgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBnZXRSYW5kb21UaW1lID0gKCkgPT4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTBfMDAwKTtcbiAqXG4gKiAvLyBBbiBvYnNlcnZhYmxlIHRoYXQgd2FpdHMgYSByYW5kb20gYW1vdW50IG9mIHRpbWUgYmV0d2VlbiBlYWNoIGRlbGl2ZXJlZCB2YWx1ZVxuICogY29uc3Qgc291cmNlJCA9IHRpbWVyKGdldFJhbmRvbVRpbWUoKSlcbiAqICAgLnBpcGUoZXhwYW5kKCgpID0+IHRpbWVyKGdldFJhbmRvbVRpbWUoKSkpKTtcbiAqXG4gKiBzb3VyY2UkXG4gKiAgIC5waXBlKHRpbWVvdXQoeyBmaXJzdDogN18wMDAsIGVhY2g6IDVfMDAwIH0pKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiBjb25zb2xlLmxvZyxcbiAqICAgICBlcnJvcjogY29uc29sZS5lcnJvclxuICogICB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dDxULCBNID0gdW5rbm93bj4oY29uZmlnOiBPbWl0PFRpbWVvdXRDb25maWc8VCwgYW55LCBNPiwgJ3dpdGgnPik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVD47XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCBlcnJvciBpZiB0aGUgc291cmNlIGRvZXMgbm90IHB1c2ggaXRzIGZpcnN0IHZhbHVlIGJlZm9yZSB0aGUgc3BlY2lmaWVkIHRpbWUgcGFzc2VkIGFzIGEgYERhdGVgLlxuICogVGhpcyBpcyBmdW5jdGlvbmFsbHkgdGhlIHNhbWUgYXMgYHRpbWVvdXQoeyBmaXJzdDogc29tZURhdGUgfSlgLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FcnJvcnMgaWYgdGhlIGZpcnN0IHZhbHVlIGRvZXNuJ3Qgc2hvdyB1cCBiZWZvcmUgdGhlIGdpdmVuIGRhdGUgYW5kIHRpbWU8L3NwYW4+XG4gKlxuICogIVtdKHRpbWVvdXQucG5nKVxuICpcbiAqIEBwYXJhbSBmaXJzdCBUaGUgZGF0ZSB0byBhdCB3aGljaCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCB0aW1lb3V0IGlmIHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZVxuICogZG9lcyBub3QgZW1pdCBhdCBsZWFzdCBvbmUgdmFsdWUuXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlLiBEZWZhdWx0cyB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dDxUPihmaXJzdDogRGF0ZSwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVycm9yIGlmIHRoZSBzb3VyY2UgZG9lcyBub3QgcHVzaCBhIHZhbHVlIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICogVGhpcyBpcyBmdW5jdGlvbmFsbHkgdGhlIHNhbWUgYXMgYHRpbWVvdXQoeyBlYWNoOiBtaWxsaXNlY29uZHMgfSlgLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FcnJvcnMgaWYgaXQgd2FpdHMgdG9vIGxvbmcgYmV0d2VlbiBhbnkgdmFsdWU8L3NwYW4+XG4gKlxuICogIVtdKHRpbWVvdXQucG5nKVxuICpcbiAqIEBwYXJhbSBlYWNoIFRoZSB0aW1lIGFsbG93ZWQgYmV0d2VlbiBlYWNoIHB1c2hlZCB2YWx1ZSBmcm9tIHRoZSBzb3VyY2UgYmVmb3JlIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZVxuICogd2lsbCB0aW1lb3V0LlxuICogQHBhcmFtIHNjaGVkdWxlciBUaGUgc2NoZWR1bGVyIHRvIHVzZS4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXQ8VD4oZWFjaDogbnVtYmVyLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqXG4gKiBFcnJvcnMgaWYgT2JzZXJ2YWJsZSBkb2VzIG5vdCBlbWl0IGEgdmFsdWUgaW4gZ2l2ZW4gdGltZSBzcGFuLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5UaW1lb3V0cyBvbiBPYnNlcnZhYmxlIHRoYXQgZG9lc24ndCBlbWl0IHZhbHVlcyBmYXN0IGVub3VnaC48L3NwYW4+XG4gKlxuICogIVtdKHRpbWVvdXQucG5nKVxuICpcbiAqIEBzZWUge0BsaW5rIHRpbWVvdXRXaXRofVxuICpcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG1pcnJvcnMgYmVoYXZpb3VyIG9mIHRoZVxuICogc291cmNlIE9ic2VydmFibGUsIHVubGVzcyB0aW1lb3V0IGhhcHBlbnMgd2hlbiBpdCB0aHJvd3MgYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0PFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55PiwgTT4oXG4gIGNvbmZpZzogbnVtYmVyIHwgRGF0ZSB8IFRpbWVvdXRDb25maWc8VCwgTywgTT4sXG4gIHNjaGVkdWxlckFyZz86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICAvLyBJbnRlbnRpb25hbGx5IHRlcnNlIGNvZGUuXG4gIC8vIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHZhbGlkIGBEYXRlYCwgdGhlbiB3ZSB1c2UgaXQgYXMgdGhlIGBmaXJzdGAgY29uZmlnLlxuICAvLyBPdGhlcndpc2UsIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIGBudW1iZXJgLCB0aGVuIHdlIHVzZSBpdCBhcyB0aGUgYGVhY2hgIGNvbmZpZy5cbiAgLy8gT3RoZXJ3aXNlLCBpdCBjYW4gYmUgYXNzdW1lZCB0aGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGl0c2VsZiwgYW5kXG4gIC8vIHdlIGRlc3RydWN0dXJlIHRoYXQgaW50byB3aGF0IHdlJ3JlIGdvaW5nIHRvIHVzZSwgc2V0dGluZyBpbXBvcnRhbnQgZGVmYXVsdHMgYXMgd2UgZG8uXG4gIC8vIE5PVEU6IFRoZSBkZWZhdWx0IGZvciBgc2NoZWR1bGVyYCB3aWxsIGJlIHRoZSBgc2NoZWR1bGVyYCBhcmd1bWVudCBpZiBpdCBleGlzdHMsIG9yXG4gIC8vIGl0IHdpbGwgZGVmYXVsdCB0byB0aGUgYGFzeW5jU2NoZWR1bGVyYC5cbiAgY29uc3Qge1xuICAgIGZpcnN0LFxuICAgIGVhY2gsXG4gICAgd2l0aDogX3dpdGggPSB0aW1lb3V0RXJyb3JGYWN0b3J5LFxuICAgIHNjaGVkdWxlciA9IHNjaGVkdWxlckFyZyA/PyBhc3luY1NjaGVkdWxlcixcbiAgICBtZXRhID0gbnVsbCEsXG4gIH0gPSAoaXNWYWxpZERhdGUoY29uZmlnKSA/IHsgZmlyc3Q6IGNvbmZpZyB9IDogdHlwZW9mIGNvbmZpZyA9PT0gJ251bWJlcicgPyB7IGVhY2g6IGNvbmZpZyB9IDogY29uZmlnKSBhcyBUaW1lb3V0Q29uZmlnPFQsIE8sIE0+O1xuXG4gIGlmIChmaXJzdCA9PSBudWxsICYmIGVhY2ggPT0gbnVsbCkge1xuICAgIC8vIEVuc3VyZSB0aW1lb3V0IHdhcyBwcm92aWRlZCBhdCBydW50aW1lLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIHRpbWVvdXQgcHJvdmlkZWQuJyk7XG4gIH1cblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhpcyBzdWJzY3JpcHRpb24gZW5jYXBzdWxhdGVzIG91ciBzdWJzY3JpcHRpb24gdG8gdGhlXG4gICAgLy8gc291cmNlIGZvciB0aGlzIG9wZXJhdG9yLiBXZSdyZSBjYXB0dXJpbmcgaXQgc2VwYXJhdGVseSxcbiAgICAvLyBiZWNhdXNlIGlmIHRoZXJlIGlzIGEgYHdpdGhgIG9ic2VydmFibGUgdG8gZmFpbCBvdmVyIHRvLFxuICAgIC8vIHdlIHdhbnQgdG8gdW5zdWJzY3JpYmUgZnJvbSBvdXIgb3JpZ2luYWwgc3Vic2NyaXB0aW9uLCBhbmRcbiAgICAvLyBoYW5kIG9mIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhhdCBvbmUuXG4gICAgbGV0IG9yaWdpbmFsU291cmNlU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gICAgLy8gVGhlIHN1YnNjcmlwdGlvbiBmb3Igb3VyIHRpbWVvdXQgdGltZXIuIFRoaXMgY2hhbmdlc1xuICAgIC8vIGV2ZXJ5IHRpbWUgd2UgZ2V0IGEgbmV3IHZhbHVlLlxuICAgIGxldCB0aW1lclN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICAgIC8vIEEgYml0IG9mIHN0YXRlIHdlIHBhc3MgdG8gb3VyIHdpdGggYW5kIGVycm9yIGZhY3RvcmllcyB0b1xuICAgIC8vIHRlbGwgd2hhdCB0aGUgbGFzdCB2YWx1ZSB3ZSBzYXcgd2FzLlxuICAgIGxldCBsYXN0VmFsdWU6IFQgfCBudWxsID0gbnVsbDtcbiAgICAvLyBBIGJpdCBvZiBzdGF0ZSB3ZSBwYXNzIHRvIHRoZSB3aXRoIGFuZCBlcnJvciBmYWN0b3JpZXMgdG9cbiAgICAvLyB0ZWxsIGhvdyBtYW55IHZhbHVlcyB3ZSBoYXZlIHNlZW4gc28gZmFyLlxuICAgIGxldCBzZWVuID0gMDtcbiAgICBjb25zdCBzdGFydFRpbWVyID0gKGRlbGF5OiBudW1iZXIpID0+IHtcbiAgICAgIHRpbWVyU3Vic2NyaXB0aW9uID0gZXhlY3V0ZVNjaGVkdWxlKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICBzY2hlZHVsZXIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlubmVyRnJvbShcbiAgICAgICAgICAgICAgX3dpdGghKHtcbiAgICAgICAgICAgICAgICBtZXRhLFxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICBzZWVuLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWxheVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgb3JpZ2luYWxTb3VyY2VTdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgICAvLyBjbGVhciB0aGUgdGltZXIgc28gd2UgY2FuIGVtaXQgYW5kIHN0YXJ0IGFub3RoZXIgb25lLlxuICAgICAgICAgIHRpbWVyU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHNlZW4rKztcbiAgICAgICAgICAvLyBFbWl0XG4gICAgICAgICAgc3Vic2NyaWJlci5uZXh0KChsYXN0VmFsdWUgPSB2YWx1ZSkpO1xuICAgICAgICAgIC8vIG51bGwgfCB1bmRlZmluZWQgYXJlIGJvdGggPCAwLiBUaGFua3MsIEphdmFTY3JpcHQuXG4gICAgICAgICAgZWFjaCEgPiAwICYmIHN0YXJ0VGltZXIoZWFjaCEpO1xuICAgICAgICB9LFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGltZXJTdWJzY3JpcHRpb24/LmNsb3NlZCkge1xuICAgICAgICAgICAgdGltZXJTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEJlIHN1cmUgbm90IHRvIGhvbGQgdGhlIGxhc3QgdmFsdWUgaW4gbWVtb3J5IGFmdGVyIHVuc3Vic2NyaXB0aW9uXG4gICAgICAgICAgLy8gaXQgY291bGQgYmUgcXVpdGUgbGFyZ2UuXG4gICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBJbnRlbnRpb25hbGx5IHRlcnNlIGNvZGUuXG4gICAgLy8gSWYgd2UndmUgYHNlZW5gIGEgdmFsdWUsIHRoYXQgbWVhbnMgdGhlIFwiZmlyc3RcIiBjbGF1c2Ugd2FzIG1ldCBhbHJlYWR5LCBpZiBpdCBleGlzdGVkLlxuICAgIC8vICAgaXQgYWxzbyBtZWFucyB0aGF0IGEgdGltZXIgd2FzIGFscmVhZHkgc3RhcnRlZCBmb3IgXCJlYWNoXCIgKGluIHRoZSBuZXh0IGhhbmRsZXIgYWJvdmUpLlxuICAgIC8vIElmIGBmaXJzdGAgd2FzIHByb3ZpZGVkLCBhbmQgaXQncyBhIG51bWJlciwgdGhlbiB1c2UgaXQuXG4gICAgLy8gSWYgYGZpcnN0YCB3YXMgcHJvdmlkZWQgYW5kIGl0J3Mgbm90IGEgbnVtYmVyLCBpdCdzIGEgRGF0ZSwgYW5kIHdlIGdldCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGl0IGFuZCBcIm5vd1wiLlxuICAgIC8vIElmIGBmaXJzdGAgd2FzIG5vdCBwcm92aWRlZCBhdCBhbGwsIHRoZW4gb3VyIGZpcnN0IHRpbWVyIHdpbGwgYmUgdGhlIHZhbHVlIGZyb20gYGVhY2hgLlxuICAgICFzZWVuICYmIHN0YXJ0VGltZXIoZmlyc3QgIT0gbnVsbCA/ICh0eXBlb2YgZmlyc3QgPT09ICdudW1iZXInID8gZmlyc3QgOiArZmlyc3QgLSBzY2hlZHVsZXIhLm5vdygpKSA6IGVhY2ghKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgZnVuY3Rpb24gdG8gdXNlIHRvIGVtaXQgYW4gZXJyb3Igd2hlbiB0aW1lb3V0IG9jY3VycyBhbmQgYSBgd2l0aGAgZnVuY3Rpb25cbiAqIGlzIG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0gaW5mbyBUaGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRpbWVvdXQgdG8gcGFzcyBhbG9uZyB0byB0aGUgZXJyb3JcbiAqL1xuZnVuY3Rpb24gdGltZW91dEVycm9yRmFjdG9yeShpbmZvOiBUaW1lb3V0SW5mbzxhbnk+KTogT2JzZXJ2YWJsZTxuZXZlcj4ge1xuICB0aHJvdyBuZXcgVGltZW91dEVycm9yKGluZm8pO1xufVxuIiwiaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyB0aW1lb3V0IH0gZnJvbSAnLi90aW1lb3V0JztcblxuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIHRpbWVvdXR9LiBJbnN0ZWFkIG9mIGB0aW1lb3V0V2l0aChzb21lRGF0ZSwgYSQsIHNjaGVkdWxlcilgLCB1c2UgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gKiBgdGltZW91dCh7IGZpcnN0OiBzb21lRGF0ZSwgd2l0aDogKCkgPT4gYSQsIHNjaGVkdWxlciB9KWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0V2l0aDxULCBSPihkdWVCeTogRGF0ZSwgc3dpdGNoVG86IE9ic2VydmFibGVJbnB1dDxSPiwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IFI+O1xuLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIHRpbWVvdXR9LiBJbnN0ZWFkIG9mIGB0aW1lb3V0V2l0aCgxMDAsIGEkLCBzY2hlZHVsZXIpYCwgdXNlIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdFxuICogIGB0aW1lb3V0KHsgZWFjaDogMTAwLCB3aXRoOiAoKSA9PiBhJCwgc2NoZWR1bGVyIH0pYC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXRXaXRoPFQsIFI+KHdhaXRGb3I6IG51bWJlciwgc3dpdGNoVG86IE9ic2VydmFibGVJbnB1dDxSPiwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IFI+O1xuXG4vKipcbiAqIFdoZW4gdGhlIHBhc3NlZCB0aW1lc3BhbiBlbGFwc2VzIGJlZm9yZSB0aGUgc291cmNlIGVtaXRzIGFueSBnaXZlbiB2YWx1ZSwgaXQgd2lsbCB1bnN1YnNjcmliZSBmcm9tIHRoZSBzb3VyY2UsXG4gKiBhbmQgc3dpdGNoIHRoZSBzdWJzY3JpcHRpb24gdG8gYW5vdGhlciBvYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Vc2VkIHRvIHN3aXRjaCB0byBhIGRpZmZlcmVudCBvYnNlcnZhYmxlIGlmIHlvdXIgc291cmNlIGlzIGJlaW5nIHNsb3cuPC9zcGFuPlxuICpcbiAqIFVzZWZ1bCBpbiBjYXNlcyB3aGVyZTpcbiAqXG4gKiAtIFlvdSB3YW50IHRvIHN3aXRjaCB0byBhIGRpZmZlcmVudCBzb3VyY2UgdGhhdCBtYXkgYmUgZmFzdGVyLlxuICogLSBZb3Ugd2FudCB0byBub3RpZnkgYSB1c2VyIHRoYXQgdGhlIGRhdGEgc3RyZWFtIGlzIHNsb3cuXG4gKiAtIFlvdSB3YW50IHRvIGVtaXQgYSBjdXN0b20gZXJyb3IgcmF0aGVyIHRoYW4gdGhlIHtAbGluayBUaW1lb3V0RXJyb3J9IGVtaXR0ZWRcbiAqICAgYnkgdGhlIGRlZmF1bHQgdXNhZ2Ugb2Yge0BsaW5rIHRpbWVvdXR9LlxuICpcbiAqIElmIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIGFzIERhdGUgYW5kIHRoZSB0aW1lIG9mIHRoZSBEYXRlIGFycml2ZXMgYmVmb3JlIHRoZSBmaXJzdCB2YWx1ZSBhcnJpdmVzIGZyb20gdGhlIHNvdXJjZSxcbiAqIGl0IHdpbGwgdW5zdWJzY3JpYmUgZnJvbSB0aGUgc291cmNlIGFuZCBzd2l0Y2ggdGhlIHN1YnNjcmlwdGlvbiB0byBhbm90aGVyIG9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZSBEYXRlIG9iamVjdCB0byBzd2l0Y2ggdG8gYSBkaWZmZXJlbnQgb2JzZXJ2YWJsZSBpZiB0aGUgZmlyc3QgdmFsdWUgZG9lc24ndCBhcnJpdmUgYnkgYSBzcGVjaWZpYyB0aW1lLjwvc3Bhbj5cbiAqXG4gKiBDYW4gYmUgdXNlZCB0byBzZXQgYSB0aW1lb3V0IG9ubHkgZm9yIHRoZSBmaXJzdCB2YWx1ZSwgaG93ZXZlciBpdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUge0BsaW5rIHRpbWVvdXR9IG9wZXJhdG9yIHdpdGhcbiAqIHRoZSBgZmlyc3RgIGNvbmZpZ3VyYXRpb24gdG8gZ2V0IHRoZSBzYW1lIGVmZmVjdC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIEZhbGxiYWNrIHRvIGEgZmFzdGVyIG9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRpbWVvdXRXaXRoIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2xvdyQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGZhc3RlciQgPSBpbnRlcnZhbCg1MDApO1xuICpcbiAqIHNsb3ckXG4gKiAgIC5waXBlKHRpbWVvdXRXaXRoKDkwMCwgZmFzdGVyJCkpXG4gKiAgIC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogRW1pdCB5b3VyIG93biBjdXN0b20gdGltZW91dCBlcnJvclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGltZW91dFdpdGgsIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjbGFzcyBDdXN0b21UaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHN1cGVyKCdJdCB3YXMgdG9vIHNsb3cnKTtcbiAqICAgICB0aGlzLm5hbWUgPSAnQ3VzdG9tVGltZW91dEVycm9yJztcbiAqICAgfVxuICogfVxuICpcbiAqIGNvbnN0IHNsb3ckID0gaW50ZXJ2YWwoMTAwMCk7XG4gKlxuICogc2xvdyRcbiAqICAgLnBpcGUodGltZW91dFdpdGgoOTAwLCB0aHJvd0Vycm9yKCgpID0+IG5ldyBDdXN0b21UaW1lb3V0RXJyb3IoKSkpKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBlcnJvcjogZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpXG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgdGltZW91dH1cbiAqXG4gKiBAcGFyYW0gZHVlIFdoZW4gcGFzc2VkIGEgbnVtYmVyLCB1c2VkIGFzIHRoZSB0aW1lIChpbiBtaWxsaXNlY29uZHMpIGFsbG93ZWQgYmV0d2VlbiBlYWNoIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBiZWZvcmUgdGltZW91dFxuICogaXMgdHJpZ2dlcmVkLiBXaGVuIHBhc3NlZCBhIERhdGUsIHVzZWQgYXMgdGhlIGV4YWN0IHRpbWUgYXQgd2hpY2ggdGhlIHRpbWVvdXQgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIGZpcnN0IHZhbHVlIGRvZXMgbm90IGFycml2ZS5cbiAqIEBwYXJhbSB3aXRoT2JzZXJ2YWJsZSBUaGUgb2JzZXJ2YWJsZSB0byBzd2l0Y2ggdG8gd2hlbiB0aW1lb3V0IG9jY3Vycy5cbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHNjaGVkdWxlciB0byB1c2Ugd2l0aCB0aW1lLXJlbGF0ZWQgb3BlcmF0aW9ucyB3aXRoaW4gdGhpcyBvcGVyYXRvci4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfVxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyBiZWhhdmlvdXIgb2YgdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSwgdW5sZXNzIHRpbWVvdXQgaGFwcGVucyB3aGVuIGl0IHN0YXJ0cyBlbWl0dGluZyB2YWx1ZXNcbiAqIGZyb20gdGhlIGBPYnNlcnZhYmxlSW5wdXRgIHBhc3NlZCBhcyBhIHNlY29uZCBwYXJhbWV0ZXIuXG4gKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayB0aW1lb3V0fS4gSW5zdGVhZCBvZiBgdGltZW91dFdpdGgoMTAwLCBhJCwgc2NoZWR1bGVyKWAsIHVzZSB7QGxpbmsgdGltZW91dH0gd2l0aCB0aGUgY29uZmlndXJhdGlvblxuICogb2JqZWN0OiBgdGltZW91dCh7IGVhY2g6IDEwMCwgd2l0aDogKCkgPT4gYSQsIHNjaGVkdWxlciB9KWAuIEluc3RlYWQgb2YgYHRpbWVvdXRXaXRoKHNvbWVEYXRlLCBhJCwgc2NoZWR1bGVyKWAsIHVzZSB7QGxpbmsgdGltZW91dH1cbiAqIHdpdGggdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0OiBgdGltZW91dCh7IGZpcnN0OiBzb21lRGF0ZSwgd2l0aDogKCkgPT4gYSQsIHNjaGVkdWxlciB9KWAuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXRXaXRoPFQsIFI+KFxuICBkdWU6IG51bWJlciB8IERhdGUsXG4gIHdpdGhPYnNlcnZhYmxlOiBPYnNlcnZhYmxlSW5wdXQ8Uj4sXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IFI+IHtcbiAgbGV0IGZpcnN0OiBudW1iZXIgfCBEYXRlIHwgdW5kZWZpbmVkO1xuICBsZXQgZWFjaDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBsZXQgX3dpdGg6ICgpID0+IE9ic2VydmFibGVJbnB1dDxSPjtcbiAgc2NoZWR1bGVyID0gc2NoZWR1bGVyID8/IGFzeW5jO1xuXG4gIGlmIChpc1ZhbGlkRGF0ZShkdWUpKSB7XG4gICAgZmlyc3QgPSBkdWU7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGR1ZSA9PT0gJ251bWJlcicpIHtcbiAgICBlYWNoID0gZHVlO1xuICB9XG5cbiAgaWYgKHdpdGhPYnNlcnZhYmxlKSB7XG4gICAgX3dpdGggPSAoKSA9PiB3aXRoT2JzZXJ2YWJsZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBvYnNlcnZhYmxlIHByb3ZpZGVkIHRvIHN3aXRjaCB0bycpO1xuICB9XG5cbiAgaWYgKGZpcnN0ID09IG51bGwgJiYgZWFjaCA9PSBudWxsKSB7XG4gICAgLy8gRW5zdXJlIHRpbWVvdXQgd2FzIHByb3ZpZGVkIGF0IHJ1bnRpbWUuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gdGltZW91dCBwcm92aWRlZC4nKTtcbiAgfVxuXG4gIHJldHVybiB0aW1lb3V0PFQsIE9ic2VydmFibGVJbnB1dDxSPj4oe1xuICAgIGZpcnN0LFxuICAgIGVhY2gsXG4gICAgc2NoZWR1bGVyLFxuICAgIHdpdGg6IF93aXRoLFxuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIFRpbWVzdGFtcFByb3ZpZGVyLCBUaW1lc3RhbXAgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcblxuLyoqXG4gKiBBdHRhY2hlcyBhIHRpbWVzdGFtcCB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSBhbiBvYnNlcnZhYmxlIGluZGljYXRpbmcgd2hlbiBpdCB3YXMgZW1pdHRlZFxuICpcbiAqIFRoZSBgdGltZXN0YW1wYCBvcGVyYXRvciBtYXBzIHRoZSAqc291cmNlKiBvYnNlcnZhYmxlIHN0cmVhbSB0byBhbiBvYmplY3Qgb2YgdHlwZVxuICogYHt2YWx1ZTogVCwgdGltZXN0YW1wOiBSfWAuIFRoZSBwcm9wZXJ0aWVzIGFyZSBnZW5lcmljYWxseSB0eXBlZC4gVGhlIGB2YWx1ZWAgcHJvcGVydHkgY29udGFpbnMgdGhlIHZhbHVlXG4gKiBhbmQgdHlwZSBvZiB0aGUgKnNvdXJjZSogb2JzZXJ2YWJsZS4gVGhlIGB0aW1lc3RhbXBgIGlzIGdlbmVyYXRlZCBieSB0aGUgc2NoZWR1bGVycyBgbm93YCBmdW5jdGlvbi4gQnlcbiAqIGRlZmF1bHQsIGl0IHVzZXMgdGhlIGBhc3luY1NjaGVkdWxlcmAgd2hpY2ggc2ltcGx5IHJldHVybnMgYERhdGUubm93KClgIChtaWxsaXNlY29uZHMgc2luY2UgMTk3MC8wMS8wMVxuICogMDA6MDA6MDA6MDAwKSBhbmQgdGhlcmVmb3JlIGlzIG9mIHR5cGUgYG51bWJlcmAuXG4gKlxuICogIVtdKHRpbWVzdGFtcC5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSB0aGVyZSBpcyBhIHRpbWVzdGFtcCBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQncyBjbGljayBldmVudHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB0aW1lc3RhbXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja1dpdGhUaW1lc3RhbXAgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpLnBpcGUoXG4gKiAgIHRpbWVzdGFtcCgpXG4gKiApO1xuICpcbiAqIC8vIEVtaXRzIGRhdGEgb2YgdHlwZSB7IHZhbHVlOiBQb2ludGVyRXZlbnQsIHRpbWVzdGFtcDogbnVtYmVyIH1cbiAqIGNsaWNrV2l0aFRpbWVzdGFtcC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgQW4gb2JqZWN0IHdpdGggYSBgbm93KClgIG1ldGhvZCB1c2VkIHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBhdHRhY2hlcyBhIHRpbWVzdGFtcCB0b1xuICogZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGluZGljYXRpbmcgd2hlbiBpdCB3YXMgZW1pdHRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVzdGFtcDxUPih0aW1lc3RhbXBQcm92aWRlcjogVGltZXN0YW1wUHJvdmlkZXIgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRpbWVzdGFtcDxUPj4ge1xuICByZXR1cm4gbWFwKCh2YWx1ZTogVCkgPT4gKHsgdmFsdWUsIHRpbWVzdGFtcDogdGltZXN0YW1wUHJvdmlkZXIubm93KCkgfSkpO1xufVxuIiwiaW1wb3J0IHsgcmVkdWNlIH0gZnJvbSAnLi9yZWR1Y2UnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG5jb25zdCBhcnJSZWR1Y2VyID0gKGFycjogYW55W10sIHZhbHVlOiBhbnkpID0+IChhcnIucHVzaCh2YWx1ZSksIGFycik7XG5cbi8qKlxuICogQ29sbGVjdHMgYWxsIHNvdXJjZSBlbWlzc2lvbnMgYW5kIGVtaXRzIHRoZW0gYXMgYW4gYXJyYXkgd2hlbiB0aGUgc291cmNlIGNvbXBsZXRlcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+R2V0IGFsbCB2YWx1ZXMgaW5zaWRlIGFuIGFycmF5IHdoZW4gdGhlIHNvdXJjZSBjb21wbGV0ZXM8L3NwYW4+XG4gKlxuICogIVtdKHRvQXJyYXkucG5nKVxuICpcbiAqIGB0b0FycmF5YCB3aWxsIHdhaXQgdW50aWwgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgZW1pdHRpbmdcbiAqIHRoZSBhcnJheSBjb250YWluaW5nIGFsbCBlbWlzc2lvbnMuIFdoZW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVycm9ycyBub1xuICogYXJyYXkgd2lsbCBiZSBlbWl0dGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIHRvQXJyYXkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IGV4YW1wbGUgPSBzb3VyY2UucGlwZShcbiAqICAgdGFrZSgxMCksXG4gKiAgIHRvQXJyYXkoKVxuICogKTtcbiAqXG4gKiBleGFtcGxlLnN1YnNjcmliZSh2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSkpO1xuICpcbiAqIC8vIG91dHB1dDogWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldXG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBhbiBhcnJheSBvZiBpdGVtc1xuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgd2hlbiBzb3VyY2UgY29tcGxldGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheTxUPigpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRbXT4ge1xuICAvLyBCZWNhdXNlIGFycmF5cyBhcmUgbXV0YWJsZSwgYW5kIHdlJ3JlIG11dGF0aW5nIHRoZSBhcnJheSBpbiB0aGlzXG4gIC8vIHJlZHVjZXIgcHJvY2Vzcywgd2UgaGF2ZSB0byBlbmNhcHN1bGF0ZSB0aGUgY3JlYXRpb24gb2YgdGhlIGluaXRpYWxcbiAgLy8gYXJyYXkgd2l0aGluIHRoaXMgYG9wZXJhdGVgIGZ1bmN0aW9uLlxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgcmVkdWNlKGFyclJlZHVjZXIsIFtdIGFzIFRbXSkoc291cmNlKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBCcmFuY2ggb3V0IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgYXMgYSBuZXN0ZWQgT2JzZXJ2YWJsZSB3aGVuZXZlclxuICogYHdpbmRvd0JvdW5kYXJpZXNgIGVtaXRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGJ1ZmZlcn0sIGJ1dCBlbWl0cyBhIG5lc3RlZCBPYnNlcnZhYmxlXG4gKiBpbnN0ZWFkIG9mIGFuIGFycmF5Ljwvc3Bhbj5cbiAqXG4gKiAhW10od2luZG93LnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB3aW5kb3dzIG9mIGl0ZW1zIGl0IGNvbGxlY3RzIGZyb20gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gVGhlIG91dHB1dCBPYnNlcnZhYmxlIGVtaXRzIGNvbm5lY3RlZCwgbm9uLW92ZXJsYXBwaW5nXG4gKiB3aW5kb3dzLiBJdCBlbWl0cyB0aGUgY3VycmVudCB3aW5kb3cgYW5kIG9wZW5zIGEgbmV3IG9uZSB3aGVuZXZlciB0aGVcbiAqIGB3aW5kb3dCb3VuZGFyaWVzYCBlbWl0cyBhbiBpdGVtLiBgd2luZG93Qm91bmRhcmllc2AgY2FuIGJlIGFueSB0eXBlIHRoYXRcbiAqIGBPYnNlcnZhYmxlSW5wdXRgIGFjY2VwdHMuIEl0IGludGVybmFsbHkgZ2V0cyBjb252ZXJ0ZWQgdG8gYW4gT2JzZXJ2YWJsZS5cbiAqIEJlY2F1c2UgZWFjaCB3aW5kb3cgaXMgYW4gT2JzZXJ2YWJsZSwgdGhlIG91dHB1dCBpcyBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBJbiBldmVyeSB3aW5kb3cgb2YgMSBzZWNvbmQgZWFjaCwgZW1pdCBhdCBtb3N0IDIgY2xpY2sgZXZlbnRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgaW50ZXJ2YWwsIHdpbmRvdywgbWFwLCB0YWtlLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBzZWMgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3coc2VjKSxcbiAqICAgbWFwKHdpbiA9PiB3aW4ucGlwZSh0YWtlKDIpKSksIC8vIHRha2UgYXQgbW9zdCAyIGVtaXNzaW9ucyBmcm9tIGVhY2ggd2luZG93XG4gKiAgIG1lcmdlQWxsKCkgICAgICAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHdpbmRvd0NvdW50fVxuICogQHNlZSB7QGxpbmsgd2luZG93VGltZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1RvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1doZW59XG4gKiBAc2VlIHtAbGluayBidWZmZXJ9XG4gKlxuICogQHBhcmFtIHdpbmRvd0JvdW5kYXJpZXMgQW4gYE9ic2VydmFibGVJbnB1dGAgdGhhdCBjb21wbGV0ZXMgdGhlXG4gKiBwcmV2aW91cyB3aW5kb3cgYW5kIHN0YXJ0cyBhIG5ldyB3aW5kb3cuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2Ygd2luZG93cywgd2hpY2ggYXJlXG4gKiBPYnNlcnZhYmxlcyBlbWl0dGluZyB2YWx1ZXMgb2YgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2luZG93PFQ+KHdpbmRvd0JvdW5kYXJpZXM6IE9ic2VydmFibGVJbnB1dDxhbnk+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgd2luZG93U3ViamVjdDogU3ViamVjdDxUPiA9IG5ldyBTdWJqZWN0PFQ+KCk7XG5cbiAgICBzdWJzY3JpYmVyLm5leHQod2luZG93U3ViamVjdC5hc09ic2VydmFibGUoKSk7XG5cbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyOiBhbnkpID0+IHtcbiAgICAgIHdpbmRvd1N1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICB9O1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIG91ciBzb3VyY2VcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHdpbmRvd1N1YmplY3Q/Lm5leHQodmFsdWUpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgd2luZG93U3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JIYW5kbGVyXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgd2luZG93IGJvdW5kYXJpZXMuXG4gICAgaW5uZXJGcm9tKHdpbmRvd0JvdW5kYXJpZXMpLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHdpbmRvd1N1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoKHdpbmRvd1N1YmplY3QgPSBuZXcgU3ViamVjdCgpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG5vb3AsXG4gICAgICAgIGVycm9ySGFuZGxlclxuICAgICAgKVxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gVW5zdWJzY3JpYmluZyB0aGUgc3ViamVjdCBlbnN1cmVzIHRoYXQgYW55b25lIHdobyBoYXMgY2FwdHVyZWRcbiAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHRoaXMgd2luZG93IHRoYXQgdHJpZXMgdG8gdXNlIGl0IGFmdGVyIGl0IGNhblxuICAgICAgLy8gbm8gbG9uZ2VyIGdldCB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIHdpbGwgZ2V0IGFuIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yLlxuICAgICAgd2luZG93U3ViamVjdD8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHdpbmRvd1N1YmplY3QgPSBudWxsITtcbiAgICB9O1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuLyoqXG4gKiBCcmFuY2ggb3V0IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgYXMgYSBuZXN0ZWQgT2JzZXJ2YWJsZSB3aXRoIGVhY2hcbiAqIG5lc3RlZCBPYnNlcnZhYmxlIGVtaXR0aW5nIGF0IG1vc3QgYHdpbmRvd1NpemVgIHZhbHVlcy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBidWZmZXJDb3VudH0sIGJ1dCBlbWl0cyBhIG5lc3RlZFxuICogT2JzZXJ2YWJsZSBpbnN0ZWFkIG9mIGFuIGFycmF5Ljwvc3Bhbj5cbiAqXG4gKiAhW10od2luZG93Q291bnQucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdpbmRvd3Mgb2YgaXRlbXMgaXQgY29sbGVjdHMgZnJvbSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLiBUaGUgb3V0cHV0IE9ic2VydmFibGUgZW1pdHMgd2luZG93cyBldmVyeSBgc3RhcnRXaW5kb3dFdmVyeWBcbiAqIGl0ZW1zLCBlYWNoIGNvbnRhaW5pbmcgbm8gbW9yZSB0aGFuIGB3aW5kb3dTaXplYCBpdGVtcy4gV2hlbiB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGNvbXBsZXRlcyBvciBlbmNvdW50ZXJzIGFuIGVycm9yLCB0aGUgb3V0cHV0IE9ic2VydmFibGUgZW1pdHNcbiAqIHRoZSBjdXJyZW50IHdpbmRvdyBhbmQgcHJvcGFnYXRlcyB0aGUgbm90aWZpY2F0aW9uIGZyb20gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gSWYgYHN0YXJ0V2luZG93RXZlcnlgIGlzIG5vdCBwcm92aWRlZCwgdGhlbiBuZXcgd2luZG93cyBhcmVcbiAqIHN0YXJ0ZWQgaW1tZWRpYXRlbHkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzb3VyY2UgYW5kIHdoZW4gZWFjaCB3aW5kb3cgY29tcGxldGVzXG4gKiB3aXRoIHNpemUgYHdpbmRvd1NpemVgLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogSWdub3JlIGV2ZXJ5IDNyZCBjbGljayBldmVudCwgc3RhcnRpbmcgZnJvbSB0aGUgZmlyc3Qgb25lXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgd2luZG93Q291bnQsIG1hcCwgc2tpcCwgbWVyZ2VBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIHdpbmRvd0NvdW50KDMpLFxuICogICBtYXAod2luID0+IHdpbi5waXBlKHNraXAoMSkpKSwgLy8gc2tpcCBmaXJzdCBvZiBldmVyeSAzIGNsaWNrc1xuICogICBtZXJnZUFsbCgpICAgICAgICAgICAgICAgICAgICAgLy8gZmxhdHRlbiB0aGUgT2JzZXJ2YWJsZS1vZi1PYnNlcnZhYmxlc1xuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBJZ25vcmUgZXZlcnkgM3JkIGNsaWNrIGV2ZW50LCBzdGFydGluZyBmcm9tIHRoZSB0aGlyZCBvbmVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB3aW5kb3dDb3VudCwgbWVyZ2VBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgcmVzdWx0ID0gY2xpY2tzLnBpcGUoXG4gKiAgIHdpbmRvd0NvdW50KDIsIDMpLFxuICogICBtZXJnZUFsbCgpIC8vIGZsYXR0ZW4gdGhlIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXNcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgd2luZG93fVxuICogQHNlZSB7QGxpbmsgd2luZG93VGltZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1RvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1doZW59XG4gKiBAc2VlIHtAbGluayBidWZmZXJDb3VudH1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2luZG93U2l6ZSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmFsdWVzIGVtaXR0ZWQgYnkgZWFjaFxuICogd2luZG93LlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFdpbmRvd0V2ZXJ5XSBJbnRlcnZhbCBhdCB3aGljaCB0byBzdGFydCBhIG5ldyB3aW5kb3cuXG4gKiBGb3IgZXhhbXBsZSBpZiBgc3RhcnRXaW5kb3dFdmVyeWAgaXMgYDJgLCB0aGVuIGEgbmV3IHdpbmRvdyB3aWxsIGJlIHN0YXJ0ZWRcbiAqIG9uIGV2ZXJ5IG90aGVyIHZhbHVlIGZyb20gdGhlIHNvdXJjZS4gQSBuZXcgd2luZG93IGlzIHN0YXJ0ZWQgYXQgdGhlXG4gKiBiZWdpbm5pbmcgb2YgdGhlIHNvdXJjZSBieSBkZWZhdWx0LlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHdpbmRvd3MsIHdoaWNoIGluIHR1cm4gYXJlXG4gKiBPYnNlcnZhYmxlIG9mIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd0NvdW50PFQ+KHdpbmRvd1NpemU6IG51bWJlciwgc3RhcnRXaW5kb3dFdmVyeTogbnVtYmVyID0gMCk6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2YWJsZTxUPj4ge1xuICBjb25zdCBzdGFydEV2ZXJ5ID0gc3RhcnRXaW5kb3dFdmVyeSA+IDAgPyBzdGFydFdpbmRvd0V2ZXJ5IDogd2luZG93U2l6ZTtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IHdpbmRvd3MgPSBbbmV3IFN1YmplY3Q8VD4oKV07XG4gICAgbGV0IHN0YXJ0czogbnVtYmVyW10gPSBbXTtcbiAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgLy8gT3BlbiB0aGUgZmlyc3Qgd2luZG93LlxuICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3dzWzBdLmFzT2JzZXJ2YWJsZSgpKTtcblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAgIC8vIEVtaXQgdGhlIHZhbHVlIHRocm91Z2ggYWxsIGN1cnJlbnQgd2luZG93cy5cbiAgICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGNyZWF0ZSBhIG5ldyB3aW5kb3cgeWV0LCB3ZVxuICAgICAgICAgIC8vIGRvIHRoYXQgYXMgc29vbiBhcyB3ZSBjbG9zZSBvbmUuXG4gICAgICAgICAgZm9yIChjb25zdCB3aW5kb3cgb2Ygd2luZG93cykge1xuICAgICAgICAgICAgd2luZG93Lm5leHQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBIZXJlIHdlJ3JlIHVzaW5nIHRoZSBzaXplIG9mIHRoZSB3aW5kb3cgYXJyYXkgdG8gZmlndXJlXG4gICAgICAgICAgLy8gb3V0IGlmIHRoZSBvbGRlc3Qgd2luZG93IGhhcyBlbWl0dGVkIGVub3VnaCB2YWx1ZXMuIFdlIGNhbiBkbyB0aGlzXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGUgc2l6ZSBvZiB0aGUgd2luZG93IGFycmF5IGlzIGEgZnVuY3Rpb24gb2YgdGhlIHZhbHVlc1xuICAgICAgICAgIC8vIHNlZW4gYnkgdGhlIHN1YnNjcmlwdGlvbi4gSWYgaXQncyB0aW1lIHRvIGNsb3NlIGl0LCB3ZSBjb21wbGV0ZVxuICAgICAgICAgIC8vIGl0IGFuZCByZW1vdmUgaXQuXG4gICAgICAgICAgY29uc3QgYyA9IGNvdW50IC0gd2luZG93U2l6ZSArIDE7XG4gICAgICAgICAgaWYgKGMgPj0gMCAmJiBjICUgc3RhcnRFdmVyeSA9PT0gMCkge1xuICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpIS5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIExvb2sgdG8gc2VlIGlmIHRoZSBuZXh0IGNvdW50IHRlbGxzIHVzIGl0J3MgdGltZSB0byBvcGVuIGEgbmV3IHdpbmRvdy5cbiAgICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIGZpZ3VyZSBvdXQgaWYgdGhpcyByZWFsbHkgbWFrZXMgc2Vuc2UuIFdlJ3JlIHRlY2huaWNhbGx5XG4gICAgICAgICAgLy8gZW1pdHRpbmcgd2luZG93cyAqYmVmb3JlKiB3ZSBoYXZlIGEgdmFsdWUgdG8gZW1pdCB0aGVtIGZvci4gSXQncyBwcm9iYWJseVxuICAgICAgICAgIC8vIG1vcmUgZXhwZWN0ZWQgdGhhdCB3ZSBzaG91bGQgYmUgZW1pdHRpbmcgdGhlIHdpbmRvdyB3aGVuIHRoZSBzdGFydFxuICAgICAgICAgIC8vIGNvdW50IGlzIHJlYWNoZWQgLS0gbm90IGJlZm9yZS5cbiAgICAgICAgICBpZiAoKytjb3VudCAlIHN0YXJ0RXZlcnkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHdpbmRvdyA9IG5ldyBTdWJqZWN0PFQ+KCk7XG4gICAgICAgICAgICB3aW5kb3dzLnB1c2god2luZG93KTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3cuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHdoaWxlICh3aW5kb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKSEuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgd2hpbGUgKHdpbmRvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2luZG93cy5zaGlmdCgpIS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzdGFydHMgPSBudWxsITtcbiAgICAgICAgICB3aW5kb3dzID0gbnVsbCE7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlciwgT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xuaW1wb3J0IHsgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd1RpbWU8VD4od2luZG93VGltZVNwYW46IG51bWJlciwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2YWJsZTxUPj47XG5leHBvcnQgZnVuY3Rpb24gd2luZG93VGltZTxUPihcbiAgd2luZG93VGltZVNwYW46IG51bWJlcixcbiAgd2luZG93Q3JlYXRpb25JbnRlcnZhbDogbnVtYmVyLFxuICBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmFibGU8VD4+O1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd1RpbWU8VD4oXG4gIHdpbmRvd1RpbWVTcGFuOiBudW1iZXIsXG4gIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWw6IG51bWJlciB8IG51bGwgfCB2b2lkLFxuICBtYXhXaW5kb3dTaXplOiBudW1iZXIsXG4gIHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2Vcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2YWJsZTxUPj47XG5cbi8qKlxuICogQnJhbmNoIG91dCB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIGFzIGEgbmVzdGVkIE9ic2VydmFibGUgcGVyaW9kaWNhbGx5XG4gKiBpbiB0aW1lLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGJ1ZmZlclRpbWV9LCBidXQgZW1pdHMgYSBuZXN0ZWRcbiAqIE9ic2VydmFibGUgaW5zdGVhZCBvZiBhbiBhcnJheS48L3NwYW4+XG4gKlxuICogIVtdKHdpbmRvd1RpbWUucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdpbmRvd3Mgb2YgaXRlbXMgaXQgY29sbGVjdHMgZnJvbSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLiBUaGUgb3V0cHV0IE9ic2VydmFibGUgc3RhcnRzIGEgbmV3IHdpbmRvdyBwZXJpb2RpY2FsbHksIGFzXG4gKiBkZXRlcm1pbmVkIGJ5IHRoZSBgd2luZG93Q3JlYXRpb25JbnRlcnZhbGAgYXJndW1lbnQuIEl0IGVtaXRzIGVhY2ggd2luZG93XG4gKiBhZnRlciBhIGZpeGVkIHRpbWVzcGFuLCBzcGVjaWZpZWQgYnkgdGhlIGB3aW5kb3dUaW1lU3BhbmAgYXJndW1lbnQuIFdoZW4gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgb3IgZW5jb3VudGVycyBhbiBlcnJvciwgdGhlIG91dHB1dCBPYnNlcnZhYmxlXG4gKiBlbWl0cyB0aGUgY3VycmVudCB3aW5kb3cgYW5kIHByb3BhZ2F0ZXMgdGhlIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIElmIGB3aW5kb3dDcmVhdGlvbkludGVydmFsYCBpcyBub3QgcHJvdmlkZWQsIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUgc3RhcnRzIGEgbmV3IHdpbmRvdyB3aGVuIHRoZSBwcmV2aW91cyB3aW5kb3cgb2YgZHVyYXRpb25cbiAqIGB3aW5kb3dUaW1lU3BhbmAgY29tcGxldGVzLiBJZiBgbWF4V2luZG93Q291bnRgIGlzIHByb3ZpZGVkLCBlYWNoIHdpbmRvd1xuICogd2lsbCBlbWl0IGF0IG1vc3QgZml4ZWQgbnVtYmVyIG9mIHZhbHVlcy4gV2luZG93IHdpbGwgY29tcGxldGUgaW1tZWRpYXRlbHlcbiAqIGFmdGVyIGVtaXR0aW5nIGxhc3QgdmFsdWUgYW5kIG5leHQgb25lIHN0aWxsIHdpbGwgb3BlbiBhcyBzcGVjaWZpZWQgYnlcbiAqIGB3aW5kb3dUaW1lU3BhbmAgYW5kIGB3aW5kb3dDcmVhdGlvbkludGVydmFsYCBhcmd1bWVudHMuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBJbiBldmVyeSB3aW5kb3cgb2YgMSBzZWNvbmQgZWFjaCwgZW1pdCBhdCBtb3N0IDIgY2xpY2sgZXZlbnRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgd2luZG93VGltZSwgbWFwLCB0YWtlLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgd2luZG93VGltZSgxMDAwKSxcbiAqICAgbWFwKHdpbiA9PiB3aW4ucGlwZSh0YWtlKDIpKSksIC8vIHRha2UgYXQgbW9zdCAyIGVtaXNzaW9ucyBmcm9tIGVhY2ggd2luZG93XG4gKiAgIG1lcmdlQWxsKCkgICAgICAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEV2ZXJ5IDUgc2Vjb25kcyBzdGFydCBhIHdpbmRvdyAxIHNlY29uZCBsb25nLCBhbmQgZW1pdCBhdCBtb3N0IDIgY2xpY2sgZXZlbnRzIHBlciB3aW5kb3dcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB3aW5kb3dUaW1lLCBtYXAsIHRha2UsIG1lcmdlQWxsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3dUaW1lKDEwMDAsIDUwMDApLFxuICogICBtYXAod2luID0+IHdpbi5waXBlKHRha2UoMikpKSwgLy8gdGFrZSBhdCBtb3N0IDIgZW1pc3Npb25zIGZyb20gZWFjaCB3aW5kb3dcbiAqICAgbWVyZ2VBbGwoKSAgICAgICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gdGhlIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXNcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogU2FtZSBhcyBleGFtcGxlIGFib3ZlIGJ1dCB3aXRoIGBtYXhXaW5kb3dDb3VudGAgaW5zdGVhZCBvZiBgdGFrZWBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB3aW5kb3dUaW1lLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgd2luZG93VGltZSgxMDAwLCA1MDAwLCAyKSwgLy8gdGFrZSBhdCBtb3N0IDIgZW1pc3Npb25zIGZyb20gZWFjaCB3aW5kb3dcbiAqICAgbWVyZ2VBbGwoKSAgICAgICAgICAgICAgICAgLy8gZmxhdHRlbiB0aGUgT2JzZXJ2YWJsZS1vZi1PYnNlcnZhYmxlc1xuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayB3aW5kb3d9XG4gKiBAc2VlIHtAbGluayB3aW5kb3dDb3VudH1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1RvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1doZW59XG4gKiBAc2VlIHtAbGluayBidWZmZXJUaW1lfVxuICpcbiAqIEBwYXJhbSB3aW5kb3dUaW1lU3BhbiBUaGUgYW1vdW50IG9mIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdG8gZmlsbCBlYWNoIHdpbmRvdy5cbiAqIEBwYXJhbSB3aW5kb3dDcmVhdGlvbkludGVydmFsIFRoZSBpbnRlcnZhbCBhdCB3aGljaCB0byBzdGFydCBuZXdcbiAqIHdpbmRvd3MuXG4gKiBAcGFyYW0gbWF4V2luZG93U2l6ZSBNYXggbnVtYmVyIG9mXG4gKiB2YWx1ZXMgZWFjaCB3aW5kb3cgY2FuIGVtaXQgYmVmb3JlIGNvbXBsZXRpb24uXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgb24gd2hpY2ggdG8gc2NoZWR1bGUgdGhlXG4gKiBpbnRlcnZhbHMgdGhhdCBkZXRlcm1pbmUgd2luZG93IGJvdW5kYXJpZXMuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2Ygd2luZG93cywgd2hpY2ggaW4gdHVybiBhcmVcbiAqIE9ic2VydmFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2luZG93VGltZTxUPih3aW5kb3dUaW1lU3BhbjogbnVtYmVyLCAuLi5vdGhlckFyZ3M6IGFueVtdKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PiB7XG4gIGNvbnN0IHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihvdGhlckFyZ3MpID8/IGFzeW5jU2NoZWR1bGVyO1xuICBjb25zdCB3aW5kb3dDcmVhdGlvbkludGVydmFsID0gKG90aGVyQXJnc1swXSBhcyBudW1iZXIpID8/IG51bGw7XG4gIGNvbnN0IG1heFdpbmRvd1NpemUgPSAob3RoZXJBcmdzWzFdIGFzIG51bWJlcikgfHwgSW5maW5pdHk7XG5cbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBhY3RpdmUgd2luZG93cywgdGhlaXIgcmVsYXRlZCBzdWJzY3JpcHRpb25zLCBhbmQgcmVtb3ZhbCBmdW5jdGlvbnMuXG4gICAgbGV0IHdpbmRvd1JlY29yZHM6IFdpbmRvd1JlY29yZDxUPltdIHwgbnVsbCA9IFtdO1xuICAgIC8vIElmIHRydWUsIGl0IG1lYW5zIHRoYXQgZXZlcnkgdGltZSB3ZSBjbG9zZSBhIHdpbmRvdywgd2Ugd2FudCB0byBzdGFydCBhIG5ldyB3aW5kb3cuXG4gICAgLy8gVGhpcyBpcyBvbmx5IHJlYWxseSB1c2VkIGZvciB3aGVuICpqdXN0KiB0aGUgdGltZSBzcGFuIGlzIHBhc3NlZC5cbiAgICBsZXQgcmVzdGFydE9uQ2xvc2UgPSBmYWxzZTtcblxuICAgIGNvbnN0IGNsb3NlV2luZG93ID0gKHJlY29yZDogeyB3aW5kb3c6IFN1YmplY3Q8VD47IHN1YnM6IFN1YnNjcmlwdGlvbiB9KSA9PiB7XG4gICAgICBjb25zdCB7IHdpbmRvdywgc3VicyB9ID0gcmVjb3JkO1xuICAgICAgd2luZG93LmNvbXBsZXRlKCk7XG4gICAgICBzdWJzLnVuc3Vic2NyaWJlKCk7XG4gICAgICBhcnJSZW1vdmUod2luZG93UmVjb3JkcywgcmVjb3JkKTtcbiAgICAgIHJlc3RhcnRPbkNsb3NlICYmIHN0YXJ0V2luZG93KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBldmVyeSB0aW1lIHdlIHN0YXJ0IGEgbmV3IHdpbmRvdy4gVGhpcyBhbHNvIGRvZXNcbiAgICAgKiB0aGUgd29yayBvZiBzY2hlZHVsaW5nIHRoZSBqb2IgdG8gY2xvc2UgdGhlIHdpbmRvdy5cbiAgICAgKi9cbiAgICBjb25zdCBzdGFydFdpbmRvdyA9ICgpID0+IHtcbiAgICAgIGlmICh3aW5kb3dSZWNvcmRzKSB7XG4gICAgICAgIGNvbnN0IHN1YnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnMpO1xuICAgICAgICBjb25zdCB3aW5kb3cgPSBuZXcgU3ViamVjdDxUPigpO1xuICAgICAgICBjb25zdCByZWNvcmQgPSB7XG4gICAgICAgICAgd2luZG93LFxuICAgICAgICAgIHN1YnMsXG4gICAgICAgICAgc2VlbjogMCxcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93UmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh3aW5kb3cuYXNPYnNlcnZhYmxlKCkpO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vicywgc2NoZWR1bGVyLCAoKSA9PiBjbG9zZVdpbmRvdyhyZWNvcmQpLCB3aW5kb3dUaW1lU3Bhbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh3aW5kb3dDcmVhdGlvbkludGVydmFsICE9PSBudWxsICYmIHdpbmRvd0NyZWF0aW9uSW50ZXJ2YWwgPj0gMCkge1xuICAgICAgLy8gVGhlIHVzZXIgcGFzc2VkIGJvdGggYSB3aW5kb3dUaW1lU3BhbiAocmVxdWlyZWQpLCBhbmQgYSBjcmVhdGlvbiBpbnRlcnZhbFxuICAgICAgLy8gVGhhdCBtZWFucyB3ZSBuZWVkIHRvIHN0YXJ0IG5ldyB3aW5kb3cgb24gdGhlIGludGVydmFsLCBhbmQgdGhvc2Ugd2luZG93cyBuZWVkXG4gICAgICAvLyB0byB3YWl0IHRoZSByZXF1aXJlZCB0aW1lIHNwYW4gYmVmb3JlIGNvbXBsZXRpbmcuXG4gICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBzdGFydFdpbmRvdywgd2luZG93Q3JlYXRpb25JbnRlcnZhbCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RhcnRPbkNsb3NlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzdGFydFdpbmRvdygpO1xuXG4gICAgLyoqXG4gICAgICogV2UgbmVlZCB0byBsb29wIG92ZXIgYSBjb3B5IG9mIHRoZSB3aW5kb3cgcmVjb3JkcyBzZXZlcmFsIHRpbWVzIGluIHRoaXMgb3BlcmF0b3IuXG4gICAgICogVGhpcyBpcyB0byBzYXZlIGJ5dGVzIG92ZXIgdGhlIHdpcmUgbW9yZSB0aGFuIGFueXRoaW5nLlxuICAgICAqIFRoZSByZWFzb24gd2UgY29weSB0aGUgYXJyYXkgaXMgdGhhdCByZWVudHJhbnQgY29kZSBjb3VsZCBtdXRhdGUgdGhlIGFycmF5IHdoaWxlXG4gICAgICogd2UgYXJlIGl0ZXJhdGluZyBvdmVyIGl0LlxuICAgICAqL1xuICAgIGNvbnN0IGxvb3AgPSAoY2I6IChyZWNvcmQ6IFdpbmRvd1JlY29yZDxUPikgPT4gdm9pZCkgPT4gd2luZG93UmVjb3JkcyEuc2xpY2UoKS5mb3JFYWNoKGNiKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gbm90aWZ5IGFsbCBvZiB0aGUgd2luZG93cyBhbmQgdGhlIHN1YnNjcmliZXIgaW4gdGhlIHNhbWUgd2F5XG4gICAgICogaW4gdGhlIGVycm9yIGFuZCBjb21wbGV0ZSBoYW5kbGVycy5cbiAgICAgKi9cbiAgICBjb25zdCB0ZXJtaW5hdGUgPSAoY2I6IChjb25zdW1lcjogT2JzZXJ2ZXI8YW55PikgPT4gdm9pZCkgPT4ge1xuICAgICAgbG9vcCgoeyB3aW5kb3cgfSkgPT4gY2Iod2luZG93KSk7XG4gICAgICBjYihzdWJzY3JpYmVyKTtcbiAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgICAgLy8gTm90aWZ5IGFsbCB3aW5kb3dzIG9mIHRoZSB2YWx1ZS5cbiAgICAgICAgICBsb29wKChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgIHJlY29yZC53aW5kb3cubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgd2luZG93IGlzIG92ZXIgdGhlIG1heCBzaXplLCB3ZSBuZWVkIHRvIGNsb3NlIGl0LlxuICAgICAgICAgICAgbWF4V2luZG93U2l6ZSA8PSArK3JlY29yZC5zZWVuICYmIGNsb3NlV2luZG93KHJlY29yZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIENvbXBsZXRlIHRoZSB3aW5kb3dzIGFuZCB0aGUgZG93bnN0cmVhbSBzdWJzY3JpYmVyIGFuZCBjbGVhbiB1cC5cbiAgICAgICAgKCkgPT4gdGVybWluYXRlKChjb25zdW1lcikgPT4gY29uc3VtZXIuY29tcGxldGUoKSksXG4gICAgICAgIC8vIE5vdGlmeSB0aGUgd2luZG93cyBhbmQgdGhlIGRvd25zdHJlYW0gc3Vic2NyaWJlciBvZiB0aGUgZXJyb3IgYW5kIGNsZWFuIHVwLlxuICAgICAgICAoZXJyKSA9PiB0ZXJtaW5hdGUoKGNvbnN1bWVyKSA9PiBjb25zdW1lci5lcnJvcihlcnIpKVxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBBZGRpdGlvbmFsIGZpbmFsaXphdGlvbi4gVGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZVxuICAgIC8vIGRlc3RpbmF0aW9uIHRlYXJzIGRvd24uIE90aGVyIGZpbmFsaXphdGlvbnMgYXJlIHJlZ2lzdGVyZWQgaW1wbGljaXRseVxuICAgIC8vIGFib3ZlIHZpYSBzdWJzY3JpcHRpb24uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBidWZmZXIgaXMgcmVsZWFzZWQuXG4gICAgICB3aW5kb3dSZWNvcmRzID0gbnVsbCE7XG4gICAgfTtcbiAgfSk7XG59XG5cbmludGVyZmFjZSBXaW5kb3dSZWNvcmQ8VD4ge1xuICBzZWVuOiBudW1iZXI7XG4gIHdpbmRvdzogU3ViamVjdDxUPjtcbiAgc3ViczogU3Vic2NyaXB0aW9uO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuLi91dGlsL2FyclJlbW92ZSc7XG5cbi8qKlxuICogQnJhbmNoIG91dCB0aGUgc291cmNlIE9ic2VydmFibGUgdmFsdWVzIGFzIGEgbmVzdGVkIE9ic2VydmFibGUgc3RhcnRpbmcgZnJvbVxuICogYW4gZW1pc3Npb24gZnJvbSBgb3BlbmluZ3NgIGFuZCBlbmRpbmcgd2hlbiB0aGUgb3V0cHV0IG9mIGBjbG9zaW5nU2VsZWN0b3JgXG4gKiBlbWl0cy5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBidWZmZXJUb2dnbGV9LCBidXQgZW1pdHMgYSBuZXN0ZWRcbiAqIE9ic2VydmFibGUgaW5zdGVhZCBvZiBhbiBhcnJheS48L3NwYW4+XG4gKlxuICogIVtdKHdpbmRvd1RvZ2dsZS5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2luZG93cyBvZiBpdGVtcyBpdCBjb2xsZWN0cyBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBlbWl0cyB3aW5kb3dzIHRoYXQgY29udGFpbiB0aG9zZSBpdGVtc1xuICogZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYmV0d2VlbiB0aGUgdGltZSB3aGVuIHRoZSBgb3BlbmluZ3NgXG4gKiBPYnNlcnZhYmxlIGVtaXRzIGFuIGl0ZW0gYW5kIHdoZW4gdGhlIE9ic2VydmFibGUgcmV0dXJuZWQgYnlcbiAqIGBjbG9zaW5nU2VsZWN0b3JgIGVtaXRzIGFuIGl0ZW0uXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEV2ZXJ5IG90aGVyIHNlY29uZCwgZW1pdCB0aGUgY2xpY2sgZXZlbnRzIGZyb20gdGhlIG5leHQgNTAwbXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBpbnRlcnZhbCwgd2luZG93VG9nZ2xlLCBFTVBUWSwgbWVyZ2VBbGwgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3Qgb3BlbmluZ3MgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3dUb2dnbGUob3BlbmluZ3MsIGkgPT4gaSAlIDIgPyBpbnRlcnZhbCg1MDApIDogRU1QVFkpLFxuICogICBtZXJnZUFsbCgpXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHdpbmRvd31cbiAqIEBzZWUge0BsaW5rIHdpbmRvd0NvdW50fVxuICogQHNlZSB7QGxpbmsgd2luZG93VGltZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1doZW59XG4gKiBAc2VlIHtAbGluayBidWZmZXJUb2dnbGV9XG4gKlxuICogQHBhcmFtIHtPYnNlcnZhYmxlPE8+fSBvcGVuaW5ncyBBbiBvYnNlcnZhYmxlIG9mIG5vdGlmaWNhdGlvbnMgdG8gc3RhcnQgbmV3XG4gKiB3aW5kb3dzLlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogTyk6IE9ic2VydmFibGV9IGNsb3NpbmdTZWxlY3RvciBBIGZ1bmN0aW9uIHRoYXQgdGFrZXNcbiAqIHRoZSB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBgb3BlbmluZ3NgIG9ic2VydmFibGUgYW5kIHJldHVybnMgYW4gT2JzZXJ2YWJsZSxcbiAqIHdoaWNoLCB3aGVuIGl0IGVtaXRzIGEgbmV4dCBub3RpZmljYXRpb24sIHNpZ25hbHMgdGhhdCB0aGVcbiAqIGFzc29jaWF0ZWQgd2luZG93IHNob3VsZCBjb21wbGV0ZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiB3aW5kb3dzLCB3aGljaCBpbiB0dXJuIGFyZVxuICogT2JzZXJ2YWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dUb2dnbGU8VCwgTz4oXG4gIG9wZW5pbmdzOiBPYnNlcnZhYmxlSW5wdXQ8Tz4sXG4gIGNsb3NpbmdTZWxlY3RvcjogKG9wZW5WYWx1ZTogTykgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT5cbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2YWJsZTxUPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3Qgd2luZG93czogU3ViamVjdDxUPltdID0gW107XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IChlcnI6IGFueSkgPT4ge1xuICAgICAgd2hpbGUgKDAgPCB3aW5kb3dzLmxlbmd0aCkge1xuICAgICAgICB3aW5kb3dzLnNoaWZ0KCkhLmVycm9yKGVycik7XG4gICAgICB9XG4gICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgfTtcblxuICAgIGlubmVyRnJvbShvcGVuaW5ncykuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAob3BlblZhbHVlKSA9PiB7XG4gICAgICAgICAgY29uc3Qgd2luZG93ID0gbmV3IFN1YmplY3Q8VD4oKTtcbiAgICAgICAgICB3aW5kb3dzLnB1c2god2luZG93KTtcbiAgICAgICAgICBjb25zdCBjbG9zaW5nU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgIGNvbnN0IGNsb3NlV2luZG93ID0gKCkgPT4ge1xuICAgICAgICAgICAgYXJyUmVtb3ZlKHdpbmRvd3MsIHdpbmRvdyk7XG4gICAgICAgICAgICB3aW5kb3cuY29tcGxldGUoKTtcbiAgICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgbGV0IGNsb3NpbmdOb3RpZmllcjogT2JzZXJ2YWJsZTxhbnk+O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjbG9zaW5nTm90aWZpZXIgPSBpbm5lckZyb20oY2xvc2luZ1NlbGVjdG9yKG9wZW5WYWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQod2luZG93LmFzT2JzZXJ2YWJsZSgpKTtcblxuICAgICAgICAgIGNsb3NpbmdTdWJzY3JpcHRpb24uYWRkKGNsb3NpbmdOb3RpZmllci5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNsb3NlV2luZG93LCBub29wLCBoYW5kbGVFcnJvcikpKTtcbiAgICAgICAgfSxcbiAgICAgICAgbm9vcFxuICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSB0byBnZXQgdGhpbmdzIHN0YXJ0ZWQuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlOiBUKSA9PiB7XG4gICAgICAgICAgLy8gQ29weSB0aGUgd2luZG93cyBhcnJheSBiZWZvcmUgd2UgZW1pdCB0b1xuICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIGlzc3VlcyB3aXRoIHJlZW50cmFudCBjb2RlLlxuICAgICAgICAgIGNvbnN0IHdpbmRvd3NDb3B5ID0gd2luZG93cy5zbGljZSgpO1xuICAgICAgICAgIGZvciAoY29uc3Qgd2luZG93IG9mIHdpbmRvd3NDb3B5KSB7XG4gICAgICAgICAgICB3aW5kb3cubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gQ29tcGxldGUgYWxsIG9mIG91ciB3aW5kb3dzIGJlZm9yZSB3ZSBjb21wbGV0ZS5cbiAgICAgICAgICB3aGlsZSAoMCA8IHdpbmRvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB3aW5kb3dzLnNoaWZ0KCkhLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlRXJyb3IsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBBZGQgdGhpcyBmaW5hbGl6YXRpb24gc28gdGhhdCBhbGwgd2luZG93IHN1YmplY3RzIGFyZVxuICAgICAgICAgIC8vIGRpc3Bvc2VkIG9mLiBUaGlzIHdheSwgaWYgYSB1c2VyIHRyaWVzIHRvIHN1YnNjcmliZVxuICAgICAgICAgIC8vIHRvIGEgd2luZG93ICphZnRlciogdGhlIG91dGVyIHN1YnNjcmlwdGlvbiBoYXMgYmVlbiB1bnN1YnNjcmliZWQsXG4gICAgICAgICAgLy8gdGhleSB3aWxsIGdldCBhbiBlcnJvciwgaW5zdGVhZCBvZiB3YWl0aW5nIGZvcmV2ZXIgdG9cbiAgICAgICAgICAvLyBzZWUgaWYgYSB2YWx1ZSBhcnJpdmVzLlxuICAgICAgICAgIHdoaWxlICgwIDwgd2luZG93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdpbmRvd3Muc2hpZnQoKSEudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT3BlcmF0b3JGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKipcbiAqIEJyYW5jaCBvdXQgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHZhbHVlcyBhcyBhIG5lc3RlZCBPYnNlcnZhYmxlIHVzaW5nIGFcbiAqIGZhY3RvcnkgZnVuY3Rpb24gb2YgY2xvc2luZyBPYnNlcnZhYmxlcyB0byBkZXRlcm1pbmUgd2hlbiB0byBzdGFydCBhIG5ld1xuICogd2luZG93LlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGJ1ZmZlcldoZW59LCBidXQgZW1pdHMgYSBuZXN0ZWRcbiAqIE9ic2VydmFibGUgaW5zdGVhZCBvZiBhbiBhcnJheS48L3NwYW4+XG4gKlxuICogIVtdKHdpbmRvd1doZW4ucG5nKVxuICpcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdpbmRvd3Mgb2YgaXRlbXMgaXQgY29sbGVjdHMgZnJvbSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLiBUaGUgb3V0cHV0IE9ic2VydmFibGUgZW1pdHMgY29ubmVjdGVkLCBub24tb3ZlcmxhcHBpbmcgd2luZG93cy5cbiAqIEl0IGVtaXRzIHRoZSBjdXJyZW50IHdpbmRvdyBhbmQgb3BlbnMgYSBuZXcgb25lIHdoZW5ldmVyIHRoZSBPYnNlcnZhYmxlXG4gKiBwcm9kdWNlZCBieSB0aGUgc3BlY2lmaWVkIGBjbG9zaW5nU2VsZWN0b3JgIGZ1bmN0aW9uIGVtaXRzIGFuIGl0ZW0uIFRoZSBmaXJzdFxuICogd2luZG93IGlzIG9wZW5lZCBpbW1lZGlhdGVseSB3aGVuIHN1YnNjcmliaW5nIHRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW1pdCBvbmx5IHRoZSBmaXJzdCB0d28gY2xpY2tzIGV2ZW50cyBpbiBldmVyeSB3aW5kb3cgb2YgWzEtNV0gcmFuZG9tIHNlY29uZHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCB3aW5kb3dXaGVuLCBpbnRlcnZhbCwgbWFwLCB0YWtlLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZShcbiAqICAgd2luZG93V2hlbigoKSA9PiBpbnRlcnZhbCgxMDAwICsgTWF0aC5yYW5kb20oKSAqIDQwMDApKSxcbiAqICAgbWFwKHdpbiA9PiB3aW4ucGlwZSh0YWtlKDIpKSksIC8vIHRha2UgYXQgbW9zdCAyIGVtaXNzaW9ucyBmcm9tIGVhY2ggd2luZG93XG4gKiAgIG1lcmdlQWxsKCkgICAgICAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHdpbmRvd31cbiAqIEBzZWUge0BsaW5rIHdpbmRvd0NvdW50fVxuICogQHNlZSB7QGxpbmsgd2luZG93VGltZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1RvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIGJ1ZmZlcldoZW59XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbigpOiBPYnNlcnZhYmxlfSBjbG9zaW5nU2VsZWN0b3IgQSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vXG4gKiBhcmd1bWVudHMgYW5kIHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHNpZ25hbHMgKG9uIGVpdGhlciBgbmV4dGAgb3JcbiAqIGBjb21wbGV0ZWApIHdoZW4gdG8gY2xvc2UgdGhlIHByZXZpb3VzIHdpbmRvdyBhbmQgc3RhcnQgYSBuZXcgb25lLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHdpbmRvd3MsIHdoaWNoIGluIHR1cm4gYXJlXG4gKiBPYnNlcnZhYmxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpbmRvd1doZW48VD4oY2xvc2luZ1NlbGVjdG9yOiAoKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik6IE9wZXJhdG9yRnVuY3Rpb248VCwgT2JzZXJ2YWJsZTxUPj4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IHdpbmRvdzogU3ViamVjdDxUPiB8IG51bGw7XG4gICAgbGV0IGNsb3NpbmdTdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4gfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHdlIGdldCBhbiBlcnJvciwgd2UgaGF2ZSB0byBub3RpZnkgYm90aCB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBzdWJzY3JpYmVyIGFuZCB0aGUgd2luZG93LlxuICAgICAqL1xuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycjogYW55KSA9PiB7XG4gICAgICB3aW5kb3chLmVycm9yKGVycik7XG4gICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBldmVyeSB0aW1lIHdlIG5lZWQgdG8gb3BlbiBhIHdpbmRvdy5cbiAgICAgKiBSZWN1cnNpdmUsIGFzIGl0IHdpbGwgc3RhcnQgdGhlIGNsb3Npbmcgbm90aWZpZXIsIHdoaWNoXG4gICAgICogaW5ldml0YWJseSAqc2hvdWxkKiBjYWxsIG9wZW5XaW5kb3cgLS0gYnV0IG1heSBub3QgaWZcbiAgICAgKiBpdCBpcyBhIFwibmV2ZXJcIiBvYnNlcnZhYmxlLlxuICAgICAqL1xuICAgIGNvbnN0IG9wZW5XaW5kb3cgPSAoKSA9PiB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGNsZWFuIHVwIG91ciBjbG9zaW5nIHN1YnNjcmlwdGlvbixcbiAgICAgIC8vIHdlIG9ubHkgY2FyZWQgYWJvdXQgdGhlIGZpcnN0IG5leHQgb3IgY29tcGxldGUgbm90aWZpY2F0aW9uLlxuICAgICAgY2xvc2luZ1N1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG5cbiAgICAgIC8vIENsb3NlIG91ciB3aW5kb3cgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3IG9uZS5cbiAgICAgIHdpbmRvdz8uY29tcGxldGUoKTtcblxuICAgICAgLy8gU3RhcnQgdGhlIG5ldyB3aW5kb3cuXG4gICAgICB3aW5kb3cgPSBuZXcgU3ViamVjdDxUPigpO1xuICAgICAgc3Vic2NyaWJlci5uZXh0KHdpbmRvdy5hc09ic2VydmFibGUoKSk7XG5cbiAgICAgIC8vIEdldCBvdXIgY2xvc2luZyBub3RpZmllci5cbiAgICAgIGxldCBjbG9zaW5nTm90aWZpZXI6IE9ic2VydmFibGU8YW55PjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNsb3NpbmdOb3RpZmllciA9IGlubmVyRnJvbShjbG9zaW5nU2VsZWN0b3IoKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIGNsb3Npbmcgbm90aWZpZXIsIGJlIHN1cmVcbiAgICAgIC8vIHRvIGNhcHR1cmUgdGhlIHN1YnNjcmliZXIgKGFrYSBTdWJzY3JpcHRpb24pXG4gICAgICAvLyBzbyB3ZSBjYW4gY2xlYW4gaXQgdXAgd2hlbiB3ZSBjbG9zZSB0aGUgd2luZG93XG4gICAgICAvLyBhbmQgb3BlbiBhIG5ldyBvbmUuXG4gICAgICBjbG9zaW5nTm90aWZpZXIuc3Vic2NyaWJlKChjbG9zaW5nU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvcGVuV2luZG93LCBvcGVuV2luZG93LCBoYW5kbGVFcnJvcikpKTtcbiAgICB9O1xuXG4gICAgLy8gU3RhcnQgdGhlIGZpcnN0IHdpbmRvdy5cbiAgICBvcGVuV2luZG93KCk7XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIHNvdXJjZVxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4gd2luZG93IS5uZXh0KHZhbHVlKSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIFRoZSBzb3VyY2UgY29tcGxldGVkLCBjbG9zZSB0aGUgd2luZG93IGFuZCBjb21wbGV0ZS5cbiAgICAgICAgICB3aW5kb3chLmNvbXBsZXRlKCk7XG4gICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVFcnJvcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIEJlIHN1cmUgdG8gY2xlYW4gdXAgb3VyIGNsb3Npbmcgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgLy8gd2hlbiB0aGlzIHRlYXJzIGRvd24uXG4gICAgICAgICAgY2xvc2luZ1N1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgd2luZG93ID0gbnVsbCE7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dFR1cGxlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBwb3BSZXN1bHRTZWxlY3RvciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoTGF0ZXN0RnJvbTxULCBPIGV4dGVuZHMgdW5rbm93bltdPiguLi5pbnB1dHM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxPPl0pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFtULCAuLi5PXT47XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoTGF0ZXN0RnJvbTxULCBPIGV4dGVuZHMgdW5rbm93bltdLCBSPihcbiAgLi4uaW5wdXRzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8Tz4sICguLi52YWx1ZTogW1QsIC4uLk9dKSA9PiBSXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcblxuLyoqXG4gKiBDb21iaW5lcyB0aGUgc291cmNlIE9ic2VydmFibGUgd2l0aCBvdGhlciBPYnNlcnZhYmxlcyB0byBjcmVhdGUgYW4gT2JzZXJ2YWJsZVxuICogd2hvc2UgdmFsdWVzIGFyZSBjYWxjdWxhdGVkIGZyb20gdGhlIGxhdGVzdCB2YWx1ZXMgb2YgZWFjaCwgb25seSB3aGVuIHRoZVxuICogc291cmNlIGVtaXRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5XaGVuZXZlciB0aGUgc291cmNlIE9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZSwgaXRcbiAqIGNvbXB1dGVzIGEgZm9ybXVsYSB1c2luZyB0aGF0IHZhbHVlIHBsdXMgdGhlIGxhdGVzdCB2YWx1ZXMgZnJvbSBvdGhlciBpbnB1dFxuICogT2JzZXJ2YWJsZXMsIHRoZW4gZW1pdHMgdGhlIG91dHB1dCBvZiB0aGF0IGZvcm11bGEuPC9zcGFuPlxuICpcbiAqICFbXSh3aXRoTGF0ZXN0RnJvbS5wbmcpXG4gKlxuICogYHdpdGhMYXRlc3RGcm9tYCBjb21iaW5lcyBlYWNoIHZhbHVlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlICh0aGVcbiAqIGluc3RhbmNlKSB3aXRoIHRoZSBsYXRlc3QgdmFsdWVzIGZyb20gdGhlIG90aGVyIGlucHV0IE9ic2VydmFibGVzIG9ubHkgd2hlblxuICogdGhlIHNvdXJjZSBlbWl0cyBhIHZhbHVlLCBvcHRpb25hbGx5IHVzaW5nIGEgYHByb2plY3RgIGZ1bmN0aW9uIHRvIGRldGVybWluZVxuICogdGhlIHZhbHVlIHRvIGJlIGVtaXR0ZWQgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBBbGwgaW5wdXQgT2JzZXJ2YWJsZXMgbXVzdFxuICogZW1pdCBhdCBsZWFzdCBvbmUgdmFsdWUgYmVmb3JlIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSB3aWxsIGVtaXQgYSB2YWx1ZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogT24gZXZlcnkgY2xpY2sgZXZlbnQsIGVtaXQgYW4gYXJyYXkgd2l0aCB0aGUgbGF0ZXN0IHRpbWVyIGV2ZW50IHBsdXMgdGhlIGNsaWNrIGV2ZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgaW50ZXJ2YWwsIHdpdGhMYXRlc3RGcm9tIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHRpbWVyID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCByZXN1bHQgPSBjbGlja3MucGlwZSh3aXRoTGF0ZXN0RnJvbSh0aW1lcikpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbWJpbmVMYXRlc3R9XG4gKlxuICogQHBhcmFtIHtPYnNlcnZhYmxlSW5wdXR9IG90aGVyIEFuIGlucHV0IE9ic2VydmFibGUgdG8gY29tYmluZSB3aXRoIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIE1vcmUgdGhhbiBvbmUgaW5wdXQgT2JzZXJ2YWJsZXMgbWF5IGJlIGdpdmVuIGFzIGFyZ3VtZW50LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb2plY3RdIFByb2plY3Rpb24gZnVuY3Rpb24gZm9yIGNvbWJpbmluZyB2YWx1ZXNcbiAqIHRvZ2V0aGVyLiBSZWNlaXZlcyBhbGwgdmFsdWVzIGluIG9yZGVyIG9mIHRoZSBPYnNlcnZhYmxlcyBwYXNzZWQsIHdoZXJlIHRoZVxuICogZmlyc3QgcGFyYW1ldGVyIGlzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuIChlLmcuXG4gKiBgYS5waXBlKHdpdGhMYXRlc3RGcm9tKGIsIGMpLCBtYXAoKFthMSwgYjEsIGMxXSkgPT4gYTEgKyBiMSArIGMxKSlgKS4gSWYgdGhpcyBpcyBub3RcbiAqIHBhc3NlZCwgYXJyYXlzIHdpbGwgYmUgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgcHJvamVjdGVkIHZhbHVlcyBmcm9tIHRoZVxuICogbW9zdCByZWNlbnQgdmFsdWVzIGZyb20gZWFjaCBpbnB1dCBPYnNlcnZhYmxlLCBvciBhbiBhcnJheSBvZiB0aGUgbW9zdFxuICogcmVjZW50IHZhbHVlcyBmcm9tIGVhY2ggaW5wdXQgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tPFQsIFI+KC4uLmlucHV0czogYW55W10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFIgfCBhbnlbXT4ge1xuICBjb25zdCBwcm9qZWN0ID0gcG9wUmVzdWx0U2VsZWN0b3IoaW5wdXRzKSBhcyAoKC4uLmFyZ3M6IGFueVtdKSA9PiBSKSB8IHVuZGVmaW5lZDtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3QgbGVuID0gaW5wdXRzLmxlbmd0aDtcbiAgICBjb25zdCBvdGhlclZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgIC8vIEFuIGFycmF5IG9mIHdoZXRoZXIgb3Igbm90IHRoZSBvdGhlciBzb3VyY2VzIGhhdmUgZW1pdHRlZC4gTWF0Y2hlZCB3aXRoIHRoZW0gYnkgaW5kZXguXG4gICAgLy8gVE9ETzogQXQgc29tZXBvaW50LCB3ZSBzaG91bGQgaW52ZXN0aWdhdGUgdGhlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucyBoZXJlLCBhbmQgbG9va1xuICAgIC8vIGludG8gdXNpbmcgYSBgU2V0KClgIGFuZCBjaGVja2luZyB0aGUgYHNpemVgIHRvIHNlZSBpZiB3ZSdyZSByZWFkeS5cbiAgICBsZXQgaGFzVmFsdWUgPSBpbnB1dHMubWFwKCgpID0+IGZhbHNlKTtcbiAgICAvLyBGbGlwcGVkIHRydWUgd2hlbiB3ZSBoYXZlIGF0IGxlYXN0IG9uZSB2YWx1ZSBmcm9tIGFsbCBvdGhlciBzb3VyY2VzIGFuZFxuICAgIC8vIHdlIGFyZSByZWFkeSB0byBzdGFydCBlbWl0dGluZyB2YWx1ZXMuXG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG5cbiAgICAvLyBPdGhlciBzb3VyY2VzLiBOb3RlIHRoYXQgaGVyZSB3ZSBhcmUgbm90IGNoZWNraW5nIGBzdWJzY3JpYmVyLmNsb3NlZGAsXG4gICAgLy8gdGhpcyBjYXVzZXMgYWxsIGlucHV0cyB0byBiZSBzdWJzY3JpYmVkIHRvLCBldmVuIGlmIG5vdGhpbmcgY2FuIGJlIGVtaXR0ZWRcbiAgICAvLyBmcm9tIHRoZW0uIFRoaXMgaXMgYW4gaW1wb3J0YW50IGRpc3RpbmN0aW9uIGJlY2F1c2Ugc3Vic2NyaXB0aW9uIGNvbnN0aXR1dGVzXG4gICAgLy8gYSBzaWRlLWVmZmVjdC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpbm5lckZyb20oaW5wdXRzW2ldKS5zdWJzY3JpYmUoXG4gICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgb3RoZXJWYWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghcmVhZHkgJiYgIWhhc1ZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCByZWFkeSB5ZXQsIGZsYWcgdG8gc2hvdyB0aGlzIG9ic2VydmFibGUgaGFzIGVtaXR0ZWQuXG4gICAgICAgICAgICAgIGhhc1ZhbHVlW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB0ZXJzZSBjb2RlLlxuICAgICAgICAgICAgICAvLyBJZiBhbGwgb2Ygb3VyIG90aGVyIG9ic2VydmFibGVzIGhhdmUgZW1pdHRlZCwgc2V0IGByZWFkeWAgdG8gYHRydWVgLFxuICAgICAgICAgICAgICAvLyBzbyB3ZSBrbm93IHdlIGNhbiBzdGFydCBlbWl0dGluZyB2YWx1ZXMsIHRoZW4gY2xlYW4gdXAgdGhlIGBoYXNWYWx1ZWAgYXJyYXksXG4gICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgbmVlZCBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICAocmVhZHkgPSBoYXNWYWx1ZS5ldmVyeShpZGVudGl0eSkpICYmIChoYXNWYWx1ZSA9IG51bGwhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENvbXBsZXRpbmcgb25lIG9mIHRoZSBvdGhlciBzb3VyY2VzIGhhc1xuICAgICAgICAgIC8vIG5vIGJlYXJpbmcgb24gdGhlIGNvbXBsZXRpb24gb2Ygb3VyIHJlc3VsdC5cbiAgICAgICAgICBub29wXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU291cmNlIHN1YnNjcmlwdGlvblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICAgIC8vIFdlIGhhdmUgYXQgbGVhc3Qgb25lIHZhbHVlIGZyb20gdGhlIG90aGVyIHNvdXJjZXMuIEdvIGFoZWFkIGFuZCBlbWl0LlxuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFt2YWx1ZSwgLi4ub3RoZXJWYWx1ZXNdO1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0ID8gcHJvamVjdCguLi52YWx1ZXMpIDogdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IHppcCBhcyB6aXBTdGF0aWMgfSBmcm9tICcuLi9vYnNlcnZhYmxlL3ppcCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmFibGVJbnB1dFR1cGxlLCBPcGVyYXRvckZ1bmN0aW9uLCBDb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5cbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayB6aXBXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihvdGhlcklucHV0czogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgQ29uczxULCBBPj47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgemlwV2l0aH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6aXA8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIG90aGVySW5wdXRzQW5kUHJvamVjdDogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSxcbiAgcHJvamVjdDogKC4uLnZhbHVlczogQ29uczxULCBBPikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcbi8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayB6aXBXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcDxULCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5vdGhlcklucHV0czogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgQ29uczxULCBBPj47XG4vKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgemlwV2l0aH0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6aXA8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXSwgUj4oXG4gIC4uLm90aGVySW5wdXRzQW5kUHJvamVjdDogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCAoLi4udmFsdWVzOiBDb25zPFQsIEE+KSA9PiBSXVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayB6aXBXaXRofS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgZnVuY3Rpb24gemlwPFQsIFI+KC4uLnNvdXJjZXM6IEFycmF5PE9ic2VydmFibGVJbnB1dDxhbnk+IHwgKCguLi52YWx1ZXM6IEFycmF5PGFueT4pID0+IFIpPik6IE9wZXJhdG9yRnVuY3Rpb248VCwgYW55PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICB6aXBTdGF0aWMoc291cmNlIGFzIE9ic2VydmFibGVJbnB1dDxhbnk+LCAuLi4oc291cmNlcyBhcyBBcnJheTxPYnNlcnZhYmxlSW5wdXQ8YW55Pj4pKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgemlwIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS96aXAnO1xuaW1wb3J0IHsgam9pbkFsbEludGVybmFscyB9IGZyb20gJy4vam9pbkFsbEludGVybmFscyc7XG5cbi8qKlxuICogQ29sbGVjdHMgYWxsIG9ic2VydmFibGUgaW5uZXIgc291cmNlcyBmcm9tIHRoZSBzb3VyY2UsIG9uY2UgdGhlIHNvdXJjZSBjb21wbGV0ZXMsXG4gKiBpdCB3aWxsIHN1YnNjcmliZSB0byBhbGwgaW5uZXIgc291cmNlcywgY29tYmluaW5nIHRoZWlyIHZhbHVlcyBieSBpbmRleCBhbmQgZW1pdHRpbmdcbiAqIHRoZW0uXG4gKlxuICogQHNlZSB7QGxpbmsgemlwV2l0aH1cbiAqIEBzZWUge0BsaW5rIHppcH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcEFsbDxUPigpOiBPcGVyYXRvckZ1bmN0aW9uPE9ic2VydmFibGVJbnB1dDxUPiwgVFtdPjtcbmV4cG9ydCBmdW5jdGlvbiB6aXBBbGw8VD4oKTogT3BlcmF0b3JGdW5jdGlvbjxhbnksIFRbXT47XG5leHBvcnQgZnVuY3Rpb24gemlwQWxsPFQsIFI+KHByb2plY3Q6ICguLi52YWx1ZXM6IFRbXSkgPT4gUik6IE9wZXJhdG9yRnVuY3Rpb248T2JzZXJ2YWJsZUlucHV0PFQ+LCBSPjtcbmV4cG9ydCBmdW5jdGlvbiB6aXBBbGw8Uj4ocHJvamVjdDogKC4uLnZhbHVlczogQXJyYXk8YW55PikgPT4gUik6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBSPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHppcEFsbDxULCBSPihwcm9qZWN0PzogKC4uLnZhbHVlczogVFtdKSA9PiBSKSB7XG4gIHJldHVybiBqb2luQWxsSW50ZXJuYWxzKHppcCwgcHJvamVjdCk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXRUdXBsZSwgT3BlcmF0b3JGdW5jdGlvbiwgQ29ucyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHppcCB9IGZyb20gJy4vemlwJztcblxuLyoqXG4gKiBTdWJzY3JpYmVzIHRvIHRoZSBzb3VyY2UsIGFuZCB0aGUgb2JzZXJ2YWJsZSBpbnB1dHMgcHJvdmlkZWQgYXMgYXJndW1lbnRzLCBhbmQgY29tYmluZXMgdGhlaXIgdmFsdWVzLCBieSBpbmRleCwgaW50byBhcnJheXMuXG4gKlxuICogV2hhdCBpcyBtZWFudCBieSBcImNvbWJpbmUgYnkgaW5kZXhcIjogVGhlIGZpcnN0IHZhbHVlIGZyb20gZWFjaCB3aWxsIGJlIG1hZGUgaW50byBhIHNpbmdsZSBhcnJheSwgdGhlbiBlbWl0dGVkLFxuICogdGhlbiB0aGUgc2Vjb25kIHZhbHVlIGZyb20gZWFjaCB3aWxsIGJlIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgYXJyYXkgYW5kIGVtaXR0ZWQsIHRoZW4gdGhlIHRoaXJkIHZhbHVlXG4gKiBmcm9tIGVhY2ggd2lsbCBiZSBjb21iaW5lZCBpbnRvIGEgc2luZ2xlIGFycmF5IGFuZCBlbWl0dGVkLCBhbmQgc28gb24uXG4gKlxuICogVGhpcyB3aWxsIGNvbnRpbnVlIHVudGlsIGl0IGlzIG5vIGxvbmdlciBhYmxlIHRvIGNvbWJpbmUgdmFsdWVzIG9mIHRoZSBzYW1lIGluZGV4IGludG8gYW4gYXJyYXkuXG4gKlxuICogQWZ0ZXIgdGhlIGxhc3QgdmFsdWUgZnJvbSBhbnkgb25lIGNvbXBsZXRlZCBzb3VyY2UgaXMgZW1pdHRlZCBpbiBhbiBhcnJheSwgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgY29tcGxldGUsXG4gKiBhcyB0aGVyZSBpcyBubyB3YXkgdG8gY29udGludWUgXCJ6aXBwaW5nXCIgdmFsdWVzIHRvZ2V0aGVyIGJ5IGluZGV4LlxuICpcbiAqIFVzZS1jYXNlcyBmb3IgdGhpcyBvcGVyYXRvciBhcmUgbGltaXRlZC4gVGhlcmUgYXJlIG1lbW9yeSBjb25jZXJucyBpZiBvbmUgb2YgdGhlIHN0cmVhbXMgaXMgZW1pdHRpbmdcbiAqIHZhbHVlcyBhdCBhIG11Y2ggZmFzdGVyIHJhdGUgdGhhbiB0aGUgb3RoZXJzLiBVc2FnZSBzaG91bGQgbGlrZWx5IGJlIGxpbWl0ZWQgdG8gc3RyZWFtcyB0aGF0IGVtaXRcbiAqIGF0IGEgc2ltaWxhciBwYWNlLCBvciBmaW5pdGUgc3RyZWFtcyBvZiBrbm93biBsZW5ndGguXG4gKlxuICogSW4gbWFueSBjYXNlcywgYXV0aG9ycyB3YW50IGBjb21iaW5lTGF0ZXN0V2l0aGAgYW5kIG5vdCBgemlwV2l0aGAuXG4gKlxuICogQHBhcmFtIG90aGVySW5wdXRzIG90aGVyIG9ic2VydmFibGUgaW5wdXRzIHRvIGNvbGxhdGUgdmFsdWVzIGZyb20uXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBieSBpbmRleFxuICogY29tYmluZWQgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIHByb3ZpZGVkIE9ic2VydmFibGVzLCBpbiBmb3JtIG9mIGFuXG4gKiBhcnJheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcFdpdGg8VCwgQSBleHRlbmRzIHJlYWRvbmx5IHVua25vd25bXT4oLi4ub3RoZXJJbnB1dHM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxBPl0pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIENvbnM8VCwgQT4+IHtcbiAgcmV0dXJuIHppcCguLi5vdGhlcklucHV0cyk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheTxUPihpbnB1dDogQXJyYXlMaWtlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGN1cnJlbnQgYXJyYXkgaW5kZXguXG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIFN0YXJ0IGl0ZXJhdGluZyBvdmVyIHRoZSBhcnJheSBsaWtlIG9uIGEgc2NoZWR1bGUuXG4gICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgaGl0IHRoZSBlbmQgb2YgdGhlIGFycmF5IGxpa2UgaW4gdGhlXG4gICAgICAgIC8vIHByZXZpb3VzIGpvYiwgd2UgY2FuIGNvbXBsZXRlLlxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgbGV0J3MgbmV4dCB0aGUgdmFsdWUgYXQgdGhlIGN1cnJlbnQgaW5kZXgsXG4gICAgICAgIC8vIHRoZW4gaW5jcmVtZW50IG91ciBpbmRleC5cbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAvLyBJZiB0aGUgbGFzdCBlbWlzc2lvbiBkaWRuJ3QgY2F1c2UgdXMgdG8gY2xvc2UgdGhlIHN1YnNjcmliZXJcbiAgICAgICAgLy8gKHZpYSB0YWtlIG9yIHNvbWUgc2lkZSBlZmZlY3QpLCByZXNjaGVkdWxlIHRoZSBqb2IgYW5kIHdlJ2xsXG4gICAgICAgIC8vIG1ha2UgYW5vdGhlciBwYXNzLlxuICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZTxUPihpbnB1dDogQXN5bmNJdGVyYWJsZTxUPiwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIGlmICghaW5wdXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgKCkgPT4ge1xuICAgICAgY29uc3QgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgIGV4ZWN1dGVTY2hlZHVsZShcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgc2NoZWR1bGVyLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaXRlcmF0b3IubmV4dCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCByZW1vdmUgdGhlIHN1YnNjcmlwdGlvbnMgZnJvbVxuICAgICAgICAgICAgICAvLyB0aGUgcGFyZW50IHN1YnNjcmlwdGlvbi5cbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIDAsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcblxuLyoqXG4gKiBVc2VkIGluIHtAbGluayBzY2hlZHVsZWR9IHRvIGNyZWF0ZSBhbiBvYnNlcnZhYmxlIGZyb20gYW4gSXRlcmFibGUuXG4gKiBAcGFyYW0gaW5wdXQgVGhlIGl0ZXJhYmxlIHRvIGNyZWF0ZSBhbiBvYnNlcnZhYmxlIGZyb21cbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHNjaGVkdWxlciB0byB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGU8VD4oaW5wdXQ6IEl0ZXJhYmxlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGl0ZXJhdG9yOiBJdGVyYXRvcjxULCBUPjtcblxuICAgIC8vIFNjaGVkdWxlIHRoZSBpbml0aWFsIGNyZWF0aW9uIG9mIHRoZSBpdGVyYXRvciBmcm9tXG4gICAgLy8gdGhlIGl0ZXJhYmxlLiBUaGlzIGlzIHNvIHRoZSBjb2RlIGluIHRoZSBpdGVyYWJsZSBpc1xuICAgIC8vIG5vdCBjYWxsZWQgdW50aWwgdGhlIHNjaGVkdWxlZCBqb2IgZmlyZXMuXG4gICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIHRoZSBpdGVyYXRvci5cbiAgICAgIGl0ZXJhdG9yID0gKGlucHV0IGFzIGFueSlbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuXG4gICAgICBleGVjdXRlU2NoZWR1bGUoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIHNjaGVkdWxlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGxldCB2YWx1ZTogVDtcbiAgICAgICAgICBsZXQgZG9uZTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUHVsbCB0aGUgdmFsdWUgb3V0IG9mIHRoZSBpdGVyYXRvclxuICAgICAgICAgICAgKHsgdmFsdWUsIGRvbmUgfSA9IGl0ZXJhdG9yLm5leHQoKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBXZSBnb3QgYW4gZXJyb3Igd2hpbGUgcHVsbGluZyBmcm9tIHRoZSBpdGVyYXRvclxuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAvLyBJZiBpdCBpcyBcImRvbmVcIiB3ZSBqdXN0IGNvbXBsZXRlLiBUaGlzIG1pbWljcyB0aGVcbiAgICAgICAgICAgIC8vIGJlaGF2aW9yIG9mIEphdmFTY3JpcHQncyBgZm9yLi5vZmAgY29uc3VtcHRpb24gb2ZcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlcywgd2hpY2ggd2lsbCBub3QgZW1pdCB0aGUgdmFsdWUgZnJvbSBhbiBpdGVyYXRvclxuICAgICAgICAgICAgLy8gcmVzdWx0IG9mIGB7IGRvbmU6IHRydWU6IHZhbHVlOiAnaGVyZScgfWAuXG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZSBpdGVyYWJsZSBpcyBub3QgZG9uZSwgZW1pdCB0aGUgdmFsdWUuXG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgMCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIER1cmluZyBmaW5hbGl6YXRpb24sIGlmIHdlIHNlZSB0aGlzIGl0ZXJhdG9yIGhhcyBhIGByZXR1cm5gIG1ldGhvZCxcbiAgICAvLyB0aGVuIHdlIGtub3cgaXQgaXMgYSBHZW5lcmF0b3IsIGFuZCBub3QganVzdCBhbiBJdGVyYXRvci4gU28gd2UgY2FsbFxuICAgIC8vIHRoZSBgcmV0dXJuKClgIGZ1bmN0aW9uLiBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYW55IGBmaW5hbGx5IHsgfWAgYmxvY2tzXG4gICAgLy8gaW5zaWRlIG9mIHRoZSBnZW5lcmF0b3Igd2UgY2FuIGhpdCB3aWxsIGJlIGhpdCBwcm9wZXJseS5cbiAgICByZXR1cm4gKCkgPT4gaXNGdW5jdGlvbihpdGVyYXRvcj8ucmV0dXJuKSAmJiBpdGVyYXRvci5yZXR1cm4oKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmltcG9ydCB7IEludGVyb3BPYnNlcnZhYmxlLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlPFQ+KGlucHV0OiBJbnRlcm9wT2JzZXJ2YWJsZTxUPiwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb2JzZXJ2ZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL29ic2VydmVPbic7XG5pbXBvcnQgeyBzdWJzY3JpYmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9zdWJzY3JpYmVPbic7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVQcm9taXNlPFQ+KGlucHV0OiBQcm9taXNlTGlrZTxUPiwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuIiwiaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSwgUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUFzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2U8VD4oaW5wdXQ6IFJlYWRhYmxlU3RyZWFtTGlrZTxUPiwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxUPiB7XG4gIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUocmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihpbnB1dCksIHNjaGVkdWxlcik7XG59XG4iLCJpbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUFzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlJztcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgY29tbW9uIHtAbGluayBPYnNlcnZhYmxlSW5wdXR9IHR5cGUgdG8gYW4gb2JzZXJ2YWJsZSB3aGVyZSBzdWJzY3JpcHRpb24gYW5kIGVtaXNzaW9uc1xuICogYXJlIHNjaGVkdWxlZCBvbiB0aGUgcHJvdmlkZWQgc2NoZWR1bGVyLlxuICpcbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKiBAc2VlIHtAbGluayBvZn1cbiAqXG4gKiBAcGFyYW0gaW5wdXQgVGhlIG9ic2VydmFibGUsIGFycmF5LCBwcm9taXNlLCBpdGVyYWJsZSwgZXRjIHlvdSB3b3VsZCBsaWtlIHRvIHNjaGVkdWxlXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlIHRvIHNjaGVkdWxlIHRoZSBzdWJzY3JpcHRpb24gYW5kIGVtaXNzaW9ucyBmcm9tXG4gKiB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlZDxUPihpbnB1dDogT2JzZXJ2YWJsZUlucHV0PFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gIH1cbiAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuIiwiaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi4vU2NoZWR1bGVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQSB1bml0IG9mIHdvcmsgdG8gYmUgZXhlY3V0ZWQgaW4gYSBgc2NoZWR1bGVyYC4gQW4gYWN0aW9uIGlzIHR5cGljYWxseVxuICogY3JlYXRlZCBmcm9tIHdpdGhpbiBhIHtAbGluayBTY2hlZHVsZXJMaWtlfSBhbmQgYW4gUnhKUyB1c2VyIGRvZXMgbm90IG5lZWQgdG8gY29uY2VyblxuICogdGhlbXNlbHZlcyBhYm91dCBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGFuIEFjdGlvbi5cbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgQWN0aW9uPFQ+IGV4dGVuZHMgU3Vic2NyaXB0aW9uIHtcbiAqICAgbmV3IChzY2hlZHVsZXI6IFNjaGVkdWxlciwgd29yazogKHN0YXRlPzogVCkgPT4gdm9pZCk7XG4gKiAgIHNjaGVkdWxlKHN0YXRlPzogVCwgZGVsYXk6IG51bWJlciA9IDApOiBTdWJzY3JpcHRpb247XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3MgQWN0aW9uPFQ+XG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpb248VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24ge1xuICBjb25zdHJ1Y3RvcihzY2hlZHVsZXI6IFNjaGVkdWxlciwgd29yazogKHRoaXM6IFNjaGVkdWxlckFjdGlvbjxUPiwgc3RhdGU/OiBUKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGVzIHRoaXMgYWN0aW9uIG9uIGl0cyBwYXJlbnQge0BsaW5rIFNjaGVkdWxlckxpa2V9IGZvciBleGVjdXRpb24uIE1heSBiZSBwYXNzZWRcbiAgICogc29tZSBjb250ZXh0IG9iamVjdCwgYHN0YXRlYC4gTWF5IGhhcHBlbiBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUsXG4gICAqIGFjY29yZGluZyB0byB0aGUgYGRlbGF5YCBwYXJhbWV0ZXIsIGlmIHNwZWNpZmllZC5cbiAgICogQHBhcmFtIHtUfSBbc3RhdGVdIFNvbWUgY29udGV4dHVhbCBkYXRhIHRoYXQgdGhlIGB3b3JrYCBmdW5jdGlvbiB1c2VzIHdoZW5cbiAgICogY2FsbGVkIGJ5IHRoZSBTY2hlZHVsZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsYXldIFRpbWUgdG8gd2FpdCBiZWZvcmUgZXhlY3V0aW5nIHRoZSB3b3JrLCB3aGVyZSB0aGVcbiAgICogdGltZSB1bml0IGlzIGltcGxpY2l0IGFuZCBkZWZpbmVkIGJ5IHRoZSBTY2hlZHVsZXIuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBwdWJsaWMgc2NoZWR1bGUoc3RhdGU/OiBULCBkZWxheTogbnVtYmVyID0gMCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJy4vQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXInO1xuaW1wb3J0IHsgU2NoZWR1bGVyQWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgYW5pbWF0aW9uRnJhbWVQcm92aWRlciB9IGZyb20gJy4vYW5pbWF0aW9uRnJhbWVQcm92aWRlcic7XG5pbXBvcnQgeyBUaW1lckhhbmRsZSB9IGZyb20gJy4vdGltZXJIYW5kbGUnO1xuXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uRnJhbWVBY3Rpb248VD4gZXh0ZW5kcyBBc3luY0FjdGlvbjxUPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBzY2hlZHVsZXI6IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLCBwcm90ZWN0ZWQgd29yazogKHRoaXM6IFNjaGVkdWxlckFjdGlvbjxUPiwgc3RhdGU/OiBUKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoc2NoZWR1bGVyLCB3b3JrKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXI6IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLCBpZD86IFRpbWVySGFuZGxlLCBkZWxheTogbnVtYmVyID0gMCk6IFRpbWVySGFuZGxlIHtcbiAgICAvLyBJZiBkZWxheSBpcyBncmVhdGVyIHRoYW4gMCwgcmVxdWVzdCBhcyBhbiBhc3luYyBhY3Rpb24uXG4gICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkge1xuICAgICAgcmV0dXJuIHN1cGVyLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICB9XG4gICAgLy8gUHVzaCB0aGUgYWN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIHNjaGVkdWxlciBxdWV1ZS5cbiAgICBzY2hlZHVsZXIuYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgIC8vIElmIGFuIGFuaW1hdGlvbiBmcmFtZSBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgZG9uJ3QgcmVxdWVzdCBhbm90aGVyXG4gICAgLy8gb25lLiBJZiBhbiBhbmltYXRpb24gZnJhbWUgaGFzbid0IGJlZW4gcmVxdWVzdGVkIHlldCwgcmVxdWVzdCBvbmUuIFJldHVyblxuICAgIC8vIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSByZXF1ZXN0IGlkLlxuICAgIHJldHVybiBzY2hlZHVsZXIuX3NjaGVkdWxlZCB8fCAoc2NoZWR1bGVyLl9zY2hlZHVsZWQgPSBhbmltYXRpb25GcmFtZVByb3ZpZGVyLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzY2hlZHVsZXIuZmx1c2godW5kZWZpbmVkKSkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlY3ljbGVBc3luY0lkKHNjaGVkdWxlcjogQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIsIGlkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGRlbGF5IGV4aXN0cyBhbmQgaXMgZ3JlYXRlciB0aGFuIDAsIG9yIGlmIHRoZSBkZWxheSBpcyBudWxsICh0aGVcbiAgICAvLyBhY3Rpb24gd2Fzbid0IHJlc2NoZWR1bGVkKSBidXQgd2FzIG9yaWdpbmFsbHkgc2NoZWR1bGVkIGFzIGFuIGFzeW5jXG4gICAgLy8gYWN0aW9uLCB0aGVuIHJlY3ljbGUgYXMgYW4gYXN5bmMgYWN0aW9uLlxuICAgIGlmIChkZWxheSAhPSBudWxsID8gZGVsYXkgPiAwIDogdGhpcy5kZWxheSA+IDApIHtcbiAgICAgIHJldHVybiBzdXBlci5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBzY2hlZHVsZXIgcXVldWUgaGFzIG5vIHJlbWFpbmluZyBhY3Rpb25zIHdpdGggdGhlIHNhbWUgYXN5bmMgaWQsXG4gICAgLy8gY2FuY2VsIHRoZSByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lIGFuZCBzZXQgdGhlIHNjaGVkdWxlZCBmbGFnIHRvXG4gICAgLy8gdW5kZWZpbmVkIHNvIHRoZSBuZXh0IEFuaW1hdGlvbkZyYW1lQWN0aW9uIHdpbGwgcmVxdWVzdCBpdHMgb3duLlxuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gc2NoZWR1bGVyO1xuICAgIGlmIChpZCAhPSBudWxsICYmIGFjdGlvbnNbYWN0aW9ucy5sZW5ndGggLSAxXT8uaWQgIT09IGlkKSB7XG4gICAgICBhbmltYXRpb25GcmFtZVByb3ZpZGVyLmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkIGFzIG51bWJlcik7XG4gICAgICBzY2hlZHVsZXIuX3NjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHVuZGVmaW5lZCBzbyB0aGUgYWN0aW9uIGtub3dzIHRvIHJlcXVlc3QgYSBuZXcgYXN5bmMgaWQgaWYgaXQncyByZXNjaGVkdWxlZC5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIGV4dGVuZHMgQXN5bmNTY2hlZHVsZXIge1xuICBwdWJsaWMgZmx1c2goYWN0aW9uPzogQXN5bmNBY3Rpb248YW55Pik6IHZvaWQge1xuICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgLy8gVGhlIGFzeW5jIGlkIHRoYXQgZWZmZWN0cyBhIGNhbGwgdG8gZmx1c2ggaXMgc3RvcmVkIGluIF9zY2hlZHVsZWQuXG4gICAgLy8gQmVmb3JlIGV4ZWN1dGluZyBhbiBhY3Rpb24sIGl0J3MgbmVjZXNzYXJ5IHRvIGNoZWNrIHRoZSBhY3Rpb24ncyBhc3luY1xuICAgIC8vIGlkIHRvIGRldGVybWluZSB3aGV0aGVyIGl0J3Mgc3VwcG9zZWQgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGN1cnJlbnRcbiAgICAvLyBmbHVzaC5cbiAgICAvLyBQcmV2aW91cyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBtZXRob2QgdXNlZCBhIGNvdW50IHRvIGRldGVybWluZSB0aGlzLFxuICAgIC8vIGJ1dCB0aGF0IHdhcyB1bnNvdW5kLCBhcyBhY3Rpb25zIHRoYXQgYXJlIHVuc3Vic2NyaWJlZCAtIGkuZS4gY2FuY2VsbGVkIC1cbiAgICAvLyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBhY3Rpb25zIGFycmF5IGFuZCB0aGF0IGNhbiBzaGlmdCBhY3Rpb25zIHRoYXQgYXJlXG4gICAgLy8gc2NoZWR1bGVkIHRvIGJlIGV4ZWN1dGVkIGluIGEgc3Vic2VxdWVudCBmbHVzaCBpbnRvIHBvc2l0aW9ucyBhdCB3aGljaFxuICAgIC8vIHRoZXkgYXJlIGV4ZWN1dGVkIHdpdGhpbiB0aGUgY3VycmVudCBmbHVzaC5cbiAgICBjb25zdCBmbHVzaElkID0gdGhpcy5fc2NoZWR1bGVkO1xuICAgIHRoaXMuX3NjaGVkdWxlZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gdGhpcztcbiAgICBsZXQgZXJyb3I6IGFueTtcbiAgICBhY3Rpb24gPSBhY3Rpb24gfHwgYWN0aW9ucy5zaGlmdCgpITtcblxuICAgIGRvIHtcbiAgICAgIGlmICgoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zWzBdKSAmJiBhY3Rpb24uaWQgPT09IGZsdXNoSWQgJiYgYWN0aW9ucy5zaGlmdCgpKTtcblxuICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnNbMF0pICYmIGFjdGlvbi5pZCA9PT0gZmx1c2hJZCAmJiBhY3Rpb25zLnNoaWZ0KCkpIHtcbiAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc2FwU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc2FwU2NoZWR1bGVyJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGltbWVkaWF0ZVByb3ZpZGVyIH0gZnJvbSAnLi9pbW1lZGlhdGVQcm92aWRlcic7XG5pbXBvcnQgeyBUaW1lckhhbmRsZSB9IGZyb20gJy4vdGltZXJIYW5kbGUnO1xuXG5leHBvcnQgY2xhc3MgQXNhcEFjdGlvbjxUPiBleHRlbmRzIEFzeW5jQWN0aW9uPFQ+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHNjaGVkdWxlcjogQXNhcFNjaGVkdWxlciwgcHJvdGVjdGVkIHdvcms6ICh0aGlzOiBTY2hlZHVsZXJBY3Rpb248VD4sIHN0YXRlPzogVCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKHNjaGVkdWxlciwgd29yayk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyOiBBc2FwU2NoZWR1bGVyLCBpZD86IFRpbWVySGFuZGxlLCBkZWxheTogbnVtYmVyID0gMCk6IFRpbWVySGFuZGxlIHtcbiAgICAvLyBJZiBkZWxheSBpcyBncmVhdGVyIHRoYW4gMCwgcmVxdWVzdCBhcyBhbiBhc3luYyBhY3Rpb24uXG4gICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkge1xuICAgICAgcmV0dXJuIHN1cGVyLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICB9XG4gICAgLy8gUHVzaCB0aGUgYWN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIHNjaGVkdWxlciBxdWV1ZS5cbiAgICBzY2hlZHVsZXIuYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgIC8vIElmIGEgbWljcm90YXNrIGhhcyBhbHJlYWR5IGJlZW4gc2NoZWR1bGVkLCBkb24ndCBzY2hlZHVsZSBhbm90aGVyXG4gICAgLy8gb25lLiBJZiBhIG1pY3JvdGFzayBoYXNuJ3QgYmVlbiBzY2hlZHVsZWQgeWV0LCBzY2hlZHVsZSBvbmUgbm93LiBSZXR1cm5cbiAgICAvLyB0aGUgY3VycmVudCBzY2hlZHVsZWQgbWljcm90YXNrIGlkLlxuICAgIHJldHVybiBzY2hlZHVsZXIuX3NjaGVkdWxlZCB8fCAoc2NoZWR1bGVyLl9zY2hlZHVsZWQgPSBpbW1lZGlhdGVQcm92aWRlci5zZXRJbW1lZGlhdGUoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB1bmRlZmluZWQpKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyOiBBc2FwU2NoZWR1bGVyLCBpZD86IFRpbWVySGFuZGxlLCBkZWxheTogbnVtYmVyID0gMCk6IFRpbWVySGFuZGxlIHwgdW5kZWZpbmVkIHtcbiAgICAvLyBJZiBkZWxheSBleGlzdHMgYW5kIGlzIGdyZWF0ZXIgdGhhbiAwLCBvciBpZiB0aGUgZGVsYXkgaXMgbnVsbCAodGhlXG4gICAgLy8gYWN0aW9uIHdhc24ndCByZXNjaGVkdWxlZCkgYnV0IHdhcyBvcmlnaW5hbGx5IHNjaGVkdWxlZCBhcyBhbiBhc3luY1xuICAgIC8vIGFjdGlvbiwgdGhlbiByZWN5Y2xlIGFzIGFuIGFzeW5jIGFjdGlvbi5cbiAgICBpZiAoZGVsYXkgIT0gbnVsbCA/IGRlbGF5ID4gMCA6IHRoaXMuZGVsYXkgPiAwKSB7XG4gICAgICByZXR1cm4gc3VwZXIucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgc2NoZWR1bGVyIHF1ZXVlIGhhcyBubyByZW1haW5pbmcgYWN0aW9ucyB3aXRoIHRoZSBzYW1lIGFzeW5jIGlkLFxuICAgIC8vIGNhbmNlbCB0aGUgcmVxdWVzdGVkIG1pY3JvdGFzayBhbmQgc2V0IHRoZSBzY2hlZHVsZWQgZmxhZyB0byB1bmRlZmluZWRcbiAgICAvLyBzbyB0aGUgbmV4dCBBc2FwQWN0aW9uIHdpbGwgcmVxdWVzdCBpdHMgb3duLlxuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gc2NoZWR1bGVyO1xuICAgIGlmIChpZCAhPSBudWxsICYmIGFjdGlvbnNbYWN0aW9ucy5sZW5ndGggLSAxXT8uaWQgIT09IGlkKSB7XG4gICAgICBpbW1lZGlhdGVQcm92aWRlci5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgICBzY2hlZHVsZXIuX3NjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHVuZGVmaW5lZCBzbyB0aGUgYWN0aW9uIGtub3dzIHRvIHJlcXVlc3QgYSBuZXcgYXN5bmMgaWQgaWYgaXQncyByZXNjaGVkdWxlZC5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcblxuZXhwb3J0IGNsYXNzIEFzYXBTY2hlZHVsZXIgZXh0ZW5kcyBBc3luY1NjaGVkdWxlciB7XG4gIHB1YmxpYyBmbHVzaChhY3Rpb24/OiBBc3luY0FjdGlvbjxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBUaGUgYXN5bmMgaWQgdGhhdCBlZmZlY3RzIGEgY2FsbCB0byBmbHVzaCBpcyBzdG9yZWQgaW4gX3NjaGVkdWxlZC5cbiAgICAvLyBCZWZvcmUgZXhlY3V0aW5nIGFuIGFjdGlvbiwgaXQncyBuZWNlc3NhcnkgdG8gY2hlY2sgdGhlIGFjdGlvbidzIGFzeW5jXG4gICAgLy8gaWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQncyBzdXBwb3NlZCB0byBiZSBleGVjdXRlZCBpbiB0aGUgY3VycmVudFxuICAgIC8vIGZsdXNoLlxuICAgIC8vIFByZXZpb3VzIGltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCB1c2VkIGEgY291bnQgdG8gZGV0ZXJtaW5lIHRoaXMsXG4gICAgLy8gYnV0IHRoYXQgd2FzIHVuc291bmQsIGFzIGFjdGlvbnMgdGhhdCBhcmUgdW5zdWJzY3JpYmVkIC0gaS5lLiBjYW5jZWxsZWQgLVxuICAgIC8vIGFyZSByZW1vdmVkIGZyb20gdGhlIGFjdGlvbnMgYXJyYXkgYW5kIHRoYXQgY2FuIHNoaWZ0IGFjdGlvbnMgdGhhdCBhcmVcbiAgICAvLyBzY2hlZHVsZWQgdG8gYmUgZXhlY3V0ZWQgaW4gYSBzdWJzZXF1ZW50IGZsdXNoIGludG8gcG9zaXRpb25zIGF0IHdoaWNoXG4gICAgLy8gdGhleSBhcmUgZXhlY3V0ZWQgd2l0aGluIHRoZSBjdXJyZW50IGZsdXNoLlxuICAgIGNvbnN0IGZsdXNoSWQgPSB0aGlzLl9zY2hlZHVsZWQ7XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgeyBhY3Rpb25zIH0gPSB0aGlzO1xuICAgIGxldCBlcnJvcjogYW55O1xuICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCkhO1xuXG4gICAgZG8ge1xuICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnNbMF0pICYmIGFjdGlvbi5pZCA9PT0gZmx1c2hJZCAmJiBhY3Rpb25zLnNoaWZ0KCkpO1xuXG4gICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmlkID09PSBmbHVzaElkICYmIGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xuaW1wb3J0IHsgU2NoZWR1bGVyQWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpbnRlcnZhbFByb3ZpZGVyIH0gZnJvbSAnLi9pbnRlcnZhbFByb3ZpZGVyJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4uL3V0aWwvYXJyUmVtb3ZlJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3luY0FjdGlvbjxUPiBleHRlbmRzIEFjdGlvbjxUPiB7XG4gIHB1YmxpYyBpZDogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBzdGF0ZT86IFQ7XG4gIC8vIEB0cy1pZ25vcmU6IFByb3BlcnR5IGhhcyBubyBpbml0aWFsaXplciBhbmQgaXMgbm90IGRlZmluaXRlbHkgYXNzaWduZWRcbiAgcHVibGljIGRlbGF5OiBudW1iZXI7XG4gIHByb3RlY3RlZCBwZW5kaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHNjaGVkdWxlcjogQXN5bmNTY2hlZHVsZXIsIHByb3RlY3RlZCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQpIHtcbiAgICBzdXBlcihzY2hlZHVsZXIsIHdvcmspO1xuICB9XG5cbiAgcHVibGljIHNjaGVkdWxlKHN0YXRlPzogVCwgZGVsYXk6IG51bWJlciA9IDApOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIHJlcGxhY2UgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aCB0aGUgbmV3IHN0YXRlLlxuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcblxuICAgIGNvbnN0IGlkID0gdGhpcy5pZDtcbiAgICBjb25zdCBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcblxuICAgIC8vXG4gICAgLy8gSW1wb3J0YW50IGltcGxlbWVudGF0aW9uIG5vdGU6XG4gICAgLy9cbiAgICAvLyBBY3Rpb25zIG9ubHkgZXhlY3V0ZSBvbmNlIGJ5IGRlZmF1bHQsIHVubGVzcyByZXNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGVcbiAgICAvLyBzY2hlZHVsZWQgY2FsbGJhY2suIFRoaXMgYWxsb3dzIHVzIHRvIGltcGxlbWVudCBzaW5nbGUgYW5kIHJlcGVhdFxuICAgIC8vIGFjdGlvbnMgdmlhIHRoZSBzYW1lIGNvZGUgcGF0aCwgd2l0aG91dCBhZGRpbmcgQVBJIHN1cmZhY2UgYXJlYSwgYXMgd2VsbFxuICAgIC8vIGFzIG1pbWljIHRyYWRpdGlvbmFsIHJlY3Vyc2lvbiBidXQgYWNyb3NzIGFzeW5jaHJvbm91cyBib3VuZGFyaWVzLlxuICAgIC8vXG4gICAgLy8gSG93ZXZlciwgSlMgcnVudGltZXMgYW5kIHRpbWVycyBkaXN0aW5ndWlzaCBiZXR3ZWVuIGludGVydmFscyBhY2hpZXZlZCBieVxuICAgIC8vIHNlcmlhbCBgc2V0VGltZW91dGAgY2FsbHMgdnMuIGEgc2luZ2xlIGBzZXRJbnRlcnZhbGAgY2FsbC4gQW4gaW50ZXJ2YWwgb2ZcbiAgICAvLyBzZXJpYWwgYHNldFRpbWVvdXRgIGNhbGxzIGNhbiBiZSBpbmRpdmlkdWFsbHkgZGVsYXllZCwgd2hpY2ggZGVsYXlzXG4gICAgLy8gc2NoZWR1bGluZyB0aGUgbmV4dCBgc2V0VGltZW91dGAsIGFuZCBzbyBvbi4gYHNldEludGVydmFsYCBhdHRlbXB0cyB0b1xuICAgIC8vIGd1YXJhbnRlZSB0aGUgaW50ZXJ2YWwgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIG1vcmUgcHJlY2lzZWx5IHRvIHRoZVxuICAgIC8vIGludGVydmFsIHBlcmlvZCwgcmVnYXJkbGVzcyBvZiBsb2FkLlxuICAgIC8vXG4gICAgLy8gVGhlcmVmb3JlLCB3ZSB1c2UgYHNldEludGVydmFsYCB0byBzY2hlZHVsZSBzaW5nbGUgYW5kIHJlcGVhdCBhY3Rpb25zLlxuICAgIC8vIElmIHRoZSBhY3Rpb24gcmVzY2hlZHVsZXMgaXRzZWxmIHdpdGggdGhlIHNhbWUgZGVsYXksIHRoZSBpbnRlcnZhbCBpcyBub3RcbiAgICAvLyBjYW5jZWxlZC4gSWYgdGhlIGFjdGlvbiBkb2Vzbid0IHJlc2NoZWR1bGUsIG9yIHJlc2NoZWR1bGVzIHdpdGggYVxuICAgIC8vIGRpZmZlcmVudCBkZWxheSwgdGhlIGludGVydmFsIHdpbGwgYmUgY2FuY2VsZWQgYWZ0ZXIgc2NoZWR1bGVkIGNhbGxiYWNrXG4gICAgLy8gZXhlY3V0aW9uLlxuICAgIC8vXG4gICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHBlbmRpbmcgZmxhZyBpbmRpY2F0aW5nIHRoYXQgdGhpcyBhY3Rpb24gaGFzIGJlZW4gc2NoZWR1bGVkLCBvclxuICAgIC8vIGhhcyByZWN1cnNpdmVseSByZXNjaGVkdWxlZCBpdHNlbGYuXG4gICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAvLyBJZiB0aGlzIGFjdGlvbiBoYXMgYWxyZWFkeSBhbiBhc3luYyBJZCwgZG9uJ3QgcmVxdWVzdCBhIG5ldyBvbmUuXG4gICAgdGhpcy5pZCA9IHRoaXMuaWQgPz8gdGhpcy5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIHRoaXMuaWQsIGRlbGF5KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlcXVlc3RBc3luY0lkKHNjaGVkdWxlcjogQXN5bmNTY2hlZHVsZXIsIF9pZD86IFRpbWVySGFuZGxlLCBkZWxheTogbnVtYmVyID0gMCk6IFRpbWVySGFuZGxlIHtcbiAgICByZXR1cm4gaW50ZXJ2YWxQcm92aWRlci5zZXRJbnRlcnZhbChzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIHRoaXMpLCBkZWxheSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVjeWNsZUFzeW5jSWQoX3NjaGVkdWxlcjogQXN5bmNTY2hlZHVsZXIsIGlkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgfCBudWxsID0gMCk6IFRpbWVySGFuZGxlIHwgdW5kZWZpbmVkIHtcbiAgICAvLyBJZiB0aGlzIGFjdGlvbiBpcyByZXNjaGVkdWxlZCB3aXRoIHRoZSBzYW1lIGRlbGF5IHRpbWUsIGRvbid0IGNsZWFyIHRoZSBpbnRlcnZhbCBpZC5cbiAgICBpZiAoZGVsYXkgIT0gbnVsbCAmJiB0aGlzLmRlbGF5ID09PSBkZWxheSAmJiB0aGlzLnBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8vIE90aGVyd2lzZSwgaWYgdGhlIGFjdGlvbidzIGRlbGF5IHRpbWUgaXMgZGlmZmVyZW50IGZyb20gdGhlIGN1cnJlbnQgZGVsYXksXG4gICAgLy8gb3IgdGhlIGFjdGlvbiBoYXMgYmVlbiByZXNjaGVkdWxlZCBiZWZvcmUgaXQncyBleGVjdXRlZCwgY2xlYXIgdGhlIGludGVydmFsIGlkXG4gICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgIGludGVydmFsUHJvdmlkZXIuY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbW1lZGlhdGVseSBleGVjdXRlcyB0aGlzIGFjdGlvbiBhbmQgdGhlIGB3b3JrYCBpdCBjb250YWlucy5cbiAgICogQHJldHVybiB7YW55fVxuICAgKi9cbiAgcHVibGljIGV4ZWN1dGUoc3RhdGU6IFQsIGRlbGF5OiBudW1iZXIpOiBhbnkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgIC8vIERlcXVldWUgaWYgdGhlIGFjdGlvbiBkaWRuJ3QgcmVzY2hlZHVsZSBpdHNlbGYuIERvbid0IGNhbGxcbiAgICAgIC8vIHVuc3Vic2NyaWJlKCksIGJlY2F1c2UgdGhlIGFjdGlvbiBjb3VsZCByZXNjaGVkdWxlIGxhdGVyLlxuICAgICAgLy8gRm9yIGV4YW1wbGU6XG4gICAgICAvLyBgYGBcbiAgICAgIC8vIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiBkb1dvcmsoY291bnRlcikge1xuICAgICAgLy8gICAvKiAuLi4gSSdtIGEgYnVzeSB3b3JrZXIgYmVlIC4uLiAqL1xuICAgICAgLy8gICB2YXIgb3JpZ2luYWxBY3Rpb24gPSB0aGlzO1xuICAgICAgLy8gICAvKiB3YWl0IDEwMG1zIGJlZm9yZSByZXNjaGVkdWxpbmcgdGhlIGFjdGlvbiAqL1xuICAgICAgLy8gICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vICAgICBvcmlnaW5hbEFjdGlvbi5zY2hlZHVsZShjb3VudGVyICsgMSk7XG4gICAgICAvLyAgIH0sIDEwMCk7XG4gICAgICAvLyB9LCAxMDAwKTtcbiAgICAgIC8vIGBgYFxuICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfZXhlY3V0ZShzdGF0ZTogVCwgX2RlbGF5OiBudW1iZXIpOiBhbnkge1xuICAgIGxldCBlcnJvcmVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbGV0IGVycm9yVmFsdWU6IGFueTtcbiAgICB0cnkge1xuICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgIC8vIEhBQ0s6IFNpbmNlIGNvZGUgZWxzZXdoZXJlIGlzIHJlbHlpbmcgb24gdGhlIFwidHJ1dGhpbmVzc1wiIG9mIHRoZVxuICAgICAgLy8gcmV0dXJuIGhlcmUsIHdlIGNhbid0IGhhdmUgaXQgcmV0dXJuIFwiXCIgb3IgMCBvciBmYWxzZS5cbiAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgd2hlbiB3ZSByZWZhY3RvciBzY2hlZHVsZXJzIG1pZC12ZXJzaW9uLTggb3Igc28uXG4gICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICB9XG4gICAgaWYgKGVycm9yZWQpIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgIHJldHVybiBlcnJvclZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgIGNvbnN0IHsgaWQsIHNjaGVkdWxlciB9ID0gdGhpcztcbiAgICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gc2NoZWR1bGVyO1xuXG4gICAgICB0aGlzLndvcmsgPSB0aGlzLnN0YXRlID0gdGhpcy5zY2hlZHVsZXIgPSBudWxsITtcbiAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuXG4gICAgICBhcnJSZW1vdmUoYWN0aW9ucywgdGhpcyk7XG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kZWxheSA9IG51bGwhO1xuICAgICAgc3VwZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcblxuZXhwb3J0IGNsYXNzIEFzeW5jU2NoZWR1bGVyIGV4dGVuZHMgU2NoZWR1bGVyIHtcbiAgcHVibGljIGFjdGlvbnM6IEFycmF5PEFzeW5jQWN0aW9uPGFueT4+ID0gW107XG4gIC8qKlxuICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciB0aGUgU2NoZWR1bGVyIGlzIGN1cnJlbnRseSBleGVjdXRpbmcgYSBiYXRjaCBvZlxuICAgKiBxdWV1ZWQgYWN0aW9ucy5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHVibGljIF9hY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgLyoqXG4gICAqIEFuIGludGVybmFsIElEIHVzZWQgdG8gdHJhY2sgdGhlIGxhdGVzdCBhc3luY2hyb25vdXMgdGFzayBzdWNoIGFzIHRob3NlXG4gICAqIGNvbWluZyBmcm9tIGBzZXRUaW1lb3V0YCwgYHNldEludGVydmFsYCwgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAsIGFuZFxuICAgKiBvdGhlcnMuXG4gICAqIEB0eXBlIHthbnl9XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHVibGljIF9zY2hlZHVsZWQ6IFRpbWVySGFuZGxlIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFNjaGVkdWxlckFjdGlvbjogdHlwZW9mIEFjdGlvbiwgbm93OiAoKSA9PiBudW1iZXIgPSBTY2hlZHVsZXIubm93KSB7XG4gICAgc3VwZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpO1xuICB9XG5cbiAgcHVibGljIGZsdXNoKGFjdGlvbjogQXN5bmNBY3Rpb248YW55Pik6IHZvaWQge1xuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gdGhpcztcblxuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBlcnJvcjogYW55O1xuICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG5cbiAgICBkbyB7XG4gICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpISkpOyAvLyBleGhhdXN0IHRoZSBzY2hlZHVsZXIgcXVldWVcblxuICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSEpKSB7XG4gICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAnLi9RdWV1ZVNjaGVkdWxlcic7XG5pbXBvcnQgeyBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUaW1lckhhbmRsZSB9IGZyb20gJy4vdGltZXJIYW5kbGUnO1xuXG5leHBvcnQgY2xhc3MgUXVldWVBY3Rpb248VD4gZXh0ZW5kcyBBc3luY0FjdGlvbjxUPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBzY2hlZHVsZXI6IFF1ZXVlU2NoZWR1bGVyLCBwcm90ZWN0ZWQgd29yazogKHRoaXM6IFNjaGVkdWxlckFjdGlvbjxUPiwgc3RhdGU/OiBUKSA9PiB2b2lkKSB7XG4gICAgc3VwZXIoc2NoZWR1bGVyLCB3b3JrKTtcbiAgfVxuXG4gIHB1YmxpYyBzY2hlZHVsZShzdGF0ZT86IFQsIGRlbGF5OiBudW1iZXIgPSAwKTogU3Vic2NyaXB0aW9uIHtcbiAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICByZXR1cm4gc3VwZXIuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9XG4gICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnNjaGVkdWxlci5mbHVzaCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBleGVjdXRlKHN0YXRlOiBULCBkZWxheTogbnVtYmVyKTogYW55IHtcbiAgICByZXR1cm4gZGVsYXkgPiAwIHx8IHRoaXMuY2xvc2VkID8gc3VwZXIuZXhlY3V0ZShzdGF0ZSwgZGVsYXkpIDogdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlcXVlc3RBc3luY0lkKHNjaGVkdWxlcjogUXVldWVTY2hlZHVsZXIsIGlkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUge1xuICAgIC8vIElmIGRlbGF5IGV4aXN0cyBhbmQgaXMgZ3JlYXRlciB0aGFuIDAsIG9yIGlmIHRoZSBkZWxheSBpcyBudWxsICh0aGVcbiAgICAvLyBhY3Rpb24gd2Fzbid0IHJlc2NoZWR1bGVkKSBidXQgd2FzIG9yaWdpbmFsbHkgc2NoZWR1bGVkIGFzIGFuIGFzeW5jXG4gICAgLy8gYWN0aW9uLCB0aGVuIHJlY3ljbGUgYXMgYW4gYXN5bmMgYWN0aW9uLlxuXG4gICAgaWYgKChkZWxheSAhPSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICByZXR1cm4gc3VwZXIucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSBmbHVzaCB0aGUgc2NoZWR1bGVyIHN0YXJ0aW5nIHdpdGggdGhpcyBhY3Rpb24uXG4gICAgc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuXG4gICAgLy8gSEFDSzogSW4gdGhlIHBhc3QsIHRoaXMgd2FzIHJldHVybmluZyBgdm9pZGAuIEhvd2V2ZXIsIGB2b2lkYCBpc24ndCBhIHZhbGlkXG4gICAgLy8gYFRpbWVySGFuZGxlYCwgYW5kIGdlbmVyYWxseSB0aGUgcmV0dXJuIHZhbHVlIGhlcmUgaXNuJ3QgcmVhbGx5IHVzZWQuIFNvIHRoZVxuICAgIC8vIGNvbXByb21pc2UgaXMgdG8gcmV0dXJuIGAwYCB3aGljaCBpcyBib3RoIFwiZmFsc3lcIiBhbmQgYSB2YWxpZCBgVGltZXJIYW5kbGVgLFxuICAgIC8vIGFzIG9wcG9zZWQgdG8gcmVmYWN0b3JpbmcgZXZlcnkgb3RoZXIgaW5zdGFuY2VvIG9mIGByZXF1ZXN0QXN5bmNJZGAuXG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5cbmV4cG9ydCBjbGFzcyBRdWV1ZVNjaGVkdWxlciBleHRlbmRzIEFzeW5jU2NoZWR1bGVyIHtcbn1cbiIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsVGltZVNjaGVkdWxlciBleHRlbmRzIEFzeW5jU2NoZWR1bGVyIHtcbiAgLyoqIEBkZXByZWNhdGVkIE5vdCB1c2VkIGluIFZpcnR1YWxUaW1lU2NoZWR1bGVyIGRpcmVjdGx5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguICovXG4gIHN0YXRpYyBmcmFtZVRpbWVGYWN0b3IgPSAxMDtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgZnJhbWUgZm9yIHRoZSBzdGF0ZSBvZiB0aGUgdmlydHVhbCBzY2hlZHVsZXIgaW5zdGFuY2UuIFRoZSBkaWZmZXJlbmNlXG4gICAqIGJldHdlZW4gdHdvIFwiZnJhbWVzXCIgaXMgc3lub255bW91cyB3aXRoIHRoZSBwYXNzYWdlIG9mIFwidmlydHVhbCB0aW1lIHVuaXRzXCIuIFNvIGlmXG4gICAqIHlvdSByZWNvcmQgYHNjaGVkdWxlci5mcmFtZWAgdG8gYmUgYDFgLCB0aGVuIGxhdGVyLCBvYnNlcnZlIGBzY2hlZHVsZXIuZnJhbWVgIHRvIGJlIGF0IGAxMWAsXG4gICAqIHRoYXQgbWVhbnMgYDEwYCB2aXJ0dWFsIHRpbWUgdW5pdHMgaGF2ZSBwYXNzZWQuXG4gICAqL1xuICBwdWJsaWMgZnJhbWU6IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIFVzZWQgaW50ZXJuYWxseSB0byBleGFtaW5lIHRoZSBjdXJyZW50IHZpcnR1YWwgYWN0aW9uIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gICAqL1xuICBwdWJsaWMgaW5kZXg6IG51bWJlciA9IC0xO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBgVmlydHVhbFRpbWVTY2hlZHVsZXJgLiBFeHBlcnRzIG9ubHkuIFRoZSBzaWduYXR1cmUgb2ZcbiAgICogdGhpcyBjb25zdHJ1Y3RvciBpcyBsaWtlbHkgdG8gY2hhbmdlIGluIHRoZSBsb25nIHJ1bi5cbiAgICpcbiAgICogQHBhcmFtIHNjaGVkdWxlckFjdGlvbkN0b3IgVGhlIHR5cGUgb2YgQWN0aW9uIHRvIGluaXRpYWxpemUgd2hlbiBpbml0aWFsaXppbmcgYWN0aW9ucyBkdXJpbmcgc2NoZWR1bGluZy5cbiAgICogQHBhcmFtIG1heEZyYW1lcyBUaGUgbWF4aW11bSBudW1iZXIgb2YgZnJhbWVzIHRvIHByb2Nlc3MgYmVmb3JlIHN0b3BwaW5nLiBVc2VkIHRvIHByZXZlbnQgZW5kbGVzcyBmbHVzaCBjeWNsZXMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzY2hlZHVsZXJBY3Rpb25DdG9yOiB0eXBlb2YgQXN5bmNBY3Rpb24gPSBWaXJ0dWFsQWN0aW9uIGFzIGFueSwgcHVibGljIG1heEZyYW1lczogbnVtYmVyID0gSW5maW5pdHkpIHtcbiAgICBzdXBlcihzY2hlZHVsZXJBY3Rpb25DdG9yLCAoKSA9PiB0aGlzLmZyYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9tcHQgdGhlIFNjaGVkdWxlciB0byBleGVjdXRlIGFsbCBvZiBpdHMgcXVldWVkIGFjdGlvbnMsIHRoZXJlZm9yZVxuICAgKiBjbGVhcmluZyBpdHMgcXVldWUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBwdWJsaWMgZmx1c2goKTogdm9pZCB7XG4gICAgY29uc3QgeyBhY3Rpb25zLCBtYXhGcmFtZXMgfSA9IHRoaXM7XG4gICAgbGV0IGVycm9yOiBhbnk7XG4gICAgbGV0IGFjdGlvbjogQXN5bmNBY3Rpb248YW55PiB8IHVuZGVmaW5lZDtcblxuICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmRlbGF5IDw9IG1heEZyYW1lcykge1xuICAgICAgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgdGhpcy5mcmFtZSA9IGFjdGlvbi5kZWxheTtcblxuICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxBY3Rpb248VD4gZXh0ZW5kcyBBc3luY0FjdGlvbjxUPiB7XG4gIHByb3RlY3RlZCBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBzY2hlZHVsZXI6IFZpcnR1YWxUaW1lU2NoZWR1bGVyLFxuICAgIHByb3RlY3RlZCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQsXG4gICAgcHJvdGVjdGVkIGluZGV4OiBudW1iZXIgPSAoc2NoZWR1bGVyLmluZGV4ICs9IDEpXG4gICkge1xuICAgIHN1cGVyKHNjaGVkdWxlciwgd29yayk7XG4gICAgdGhpcy5pbmRleCA9IHNjaGVkdWxlci5pbmRleCA9IGluZGV4O1xuICB9XG5cbiAgcHVibGljIHNjaGVkdWxlKHN0YXRlPzogVCwgZGVsYXk6IG51bWJlciA9IDApOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZGVsYXkpKSB7XG4gICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgICB9XG4gICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgLy8gSWYgYW4gYWN0aW9uIGlzIHJlc2NoZWR1bGVkLCB3ZSBzYXZlIGFsbG9jYXRpb25zIGJ5IG11dGF0aW5nIGl0cyBzdGF0ZSxcbiAgICAgIC8vIHB1c2hpbmcgaXQgdG8gdGhlIGVuZCBvZiB0aGUgc2NoZWR1bGVyIHF1ZXVlLCBhbmQgcmVjeWNsaW5nIHRoZSBhY3Rpb24uXG4gICAgICAvLyBCdXQgc2luY2UgdGhlIFZpcnR1YWxUaW1lU2NoZWR1bGVyIGlzIHVzZWQgZm9yIHRlc3RpbmcsIFZpcnR1YWxBY3Rpb25zXG4gICAgICAvLyBtdXN0IGJlIGltbXV0YWJsZSBzbyB0aGV5IGNhbiBiZSBpbnNwZWN0ZWQgbGF0ZXIuXG4gICAgICBjb25zdCBhY3Rpb24gPSBuZXcgVmlydHVhbEFjdGlvbih0aGlzLnNjaGVkdWxlciwgdGhpcy53b3JrKTtcbiAgICAgIHRoaXMuYWRkKGFjdGlvbik7XG4gICAgICByZXR1cm4gYWN0aW9uLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHNvbWVvbmUgc2NoZWR1bGVzIHNvbWV0aGluZyB3aXRoIEluZmluaXR5LCBpdCdsbCBuZXZlciBoYXBwZW4uIFNvIHdlXG4gICAgICAvLyBkb24ndCBldmVuIHNjaGVkdWxlIGl0LlxuICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyOiBWaXJ0dWFsVGltZVNjaGVkdWxlciwgaWQ/OiBhbnksIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUge1xuICAgIHRoaXMuZGVsYXkgPSBzY2hlZHVsZXIuZnJhbWUgKyBkZWxheTtcbiAgICBjb25zdCB7IGFjdGlvbnMgfSA9IHNjaGVkdWxlcjtcbiAgICBhY3Rpb25zLnB1c2godGhpcyk7XG4gICAgKGFjdGlvbnMgYXMgQXJyYXk8VmlydHVhbEFjdGlvbjxUPj4pLnNvcnQoVmlydHVhbEFjdGlvbi5zb3J0QWN0aW9ucyk7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyOiBWaXJ0dWFsVGltZVNjaGVkdWxlciwgaWQ/OiBhbnksIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2V4ZWN1dGUoc3RhdGU6IFQsIGRlbGF5OiBudW1iZXIpOiBhbnkge1xuICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHN1cGVyLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc29ydEFjdGlvbnM8VD4oYTogVmlydHVhbEFjdGlvbjxUPiwgYjogVmlydHVhbEFjdGlvbjxUPikge1xuICAgIGlmIChhLmRlbGF5ID09PSBiLmRlbGF5KSB7XG4gICAgICBpZiAoYS5pbmRleCA9PT0gYi5pbmRleCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gZWxzZSBpZiAoYS5pbmRleCA+IGIuaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhLmRlbGF5ID4gYi5kZWxheSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEFuaW1hdGlvbkZyYW1lQWN0aW9uIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZUFjdGlvbic7XG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJy4vQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXInO1xuXG4vKipcbiAqXG4gKiBBbmltYXRpb24gRnJhbWUgU2NoZWR1bGVyXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlBlcmZvcm0gdGFzayB3aGVuIGB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB3b3VsZCBmaXJlPC9zcGFuPlxuICpcbiAqIFdoZW4gYGFuaW1hdGlvbkZyYW1lYCBzY2hlZHVsZXIgaXMgdXNlZCB3aXRoIGRlbGF5LCBpdCB3aWxsIGZhbGwgYmFjayB0byB7QGxpbmsgYXN5bmNTY2hlZHVsZXJ9IHNjaGVkdWxlclxuICogYmVoYXZpb3VyLlxuICpcbiAqIFdpdGhvdXQgZGVsYXksIGBhbmltYXRpb25GcmFtZWAgc2NoZWR1bGVyIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBzbW9vdGggYnJvd3NlciBhbmltYXRpb25zLlxuICogSXQgbWFrZXMgc3VyZSBzY2hlZHVsZWQgdGFzayB3aWxsIGhhcHBlbiBqdXN0IGJlZm9yZSBuZXh0IGJyb3dzZXIgY29udGVudCByZXBhaW50LFxuICogdGh1cyBwZXJmb3JtaW5nIGFuaW1hdGlvbnMgYXMgZWZmaWNpZW50bHkgYXMgcG9zc2libGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICogU2NoZWR1bGUgZGl2IGhlaWdodCBhbmltYXRpb25cbiAqIGBgYHRzXG4gKiAvLyBodG1sOiA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogIzBmZjtcIj48L2Rpdj5cbiAqIGltcG9ydCB7IGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gKlxuICogYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24oaGVpZ2h0KSB7XG4gKiAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gKlxuICogICB0aGlzLnNjaGVkdWxlKGhlaWdodCArIDEpOyAgLy8gYHRoaXNgIHJlZmVyZW5jZXMgY3VycmVudGx5IGV4ZWN1dGluZyBBY3Rpb24sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCB3ZSByZXNjaGVkdWxlIHdpdGggbmV3IHN0YXRlXG4gKiB9LCAwLCAwKTtcbiAqXG4gKiAvLyBZb3Ugd2lsbCBzZWUgYSBkaXYgZWxlbWVudCBncm93aW5nIGluIGhlaWdodFxuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyID0gbmV3IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyKEFuaW1hdGlvbkZyYW1lQWN0aW9uKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZW5hbWVkIHRvIHtAbGluayBhbmltYXRpb25GcmFtZVNjaGVkdWxlcn0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IGFuaW1hdGlvbkZyYW1lID0gYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXI7XG4iLCJpbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuXG5pbnRlcmZhY2UgQW5pbWF0aW9uRnJhbWVQcm92aWRlciB7XG4gIHNjaGVkdWxlKGNhbGxiYWNrOiBGcmFtZVJlcXVlc3RDYWxsYmFjayk6IFN1YnNjcmlwdGlvbjtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICBjYW5jZWxBbmltYXRpb25GcmFtZTogdHlwZW9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICBkZWxlZ2F0ZTpcbiAgICB8IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZTogdHlwZW9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgYW5pbWF0aW9uRnJhbWVQcm92aWRlcjogQW5pbWF0aW9uRnJhbWVQcm92aWRlciA9IHtcbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdGhlIGRlbGVnYXRlLCB1c2UgdGhlIHZhcmlhYmxlIHJhdGhlciB0aGFuIGB0aGlzYCBzbyB0aGF0XG4gIC8vIHRoZSBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgc2NoZWR1bGUoY2FsbGJhY2spIHtcbiAgICBsZXQgcmVxdWVzdCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICBsZXQgY2FuY2VsOiB0eXBlb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWUgfCB1bmRlZmluZWQgPSBjYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSBhbmltYXRpb25GcmFtZVByb3ZpZGVyO1xuICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgcmVxdWVzdCA9IGRlbGVnYXRlLnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICAgIGNhbmNlbCA9IGRlbGVnYXRlLmNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGUgPSByZXF1ZXN0KCh0aW1lc3RhbXApID0+IHtcbiAgICAgIC8vIENsZWFyIHRoZSBjYW5jZWwgZnVuY3Rpb24uIFRoZSByZXF1ZXN0IGhhcyBiZWVuIGZ1bGZpbGxlZCwgc29cbiAgICAgIC8vIGF0dGVtcHRpbmcgdG8gY2FuY2VsIHRoZSByZXF1ZXN0IHVwb24gdW5zdWJzY3JpcHRpb24gd291bGQgYmVcbiAgICAgIC8vIHBvaW50bGVzcy5cbiAgICAgIGNhbmNlbCA9IHVuZGVmaW5lZDtcbiAgICAgIGNhbGxiYWNrKHRpbWVzdGFtcCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24oKCkgPT4gY2FuY2VsPy4oaGFuZGxlKSk7XG4gIH0sXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSguLi5hcmdzKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gYW5pbWF0aW9uRnJhbWVQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSguLi5hcmdzKTtcbiAgfSxcbiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoLi4uYXJncykge1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IGFuaW1hdGlvbkZyYW1lUHJvdmlkZXI7XG4gICAgcmV0dXJuIChkZWxlZ2F0ZT8uY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgY2FuY2VsQW5pbWF0aW9uRnJhbWUpKC4uLmFyZ3MpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsImltcG9ydCB7IEFzYXBBY3Rpb24gfSBmcm9tICcuL0FzYXBBY3Rpb24nO1xuaW1wb3J0IHsgQXNhcFNjaGVkdWxlciB9IGZyb20gJy4vQXNhcFNjaGVkdWxlcic7XG5cbi8qKlxuICpcbiAqIEFzYXAgU2NoZWR1bGVyXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlBlcmZvcm0gdGFzayBhcyBmYXN0IGFzIGl0IGNhbiBiZSBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHk8L3NwYW4+XG4gKlxuICogYGFzYXBgIHNjaGVkdWxlciBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAbGluayBhc3luY1NjaGVkdWxlcn0gc2NoZWR1bGVyIHdoZW4geW91IHVzZSBpdCB0byBkZWxheSB0YXNrXG4gKiBpbiB0aW1lLiBJZiBob3dldmVyIHlvdSBzZXQgZGVsYXkgdG8gYDBgLCBgYXNhcGAgd2lsbCB3YWl0IGZvciBjdXJyZW50IHN5bmNocm9ub3VzbHkgZXhlY3V0aW5nXG4gKiBjb2RlIHRvIGVuZCBhbmQgdGhlbiBpdCB3aWxsIHRyeSB0byBleGVjdXRlIGdpdmVuIHRhc2sgYXMgZmFzdCBhcyBwb3NzaWJsZS5cbiAqXG4gKiBgYXNhcGAgc2NoZWR1bGVyIHdpbGwgZG8gaXRzIGJlc3QgdG8gbWluaW1pemUgdGltZSBiZXR3ZWVuIGVuZCBvZiBjdXJyZW50bHkgZXhlY3V0aW5nIGNvZGVcbiAqIGFuZCBzdGFydCBvZiBzY2hlZHVsZWQgdGFzay4gVGhpcyBtYWtlcyBpdCBiZXN0IGNhbmRpZGF0ZSBmb3IgcGVyZm9ybWluZyBzbyBjYWxsZWQgXCJkZWZlcnJpbmdcIi5cbiAqIFRyYWRpdGlvbmFsbHkgdGhpcyB3YXMgYWNoaWV2ZWQgYnkgY2FsbGluZyBgc2V0VGltZW91dChkZWZlcnJlZFRhc2ssIDApYCwgYnV0IHRoYXQgdGVjaG5pcXVlIGludm9sdmVzXG4gKiBzb21lIChhbHRob3VnaCBtaW5pbWFsKSB1bndhbnRlZCBkZWxheS5cbiAqXG4gKiBOb3RlIHRoYXQgdXNpbmcgYGFzYXBgIHNjaGVkdWxlciBkb2VzIG5vdCBuZWNlc3NhcmlseSBtZWFuIHRoYXQgeW91ciB0YXNrIHdpbGwgYmUgZmlyc3QgdG8gcHJvY2Vzc1xuICogYWZ0ZXIgY3VycmVudGx5IGV4ZWN1dGluZyBjb2RlLiBJbiBwYXJ0aWN1bGFyLCBpZiBzb21lIHRhc2sgd2FzIGFsc28gc2NoZWR1bGVkIHdpdGggYGFzYXBgIGJlZm9yZSxcbiAqIHRoYXQgdGFzayB3aWxsIGV4ZWN1dGUgZmlyc3QuIFRoYXQgYmVpbmcgc2FpZCwgaWYgeW91IG5lZWQgdG8gc2NoZWR1bGUgdGFzayBhc3luY2hyb25vdXNseSwgYnV0XG4gKiBhcyBzb29uIGFzIHBvc3NpYmxlLCBgYXNhcGAgc2NoZWR1bGVyIGlzIHlvdXIgYmVzdCBiZXQuXG4gKlxuICogIyMgRXhhbXBsZVxuICogQ29tcGFyZSBhc3luYyBhbmQgYXNhcCBzY2hlZHVsZXI8XG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYXNhcFNjaGVkdWxlciwgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBhc3luY1NjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBjb25zb2xlLmxvZygnYXN5bmMnKSk7IC8vIHNjaGVkdWxpbmcgJ2FzeW5jJyBmaXJzdC4uLlxuICogYXNhcFNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBjb25zb2xlLmxvZygnYXNhcCcpKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gXCJhc2FwXCJcbiAqIC8vIFwiYXN5bmNcIlxuICogLy8gLi4uIGJ1dCAnYXNhcCcgZ29lcyBmaXJzdCFcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBjb25zdCBhc2FwU2NoZWR1bGVyID0gbmV3IEFzYXBTY2hlZHVsZXIoQXNhcEFjdGlvbik7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZCB0byB7QGxpbmsgYXNhcFNjaGVkdWxlcn0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IGFzYXAgPSBhc2FwU2NoZWR1bGVyO1xuIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5cbi8qKlxuICpcbiAqIEFzeW5jIFNjaGVkdWxlclxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5TY2hlZHVsZSB0YXNrIGFzIGlmIHlvdSB1c2VkIHNldFRpbWVvdXQodGFzaywgZHVyYXRpb24pPC9zcGFuPlxuICpcbiAqIGBhc3luY2Agc2NoZWR1bGVyIHNjaGVkdWxlcyB0YXNrcyBhc3luY2hyb25vdXNseSwgYnkgcHV0dGluZyB0aGVtIG9uIHRoZSBKYXZhU2NyaXB0XG4gKiBldmVudCBsb29wIHF1ZXVlLiBJdCBpcyBiZXN0IHVzZWQgdG8gZGVsYXkgdGFza3MgaW4gdGltZSBvciB0byBzY2hlZHVsZSB0YXNrcyByZXBlYXRpbmdcbiAqIGluIGludGVydmFscy5cbiAqXG4gKiBJZiB5b3UganVzdCB3YW50IHRvIFwiZGVmZXJcIiB0YXNrLCB0aGF0IGlzIHRvIHBlcmZvcm0gaXQgcmlnaHQgYWZ0ZXIgY3VycmVudGx5XG4gKiBleGVjdXRpbmcgc3luY2hyb25vdXMgY29kZSBlbmRzIChjb21tb25seSBhY2hpZXZlZCBieSBgc2V0VGltZW91dChkZWZlcnJlZFRhc2ssIDApYCksXG4gKiBiZXR0ZXIgY2hvaWNlIHdpbGwgYmUgdGhlIHtAbGluayBhc2FwU2NoZWR1bGVyfSBzY2hlZHVsZXIuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqIFVzZSBhc3luYyBzY2hlZHVsZXIgdG8gZGVsYXkgdGFza1xuICogYGBgdHNcbiAqIGltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgdGFzayA9ICgpID0+IGNvbnNvbGUubG9nKCdpdCB3b3JrcyEnKTtcbiAqXG4gKiBhc3luY1NjaGVkdWxlci5zY2hlZHVsZSh0YXNrLCAyMDAwKTtcbiAqXG4gKiAvLyBBZnRlciAyIHNlY29uZHMgbG9nczpcbiAqIC8vIFwiaXQgd29ya3MhXCJcbiAqIGBgYFxuICpcbiAqIFVzZSBhc3luYyBzY2hlZHVsZXIgdG8gcmVwZWF0IHRhc2sgaW4gaW50ZXJ2YWxzXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBmdW5jdGlvbiB0YXNrKHN0YXRlKSB7XG4gKiAgIGNvbnNvbGUubG9nKHN0YXRlKTtcbiAqICAgdGhpcy5zY2hlZHVsZShzdGF0ZSArIDEsIDEwMDApOyAvLyBgdGhpc2AgcmVmZXJlbmNlcyBjdXJyZW50bHkgZXhlY3V0aW5nIEFjdGlvbixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCB3ZSByZXNjaGVkdWxlIHdpdGggbmV3IHN0YXRlIGFuZCBkZWxheVxuICogfVxuICpcbiAqIGFzeW5jU2NoZWR1bGVyLnNjaGVkdWxlKHRhc2ssIDMwMDAsIDApO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAwIGFmdGVyIDNzXG4gKiAvLyAxIGFmdGVyIDRzXG4gKiAvLyAyIGFmdGVyIDVzXG4gKiAvLyAzIGFmdGVyIDZzXG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgY29uc3QgYXN5bmNTY2hlZHVsZXIgPSBuZXcgQXN5bmNTY2hlZHVsZXIoQXN5bmNBY3Rpb24pO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFJlbmFtZWQgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICovXG5leHBvcnQgY29uc3QgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbiIsImltcG9ydCB7IFRpbWVzdGFtcFByb3ZpZGVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgRGF0ZVRpbWVzdGFtcFByb3ZpZGVyIGV4dGVuZHMgVGltZXN0YW1wUHJvdmlkZXIge1xuICBkZWxlZ2F0ZTogVGltZXN0YW1wUHJvdmlkZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBkYXRlVGltZXN0YW1wUHJvdmlkZXI6IERhdGVUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgbm93KCkge1xuICAgIC8vIFVzZSB0aGUgdmFyaWFibGUgcmF0aGVyIHRoYW4gYHRoaXNgIHNvIHRoYXQgdGhlIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWRcbiAgICAvLyB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgICByZXR1cm4gKGRhdGVUaW1lc3RhbXBQcm92aWRlci5kZWxlZ2F0ZSB8fCBEYXRlKS5ub3coKTtcbiAgfSxcbiAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4iLCJpbXBvcnQgeyBJbW1lZGlhdGUgfSBmcm9tICcuLi91dGlsL0ltbWVkaWF0ZSc7XG5pbXBvcnQgdHlwZSB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5jb25zdCB7IHNldEltbWVkaWF0ZSwgY2xlYXJJbW1lZGlhdGUgfSA9IEltbWVkaWF0ZTtcblxudHlwZSBTZXRJbW1lZGlhdGVGdW5jdGlvbiA9IChoYW5kbGVyOiAoKSA9PiB2b2lkLCAuLi5hcmdzOiBhbnlbXSkgPT4gVGltZXJIYW5kbGU7XG50eXBlIENsZWFySW1tZWRpYXRlRnVuY3Rpb24gPSAoaGFuZGxlOiBUaW1lckhhbmRsZSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEltbWVkaWF0ZVByb3ZpZGVyIHtcbiAgc2V0SW1tZWRpYXRlOiBTZXRJbW1lZGlhdGVGdW5jdGlvbjtcbiAgY2xlYXJJbW1lZGlhdGU6IENsZWFySW1tZWRpYXRlRnVuY3Rpb247XG4gIGRlbGVnYXRlOlxuICAgIHwge1xuICAgICAgICBzZXRJbW1lZGlhdGU6IFNldEltbWVkaWF0ZUZ1bmN0aW9uO1xuICAgICAgICBjbGVhckltbWVkaWF0ZTogQ2xlYXJJbW1lZGlhdGVGdW5jdGlvbjtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IGltbWVkaWF0ZVByb3ZpZGVyOiBJbW1lZGlhdGVQcm92aWRlciA9IHtcbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdGhlIGRlbGVnYXRlLCB1c2UgdGhlIHZhcmlhYmxlIHJhdGhlciB0aGFuIGB0aGlzYCBzbyB0aGF0XG4gIC8vIHRoZSBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgc2V0SW1tZWRpYXRlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSBpbW1lZGlhdGVQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5zZXRJbW1lZGlhdGUgfHwgc2V0SW1tZWRpYXRlKSguLi5hcmdzKTtcbiAgfSxcbiAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gaW1tZWRpYXRlUHJvdmlkZXI7XG4gICAgcmV0dXJuIChkZWxlZ2F0ZT8uY2xlYXJJbW1lZGlhdGUgfHwgY2xlYXJJbW1lZGlhdGUpKGhhbmRsZSBhcyBhbnkpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsImltcG9ydCB0eXBlIHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcbnR5cGUgU2V0SW50ZXJ2YWxGdW5jdGlvbiA9IChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSkgPT4gVGltZXJIYW5kbGU7XG50eXBlIENsZWFySW50ZXJ2YWxGdW5jdGlvbiA9IChoYW5kbGU6IFRpbWVySGFuZGxlKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgSW50ZXJ2YWxQcm92aWRlciB7XG4gIHNldEludGVydmFsOiBTZXRJbnRlcnZhbEZ1bmN0aW9uO1xuICBjbGVhckludGVydmFsOiBDbGVhckludGVydmFsRnVuY3Rpb247XG4gIGRlbGVnYXRlOlxuICAgIHwge1xuICAgICAgICBzZXRJbnRlcnZhbDogU2V0SW50ZXJ2YWxGdW5jdGlvbjtcbiAgICAgICAgY2xlYXJJbnRlcnZhbDogQ2xlYXJJbnRlcnZhbEZ1bmN0aW9uO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgaW50ZXJ2YWxQcm92aWRlcjogSW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdGhlIGRlbGVnYXRlLCB1c2UgdGhlIHZhcmlhYmxlIHJhdGhlciB0aGFuIGB0aGlzYCBzbyB0aGF0XG4gIC8vIHRoZSBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgc2V0SW50ZXJ2YWwoaGFuZGxlcjogKCkgPT4gdm9pZCwgdGltZW91dD86IG51bWJlciwgLi4uYXJncykge1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IGludGVydmFsUHJvdmlkZXI7XG4gICAgaWYgKGRlbGVnYXRlPy5zZXRJbnRlcnZhbCkge1xuICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldEludGVydmFsKGhhbmRsZXIsIHRpbWVvdXQsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gc2V0SW50ZXJ2YWwoaGFuZGxlciwgdGltZW91dCwgLi4uYXJncyk7XG4gIH0sXG4gIGNsZWFySW50ZXJ2YWwoaGFuZGxlKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gaW50ZXJ2YWxQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5jbGVhckludGVydmFsIHx8IGNsZWFySW50ZXJ2YWwpKGhhbmRsZSBhcyBhbnkpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsImltcG9ydCB7IFRpbWVzdGFtcFByb3ZpZGVyIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlciBleHRlbmRzIFRpbWVzdGFtcFByb3ZpZGVyIHtcbiAgZGVsZWdhdGU6IFRpbWVzdGFtcFByb3ZpZGVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlcjogUGVyZm9ybWFuY2VUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgbm93KCkge1xuICAgIC8vIFVzZSB0aGUgdmFyaWFibGUgcmF0aGVyIHRoYW4gYHRoaXNgIHNvIHRoYXQgdGhlIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWRcbiAgICAvLyB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgICByZXR1cm4gKHBlcmZvcm1hbmNlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgcGVyZm9ybWFuY2UpLm5vdygpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsImltcG9ydCB7IFF1ZXVlQWN0aW9uIH0gZnJvbSAnLi9RdWV1ZUFjdGlvbic7XG5pbXBvcnQgeyBRdWV1ZVNjaGVkdWxlciB9IGZyb20gJy4vUXVldWVTY2hlZHVsZXInO1xuXG4vKipcbiAqXG4gKiBRdWV1ZSBTY2hlZHVsZXJcbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+UHV0IGV2ZXJ5IG5leHQgdGFzayBvbiBhIHF1ZXVlLCBpbnN0ZWFkIG9mIGV4ZWN1dGluZyBpdCBpbW1lZGlhdGVseTwvc3Bhbj5cbiAqXG4gKiBgcXVldWVgIHNjaGVkdWxlciwgd2hlbiB1c2VkIHdpdGggZGVsYXksIGJlaGF2ZXMgdGhlIHNhbWUgYXMge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBzY2hlZHVsZXIuXG4gKlxuICogV2hlbiB1c2VkIHdpdGhvdXQgZGVsYXksIGl0IHNjaGVkdWxlcyBnaXZlbiB0YXNrIHN5bmNocm9ub3VzbHkgLSBleGVjdXRlcyBpdCByaWdodCB3aGVuXG4gKiBpdCBpcyBzY2hlZHVsZWQuIEhvd2V2ZXIgd2hlbiBjYWxsZWQgcmVjdXJzaXZlbHksIHRoYXQgaXMgd2hlbiBpbnNpZGUgdGhlIHNjaGVkdWxlZCB0YXNrLFxuICogYW5vdGhlciB0YXNrIGlzIHNjaGVkdWxlZCB3aXRoIHF1ZXVlIHNjaGVkdWxlciwgaW5zdGVhZCBvZiBleGVjdXRpbmcgaW1tZWRpYXRlbHkgYXMgd2VsbCxcbiAqIHRoYXQgdGFzayB3aWxsIGJlIHB1dCBvbiBhIHF1ZXVlIGFuZCB3YWl0IGZvciBjdXJyZW50IG9uZSB0byBmaW5pc2guXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IHdoZW4geW91IGV4ZWN1dGUgdGFzayB3aXRoIGBxdWV1ZWAgc2NoZWR1bGVyLCB5b3UgYXJlIHN1cmUgaXQgd2lsbCBlbmRcbiAqIGJlZm9yZSBhbnkgb3RoZXIgdGFzayBzY2hlZHVsZWQgd2l0aCB0aGF0IHNjaGVkdWxlciB3aWxsIHN0YXJ0LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKiBTY2hlZHVsZSByZWN1cnNpdmVseSBmaXJzdCwgdGhlbiBkbyBzb21ldGhpbmdcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBxdWV1ZVNjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIHF1ZXVlU2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAqICAgcXVldWVTY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4gY29uc29sZS5sb2coJ3NlY29uZCcpKTsgLy8gd2lsbCBub3QgaGFwcGVuIG5vdywgYnV0IHdpbGwgYmUgcHV0IG9uIGEgcXVldWVcbiAqXG4gKiAgIGNvbnNvbGUubG9nKCdmaXJzdCcpO1xuICogfSk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vIFwiZmlyc3RcIlxuICogLy8gXCJzZWNvbmRcIlxuICogYGBgXG4gKlxuICogUmVzY2hlZHVsZSBpdHNlbGYgcmVjdXJzaXZlbHlcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBxdWV1ZVNjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIHF1ZXVlU2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uKHN0YXRlKSB7XG4gKiAgIGlmIChzdGF0ZSAhPT0gMCkge1xuICogICAgIGNvbnNvbGUubG9nKCdiZWZvcmUnLCBzdGF0ZSk7XG4gKiAgICAgdGhpcy5zY2hlZHVsZShzdGF0ZSAtIDEpOyAvLyBgdGhpc2AgcmVmZXJlbmNlcyBjdXJyZW50bHkgZXhlY3V0aW5nIEFjdGlvbixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdlIHJlc2NoZWR1bGUgd2l0aCBuZXcgc3RhdGVcbiAqICAgICBjb25zb2xlLmxvZygnYWZ0ZXInLCBzdGF0ZSk7XG4gKiAgIH1cbiAqIH0sIDAsIDMpO1xuICpcbiAqIC8vIEluIHNjaGVkdWxlciB0aGF0IHJ1bnMgcmVjdXJzaXZlbHksIHlvdSB3b3VsZCBleHBlY3Q6XG4gKiAvLyBcImJlZm9yZVwiLCAzXG4gKiAvLyBcImJlZm9yZVwiLCAyXG4gKiAvLyBcImJlZm9yZVwiLCAxXG4gKiAvLyBcImFmdGVyXCIsIDFcbiAqIC8vIFwiYWZ0ZXJcIiwgMlxuICogLy8gXCJhZnRlclwiLCAzXG4gKlxuICogLy8gQnV0IHdpdGggcXVldWUgaXQgbG9nczpcbiAqIC8vIFwiYmVmb3JlXCIsIDNcbiAqIC8vIFwiYWZ0ZXJcIiwgM1xuICogLy8gXCJiZWZvcmVcIiwgMlxuICogLy8gXCJhZnRlclwiLCAyXG4gKiAvLyBcImJlZm9yZVwiLCAxXG4gKiAvLyBcImFmdGVyXCIsIDFcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBjb25zdCBxdWV1ZVNjaGVkdWxlciA9IG5ldyBRdWV1ZVNjaGVkdWxlcihRdWV1ZUFjdGlvbik7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUmVuYW1lZCB0byB7QGxpbmsgcXVldWVTY2hlZHVsZXJ9LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gKi9cbmV4cG9ydCBjb25zdCBxdWV1ZSA9IHF1ZXVlU2NoZWR1bGVyO1xuIiwiaW1wb3J0IHR5cGUgeyBUaW1lckhhbmRsZSB9IGZyb20gJy4vdGltZXJIYW5kbGUnO1xudHlwZSBTZXRUaW1lb3V0RnVuY3Rpb24gPSAoaGFuZGxlcjogKCkgPT4gdm9pZCwgdGltZW91dD86IG51bWJlciwgLi4uYXJnczogYW55W10pID0+IFRpbWVySGFuZGxlO1xudHlwZSBDbGVhclRpbWVvdXRGdW5jdGlvbiA9IChoYW5kbGU6IFRpbWVySGFuZGxlKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgVGltZW91dFByb3ZpZGVyIHtcbiAgc2V0VGltZW91dDogU2V0VGltZW91dEZ1bmN0aW9uO1xuICBjbGVhclRpbWVvdXQ6IENsZWFyVGltZW91dEZ1bmN0aW9uO1xuICBkZWxlZ2F0ZTpcbiAgICB8IHtcbiAgICAgICAgc2V0VGltZW91dDogU2V0VGltZW91dEZ1bmN0aW9uO1xuICAgICAgICBjbGVhclRpbWVvdXQ6IENsZWFyVGltZW91dEZ1bmN0aW9uO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgdGltZW91dFByb3ZpZGVyOiBUaW1lb3V0UHJvdmlkZXIgPSB7XG4gIC8vIFdoZW4gYWNjZXNzaW5nIHRoZSBkZWxlZ2F0ZSwgdXNlIHRoZSB2YXJpYWJsZSByYXRoZXIgdGhhbiBgdGhpc2Agc28gdGhhdFxuICAvLyB0aGUgZnVuY3Rpb25zIGNhbiBiZSBjYWxsZWQgd2l0aG91dCBiZWluZyBib3VuZCB0byB0aGUgcHJvdmlkZXIuXG4gIHNldFRpbWVvdXQoaGFuZGxlcjogKCkgPT4gdm9pZCwgdGltZW91dD86IG51bWJlciwgLi4uYXJncykge1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IHRpbWVvdXRQcm92aWRlcjtcbiAgICBpZiAoZGVsZWdhdGU/LnNldFRpbWVvdXQpIHtcbiAgICAgIHJldHVybiBkZWxlZ2F0ZS5zZXRUaW1lb3V0KGhhbmRsZXIsIHRpbWVvdXQsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gc2V0VGltZW91dChoYW5kbGVyLCB0aW1lb3V0LCAuLi5hcmdzKTtcbiAgfSxcbiAgY2xlYXJUaW1lb3V0KGhhbmRsZSkge1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IHRpbWVvdXRQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5jbGVhclRpbWVvdXQgfHwgY2xlYXJUaW1lb3V0KShoYW5kbGUgYXMgYW55KTtcbiAgfSxcbiAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKTogc3ltYm9sIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgIHJldHVybiAnQEBpdGVyYXRvcicgYXMgYW55O1xuICB9XG5cbiAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cblxuZXhwb3J0IGNvbnN0IGl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbiIsIi8qKlxuICogU3ltYm9sLm9ic2VydmFibGUgb3IgYSBzdHJpbmcgXCJAQG9ic2VydmFibGVcIi4gVXNlZCBmb3IgaW50ZXJvcFxuICpcbiAqIEBkZXByZWNhdGVkIFdlIHdpbGwgbm8gbG9uZ2VyIGJlIGV4cG9ydGluZyB0aGlzIHN5bWJvbCBpbiB1cGNvbWluZyB2ZXJzaW9ucyBvZiBSeEpTLlxuICogSW5zdGVhZCBwb2x5ZmlsbCBhbmQgdXNlIFN5bWJvbC5vYnNlcnZhYmxlIGRpcmVjdGx5ICpvciogdXNlIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3N5bWJvbC1vYnNlcnZhYmxlXG4gKi9cbmV4cG9ydCBjb25zdCBvYnNlcnZhYmxlOiBzdHJpbmcgfCBzeW1ib2wgPSAoKCkgPT4gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUpIHx8ICdAQG9ic2VydmFibGUnKSgpO1xuIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyAoKTogQXJndW1lbnRPdXRPZlJhbmdlRXJyb3I7XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gYW4gZWxlbWVudCB3YXMgcXVlcmllZCBhdCBhIGNlcnRhaW4gaW5kZXggb2YgYW5cbiAqIE9ic2VydmFibGUsIGJ1dCBubyBzdWNoIGluZGV4IG9yIHBvc2l0aW9uIGV4aXN0cyBpbiB0aGF0IHNlcXVlbmNlLlxuICpcbiAqIEBzZWUge0BsaW5rIGVsZW1lbnRBdH1cbiAqIEBzZWUge0BsaW5rIHRha2V9XG4gKiBAc2VlIHtAbGluayB0YWtlTGFzdH1cbiAqXG4gKiBAY2xhc3MgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yOiBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckN0b3IgPSBjcmVhdGVFcnJvckNsYXNzKFxuICAoX3N1cGVyKSA9PlxuICAgIGZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCh0aGlzOiBhbnkpIHtcbiAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSAnYXJndW1lbnQgb3V0IG9mIHJhbmdlJztcbiAgICB9XG4pO1xuIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1wdHlFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1wdHlFcnJvckN0b3Ige1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLiBEbyBub3QgY29uc3RydWN0IGVycm9yIGluc3RhbmNlcy5cbiAgICogQ2Fubm90IGJlIHRhZ2dlZCBhcyBpbnRlcm5hbDogaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2lzc3Vlcy82MjY5XG4gICAqL1xuICBuZXcgKCk6IEVtcHR5RXJyb3I7XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gYW4gT2JzZXJ2YWJsZSBvciBhIHNlcXVlbmNlIHdhcyBxdWVyaWVkIGJ1dCBoYXMgbm9cbiAqIGVsZW1lbnRzLlxuICpcbiAqIEBzZWUge0BsaW5rIGZpcnN0fVxuICogQHNlZSB7QGxpbmsgbGFzdH1cbiAqIEBzZWUge0BsaW5rIHNpbmdsZX1cbiAqIEBzZWUge0BsaW5rIGZpcnN0VmFsdWVGcm9tfVxuICogQHNlZSB7QGxpbmsgbGFzdFZhbHVlRnJvbX1cbiAqXG4gKiBAY2xhc3MgRW1wdHlFcnJvclxuICovXG5leHBvcnQgY29uc3QgRW1wdHlFcnJvcjogRW1wdHlFcnJvckN0b3IgPSBjcmVhdGVFcnJvckNsYXNzKChfc3VwZXIpID0+IGZ1bmN0aW9uIEVtcHR5RXJyb3JJbXBsKHRoaXM6IGFueSkge1xuICBfc3VwZXIodGhpcyk7XG4gIHRoaXMubmFtZSA9ICdFbXB0eUVycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gJ25vIGVsZW1lbnRzIGluIHNlcXVlbmNlJztcbn0pO1xuIiwibGV0IG5leHRIYW5kbGUgPSAxO1xuLy8gVGhlIHByb21pc2UgbmVlZHMgdG8gYmUgY3JlYXRlZCBsYXppbHkgb3RoZXJ3aXNlIGl0IHdvbid0IGJlIHBhdGNoZWQgYnkgWm9uZXNcbmxldCByZXNvbHZlZDogUHJvbWlzZTxhbnk+O1xuY29uc3QgYWN0aXZlSGFuZGxlczogeyBba2V5OiBudW1iZXJdOiBhbnkgfSA9IHt9O1xuXG4vKipcbiAqIEZpbmRzIHRoZSBoYW5kbGUgaW4gdGhlIGxpc3Qgb2YgYWN0aXZlIGhhbmRsZXMsIGFuZCByZW1vdmVzIGl0LlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgZm91bmQsIGBmYWxzZWAgb3RoZXJ3aXNlLiBVc2VkIGJvdGggdG8gY2xlYXJcbiAqIEltbWVkaWF0ZSBzY2hlZHVsZWQgdGFza3MsIGFuZCB0byBpZGVudGlmeSBpZiBhIHRhc2sgc2hvdWxkIGJlIHNjaGVkdWxlZC5cbiAqL1xuZnVuY3Rpb24gZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGlmIChoYW5kbGUgaW4gYWN0aXZlSGFuZGxlcykge1xuICAgIGRlbGV0ZSBhY3RpdmVIYW5kbGVzW2hhbmRsZV07XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbnMgdG8gc2NoZWR1bGUgYW5kIHVuc2NoZWR1bGUgbWljcm90YXNrcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEltbWVkaWF0ZSA9IHtcbiAgc2V0SW1tZWRpYXRlKGNiOiAoKSA9PiB2b2lkKTogbnVtYmVyIHtcbiAgICBjb25zdCBoYW5kbGUgPSBuZXh0SGFuZGxlKys7XG4gICAgYWN0aXZlSGFuZGxlc1toYW5kbGVdID0gdHJ1ZTtcbiAgICBpZiAoIXJlc29sdmVkKSB7XG4gICAgICByZXNvbHZlZCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXNvbHZlZC50aGVuKCgpID0+IGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpICYmIGNiKCkpO1xuICAgIHJldHVybiBoYW5kbGU7XG4gIH0sXG5cbiAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlKTtcbiAgfSxcbn07XG5cbi8qKlxuICogVXNlZCBmb3IgaW50ZXJuYWwgdGVzdGluZyBwdXJwb3NlcyBvbmx5LiBEbyBub3QgZXhwb3J0IGZyb20gbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IFRlc3RUb29scyA9IHtcbiAgcGVuZGluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYWN0aXZlSGFuZGxlcykubGVuZ3RoO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90Rm91bmRFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90Rm91bmRFcnJvckN0b3Ige1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLiBEbyBub3QgY29uc3RydWN0IGVycm9yIGluc3RhbmNlcy5cbiAgICogQ2Fubm90IGJlIHRhZ2dlZCBhcyBpbnRlcm5hbDogaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2lzc3Vlcy82MjY5XG4gICAqL1xuICBuZXcgKG1lc3NhZ2U6IHN0cmluZyk6IE5vdEZvdW5kRXJyb3I7XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gYSB2YWx1ZSBvciB2YWx1ZXMgYXJlIG1pc3NpbmcgZnJvbSBhblxuICogb2JzZXJ2YWJsZSBzZXF1ZW5jZS5cbiAqXG4gKiBAc2VlIHtAbGluayBvcGVyYXRvcnMvc2luZ2xlfVxuICpcbiAqIEBjbGFzcyBOb3RGb3VuZEVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBOb3RGb3VuZEVycm9yOiBOb3RGb3VuZEVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoXG4gIChfc3VwZXIpID0+XG4gICAgZnVuY3Rpb24gTm90Rm91bmRFcnJvckltcGwodGhpczogYW55LCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOb3RGb3VuZEVycm9yJztcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuKTtcbiIsImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RVbnN1YnNjcmliZWRFcnJvckN0b3Ige1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLiBEbyBub3QgY29uc3RydWN0IGVycm9yIGluc3RhbmNlcy5cbiAgICogQ2Fubm90IGJlIHRhZ2dlZCBhcyBpbnRlcm5hbDogaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2lzc3Vlcy82MjY5XG4gICAqL1xuICBuZXcgKCk6IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yO1xufVxuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIGFuIGFjdGlvbiBpcyBpbnZhbGlkIGJlY2F1c2UgdGhlIG9iamVjdCBoYXMgYmVlblxuICogdW5zdWJzY3JpYmVkLlxuICpcbiAqIEBzZWUge0BsaW5rIFN1YmplY3R9XG4gKiBAc2VlIHtAbGluayBCZWhhdmlvclN1YmplY3R9XG4gKlxuICogQGNsYXNzIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBPYmplY3RVbnN1YnNjcmliZWRFcnJvcjogT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JDdG9yID0gY3JlYXRlRXJyb3JDbGFzcyhcbiAgKF9zdXBlcikgPT5cbiAgICBmdW5jdGlvbiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwodGhpczogYW55KSB7XG4gICAgICBfc3VwZXIodGhpcyk7XG4gICAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgICAgdGhpcy5tZXNzYWdlID0gJ29iamVjdCB1bnN1YnNjcmliZWQnO1xuICAgIH1cbik7XG4iLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBTZXF1ZW5jZUVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGludGVyZmFjZSBTZXF1ZW5jZUVycm9yQ3RvciB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuIERvIG5vdCBjb25zdHJ1Y3QgZXJyb3IgaW5zdGFuY2VzLlxuICAgKiBDYW5ub3QgYmUgdGFnZ2VkIGFzIGludGVybmFsOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzYyNjlcbiAgICovXG4gIG5ldyAobWVzc2FnZTogc3RyaW5nKTogU2VxdWVuY2VFcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBzb21ldGhpbmcgaXMgd3Jvbmcgd2l0aCB0aGUgc2VxdWVuY2Ugb2ZcbiAqIHZhbHVlcyBhcnJpdmluZyBvbiB0aGUgb2JzZXJ2YWJsZS5cbiAqXG4gKiBAc2VlIHtAbGluayBvcGVyYXRvcnMvc2luZ2xlfVxuICpcbiAqIEBjbGFzcyBTZXF1ZW5jZUVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBTZXF1ZW5jZUVycm9yOiBTZXF1ZW5jZUVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoXG4gIChfc3VwZXIpID0+XG4gICAgZnVuY3Rpb24gU2VxdWVuY2VFcnJvckltcGwodGhpczogYW55LCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdTZXF1ZW5jZUVycm9yJztcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuKTtcbiIsImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVuc3Vic2NyaXB0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHJlYWRvbmx5IGVycm9yczogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5zdWJzY3JpcHRpb25FcnJvckN0b3Ige1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLiBEbyBub3QgY29uc3RydWN0IGVycm9yIGluc3RhbmNlcy5cbiAgICogQ2Fubm90IGJlIHRhZ2dlZCBhcyBpbnRlcm5hbDogaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2lzc3Vlcy82MjY5XG4gICAqL1xuICBuZXcgKGVycm9yczogYW55W10pOiBVbnN1YnNjcmlwdGlvbkVycm9yO1xufVxuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIG9uZSBvciBtb3JlIGVycm9ycyBoYXZlIG9jY3VycmVkIGR1cmluZyB0aGVcbiAqIGB1bnN1YnNjcmliZWAgb2YgYSB7QGxpbmsgU3Vic2NyaXB0aW9ufS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaXB0aW9uRXJyb3I6IFVuc3Vic2NyaXB0aW9uRXJyb3JDdG9yID0gY3JlYXRlRXJyb3JDbGFzcyhcbiAgKF9zdXBlcikgPT5cbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCh0aGlzOiBhbnksIGVycm9yczogKEVycm9yIHwgc3RyaW5nKVtdKSB7XG4gICAgICBfc3VwZXIodGhpcyk7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgPyBgJHtlcnJvcnMubGVuZ3RofSBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxuJHtlcnJvcnMubWFwKChlcnIsIGkpID0+IGAke2kgKyAxfSkgJHtlcnIudG9TdHJpbmcoKX1gKS5qb2luKCdcXG4gICcpfWBcbiAgICAgICAgOiAnJztcbiAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH1cbik7XG4iLCJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4vaXNTY2hlZHVsZXInO1xuXG5mdW5jdGlvbiBsYXN0PFQ+KGFycjogVFtdKTogVCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9wUmVzdWx0U2VsZWN0b3IoYXJnczogYW55W10pOiAoKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bikgfCB1bmRlZmluZWQge1xuICByZXR1cm4gaXNGdW5jdGlvbihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3BTY2hlZHVsZXIoYXJnczogYW55W10pOiBTY2hlZHVsZXJMaWtlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGlzU2NoZWR1bGVyKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcE51bWJlcihhcmdzOiBhbnlbXSwgZGVmYXVsdFZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gdHlwZW9mIGxhc3QoYXJncykgPT09ICdudW1iZXInID8gYXJncy5wb3AoKSEgOiBkZWZhdWx0VmFsdWU7XG59XG4iLCJjb25zdCB7IGlzQXJyYXkgfSA9IEFycmF5O1xuY29uc3QgeyBnZXRQcm90b3R5cGVPZiwgcHJvdG90eXBlOiBvYmplY3RQcm90bywga2V5czogZ2V0S2V5cyB9ID0gT2JqZWN0O1xuXG4vKipcbiAqIFVzZWQgaW4gZnVuY3Rpb25zIHdoZXJlIGVpdGhlciBhIGxpc3Qgb2YgYXJndW1lbnRzLCBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMsIG9yIGFcbiAqIGRpY3Rpb25hcnkgb2YgYXJndW1lbnRzIGNhbiBiZSByZXR1cm5lZC4gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhbiBgYXJnc2AgcHJvcGVydHkgd2l0aFxuICogdGhlIGFyZ3VtZW50cyBpbiBhbiBhcnJheSwgaWYgaXQgaXMgYSBkaWN0aW9uYXJ5LCBpdCB3aWxsIGFsc28gcmV0dXJuIHRoZSBga2V5c2AgaW4gYW5vdGhlclxuICogcHJvcGVydHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmdzQXJnQXJyYXlPck9iamVjdDxULCBPIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgVD4+KGFyZ3M6IFRbXSB8IFtPXSB8IFtUW11dKTogeyBhcmdzOiBUW107IGtleXM6IHN0cmluZ1tdIHwgbnVsbCB9IHtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgY29uc3QgZmlyc3QgPSBhcmdzWzBdO1xuICAgIGlmIChpc0FycmF5KGZpcnN0KSkge1xuICAgICAgcmV0dXJuIHsgYXJnczogZmlyc3QsIGtleXM6IG51bGwgfTtcbiAgICB9XG4gICAgaWYgKGlzUE9KTyhmaXJzdCkpIHtcbiAgICAgIGNvbnN0IGtleXMgPSBnZXRLZXlzKGZpcnN0KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFyZ3M6IGtleXMubWFwKChrZXkpID0+IGZpcnN0W2tleV0pLFxuICAgICAgICBrZXlzLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBhcmdzOiBhcmdzIGFzIFRbXSwga2V5czogbnVsbCB9O1xufVxuXG5mdW5jdGlvbiBpc1BPSk8ob2JqOiBhbnkpOiBvYmogaXMgb2JqZWN0IHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBnZXRQcm90b3R5cGVPZihvYmopID09PSBvYmplY3RQcm90bztcbn1cbiIsImNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5cbi8qKlxuICogVXNlZCBpbiBvcGVyYXRvcnMgYW5kIGZ1bmN0aW9ucyB0aGF0IGFjY2VwdCBlaXRoZXIgYSBsaXN0IG9mIGFyZ3VtZW50cywgb3IgYW4gYXJyYXkgb2YgYXJndW1lbnRzXG4gKiBhcyBhIHNpbmdsZSBhcmd1bWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ3NPckFyZ0FycmF5PFQ+KGFyZ3M6IChUIHwgVFtdKVtdKTogVFtdIHtcbiAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogKGFyZ3MgYXMgVFtdKTtcbn1cbiIsIi8qKlxuICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gYXJyYXksIG11dGF0aW5nIGl0LlxuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgdG8gcmVtb3ZlIHRoZSBpdGVtIGZyb21cbiAqIEBwYXJhbSBpdGVtIFRoZSBpdGVtIHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlPFQ+KGFycjogVFtdIHwgdW5kZWZpbmVkIHwgbnVsbCwgaXRlbTogVCkge1xuICBpZiAoYXJyKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG4iLCIvKipcbiAqIFVzZWQgdG8gY3JlYXRlIEVycm9yIHN1YmNsYXNzZXMgdW50aWwgdGhlIGNvbW11bml0eSBtb3ZlcyBhd2F5IGZyb20gRVM1LlxuICpcbiAqIFRoaXMgaXMgYmVjYXVzZSBjb21waWxpbmcgZnJvbSBUeXBlU2NyaXB0IGRvd24gdG8gRVM1IGhhcyBpc3N1ZXMgd2l0aCBzdWJjbGFzc2luZyBFcnJvcnNcbiAqIGFzIHdlbGwgYXMgb3RoZXIgYnVpbHQtaW4gdHlwZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTIxMjNcbiAqXG4gKiBAcGFyYW0gY3JlYXRlSW1wbCBBIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBhY3R1YWwgY29uc3RydWN0b3IgaW1wbGVtZW50YXRpb24uIFRoZSByZXR1cm5lZFxuICogZnVuY3Rpb24gc2hvdWxkIGJlIGEgbmFtZWQgZnVuY3Rpb24gdGhhdCBjYWxscyBgX3N1cGVyYCBpbnRlcm5hbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzczxUPihjcmVhdGVJbXBsOiAoX3N1cGVyOiBhbnkpID0+IGFueSk6IFQge1xuICBjb25zdCBfc3VwZXIgPSAoaW5zdGFuY2U6IGFueSkgPT4ge1xuICAgIEVycm9yLmNhbGwoaW5zdGFuY2UpO1xuICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gIH07XG5cbiAgY29uc3QgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gIGN0b3JGdW5jLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gIHJldHVybiBjdG9yRnVuYztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPYmplY3Qoa2V5czogc3RyaW5nW10sIHZhbHVlczogYW55W10pIHtcbiAgcmV0dXJuIGtleXMucmVkdWNlKChyZXN1bHQsIGtleSwgaSkgPT4gKChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSksIHJlc3VsdCksIHt9IGFzIGFueSk7XG59XG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5sZXQgY29udGV4dDogeyBlcnJvclRocm93bjogYm9vbGVhbjsgZXJyb3I6IGFueSB9IHwgbnVsbCA9IG51bGw7XG5cbi8qKlxuICogSGFuZGxlcyBkZWFsaW5nIHdpdGggZXJyb3JzIGZvciBzdXBlci1ncm9zcyBtb2RlLiBDcmVhdGVzIGEgY29udGV4dCwgaW4gd2hpY2hcbiAqIGFueSBzeW5jaHJvbm91c2x5IHRocm93biBlcnJvcnMgd2lsbCBiZSBwYXNzZWQgdG8ge0BsaW5rIGNhcHR1cmVFcnJvcn0uIFdoaWNoXG4gKiB3aWxsIHJlY29yZCB0aGUgZXJyb3Igc3VjaCB0aGF0IGl0IHdpbGwgYmUgcmV0aHJvd24gYWZ0ZXIgdGhlIGNhbGwgYmFjayBpcyBjb21wbGV0ZS5cbiAqIFRPRE86IFJlbW92ZSBpbiB2OFxuICogQHBhcmFtIGNiIEFuIGltbWVkaWF0ZWx5IGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiOiAoKSA9PiB2b2lkKSB7XG4gIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgIGNvbnN0IGlzUm9vdCA9ICFjb250ZXh0O1xuICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICB9XG4gICAgY2IoKTtcbiAgICBpZiAoaXNSb290KSB7XG4gICAgICBjb25zdCB7IGVycm9yVGhyb3duLCBlcnJvciB9ID0gY29udGV4dCE7XG4gICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgZ2VuZXJhbCBub24tZGVwcmVjYXRlZCBwYXRoIGZvciBldmVyeW9uZSB0aGF0XG4gICAgLy8gaXNuJ3QgY3JhenkgZW5vdWdoIHRvIHVzZSBzdXBlci1ncm9zcyBtb2RlICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKVxuICAgIGNiKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDYXB0dXJlcyBlcnJvcnMgb25seSBpbiBzdXBlci1ncm9zcyBtb2RlLlxuICogQHBhcmFtIGVyciB0aGUgZXJyb3IgdG8gY2FwdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUVycm9yKGVycjogYW55KSB7XG4gIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XG4gICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgY29udGV4dC5lcnJvciA9IGVycjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShcbiAgcGFyZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24sXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSxcbiAgd29yazogKCkgPT4gdm9pZCxcbiAgZGVsYXk6IG51bWJlcixcbiAgcmVwZWF0OiB0cnVlXG4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShcbiAgcGFyZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24sXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSxcbiAgd29yazogKCkgPT4gdm9pZCxcbiAgZGVsYXk/OiBudW1iZXIsXG4gIHJlcGVhdD86IGZhbHNlXG4pOiBTdWJzY3JpcHRpb247XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlU2NoZWR1bGUoXG4gIHBhcmVudFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UsXG4gIHdvcms6ICgpID0+IHZvaWQsXG4gIGRlbGF5ID0gMCxcbiAgcmVwZWF0ID0gZmFsc2Vcbik6IFN1YnNjcmlwdGlvbiB8IHZvaWQge1xuICBjb25zdCBzY2hlZHVsZVN1YnNjcmlwdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAodGhpczogU2NoZWR1bGVyQWN0aW9uPGFueT4pIHtcbiAgICB3b3JrKCk7XG4gICAgaWYgKHJlcGVhdCkge1xuICAgICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKG51bGwsIGRlbGF5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH0sIGRlbGF5KTtcblxuICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcblxuICBpZiAoIXJlcGVhdCkge1xuICAgIC8vIEJlY2F1c2UgdXNlci1sYW5kIHNjaGVkdWxlciBpbXBsZW1lbnRhdGlvbnMgYXJlIHVubGlrZWx5IHRvIHByb3Blcmx5IHJldXNlXG4gICAgLy8gQWN0aW9ucyBmb3IgcmVwZWF0IHNjaGVkdWxpbmcsIHdlIGNhbid0IHRydXN0IHRoYXQgdGhlIHJldHVybmVkIHN1YnNjcmlwdGlvblxuICAgIC8vIHdpbGwgY29udHJvbCByZXBlYXQgc3Vic2NyaXB0aW9uIHNjZW5hcmlvcy4gU28gd2UncmUgdHJ5aW5nIHRvIGF2b2lkIHVzaW5nIHRoZW1cbiAgICAvLyBpbmNvcnJlY3RseSB3aXRoaW4gdGhpcyBsaWJyYXJ5LlxuICAgIHJldHVybiBzY2hlZHVsZVN1YnNjcmlwdGlvbjtcbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHRha2VzIG9uZSBwYXJhbWV0ZXIgYW5kIGp1c3QgcmV0dXJucyBpdC4gU2ltcGx5IHB1dCxcbiAqIHRoaXMgaXMgbGlrZSBgPFQ+KHg6IFQpOiBUID0+IHhgLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgaW4gc29tZSBjYXNlcyB3aGVuIHVzaW5nIHRoaW5ncyBsaWtlIGBtZXJnZU1hcGBcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIG1hcCwgcmFuZ2UsIG1lcmdlTWFwLCBpZGVudGl0eSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoNSkpO1xuICpcbiAqIGNvbnN0IHJlc3VsdCQgPSBzb3VyY2UkLnBpcGUoXG4gKiAgIG1hcChpID0+IHJhbmdlKGkpKSxcbiAqICAgbWVyZ2VNYXAoaWRlbnRpdHkpIC8vIHNhbWUgYXMgbWVyZ2VNYXAoeCA9PiB4KVxuICogKTtcbiAqXG4gKiByZXN1bHQkLnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IGNvbnNvbGUubG9nXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIE9yIHdoZW4geW91IHdhbnQgdG8gc2VsZWN0aXZlbHkgYXBwbHkgYW4gb3BlcmF0b3JcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIGlkZW50aXR5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc2hvdWxkTGltaXQgPSAoKSA9PiBNYXRoLnJhbmRvbSgpIDwgMC41O1xuICpcbiAqIGNvbnN0IHNvdXJjZSQgPSBpbnRlcnZhbCgxMDAwKTtcbiAqXG4gKiBjb25zdCByZXN1bHQkID0gc291cmNlJC5waXBlKHNob3VsZExpbWl0KCkgPyB0YWtlKDUpIDogaWRlbnRpdHkpO1xuICpcbiAqIHJlc3VsdCQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2dcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHggQW55IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvblxuICogQHJldHVybnMgVGhlIHZhbHVlIHBhc3NlZCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5PFQ+KHg6IFQpOiBUIHtcbiAgcmV0dXJuIHg7XG59XG4iLCJleHBvcnQgY29uc3QgaXNBcnJheUxpa2UgPSAoPFQ+KHg6IGFueSk6IHggaXMgQXJyYXlMaWtlPFQ+ID0+IHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJyk7IiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGU8VD4ob2JqOiBhbnkpOiBvYmogaXMgQXN5bmNJdGVyYWJsZTxUPiB7XG4gIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaj8uW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG4iLCIvKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYSB2YWx1ZSBpcyBub3Qgb25seSBhIGBEYXRlYCBvYmplY3QsXG4gKiBidXQgYSAqdmFsaWQqIGBEYXRlYCBvYmplY3QgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGFcbiAqIG51bWJlci4gRm9yIGV4YW1wbGUsIGBuZXcgRGF0ZSgnYmxhaCcpYCBpcyBpbmRlZWQgYW5cbiAqIGBpbnN0YW5jZW9mIERhdGVgLCBob3dldmVyIGl0IGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYVxuICogbnVtYmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZERhdGUodmFsdWU6IGFueSk6IHZhbHVlIGlzIERhdGUge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTih2YWx1ZSBhcyBhbnkpO1xufVxuIiwiLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVja1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuIiwiaW1wb3J0IHsgSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbi8qKiBJZGVudGlmaWVzIGFuIGlucHV0IGFzIGJlaW5nIE9ic2VydmFibGUgKGJ1dCBub3QgbmVjZXNzYXJ5IGFuIFJ4IE9ic2VydmFibGUpICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dDogYW55KTogaW5wdXQgaXMgSW50ZXJvcE9ic2VydmFibGU8YW55PiB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSk7XG59XG4iLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbi8qKiBJZGVudGlmaWVzIGFuIGlucHV0IGFzIGJlaW5nIGFuIEl0ZXJhYmxlICovXG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dDogYW55KTogaW5wdXQgaXMgSXRlcmFibGU8YW55PiB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0Py5bU3ltYm9sX2l0ZXJhdG9yXSk7XG59XG4iLCIvKiogcHJldHRpZXIgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuXG4vKipcbiAqIFRlc3RzIHRvIHNlZSBpZiB0aGUgb2JqZWN0IGlzIGFuIFJ4SlMge0BsaW5rIE9ic2VydmFibGV9XG4gKiBAcGFyYW0gb2JqIHRoZSBvYmplY3QgdG8gdGVzdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYnNlcnZhYmxlKG9iajogYW55KTogb2JqIGlzIE9ic2VydmFibGU8dW5rbm93bj4ge1xuICAvLyBUaGUgISEgaXMgdG8gZW5zdXJlIHRoYXQgdGhpcyBwdWJsaWNseSBleHBvc2VkIGZ1bmN0aW9uIHJldHVybnNcbiAgLy8gYGZhbHNlYCBpZiBzb21ldGhpbmcgbGlrZSBgbnVsbGAgb3IgYDBgIGlzIHBhc3NlZC5cbiAgcmV0dXJuICEhb2JqICYmIChvYmogaW5zdGFuY2VvZiBPYnNlcnZhYmxlIHx8IChpc0Z1bmN0aW9uKG9iai5saWZ0KSAmJiBpc0Z1bmN0aW9uKG9iai5zdWJzY3JpYmUpKSk7XG59XG4iLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvblwiO1xuXG4vKipcbiAqIFRlc3RzIHRvIHNlZSBpZiB0aGUgb2JqZWN0IGlzIFwidGhlbm5hYmxlXCIuXG4gKiBAcGFyYW0gdmFsdWUgdGhlIG9iamVjdCB0byB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2VMaWtlPGFueT4ge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZT8udGhlbik7XG59XG4iLCJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yPFQ+KHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbUxpa2U8VD4pOiBBc3luY0dlbmVyYXRvcjxUPiB7XG4gIGNvbnN0IHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgeWllbGQgdmFsdWUhO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2U8VD4ob2JqOiBhbnkpOiBvYmogaXMgUmVhZGFibGVTdHJlYW1MaWtlPFQ+IHtcbiAgLy8gV2UgZG9uJ3Qgd2FudCB0byB1c2UgaW5zdGFuY2VvZiBjaGVja3MgYmVjYXVzZSB0aGV5IHdvdWxkIHJldHVyblxuICAvLyBmYWxzZSBmb3IgaW5zdGFuY2VzIGZyb20gYW5vdGhlciBSZWFsbSwgbGlrZSBhbiA8aWZyYW1lPi5cbiAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqPy5nZXRSZWFkZXIpO1xufVxuIiwiaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWU6IGFueSk6IHZhbHVlIGlzIFNjaGVkdWxlckxpa2Uge1xuICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5zY2hlZHVsZSk7XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbi8qKlxuICogVXNlZCB0byBkZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGFuIE9ic2VydmFibGUgd2l0aCBhIGxpZnQgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNMaWZ0KHNvdXJjZTogYW55KTogc291cmNlIGlzIHsgbGlmdDogSW5zdGFuY2VUeXBlPHR5cGVvZiBPYnNlcnZhYmxlPlsnbGlmdCddIH0ge1xuICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2U/LmxpZnQpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYE9wZXJhdG9yRnVuY3Rpb25gLiBVc2VkIHRvIGRlZmluZSBvcGVyYXRvcnMgdGhyb3VnaG91dCB0aGUgbGlicmFyeSBpbiBhIGNvbmNpc2Ugd2F5LlxuICogQHBhcmFtIGluaXQgVGhlIGxvZ2ljIHRvIGNvbm5lY3QgdGhlIGxpZnRlZFNvdXJjZSB0byB0aGUgc3Vic2NyaWJlciBhdCB0aGUgbW9tZW50IG9mIHN1YnNjcmlwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGU8VCwgUj4oXG4gIGluaXQ6IChsaWZ0ZWRTb3VyY2U6IE9ic2VydmFibGU8VD4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8Uj4pID0+ICgoKSA9PiB2b2lkKSB8IHZvaWRcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj4ge1xuICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4ge1xuICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAodGhpczogU3Vic2NyaWJlcjxSPiwgbGlmdGVkU291cmNlOiBPYnNlcnZhYmxlPFQ+KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gXCIuLi9vcGVyYXRvcnMvbWFwXCI7XG5cbmNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXk7XG5cbmZ1bmN0aW9uIGNhbGxPckFwcGx5PFQsIFI+KGZuOiAoKC4uLnZhbHVlczogVFtdKSA9PiBSKSwgYXJnczogVHxUW10pOiBSIHtcbiAgICByZXR1cm4gaXNBcnJheShhcmdzKSA/IGZuKC4uLmFyZ3MpIDogZm4oYXJncyk7XG59XG5cbi8qKlxuICogVXNlZCBpbiBzZXZlcmFsIC0tIG1vc3RseSBkZXByZWNhdGVkIC0tIHNpdHVhdGlvbnMgd2hlcmUgd2UgbmVlZCB0byBcbiAqIGFwcGx5IGEgbGlzdCBvZiBhcmd1bWVudHMgb3IgYSBzaW5nbGUgYXJndW1lbnQgdG8gYSByZXN1bHQgc2VsZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBPbmVPck1hbnlBcmdzPFQsIFI+KGZuOiAoKC4uLnZhbHVlczogVFtdKSA9PiBSKSk6IE9wZXJhdG9yRnVuY3Rpb248VHxUW10sIFI+IHtcbiAgICByZXR1cm4gbWFwKGFyZ3MgPT4gY2FsbE9yQXBwbHkoZm4sIGFyZ3MpKVxufSIsIi8qIHRzbGludDpkaXNhYmxlOm5vLWVtcHR5ICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuIiwiZXhwb3J0IGZ1bmN0aW9uIG5vdDxUPihwcmVkOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4sIHRoaXNBcmc6IGFueSk6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiB7XG4gIHJldHVybiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+ICFwcmVkLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KTsgXG59IiwiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmltcG9ydCB7IFVuYXJ5RnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCk6IHR5cGVvZiBpZGVudGl0eTtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEE+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPik6IFVuYXJ5RnVuY3Rpb248VCwgQT47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPik6IFVuYXJ5RnVuY3Rpb248VCwgQj47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDPihmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPiwgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+KTogVW5hcnlGdW5jdGlvbjxULCBDPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQ+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD5cbik6IFVuYXJ5RnVuY3Rpb248VCwgRD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT5cbik6IFVuYXJ5RnVuY3Rpb248VCwgRT47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sXG4gIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPlxuKTogVW5hcnlGdW5jdGlvbjxULCBGPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEc+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz5cbik6IFVuYXJ5RnVuY3Rpb248VCwgRz47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBIPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sXG4gIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPixcbiAgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LFxuICBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD5cbik6IFVuYXJ5RnVuY3Rpb248VCwgSD47XG5leHBvcnQgZnVuY3Rpb24gcGlwZTxULCBBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihcbiAgZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+LFxuICBmbjI6IFVuYXJ5RnVuY3Rpb248QSwgQj4sXG4gIGZuMzogVW5hcnlGdW5jdGlvbjxCLCBDPixcbiAgZm40OiBVbmFyeUZ1bmN0aW9uPEMsIEQ+LFxuICBmbjU6IFVuYXJ5RnVuY3Rpb248RCwgRT4sXG4gIGZuNjogVW5hcnlGdW5jdGlvbjxFLCBGPixcbiAgZm43OiBVbmFyeUZ1bmN0aW9uPEYsIEc+LFxuICBmbjg6IFVuYXJ5RnVuY3Rpb248RywgSD4sXG4gIGZuOTogVW5hcnlGdW5jdGlvbjxILCBJPlxuKTogVW5hcnlGdW5jdGlvbjxULCBJPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sXG4gIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPixcbiAgZm45OiBVbmFyeUZ1bmN0aW9uPEgsIEk+LFxuICAuLi5mbnM6IFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+W11cbik6IFVuYXJ5RnVuY3Rpb248VCwgdW5rbm93bj47XG5cbi8qKlxuICogcGlwZSgpIGNhbiBiZSBjYWxsZWQgb24gb25lIG9yIG1vcmUgZnVuY3Rpb25zLCBlYWNoIG9mIHdoaWNoIGNhbiB0YWtlIG9uZSBhcmd1bWVudCAoXCJVbmFyeUZ1bmN0aW9uXCIpXG4gKiBhbmQgdXNlcyBpdCB0byByZXR1cm4gYSB2YWx1ZS5cbiAqIEl0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG9uZSBhcmd1bWVudCwgcGFzc2VzIGl0IHRvIHRoZSBmaXJzdCBVbmFyeUZ1bmN0aW9uLCBhbmQgdGhlblxuICogcGFzc2VzIHRoZSByZXN1bHQgdG8gdGhlIG5leHQgb25lLCBwYXNzZXMgdGhhdCByZXN1bHQgdG8gdGhlIG5leHQgb25lLCBhbmQgc28gb24uICBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoLi4uZm5zOiBBcnJheTxVbmFyeUZ1bmN0aW9uPGFueSwgYW55Pj4pOiBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PiB7XG4gIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5PFQsIFI+KGZuczogQXJyYXk8VW5hcnlGdW5jdGlvbjxULCBSPj4pOiBVbmFyeUZ1bmN0aW9uPFQsIFI+IHtcbiAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaWRlbnRpdHkgYXMgVW5hcnlGdW5jdGlvbjxhbnksIGFueT47XG4gIH1cblxuICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmbnNbMF07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQ6IFQpOiBSIHtcbiAgICByZXR1cm4gZm5zLnJlZHVjZSgocHJldjogYW55LCBmbjogVW5hcnlGdW5jdGlvbjxULCBSPikgPT4gZm4ocHJldiksIGlucHV0IGFzIGFueSk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5cbi8qKlxuICogSGFuZGxlcyBhbiBlcnJvciBvbiBhbm90aGVyIGpvYiBlaXRoZXIgd2l0aCB0aGUgdXNlci1jb25maWd1cmVkIHtAbGluayBvblVuaGFuZGxlZEVycm9yfSxcbiAqIG9yIGJ5IHRocm93aW5nIGl0IG9uIHRoYXQgbmV3IGpvYiBzbyBpdCBjYW4gYmUgcGlja2VkIHVwIGJ5IGB3aW5kb3cub25lcnJvcmAsIGBwcm9jZXNzLm9uKCdlcnJvcicpYCwgZXRjLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB0aGVyZSBpcyBhbiBlcnJvciB0aGF0IGlzIG91dC1vZi1iYW5kIHdpdGggdGhlIHN1YnNjcmlwdGlvblxuICogb3Igd2hlbiBhbiBlcnJvciBoaXRzIGEgdGVybWluYWwgYm91bmRhcnkgb2YgdGhlIHN1YnNjcmlwdGlvbiBhbmQgbm8gZXJyb3IgaGFuZGxlciB3YXMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIGVyciB0aGUgZXJyb3IgdG8gcmVwb3J0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnI6IGFueSkge1xuICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc3QgeyBvblVuaGFuZGxlZEVycm9yIH0gPSBjb25maWc7XG4gICAgaWYgKG9uVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIC8vIEV4ZWN1dGUgdGhlIHVzZXItY29uZmlndXJlZCBlcnJvciBoYW5kbGVyLlxuICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaHJvdyBzbyBpdCBpcyBwaWNrZWQgdXAgYnkgdGhlIHJ1bnRpbWUncyB1bmNhdWdodCBlcnJvciBtZWNoYW5pc20uXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn1cbiIsIi8qKlxuICogQ3JlYXRlcyB0aGUgVHlwZUVycm9yIHRvIHRocm93IGlmIGFuIGludmFsaWQgb2JqZWN0IGlzIHBhc3NlZCB0byBgZnJvbWAgb3IgYHNjaGVkdWxlZGAuXG4gKiBAcGFyYW0gaW5wdXQgVGhlIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dDogYW55KSB7XG4gIC8vIFRPRE86IFdlIHNob3VsZCBjcmVhdGUgZXJyb3IgY29kZXMgdGhhdCBjYW4gYmUgbG9va2VkIHVwLCBzbyB0aGlzIGNhbiBiZSBsZXNzIHZlcmJvc2UuXG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFxuICAgIGBZb3UgcHJvdmlkZWQgJHtcbiAgICAgIGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogYCcke2lucHV0fSdgXG4gICAgfSB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLmBcbiAgKTtcbn1cbiIsImV4cG9ydCBjb25zdCBlbnZpcm9ubWVudCA9IHtcbiAgICBhcGlCYXNlVXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDg0J1xuICAgIC8vIGFwaUJhc2VVcmw6ICdodHRwOi8vc2VydmVyOjgwODQnXG4gICAgLy8gYXBpQmFzZVVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6ODA4NCdcbn07XG4iLCJpbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGVudmlyb25tZW50IH0gZnJvbSAnLi4vLi4vZW52aXJvbm1lbnQnO1xuaW1wb3J0IHsgZnJvbSwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5jb25zdCBodHRwID0gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBlbnZpcm9ubWVudC5hcGlCYXNlVXJsIHx8IFwiaHR0cDovL2xvY2FsaG9zdDo4MDg1XCIsXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGh0dHBHZXQodXJsOiBzdHJpbmcsIHBhcmFtczogb2JqZWN0ID0gbnVsbCk6IE9ic2VydmFibGU8QXhpb3NSZXNwb25zZT4ge1xuICAgIGh0dHAuZ2V0KHVybCwgeyBwYXJhbXMgfSkudGhlbihyZXMgPT4gY29uc29sZS5sb2cocmVzKSkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgIHJldHVybiBmcm9tKGh0dHAuZ2V0KHVybCwgeyBwYXJhbXMgfSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBodHRwO1xuIiwiaW1wb3J0IHsgaHR0cEdldCB9IGZyb20gJy4vaHR0cCc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGNvbnN0IGdldFNwZW50VG9kYXkgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1R1IG5vbWJyZSBlcyBiZWJlJyk7XG4gICAgcmV0dXJuIGh0dHBHZXQoJy9tZWFzdXJlbWVudC9tb250aCcpLnBpcGUoXG4gICAgICAgIG1hcChyZXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIH0pLFxuICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfSlcbiAgICApO1xufTtcbiIsIi8vIEF4aW9zIHYxLjIuMiBDb3B5cmlnaHQgKGMpIDIwMjIgTWF0dCBaYWJyaXNraWUgYW5kIGNvbnRyaWJ1dG9yc1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG5jb25zdCB7dG9TdHJpbmd9ID0gT2JqZWN0LnByb3RvdHlwZTtcbmNvbnN0IHtnZXRQcm90b3R5cGVPZn0gPSBPYmplY3Q7XG5cbmNvbnN0IGtpbmRPZiA9IChjYWNoZSA9PiB0aGluZyA9PiB7XG4gICAgY29uc3Qgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGtpbmRPZlRlc3QgPSAodHlwZSkgPT4ge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKHRoaW5nKSA9PiBraW5kT2YodGhpbmcpID09PSB0eXBlXG59O1xuXG5jb25zdCB0eXBlT2ZUZXN0ID0gdHlwZSA9PiB0aGluZyA9PiB0eXBlb2YgdGhpbmcgPT09IHR5cGU7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCB7aXNBcnJheX0gPSBBcnJheTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VuZGVmaW5lZCA9IHR5cGVPZlRlc3QoJ3VuZGVmaW5lZCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIGlzRnVuY3Rpb24odmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKSAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0FycmF5QnVmZmVyID0ga2luZE9mVGVzdCgnQXJyYXlCdWZmZXInKTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIGxldCByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKGlzQXJyYXlCdWZmZXIodmFsLmJ1ZmZlcikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJpbmcgPSB0eXBlT2ZUZXN0KCdzdHJpbmcnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Z1bmN0aW9uID0gdHlwZU9mVGVzdCgnZnVuY3Rpb24nKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc051bWJlciA9IHR5cGVPZlRlc3QoJ251bWJlcicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJvb2xlYW5cbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jvb2xlYW4gPSB0aGluZyA9PiB0aGluZyA9PT0gdHJ1ZSB8fCB0aGluZyA9PT0gZmFsc2U7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgaWYgKGtpbmRPZih2YWwpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKHZhbCk7XG4gIHJldHVybiAocHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKSA9PT0gbnVsbCkgJiYgIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsKSAmJiAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWwpO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgY29uc3QgcGF0dGVybiA9ICdbb2JqZWN0IEZvcm1EYXRhXSc7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fFxuICAgIHRvU3RyaW5nLmNhbGwodGhpbmcpID09PSBwYXR0ZXJuIHx8XG4gICAgKGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09IHBhdHRlcm4pXG4gICk7XG59O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuY29uc3QgdHJpbSA9IChzdHIpID0+IHN0ci50cmltID9cbiAgc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5cyA9IGZhbHNlXVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuLCB7YWxsT3duS2V5cyA9IGZhbHNlfSA9IHt9KSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGk7XG4gIGxldCBsO1xuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yIChpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBjb25zdCBrZXlzID0gYWxsT3duS2V5cyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqLCBrZXkpIHtcbiAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICBsZXQgX2tleTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBfa2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ID09PSBfa2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiBfa2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgX2dsb2JhbCA9ICgoKSA9PiB7XG4gIC8qZXNsaW50IG5vLXVuZGVmOjAqL1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBnbG9iYWxUaGlzO1xuICByZXR1cm4gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKVxufSkoKTtcblxuY29uc3QgaXNDb250ZXh0RGVmaW5lZCA9IChjb250ZXh0KSA9PiAhaXNVbmRlZmluZWQoY29udGV4dCkgJiYgY29udGV4dCAhPT0gX2dsb2JhbDtcblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKlxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICBjb25zdCB7Y2FzZWxlc3N9ID0gaXNDb250ZXh0RGVmaW5lZCh0aGlzKSAmJiB0aGlzIHx8IHt9O1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgYXNzaWduVmFsdWUgPSAodmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCB0YXJnZXRLZXkgPSBjYXNlbGVzcyAmJiBmaW5kS2V5KHJlc3VsdCwga2V5KSB8fCBrZXk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W3RhcmdldEtleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZShyZXN1bHRbdGFyZ2V0S2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9O1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGFyZ3VtZW50c1tpXSAmJiBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzXVxuICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5jb25zdCBleHRlbmQgPSAoYSwgYiwgdGhpc0FyZywge2FsbE93bktleXN9PSB7fSkgPT4ge1xuICBmb3JFYWNoKGIsICh2YWwsIGtleSkgPT4ge1xuICAgIGlmICh0aGlzQXJnICYmIGlzRnVuY3Rpb24odmFsKSkge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9LCB7YWxsT3duS2V5c30pO1xuICByZXR1cm4gYTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmNvbnN0IHN0cmlwQk9NID0gKGNvbnRlbnQpID0+IHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59O1xuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZSBvYmplY3Qgd2l0aCBkZWVwIHByb3RvdHlwZSBjaGFpbiB0byBhIGZsYXQgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlT2JqIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGVzdE9ial1cbiAqIEBwYXJhbSB7RnVuY3Rpb258Qm9vbGVhbn0gW2ZpbHRlcl1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wRmlsdGVyXVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmNvbnN0IHRvRmxhdE9iamVjdCA9IChzb3VyY2VPYmosIGRlc3RPYmosIGZpbHRlciwgcHJvcEZpbHRlcikgPT4ge1xuICBsZXQgcHJvcHM7XG4gIGxldCBpO1xuICBsZXQgcHJvcDtcbiAgY29uc3QgbWVyZ2VkID0ge307XG5cbiAgZGVzdE9iaiA9IGRlc3RPYmogfHwge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBpZiAoc291cmNlT2JqID09IG51bGwpIHJldHVybiBkZXN0T2JqO1xuXG4gIGRvIHtcbiAgICBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZU9iaik7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKCghcHJvcEZpbHRlciB8fCBwcm9wRmlsdGVyKHByb3AsIHNvdXJjZU9iaiwgZGVzdE9iaikpICYmICFtZXJnZWRbcHJvcF0pIHtcbiAgICAgICAgZGVzdE9ialtwcm9wXSA9IHNvdXJjZU9ialtwcm9wXTtcbiAgICAgICAgbWVyZ2VkW3Byb3BdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc291cmNlT2JqID0gZmlsdGVyICE9PSBmYWxzZSAmJiBnZXRQcm90b3R5cGVPZihzb3VyY2VPYmopO1xuICB9IHdoaWxlIChzb3VyY2VPYmogJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKHNvdXJjZU9iaiwgZGVzdE9iaikpICYmIHNvdXJjZU9iaiAhPT0gT2JqZWN0LnByb3RvdHlwZSk7XG5cbiAgcmV0dXJuIGRlc3RPYmo7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIHN0cmluZyBlbmRzIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYSBzcGVjaWZpZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbj0gMF1cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSA9PiB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN0ci5sZW5ndGgpIHtcbiAgICBwb3NpdGlvbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgY29uc3QgbGFzdEluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gKiBDaGVja2luZyBpZiB0aGUgVWludDhBcnJheSBleGlzdHMgYW5kIGlmIGl0IGRvZXMsIGl0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGVcbiAqIHRoaW5nIHBhc3NlZCBpbiBpcyBhbiBpbnN0YW5jZSBvZiBVaW50OEFycmF5XG4gKlxuICogQHBhcmFtIHtUeXBlZEFycmF5fVxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbmNvbnN0IGlzVHlwZWRBcnJheSA9IChUeXBlZEFycmF5ID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIHRoaW5nID0+IHtcbiAgICByZXR1cm4gVHlwZWRBcnJheSAmJiB0aGluZyBpbnN0YW5jZW9mIFR5cGVkQXJyYXk7XG4gIH07XG59KSh0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheSkpO1xuXG4vKipcbiAqIEZvciBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QsIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGtleSBhbmQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZW50cnkuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGZvckVhY2hFbnRyeSA9IChvYmosIGZuKSA9PiB7XG4gIGNvbnN0IGdlbmVyYXRvciA9IG9iaiAmJiBvYmpbU3ltYm9sLml0ZXJhdG9yXTtcblxuICBjb25zdCBpdGVyYXRvciA9IGdlbmVyYXRvci5jYWxsKG9iaik7XG5cbiAgbGV0IHJlc3VsdDtcblxuICB3aGlsZSAoKHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKSkgJiYgIXJlc3VsdC5kb25lKSB7XG4gICAgY29uc3QgcGFpciA9IHJlc3VsdC52YWx1ZTtcbiAgICBmbi5jYWxsKG9iaiwgcGFpclswXSwgcGFpclsxXSk7XG4gIH1cbn07XG5cbi8qKlxuICogSXQgdGFrZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIGEgc3RyaW5nLCBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBhbGwgdGhlIG1hdGNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnRXhwIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gc2VhcmNoLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheTxib29sZWFuPn1cbiAqL1xuY29uc3QgbWF0Y2hBbGwgPSAocmVnRXhwLCBzdHIpID0+IHtcbiAgbGV0IG1hdGNoZXM7XG4gIGNvbnN0IGFyciA9IFtdO1xuXG4gIHdoaWxlICgobWF0Y2hlcyA9IHJlZ0V4cC5leGVjKHN0cikpICE9PSBudWxsKSB7XG4gICAgYXJyLnB1c2gobWF0Y2hlcyk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufTtcblxuLyogQ2hlY2tpbmcgaWYgdGhlIGtpbmRPZlRlc3QgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4gcGFzc2VkIGFuIEhUTUxGb3JtRWxlbWVudC4gKi9cbmNvbnN0IGlzSFRNTEZvcm0gPSBraW5kT2ZUZXN0KCdIVE1MRm9ybUVsZW1lbnQnKTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW18tXFxzXShbYS16XFxkXSkoXFx3KikvZyxcbiAgICBmdW5jdGlvbiByZXBsYWNlcihtLCBwMSwgcDIpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpICsgcDI7XG4gICAgfVxuICApO1xufTtcblxuLyogQ3JlYXRpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiAqL1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSAoKHtoYXNPd25Qcm9wZXJ0eX0pID0+IChvYmosIHByb3ApID0+IGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkoT2JqZWN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1JlZ0V4cCA9IGtpbmRPZlRlc3QoJ1JlZ0V4cCcpO1xuXG5jb25zdCByZWR1Y2VEZXNjcmlwdG9ycyA9IChvYmosIHJlZHVjZXIpID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBjb25zdCByZWR1Y2VkRGVzY3JpcHRvcnMgPSB7fTtcblxuICBmb3JFYWNoKGRlc2NyaXB0b3JzLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIGlmIChyZWR1Y2VyKGRlc2NyaXB0b3IsIG5hbWUsIG9iaikgIT09IGZhbHNlKSB7XG4gICAgICByZWR1Y2VkRGVzY3JpcHRvcnNbbmFtZV0gPSBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufTtcblxuLyoqXG4gKiBNYWtlcyBhbGwgbWV0aG9kcyByZWFkLW9ubHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuXG5jb25zdCBmcmVlemVNZXRob2RzID0gKG9iaikgPT4ge1xuICByZWR1Y2VEZXNjcmlwdG9ycyhvYmosIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgLy8gc2tpcCByZXN0cmljdGVkIHByb3BzIGluIHN0cmljdCBtb2RlXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSAmJiBbJ2FyZ3VtZW50cycsICdjYWxsZXInLCAnY2FsbGVlJ10uaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybjtcblxuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCd3cml0YWJsZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiBkZWZhdWx0VmFsdWU7XG59O1xuXG5jb25zdCB0b0pTT05PYmplY3QgPSAob2JqKSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gbmV3IEFycmF5KDEwKTtcblxuICBjb25zdCB2aXNpdCA9IChzb3VyY2UsIGkpID0+IHtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBpZiAoc3RhY2suaW5kZXhPZihzb3VyY2UpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH07XG5cbiAgcmV0dXJuIHZpc2l0KG9iaiwgMCk7XG59O1xuXG52YXIgdXRpbHMgPSB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlLFxuICBpc0ZpbGUsXG4gIGlzQmxvYixcbiAgaXNSZWdFeHAsXG4gIGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0LFxuICBmb3JFYWNoLFxuICBtZXJnZSxcbiAgZXh0ZW5kLFxuICB0cmltLFxuICBzdHJpcEJPTSxcbiAgaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdCxcbiAga2luZE9mLFxuICBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aCxcbiAgdG9BcnJheSxcbiAgZm9yRWFjaEVudHJ5LFxuICBtYXRjaEFsbCxcbiAgaXNIVE1MRm9ybSxcbiAgaGFzT3duUHJvcGVydHksXG4gIGhhc093blByb3A6IGhhc093blByb3BlcnR5LCAvLyBhbiBhbGlhcyB0byBhdm9pZCBFU0xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIGRldGVjdGlvblxuICByZWR1Y2VEZXNjcmlwdG9ycyxcbiAgZnJlZXplTWV0aG9kcyxcbiAgdG9PYmplY3RTZXQsXG4gIHRvQ2FtZWxDYXNlLFxuICBub29wLFxuICB0b0Zpbml0ZU51bWJlcixcbiAgZmluZEtleSxcbiAgZ2xvYmFsOiBfZ2xvYmFsLFxuICBpc0NvbnRleHREZWZpbmVkLFxuICB0b0pTT05PYmplY3Rcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgcmVzcG9uc2UgJiYgKHRoaXMucmVzcG9uc2UgPSByZXNwb25zZSk7XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHV0aWxzLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5zdGF0dXMgPyB0aGlzLnJlc3BvbnNlLnN0YXR1cyA6IG51bGxcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlJDEgPSBBeGlvc0Vycm9yLnByb3RvdHlwZTtcbmNvbnN0IGRlc2NyaXB0b3JzID0ge307XG5cbltcbiAgJ0VSUl9CQURfT1BUSU9OX1ZBTFVFJyxcbiAgJ0VSUl9CQURfT1BUSU9OJyxcbiAgJ0VDT05OQUJPUlRFRCcsXG4gICdFVElNRURPVVQnLFxuICAnRVJSX05FVFdPUksnLFxuICAnRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUycsXG4gICdFUlJfREVQUkVDQVRFRCcsXG4gICdFUlJfQkFEX1JFU1BPTlNFJyxcbiAgJ0VSUl9CQURfUkVRVUVTVCcsXG4gICdFUlJfQ0FOQ0VMRUQnLFxuICAnRVJSX05PVF9TVVBQT1JUJyxcbiAgJ0VSUl9JTlZBTElEX1VSTCdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5dLmZvckVhY2goY29kZSA9PiB7XG4gIGRlc2NyaXB0b3JzW2NvZGVdID0ge3ZhbHVlOiBjb2RlfTtcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBeGlvc0Vycm9yLCBkZXNjcmlwdG9ycyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlJDEsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IChlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpID0+IHtcbiAgY29uc3QgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlJDEpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbnZhciBicm93c2VyID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgPyBzZWxmLkZvcm1EYXRhIDogd2luZG93LkZvcm1EYXRhO1xuXG52YXIgRm9ybURhdGEkMiA9IGJyb3dzZXI7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdGhpbmcgaXMgYSBhcnJheSBvciBqcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRoaW5nIC0gVGhlIG9iamVjdCBvciBhcnJheSB0byBiZSB2aXNpdGVkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Zpc2l0YWJsZSh0aGluZykge1xuICByZXR1cm4gdXRpbHMuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMuaXNBcnJheSh0aGluZyk7XG59XG5cbi8qKlxuICogSXQgcmVtb3ZlcyB0aGUgYnJhY2tldHMgZnJvbSB0aGUgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHBhcmFtZXRlci5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUga2V5IHdpdGhvdXQgdGhlIGJyYWNrZXRzLlxuICovXG5mdW5jdGlvbiByZW1vdmVCcmFja2V0cyhrZXkpIHtcbiAgcmV0dXJuIHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykgPyBrZXkuc2xpY2UoMCwgLTIpIDoga2V5O1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGF0aCwgYSBrZXksIGFuZCBhIGJvb2xlYW4sIGFuZCByZXR1cm5zIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgY3VycmVudCBvYmplY3QgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3RzIC0gSWYgdHJ1ZSwgdGhlIGtleSB3aWxsIGJlIHJlbmRlcmVkIHdpdGggZG90cyBpbnN0ZWFkIG9mIGJyYWNrZXRzLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cykge1xuICBpZiAoIXBhdGgpIHJldHVybiBrZXk7XG4gIHJldHVybiBwYXRoLmNvbmNhdChrZXkpLm1hcChmdW5jdGlvbiBlYWNoKHRva2VuLCBpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdG9rZW4gPSByZW1vdmVCcmFja2V0cyh0b2tlbik7XG4gICAgcmV0dXJuICFkb3RzICYmIGkgPyAnWycgKyB0b2tlbiArICddJyA6IHRva2VuO1xuICB9KS5qb2luKGRvdHMgPyAnLicgOiAnJyk7XG59XG5cbi8qKlxuICogSWYgdGhlIGFycmF5IGlzIGFuIGFycmF5IGFuZCBub25lIG9mIGl0cyBlbGVtZW50cyBhcmUgdmlzaXRhYmxlLCB0aGVuIGl0J3MgYSBmbGF0IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmxhdEFycmF5KGFycikge1xuICByZXR1cm4gdXRpbHMuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscy50b0ZsYXRPYmplY3QodXRpbHMsIHt9LCBudWxsLCBmdW5jdGlvbiBmaWx0ZXIocHJvcCkge1xuICByZXR1cm4gL15pc1tBLVpdLy50ZXN0KHByb3ApO1xufSk7XG5cbi8qKlxuICogSWYgdGhlIHRoaW5nIGlzIGEgRm9ybURhdGEgb2JqZWN0LCByZXR1cm4gdHJ1ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHRoaW5nIC0gVGhlIHRoaW5nIHRvIGNoZWNrLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NwZWNDb21wbGlhbnQodGhpbmcpIHtcbiAgcmV0dXJuIHRoaW5nICYmIHV0aWxzLmlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiB0aGluZ1tTeW1ib2wudG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl07XG59XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaXRvcl1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWV0YVRva2VucyA9IHRydWVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvdHMgPSBmYWxzZV1cbiAqIEBwYXJhbSB7P0Jvb2xlYW59IFtvcHRpb25zLmluZGV4ZXMgPSBmYWxzZV1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG4vKipcbiAqIEl0IGNvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gZm9ybSBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIC0gVGhlIEZvcm1EYXRhIG9iamVjdCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0b0Zvcm1EYXRhKG9iaiwgZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgKEZvcm1EYXRhJDIgfHwgRm9ybURhdGEpKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdGlvbnMgPSB1dGlscy50b0ZsYXRPYmplY3Qob3B0aW9ucywge1xuICAgIG1ldGFUb2tlbnM6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgaW5kZXhlczogZmFsc2VcbiAgfSwgZmFsc2UsIGZ1bmN0aW9uIGRlZmluZWQob3B0aW9uLCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICByZXR1cm4gIXV0aWxzLmlzVW5kZWZpbmVkKHNvdXJjZVtvcHRpb25dKTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0YVRva2VucyA9IG9wdGlvbnMubWV0YVRva2VucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0IHZpc2l0b3IgPSBvcHRpb25zLnZpc2l0b3IgfHwgZGVmYXVsdFZpc2l0b3I7XG4gIGNvbnN0IGRvdHMgPSBvcHRpb25zLmRvdHM7XG4gIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXM7XG4gIGNvbnN0IF9CbG9iID0gb3B0aW9ucy5CbG9iIHx8IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBCbG9iO1xuICBjb25zdCB1c2VCbG9iID0gX0Jsb2IgJiYgaXNTcGVjQ29tcGxpYW50KGZvcm1EYXRhKTtcblxuICBpZiAoIXV0aWxzLmlzRnVuY3Rpb24odmlzaXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG5cbiAgICBpZiAodXRpbHMuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscy5pc0FycmF5KHZhbHVlKSAmJiBpc0ZsYXRBcnJheSh2YWx1ZSkpIHx8XG4gICAgICAgICh1dGlscy5pc0ZpbGVMaXN0KHZhbHVlKSB8fCB1dGlscy5lbmRzV2l0aChrZXksICdbXScpICYmIChhcnIgPSB1dGlscy50b0FycmF5KHZhbHVlKSlcbiAgICAgICAgKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gcmVtb3ZlQnJhY2tldHMoa2V5KTtcblxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiBlYWNoKGVsLCBpbmRleCkge1xuICAgICAgICAgICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGluZGV4ZXMgPT09IHRydWUgPyByZW5kZXJLZXkoW2tleV0sIGluZGV4LCBkb3RzKSA6IChpbmRleGVzID09PSBudWxsID8ga2V5IDoga2V5ICsgJ1tdJyksXG4gICAgICAgICAgICBjb252ZXJ0VmFsdWUoZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNWaXNpdGFibGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3JtRGF0YS5hcHBlbmQocmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cyksIGNvbnZlcnRWYWx1ZSh2YWx1ZSkpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc3RhY2sgPSBbXTtcblxuICBjb25zdCBleHBvc2VkSGVscGVycyA9IE9iamVjdC5hc3NpZ24ocHJlZGljYXRlcywge1xuICAgIGRlZmF1bHRWaXNpdG9yLFxuICAgIGNvbnZlcnRWYWx1ZSxcbiAgICBpc1Zpc2l0YWJsZVxuICB9KTtcblxuICBmdW5jdGlvbiBidWlsZCh2YWx1ZSwgcGF0aCkge1xuICAgIGlmICh1dGlscy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcblxuICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgIHRocm93IEVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gJyArIHBhdGguam9pbignLicpKTtcbiAgICB9XG5cbiAgICBzdGFjay5wdXNoKHZhbHVlKTtcblxuICAgIHV0aWxzLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uIGVhY2goZWwsIGtleSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIHZpc2l0b3IuY2FsbChcbiAgICAgICAgZm9ybURhdGEsIGVsLCB1dGlscy5pc1N0cmluZyhrZXkpID8ga2V5LnRyaW0oKSA6IGtleSwgcGF0aCwgZXhwb3NlZEhlbHBlcnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgYnVpbGQoZWwsIHBhdGggPyBwYXRoLmNvbmNhdChrZXkpIDogW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RhY2sucG9wKCk7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRhIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuLyoqXG4gKiBJdCBlbmNvZGVzIGEgc3RyaW5nIGJ5IHJlcGxhY2luZyBhbGwgY2hhcmFjdGVycyB0aGF0IGFyZSBub3QgaW4gdGhlIHVucmVzZXJ2ZWQgc2V0IHdpdGhcbiAqIHRoZWlyIHBlcmNlbnQtZW5jb2RlZCBlcXVpdmFsZW50c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIGVuY29kZS5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZSQxKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlJDEpO1xuICB9IDogZW5jb2RlJDE7XG5cbiAgcmV0dXJuIHRoaXMuX3BhaXJzLm1hcChmdW5jdGlvbiBlYWNoKHBhaXIpIHtcbiAgICByZXR1cm4gX2VuY29kZShwYWlyWzBdKSArICc9JyArIF9lbmNvZGUocGFpclsxXSk7XG4gIH0sICcnKS5qb2luKCcmJyk7XG59O1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7P29iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykgP1xuICAgICAgcGFyYW1zLnRvU3RyaW5nKCkgOlxuICAgICAgbmV3IEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykudG9TdHJpbmcoX2VuY29kZSk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIGNvbnN0IGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG5cbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn1cblxuY2xhc3MgSW50ZXJjZXB0b3JNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gICAqL1xuICB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCwgb3B0aW9ucykge1xuICAgIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgICBmdWxmaWxsZWQsXG4gICAgICByZWplY3RlZCxcbiAgICAgIHN5bmNocm9ub3VzOiBvcHRpb25zID8gb3B0aW9ucy5zeW5jaHJvbm91cyA6IGZhbHNlLFxuICAgICAgcnVuV2hlbjogb3B0aW9ucyA/IG9wdGlvbnMucnVuV2hlbiA6IG51bGxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyY2VwdG9yIHdhcyByZW1vdmVkLCBgZmFsc2VgIG90aGVyd2lzZVxuICAgKi9cbiAgZWplY3QoaWQpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGludGVyY2VwdG9ycyBmcm9tIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gICAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZvckVhY2goZm4pIHtcbiAgICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICAgIGZuKGgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbnZhciBJbnRlcmNlcHRvck1hbmFnZXIkMSA9IEludGVyY2VwdG9yTWFuYWdlcjtcblxudmFyIHRyYW5zaXRpb25hbERlZmF1bHRzID0ge1xuICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgZm9yY2VkSlNPTlBhcnNpbmc6IHRydWUsXG4gIGNsYXJpZnlUaW1lb3V0RXJyb3I6IGZhbHNlXG59O1xuXG52YXIgVVJMU2VhcmNoUGFyYW1zJDEgPSB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyA/IFVSTFNlYXJjaFBhcmFtcyA6IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuXG52YXIgRm9ybURhdGEkMSA9IEZvcm1EYXRhO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaXNTdGFuZGFyZEJyb3dzZXJFbnYgPSAoKCkgPT4ge1xuICBsZXQgcHJvZHVjdDtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChcbiAgICAocHJvZHVjdCA9IG5hdmlnYXRvci5wcm9kdWN0KSA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgIHByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgcHJvZHVjdCA9PT0gJ05TJylcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG59KSgpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciB3ZWJXb3JrZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBBbHRob3VnaCB0aGUgYGlzU3RhbmRhcmRCcm93c2VyRW52YCBtZXRob2QgaW5kaWNhdGVzIHRoYXRcbiAqIGBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlcmAsIHRoZSBXZWJXb3JrZXIgd2lsbCBzdGlsbCBiZVxuICogZmlsdGVyZWQgb3V0IGR1ZSB0byBpdHMganVkZ21lbnQgc3RhbmRhcmRcbiAqIGB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnYC5cbiAqIFRoaXMgbGVhZHMgdG8gYSBwcm9ibGVtIHdoZW4gYXhpb3MgcG9zdCBgRm9ybURhdGFgIGluIHdlYldvcmtlclxuICovXG4gY29uc3QgaXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYgPSAoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiZcbiAgICB0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzID09PSAnZnVuY3Rpb24nXG4gICk7XG59KSgpO1xuXG5cbnZhciBwbGF0Zm9ybSA9IHtcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBjbGFzc2VzOiB7XG4gICAgVVJMU2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMkMSxcbiAgICBGb3JtRGF0YTogRm9ybURhdGEkMSxcbiAgICBCbG9iXG4gIH0sXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBpc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScsICdibG9iJywgJ3VybCcsICdkYXRhJ11cbn07XG5cbmZ1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9Gb3JtRGF0YShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgdmlzaXRvcjogZnVuY3Rpb24odmFsdWUsIGtleSwgcGF0aCwgaGVscGVycykge1xuICAgICAgaWYgKHBsYXRmb3JtLmlzTm9kZSAmJiB1dGlscy5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoZWxwZXJzLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCBvcHRpb25zKSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzLm1hdGNoQWxsKC9cXHcrfFxcWyhcXHcqKV0vZywgbmFtZSkubWFwKG1hdGNoID0+IHtcbiAgICByZXR1cm4gbWF0Y2hbMF0gPT09ICdbXScgPyAnJyA6IG1hdGNoWzFdIHx8IG1hdGNoWzBdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFycmF5IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjb252ZXJ0IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFuZCB2YWx1ZXMgYXMgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFycik7XG4gIGxldCBpO1xuICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgbGV0IGtleTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBvYmpba2V5XSA9IGFycltrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBGb3JtRGF0YSBvYmplY3QgYW5kIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGNvbnZlcnQgdG8gSlNPTi5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgYW55PiB8IG51bGx9IFRoZSBjb252ZXJ0ZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihmb3JtRGF0YSkge1xuICBmdW5jdGlvbiBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldCwgaW5kZXgpIHtcbiAgICBsZXQgbmFtZSA9IHBhdGhbaW5kZXgrK107XG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gTnVtYmVyLmlzRmluaXRlKCtuYW1lKTtcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA+PSBwYXRoLmxlbmd0aDtcbiAgICBuYW1lID0gIW5hbWUgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMuaXNPYmplY3QodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXRbbmFtZV0sIGluZGV4KTtcblxuICAgIGlmIChyZXN1bHQgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMuaXNGdW5jdGlvbihmb3JtRGF0YS5lbnRyaWVzKSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbn07XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcsIHRyaWVzIHRvIHBhcnNlIGl0LCBhbmQgaWYgaXQgZmFpbHMsIGl0IHJldHVybnMgdGhlIHN0cmluZ2lmaWVkIHZlcnNpb25cbiAqIG9mIHRoZSBpbnB1dFxuICpcbiAqIEBwYXJhbSB7YW55fSByYXdWYWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBzdHJpbmdpZmllZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhcnNlciAtIEEgZnVuY3Rpb24gdGhhdCBwYXJzZXMgYSBzdHJpbmcgaW50byBhIEphdmFTY3JpcHQgb2JqZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZW5jb2RlciAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHZhbHVlIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5naWZpZWQgdmVyc2lvbiBvZiB0aGUgcmF3VmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVNhZmVseShyYXdWYWx1ZSwgcGFyc2VyLCBlbmNvZGVyKSB7XG4gIGlmICh1dGlscy5pc1N0cmluZyhyYXdWYWx1ZSkpIHtcbiAgICB0cnkge1xuICAgICAgKHBhcnNlciB8fCBKU09OLnBhcnNlKShyYXdWYWx1ZSk7XG4gICAgICByZXR1cm4gdXRpbHMudHJpbShyYXdWYWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSAhPT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoZW5jb2RlciB8fCBKU09OLnN0cmluZ2lmeSkocmF3VmFsdWUpO1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHRyYW5zaXRpb25hbERlZmF1bHRzLFxuXG4gIGFkYXB0ZXI6IFsneGhyJywgJ2h0dHAnXSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSBoZWFkZXJzLmdldENvbnRlbnRUeXBlKCkgfHwgJyc7XG4gICAgY29uc3QgaGFzSlNPTkNvbnRlbnRUeXBlID0gY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24vanNvbicpID4gLTE7XG4gICAgY29uc3QgaXNPYmplY3RQYXlsb2FkID0gdXRpbHMuaXNPYmplY3QoZGF0YSk7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkICYmIHV0aWxzLmlzSFRNTEZvcm0oZGF0YSkpIHtcbiAgICAgIGRhdGEgPSBuZXcgRm9ybURhdGEoZGF0YSk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNGb3JtRGF0YSA9IHV0aWxzLmlzRm9ybURhdGEoZGF0YSk7XG5cbiAgICBpZiAoaXNGb3JtRGF0YSkge1xuICAgICAgaWYgKCFoYXNKU09OQ29udGVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxudmFyIGRlZmF1bHRzJDEgPSBkZWZhdWx0cztcblxuLy8gUmF3QXhpb3NIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuY29uc3QgaWdub3JlRHVwbGljYXRlT2YgPSB1dGlscy50b09iamVjdFNldChbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXSk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG52YXIgcGFyc2VIZWFkZXJzID0gcmF3SGVhZGVycyA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuICBsZXQga2V5O1xuICBsZXQgdmFsO1xuICBsZXQgaTtcblxuICByYXdIZWFkZXJzICYmIHJhd0hlYWRlcnMuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gbGluZS5zdWJzdHJpbmcoaSArIDEpLnRyaW0oKTtcblxuICAgIGlmICgha2V5IHx8IChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZltrZXldKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgaWYgKHBhcnNlZFtrZXldKSB7XG4gICAgICAgIHBhcnNlZFtrZXldLnB1c2godmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gW3ZhbF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRIZWFkZXJOYW1lKHN0cikge1xuICByZXR1cm4gL15bLV9hLXpBLVpdKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyKSB7XG4gIGlmICh1dGlscy5pc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcywgdmFsdWUsIGhlYWRlcik7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuO1xuXG4gIGlmICh1dGlscy5pc1N0cmluZyhmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmluZGV4T2YoZmlsdGVyKSAhPT0gLTE7XG4gIH1cblxuICBpZiAodXRpbHMuaXNSZWdFeHAoZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIudGVzdCh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0SGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyLnRyaW0oKVxuICAgIC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XFxkXSkoXFx3KikvZywgKHcsIGNoYXIsIHN0cikgPT4ge1xuICAgICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKSArIHN0cjtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRBY2Nlc3NvcnMob2JqLCBoZWFkZXIpIHtcbiAgY29uc3QgYWNjZXNzb3JOYW1lID0gdXRpbHMudG9DYW1lbENhc2UoJyAnICsgaGVhZGVyKTtcblxuICBbJ2dldCcsICdzZXQnLCAnaGFzJ10uZm9yRWFjaChtZXRob2ROYW1lID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBtZXRob2ROYW1lICsgYWNjZXNzb3JOYW1lLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICByZXR1cm4gdGhpc1ttZXRob2ROYW1lXS5jYWxsKHRoaXMsIGhlYWRlciwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5jbGFzcyBBeGlvc0hlYWRlcnMge1xuICBjb25zdHJ1Y3RvcihoZWFkZXJzKSB7XG4gICAgaGVhZGVycyAmJiB0aGlzLnNldChoZWFkZXJzKTtcbiAgfVxuXG4gIHNldChoZWFkZXIsIHZhbHVlT3JSZXdyaXRlLCByZXdyaXRlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFsSGVhZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGVhZGVyIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBsSGVhZGVyKTtcblxuICAgICAgaWYoIWtleSB8fCBzZWxmW2tleV0gPT09IHVuZGVmaW5lZCB8fCBfcmV3cml0ZSA9PT0gdHJ1ZSB8fCAoX3Jld3JpdGUgPT09IHVuZGVmaW5lZCAmJiBzZWxmW2tleV0gIT09IGZhbHNlKSkge1xuICAgICAgICBzZWxmW2tleSB8fCBfaGVhZGVyXSA9IG5vcm1hbGl6ZVZhbHVlKF92YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0SGVhZGVycyA9IChoZWFkZXJzLCBfcmV3cml0ZSkgPT5cbiAgICAgIHV0aWxzLmZvckVhY2goaGVhZGVycywgKF92YWx1ZSwgX2hlYWRlcikgPT4gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpKTtcblxuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KGhlYWRlcikgfHwgaGVhZGVyIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgc2V0SGVhZGVycyhoZWFkZXIsIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2UgaWYodXRpbHMuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2godGhpcy5kZWxldGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50J10pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycy5wcm90b3R5cGUpO1xudXRpbHMuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO1xuXG52YXIgQXhpb3NIZWFkZXJzJDEgPSBBeGlvc0hlYWRlcnM7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7P09iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShmbnMsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHRoaXMgfHwgZGVmYXVsdHMkMTtcbiAgY29uc3QgY29udGV4dCA9IHJlc3BvbnNlIHx8IGNvbmZpZztcbiAgY29uc3QgaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdD19IHJlcXVlc3QgVGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge0NhbmNlbGVkRXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/ICdjYW5jZWxlZCcgOiBtZXNzYWdlLCBBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCwgY29uZmlnLCByZXF1ZXN0KTtcbiAgdGhpcy5uYW1lID0gJ0NhbmNlbGVkRXJyb3InO1xufVxuXG51dGlscy5pbmhlcml0cyhDYW5jZWxlZEVycm9yLCBBeGlvc0Vycm9yLCB7XG4gIF9fQ0FOQ0VMX186IHRydWVcbn0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG52YXIgaHR0cEFkYXB0ZXIgPSBudWxsO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG5cbnZhciBjb29raWVzID0gcGxhdGZvcm0uaXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4vLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICBjb25zdCBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbi8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBmdWxsIHBhdGhcbiAqL1xuZnVuY3Rpb24gYnVpbGRGdWxsUGF0aChiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpIHtcbiAgaWYgKGJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwocmVxdWVzdGVkVVJMKSkge1xuICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0ZWRVUkw7XG59XG5cbnZhciBpc1VSTFNhbWVPcmlnaW4gPSBwbGF0Zm9ybS5pc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbi8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgY29uc3QgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgY29uc3QgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGV0IG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICBsZXQgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKTtcblxuZnVuY3Rpb24gcGFyc2VQcm90b2NvbCh1cmwpIHtcbiAgY29uc3QgbWF0Y2ggPSAvXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyh1cmwpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJyc7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGxpc3RlbmVyLCBpc0Rvd25sb2FkU3RyZWFtKSB7XG4gIGxldCBieXRlc05vdGlmaWVkID0gMDtcbiAgY29uc3QgX3NwZWVkb21ldGVyID0gc3BlZWRvbWV0ZXIoNTAsIDI1MCk7XG5cbiAgcmV0dXJuIGUgPT4ge1xuICAgIGNvbnN0IGxvYWRlZCA9IGUubG9hZGVkO1xuICAgIGNvbnN0IHRvdGFsID0gZS5sZW5ndGhDb21wdXRhYmxlID8gZS50b3RhbCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcm9ncmVzc0J5dGVzID0gbG9hZGVkIC0gYnl0ZXNOb3RpZmllZDtcbiAgICBjb25zdCByYXRlID0gX3NwZWVkb21ldGVyKHByb2dyZXNzQnl0ZXMpO1xuICAgIGNvbnN0IGluUmFuZ2UgPSBsb2FkZWQgPD0gdG90YWw7XG5cbiAgICBieXRlc05vdGlmaWVkID0gbG9hZGVkO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGxvYWRlZCxcbiAgICAgIHRvdGFsLFxuICAgICAgcHJvZ3Jlc3M6IHRvdGFsID8gKGxvYWRlZCAvIHRvdGFsKSA6IHVuZGVmaW5lZCxcbiAgICAgIGJ5dGVzOiBwcm9ncmVzc0J5dGVzLFxuICAgICAgcmF0ZTogcmF0ZSA/IHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBlc3RpbWF0ZWQ6IHJhdGUgJiYgdG90YWwgJiYgaW5SYW5nZSA/ICh0b3RhbCAtIGxvYWRlZCkgLyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXZlbnQ6IGVcbiAgICB9O1xuXG4gICAgZGF0YVtpc0Rvd25sb2FkU3RyZWFtID8gJ2Rvd25sb2FkJyA6ICd1cGxvYWQnXSA9IHRydWU7XG5cbiAgICBsaXN0ZW5lcihkYXRhKTtcbiAgfTtcbn1cblxuY29uc3QgaXNYSFJBZGFwdGVyU3VwcG9ydGVkID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJztcblxudmFyIHhockFkYXB0ZXIgPSBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgJiYgZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShjb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgY29uc3QgcmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICBsZXQgb25DYW5jZWxlZDtcbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgICBjb25maWcuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkgJiYgKHBsYXRmb3JtLmlzU3RhbmRhcmRCcm93c2VyRW52IHx8IHBsYXRmb3JtLmlzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSkge1xuICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUoZmFsc2UpOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICBjb25zdCBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkID8gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGNvbmZpZy5hdXRoLnBhc3N3b3JkKSkgOiAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIGZ1bmN0aW9uIG9ubG9hZGVuZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICBsZXQgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IGNvbmZpZy50cmFuc2l0aW9uYWwgfHwgdHJhbnNpdGlvbmFsRGVmYXVsdHM7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAocGxhdGZvcm0uaXNTdGFuZGFyZEJyb3dzZXJFbnYpIHtcbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgY29uc3QgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSlcbiAgICAgICAgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzLnNldChjb25maWcueHNyZkhlYWRlck5hbWUsIHhzcmZWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFjb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MsIHRydWUpKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuIHx8IGNvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4gJiYgY29uZmlnLmNhbmNlbFRva2VuLnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IGNvbmZpZy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woZnVsbFBhdGgpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIHBsYXRmb3JtLnByb3RvY29scy5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhIHx8IG51bGwpO1xuICB9KTtcbn07XG5cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXJcbn07XG5cbnV0aWxzLmZvckVhY2goa25vd25BZGFwdGVycywgKGZuLCB2YWx1ZSkgPT4ge1xuICBpZihmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywge3ZhbHVlfSk7XG4gIH1cbn0pO1xuXG52YXIgYWRhcHRlcnMgPSB7XG4gIGdldEFkYXB0ZXI6IChhZGFwdGVycykgPT4ge1xuICAgIGFkYXB0ZXJzID0gdXRpbHMuaXNBcnJheShhZGFwdGVycykgPyBhZGFwdGVycyA6IFthZGFwdGVyc107XG5cbiAgICBjb25zdCB7bGVuZ3RofSA9IGFkYXB0ZXJzO1xuICAgIGxldCBuYW1lT3JBZGFwdGVyO1xuICAgIGxldCBhZGFwdGVyO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgaWYoKGFkYXB0ZXIgPSB1dGlscy5pc1N0cmluZyhuYW1lT3JBZGFwdGVyKSA/IGtub3duQWRhcHRlcnNbbmFtZU9yQWRhcHRlci50b0xvd2VyQ2FzZSgpXSA6IG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuICAgICAgaWYgKGFkYXB0ZXIgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICAgIGBBZGFwdGVyICR7bmFtZU9yQWRhcHRlcn0gaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnRgLFxuICAgICAgICAgICdFUlJfTk9UX1NVUFBPUlQnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgdXRpbHMuaGFzT3duUHJvcChrbm93bkFkYXB0ZXJzLCBuYW1lT3JBZGFwdGVyKSA/XG4gICAgICAgICAgYEFkYXB0ZXIgJyR7bmFtZU9yQWRhcHRlcn0nIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkYCA6XG4gICAgICAgICAgYFVua25vd24gYWRhcHRlciAnJHtuYW1lT3JBZGFwdGVyfSdgXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghdXRpbHMuaXNGdW5jdGlvbihhZGFwdGVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYWRhcHRlciBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHJldHVybiBhZGFwdGVyO1xuICB9LFxuICBhZGFwdGVyczoga25vd25BZGFwdGVyc1xufTtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxuXG4gIGlmIChjb25maWcuc2lnbmFsICYmIGNvbmZpZy5zaWduYWwuYWJvcnRlZCkge1xuICAgIHRocm93IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5mdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oY29uZmlnLmhlYWRlcnMpO1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgY29uZmlnLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgaWYgKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXS5pbmRleE9mKGNvbmZpZy5tZXRob2QpICE9PSAtMSkge1xuICAgIGNvbmZpZy5oZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBhZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcihjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cyQxLmFkYXB0ZXIpO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgY29uZmlnLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20ocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShyZWFzb24ucmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufVxuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzJDEgPyB0aGluZy50b0pTT04oKSA6IHRoaW5nO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICBjb25zdCBjb25maWcgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRNZXJnZWRWYWx1ZSh0YXJnZXQsIHNvdXJjZSwgY2FzZWxlc3MpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlLmNhbGwoe2Nhc2VsZXNzfSwgdGFyZ2V0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKGEsIGIsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSwgY2FzZWxlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoYSwgYiwgcHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWVyZ2VNYXAgPSB7XG4gICAgdXJsOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIG1ldGhvZDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBkYXRhOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGJhc2VVUkw6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBwYXJhbXNTZXJpYWxpemVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dE1lc3NhZ2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aENyZWRlbnRpYWxzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGFkYXB0ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VUeXBlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZDb29raWVOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZIZWFkZXJOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGRlY29tcHJlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Q29udGVudExlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhCb2R5TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGJlZm9yZVJlZGlyZWN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zcG9ydDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cHNBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBjYW5jZWxUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBzb2NrZXRQYXRoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlRW5jb2Rpbmc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdmFsaWRhdGVTdGF0dXM6IG1lcmdlRGlyZWN0S2V5cyxcbiAgICBoZWFkZXJzOiAoYSwgYikgPT4gbWVyZ2VEZWVwUHJvcGVydGllcyhoZWFkZXJzVG9PYmplY3QoYSksIGhlYWRlcnNUb09iamVjdChiKSwgdHJ1ZSlcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKGNvbmZpZzEpLmNvbmNhdChPYmplY3Qua2V5cyhjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBtZXJnZU1hcFtwcm9wXSB8fCBtZXJnZURlZXBQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gbWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSwgcHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuXG5jb25zdCBWRVJTSU9OID0gXCIxLjIuMlwiO1xuXG5jb25zdCB2YWxpZGF0b3JzJDEgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKCh0eXBlLCBpKSA9PiB7XG4gIHZhbGlkYXRvcnMkMVt0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzJDEudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlbWFcbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGFsbG93VW5rbm93blxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgY29uc3Qgb3B0ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdGlvbnMpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT04pO1xuICAgIH1cbiAgfVxufVxuXG52YXIgdmFsaWRhdG9yID0ge1xuICBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzOiB2YWxpZGF0b3JzJDFcbn07XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIkMSgpLFxuICAgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIkMSgpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBjb25maWdPclVybCBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gICAqIEBwYXJhbSB7P09iamVjdH0gY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAgICovXG4gIHJlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhwYXJhbXNTZXJpYWxpemVyLCB7XG4gICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgc2VyaWFsaXplOiB2YWxpZGF0b3JzLmZ1bmN0aW9uXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIGxldCBjb250ZXh0SGVhZGVycztcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGNvbnRleHRIZWFkZXJzID0gaGVhZGVycyAmJiB1dGlscy5tZXJnZShcbiAgICAgIGhlYWRlcnMuY29tbW9uLFxuICAgICAgaGVhZGVyc1tjb25maWcubWV0aG9kXVxuICAgICk7XG5cbiAgICBjb250ZXh0SGVhZGVycyAmJiB1dGlscy5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuY29uY2F0KGNvbnRleHRIZWFkZXJzLCBoZWFkZXJzKTtcblxuICAgIC8vIGZpbHRlciBvdXQgc2tpcHBlZCBpbnRlcmNlcHRvcnNcbiAgICBjb25zdCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIGxldCBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSB0cnVlO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvci5ydW5XaGVuID09PSAnZnVuY3Rpb24nICYmIGludGVyY2VwdG9yLnJ1bldoZW4oY29uZmlnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgJiYgaW50ZXJjZXB0b3Iuc3luY2hyb25vdXM7XG5cbiAgICAgIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBsZXQgcHJvbWlzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGxlbjtcblxuICAgIGlmICghc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzKSB7XG4gICAgICBjb25zdCBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QuYmluZCh0aGlzKSwgdW5kZWZpbmVkXTtcbiAgICAgIGNoYWluLnVuc2hpZnQuYXBwbHkoY2hhaW4sIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGNoYWluLnB1c2guYXBwbHkoY2hhaW4sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBsZW4gPSBjaGFpbi5sZW5ndGg7XG5cbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbltpKytdLCBjaGFpbltpKytdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgbGVuID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgbGV0IG5ld0NvbmZpZyA9IGNvbmZpZztcblxuICAgIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGNvbnN0IG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3Q29uZmlnID0gb25GdWxmaWxsZWQobmV3Q29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG9uUmVqZWN0ZWQuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0LmNhbGwodGhpcywgbmV3Q29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpID0gMDtcbiAgICBsZW4gPSByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVyaShjb25maWcpIHtcbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG4gICAgcmV0dXJuIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG4gIH1cbn1cblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2QsXG4gICAgICB1cmwsXG4gICAgICBkYXRhOiAoY29uZmlnIHx8IHt9KS5kYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVIVFRQTWV0aG9kKGlzRm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBodHRwTWV0aG9kKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IGlzRm9ybSA/IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgdXJsLFxuICAgICAgICBkYXRhXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfVxuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZ2VuZXJhdGVIVFRQTWV0aG9kKCk7XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZCArICdGb3JtJ10gPSBnZW5lcmF0ZUhUVFBNZXRob2QodHJ1ZSk7XG59KTtcblxudmFyIEF4aW9zJDEgPSBBeGlvcztcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsVG9rZW59XG4gKi9cbmNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICAgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICAgKi9cbiAgc3RhdGljIHNvdXJjZSgpIHtcbiAgICBsZXQgY2FuY2VsO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICAgIGNhbmNlbCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2FuY2VsXG4gICAgfTtcbiAgfVxufVxuXG52YXIgQ2FuY2VsVG9rZW4kMSA9IENhbmNlbFRva2VuO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zXG4gKlxuICogQHBhcmFtIHsqfSBwYXlsb2FkIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59XG5cbmNvbnN0IEh0dHBTdGF0dXNDb2RlID0ge1xuICBDb250aW51ZTogMTAwLFxuICBTd2l0Y2hpbmdQcm90b2NvbHM6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBFYXJseUhpbnRzOiAxMDMsXG4gIE9rOiAyMDAsXG4gIENyZWF0ZWQ6IDIwMSxcbiAgQWNjZXB0ZWQ6IDIwMixcbiAgTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOiAyMDMsXG4gIE5vQ29udGVudDogMjA0LFxuICBSZXNldENvbnRlbnQ6IDIwNSxcbiAgUGFydGlhbENvbnRlbnQ6IDIwNixcbiAgTXVsdGlTdGF0dXM6IDIwNyxcbiAgQWxyZWFkeVJlcG9ydGVkOiAyMDgsXG4gIEltVXNlZDogMjI2LFxuICBNdWx0aXBsZUNob2ljZXM6IDMwMCxcbiAgTW92ZWRQZXJtYW5lbnRseTogMzAxLFxuICBGb3VuZDogMzAyLFxuICBTZWVPdGhlcjogMzAzLFxuICBOb3RNb2RpZmllZDogMzA0LFxuICBVc2VQcm94eTogMzA1LFxuICBVbnVzZWQ6IDMwNixcbiAgVGVtcG9yYXJ5UmVkaXJlY3Q6IDMwNyxcbiAgUGVybWFuZW50UmVkaXJlY3Q6IDMwOCxcbiAgQmFkUmVxdWVzdDogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgUGF5bWVudFJlcXVpcmVkOiA0MDIsXG4gIEZvcmJpZGRlbjogNDAzLFxuICBOb3RGb3VuZDogNDA0LFxuICBNZXRob2ROb3RBbGxvd2VkOiA0MDUsXG4gIE5vdEFjY2VwdGFibGU6IDQwNixcbiAgUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA0MDcsXG4gIFJlcXVlc3RUaW1lb3V0OiA0MDgsXG4gIENvbmZsaWN0OiA0MDksXG4gIEdvbmU6IDQxMCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IDQxMSxcbiAgUHJlY29uZGl0aW9uRmFpbGVkOiA0MTIsXG4gIFBheWxvYWRUb29MYXJnZTogNDEzLFxuICBVcmlUb29Mb25nOiA0MTQsXG4gIFVuc3VwcG9ydGVkTWVkaWFUeXBlOiA0MTUsXG4gIFJhbmdlTm90U2F0aXNmaWFibGU6IDQxNixcbiAgRXhwZWN0YXRpb25GYWlsZWQ6IDQxNyxcbiAgSW1BVGVhcG90OiA0MTgsXG4gIE1pc2RpcmVjdGVkUmVxdWVzdDogNDIxLFxuICBVbnByb2Nlc3NhYmxlRW50aXR5OiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBGYWlsZWREZXBlbmRlbmN5OiA0MjQsXG4gIFRvb0Vhcmx5OiA0MjUsXG4gIFVwZ3JhZGVSZXF1aXJlZDogNDI2LFxuICBQcmVjb25kaXRpb25SZXF1aXJlZDogNDI4LFxuICBUb29NYW55UmVxdWVzdHM6IDQyOSxcbiAgUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOiA0MzEsXG4gIFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOiA0NTEsXG4gIEludGVybmFsU2VydmVyRXJyb3I6IDUwMCxcbiAgTm90SW1wbGVtZW50ZWQ6IDUwMSxcbiAgQmFkR2F0ZXdheTogNTAyLFxuICBTZXJ2aWNlVW5hdmFpbGFibGU6IDUwMyxcbiAgR2F0ZXdheVRpbWVvdXQ6IDUwNCxcbiAgSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6IDUwNSxcbiAgVmFyaWFudEFsc29OZWdvdGlhdGVzOiA1MDYsXG4gIEluc3VmZmljaWVudFN0b3JhZ2U6IDUwNyxcbiAgTG9vcERldGVjdGVkOiA1MDgsXG4gIE5vdEV4dGVuZGVkOiA1MTAsXG4gIE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA1MTEsXG59O1xuXG5PYmplY3QuZW50cmllcyhIdHRwU3RhdHVzQ29kZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gIEh0dHBTdGF0dXNDb2RlW3ZhbHVlXSA9IGtleTtcbn0pO1xuXG52YXIgSHR0cFN0YXR1c0NvZGUkMSA9IEh0dHBTdGF0dXNDb2RlO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MkMShkZWZhdWx0Q29uZmlnKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBiaW5kKEF4aW9zJDEucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MkMS5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzJDEpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3MkMTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gQ2FuY2VsZWRFcnJvcjtcbmF4aW9zLkNhbmNlbFRva2VuID0gQ2FuY2VsVG9rZW4kMTtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMTtcblxuYXhpb3MuZm9ybVRvSlNPTiA9IHRoaW5nID0+IGZvcm1EYXRhVG9KU09OKHV0aWxzLmlzSFRNTEZvcm0odGhpbmcpID8gbmV3IEZvcm1EYXRhKHRoaW5nKSA6IHRoaW5nKTtcblxuYXhpb3MuSHR0cFN0YXR1c0NvZGUgPSBIdHRwU3RhdHVzQ29kZSQxO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1heGlvcy5janMubWFwXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gSW1wb3J0cyByZXF1aXJlZCBmb3Igd2VicGFjayB0byBkZXRlY3QgY2hhbmdlcyBhbmQgZ2VuZXJhdGUgaHRtbC9jc3MgZmlsZXNcbmltcG9ydCAnLi4vc3R5bGVzL3N0eWxlcy5zY3NzJzsgaW1wb3J0ICcuLi9pbmRleC5odG1sJztcblxuaW1wb3J0IHsgZ2V0U3BlbnRUb2RheSB9IGZyb20gJy4vc2VydmljZS9tZWFzdXJlbWVudC5zZXJ2aWNlJztcblxuY29uc3Qgc3RhdGUgPSB7XG4gICAgdG9kYXk6IG51bGxcbn07XG5cbmZ1bmN0aW9uIGZldGNoRGF0YSgpIHtcbiAgICBnZXRTcGVudFRvZGF5KCkuc3Vic2NyaWJlKG1lYXN1cmVtZW50ID0+IHVwZGF0ZVN0YXRlKG1lYXN1cmVtZW50KSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVN0YXRlKG1lYXN1cmVtZW50KSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVudC10b2RheScpO1xuXG4gICAgc3RhdGUudG9kYXkgPSBtZWFzdXJlbWVudC5wb3dlckNvbnN1bWVkWzBdO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc3RhdGUudG9kYXkuY29zdDtcblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBmaXJzdFRpbWVTZXR0aW5ncygpIHtcbiAgICBjb25zdCBuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJuYW1lXCIpO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG5hbWUpXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRpbmctdGl0bGUnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGl0bGUuaW5uZXJIVE1MID0gYEhpICR7bmFtZX1gO1xuICAgICAgICByZXR1cm47XG5cbiAgICB9XG5cbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5ncy1tb2RhbCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hlYWRpbmcnKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICBoZWFkaW5nLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcblxuICAgIGZvciAoY29uc3QgZWwgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKSkge1xuICAgICAgICAoZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9XG5cbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtYnV0dG9uJyk7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtbmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICBpZiAobmFtZSAmJiBuYW1lICE9PSAnJykgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJuYW1lXCIsIG5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGRheSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtZGF5JykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgIGlmIChkYXkgJiYgZGF5ICE9PSAnJykgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXlcIiwgZGF5KTtcblxuICAgICAgICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGVhZGluZycpWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBoZWFkaW5nLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG5cbiAgICAgICAgZm9yIChjb25zdCBlbCBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZCcpKSB7XG4gICAgICAgICAgICAoZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5ncy1tb2RhbCcpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuXG59XG5cbmZpcnN0VGltZVNldHRpbmdzKCk7XG5cbmZldGNoRGF0YSgpO1xuc2V0SW50ZXJ2YWwoZmV0Y2hEYXRhLCA2MDAwMCk7XG4iXSwibmFtZXMiOlsiT2JzZXJ2YWJsZSIsIkNvbm5lY3RhYmxlT2JzZXJ2YWJsZSIsIm9ic2VydmFibGUiLCJhbmltYXRpb25GcmFtZXMiLCJTdWJqZWN0IiwiQmVoYXZpb3JTdWJqZWN0IiwiUmVwbGF5U3ViamVjdCIsIkFzeW5jU3ViamVjdCIsImFzYXAiLCJhc2FwU2NoZWR1bGVyIiwiYXN5bmMiLCJhc3luY1NjaGVkdWxlciIsInF1ZXVlIiwicXVldWVTY2hlZHVsZXIiLCJhbmltYXRpb25GcmFtZSIsImFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIiwiVmlydHVhbFRpbWVTY2hlZHVsZXIiLCJWaXJ0dWFsQWN0aW9uIiwiU2NoZWR1bGVyIiwiU3Vic2NyaXB0aW9uIiwiU3Vic2NyaWJlciIsIk5vdGlmaWNhdGlvbiIsIk5vdGlmaWNhdGlvbktpbmQiLCJwaXBlIiwibm9vcCIsImlkZW50aXR5IiwiaXNPYnNlcnZhYmxlIiwibGFzdFZhbHVlRnJvbSIsImZpcnN0VmFsdWVGcm9tIiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IiLCJFbXB0eUVycm9yIiwiTm90Rm91bmRFcnJvciIsIk9iamVjdCIsIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwiU2VxdWVuY2VFcnJvciIsIlRpbWVvdXRFcnJvciIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJiaW5kQ2FsbGJhY2siLCJiaW5kTm9kZUNhbGxiYWNrIiwiY29tYmluZUxhdGVzdCIsImNvbmNhdCIsImNvbm5lY3RhYmxlIiwiZGVmZXIiLCJlbXB0eSIsImZvcmtKb2luIiwiZnJvbSIsImZyb21FdmVudCIsImZyb21FdmVudFBhdHRlcm4iLCJnZW5lcmF0ZSIsImlpZiIsImludGVydmFsIiwibWVyZ2UiLCJuZXZlciIsIm9mIiwib25FcnJvclJlc3VtZU5leHQiLCJwYWlycyIsInBhcnRpdGlvbiIsInJhY2UiLCJyYW5nZSIsInRocm93RXJyb3IiLCJ0aW1lciIsInVzaW5nIiwiemlwIiwic2NoZWR1bGVkIiwiRU1QVFkiLCJORVZFUiIsImNvbmZpZyIsImF1ZGl0IiwiYXVkaXRUaW1lIiwiYnVmZmVyIiwiYnVmZmVyQ291bnQiLCJidWZmZXJUaW1lIiwiYnVmZmVyVG9nZ2xlIiwiYnVmZmVyV2hlbiIsImNhdGNoRXJyb3IiLCJjb21iaW5lQWxsIiwiY29tYmluZUxhdGVzdEFsbCIsImNvbWJpbmVMYXRlc3RXaXRoIiwiY29uY2F0QWxsIiwiY29uY2F0TWFwIiwiY29uY2F0TWFwVG8iLCJjb25jYXRXaXRoIiwiY29ubmVjdCIsImNvdW50IiwiZGVib3VuY2UiLCJkZWJvdW5jZVRpbWUiLCJkZWZhdWx0SWZFbXB0eSIsImRlbGF5IiwiZGVsYXlXaGVuIiwiZGVtYXRlcmlhbGl6ZSIsImRpc3RpbmN0IiwiZGlzdGluY3RVbnRpbENoYW5nZWQiLCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCIsImVsZW1lbnRBdCIsImVuZFdpdGgiLCJldmVyeSIsImV4aGF1c3QiLCJleGhhdXN0QWxsIiwiZXhoYXVzdE1hcCIsImV4cGFuZCIsImZpbHRlciIsImZpbmFsaXplIiwiZmluZCIsImZpbmRJbmRleCIsImZpcnN0IiwiZ3JvdXBCeSIsImlnbm9yZUVsZW1lbnRzIiwiaXNFbXB0eSIsImxhc3QiLCJtYXAiLCJtYXBUbyIsIm1hdGVyaWFsaXplIiwibWF4IiwibWVyZ2VBbGwiLCJmbGF0TWFwIiwibWVyZ2VNYXAiLCJtZXJnZU1hcFRvIiwibWVyZ2VTY2FuIiwibWVyZ2VXaXRoIiwibWluIiwibXVsdGljYXN0Iiwib2JzZXJ2ZU9uIiwib25FcnJvclJlc3VtZU5leHRXaXRoIiwicGFpcndpc2UiLCJwbHVjayIsInB1Ymxpc2giLCJwdWJsaXNoQmVoYXZpb3IiLCJwdWJsaXNoTGFzdCIsInB1Ymxpc2hSZXBsYXkiLCJyYWNlV2l0aCIsInJlZHVjZSIsInJlcGVhdCIsInJlcGVhdFdoZW4iLCJyZXRyeSIsInJldHJ5V2hlbiIsInJlZkNvdW50Iiwic2FtcGxlIiwic2FtcGxlVGltZSIsInNjYW4iLCJzZXF1ZW5jZUVxdWFsIiwic2hhcmUiLCJzaGFyZVJlcGxheSIsInNpbmdsZSIsInNraXAiLCJza2lwTGFzdCIsInNraXBVbnRpbCIsInNraXBXaGlsZSIsInN0YXJ0V2l0aCIsInN1YnNjcmliZU9uIiwic3dpdGNoQWxsIiwic3dpdGNoTWFwIiwic3dpdGNoTWFwVG8iLCJzd2l0Y2hTY2FuIiwidGFrZSIsInRha2VMYXN0IiwidGFrZVVudGlsIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0aHJvdHRsZVRpbWUiLCJ0aHJvd0lmRW1wdHkiLCJ0aW1lSW50ZXJ2YWwiLCJ0aW1lb3V0IiwidGltZW91dFdpdGgiLCJ0aW1lc3RhbXAiLCJ0b0FycmF5Iiwid2luZG93Iiwid2luZG93Q291bnQiLCJ3aW5kb3dUaW1lIiwid2luZG93VG9nZ2xlIiwid2luZG93V2hlbiIsIndpdGhMYXRlc3RGcm9tIiwiemlwQWxsIiwiemlwV2l0aCIsIl92YWx1ZSIsIl9oYXNWYWx1ZSIsIl9pc0NvbXBsZXRlIiwiX2NoZWNrRmluYWxpemVkU3RhdHVzZXMiLCJzdWJzY3JpYmVyIiwidGhpcyIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJpc1N0b3BwZWQiLCJlcnJvciIsIm5leHQiLCJjb21wbGV0ZSIsInZhbHVlIiwiZ2V0VmFsdWUiLCJfc3Vic2NyaWJlIiwic3Vic2NyaXB0aW9uIiwiY2xvc2VkIiwiX3Rocm93SWZDbG9zZWQiLCJraW5kIiwiaGFzVmFsdWUiLCJvYnNlcnZlIiwib2JzZXJ2ZXIiLCJvYnNlcnZlTm90aWZpY2F0aW9uIiwiZG8iLCJuZXh0SGFuZGxlciIsImVycm9ySGFuZGxlciIsImNvbXBsZXRlSGFuZGxlciIsImFjY2VwdCIsIm5leHRPck9ic2VydmVyIiwiaXNGdW5jdGlvbiIsInRvT2JzZXJ2YWJsZSIsInJlc3VsdCIsIlR5cGVFcnJvciIsImNyZWF0ZU5leHQiLCJjcmVhdGVFcnJvciIsImVyciIsInVuZGVmaW5lZCIsImNyZWF0ZUNvbXBsZXRlIiwiY29tcGxldGVOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJjcmVhdGVOb3RpZmljYXRpb24iLCJDT01QTEVURV9OT1RJRklDQVRJT04iLCJzdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJvYnNlcnZlck9yTmV4dCIsImlzT2JzZXJ2ZXIiLCJpc1N1YnNjcmlwdGlvbiIsIlNhZmVTdWJzY3JpYmVyIiwiZXJyb3JDb250ZXh0IiwiYWRkIiwiY2FsbCIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwidW5zdWJzY3JpYmUiLCJwaXBlRnJvbUFycmF5Iiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsIngiLCJjcmVhdGUiLCJQcm9taXNlIiwiX2J1ZmZlclNpemUiLCJfd2luZG93VGltZSIsIl90aW1lc3RhbXBQcm92aWRlciIsImRhdGVUaW1lc3RhbXBQcm92aWRlciIsIl9idWZmZXIiLCJfaW5maW5pdGVUaW1lV2luZG93IiwiSW5maW5pdHkiLCJNYXRoIiwicHVzaCIsIm5vdyIsIl90cmltQnVmZmVyIiwiX2lubmVyU3Vic2NyaWJlIiwiY29weSIsInNsaWNlIiwiaSIsImxlbmd0aCIsImFkanVzdGVkQnVmZmVyU2l6ZSIsInNwbGljZSIsInNjaGVkdWxlckFjdGlvbkN0b3IiLCJzY2hlZHVsZSIsIndvcmsiLCJzdGF0ZSIsImN1cnJlbnRPYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJzdWJqZWN0IiwiQW5vbnltb3VzU3ViamVjdCIsIkFycmF5Iiwic2hpZnQiLCJFTVBUWV9TVUJTQ1JJUFRJT04iLCJhcnJSZW1vdmUiLCJhc09ic2VydmFibGUiLCJkZXN0aW5hdGlvbiIsIkVNUFRZX09CU0VSVkVSIiwiaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbiIsIm5leHROb3RpZmljYXRpb24iLCJfbmV4dCIsImVycm9yTm90aWZpY2F0aW9uIiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX2JpbmQiLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsImJpbmQiLCJmbiIsInRoaXNBcmciLCJwYXJ0aWFsT2JzZXJ2ZXIiLCJoYW5kbGVVbmhhbmRsZWRFcnJvciIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsIkNvbnN1bWVyT2JzZXJ2ZXIiLCJ1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIiwiY2FwdHVyZUVycm9yIiwicmVwb3J0VW5oYW5kbGVkRXJyb3IiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJ0aW1lb3V0UHJvdmlkZXIiLCJzZXRUaW1lb3V0IiwiaW5pdGlhbFRlYXJkb3duIiwiX3BhcmVudGFnZSIsIl9maW5hbGl6ZXJzIiwiZXJyb3JzIiwiaXNBcnJheSIsInJlbW92ZSIsImluaXRpYWxGaW5hbGl6ZXIiLCJlIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsInRlYXJkb3duIiwiX2hhc1BhcmVudCIsIl9hZGRQYXJlbnQiLCJwYXJlbnQiLCJpbmNsdWRlcyIsIl9yZW1vdmVQYXJlbnQiLCJvblVuaGFuZGxlZEVycm9yIiwiaGFzQ29uZmlnIiwiZGVmYXVsdFZhbHVlIiwic3ViamVjdEZhY3RvcnkiLCJfc3ViamVjdCIsIl9yZWZDb3VudCIsIl9jb25uZWN0aW9uIiwiaGFzTGlmdCIsImdldFN1YmplY3QiLCJfdGVhcmRvd24iLCJjb25uZWN0aW9uIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwiY2FsbGJhY2tGdW5jIiwicmVzdWx0U2VsZWN0b3IiLCJzY2hlZHVsZXIiLCJiaW5kQ2FsbGJhY2tJbnRlcm5hbHMiLCJpc05vZGVTdHlsZSIsImlzU2NoZWR1bGVyIiwiYXBwbHkiLCJhcmdzIiwibWFwT25lT3JNYW55QXJncyIsInVuaW5pdGlhbGl6ZWQiLCJzdWJzIiwicmVzdWx0cyIsImNvbWJpbmVMYXRlc3RJbml0Iiwib2JzZXJ2YWJsZXMiLCJ2YWx1ZVRyYW5zZm9ybSIsIm1heWJlU2NoZWR1bGUiLCJ2YWx1ZXMiLCJhY3RpdmUiLCJyZW1haW5pbmdGaXJzdFZhbHVlcyIsImhhc0ZpcnN0VmFsdWUiLCJleGVjdXRlIiwiZXhlY3V0ZVNjaGVkdWxlIiwicG9wU2NoZWR1bGVyIiwicG9wUmVzdWx0U2VsZWN0b3IiLCJhcmdzQXJnQXJyYXlPck9iamVjdCIsImtleXMiLCJjcmVhdGVPYmplY3QiLCJERUZBVUxUX0NPTkZJRyIsImNvbm5lY3RvciIsInJlc2V0T25EaXNjb25uZWN0Iiwib2JzZXJ2YWJsZUZhY3RvcnkiLCJpbm5lckZyb20iLCJhbmltYXRpb25GcmFtZXNGYWN0b3J5IiwidGltZXN0YW1wUHJvdmlkZXIiLCJwcm92aWRlciIsInBlcmZvcm1hbmNlVGltZXN0YW1wUHJvdmlkZXIiLCJzdGFydCIsImlkIiwicnVuIiwiYW5pbWF0aW9uRnJhbWVQcm92aWRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIkRFRkFVTFRfQU5JTUFUSU9OX0ZSQU1FUyIsImVtcHR5U2NoZWR1bGVkIiwic291cmNlcyIsInJlbWFpbmluZ0NvbXBsZXRpb25zIiwicmVtYWluaW5nRW1pc3Npb25zIiwic291cmNlSW5kZXgiLCJpbnB1dCIsIm5vZGVFdmVudEVtaXR0ZXJNZXRob2RzIiwiZXZlbnRUYXJnZXRNZXRob2RzIiwianF1ZXJ5TWV0aG9kcyIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwibWV0aG9kTmFtZSIsImhhbmRsZXIiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyIiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwiaXNBcnJheUxpa2UiLCJzdWJUYXJnZXQiLCJhZGRIYW5kbGVyIiwicmVtb3ZlSGFuZGxlciIsInJldFZhbHVlIiwic3Vic2NyaWJhYmxlIiwiaW5pdGlhbFN0YXRlT3JPcHRpb25zIiwiY29uZGl0aW9uIiwiaXRlcmF0ZSIsInJlc3VsdFNlbGVjdG9yT3JTY2hlZHVsZXIiLCJpbml0aWFsU3RhdGUiLCJnZW4iLCJhcmd1bWVudHMiLCJzY2hlZHVsZUl0ZXJhYmxlIiwidHJ1ZVJlc3VsdCIsImZhbHNlUmVzdWx0IiwiZnJvbUludGVyb3BPYnNlcnZhYmxlIiwib2JqIiwib2JzIiwiZnJvbUFycmF5TGlrZSIsImFycmF5IiwiZnJvbVByb21pc2UiLCJwcm9taXNlIiwidGhlbiIsImZyb21JdGVyYWJsZSIsIml0ZXJhYmxlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJhc3luY0l0ZXJhYmxlIiwicHJvY2VzcyIsImNhdGNoIiwiZnJvbVJlYWRhYmxlU3RyZWFtTGlrZSIsInJlYWRhYmxlU3RyZWFtIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc1Byb21pc2UiLCJpc0FzeW5jSXRlcmFibGUiLCJpc0l0ZXJhYmxlIiwiaXNSZWFkYWJsZVN0cmVhbUxpa2UiLCJjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciIsInBlcmlvZCIsImNvbmN1cnJlbnQiLCJwb3BOdW1iZXIiLCJuZXh0U291cmNlcyIsImFyZ3NPckFyZ0FycmF5Iiwic3Vic2NyaWJlTmV4dCIsIm5leHRTb3VyY2UiLCJpbm5lclN1YnNjcmliZXIiLCJPcGVyYXRvclN1YnNjcmliZXIiLCJlbnRyaWVzIiwicHJlZGljYXRlIiwibm90IiwicmFjZUluaXQiLCJzdWJzY3JpcHRpb25zIiwicyIsImVuZCIsIm4iLCJlcnJvck9yRXJyb3JGYWN0b3J5IiwiZXJyb3JGYWN0b3J5IiwiaW5pdCIsImR1ZVRpbWUiLCJpbnRlcnZhbE9yU2NoZWR1bGVyIiwiaW50ZXJ2YWxEdXJhdGlvbiIsImR1ZSIsImlzVmFsaWREYXRlIiwicmVzb3VyY2VGYWN0b3J5IiwicmVzb3VyY2UiLCJidWZmZXJzIiwiY29tcGxldGVkIiwic29tZSIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsInNob3VsZFVuc3Vic2NyaWJlIiwiZHVyYXRpb25TZWxlY3RvciIsIm9wZXJhdGUiLCJsYXN0VmFsdWUiLCJkdXJhdGlvblN1YnNjcmliZXIiLCJpc0NvbXBsZXRlIiwiZW5kRHVyYXRpb24iLCJjbGVhbnVwRHVyYXRpb24iLCJkdXJhdGlvbiIsImNsb3NpbmdOb3RpZmllciIsImN1cnJlbnRCdWZmZXIiLCJiIiwiYnVmZmVyU2l6ZSIsInN0YXJ0QnVmZmVyRXZlcnkiLCJ0b0VtaXQiLCJidWZmZXJUaW1lU3BhbiIsIm90aGVyQXJncyIsImJ1ZmZlckNyZWF0aW9uSW50ZXJ2YWwiLCJtYXhCdWZmZXJTaXplIiwiYnVmZmVyUmVjb3JkcyIsInJlc3RhcnRPbkVtaXQiLCJlbWl0IiwicmVjb3JkIiwic3RhcnRCdWZmZXIiLCJidWZmZXJUaW1lU3Vic2NyaWJlciIsInJlY29yZHNDb3B5Iiwib3BlbmluZ3MiLCJjbG9zaW5nU2VsZWN0b3IiLCJvcGVuVmFsdWUiLCJjbG9zaW5nU3Vic2NyaXB0aW9uIiwiY2xvc2luZ1N1YnNjcmliZXIiLCJvcGVuQnVmZmVyIiwic2VsZWN0b3IiLCJoYW5kbGVkUmVzdWx0IiwiaW5uZXJTdWIiLCJzeW5jVW5zdWIiLCJwcm9qZWN0Iiwiam9pbkFsbEludGVybmFscyIsIm90aGVyU291cmNlcyIsImlubmVyT2JzZXJ2YWJsZSIsImZyb21TdWJzY3JpYmFibGUiLCJ0b3RhbCIsImFjdGl2ZVRhc2siLCJsYXN0VGltZSIsImVtaXRXaGVuSWRsZSIsInRhcmdldFRpbWUiLCJkZWxheUR1cmF0aW9uU2VsZWN0b3IiLCJzdWJzY3JpcHRpb25EZWxheSIsImluZGV4Iiwia2V5U2VsZWN0b3IiLCJmbHVzaGVzIiwiZGlzdGluY3RLZXlzIiwiU2V0Iiwia2V5IiwiaGFzIiwiY2xlYXIiLCJkZWZhdWx0Q29tcGFyZSIsImEiLCJjb21wYXJhdG9yIiwicHJldmlvdXNLZXkiLCJjdXJyZW50S2V5IiwiY29tcGFyZSIsInkiLCJoYXNEZWZhdWx0VmFsdWUiLCJ2IiwiaWkiLCJvdXRlclZhbHVlIiwibWVyZ2VJbnRlcm5hbHMiLCJjYWxsYmFjayIsImNyZWF0ZUZpbmQiLCJlbGVtZW50T3JPcHRpb25zIiwiZWxlbWVudCIsImdyb3VwcyIsIk1hcCIsIm5vdGlmeSIsImNiIiwiaGFuZGxlRXJyb3IiLCJjb25zdW1lciIsImFjdGl2ZUdyb3VwcyIsInRlYXJkb3duQXR0ZW1wdGVkIiwiZ3JvdXBCeVNvdXJjZVN1YnNjcmliZXIiLCJnZXQiLCJzZXQiLCJncm91cGVkIiwiZ3JvdXBTdWJqZWN0IiwiZ3JvdXBTdWJzY3JpYmVyIiwiZGVsZXRlIiwiam9pbkZuIiwiY29tcGFyZXIiLCJvbkJlZm9yZU5leHQiLCJpbm5lclN1YlNjaGVkdWxlciIsImFkZGl0aW9uYWxGaW5hbGl6ZXIiLCJjaGVja0NvbXBsZXRlIiwib3V0ZXJOZXh0IiwiZG9Jbm5lclN1YiIsImlubmVyQ29tcGxldGUiLCJpbm5lclZhbHVlIiwiYnVmZmVyZWRWYWx1ZSIsImFjY3VtdWxhdG9yIiwic2VlZCIsInN1YmplY3RPclN1YmplY3RGYWN0b3J5IiwicHJldiIsImhhc1ByZXYiLCJwIiwicHJvcGVydGllcyIsIkVycm9yIiwiY3VycmVudFByb3AiLCJpbml0aWFsVmFsdWUiLCJzZWxlY3Rvck9yU2NoZWR1bGVyIiwic2NhbkludGVybmFscyIsInJlZkNvdW50ZXIiLCJzaGFyZWRDb25uZWN0aW9uIiwiY29ubiIsImNvdW50T3JDb25maWciLCJzb3VyY2VTdWIiLCJzb0ZhciIsInJlc3Vic2NyaWJlIiwibm90aWZpZXIiLCJzdWJzY3JpYmVUb1NvdXJjZSIsImNvbXBsZXRpb25zJCIsInN5bmNSZXN1YiIsImlzTm90aWZpZXJDb21wbGV0ZSIsImlzTWFpbkNvbXBsZXRlIiwic3Vic2NyaWJlRm9yUmVwZWF0V2hlbiIsImNvbmZpZ09yQ291bnQiLCJyZXNldE9uU3VjY2VzcyIsInN1YnNjcmliZUZvclJldHJ5IiwiZXJyb3JzJCIsInN1YnNjcmliZUZvclJldHJ5V2hlbiIsImhhc1NlZWQiLCJlbWl0T25OZXh0IiwiZW1pdEJlZm9yZUNvbXBsZXRlIiwiaGFzU3RhdGUiLCJjb21wYXJlVG8iLCJhU3RhdGUiLCJiU3RhdGUiLCJpc0VxdWFsIiwiY3JlYXRlU3Vic2NyaWJlciIsInNlbGZTdGF0ZSIsIm90aGVyU3RhdGUiLCJzZXF1ZW5jZUVxdWFsU3Vic2NyaWJlciIsImhhbmRsZVJlc2V0IiwicmVzZXQiLCJvblN1YnNjcmliZXIiLCJyZXNldE9uRXJyb3IiLCJyZXNldE9uQ29tcGxldGUiLCJyZXNldE9uUmVmQ291bnRaZXJvIiwid3JhcHBlclNvdXJjZSIsInJlc2V0Q29ubmVjdGlvbiIsImhhc0NvbXBsZXRlZCIsImhhc0Vycm9yZWQiLCJjYW5jZWxSZXNldCIsInJlc2V0QW5kVW5zdWJzY3JpYmUiLCJkZXN0IiwiY29uZmlnT3JCdWZmZXJTaXplIiwic2luZ2xlVmFsdWUiLCJzZWVuVmFsdWUiLCJfIiwic2tpcENvdW50IiwicmluZyIsInNlZW4iLCJ2YWx1ZUluZGV4Iiwib2xkVmFsdWUiLCJ0YWtpbmciLCJza2lwU3Vic2NyaWJlciIsImlubmVySW5kZXgiLCJvdXRlckluZGV4IiwiaW5jbHVzaXZlIiwidGFwT2JzZXJ2ZXIiLCJpc1Vuc3ViIiwiZGVmYXVsdFRocm90dGxlQ29uZmlnIiwibGVhZGluZyIsInRyYWlsaW5nIiwic2VuZFZhbHVlIiwidGhyb3R0bGVkIiwiZW5kVGhyb3R0bGluZyIsInNlbmQiLCJjbGVhbnVwVGhyb3R0bGluZyIsInN0YXJ0VGhyb3R0bGUiLCJkdXJhdGlvbiQiLCJkZWZhdWx0RXJyb3JGYWN0b3J5IiwiVGltZUludGVydmFsIiwidGltZW91dEVycm9yRmFjdG9yeSIsImluZm8iLCJjcmVhdGVFcnJvckNsYXNzIiwiX3N1cGVyIiwibWVzc2FnZSIsIm5hbWUiLCJzY2hlZHVsZXJBcmciLCJlYWNoIiwid2l0aCIsIl93aXRoIiwibWV0YSIsIm9yaWdpbmFsU291cmNlU3Vic2NyaXB0aW9uIiwidGltZXJTdWJzY3JpcHRpb24iLCJzdGFydFRpbWVyIiwid2l0aE9ic2VydmFibGUiLCJhcnJSZWR1Y2VyIiwiYXJyIiwid2luZG93Qm91bmRhcmllcyIsIndpbmRvd1N1YmplY3QiLCJ3aW5kb3dTaXplIiwic3RhcnRXaW5kb3dFdmVyeSIsInN0YXJ0RXZlcnkiLCJ3aW5kb3dzIiwiYyIsIndpbmRvd1RpbWVTcGFuIiwid2luZG93Q3JlYXRpb25JbnRlcnZhbCIsIm1heFdpbmRvd1NpemUiLCJ3aW5kb3dSZWNvcmRzIiwicmVzdGFydE9uQ2xvc2UiLCJjbG9zZVdpbmRvdyIsInN0YXJ0V2luZG93IiwibG9vcCIsInRlcm1pbmF0ZSIsIndpbmRvd3NDb3B5Iiwib3BlbldpbmRvdyIsImlucHV0cyIsImxlbiIsIm90aGVyVmFsdWVzIiwicmVhZHkiLCJvdGhlcklucHV0cyIsIml0ZXJhdG9yIiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsImRvbmUiLCJyZXR1cm4iLCJzY2hlZHVsZUFzeW5jSXRlcmFibGUiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJzY2hlZHVsZUFycmF5Iiwic2NoZWR1bGVQcm9taXNlIiwic2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UiLCJBY3Rpb24iLCJyZXF1ZXN0QXN5bmNJZCIsImFjdGlvbnMiLCJfc2NoZWR1bGVkIiwiZmx1c2giLCJyZWN5Y2xlQXN5bmNJZCIsIkFzeW5jQWN0aW9uIiwiQW5pbWF0aW9uRnJhbWVBY3Rpb24iLCJhY3Rpb24iLCJfYWN0aXZlIiwiZmx1c2hJZCIsIkFzeW5jU2NoZWR1bGVyIiwiQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIiLCJpbW1lZGlhdGVQcm92aWRlciIsInNldEltbWVkaWF0ZSIsImNsZWFySW1tZWRpYXRlIiwiQXNhcEFjdGlvbiIsIkFzYXBTY2hlZHVsZXIiLCJwZW5kaW5nIiwiX2lkIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiX3NjaGVkdWxlciIsImNsZWFySW50ZXJ2YWwiLCJfZXhlY3V0ZSIsIl9kZWxheSIsImVycm9yVmFsdWUiLCJlcnJvcmVkIiwiU2NoZWR1bGVyQWN0aW9uIiwiUXVldWVBY3Rpb24iLCJRdWV1ZVNjaGVkdWxlciIsIm1heEZyYW1lcyIsImZyYW1lIiwiZnJhbWVUaW1lRmFjdG9yIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJzb3J0Iiwic29ydEFjdGlvbnMiLCJyZXF1ZXN0IiwiY2FuY2VsIiwiZGVsZWdhdGUiLCJoYW5kbGUiLCJEYXRlIiwiSW1tZWRpYXRlIiwicGVyZm9ybWFuY2UiLCJjbGVhclRpbWVvdXQiLCJnZXRTeW1ib2xJdGVyYXRvciIsInJlc29sdmVkIiwibmV4dEhhbmRsZSIsImFjdGl2ZUhhbmRsZXMiLCJmaW5kQW5kQ2xlYXJIYW5kbGUiLCJUZXN0VG9vbHMiLCJ0b1N0cmluZyIsImpvaW4iLCJwb3AiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvIiwiZ2V0S2V5cyIsIml0ZW0iLCJpbmRleE9mIiwiY3JlYXRlSW1wbCIsImN0b3JGdW5jIiwiaW5zdGFuY2UiLCJzdGFjayIsImNvbnN0cnVjdG9yIiwiY29udGV4dCIsImlzUm9vdCIsImVycm9yVGhyb3duIiwicGFyZW50U3Vic2NyaXB0aW9uIiwic2NoZWR1bGVTdWJzY3JpcHRpb24iLCJpc05hTiIsInJlYWRlciIsImdldFJlYWRlciIsInJlYWQiLCJyZWxlYXNlTG9jayIsImxpZnRlZFNvdXJjZSIsImNhbGxPckFwcGx5IiwicHJlZCIsImZucyIsImVudmlyb25tZW50IiwiYXBpQmFzZVVybCIsImh0dHAiLCJiYXNlVVJMIiwidXJsIiwicGFyYW1zIiwicmVzIiwiY29uc29sZSIsImxvZyIsImdldFNwZW50VG9kYXkiLCJodHRwR2V0Iiwic3RhdHVzIiwiZGF0YSIsImtpbmRPZiIsImNhY2hlIiwidGhpbmciLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsImtpbmRPZlRlc3QiLCJ0eXBlIiwidHlwZU9mVGVzdCIsImlzVW5kZWZpbmVkIiwiaXNBcnJheUJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc09iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ2YWwiLCJ0b1N0cmluZ1RhZyIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzRmlsZUxpc3QiLCJpc1VSTFNlYXJjaFBhcmFtcyIsImFsbE93bktleXMiLCJsIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZpbmRLZXkiLCJfa2V5IiwiX2dsb2JhbCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiZyIsImlzQ29udGV4dERlZmluZWQiLCJpc1R5cGVkQXJyYXkiLCJUeXBlZEFycmF5IiwiVWludDhBcnJheSIsImlzSFRNTEZvcm0iLCJoYXNPd25Qcm9wZXJ0eSIsInByb3AiLCJpc1JlZ0V4cCIsInJlZHVjZURlc2NyaXB0b3JzIiwicmVkdWNlciIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsInJlZHVjZWREZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidXRpbHMiLCJpc0J1ZmZlciIsImlzRm9ybURhdGEiLCJwYXR0ZXJuIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiaXNCb29sZWFuIiwiaXNTdHJlYW0iLCJjYXNlbGVzcyIsImFzc2lnblZhbHVlIiwidGFyZ2V0S2V5IiwiZXh0ZW5kIiwidHJpbSIsInJlcGxhY2UiLCJzdHJpcEJPTSIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiaW5oZXJpdHMiLCJzdXBlckNvbnN0cnVjdG9yIiwicHJvcHMiLCJkZWZpbmVQcm9wZXJ0eSIsImFzc2lnbiIsInRvRmxhdE9iamVjdCIsInNvdXJjZU9iaiIsImRlc3RPYmoiLCJwcm9wRmlsdGVyIiwibWVyZ2VkIiwiZW5kc1dpdGgiLCJzZWFyY2hTdHJpbmciLCJwb3NpdGlvbiIsIlN0cmluZyIsImxhc3RJbmRleCIsImZvckVhY2hFbnRyeSIsInBhaXIiLCJtYXRjaEFsbCIsInJlZ0V4cCIsIm1hdGNoZXMiLCJleGVjIiwiaGFzT3duUHJvcCIsImZyZWV6ZU1ldGhvZHMiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJ0b09iamVjdFNldCIsImFycmF5T3JTdHJpbmciLCJkZWxpbWl0ZXIiLCJkZWZpbmUiLCJzcGxpdCIsInRvQ2FtZWxDYXNlIiwibSIsInAxIiwicDIiLCJ0b1VwcGVyQ2FzZSIsInRvRmluaXRlTnVtYmVyIiwiZ2xvYmFsIiwidG9KU09OT2JqZWN0IiwidmlzaXQiLCJyZWR1Y2VkVmFsdWUiLCJBeGlvc0Vycm9yIiwiY29kZSIsInJlc3BvbnNlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInByb3RvdHlwZSQxIiwiY3VzdG9tUHJvcHMiLCJheGlvc0Vycm9yIiwiY2F1c2UiLCJGb3JtRGF0YSQyIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsInBhdGgiLCJkb3RzIiwidG9rZW4iLCJwcmVkaWNhdGVzIiwidGVzdCIsInRvRm9ybURhdGEiLCJmb3JtRGF0YSIsIm1ldGFUb2tlbnMiLCJpbmRleGVzIiwib3B0aW9uIiwidmlzaXRvciIsImRlZmF1bHRWaXNpdG9yIiwidXNlQmxvYiIsIkJsb2IiLCJhcHBlbmQiLCJjb252ZXJ0VmFsdWUiLCJ0b0lTT1N0cmluZyIsIkJ1ZmZlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc0ZsYXRBcnJheSIsImVsIiwiZXhwb3NlZEhlbHBlcnMiLCJidWlsZCIsImVuY29kZSQxIiwiY2hhck1hcCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1hdGNoIiwiQXhpb3NVUkxTZWFyY2hQYXJhbXMiLCJfcGFpcnMiLCJlbmNvZGUiLCJidWlsZFVSTCIsIl9lbmNvZGUiLCJzZXJpYWxpemVGbiIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZWRQYXJhbXMiLCJoYXNobWFya0luZGV4IiwiZW5jb2RlciIsIkludGVyY2VwdG9yTWFuYWdlciQxIiwiaGFuZGxlcnMiLCJ1c2UiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInN5bmNocm9ub3VzIiwicnVuV2hlbiIsImVqZWN0IiwiaCIsInRyYW5zaXRpb25hbERlZmF1bHRzIiwic2lsZW50SlNPTlBhcnNpbmciLCJmb3JjZWRKU09OUGFyc2luZyIsImNsYXJpZnlUaW1lb3V0RXJyb3IiLCJVUkxTZWFyY2hQYXJhbXMkMSIsIlVSTFNlYXJjaFBhcmFtcyIsIkZvcm1EYXRhJDEiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsInByb2R1Y3QiLCJuYXZpZ2F0b3IiLCJkb2N1bWVudCIsImlzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52IiwiV29ya2VyR2xvYmFsU2NvcGUiLCJpbXBvcnRTY3JpcHRzIiwicGxhdGZvcm0iLCJpc0Jyb3dzZXIiLCJjbGFzc2VzIiwicHJvdG9jb2xzIiwiZm9ybURhdGFUb0pTT04iLCJidWlsZFBhdGgiLCJpc051bWVyaWNLZXkiLCJpc0xhc3QiLCJhcnJheVRvT2JqZWN0IiwicGFyc2VQcm9wUGF0aCIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwiZGVmYXVsdHMiLCJ0cmFuc2l0aW9uYWwiLCJhZGFwdGVyIiwidHJhbnNmb3JtUmVxdWVzdCIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsImdldENvbnRlbnRUeXBlIiwiaGFzSlNPTkNvbnRlbnRUeXBlIiwiaXNPYmplY3RQYXlsb2FkIiwic2V0Q29udGVudFR5cGUiLCJoZWxwZXJzIiwiaXNOb2RlIiwidG9VUkxFbmNvZGVkRm9ybSIsImZvcm1TZXJpYWxpemVyIiwiX0Zvcm1EYXRhIiwiZW52IiwicmF3VmFsdWUiLCJwYXJzZXIiLCJwYXJzZSIsInN0cmluZ2lmeVNhZmVseSIsInRyYW5zZm9ybVJlc3BvbnNlIiwiSlNPTlJlcXVlc3RlZCIsInJlc3BvbnNlVHlwZSIsInN0cmljdEpTT05QYXJzaW5nIiwiRVJSX0JBRF9SRVNQT05TRSIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwibWF4Qm9keUxlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwiY29tbW9uIiwibWV0aG9kIiwiZGVmYXVsdHMkMSIsImlnbm9yZUR1cGxpY2F0ZU9mIiwiJGludGVybmFscyIsIm5vcm1hbGl6ZUhlYWRlciIsImhlYWRlciIsIm5vcm1hbGl6ZVZhbHVlIiwibWF0Y2hIZWFkZXJWYWx1ZSIsIkF4aW9zSGVhZGVycyIsInZhbHVlT3JSZXdyaXRlIiwicmV3cml0ZSIsInNldEhlYWRlciIsIl9oZWFkZXIiLCJfcmV3cml0ZSIsImxIZWFkZXIiLCJzZXRIZWFkZXJzIiwicmF3SGVhZGVycyIsInBhcnNlZCIsImxpbmUiLCJzdWJzdHJpbmciLCJwYXJzZUhlYWRlcnMiLCJ0b2tlbnMiLCJ0b2tlbnNSRSIsInBhcnNlVG9rZW5zIiwibWF0Y2hlciIsImRlbGV0ZWQiLCJkZWxldGVIZWFkZXIiLCJub3JtYWxpemUiLCJmb3JtYXQiLCJub3JtYWxpemVkIiwidyIsImNoYXIiLCJmb3JtYXRIZWFkZXIiLCJ0YXJnZXRzIiwiYXNTdHJpbmdzIiwic3RhdGljIiwiY29tcHV0ZWQiLCJhY2Nlc3NvcnMiLCJkZWZpbmVBY2Nlc3NvciIsImFjY2Vzc29yTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImNvbmZpZ3VyYWJsZSIsImJ1aWxkQWNjZXNzb3JzIiwiYWNjZXNzb3IiLCJBeGlvc0hlYWRlcnMkMSIsInRyYW5zZm9ybURhdGEiLCJpc0NhbmNlbCIsIl9fQ0FOQ0VMX18iLCJDYW5jZWxlZEVycm9yIiwiRVJSX0NBTkNFTEVEIiwiY29va2llcyIsIndyaXRlIiwiZXhwaXJlcyIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsInRvR01UU3RyaW5nIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYnVpbGRGdWxsUGF0aCIsInJlcXVlc3RlZFVSTCIsInJlbGF0aXZlVVJMIiwiY29tYmluZVVSTHMiLCJpc1VSTFNhbWVPcmlnaW4iLCJtc2llIiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJjcmVhdGVFbGVtZW50Iiwib3JpZ2luVVJMIiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJjaGFyQXQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsImxpc3RlbmVyIiwiaXNEb3dubG9hZFN0cmVhbSIsImJ5dGVzTm90aWZpZWQiLCJfc3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJieXRlcyIsInRpbWVzdGFtcHMiLCJmaXJzdFNhbXBsZVRTIiwiaGVhZCIsInRhaWwiLCJjaHVua0xlbmd0aCIsInN0YXJ0ZWRBdCIsImJ5dGVzQ291bnQiLCJwYXNzZWQiLCJyb3VuZCIsInNwZWVkb21ldGVyIiwibG9hZGVkIiwibGVuZ3RoQ29tcHV0YWJsZSIsInByb2dyZXNzQnl0ZXMiLCJyYXRlIiwicHJvZ3Jlc3MiLCJlc3RpbWF0ZWQiLCJldmVudCIsImtub3duQWRhcHRlcnMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJvbkNhbmNlbGVkIiwiY2FuY2VsVG9rZW4iLCJzaWduYWwiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVuZXNjYXBlIiwiYnRvYSIsImZ1bGxQYXRoIiwib25sb2FkZW5kIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiRVJSX0JBRF9SRVFVRVNUIiwiZmxvb3IiLCJzZXR0bGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib3BlbiIsInBhcmFtc1NlcmlhbGl6ZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJvbmFib3J0IiwiRUNPTk5BQk9SVEVEIiwib25lcnJvciIsIkVSUl9ORVRXT1JLIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsIkVUSU1FRE9VVCIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiYWJvcnQiLCJhYm9ydGVkIiwicGFyc2VQcm90b2NvbCIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiYWRhcHRlcnMiLCJuYW1lT3JBZGFwdGVyIiwicmVhc29uIiwiaGVhZGVyc1RvT2JqZWN0IiwibWVyZ2VDb25maWciLCJjb25maWcxIiwiY29uZmlnMiIsImdldE1lcmdlZFZhbHVlIiwibWVyZ2VEZWVwUHJvcGVydGllcyIsInZhbHVlRnJvbUNvbmZpZzIiLCJkZWZhdWx0VG9Db25maWcyIiwibWVyZ2VEaXJlY3RLZXlzIiwidGltZW91dE1lc3NhZ2UiLCJkZWNvbXByZXNzIiwiYmVmb3JlUmVkaXJlY3QiLCJ0cmFuc3BvcnQiLCJodHRwQWdlbnQiLCJodHRwc0FnZW50Iiwic29ja2V0UGF0aCIsInJlc3BvbnNlRW5jb2RpbmciLCJjb25maWdWYWx1ZSIsInZhbGlkYXRvcnMkMSIsImRlcHJlY2F0ZWRXYXJuaW5ncyIsInZhbGlkYXRvciIsInZlcnNpb24iLCJmb3JtYXRNZXNzYWdlIiwib3B0IiwiZGVzYyIsIm9wdHMiLCJFUlJfREVQUkVDQVRFRCIsIndhcm4iLCJhc3NlcnRPcHRpb25zIiwic2NoZW1hIiwiYWxsb3dVbmtub3duIiwiRVJSX0JBRF9PUFRJT05fVkFMVUUiLCJFUlJfQkFEX09QVElPTiIsInZhbGlkYXRvcnMiLCJBeGlvcyIsImluc3RhbmNlQ29uZmlnIiwiaW50ZXJjZXB0b3JzIiwiY29uZmlnT3JVcmwiLCJjb250ZXh0SGVhZGVycyIsImJvb2xlYW4iLCJmdW5jdGlvbiIsInJlcXVlc3RJbnRlcmNlcHRvckNoYWluIiwic3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwicmVzcG9uc2VJbnRlcmNlcHRvckNoYWluIiwiY2hhaW4iLCJuZXdDb25maWciLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJnZXRVcmkiLCJnZW5lcmF0ZUhUVFBNZXRob2QiLCJpc0Zvcm0iLCJBeGlvcyQxIiwiQ2FuY2VsVG9rZW4iLCJleGVjdXRvciIsInJlc29sdmVQcm9taXNlIiwiX2xpc3RlbmVycyIsIm9uZnVsZmlsbGVkIiwiX3Jlc29sdmUiLCJDYW5jZWxUb2tlbiQxIiwiSHR0cFN0YXR1c0NvZGUiLCJDb250aW51ZSIsIlN3aXRjaGluZ1Byb3RvY29scyIsIlByb2Nlc3NpbmciLCJFYXJseUhpbnRzIiwiT2siLCJDcmVhdGVkIiwiQWNjZXB0ZWQiLCJOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb24iLCJOb0NvbnRlbnQiLCJSZXNldENvbnRlbnQiLCJQYXJ0aWFsQ29udGVudCIsIk11bHRpU3RhdHVzIiwiQWxyZWFkeVJlcG9ydGVkIiwiSW1Vc2VkIiwiTXVsdGlwbGVDaG9pY2VzIiwiTW92ZWRQZXJtYW5lbnRseSIsIkZvdW5kIiwiU2VlT3RoZXIiLCJOb3RNb2RpZmllZCIsIlVzZVByb3h5IiwiVW51c2VkIiwiVGVtcG9yYXJ5UmVkaXJlY3QiLCJQZXJtYW5lbnRSZWRpcmVjdCIsIkJhZFJlcXVlc3QiLCJVbmF1dGhvcml6ZWQiLCJQYXltZW50UmVxdWlyZWQiLCJGb3JiaWRkZW4iLCJOb3RGb3VuZCIsIk1ldGhvZE5vdEFsbG93ZWQiLCJOb3RBY2NlcHRhYmxlIiwiUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkIiwiUmVxdWVzdFRpbWVvdXQiLCJDb25mbGljdCIsIkdvbmUiLCJMZW5ndGhSZXF1aXJlZCIsIlByZWNvbmRpdGlvbkZhaWxlZCIsIlBheWxvYWRUb29MYXJnZSIsIlVyaVRvb0xvbmciLCJVbnN1cHBvcnRlZE1lZGlhVHlwZSIsIlJhbmdlTm90U2F0aXNmaWFibGUiLCJFeHBlY3RhdGlvbkZhaWxlZCIsIkltQVRlYXBvdCIsIk1pc2RpcmVjdGVkUmVxdWVzdCIsIlVucHJvY2Vzc2FibGVFbnRpdHkiLCJMb2NrZWQiLCJGYWlsZWREZXBlbmRlbmN5IiwiVG9vRWFybHkiLCJVcGdyYWRlUmVxdWlyZWQiLCJQcmVjb25kaXRpb25SZXF1aXJlZCIsIlRvb01hbnlSZXF1ZXN0cyIsIlJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZSIsIlVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIk5vdEltcGxlbWVudGVkIiwiQmFkR2F0ZXdheSIsIlNlcnZpY2VVbmF2YWlsYWJsZSIsIkdhdGV3YXlUaW1lb3V0IiwiSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQiLCJWYXJpYW50QWxzb05lZ290aWF0ZXMiLCJJbnN1ZmZpY2llbnRTdG9yYWdlIiwiTG9vcERldGVjdGVkIiwiTm90RXh0ZW5kZWQiLCJOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZCIsIkh0dHBTdGF0dXNDb2RlJDEiLCJheGlvcyIsImNyZWF0ZUluc3RhbmNlIiwiZGVmYXVsdENvbmZpZyIsIlZFUlNJT04iLCJDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsImlzQXhpb3NFcnJvciIsInBheWxvYWQiLCJmb3JtVG9KU09OIiwiZGVmYXVsdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiciIsInRvZGF5IiwiZmV0Y2hEYXRhIiwibWVhc3VyZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBvd2VyQ29uc3VtZWQiLCJpbm5lckhUTUwiLCJjb3N0IiwidXBkYXRlU3RhdGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3R5bGUiLCJkaXNwbGF5IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInZpc2liaWxpdHkiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0SXRlbSIsImRheSIsImZpcnN0VGltZVNldHRpbmdzIl0sInNvdXJjZVJvb3QiOiIifQ==